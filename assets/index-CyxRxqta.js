import{j as u,u as ze,c as wu,t as YW,a as Le,b as Od,d as a5,S as XW}from"./ui-NAIPmtYO.js";import{b as QW,a as S,R as I,c as Xr,d as o5,e as s5,N as l5,L as yr,O as JW,u as c5,g as Cd,f as ot,h as u5,i as kr,B as ZW,j as eH,k as Pn,l as tH}from"./vendor-Bbrlq4ga.js";function nH(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var tf={},FE;function rH(){if(FE)return tf;FE=1;var e=QW();return tf.createRoot=e.createRoot,tf.hydrateRoot=e.hydrateRoot,tf}var iH=rH();const aH=1,oH=1e6;let Ug=0;function sH(){return Ug=(Ug+1)%Number.MAX_SAFE_INTEGER,Ug.toString()}const Vg=new Map,BE=e=>{if(Vg.has(e))return;const t=setTimeout(()=>{Vg.delete(e),eu({type:"REMOVE_TOAST",toastId:e})},oH);Vg.set(e,t)},lH=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,aH)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?BE(n):e.toasts.forEach(r=>{BE(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Xf=[];let Qf={toasts:[]};function eu(e){Qf=lH(Qf,e),Xf.forEach(t=>{t(Qf)})}function cH({...e}){const t=sH(),n=i=>eu({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>eu({type:"DISMISS_TOAST",toastId:t});return eu({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function d5(){const[e,t]=S.useState(Qf);return S.useEffect(()=>(Xf.push(t),()=>{const n=Xf.indexOf(t);n>-1&&Xf.splice(n,1)}),[e]),{...e,toast:cH,dismiss:n=>eu({type:"DISMISS_TOAST",toastId:n})}}function Ee(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}function uH(e,t){const n=S.createContext(t),r=a=>{const{children:o,...s}=a,l=S.useMemo(()=>s,Object.values(s));return u.jsx(n.Provider,{value:l,children:o})};r.displayName=e+"Provider";function i(a){const o=S.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,i]}function Bn(e,t=[]){let n=[];function r(a,o){const s=S.createContext(o),l=n.length;n=[...n,o];const c=f=>{const{scope:h,children:p,...y}=f,m=h?.[e]?.[l]||s,g=S.useMemo(()=>y,Object.values(y));return u.jsx(m.Provider,{value:g,children:p})};c.displayName=a+"Provider";function d(f,h){const p=h?.[e]?.[l]||s,y=S.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[c,d]}const i=()=>{const a=n.map(o=>S.createContext(o));return function(s){const l=s?.[e]||a;return S.useMemo(()=>({[`__scope${e}`]:{...s,[e]:l}}),[s,l])}};return i.scopeName=e,[r,dH(i,...t)]}function dH(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((s,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...s,...f}},{});return S.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function rm(e){const t=e+"CollectionProvider",[n,r]=Bn(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:g,children:v}=m,b=I.useRef(null),x=I.useRef(new Map).current;return u.jsx(i,{scope:g,itemMap:x,collectionRef:b,children:v})};o.displayName=t;const s=e+"CollectionSlot",l=wu(s),c=I.forwardRef((m,g)=>{const{scope:v,children:b}=m,x=a(s,v),_=ze(g,x.collectionRef);return u.jsx(l,{ref:_,children:b})});c.displayName=s;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=wu(d),p=I.forwardRef((m,g)=>{const{scope:v,children:b,...x}=m,_=I.useRef(null),w=ze(g,_),j=a(d,v);return I.useEffect(()=>(j.itemMap.set(_,{ref:_,...x}),()=>{j.itemMap.delete(_)})),u.jsx(h,{[f]:"",ref:w,children:b})});p.displayName=d;function y(m){const g=a(e+"CollectionConsumer",m);return I.useCallback(()=>{const b=g.collectionRef.current;if(!b)return[];const x=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(g.itemMap.values()).sort((j,k)=>x.indexOf(j.ref.current)-x.indexOf(k.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:c,ItemSlot:p},y,r]}var fH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ae=fH.reduce((e,t)=>{const n=wu(`Primitive.${t}`),r=S.forwardRef((i,a)=>{const{asChild:o,...s}=i,l=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...s,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function w_(e,t){e&&Xr.flushSync(()=>e.dispatchEvent(t))}function Ut(e){const t=S.useRef(e);return S.useEffect(()=>{t.current=e}),S.useMemo(()=>(...n)=>t.current?.(...n),[])}function f5(e,t=globalThis?.document){const n=Ut(e);S.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var hH="DismissableLayer",uw="dismissableLayer.update",pH="dismissableLayer.pointerDownOutside",mH="dismissableLayer.focusOutside",qE,h5=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),im=S.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:s,...l}=e,c=S.useContext(h5),[d,f]=S.useState(null),h=d?.ownerDocument??globalThis?.document,[,p]=S.useState({}),y=ze(t,k=>f(k)),m=Array.from(c.layers),[g]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(g),b=d?m.indexOf(d):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,_=b>=v,w=yH(k=>{const A=k.target,P=[...c.branches].some(O=>O.contains(A));!_||P||(i?.(k),o?.(k),k.defaultPrevented||s?.())},h),j=vH(k=>{const A=k.target;[...c.branches].some(O=>O.contains(A))||(a?.(k),o?.(k),k.defaultPrevented||s?.())},h);return f5(k=>{b===c.layers.size-1&&(r?.(k),!k.defaultPrevented&&s&&(k.preventDefault(),s()))},h),S.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(qE=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),UE(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=qE)}},[d,h,n,c]),S.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),UE())},[d,c]),S.useEffect(()=>{const k=()=>p({});return document.addEventListener(uw,k),()=>document.removeEventListener(uw,k)},[]),u.jsx(Ae.div,{...l,ref:y,style:{pointerEvents:x?_?"auto":"none":void 0,...e.style},onFocusCapture:Ee(e.onFocusCapture,j.onFocusCapture),onBlurCapture:Ee(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:Ee(e.onPointerDownCapture,w.onPointerDownCapture)})});im.displayName=hH;var gH="DismissableLayerBranch",p5=S.forwardRef((e,t)=>{const n=S.useContext(h5),r=S.useRef(null),i=ze(t,r);return S.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),u.jsx(Ae.div,{...e,ref:i})});p5.displayName=gH;function yH(e,t=globalThis?.document){const n=Ut(e),r=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{const a=s=>{if(s.target&&!r.current){let l=function(){m5(pH,n,c,{discrete:!0})};const c={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function vH(e,t=globalThis?.document){const n=Ut(e),r=S.useRef(!1);return S.useEffect(()=>{const i=a=>{a.target&&!r.current&&m5(mH,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function UE(){const e=new CustomEvent(uw);document.dispatchEvent(e)}function m5(e,t,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?w_(i,a):i.dispatchEvent(a)}var bH=im,xH=p5,Qt=globalThis?.document?S.useLayoutEffect:()=>{},wH="Portal",am=S.forwardRef((e,t)=>{const{container:n,...r}=e,[i,a]=S.useState(!1);Qt(()=>a(!0),[]);const o=n||i&&globalThis?.document?.body;return o?o5.createPortal(u.jsx(Ae.div,{...r,ref:t}),o):null});am.displayName=wH;function SH(e,t){return S.useReducer((n,r)=>t[n][r]??n,e)}var sa=e=>{const{present:t,children:n}=e,r=_H(t),i=typeof n=="function"?n({present:r.isPresent}):S.Children.only(n),a=ze(r.ref,jH(i));return typeof n=="function"||r.isPresent?S.cloneElement(i,{ref:a}):null};sa.displayName="Presence";function _H(e){const[t,n]=S.useState(),r=S.useRef(null),i=S.useRef(e),a=S.useRef("none"),o=e?"mounted":"unmounted",[s,l]=SH(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const c=nf(r.current);a.current=s==="mounted"?c:"none"},[s]),Qt(()=>{const c=r.current,d=i.current;if(d!==e){const h=a.current,p=nf(c);e?l("MOUNT"):p==="none"||c?.display==="none"?l("UNMOUNT"):l(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),Qt(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,f=p=>{const m=nf(r.current).includes(p.animationName);if(p.target===t&&m&&(l("ANIMATION_END"),!i.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},h=p=>{p.target===t&&(a.current=nf(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:S.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function nf(e){return e?.animationName||"none"}function jH(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var kH=s5[" useInsertionEffect ".trim().toString()]||Qt;function Si({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,a,o]=EH({defaultProp:t,onChange:n}),s=e!==void 0,l=s?e:i;{const d=S.useRef(e!==void 0);S.useEffect(()=>{const f=d.current;f!==s&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=s},[s,r])}const c=S.useCallback(d=>{if(s){const f=AH(d)?d(e):d;f!==e&&o.current?.(f)}else a(d)},[s,e,a,o]);return[l,c]}function EH({defaultProp:e,onChange:t}){const[n,r]=S.useState(e),i=S.useRef(n),a=S.useRef(t);return kH(()=>{a.current=t},[t]),S.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,r,a]}function AH(e){return typeof e=="function"}var g5=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),OH="VisuallyHidden",om=S.forwardRef((e,t)=>u.jsx(Ae.span,{...e,ref:t,style:{...g5,...e.style}}));om.displayName=OH;var CH=om,S_="ToastProvider",[__,PH,TH]=rm("Toast"),[y5]=Bn("Toast",[TH]),[NH,sm]=y5(S_),v5=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=e,[s,l]=S.useState(null),[c,d]=S.useState(0),f=S.useRef(!1),h=S.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${S_}\`. Expected non-empty \`string\`.`),u.jsx(__.Provider,{scope:t,children:u.jsx(NH,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:c,viewport:s,onViewportChange:l,onToastAdd:S.useCallback(()=>d(p=>p+1),[]),onToastRemove:S.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};v5.displayName=S_;var b5="ToastViewport",RH=["F8"],dw="toast.viewportPause",fw="toast.viewportResume",x5=S.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=RH,label:i="Notifications ({hotkey})",...a}=e,o=sm(b5,n),s=PH(n),l=S.useRef(null),c=S.useRef(null),d=S.useRef(null),f=S.useRef(null),h=ze(t,f,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;S.useEffect(()=>{const g=v=>{r.length!==0&&r.every(x=>v[x]||v.code===x)&&f.current?.focus()};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[r]),S.useEffect(()=>{const g=l.current,v=f.current;if(y&&g&&v){const b=()=>{if(!o.isClosePausedRef.current){const j=new CustomEvent(dw);v.dispatchEvent(j),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const j=new CustomEvent(fw);v.dispatchEvent(j),o.isClosePausedRef.current=!1}},_=j=>{!g.contains(j.relatedTarget)&&x()},w=()=>{g.contains(document.activeElement)||x()};return g.addEventListener("focusin",b),g.addEventListener("focusout",_),g.addEventListener("pointermove",b),g.addEventListener("pointerleave",w),window.addEventListener("blur",b),window.addEventListener("focus",x),()=>{g.removeEventListener("focusin",b),g.removeEventListener("focusout",_),g.removeEventListener("pointermove",b),g.removeEventListener("pointerleave",w),window.removeEventListener("blur",b),window.removeEventListener("focus",x)}}},[y,o.isClosePausedRef]);const m=S.useCallback(({tabbingDirection:g})=>{const b=s().map(x=>{const _=x.ref.current,w=[_,...HH(_)];return g==="forwards"?w:w.reverse()});return(g==="forwards"?b.reverse():b).flat()},[s]);return S.useEffect(()=>{const g=f.current;if(g){const v=b=>{const x=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!x){const w=document.activeElement,j=b.shiftKey;if(b.target===g&&j){c.current?.focus();return}const P=m({tabbingDirection:j?"backwards":"forwards"}),O=P.findIndex(T=>T===w);Wg(P.slice(O+1))?b.preventDefault():j?c.current?.focus():d.current?.focus()}};return g.addEventListener("keydown",v),()=>g.removeEventListener("keydown",v)}},[s,m]),u.jsxs(xH,{ref:l,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&u.jsx(hw,{ref:c,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"forwards"});Wg(g)}}),u.jsx(__.Slot,{scope:n,children:u.jsx(Ae.ol,{tabIndex:-1,...a,ref:h})}),y&&u.jsx(hw,{ref:d,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"backwards"});Wg(g)}})]})});x5.displayName=b5;var w5="ToastFocusProxy",hw=S.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,a=sm(w5,n);return u.jsx(om,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{const s=o.relatedTarget;!a.viewport?.contains(s)&&r()}})});hw.displayName=w5;var Pd="Toast",IH="toast.swipeStart",MH="toast.swipeMove",DH="toast.swipeCancel",$H="toast.swipeEnd",S5=S.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:a,...o}=e,[s,l]=Si({prop:r,defaultProp:i??!0,onChange:a,caller:Pd});return u.jsx(sa,{present:n||s,children:u.jsx(FH,{open:s,...o,ref:t,onClose:()=>l(!1),onPause:Ut(e.onPause),onResume:Ut(e.onResume),onSwipeStart:Ee(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ee(e.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ee(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ee(e.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});S5.displayName=Pd;var[LH,zH]=y5(Pd,{onClose(){}}),FH=S.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:s,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...y}=e,m=sm(Pd,n),[g,v]=S.useState(null),b=ze(t,E=>v(E)),x=S.useRef(null),_=S.useRef(null),w=i||m.duration,j=S.useRef(0),k=S.useRef(w),A=S.useRef(0),{onToastAdd:P,onToastRemove:O}=m,T=Ut(()=>{g?.contains(document.activeElement)&&m.viewport?.focus(),o()}),N=S.useCallback(E=>{!E||E===1/0||(window.clearTimeout(A.current),j.current=new Date().getTime(),A.current=window.setTimeout(T,E))},[T]);S.useEffect(()=>{const E=m.viewport;if(E){const R=()=>{N(k.current),c?.()},F=()=>{const z=new Date().getTime()-j.current;k.current=k.current-z,window.clearTimeout(A.current),l?.()};return E.addEventListener(dw,F),E.addEventListener(fw,R),()=>{E.removeEventListener(dw,F),E.removeEventListener(fw,R)}}},[m.viewport,w,l,c,N]),S.useEffect(()=>{a&&!m.isClosePausedRef.current&&N(w)},[a,w,m.isClosePausedRef,N]),S.useEffect(()=>(P(),()=>O()),[P,O]);const M=S.useMemo(()=>g?C5(g):null,[g]);return m.viewport?u.jsxs(u.Fragment,{children:[M&&u.jsx(BH,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:M}),u.jsx(LH,{scope:n,onClose:T,children:Xr.createPortal(u.jsx(__.ItemSlot,{scope:n,children:u.jsx(bH,{asChild:!0,onEscapeKeyDown:Ee(s,()=>{m.isFocusedToastEscapeKeyDownRef.current||T(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(Ae.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":m.swipeDirection,...y,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ee(e.onKeyDown,E=>{E.key==="Escape"&&(s?.(E.nativeEvent),E.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,T()))}),onPointerDown:Ee(e.onPointerDown,E=>{E.button===0&&(x.current={x:E.clientX,y:E.clientY})}),onPointerMove:Ee(e.onPointerMove,E=>{if(!x.current)return;const R=E.clientX-x.current.x,F=E.clientY-x.current.y,z=!!_.current,q=["left","right"].includes(m.swipeDirection),L=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,D=q?L(0,R):0,W=q?0:L(0,F),B=E.pointerType==="touch"?10:2,$={x:D,y:W},Q={originalEvent:E,delta:$};z?(_.current=$,rf(MH,f,Q,{discrete:!1})):VE($,m.swipeDirection,B)?(_.current=$,rf(IH,d,Q,{discrete:!1}),E.target.setPointerCapture(E.pointerId)):(Math.abs(R)>B||Math.abs(F)>B)&&(x.current=null)}),onPointerUp:Ee(e.onPointerUp,E=>{const R=_.current,F=E.target;if(F.hasPointerCapture(E.pointerId)&&F.releasePointerCapture(E.pointerId),_.current=null,x.current=null,R){const z=E.currentTarget,q={originalEvent:E,delta:R};VE(R,m.swipeDirection,m.swipeThreshold)?rf($H,p,q,{discrete:!0}):rf(DH,h,q,{discrete:!0}),z.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),BH=e=>{const{__scopeToast:t,children:n,...r}=e,i=sm(Pd,t),[a,o]=S.useState(!1),[s,l]=S.useState(!1);return VH(()=>o(!0)),S.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),s?null:u.jsx(am,{asChild:!0,children:u.jsx(om,{...r,children:a&&u.jsxs(u.Fragment,{children:[i.label," ",n]})})})},qH="ToastTitle",_5=S.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return u.jsx(Ae.div,{...r,ref:t})});_5.displayName=qH;var UH="ToastDescription",j5=S.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return u.jsx(Ae.div,{...r,ref:t})});j5.displayName=UH;var k5="ToastAction",E5=S.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?u.jsx(O5,{altText:n,asChild:!0,children:u.jsx(j_,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${k5}\`. Expected non-empty \`string\`.`),null)});E5.displayName=k5;var A5="ToastClose",j_=S.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=zH(A5,n);return u.jsx(O5,{asChild:!0,children:u.jsx(Ae.button,{type:"button",...r,ref:t,onClick:Ee(e.onClick,i.onClose)})})});j_.displayName=A5;var O5=S.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return u.jsx(Ae.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function C5(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),WH(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...C5(r))}}),t}function rf(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?w_(i,a):i.dispatchEvent(a)}var VE=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),a=r>i;return t==="left"||t==="right"?a&&r>n:!a&&i>n};function VH(e=()=>{}){const t=Ut(e);Qt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function WH(e){return e.nodeType===e.ELEMENT_NODE}function HH(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Wg(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var GH=v5,P5=x5,T5=S5,N5=_5,R5=j5,I5=E5,M5=j_;const KH=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),D5=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();var YH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const XH=S.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...s},l)=>S.createElement("svg",{ref:l,...YH,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:D5("lucide",i),...s},[...o.map(([c,d])=>S.createElement(c,d)),...Array.isArray(a)?a:[a]]));const me=(e,t)=>{const n=S.forwardRef(({className:r,...i},a)=>S.createElement(XH,{ref:a,iconNode:t,className:D5(`lucide-${KH(e)}`,r),...i}));return n.displayName=`${e}`,n};const Su=me("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);const QH=me("AlignLeft",[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);const JH=me("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);const $5=me("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const ZH=me("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);const WE=me("BatteryLow",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}],["line",{x1:"6",x2:"6",y1:"11",y2:"13",key:"1wd6dw"}]]);const e9=me("Battery",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);const t9=me("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const L5=me("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);const _u=me("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);const Ha=me("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const z5=me("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const F5=me("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);const k_=me("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);const ci=me("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const E_=me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const A_=me("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const lm=me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const n9=me("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const qs=me("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Ia=me("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Sc=me("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const r9=me("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);const i9=me("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const a9=me("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const HE=me("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);const pw=me("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);const o9=me("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]);const Hg=me("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const B5=me("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);const GE=me("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);const Go=me("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const nl=me("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const s9=me("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const q5=me("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const KE=me("FileArchive",[["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01",key:"gkbcor"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}]]);const O_=me("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const mw=me("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);const YE=me("Frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);const C_=me("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);const P_=me("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const l9=me("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);const U5=me("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]);const V5=me("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);const c9=me("Hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]);const u9=me("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);const d9=me("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const f9=me("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);const h9=me("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);const W5=me("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);const H5=me("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);const p9=me("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);const m9=me("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);const Qr=me("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const T_=me("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const g9=me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const y9=me("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);const v9=me("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const b9=me("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);const Jf=me("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);const x9=me("Mountain",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]]);const XE=me("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);const w9=me("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);const S9=me("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);const _9=me("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const j9=me("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const gw=me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const k9=me("Puzzle",[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]]);const E9=me("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);const G5=me("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const A9=me("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const O9=me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const C9=me("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);const K5=me("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const P9=me("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Y5=me("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const X5=me("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);const Q5=me("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);const Hi=me("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const Gn=me("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const J5=me("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);const N_=me("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const T9=me("Trees",[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16H5a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"1l6gj6"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]]);const pi=me("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);const An=me("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const rl=me("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const Ma=me("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);const Z5=me("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const N9=me("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const R9=me("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);const Ga=me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const Gi=me("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function ae(...e){return YW(Le(e))}const I9=GH,e$=S.forwardRef(({className:e,...t},n)=>u.jsx(P5,{ref:n,className:ae("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));e$.displayName=P5.displayName;const M9=Od("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),t$=S.forwardRef(({className:e,variant:t,...n},r)=>u.jsx(T5,{ref:r,className:ae(M9({variant:t}),e),...n}));t$.displayName=T5.displayName;const D9=S.forwardRef(({className:e,...t},n)=>u.jsx(I5,{ref:n,className:ae("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));D9.displayName=I5.displayName;const n$=S.forwardRef(({className:e,...t},n)=>u.jsx(M5,{ref:n,className:ae("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:u.jsx(Ga,{className:"h-4 w-4"})}));n$.displayName=M5.displayName;const r$=S.forwardRef(({className:e,...t},n)=>u.jsx(N5,{ref:n,className:ae("text-sm font-semibold",e),...t}));r$.displayName=N5.displayName;const i$=S.forwardRef(({className:e,...t},n)=>u.jsx(R5,{ref:n,className:ae("text-sm opacity-90",e),...t}));i$.displayName=R5.displayName;function $9(){const{toasts:e}=d5();return u.jsxs(I9,{children:[e.map(function({id:t,title:n,description:r,action:i,...a}){return u.jsxs(t$,{...a,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(r$,{children:n}),r&&u.jsx(i$,{children:r})]}),i,u.jsx(n$,{})]},t)}),u.jsx(e$,{})]})}var QE=["light","dark"],L9="(prefers-color-scheme: dark)",z9=S.createContext(void 0),F9={setTheme:e=>{},themes:[]},R_=()=>{var e;return(e=S.useContext(z9))!=null?e:F9};S.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:a,value:o,attrs:s,nonce:l})=>{let c=a==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${s.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?QE.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(y,m=!1,g=!0)=>{let v=o?o[y]:y,b=m?y+"|| ''":`'${v}'`,x="";return i&&g&&!m&&QE.includes(y)&&(x+=`d.style.colorScheme = '${y}';`),n==="class"?m||v?x+=`c.add(${b})`:x+="null":v&&(x+=`d[s](n,${b})`),x},p=e?`!function(){${d}${h(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${c})){var t='${L9}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${c?"":"else{"+h(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(a,!1,!1)};}${f}}catch(t){}}();`;return S.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})});var B9=e=>{switch(e){case"success":return V9;case"info":return H9;case"warning":return W9;case"error":return G9;default:return null}},q9=Array(12).fill(0),U9=({visible:e,className:t})=>I.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},I.createElement("div",{className:"sonner-spinner"},q9.map((n,r)=>I.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),V9=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),W9=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),H9=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),G9=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),K9=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},I.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),I.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Y9=()=>{let[e,t]=I.useState(document.hidden);return I.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},yw=1,X9=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,i=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:yw++,a=this.toasts.find(s=>s.id===i),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(s=>s.id===i?(this.publish({...s,...e,id:i,title:n}),{...s,...e,id:i,dismissible:o,title:n}):s):this.addToast({title:n,...r,dismissible:o,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),i=n!==void 0,a,o=r.then(async l=>{if(a=["resolve",l],I.isValidElement(l))i=!1,this.create({id:n,type:"default",message:l});else if(J9(l)&&!l.ok){i=!1;let c=typeof t.error=="function"?await t.error(`HTTP error! status: ${l.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${l.status}`):t.description;this.create({id:n,type:"error",message:c,description:d})}else if(t.success!==void 0){i=!1;let c=typeof t.success=="function"?await t.success(l):t.success,d=typeof t.description=="function"?await t.description(l):t.description;this.create({id:n,type:"success",message:c,description:d})}}).catch(async l=>{if(a=["reject",l],t.error!==void 0){i=!1;let c=typeof t.error=="function"?await t.error(l):t.error,d=typeof t.description=="function"?await t.description(l):t.description;this.create({id:n,type:"error",message:c,description:d})}}).finally(()=>{var l;i&&(this.dismiss(n),n=void 0),(l=t.finally)==null||l.call(t)}),s=()=>new Promise((l,c)=>o.then(()=>a[0]==="reject"?c(a[1]):l(a[1])).catch(c));return typeof n!="string"&&typeof n!="number"?{unwrap:s}:Object.assign(n,{unwrap:s})},this.custom=(e,t)=>{let n=t?.id||yw++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Vn=new X9,Q9=(e,t)=>{let n=t?.id||yw++;return Vn.addToast({title:e,...t,id:n}),n},J9=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Z9=Q9,eG=()=>Vn.toasts,tG=()=>Vn.getActiveToasts(),We=Object.assign(Z9,{success:Vn.success,info:Vn.info,warning:Vn.warning,error:Vn.error,custom:Vn.custom,message:Vn.message,promise:Vn.promise,dismiss:Vn.dismiss,loading:Vn.loading},{getHistory:eG,getToasts:tG});function nG(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}nG(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function af(e){return e.label!==void 0}var rG=3,iG="32px",aG="16px",JE=4e3,oG=356,sG=14,lG=20,cG=200;function Dr(...e){return e.filter(Boolean).join(" ")}function uG(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var dG=e=>{var t,n,r,i,a,o,s,l,c,d,f;let{invert:h,toast:p,unstyled:y,interacting:m,setHeights:g,visibleToasts:v,heights:b,index:x,toasts:_,expanded:w,removeToast:j,defaultRichColors:k,closeButton:A,style:P,cancelButtonStyle:O,actionButtonStyle:T,className:N="",descriptionClassName:M="",duration:E,position:R,gap:F,loadingIcon:z,expandByDefault:q,classNames:L,icons:D,closeButtonAriaLabel:W="Close toast",pauseWhenPageIsHidden:B}=e,[$,Q]=I.useState(null),[Z,fe]=I.useState(null),[le,ue]=I.useState(!1),[ee,te]=I.useState(!1),[ce,J]=I.useState(!1),[re,C]=I.useState(!1),[G,H]=I.useState(!1),[V,U]=I.useState(0),[K,ie]=I.useState(0),ne=I.useRef(p.duration||E||JE),X=I.useRef(null),de=I.useRef(null),ve=x===0,he=x+1<=v,Y=p.type,oe=p.dismissible!==!1,ye=p.className||"",Pe=p.descriptionClassName||"",Ue=I.useMemo(()=>b.findIndex(Se=>Se.toastId===p.id)||0,[b,p.id]),Ke=I.useMemo(()=>{var Se;return(Se=p.closeButton)!=null?Se:A},[p.closeButton,A]),Mt=I.useMemo(()=>p.duration||E||JE,[p.duration,E]),Ye=I.useRef(0),zt=I.useRef(0),un=I.useRef(0),nt=I.useRef(null),[Cn,ke]=R.split("-"),rt=I.useMemo(()=>b.reduce((Se,Ie,Fe)=>Fe>=Ue?Se:Se+Ie.height,0),[b,Ue]),st=Y9(),ct=p.invert||h,Te=Y==="loading";zt.current=I.useMemo(()=>Ue*F+rt,[Ue,rt]),I.useEffect(()=>{ne.current=Mt},[Mt]),I.useEffect(()=>{ue(!0)},[]),I.useEffect(()=>{let Se=de.current;if(Se){let Ie=Se.getBoundingClientRect().height;return ie(Ie),g(Fe=>[{toastId:p.id,height:Ie,position:p.position},...Fe]),()=>g(Fe=>Fe.filter(dt=>dt.toastId!==p.id))}},[g,p.id]),I.useLayoutEffect(()=>{if(!le)return;let Se=de.current,Ie=Se.style.height;Se.style.height="auto";let Fe=Se.getBoundingClientRect().height;Se.style.height=Ie,ie(Fe),g(dt=>dt.find(gt=>gt.toastId===p.id)?dt.map(gt=>gt.toastId===p.id?{...gt,height:Fe}:gt):[{toastId:p.id,height:Fe,position:p.position},...dt])},[le,p.title,p.description,g,p.id]);let Ge=I.useCallback(()=>{te(!0),U(zt.current),g(Se=>Se.filter(Ie=>Ie.toastId!==p.id)),setTimeout(()=>{j(p)},cG)},[p,j,g,zt]);I.useEffect(()=>{if(p.promise&&Y==="loading"||p.duration===1/0||p.type==="loading")return;let Se;return w||m||B&&st?(()=>{if(un.current<Ye.current){let Ie=new Date().getTime()-Ye.current;ne.current=ne.current-Ie}un.current=new Date().getTime()})():ne.current!==1/0&&(Ye.current=new Date().getTime(),Se=setTimeout(()=>{var Ie;(Ie=p.onAutoClose)==null||Ie.call(p,p),Ge()},ne.current)),()=>clearTimeout(Se)},[w,m,p,Y,B,st,Ge]),I.useEffect(()=>{p.delete&&Ge()},[Ge,p.delete]);function ut(){var Se,Ie,Fe;return D!=null&&D.loading?I.createElement("div",{className:Dr(L?.loader,(Se=p?.classNames)==null?void 0:Se.loader,"sonner-loader"),"data-visible":Y==="loading"},D.loading):z?I.createElement("div",{className:Dr(L?.loader,(Ie=p?.classNames)==null?void 0:Ie.loader,"sonner-loader"),"data-visible":Y==="loading"},z):I.createElement(U9,{className:Dr(L?.loader,(Fe=p?.classNames)==null?void 0:Fe.loader),visible:Y==="loading"})}return I.createElement("li",{tabIndex:0,ref:de,className:Dr(N,ye,L?.toast,(t=p?.classNames)==null?void 0:t.toast,L?.default,L?.[Y],(n=p?.classNames)==null?void 0:n[Y]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:k,"data-styled":!(p.jsx||p.unstyled||y),"data-mounted":le,"data-promise":!!p.promise,"data-swiped":G,"data-removed":ee,"data-visible":he,"data-y-position":Cn,"data-x-position":ke,"data-index":x,"data-front":ve,"data-swiping":ce,"data-dismissible":oe,"data-type":Y,"data-invert":ct,"data-swipe-out":re,"data-swipe-direction":Z,"data-expanded":!!(w||q&&le),style:{"--index":x,"--toasts-before":x,"--z-index":_.length-x,"--offset":`${ee?V:zt.current}px`,"--initial-height":q?"auto":`${K}px`,...P,...p.style},onDragEnd:()=>{J(!1),Q(null),nt.current=null},onPointerDown:Se=>{Te||!oe||(X.current=new Date,U(zt.current),Se.target.setPointerCapture(Se.pointerId),Se.target.tagName!=="BUTTON"&&(J(!0),nt.current={x:Se.clientX,y:Se.clientY}))},onPointerUp:()=>{var Se,Ie,Fe,dt;if(re||!oe)return;nt.current=null;let gt=Number(((Se=de.current)==null?void 0:Se.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ft=Number(((Ie=de.current)==null?void 0:Ie.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Jt=new Date().getTime()-((Fe=X.current)==null?void 0:Fe.getTime()),Dt=$==="x"?gt:ft,dn=Math.abs(Dt)/Jt;if(Math.abs(Dt)>=lG||dn>.11){U(zt.current),(dt=p.onDismiss)==null||dt.call(p,p),fe($==="x"?gt>0?"right":"left":ft>0?"down":"up"),Ge(),C(!0),H(!1);return}J(!1),Q(null)},onPointerMove:Se=>{var Ie,Fe,dt,gt;if(!nt.current||!oe||((Ie=window.getSelection())==null?void 0:Ie.toString().length)>0)return;let ft=Se.clientY-nt.current.y,Jt=Se.clientX-nt.current.x,Dt=(Fe=e.swipeDirections)!=null?Fe:uG(R);!$&&(Math.abs(Jt)>1||Math.abs(ft)>1)&&Q(Math.abs(Jt)>Math.abs(ft)?"x":"y");let dn={x:0,y:0};$==="y"?(Dt.includes("top")||Dt.includes("bottom"))&&(Dt.includes("top")&&ft<0||Dt.includes("bottom")&&ft>0)&&(dn.y=ft):$==="x"&&(Dt.includes("left")||Dt.includes("right"))&&(Dt.includes("left")&&Jt<0||Dt.includes("right")&&Jt>0)&&(dn.x=Jt),(Math.abs(dn.x)>0||Math.abs(dn.y)>0)&&H(!0),(dt=de.current)==null||dt.style.setProperty("--swipe-amount-x",`${dn.x}px`),(gt=de.current)==null||gt.style.setProperty("--swipe-amount-y",`${dn.y}px`)}},Ke&&!p.jsx?I.createElement("button",{"aria-label":W,"data-disabled":Te,"data-close-button":!0,onClick:Te||!oe?()=>{}:()=>{var Se;Ge(),(Se=p.onDismiss)==null||Se.call(p,p)},className:Dr(L?.closeButton,(i=p?.classNames)==null?void 0:i.closeButton)},(a=D?.close)!=null?a:K9):null,p.jsx||S.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:I.createElement(I.Fragment,null,Y||p.icon||p.promise?I.createElement("div",{"data-icon":"",className:Dr(L?.icon,(o=p?.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||ut():null,p.type!=="loading"?p.icon||D?.[Y]||B9(Y):null):null,I.createElement("div",{"data-content":"",className:Dr(L?.content,(s=p?.classNames)==null?void 0:s.content)},I.createElement("div",{"data-title":"",className:Dr(L?.title,(l=p?.classNames)==null?void 0:l.title)},typeof p.title=="function"?p.title():p.title),p.description?I.createElement("div",{"data-description":"",className:Dr(M,Pe,L?.description,(c=p?.classNames)==null?void 0:c.description)},typeof p.description=="function"?p.description():p.description):null),S.isValidElement(p.cancel)?p.cancel:p.cancel&&af(p.cancel)?I.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||O,onClick:Se=>{var Ie,Fe;af(p.cancel)&&oe&&((Fe=(Ie=p.cancel).onClick)==null||Fe.call(Ie,Se),Ge())},className:Dr(L?.cancelButton,(d=p?.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,S.isValidElement(p.action)?p.action:p.action&&af(p.action)?I.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||T,onClick:Se=>{var Ie,Fe;af(p.action)&&((Fe=(Ie=p.action).onClick)==null||Fe.call(Ie,Se),!Se.defaultPrevented&&Ge())},className:Dr(L?.actionButton,(f=p?.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function ZE(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function fG(e,t){let n={};return[e,t].forEach((r,i)=>{let a=i===1,o=a?"--mobile-offset":"--offset",s=a?aG:iG;function l(c){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=s:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(s)}),n}var hG=S.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:o,className:s,offset:l,mobileOffset:c,theme:d="light",richColors:f,duration:h,style:p,visibleToasts:y=rG,toastOptions:m,dir:g=ZE(),gap:v=sG,loadingIcon:b,icons:x,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:w}=e,[j,k]=I.useState([]),A=I.useMemo(()=>Array.from(new Set([r].concat(j.filter(B=>B.position).map(B=>B.position)))),[j,r]),[P,O]=I.useState([]),[T,N]=I.useState(!1),[M,E]=I.useState(!1),[R,F]=I.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),z=I.useRef(null),q=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=I.useRef(null),D=I.useRef(!1),W=I.useCallback(B=>{k($=>{var Q;return(Q=$.find(Z=>Z.id===B.id))!=null&&Q.delete||Vn.dismiss(B.id),$.filter(({id:Z})=>Z!==B.id)})},[]);return I.useEffect(()=>Vn.subscribe(B=>{if(B.dismiss){k($=>$.map(Q=>Q.id===B.id?{...Q,delete:!0}:Q));return}setTimeout(()=>{o5.flushSync(()=>{k($=>{let Q=$.findIndex(Z=>Z.id===B.id);return Q!==-1?[...$.slice(0,Q),{...$[Q],...B},...$.slice(Q+1)]:[B,...$]})})})}),[]),I.useEffect(()=>{if(d!=="system"){F(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?F("dark"):F("light")),typeof window>"u")return;let B=window.matchMedia("(prefers-color-scheme: dark)");try{B.addEventListener("change",({matches:$})=>{F($?"dark":"light")})}catch{B.addListener(({matches:Q})=>{try{F(Q?"dark":"light")}catch(Z){console.error(Z)}})}},[d]),I.useEffect(()=>{j.length<=1&&N(!1)},[j]),I.useEffect(()=>{let B=$=>{var Q,Z;i.every(fe=>$[fe]||$.code===fe)&&(N(!0),(Q=z.current)==null||Q.focus()),$.code==="Escape"&&(document.activeElement===z.current||(Z=z.current)!=null&&Z.contains(document.activeElement))&&N(!1)};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[i]),I.useEffect(()=>{if(z.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,D.current=!1)}},[z.current]),I.createElement("section",{ref:t,"aria-label":`${_} ${q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},A.map((B,$)=>{var Q;let[Z,fe]=B.split("-");return j.length?I.createElement("ol",{key:B,dir:g==="auto"?ZE():g,tabIndex:-1,ref:z,className:s,"data-sonner-toaster":!0,"data-theme":R,"data-y-position":Z,"data-lifted":T&&j.length>1&&!a,"data-x-position":fe,style:{"--front-toast-height":`${((Q=P[0])==null?void 0:Q.height)||0}px`,"--width":`${oG}px`,"--gap":`${v}px`,...p,...fG(l,c)},onBlur:le=>{D.current&&!le.currentTarget.contains(le.relatedTarget)&&(D.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||D.current||(D.current=!0,L.current=le.relatedTarget)},onMouseEnter:()=>N(!0),onMouseMove:()=>N(!0),onMouseLeave:()=>{M||N(!1)},onDragEnd:()=>N(!1),onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||E(!0)},onPointerUp:()=>E(!1)},j.filter(le=>!le.position&&$===0||le.position===B).map((le,ue)=>{var ee,te;return I.createElement(dG,{key:le.id,icons:x,index:ue,toast:le,defaultRichColors:f,duration:(ee=m?.duration)!=null?ee:h,className:m?.className,descriptionClassName:m?.descriptionClassName,invert:n,visibleToasts:y,closeButton:(te=m?.closeButton)!=null?te:o,interacting:M,position:B,style:m?.style,unstyled:m?.unstyled,classNames:m?.classNames,cancelButtonStyle:m?.cancelButtonStyle,actionButtonStyle:m?.actionButtonStyle,removeToast:W,toasts:j.filter(ce=>ce.position==le.position),heights:P.filter(ce=>ce.position==le.position),setHeights:O,expandByDefault:a,gap:v,loadingIcon:b,expanded:T,pauseWhenPageIsHidden:w,swipeDirections:e.swipeDirections})})):null}))});const pG=({...e})=>{const{theme:t="system"}=R_();return u.jsx(hG,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var mG=s5[" useId ".trim().toString()]||(()=>{}),gG=0;function Ki(e){const[t,n]=S.useState(mG());return Qt(()=>{n(r=>r??String(gG++))},[e]),t?`radix-${t}`:""}const yG=["top","right","bottom","left"],Ka=Math.min,nr=Math.max,gh=Math.round,of=Math.floor,vi=e=>({x:e,y:e}),vG={left:"right",right:"left",bottom:"top",top:"bottom"},bG={start:"end",end:"start"};function vw(e,t,n){return nr(e,Ka(t,n))}function Ji(e,t){return typeof e=="function"?e(t):e}function Zi(e){return e.split("-")[0]}function ql(e){return e.split("-")[1]}function I_(e){return e==="x"?"y":"x"}function M_(e){return e==="y"?"height":"width"}const xG=new Set(["top","bottom"]);function mi(e){return xG.has(Zi(e))?"y":"x"}function D_(e){return I_(mi(e))}function wG(e,t,n){n===void 0&&(n=!1);const r=ql(e),i=D_(e),a=M_(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=yh(o)),[o,yh(o)]}function SG(e){const t=yh(e);return[bw(e),t,bw(t)]}function bw(e){return e.replace(/start|end/g,t=>bG[t])}const eA=["left","right"],tA=["right","left"],_G=["top","bottom"],jG=["bottom","top"];function kG(e,t,n){switch(e){case"top":case"bottom":return n?t?tA:eA:t?eA:tA;case"left":case"right":return t?_G:jG;default:return[]}}function EG(e,t,n,r){const i=ql(e);let a=kG(Zi(e),n==="start",r);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(bw)))),a}function yh(e){return e.replace(/left|right|bottom|top/g,t=>vG[t])}function AG(e){return{top:0,right:0,bottom:0,left:0,...e}}function a$(e){return typeof e!="number"?AG(e):{top:e,right:e,bottom:e,left:e}}function vh(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function nA(e,t,n){let{reference:r,floating:i}=e;const a=mi(t),o=D_(t),s=M_(o),l=Zi(t),c=a==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[s]/2-i[s]/2;let p;switch(l){case"top":p={x:d,y:r.y-i.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-i.width,y:f};break;default:p={x:r.x,y:r.y}}switch(ql(t)){case"start":p[o]-=h*(n&&c?-1:1);break;case"end":p[o]+=h*(n&&c?-1:1);break}return p}const OG=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,s=a.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:f}=nA(c,r,l),h=r,p={},y=0;for(let m=0;m<s.length;m++){const{name:g,fn:v}=s[m],{x:b,y:x,data:_,reset:w}=await v({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:c,platform:o,elements:{reference:e,floating:t}});d=b??d,f=x??f,p={...p,[g]:{...p[g],..._}},w&&y<=50&&(y++,typeof w=="object"&&(w.placement&&(h=w.placement),w.rects&&(c=w.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):w.rects),{x:d,y:f}=nA(c,h,l)),m=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:p}};async function ju(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:o,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Ji(t,e),y=a$(p),g=s[h?f==="floating"?"reference":"floating":f],v=vh(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(g)))==null||n?g:g.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(s.floating)),boundary:c,rootBoundary:d,strategy:l})),b=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,x=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s.floating)),_=await(a.isElement==null?void 0:a.isElement(x))?await(a.getScale==null?void 0:a.getScale(x))||{x:1,y:1}:{x:1,y:1},w=vh(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:b,offsetParent:x,strategy:l}):b);return{top:(v.top-w.top+y.top)/_.y,bottom:(w.bottom-v.bottom+y.bottom)/_.y,left:(v.left-w.left+y.left)/_.x,right:(w.right-v.right+y.right)/_.x}}const CG=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:o,elements:s,middlewareData:l}=t,{element:c,padding:d=0}=Ji(e,t)||{};if(c==null)return{};const f=a$(d),h={x:n,y:r},p=D_(i),y=M_(p),m=await o.getDimensions(c),g=p==="y",v=g?"top":"left",b=g?"bottom":"right",x=g?"clientHeight":"clientWidth",_=a.reference[y]+a.reference[p]-h[p]-a.floating[y],w=h[p]-a.reference[p],j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let k=j?j[x]:0;(!k||!await(o.isElement==null?void 0:o.isElement(j)))&&(k=s.floating[x]||a.floating[y]);const A=_/2-w/2,P=k/2-m[y]/2-1,O=Ka(f[v],P),T=Ka(f[b],P),N=O,M=k-m[y]-T,E=k/2-m[y]/2+A,R=vw(N,E,M),F=!l.arrow&&ql(i)!=null&&E!==R&&a.reference[y]/2-(E<N?O:T)-m[y]/2<0,z=F?E<N?E-N:E-M:0;return{[p]:h[p]+z,data:{[p]:R,centerOffset:E-R-z,...F&&{alignmentOffset:z}},reset:F}}}),PG=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:s,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:m=!0,...g}=Ji(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const v=Zi(i),b=mi(s),x=Zi(s)===s,_=await(l.isRTL==null?void 0:l.isRTL(c.floating)),w=h||(x||!m?[yh(s)]:SG(s)),j=y!=="none";!h&&j&&w.push(...EG(s,m,y,_));const k=[s,...w],A=await ju(t,g),P=[];let O=((r=a.flip)==null?void 0:r.overflows)||[];if(d&&P.push(A[v]),f){const E=wG(i,o,_);P.push(A[E[0]],A[E[1]])}if(O=[...O,{placement:i,overflows:P}],!P.every(E=>E<=0)){var T,N;const E=(((T=a.flip)==null?void 0:T.index)||0)+1,R=k[E];if(R&&(!(f==="alignment"?b!==mi(R):!1)||O.every(q=>q.overflows[0]>0&&mi(q.placement)===b)))return{data:{index:E,overflows:O},reset:{placement:R}};let F=(N=O.filter(z=>z.overflows[0]<=0).sort((z,q)=>z.overflows[1]-q.overflows[1])[0])==null?void 0:N.placement;if(!F)switch(p){case"bestFit":{var M;const z=(M=O.filter(q=>{if(j){const L=mi(q.placement);return L===b||L==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(L=>L>0).reduce((L,D)=>L+D,0)]).sort((q,L)=>q[1]-L[1])[0])==null?void 0:M[0];z&&(F=z);break}case"initialPlacement":F=s;break}if(i!==F)return{reset:{placement:F}}}return{}}}};function rA(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function iA(e){return yG.some(t=>e[t]>=0)}const TG=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Ji(e,t);switch(r){case"referenceHidden":{const a=await ju(t,{...i,elementContext:"reference"}),o=rA(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:iA(o)}}}case"escaped":{const a=await ju(t,{...i,altBoundary:!0}),o=rA(a,n.floating);return{data:{escapedOffsets:o,escaped:iA(o)}}}default:return{}}}}},o$=new Set(["left","top"]);async function NG(e,t){const{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Zi(n),s=ql(n),l=mi(n)==="y",c=o$.has(o)?-1:1,d=a&&l?-1:1,f=Ji(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof y=="number"&&(p=s==="end"?y*-1:y),l?{x:p*d,y:h*c}:{x:h*c,y:p*d}}const RG=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:o,middlewareData:s}=t,l=await NG(t,e);return o===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:o}}}}},IG=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:g=>{let{x:v,y:b}=g;return{x:v,y:b}}},...l}=Ji(e,t),c={x:n,y:r},d=await ju(t,l),f=mi(Zi(i)),h=I_(f);let p=c[h],y=c[f];if(a){const g=h==="y"?"top":"left",v=h==="y"?"bottom":"right",b=p+d[g],x=p-d[v];p=vw(b,p,x)}if(o){const g=f==="y"?"top":"left",v=f==="y"?"bottom":"right",b=y+d[g],x=y-d[v];y=vw(b,y,x)}const m=s.fn({...t,[h]:p,[f]:y});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[h]:a,[f]:o}}}}}},MG=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:a,middlewareData:o}=t,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=Ji(e,t),d={x:n,y:r},f=mi(i),h=I_(f);let p=d[h],y=d[f];const m=Ji(s,t),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const x=h==="y"?"height":"width",_=a.reference[h]-a.floating[x]+g.mainAxis,w=a.reference[h]+a.reference[x]-g.mainAxis;p<_?p=_:p>w&&(p=w)}if(c){var v,b;const x=h==="y"?"width":"height",_=o$.has(Zi(i)),w=a.reference[f]-a.floating[x]+(_&&((v=o.offset)==null?void 0:v[f])||0)+(_?0:g.crossAxis),j=a.reference[f]+a.reference[x]+(_?0:((b=o.offset)==null?void 0:b[f])||0)-(_?g.crossAxis:0);y<w?y=w:y>j&&(y=j)}return{[h]:p,[f]:y}}}},DG=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:a,platform:o,elements:s}=t,{apply:l=()=>{},...c}=Ji(e,t),d=await ju(t,c),f=Zi(i),h=ql(i),p=mi(i)==="y",{width:y,height:m}=a.floating;let g,v;f==="top"||f==="bottom"?(g=f,v=h===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(v=f,g=h==="end"?"top":"bottom");const b=m-d.top-d.bottom,x=y-d.left-d.right,_=Ka(m-d[g],b),w=Ka(y-d[v],x),j=!t.middlewareData.shift;let k=_,A=w;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(A=x),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(k=b),j&&!h){const O=nr(d.left,0),T=nr(d.right,0),N=nr(d.top,0),M=nr(d.bottom,0);p?A=y-2*(O!==0||T!==0?O+T:nr(d.left,d.right)):k=m-2*(N!==0||M!==0?N+M:nr(d.top,d.bottom))}await l({...t,availableWidth:A,availableHeight:k});const P=await o.getDimensions(s.floating);return y!==P.width||m!==P.height?{reset:{rects:!0}}:{}}}};function cm(){return typeof window<"u"}function Ul(e){return s$(e)?(e.nodeName||"").toLowerCase():"#document"}function sr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ci(e){var t;return(t=(s$(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function s$(e){return cm()?e instanceof Node||e instanceof sr(e).Node:!1}function ei(e){return cm()?e instanceof Element||e instanceof sr(e).Element:!1}function _i(e){return cm()?e instanceof HTMLElement||e instanceof sr(e).HTMLElement:!1}function aA(e){return!cm()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof sr(e).ShadowRoot}const $G=new Set(["inline","contents"]);function Td(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=ti(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!$G.has(i)}const LG=new Set(["table","td","th"]);function zG(e){return LG.has(Ul(e))}const FG=[":popover-open",":modal"];function um(e){return FG.some(t=>{try{return e.matches(t)}catch{return!1}})}const BG=["transform","translate","scale","rotate","perspective"],qG=["transform","translate","scale","rotate","perspective","filter"],UG=["paint","layout","strict","content"];function $_(e){const t=L_(),n=ei(e)?ti(e):e;return BG.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||qG.some(r=>(n.willChange||"").includes(r))||UG.some(r=>(n.contain||"").includes(r))}function VG(e){let t=Ya(e);for(;_i(t)&&!il(t);){if($_(t))return t;if(um(t))return null;t=Ya(t)}return null}function L_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const WG=new Set(["html","body","#document"]);function il(e){return WG.has(Ul(e))}function ti(e){return sr(e).getComputedStyle(e)}function dm(e){return ei(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ya(e){if(Ul(e)==="html")return e;const t=e.assignedSlot||e.parentNode||aA(e)&&e.host||Ci(e);return aA(t)?t.host:t}function l$(e){const t=Ya(e);return il(t)?e.ownerDocument?e.ownerDocument.body:e.body:_i(t)&&Td(t)?t:l$(t)}function ku(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=l$(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),o=sr(i);if(a){const s=xw(o);return t.concat(o,o.visualViewport||[],Td(i)?i:[],s&&n?ku(s):[])}return t.concat(i,ku(i,[],n))}function xw(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function c$(e){const t=ti(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=_i(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,s=gh(n)!==a||gh(r)!==o;return s&&(n=a,r=o),{width:n,height:r,$:s}}function z_(e){return ei(e)?e:e.contextElement}function Us(e){const t=z_(e);if(!_i(t))return vi(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=c$(t);let o=(a?gh(n.width):n.width)/r,s=(a?gh(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const HG=vi(0);function u$(e){const t=sr(e);return!L_()||!t.visualViewport?HG:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function GG(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==sr(e)?!1:t}function Ko(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=z_(e);let o=vi(1);t&&(r?ei(r)&&(o=Us(r)):o=Us(e));const s=GG(a,n,r)?u$(a):vi(0);let l=(i.left+s.x)/o.x,c=(i.top+s.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(a){const h=sr(a),p=r&&ei(r)?sr(r):r;let y=h,m=xw(y);for(;m&&r&&p!==y;){const g=Us(m),v=m.getBoundingClientRect(),b=ti(m),x=v.left+(m.clientLeft+parseFloat(b.paddingLeft))*g.x,_=v.top+(m.clientTop+parseFloat(b.paddingTop))*g.y;l*=g.x,c*=g.y,d*=g.x,f*=g.y,l+=x,c+=_,y=sr(m),m=xw(y)}}return vh({width:d,height:f,x:l,y:c})}function F_(e,t){const n=dm(e).scrollLeft;return t?t.left+n:Ko(Ci(e)).left+n}function d$(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:F_(e,r)),a=r.top+t.scrollTop;return{x:i,y:a}}function KG(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a=i==="fixed",o=Ci(r),s=t?um(t.floating):!1;if(r===o||s&&a)return n;let l={scrollLeft:0,scrollTop:0},c=vi(1);const d=vi(0),f=_i(r);if((f||!f&&!a)&&((Ul(r)!=="body"||Td(o))&&(l=dm(r)),_i(r))){const p=Ko(r);c=Us(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const h=o&&!f&&!a?d$(o,l,!0):vi(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:n.y*c.y-l.scrollTop*c.y+d.y+h.y}}function YG(e){return Array.from(e.getClientRects())}function XG(e){const t=Ci(e),n=dm(e),r=e.ownerDocument.body,i=nr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=nr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+F_(e);const s=-n.scrollTop;return ti(r).direction==="rtl"&&(o+=nr(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:s}}function QG(e,t){const n=sr(e),r=Ci(e),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;const c=L_();(!c||c&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:s,y:l}}const JG=new Set(["absolute","fixed"]);function ZG(e,t){const n=Ko(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=_i(e)?Us(e):vi(1),o=e.clientWidth*a.x,s=e.clientHeight*a.y,l=i*a.x,c=r*a.y;return{width:o,height:s,x:l,y:c}}function oA(e,t,n){let r;if(t==="viewport")r=QG(e,n);else if(t==="document")r=XG(Ci(e));else if(ei(t))r=ZG(t,n);else{const i=u$(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return vh(r)}function f$(e,t){const n=Ya(e);return n===t||!ei(n)||il(n)?!1:ti(n).position==="fixed"||f$(n,t)}function eK(e,t){const n=t.get(e);if(n)return n;let r=ku(e,[],!1).filter(s=>ei(s)&&Ul(s)!=="body"),i=null;const a=ti(e).position==="fixed";let o=a?Ya(e):e;for(;ei(o)&&!il(o);){const s=ti(o),l=$_(o);!l&&s.position==="fixed"&&(i=null),(a?!l&&!i:!l&&s.position==="static"&&!!i&&JG.has(i.position)||Td(o)&&!l&&f$(e,o))?r=r.filter(d=>d!==o):i=s,o=Ya(o)}return t.set(e,r),r}function tK(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?um(t)?[]:eK(t,this._c):[].concat(n),r],s=o[0],l=o.reduce((c,d)=>{const f=oA(t,d,i);return c.top=nr(f.top,c.top),c.right=Ka(f.right,c.right),c.bottom=Ka(f.bottom,c.bottom),c.left=nr(f.left,c.left),c},oA(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function nK(e){const{width:t,height:n}=c$(e);return{width:t,height:n}}function rK(e,t,n){const r=_i(t),i=Ci(t),a=n==="fixed",o=Ko(e,!0,a,t);let s={scrollLeft:0,scrollTop:0};const l=vi(0);function c(){l.x=F_(i)}if(r||!r&&!a)if((Ul(t)!=="body"||Td(i))&&(s=dm(t)),r){const p=Ko(t,!0,a,t);l.x=p.x+t.clientLeft,l.y=p.y+t.clientTop}else i&&c();a&&!r&&i&&c();const d=i&&!r&&!a?d$(i,s):vi(0),f=o.left+s.scrollLeft-l.x-d.x,h=o.top+s.scrollTop-l.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function Gg(e){return ti(e).position==="static"}function sA(e,t){if(!_i(e)||ti(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ci(e)===n&&(n=n.ownerDocument.body),n}function h$(e,t){const n=sr(e);if(um(e))return n;if(!_i(e)){let i=Ya(e);for(;i&&!il(i);){if(ei(i)&&!Gg(i))return i;i=Ya(i)}return n}let r=sA(e,t);for(;r&&zG(r)&&Gg(r);)r=sA(r,t);return r&&il(r)&&Gg(r)&&!$_(r)?n:r||VG(e)||n}const iK=async function(e){const t=this.getOffsetParent||h$,n=this.getDimensions,r=await n(e.floating);return{reference:rK(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function aK(e){return ti(e).direction==="rtl"}const oK={convertOffsetParentRelativeRectToViewportRelativeRect:KG,getDocumentElement:Ci,getClippingRect:tK,getOffsetParent:h$,getElementRects:iK,getClientRects:YG,getDimensions:nK,getScale:Us,isElement:ei,isRTL:aK};function p$(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function sK(e,t){let n=null,r;const i=Ci(e);function a(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function o(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),a();const c=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=c;if(s||t(),!h||!p)return;const y=of(f),m=of(i.clientWidth-(d+h)),g=of(i.clientHeight-(f+p)),v=of(d),x={rootMargin:-y+"px "+-m+"px "+-g+"px "+-v+"px",threshold:nr(0,Ka(1,l))||1};let _=!0;function w(j){const k=j[0].intersectionRatio;if(k!==l){if(!_)return o();k?o(!1,k):r=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!p$(c,e.getBoundingClientRect())&&o(),_=!1}try{n=new IntersectionObserver(w,{...x,root:i.ownerDocument})}catch{n=new IntersectionObserver(w,x)}n.observe(e)}return o(!0),a}function lK(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=z_(e),d=i||a?[...c?ku(c):[],...ku(t)]:[];d.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),a&&v.addEventListener("resize",n)});const f=c&&s?sK(c,n):null;let h=-1,p=null;o&&(p=new ResizeObserver(v=>{let[b]=v;b&&b.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(t)})),n()}),c&&!l&&p.observe(c),p.observe(t));let y,m=l?Ko(e):null;l&&g();function g(){const v=Ko(e);m&&!p$(m,v)&&n(),m=v,y=requestAnimationFrame(g)}return n(),()=>{var v;d.forEach(b=>{i&&b.removeEventListener("scroll",n),a&&b.removeEventListener("resize",n)}),f?.(),(v=p)==null||v.disconnect(),p=null,l&&cancelAnimationFrame(y)}}const cK=RG,uK=IG,dK=PG,fK=DG,hK=TG,lA=CG,pK=MG,mK=(e,t,n)=>{const r=new Map,i={platform:oK,...n},a={...i.platform,_c:r};return OG(e,t,{...i,platform:a})};var gK=typeof document<"u",yK=function(){},Zf=gK?S.useLayoutEffect:yK;function bh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!bh(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!bh(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function m$(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function cA(e,t){const n=m$(e);return Math.round(t*n)/n}function Kg(e){const t=S.useRef(e);return Zf(()=>{t.current=e}),t}function vK(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:s=!0,whileElementsMounted:l,open:c}=e,[d,f]=S.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=S.useState(r);bh(h,r)||p(r);const[y,m]=S.useState(null),[g,v]=S.useState(null),b=S.useCallback(q=>{q!==j.current&&(j.current=q,m(q))},[]),x=S.useCallback(q=>{q!==k.current&&(k.current=q,v(q))},[]),_=a||y,w=o||g,j=S.useRef(null),k=S.useRef(null),A=S.useRef(d),P=l!=null,O=Kg(l),T=Kg(i),N=Kg(c),M=S.useCallback(()=>{if(!j.current||!k.current)return;const q={placement:t,strategy:n,middleware:h};T.current&&(q.platform=T.current),mK(j.current,k.current,q).then(L=>{const D={...L,isPositioned:N.current!==!1};E.current&&!bh(A.current,D)&&(A.current=D,Xr.flushSync(()=>{f(D)}))})},[h,t,n,T,N]);Zf(()=>{c===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,f(q=>({...q,isPositioned:!1})))},[c]);const E=S.useRef(!1);Zf(()=>(E.current=!0,()=>{E.current=!1}),[]),Zf(()=>{if(_&&(j.current=_),w&&(k.current=w),_&&w){if(O.current)return O.current(_,w,M);M()}},[_,w,M,O,P]);const R=S.useMemo(()=>({reference:j,floating:k,setReference:b,setFloating:x}),[b,x]),F=S.useMemo(()=>({reference:_,floating:w}),[_,w]),z=S.useMemo(()=>{const q={position:n,left:0,top:0};if(!F.floating)return q;const L=cA(F.floating,d.x),D=cA(F.floating,d.y);return s?{...q,transform:"translate("+L+"px, "+D+"px)",...m$(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:D}},[n,s,F.floating,d.x,d.y]);return S.useMemo(()=>({...d,update:M,refs:R,elements:F,floatingStyles:z}),[d,M,R,F,z])}const bK=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?lA({element:r.current,padding:i}).fn(n):{}:r?lA({element:r,padding:i}).fn(n):{}}}},xK=(e,t)=>({...cK(e),options:[e,t]}),wK=(e,t)=>({...uK(e),options:[e,t]}),SK=(e,t)=>({...pK(e),options:[e,t]}),_K=(e,t)=>({...dK(e),options:[e,t]}),jK=(e,t)=>({...fK(e),options:[e,t]}),kK=(e,t)=>({...hK(e),options:[e,t]}),EK=(e,t)=>({...bK(e),options:[e,t]});var AK="Arrow",g$=S.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...a}=e;return u.jsx(Ae.svg,{...a,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});g$.displayName=AK;var OK=g$;function fm(e){const[t,n]=S.useState(void 0);return Qt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,s;if("borderBoxSize"in a){const l=a.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,s=c.blockSize}else o=e.offsetWidth,s=e.offsetHeight;n({width:o,height:s})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var B_="Popper",[y$,hm]=Bn(B_),[CK,v$]=y$(B_),b$=e=>{const{__scopePopper:t,children:n}=e,[r,i]=S.useState(null);return u.jsx(CK,{scope:t,anchor:r,onAnchorChange:i,children:n})};b$.displayName=B_;var x$="PopperAnchor",w$=S.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,a=v$(x$,n),o=S.useRef(null),s=ze(t,o);return S.useEffect(()=>{a.onAnchorChange(r?.current||o.current)}),r?null:u.jsx(Ae.div,{...i,ref:s})});w$.displayName=x$;var q_="PopperContent",[PK,TK]=y$(q_),S$=S.forwardRef((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:y,...m}=e,g=v$(q_,n),[v,b]=S.useState(null),x=ze(t,le=>b(le)),[_,w]=S.useState(null),j=fm(_),k=j?.width??0,A=j?.height??0,P=r+(a!=="center"?"-"+a:""),O=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},T=Array.isArray(c)?c:[c],N=T.length>0,M={padding:O,boundary:T.filter(RK),altBoundary:N},{refs:E,floatingStyles:R,placement:F,isPositioned:z,middlewareData:q}=vK({strategy:"fixed",placement:P,whileElementsMounted:(...le)=>lK(...le,{animationFrame:p==="always"}),elements:{reference:g.anchor},middleware:[xK({mainAxis:i+A,alignmentAxis:o}),l&&wK({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?SK():void 0,...M}),l&&_K({...M}),jK({...M,apply:({elements:le,rects:ue,availableWidth:ee,availableHeight:te})=>{const{width:ce,height:J}=ue.reference,re=le.floating.style;re.setProperty("--radix-popper-available-width",`${ee}px`),re.setProperty("--radix-popper-available-height",`${te}px`),re.setProperty("--radix-popper-anchor-width",`${ce}px`),re.setProperty("--radix-popper-anchor-height",`${J}px`)}}),_&&EK({element:_,padding:s}),IK({arrowWidth:k,arrowHeight:A}),h&&kK({strategy:"referenceHidden",...M})]}),[L,D]=k$(F),W=Ut(y);Qt(()=>{z&&W?.()},[z,W]);const B=q.arrow?.x,$=q.arrow?.y,Q=q.arrow?.centerOffset!==0,[Z,fe]=S.useState();return Qt(()=>{v&&fe(window.getComputedStyle(v).zIndex)},[v]),u.jsx("div",{ref:E.setFloating,"data-radix-popper-content-wrapper":"",style:{...R,transform:z?R.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[q.transformOrigin?.x,q.transformOrigin?.y].join(" "),...q.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:u.jsx(PK,{scope:n,placedSide:L,onArrowChange:w,arrowX:B,arrowY:$,shouldHideArrow:Q,children:u.jsx(Ae.div,{"data-side":L,"data-align":D,...m,ref:x,style:{...m.style,animation:z?void 0:"none"}})})})});S$.displayName=q_;var _$="PopperArrow",NK={top:"bottom",right:"left",bottom:"top",left:"right"},j$=S.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,a=TK(_$,r),o=NK[a.placedSide];return u.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:u.jsx(OK,{...i,ref:n,style:{...i.style,display:"block"}})})});j$.displayName=_$;function RK(e){return e!==null}var IK=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:i}=t,o=i.arrow?.centerOffset!==0,s=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[c,d]=k$(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(i.arrow?.x??0)+s/2,p=(i.arrow?.y??0)+l/2;let y="",m="";return c==="bottom"?(y=o?f:`${h}px`,m=`${-l}px`):c==="top"?(y=o?f:`${h}px`,m=`${r.floating.height+l}px`):c==="right"?(y=`${-l}px`,m=o?f:`${p}px`):c==="left"&&(y=`${r.floating.width+l}px`,m=o?f:`${p}px`),{data:{x:y,y:m}}}});function k$(e){const[t,n="center"]=e.split("-");return[t,n]}var E$=b$,A$=w$,O$=S$,C$=j$,[pm]=Bn("Tooltip",[hm]),mm=hm(),P$="TooltipProvider",MK=700,ww="tooltip.open",[DK,U_]=pm(P$),T$=e=>{const{__scopeTooltip:t,delayDuration:n=MK,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=e,o=S.useRef(!0),s=S.useRef(!1),l=S.useRef(0);return S.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx(DK,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:S.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:S.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:s,onPointerInTransitChange:S.useCallback(c=>{s.current=c},[]),disableHoverableContent:i,children:a})};T$.displayName=P$;var Eu="Tooltip",[$K,gm]=pm(Eu),N$=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i,onOpenChange:a,disableHoverableContent:o,delayDuration:s}=e,l=U_(Eu,e.__scopeTooltip),c=mm(t),[d,f]=S.useState(null),h=Ki(),p=S.useRef(0),y=o??l.disableHoverableContent,m=s??l.delayDuration,g=S.useRef(!1),[v,b]=Si({prop:r,defaultProp:i??!1,onChange:k=>{k?(l.onOpen(),document.dispatchEvent(new CustomEvent(ww))):l.onClose(),a?.(k)},caller:Eu}),x=S.useMemo(()=>v?g.current?"delayed-open":"instant-open":"closed",[v]),_=S.useCallback(()=>{window.clearTimeout(p.current),p.current=0,g.current=!1,b(!0)},[b]),w=S.useCallback(()=>{window.clearTimeout(p.current),p.current=0,b(!1)},[b]),j=S.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{g.current=!0,b(!0),p.current=0},m)},[m,b]);return S.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),u.jsx(E$,{...c,children:u.jsx($K,{scope:t,contentId:h,open:v,stateAttribute:x,trigger:d,onTriggerChange:f,onTriggerEnter:S.useCallback(()=>{l.isOpenDelayedRef.current?j():_()},[l.isOpenDelayedRef,j,_]),onTriggerLeave:S.useCallback(()=>{y?w():(window.clearTimeout(p.current),p.current=0)},[w,y]),onOpen:_,onClose:w,disableHoverableContent:y,children:n})})};N$.displayName=Eu;var Sw="TooltipTrigger",R$=S.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=gm(Sw,n),a=U_(Sw,n),o=mm(n),s=S.useRef(null),l=ze(t,s,i.onTriggerChange),c=S.useRef(!1),d=S.useRef(!1),f=S.useCallback(()=>c.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(A$,{asChild:!0,...o,children:u.jsx(Ae.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:Ee(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ee(e.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:Ee(e.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ee(e.onFocus,()=>{c.current||i.onOpen()}),onBlur:Ee(e.onBlur,i.onClose),onClick:Ee(e.onClick,i.onClose)})})});R$.displayName=Sw;var LK="TooltipPortal",[wRe,zK]=pm(LK,{forceMount:void 0}),al="TooltipContent",I$=S.forwardRef((e,t)=>{const n=zK(al,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=e,o=gm(al,e.__scopeTooltip);return u.jsx(sa,{present:r||o.open,children:o.disableHoverableContent?u.jsx(M$,{side:i,...a,ref:t}):u.jsx(FK,{side:i,...a,ref:t})})}),FK=S.forwardRef((e,t)=>{const n=gm(al,e.__scopeTooltip),r=U_(al,e.__scopeTooltip),i=S.useRef(null),a=ze(t,i),[o,s]=S.useState(null),{trigger:l,onClose:c}=n,d=i.current,{onPointerInTransitChange:f}=r,h=S.useCallback(()=>{s(null),f(!1)},[f]),p=S.useCallback((y,m)=>{const g=y.currentTarget,v={x:y.clientX,y:y.clientY},b=WK(v,g.getBoundingClientRect()),x=HK(v,b),_=GK(m.getBoundingClientRect()),w=YK([...x,..._]);s(w),f(!0)},[f]);return S.useEffect(()=>()=>h(),[h]),S.useEffect(()=>{if(l&&d){const y=g=>p(g,d),m=g=>p(g,l);return l.addEventListener("pointerleave",y),d.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",m)}}},[l,d,p,h]),S.useEffect(()=>{if(o){const y=m=>{const g=m.target,v={x:m.clientX,y:m.clientY},b=l?.contains(g)||d?.contains(g),x=!KK(v,o);b?h():x&&(h(),c())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[l,d,o,c,h]),u.jsx(M$,{...e,ref:a})}),[BK,qK]=pm(Eu,{isInside:!1}),UK=a5("TooltipContent"),M$=S.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...s}=e,l=gm(al,n),c=mm(n),{onClose:d}=l;return S.useEffect(()=>(document.addEventListener(ww,d),()=>document.removeEventListener(ww,d)),[d]),S.useEffect(()=>{if(l.trigger){const f=h=>{h.target?.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),u.jsx(im,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:u.jsxs(O$,{"data-state":l.stateAttribute,...c,...s,ref:t,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(UK,{children:r}),u.jsx(BK,{scope:n,isInside:!0,children:u.jsx(CH,{id:l.contentId,role:"tooltip",children:i||r})})]})})});I$.displayName=al;var D$="TooltipArrow",VK=S.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=mm(n);return qK(D$,n).isInside?null:u.jsx(C$,{...i,...r,ref:t})});VK.displayName=D$;function WK(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function HK(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function GK(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function KK(e,t){const{x:n,y:r}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const s=t[a],l=t[o],c=s.x,d=s.y,f=l.x,h=l.y;d>r!=h>r&&n<(f-c)*(r-d)/(h-d)+c&&(i=!i)}return i}function YK(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),XK(t)}function XK(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var QK=T$,JK=N$,ZK=R$,$$=I$;const ja=QK,Ao=JK,Oo=ZK,ka=S.forwardRef(({className:e,sideOffset:t=4,...n},r)=>u.jsx($$,{ref:r,sideOffset:t,className:ae("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));ka.displayName=$$.displayName;var Vl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Yo=typeof window>"u"||"Deno"in globalThis;function Rn(){}function e7(e,t){return typeof e=="function"?e(t):e}function _w(e){return typeof e=="number"&&e>=0&&e!==1/0}function L$(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Da(e,t){return typeof e=="function"?e(t):e}function vr(e,t){return typeof e=="function"?e(t):e}function uA(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:s}=e;if(o){if(r){if(t.queryHash!==V_(o,t.options))return!1}else if(!Au(t.queryKey,o))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof s=="boolean"&&t.isStale()!==s||i&&i!==t.state.fetchStatus||a&&!a(t))}function dA(e,t){const{exact:n,status:r,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(Xo(t.options.mutationKey)!==Xo(a))return!1}else if(!Au(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function V_(e,t){return(t?.queryKeyHashFn||Xo)(e)}function Xo(e){return JSON.stringify(e,(t,n)=>jw(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Au(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Au(e[n],t[n])):!1}function z$(e,t){if(e===t)return e;const n=fA(e)&&fA(t);if(n||jw(e)&&jw(t)){const r=n?e:Object.keys(e),i=r.length,a=n?t:Object.keys(t),o=a.length,s=n?[]:{},l=new Set(r);let c=0;for(let d=0;d<o;d++){const f=n?d:a[d];(!n&&l.has(f)||n)&&e[f]===void 0&&t[f]===void 0?(s[f]=void 0,c++):(s[f]=z$(e[f],t[f]),s[f]===e[f]&&e[f]!==void 0&&c++)}return i===o&&c===i?e:s}return t}function xh(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function fA(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function jw(e){if(!hA(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!hA(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function hA(e){return Object.prototype.toString.call(e)==="[object Object]"}function t7(e){return new Promise(t=>{setTimeout(t,e)})}function kw(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?z$(e,t):t}function n7(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function r7(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var W_=Symbol();function F$(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===W_?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function B$(e,t){return typeof e=="function"?e(...t):!!e}var i7=class extends Vl{#t;#e;#n;constructor(){super(),this.#n=e=>{if(!Yo&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},H_=new i7,a7=class extends Vl{#t=!0;#e;#n;constructor(){super(),this.#n=e=>{if(!Yo&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#t}},wh=new a7;function Ew(){let e,t;const n=new Promise((i,a)=>{e=i,t=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function o7(e){return Math.min(1e3*2**e,3e4)}function q$(e){return(e??"online")==="online"?wh.isOnline():!0}var U$=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Yg(e){return e instanceof U$}function V$(e){let t=!1,n=0,r=!1,i;const a=Ew(),o=m=>{r||(h(new U$(m)),e.abort?.())},s=()=>{t=!0},l=()=>{t=!1},c=()=>H_.isFocused()&&(e.networkMode==="always"||wh.isOnline())&&e.canRun(),d=()=>q$(e.networkMode)&&e.canRun(),f=m=>{r||(r=!0,e.onSuccess?.(m),i?.(),a.resolve(m))},h=m=>{r||(r=!0,e.onError?.(m),i?.(),a.reject(m))},p=()=>new Promise(m=>{i=g=>{(r||c())&&m(g)},e.onPause?.()}).then(()=>{i=void 0,r||e.onContinue?.()}),y=()=>{if(r)return;let m;const g=n===0?e.initialPromise:void 0;try{m=g??e.fn()}catch(v){m=Promise.reject(v)}Promise.resolve(m).then(f).catch(v=>{if(r)return;const b=e.retry??(Yo?0:3),x=e.retryDelay??o7,_=typeof x=="function"?x(n,v):x,w=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,v);if(t||!w){h(v);return}n++,e.onFail?.(n,v),t7(_).then(()=>c()?void 0:p()).then(()=>{t?h(v):y()})})};return{promise:a,cancel:o,continue:()=>(i?.(),a),cancelRetry:s,continueRetry:l,canStart:d,start:()=>(d()?y():p().then(y),a)}}var s7=e=>setTimeout(e,0);function l7(){let e=[],t=0,n=s=>{s()},r=s=>{s()},i=s7;const a=s=>{t?e.push(s):i(()=>{n(s)})},o=()=>{const s=e;e=[],s.length&&i(()=>{r(()=>{s.forEach(l=>{n(l)})})})};return{batch:s=>{let l;t++;try{l=s()}finally{t--,t||o()}return l},batchCalls:s=>(...l)=>{a(()=>{s(...l)})},schedule:a,setNotifyFunction:s=>{n=s},setBatchNotifyFunction:s=>{r=s},setScheduler:s=>{i=s}}}var sn=l7(),W$=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),_w(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Yo?1/0:300*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},c7=class extends W${#t;#e;#n;#r;#i;#o;#s;constructor(e){super(),this.#s=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.client,this.#n=this.#r.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=u7(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(e){this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=kw(this.state.data,e,this.options);return this.#a({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#a({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#i?.promise;return this.#i?.cancel(e),t?t.then(Rn).catch(Rn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>vr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===W_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Da(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!L$(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#i&&(this.#s?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(e&&this.setOptions(e),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,r=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#s=!0,n.signal)})},i=()=>{const l=F$(this.options,t),d=(()=>{const f={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(f),f})();return this.#s=!1,this.options.persister?this.options.persister(l,d,this):l(d)},o=(()=>{const l={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:i};return r(l),l})();this.options.behavior?.onFetch(o,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#a({type:"fetch",meta:o.fetchOptions?.meta});const s=l=>{Yg(l)&&l.silent||this.#a({type:"error",error:l}),Yg(l)||(this.#n.config.onError?.(l,this),this.#n.config.onSettled?.(this.state.data,l,this)),this.scheduleGc()};return this.#i=V$({initialPromise:t?.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:l=>{if(l===void 0){s(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(c){s(c);return}this.#n.config.onSuccess?.(l,this),this.#n.config.onSettled?.(l,this.state.error,this),this.scheduleGc()},onError:s,onFail:(l,c)=>{this.#a({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#i.start()}#a(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...H$(n.data,this.options),fetchMeta:e.meta??null};case"success":return this.#e=void 0,{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return Yg(r)&&r.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),sn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function H$(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:q$(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function u7(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var d7=class extends Vl{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,n){const r=t.queryKey,i=t.queryHash??V_(r,t);let a=this.get(i);return a||(a=new c7({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(a)),a}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){sn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>uA(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>uA(e,n)):t}notify(e){sn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){sn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){sn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},f7=class extends W${#t;#e;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.mutationCache,this.#t=[],this.state=e.state||G$(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})};this.#n=V$({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(i,a)=>{this.#r({type:"failed",failureCount:i,error:a})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const n=this.state.status==="pending",r=!this.#n.canStart();try{if(n)t();else{this.#r({type:"pending",variables:e,isPaused:r}),await this.#e.config.onMutate?.(e,this);const a=await this.options.onMutate?.(e);a!==this.state.context&&this.#r({type:"pending",context:a,variables:e,isPaused:r})}const i=await this.#n.start();return await this.#e.config.onSuccess?.(i,e,this.state.context,this),await this.options.onSuccess?.(i,e,this.state.context),await this.#e.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,e,this.state.context),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#e.config.onError?.(i,e,this.state.context,this),await this.options.onError?.(i,e,this.state.context),await this.#e.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,e,this.state.context),i}finally{this.#r({type:"error",error:i})}}finally{this.#e.runNext(this)}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),sn.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#e.notify({mutation:this,type:"updated",action:e})})}};function G$(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var h7=class extends Vl{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(e,t,n){const r=new f7({mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#t.add(e);const t=sf(e);if(typeof t=="string"){const n=this.#e.get(t);n?n.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=sf(e);if(typeof t=="string"){const n=this.#e.get(t);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=sf(e);if(typeof t=="string"){const r=this.#e.get(t)?.find(i=>i.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=sf(e);return typeof t=="string"?this.#e.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){sn.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>dA(t,n))}findAll(e={}){return this.getAll().filter(t=>dA(e,t))}notify(e){sn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return sn.batch(()=>Promise.all(e.map(t=>t.continue().catch(Rn))))}};function sf(e){return e.options.scope?.id}function pA(e){return{onFetch:(t,n)=>{const r=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,a=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let s={pages:[],pageParams:[]},l=0;const c=async()=>{let d=!1;const f=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?d=!0:t.signal.addEventListener("abort",()=>{d=!0}),t.signal)})},h=F$(t.options,t.fetchOptions),p=async(y,m,g)=>{if(d)return Promise.reject();if(m==null&&y.pages.length)return Promise.resolve(y);const b=(()=>{const j={client:t.client,queryKey:t.queryKey,pageParam:m,direction:g?"backward":"forward",meta:t.options.meta};return f(j),j})(),x=await h(b),{maxPages:_}=t.options,w=g?r7:n7;return{pages:w(y.pages,x,_),pageParams:w(y.pageParams,m,_)}};if(i&&a.length){const y=i==="backward",m=y?p7:mA,g={pages:a,pageParams:o},v=m(r,g);s=await p(g,v,y)}else{const y=e??a.length;do{const m=l===0?o[0]??r.initialPageParam:mA(r,s);if(l>0&&m==null)break;s=await p(s,m),l++}while(l<y)}return s};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=c}}}function mA(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function p7(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var m7=class{#t;#e;#n;#r;#i;#o;#s;#a;constructor(e={}){this.#t=e.queryCache||new d7,this.#e=e.mutationCache||new h7,this.#n=e.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#s=H_.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#a=wh.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#s?.(),this.#s=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#t.build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Da(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),a=this.#t.get(r.queryHash)?.state.data,o=e7(t,a);if(o!==void 0)return this.#t.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return sn.batch(()=>this.#t.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){const t=this.#t;sn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#t;return sn.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=sn.batch(()=>this.#t.findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Rn).catch(Rn)}invalidateQueries(e,t={}){return sn.batch(()=>(this.#t.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=sn.batch(()=>this.#t.findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(Rn)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Rn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#t.build(this,t);return n.isStaleByTime(Da(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Rn).catch(Rn)}fetchInfiniteQuery(e){return e.behavior=pA(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Rn).catch(Rn)}ensureInfiniteQueryData(e){return e.behavior=pA(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return wh.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#r.set(Xo(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#r.values()],n={};return t.forEach(r=>{Au(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){this.#i.set(Xo(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#i.values()],n={};return t.forEach(r=>{Au(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=V_(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===W_&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},g7=class extends Vl{constructor(e,t){super(),this.options=t,this.#t=e,this.#a=null,this.#s=Ew(),this.options.experimental_prefetchInRender||this.#s.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#n=void 0;#r=void 0;#i;#o;#s;#a;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),gA(this.#e,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Aw(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Aw(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#w(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,n=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof vr(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#e.setOptions(this.options),t._defaulted&&!xh(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const r=this.hasListeners();r&&yA(this.#e,n,this.options,t)&&this.#d(),this.updateResult(),r&&(this.#e!==n||vr(this.options.enabled,this.#e)!==vr(t.enabled,this.#e)||Da(this.options.staleTime,this.#e)!==Da(t.staleTime,this.#e))&&this.#g();const i=this.#y();r&&(this.#e!==n||vr(this.options.enabled,this.#e)!==vr(t.enabled,this.#e)||i!==this.#l)&&this.#v(i)}getOptimisticResult(e){const t=this.#t.getQueryCache().build(this.#t,e),n=this.createResult(t,e);return v7(this,n)&&(this.#r=n,this.#o=this.options,this.#i=this.#e.state),n}getCurrentResult(){return this.#r}trackResult(e,t){return new Proxy(e,{get:(n,r)=>(this.trackProp(r),t?.(r),Reflect.get(n,r))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#t.defaultQueryOptions(e),n=this.#t.getQueryCache().build(this.#t,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(e){this.#S();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Rn)),t}#g(){this.#x();const e=Da(this.options.staleTime,this.#e);if(Yo||this.#r.isStale||!_w(e))return;const n=L$(this.#r.dataUpdatedAt,e)+1;this.#c=setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#v(e){this.#w(),this.#l=e,!(Yo||vr(this.options.enabled,this.#e)===!1||!_w(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||H_.isFocused())&&this.#d()},this.#l))}#b(){this.#g(),this.#v(this.#y())}#x(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const n=this.#e,r=this.options,i=this.#r,a=this.#i,o=this.#o,l=e!==n?e.state:this.#n,{state:c}=e;let d={...c},f=!1,h;if(t._optimisticResults){const A=this.hasListeners(),P=!A&&gA(e,t),O=A&&yA(e,n,t,r);(P||O)&&(d={...d,...H$(c.data,e.options)}),t._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:p,errorUpdatedAt:y,status:m}=d;h=d.data;let g=!1;if(t.placeholderData!==void 0&&h===void 0&&m==="pending"){let A;i?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(A=i.data,g=!0):A=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,A!==void 0&&(m="success",h=kw(i?.data,A,t),f=!0)}if(t.select&&h!==void 0&&!g)if(i&&h===a?.data&&t.select===this.#m)h=this.#f;else try{this.#m=t.select,h=t.select(h),h=kw(i?.data,h,t),this.#f=h,this.#a=null}catch(A){this.#a=A}this.#a&&(p=this.#a,h=this.#f,y=Date.now(),m="error");const v=d.fetchStatus==="fetching",b=m==="pending",x=m==="error",_=b&&v,w=h!==void 0,k={status:m,fetchStatus:d.fetchStatus,isPending:b,isSuccess:m==="success",isError:x,isInitialLoading:_,isLoading:_,data:h,dataUpdatedAt:d.dataUpdatedAt,error:p,errorUpdatedAt:y,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>l.dataUpdateCount||d.errorUpdateCount>l.errorUpdateCount,isFetching:v,isRefetching:v&&!b,isLoadingError:x&&!w,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:x&&w,isStale:G_(e,t),refetch:this.refetch,promise:this.#s,isEnabled:vr(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const A=T=>{k.status==="error"?T.reject(k.error):k.data!==void 0&&T.resolve(k.data)},P=()=>{const T=this.#s=k.promise=Ew();A(T)},O=this.#s;switch(O.status){case"pending":e.queryHash===n.queryHash&&A(O);break;case"fulfilled":(k.status==="error"||k.data!==O.value)&&P();break;case"rejected":(k.status!=="error"||k.error!==O.reason)&&P();break}}return k}updateResult(){const e=this.#r,t=this.createResult(this.#e,this.options);if(this.#i=this.#e.state,this.#o=this.options,this.#i.data!==void 0&&(this.#h=this.#e),xh(t,e))return;this.#r=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#p.size)return!0;const a=new Set(i??this.#p);return this.options.throwOnError&&a.add("error"),Object.keys(this.#r).some(o=>{const s=o;return this.#r[s]!==e[s]&&a.has(s)})};this.#_({listeners:n()})}#S(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#_(e){sn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#r)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function y7(e,t){return vr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function gA(e,t){return y7(e,t)||e.state.data!==void 0&&Aw(e,t,t.refetchOnMount)}function Aw(e,t,n){if(vr(t.enabled,e)!==!1&&Da(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&G_(e,t)}return!1}function yA(e,t,n,r){return(e!==t||vr(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&G_(e,n)}function G_(e,t){return vr(t.enabled,e)!==!1&&e.isStaleByTime(Da(t.staleTime,e))}function v7(e,t){return!xh(e.getCurrentResult(),t)}var b7=class extends Vl{#t;#e=void 0;#n;#r;constructor(t,n){super(),this.#t=t,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#t.defaultMutationOptions(t),xh(this.options,n)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Xo(n.mutationKey)!==Xo(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#i(),this.#o(t)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#o()}mutate(t,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(t)}#i(){const t=this.#n?.state??G$();this.#e={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#o(t){sn.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#e.variables,r=this.#e.context;t?.type==="success"?(this.#r.onSuccess?.(t.data,n,r),this.#r.onSettled?.(t.data,null,n,r)):t?.type==="error"&&(this.#r.onError?.(t.error,n,r),this.#r.onSettled?.(void 0,t.error,n,r))}this.listeners.forEach(n=>{n(this.#e)})})}},K$=S.createContext(void 0),eo=e=>{const t=S.useContext(K$);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},x7=({client:e,children:t})=>(S.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),u.jsx(K$.Provider,{value:e,children:t})),Y$=S.createContext(!1),w7=()=>S.useContext(Y$);Y$.Provider;function S7(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var _7=S.createContext(S7()),j7=()=>S.useContext(_7),k7=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},E7=e=>{S.useEffect(()=>{e.clearReset()},[e])},A7=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||B$(n,[e.error,r])),O7=e=>{if(e.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...r)=>t(n(...r)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},C7=(e,t)=>e.isLoading&&e.isFetching&&!t,P7=(e,t)=>e?.suspense&&t.isPending,vA=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function T7(e,t,n){const r=w7(),i=j7(),a=eo(),o=a.defaultQueryOptions(e);a.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=r?"isRestoring":"optimistic",O7(o),k7(o,i),E7(i);const s=!a.getQueryCache().get(o.queryHash),[l]=S.useState(()=>new t(a,o)),c=l.getOptimisticResult(o),d=!r&&e.subscribed!==!1;if(S.useSyncExternalStore(S.useCallback(f=>{const h=d?l.subscribe(sn.batchCalls(f)):Rn;return l.updateResult(),h},[l,d]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),S.useEffect(()=>{l.setOptions(o)},[o,l]),P7(o,c))throw vA(o,l,i);if(A7({result:c,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;return a.getDefaultOptions().queries?._experimental_afterQuery?.(o,c),o.experimental_prefetchInRender&&!Yo&&C7(c,r)&&(s?vA(o,l,i):a.getQueryCache().get(o.queryHash)?.promise)?.catch(Rn).finally(()=>{l.updateResult()}),o.notifyOnChangeProps?c:l.trackResult(c)}function ji(e,t){return T7(e,g7)}function xr(e,t){const n=eo(),[r]=S.useState(()=>new b7(n,e));S.useEffect(()=>{r.setOptions(e)},[r,e]);const i=S.useSyncExternalStore(S.useCallback(o=>r.subscribe(sn.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=S.useCallback((o,s)=>{r.mutate(o,s).catch(Rn)},[r]);if(i.error&&B$(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}const X$=S.createContext(void 0),N7=({children:e})=>{const[t,n]=S.useState(!1),r=()=>{n(i=>!i)};return u.jsx(X$.Provider,{value:{isAIEnabled:t,setIsAIEnabled:n,toggleAI:r},children:e})},ym=()=>{const e=S.useContext(X$);if(e===void 0)throw new Error("useAI must be used within an AIProvider");return e},R7=[{to:"/sw/stats",label:"Statistiche",icon:F5},{to:"/sw/ai-coach",label:"AI Coach",icon:Hi},{to:"/sw/macro-goals",label:"Macro Obiettivi",icon:k_}];function I7(){const{isAIEnabled:e}=ym(),t=R7.filter(n=>!(n.to==="/ai-coach"&&!e));return u.jsx("nav",{className:"flex items-center justify-center gap-1 sm:gap-2",children:t.map(({to:n,label:r,icon:i})=>u.jsxs(l5,{to:n,className:({isActive:a})=>ae("flex items-center gap-1.5 sm:gap-2 px-2.5 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium transition-all","hover:bg-accent",a?"bg-primary text-primary-foreground hover:bg-primary/90":"text-muted-foreground"),children:[u.jsx(i,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden xs:inline sm:inline",children:r})]},n))})}const M7=[{to:"/sw/dashboard",label:"Home",icon:u9},{to:"/sw/stats",label:"Stats",icon:F5},{to:"/sw/macro-goals",label:"Obiettivi",icon:k_}];function D7(){return u.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-[#0a0a0a]/80 backdrop-blur-xl border-t border-white/10 pb-6 pt-2 px-6 lg:hidden",children:u.jsx("div",{className:"flex items-center justify-around max-w-md mx-auto",children:M7.map(({to:e,label:t,icon:n})=>u.jsx(l5,{to:e,className:({isActive:r})=>ae("flex flex-col items-center justify-center gap-1 p-2 rounded-2xl transition-all duration-300 w-16 group active:scale-95",r?"text-primary":"text-muted-foreground hover:text-foreground"),children:({isActive:r})=>u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:ae("relative p-1.5 rounded-xl transition-all duration-300",r?"bg-primary/20":"group-hover:bg-white/5"),children:[u.jsx(n,{className:ae("w-6 h-6")}),r&&u.jsx("span",{className:"absolute inset-0 rounded-xl ring-2 ring-primary/20 animate-pulse-success"})]}),u.jsx("span",{className:"text-[10px] font-medium tracking-wide",children:t})]})},e))})})}function $7(){return u.jsxs("div",{className:"h-dvh lg:min-h-screen bg-background flex flex-col relative w-full overflow-x-hidden selection:bg-primary/20",children:[u.jsx("header",{className:"border-b border-border bg-background/80 backdrop-blur-md sticky top-0 z-50 transition-all duration-300",children:u.jsxs("div",{className:"h-16 flex items-center justify-between px-4 sm:px-8 max-w-[2400px] mx-auto w-full relative",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 via-transparent to-primary/5 pointer-events-none lg:hidden"}),u.jsxs(yr,{to:"/sw/dashboard",className:"flex items-center gap-2 sm:gap-3 group relative z-10 active:scale-95 transition-transform",children:[u.jsxs("div",{className:"relative",children:[u.jsx(o9,{className:"h-6 w-6 sm:h-6 sm:w-6 text-primary animate-pulse"}),u.jsx("div",{className:"absolute inset-0 bg-primary/20 blur-lg rounded-full opacity-50"})]}),u.jsx("span",{className:"font-display font-bold text-lg sm:text-lg tracking-tight group-hover:text-primary transition-colors",children:"Mattioli.OS"})]}),u.jsx("div",{className:"hidden lg:block",children:u.jsx(I7,{})})]})}),u.jsx("main",{className:"flex-1 min-h-0 pb-28 lg:pb-0",children:u.jsx(JW,{})}),u.jsx(D7,{})]})}const K_=S.createContext({});function Y_(e){const t=S.useRef(null);return t.current===null&&(t.current=e()),t.current}const Q$=typeof window<"u",J$=Q$?S.useLayoutEffect:S.useEffect,vm=S.createContext(null);function X_(e,t){e.indexOf(t)===-1&&e.push(t)}function Q_(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ki=(e,t,n)=>n>t?t:n<e?e:n;let J_=()=>{};const ea={},Z$=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function eL(e){return typeof e=="object"&&e!==null}const tL=e=>/^0[^.\s]+$/u.test(e);function Z_(e){let t;return()=>(t===void 0&&(t=e()),t)}const Or=e=>e,L7=(e,t)=>n=>t(e(n)),Nd=(...e)=>e.reduce(L7),Ou=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class ej{constructor(){this.subscriptions=[]}add(t){return X_(this.subscriptions,t),()=>Q_(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Yi=e=>e*1e3,Er=e=>e/1e3;function nL(e,t){return t?e*(1e3/t):0}const rL=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,z7=1e-7,F7=12;function B7(e,t,n,r,i){let a,o,s=0;do o=t+(n-t)/2,a=rL(o,r,i)-e,a>0?n=o:t=o;while(Math.abs(a)>z7&&++s<F7);return o}function Rd(e,t,n,r){if(e===t&&n===r)return Or;const i=a=>B7(a,0,1,e,n);return a=>a===0||a===1?a:rL(i(a),t,r)}const iL=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,aL=e=>t=>1-e(1-t),oL=Rd(.33,1.53,.69,.99),tj=aL(oL),sL=iL(tj),lL=e=>(e*=2)<1?.5*tj(e):.5*(2-Math.pow(2,-10*(e-1))),nj=e=>1-Math.sin(Math.acos(e)),cL=aL(nj),uL=iL(nj),q7=Rd(.42,0,1,1),U7=Rd(0,0,.58,1),dL=Rd(.42,0,.58,1),V7=e=>Array.isArray(e)&&typeof e[0]!="number",fL=e=>Array.isArray(e)&&typeof e[0]=="number",W7={linear:Or,easeIn:q7,easeInOut:dL,easeOut:U7,circIn:nj,circInOut:uL,circOut:cL,backIn:tj,backInOut:sL,backOut:oL,anticipate:lL},H7=e=>typeof e=="string",bA=e=>{if(fL(e)){J_(e.length===4);const[t,n,r,i]=e;return Rd(t,n,r,i)}else if(H7(e))return W7[e];return e},lf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function G7(e,t){let n=new Set,r=new Set,i=!1,a=!1;const o=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function l(d){o.has(d)&&(c.schedule(d),e()),d(s)}const c={schedule:(d,f=!1,h=!1)=>{const y=h&&i?n:r;return f&&o.add(d),y.has(d)||y.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(s=d,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),n.clear(),i=!1,a&&(a=!1,c.process(d))}};return c}const K7=40;function hL(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=lf.reduce((x,_)=>(x[_]=G7(a),x),{}),{setup:s,read:l,resolveKeyframes:c,preUpdate:d,update:f,preRender:h,render:p,postRender:y}=o,m=()=>{const x=ea.useManualTiming?i.timestamp:performance.now();n=!1,ea.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(x-i.timestamp,K7),1)),i.timestamp=x,i.isProcessing=!0,s.process(i),l.process(i),c.process(i),d.process(i),f.process(i),h.process(i),p.process(i),y.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(m))},g=()=>{n=!0,r=!0,i.isProcessing||e(m)};return{schedule:lf.reduce((x,_)=>{const w=o[_];return x[_]=(j,k=!1,A=!1)=>(n||g(),w.schedule(j,k,A)),x},{}),cancel:x=>{for(let _=0;_<lf.length;_++)o[lf[_]].cancel(x)},state:i,steps:o}}const{schedule:Pt,cancel:Xa,state:bn,steps:Xg}=hL(typeof requestAnimationFrame<"u"?requestAnimationFrame:Or,!0);let eh;function Y7(){eh=void 0}const Mn={now:()=>(eh===void 0&&Mn.set(bn.isProcessing||ea.useManualTiming?bn.timestamp:performance.now()),eh),set:e=>{eh=e,queueMicrotask(Y7)}},pL=e=>t=>typeof t=="string"&&t.startsWith(e),mL=pL("--"),X7=pL("var(--"),rj=e=>X7(e)?Q7.test(e.split("/*")[0].trim()):!1,Q7=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function xA(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const Wl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Cu={...Wl,transform:e=>ki(0,1,e)},cf={...Wl,default:1},tu=e=>Math.round(e*1e5)/1e5,ij=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function J7(e){return e==null}const Z7=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,aj=(e,t)=>n=>!!(typeof n=="string"&&Z7.test(n)&&n.startsWith(e)||t&&!J7(n)&&Object.prototype.hasOwnProperty.call(n,t)),gL=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,a,o,s]=r.match(ij);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},eY=e=>ki(0,255,e),Qg={...Wl,transform:e=>Math.round(eY(e))},No={test:aj("rgb","red"),parse:gL("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Qg.transform(e)+", "+Qg.transform(t)+", "+Qg.transform(n)+", "+tu(Cu.transform(r))+")"};function tY(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Ow={test:aj("#"),parse:tY,transform:No.transform},Id=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),va=Id("deg"),bi=Id("%"),xe=Id("px"),nY=Id("vh"),rY=Id("vw"),wA={...bi,parse:e=>bi.parse(e)/100,transform:e=>bi.transform(e*100)},Rs={test:aj("hsl","hue"),parse:gL("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+bi.transform(tu(t))+", "+bi.transform(tu(n))+", "+tu(Cu.transform(r))+")"},Yt={test:e=>No.test(e)||Ow.test(e)||Rs.test(e),parse:e=>No.test(e)?No.parse(e):Rs.test(e)?Rs.parse(e):Ow.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?No.transform(e):Rs.transform(e),getAnimatableNone:e=>{const t=Yt.parse(e);return t.alpha=0,Yt.transform(t)}},iY=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function aY(e){return isNaN(e)&&typeof e=="string"&&(e.match(ij)?.length||0)+(e.match(iY)?.length||0)>0}const yL="number",vL="color",oY="var",sY="var(",SA="${}",lY=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Pu(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const s=t.replace(lY,l=>(Yt.test(l)?(r.color.push(a),i.push(vL),n.push(Yt.parse(l))):l.startsWith(sY)?(r.var.push(a),i.push(oY),n.push(l)):(r.number.push(a),i.push(yL),n.push(parseFloat(l))),++a,SA)).split(SA);return{values:n,split:s,indexes:r,types:i}}function bL(e){return Pu(e).values}function xL(e){const{split:t,types:n}=Pu(e),r=t.length;return i=>{let a="";for(let o=0;o<r;o++)if(a+=t[o],i[o]!==void 0){const s=n[o];s===yL?a+=tu(i[o]):s===vL?a+=Yt.transform(i[o]):a+=i[o]}return a}}const cY=e=>typeof e=="number"?0:Yt.test(e)?Yt.getAnimatableNone(e):e;function uY(e){const t=bL(e);return xL(e)(t.map(cY))}const Qa={test:aY,parse:bL,createTransformer:xL,getAnimatableNone:uY};function Jg(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function dY({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,o=0;if(!t)i=a=o=n;else{const s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;i=Jg(l,s,e+1/3),a=Jg(l,s,e),o=Jg(l,s,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function Sh(e,t){return n=>n>0?t:e}const It=(e,t,n)=>e+(t-e)*n,Zg=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},fY=[Ow,No,Rs],hY=e=>fY.find(t=>t.test(e));function _A(e){const t=hY(e);if(!t)return!1;let n=t.parse(e);return t===Rs&&(n=dY(n)),n}const jA=(e,t)=>{const n=_A(e),r=_A(t);if(!n||!r)return Sh(e,t);const i={...n};return a=>(i.red=Zg(n.red,r.red,a),i.green=Zg(n.green,r.green,a),i.blue=Zg(n.blue,r.blue,a),i.alpha=It(n.alpha,r.alpha,a),No.transform(i))},Cw=new Set(["none","hidden"]);function pY(e,t){return Cw.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function mY(e,t){return n=>It(e,t,n)}function oj(e){return typeof e=="number"?mY:typeof e=="string"?rj(e)?Sh:Yt.test(e)?jA:vY:Array.isArray(e)?wL:typeof e=="object"?Yt.test(e)?jA:gY:Sh}function wL(e,t){const n=[...e],r=n.length,i=e.map((a,o)=>oj(a)(a,t[o]));return a=>{for(let o=0;o<r;o++)n[o]=i[o](a);return n}}function gY(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=oj(e[i])(e[i],t[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function yY(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],o=e.indexes[a][r[a]],s=e.values[o]??0;n[i]=s,r[a]++}return n}const vY=(e,t)=>{const n=Qa.createTransformer(t),r=Pu(e),i=Pu(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Cw.has(e)&&!i.values.length||Cw.has(t)&&!r.values.length?pY(e,t):Nd(wL(yY(r,i),i.values),n):Sh(e,t)};function SL(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?It(e,t,n):oj(e)(e,t)}const bY=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Pt.update(t,n),stop:()=>Xa(t),now:()=>bn.isProcessing?bn.timestamp:Mn.now()}},_L=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let a=0;a<i;a++)r+=Math.round(e(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},_h=2e4;function sj(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<_h;)t+=n,r=e.next(t);return t>=_h?1/0:t}function xY(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(sj(r),_h);return{type:"keyframes",ease:a=>r.next(i*a).value/t,duration:Er(i)}}const wY=5;function jL(e,t,n){const r=Math.max(t-wY,0);return nL(n-e(r),t-r)}const $t={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ey=.001;function SY({duration:e=$t.duration,bounce:t=$t.bounce,velocity:n=$t.velocity,mass:r=$t.mass}){let i,a,o=1-t;o=ki($t.minDamping,$t.maxDamping,o),e=ki($t.minDuration,$t.maxDuration,Er(e)),o<1?(i=c=>{const d=c*o,f=d*e,h=d-n,p=Pw(c,o),y=Math.exp(-f);return ey-h/p*y},a=c=>{const f=c*o*e,h=f*n+n,p=Math.pow(o,2)*Math.pow(c,2)*e,y=Math.exp(-f),m=Pw(Math.pow(c,2),o);return(-i(c)+ey>0?-1:1)*((h-p)*y)/m}):(i=c=>{const d=Math.exp(-c*e),f=(c-n)*e+1;return-ey+d*f},a=c=>{const d=Math.exp(-c*e),f=(n-c)*(e*e);return d*f});const s=5/e,l=jY(i,a,s);if(e=Yi(e),isNaN(l))return{stiffness:$t.stiffness,damping:$t.damping,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:e}}}const _Y=12;function jY(e,t,n){let r=n;for(let i=1;i<_Y;i++)r=r-e(r)/t(r);return r}function Pw(e,t){return e*Math.sqrt(1-t*t)}const kY=["duration","bounce"],EY=["stiffness","damping","mass"];function kA(e,t){return t.some(n=>e[n]!==void 0)}function AY(e){let t={velocity:$t.velocity,stiffness:$t.stiffness,damping:$t.damping,mass:$t.mass,isResolvedFromDuration:!1,...e};if(!kA(e,EY)&&kA(e,kY))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*ki(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:$t.mass,stiffness:i,damping:a}}else{const n=SY(e);t={...t,...n,mass:$t.mass},t.isResolvedFromDuration=!0}return t}function jh(e=$t.visualDuration,t=$t.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],s={done:!1,value:a},{stiffness:l,damping:c,mass:d,duration:f,velocity:h,isResolvedFromDuration:p}=AY({...n,velocity:-Er(n.velocity||0)}),y=h||0,m=c/(2*Math.sqrt(l*d)),g=o-a,v=Er(Math.sqrt(l/d)),b=Math.abs(g)<5;r||(r=b?$t.restSpeed.granular:$t.restSpeed.default),i||(i=b?$t.restDelta.granular:$t.restDelta.default);let x;if(m<1){const w=Pw(v,m);x=j=>{const k=Math.exp(-m*v*j);return o-k*((y+m*v*g)/w*Math.sin(w*j)+g*Math.cos(w*j))}}else if(m===1)x=w=>o-Math.exp(-v*w)*(g+(y+v*g)*w);else{const w=v*Math.sqrt(m*m-1);x=j=>{const k=Math.exp(-m*v*j),A=Math.min(w*j,300);return o-k*((y+m*v*g)*Math.sinh(A)+w*g*Math.cosh(A))/w}}const _={calculatedDuration:p&&f||null,next:w=>{const j=x(w);if(p)s.done=w>=f;else{let k=w===0?y:0;m<1&&(k=w===0?Yi(y):jL(x,w,j));const A=Math.abs(k)<=r,P=Math.abs(o-j)<=i;s.done=A&&P}return s.value=s.done?o:j,s},toString:()=>{const w=Math.min(sj(_),_h),j=_L(k=>_.next(w*k).value,w,30);return w+"ms "+j},toTransition:()=>{}};return _}jh.applyToOptions=e=>{const t=xY(e,100,jh);return e.ease=t.ease,e.duration=Yi(t.duration),e.type="keyframes",e};function Tw({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:s,max:l,restDelta:c=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},p=A=>s!==void 0&&A<s||l!==void 0&&A>l,y=A=>s===void 0?l:l===void 0||Math.abs(s-A)<Math.abs(l-A)?s:l;let m=n*t;const g=f+m,v=o===void 0?g:o(g);v!==g&&(m=v-f);const b=A=>-m*Math.exp(-A/r),x=A=>v+b(A),_=A=>{const P=b(A),O=x(A);h.done=Math.abs(P)<=c,h.value=h.done?v:O};let w,j;const k=A=>{p(h.value)&&(w=A,j=jh({keyframes:[h.value,y(h.value)],velocity:jL(x,A,h.value),damping:i,stiffness:a,restDelta:c,restSpeed:d}))};return k(0),{calculatedDuration:null,next:A=>{let P=!1;return!j&&w===void 0&&(P=!0,_(A),k(A)),w!==void 0&&A>=w?j.next(A-w):(!P&&_(A),h)}}}function OY(e,t,n){const r=[],i=n||ea.mix||SL,a=e.length-1;for(let o=0;o<a;o++){let s=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Or:t;s=Nd(l,s)}r.push(s)}return r}function CY(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;if(J_(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=OY(t,r,i),l=s.length,c=d=>{if(o&&d<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=Ou(e[f],e[f+1],d);return s[f](h)};return n?d=>c(ki(e[0],e[a-1],d)):c}function PY(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Ou(0,t,r);e.push(It(n,1,i))}}function TY(e){const t=[0];return PY(t,e.length-1),t}function NY(e,t){return e.map(n=>n*t)}function RY(e,t){return e.map(()=>t||dL).splice(0,e.length-1)}function nu({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=V7(r)?r.map(bA):bA(r),a={done:!1,value:t[0]},o=NY(n&&n.length===t.length?n:TY(t),e),s=CY(o,t,{ease:Array.isArray(i)?i:RY(t,i)});return{calculatedDuration:e,next:l=>(a.value=s(l),a.done=l>=e,a)}}const IY=e=>e!==null;function lj(e,{repeat:t,repeatType:n="loop"},r,i=1){const a=e.filter(IY),s=i<0||t&&n!=="loop"&&t%2===1?0:a.length-1;return!s||r===void 0?a[s]:r}const MY={decay:Tw,inertia:Tw,tween:nu,keyframes:nu,spring:jh};function kL(e){typeof e.type=="string"&&(e.type=MY[e.type])}class cj{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const DY=e=>e/100;class uj extends cj{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Mn.now()&&this.tick(Mn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;kL(t);const{type:n=nu,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=t;let{keyframes:s}=t;const l=n||nu;l!==nu&&typeof s[0]!="number"&&(this.mixKeyframes=Nd(DY,SL(s[0],s[1])),s=[0,100]);const c=l({...t,keyframes:s});a==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...s].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=sj(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:s,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:p,type:y,onUpdate:m,finalKeyframe:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const v=this.currentTime-c*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?v<0:v>i;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let x=this.currentTime,_=r;if(f){const A=Math.min(this.currentTime,i)/s;let P=Math.floor(A),O=A%1;!O&&A>=1&&(O=1),O===1&&P--,P=Math.min(P,f+1),P%2&&(h==="reverse"?(O=1-O,p&&(O-=p/s)):h==="mirror"&&(_=o)),x=ki(0,1,O)*s}const w=b?{done:!1,value:d[0]}:_.next(x);a&&(w.value=a(w.value));let{done:j}=w;!b&&l!==null&&(j=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return k&&y!==Tw&&(w.value=lj(d,this.options,g,this.speed)),m&&m(w.value),k&&this.finish(),w}then(t,n){return this.finished.then(t,n)}get duration(){return Er(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Er(t)}get time(){return Er(this.currentTime)}set time(t){t=Yi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Mn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Er(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=bY,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Mn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function $Y(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ro=e=>e*180/Math.PI,Nw=e=>{const t=Ro(Math.atan2(e[1],e[0]));return Rw(t)},LY={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Nw,rotateZ:Nw,skewX:e=>Ro(Math.atan(e[1])),skewY:e=>Ro(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Rw=e=>(e=e%360,e<0&&(e+=360),e),EA=Nw,AA=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),OA=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),zY={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:AA,scaleY:OA,scale:e=>(AA(e)+OA(e))/2,rotateX:e=>Rw(Ro(Math.atan2(e[6],e[5]))),rotateY:e=>Rw(Ro(Math.atan2(-e[2],e[0]))),rotateZ:EA,rotate:EA,skewX:e=>Ro(Math.atan(e[4])),skewY:e=>Ro(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Iw(e){return e.includes("scale")?1:0}function Mw(e,t){if(!e||e==="none")return Iw(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=zY,i=n;else{const s=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=LY,i=s}if(!i)return Iw(t);const a=r[t],o=i[1].split(",").map(BY);return typeof a=="function"?a(o):o[a]}const FY=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Mw(n,t)};function BY(e){return parseFloat(e.trim())}const Hl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Gl=new Set(Hl),CA=e=>e===Wl||e===xe,qY=new Set(["x","y","z"]),UY=Hl.filter(e=>!qY.has(e));function VY(e){const t=[];return UY.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Ca={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Mw(t,"x"),y:(e,{transform:t})=>Mw(t,"y")};Ca.translateX=Ca.x;Ca.translateY=Ca.y;const Fo=new Set;let Dw=!1,$w=!1,Lw=!1;function EL(){if($w){const e=Array.from(Fo).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=VY(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,o])=>{r.getValue(a)?.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}$w=!1,Dw=!1,Fo.forEach(e=>e.complete(Lw)),Fo.clear()}function AL(){Fo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&($w=!0)})}function WY(){Lw=!0,AL(),EL(),Lw=!1}class dj{constructor(t,n,r,i,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Fo.add(this),Dw||(Dw=!0,Pt.read(AL),Pt.resolveKeyframes(EL))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const a=i?.get(),o=t[t.length-1];if(a!==void 0)t[0]=a;else if(r&&n){const s=r.readValue(n,o);s!=null&&(t[0]=s)}t[0]===void 0&&(t[0]=o),i&&a===void 0&&i.set(t[0])}$Y(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Fo.delete(this)}cancel(){this.state==="scheduled"&&(Fo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const HY=e=>e.startsWith("--");function GY(e,t,n){HY(t)?e.style.setProperty(t,n):e.style[t]=n}const KY=Z_(()=>window.ScrollTimeline!==void 0),YY={};function XY(e,t){const n=Z_(e);return()=>YY[t]??n()}const OL=XY(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Uc=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,PA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Uc([0,.65,.55,1]),circOut:Uc([.55,0,1,.45]),backIn:Uc([.31,.01,.66,-.59]),backOut:Uc([.33,1.53,.69,.99])};function CL(e,t){if(e)return typeof e=="function"?OL()?_L(e,t):"ease-out":fL(e)?Uc(e):Array.isArray(e)?e.map(n=>CL(n,t)||PA.easeOut):PA[e]}function QY(e,t,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:s="easeOut",times:l}={},c=void 0){const d={[t]:n};l&&(d.offset=l);const f=CL(s,i);Array.isArray(f)&&(d.easing=f);const h={delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),e.animate(d,h)}function PL(e){return typeof e=="function"&&"applyToOptions"in e}function JY({type:e,...t}){return PL(e)&&OL()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class ZY extends cj{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:s,onComplete:l}=t;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=t,J_(typeof t.type!="string");const c=JY(t);this.animation=QY(n,r,i,c,a),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const d=lj(i,this.options,s,this.speed);this.updateMotionValue?this.updateMotionValue(d):GY(n,r,d),this.animation.cancel()}l?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Er(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Er(t)}get time(){return Er(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Yi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&KY()?(this.animation.timeline=t,Or):n(this)}}const TL={anticipate:lL,backInOut:sL,circInOut:uL};function eX(e){return e in TL}function tX(e){typeof e.ease=="string"&&eX(e.ease)&&(e.ease=TL[e.ease])}const ty=10;class nX extends ZY{constructor(t){tX(t),kL(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:a,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const s=new uj({...o,autoplay:!1}),l=Math.max(ty,Mn.now()-this.startTime),c=ki(0,ty,l-ty);n.setWithVelocity(s.sample(Math.max(0,l-c)).value,s.sample(l).value,c),s.stop()}}const TA=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Qa.test(e)||e==="0")&&!e.startsWith("url("));function rX(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function iX(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=TA(i,t),s=TA(a,t);return!o||!s?!1:rX(e)||(n==="spring"||PL(n))&&r}function zw(e){e.duration=0,e.type="keyframes"}const aX=new Set(["opacity","clipPath","filter","transform"]),oX=Z_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function sX(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:a,type:o}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return oX()&&n&&aX.has(n)&&(n!=="transform"||!c)&&!l&&!r&&i!=="mirror"&&a!==0&&o!=="inertia"}const lX=40;class cX extends cj{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",keyframes:s,name:l,motionValue:c,element:d,...f}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Mn.now();const h={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:o,name:l,motionValue:c,element:d,...f},p=d?.KeyframeResolver||dj;this.keyframeResolver=new p(s,(y,m,g)=>this.onKeyframesResolved(y,m,h,!g),l,c,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,r,i){this.keyframeResolver=void 0;const{name:a,type:o,velocity:s,delay:l,isHandoff:c,onUpdate:d}=r;this.resolvedAt=Mn.now(),iX(t,a,o,s)||((ea.instantAnimations||!l)&&d?.(lj(t,r,n)),t[0]=t[t.length-1],zw(r),r.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>lX?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},p=!c&&sX(h)?new nX({...h,element:h.motionValue.owner.current}):new uj(h);p.finished.then(()=>this.notifyFinished()).catch(Or),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),WY()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const uX=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function dX(e){const t=uX.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function NL(e,t,n=1){const[r,i]=dX(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const o=a.trim();return Z$(o)?parseFloat(o):o}return rj(i)?NL(i,t,n+1):i}function fj(e,t){return e?.[t]??e?.default??e}const fX={type:"spring",stiffness:500,damping:25,restSpeed:10},hX=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),pX={type:"keyframes",duration:.8},mX={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},gX=(e,{keyframes:t})=>t.length>2?pX:Gl.has(e)?e.startsWith("scale")?hX(t[1]):fX:mX;function yX({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:s,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const vX=e=>e!==null;function bX(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(vX),a=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[a]}function RL(e,t,n,r=0,i=1){const a=Array.from(e).sort((c,d)=>c.sortNodePosition(d)).indexOf(t),o=e.size,s=(o-1)*r;return typeof n=="function"?n(a,o):i===1?a*r:s-a*r}const hj=(e,t,n,r={},i,a)=>o=>{const s=fj(r,e)||{},l=s.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Yi(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...s,delay:-c,onUpdate:h=>{t.set(h),s.onUpdate&&s.onUpdate(h)},onComplete:()=>{o(),s.onComplete&&s.onComplete()},name:e,motionValue:t,element:a?void 0:i};yX(s)||Object.assign(d,gX(e,d)),d.duration&&(d.duration=Yi(d.duration)),d.repeatDelay&&(d.repeatDelay=Yi(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(zw(d),d.delay===0&&(f=!0)),(ea.instantAnimations||ea.skipAnimations)&&(f=!0,zw(d),d.delay=0),d.allowFlatten=!s.type&&!s.ease,f&&!a&&t.get()!==void 0){const h=bX(d.keyframes,s);if(h!==void 0){Pt.update(()=>{d.onUpdate(h),d.onComplete()});return}}return s.isSync?new uj(d):new cX(d)},IL=new Set(["width","height","top","left","right","bottom",...Hl]),NA=30,xX=e=>!isNaN(parseFloat(e));class wX{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=Mn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Mn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=xX(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new ej);const r=this.events[t].add(n);return t==="change"?()=>{r(),Pt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Mn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>NA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,NA);return nL(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ol(e,t){return new wX(e,t)}function RA(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function pj(e,t,n,r){if(typeof t=="function"){const[i,a]=RA(r);t=t(n!==void 0?n:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=RA(r);t=t(n!==void 0?n:e.custom,i,a)}return t}function Vs(e,t,n){const r=e.getProps();return pj(r,t,n!==void 0?n:r.custom,e)}const Fw=e=>Array.isArray(e);function SX(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ol(n))}function _X(e){return Fw(e)?e[e.length-1]||0:e}function jX(e,t){const n=Vs(e,t);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const o in a){const s=_X(a[o]);SX(e,o,s)}}const kn=e=>!!(e&&e.getVelocity);function kX(e){return!!(kn(e)&&e.add)}function Bw(e,t){const n=e.getValue("willChange");if(kX(n))return n.add(t);if(!n&&ea.WillChange){const r=new ea.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function mj(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const EX="framerAppearId",ML="data-"+mj(EX);function DL(e){return e.props[ML]}function AX({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function $L(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...s}=t;r&&(a=r);const l=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const d in s){const f=e.getValue(d,e.latestValues[d]??null),h=s[d];if(h===void 0||c&&AX(c,d))continue;const p={delay:n,...fj(a||{},d)},y=f.get();if(y!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===y&&!p.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const v=DL(e);if(v){const b=window.MotionHandoffAnimation(v,d,Pt);b!==null&&(p.startTime=b,m=!0)}}Bw(e,d),f.start(hj(d,f,h,e.shouldReduceMotion&&IL.has(d)?{type:!1}:p,e,m));const g=f.animation;g&&l.push(g)}return o&&Promise.all(l).then(()=>{Pt.update(()=>{o&&jX(e,o)})}),l}function qw(e,t,n={}){const r=Vs(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all($L(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=i;return OX(e,t,l,c,d,f,n)}:()=>Promise.resolve(),{when:s}=i;if(s){const[l,c]=s==="beforeChildren"?[a,o]:[o,a];return l().then(()=>c())}else return Promise.all([a(),o(n.delay)])}function OX(e,t,n=0,r=0,i=0,a=1,o){const s=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),s.push(qw(l,t,{...o,delay:n+(typeof r=="function"?0:r)+RL(e.variantChildren,l,r,i,a)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(s)}function CX(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>qw(e,a,n));r=Promise.all(i)}else if(typeof t=="string")r=qw(e,t,n);else{const i=typeof t=="function"?Vs(e,t,n.custom):t;r=Promise.all($L(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const PX={test:e=>e==="auto",parse:e=>e},LL=e=>t=>t.test(e),zL=[Wl,xe,bi,va,rY,nY,PX],IA=e=>zL.find(LL(e));function TX(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||tL(e):!0}const NX=new Set(["brightness","contrast","saturate","opacity"]);function RX(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(ij)||[];if(!r)return e;const i=n.replace(r,"");let a=NX.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const IX=/\b([a-z-]*)\(.*?\)/gu,Uw={...Qa,getAnimatableNone:e=>{const t=e.match(IX);return t?t.map(RX).join(" "):e}},MA={...Wl,transform:Math.round},MX={rotate:va,rotateX:va,rotateY:va,rotateZ:va,scale:cf,scaleX:cf,scaleY:cf,scaleZ:cf,skew:va,skewX:va,skewY:va,distance:xe,translateX:xe,translateY:xe,translateZ:xe,x:xe,y:xe,z:xe,perspective:xe,transformPerspective:xe,opacity:Cu,originX:wA,originY:wA,originZ:xe},gj={borderWidth:xe,borderTopWidth:xe,borderRightWidth:xe,borderBottomWidth:xe,borderLeftWidth:xe,borderRadius:xe,radius:xe,borderTopLeftRadius:xe,borderTopRightRadius:xe,borderBottomRightRadius:xe,borderBottomLeftRadius:xe,width:xe,maxWidth:xe,height:xe,maxHeight:xe,top:xe,right:xe,bottom:xe,left:xe,inset:xe,insetBlock:xe,insetBlockStart:xe,insetBlockEnd:xe,insetInline:xe,insetInlineStart:xe,insetInlineEnd:xe,padding:xe,paddingTop:xe,paddingRight:xe,paddingBottom:xe,paddingLeft:xe,paddingBlock:xe,paddingBlockStart:xe,paddingBlockEnd:xe,paddingInline:xe,paddingInlineStart:xe,paddingInlineEnd:xe,margin:xe,marginTop:xe,marginRight:xe,marginBottom:xe,marginLeft:xe,marginBlock:xe,marginBlockStart:xe,marginBlockEnd:xe,marginInline:xe,marginInlineStart:xe,marginInlineEnd:xe,backgroundPositionX:xe,backgroundPositionY:xe,...MX,zIndex:MA,fillOpacity:Cu,strokeOpacity:Cu,numOctaves:MA},DX={...gj,color:Yt,backgroundColor:Yt,outlineColor:Yt,fill:Yt,stroke:Yt,borderColor:Yt,borderTopColor:Yt,borderRightColor:Yt,borderBottomColor:Yt,borderLeftColor:Yt,filter:Uw,WebkitFilter:Uw},FL=e=>DX[e];function BL(e,t){let n=FL(e);return n!==Uw&&(n=Qa),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const $X=new Set(["auto","none","0"]);function LX(e,t,n){let r=0,i;for(;r<e.length&&!i;){const a=e[r];typeof a=="string"&&!$X.has(a)&&Pu(a).values.length&&(i=e[r]),r++}if(i&&n)for(const a of t)e[a]=BL(n,i)}class zX extends dj{constructor(t,n,r,i,a){super(t,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let f=t[d];if(typeof f=="string"&&(f=f.trim(),rj(f))){const h=NL(f,n.current);h!==void 0&&(t[d]=h),d===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!IL.has(r)||t.length!==2)return;const[i,a]=t,o=IA(i),s=IA(a),l=xA(i),c=xA(a);if(l!==c&&Ca[r]){this.needsMeasurement=!0;return}if(o!==s)if(CA(o)&&CA(s))for(let d=0;d<t.length;d++){const f=t[d];typeof f=="string"&&(t[d]=parseFloat(f))}else Ca[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||TX(t[i]))&&r.push(i);r.length&&LX(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ca[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,o=r[a];r[a]=Ca[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([s,l])=>{t.getValue(s).set(l)}),this.resolveNoneKeyframes()}}function FX(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const i=n?.[e]??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const qL=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function UL(e){return eL(e)&&"offsetHeight"in e}const{schedule:yj}=hL(queueMicrotask,!1),Fr={x:!1,y:!1};function VL(){return Fr.x||Fr.y}function BX(e){return e==="x"||e==="y"?Fr[e]?null:(Fr[e]=!0,()=>{Fr[e]=!1}):Fr.x||Fr.y?null:(Fr.x=Fr.y=!0,()=>{Fr.x=Fr.y=!1})}function WL(e,t){const n=FX(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function DA(e){return!(e.pointerType==="touch"||VL())}function qX(e,t,n={}){const[r,i,a]=WL(e,n),o=s=>{if(!DA(s))return;const{target:l}=s,c=t(l,s);if(typeof c!="function"||!l)return;const d=f=>{DA(f)&&(c(f),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,i)};return r.forEach(s=>{s.addEventListener("pointerenter",o,i)}),a}const HL=(e,t)=>t?e===t?!0:HL(e,t.parentElement):!1,vj=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,UX=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function GL(e){return UX.has(e.tagName)||e.isContentEditable===!0}const th=new WeakSet;function $A(e){return t=>{t.key==="Enter"&&e(t)}}function ny(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const VX=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=$A(()=>{if(th.has(n))return;ny(n,"down");const i=$A(()=>{ny(n,"up")}),a=()=>ny(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function LA(e){return vj(e)&&!VL()}function WX(e,t,n={}){const[r,i,a]=WL(e,n),o=s=>{const l=s.currentTarget;if(!LA(s))return;th.add(l);const c=t(l,s),d=(p,y)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),th.has(l)&&th.delete(l),LA(p)&&typeof c=="function"&&c(p,{success:y})},f=p=>{d(p,l===window||l===document||n.useGlobalTarget||HL(l,p.target))},h=p=>{d(p,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return r.forEach(s=>{(n.useGlobalTarget?window:s).addEventListener("pointerdown",o,i),UL(s)&&(s.addEventListener("focus",c=>VX(c,i)),!GL(s)&&!s.hasAttribute("tabindex")&&(s.tabIndex=0))}),a}function KL(e){return eL(e)&&"ownerSVGElement"in e}function HX(e){return KL(e)&&e.tagName==="svg"}const GX=[...zL,Yt,Qa],KX=e=>GX.find(LL(e)),zA=()=>({translate:0,scale:1,origin:0,originPoint:0}),Is=()=>({x:zA(),y:zA()}),FA=()=>({min:0,max:0}),tn=()=>({x:FA(),y:FA()}),Vw={current:null},YL={current:!1},YX=typeof window<"u";function XX(){if(YL.current=!0,!!YX)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Vw.current=e.matches;e.addEventListener("change",t),t()}else Vw.current=!1}const QX=new WeakMap;function bm(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Tu(e){return typeof e=="string"||Array.isArray(e)}const bj=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xj=["initial",...bj];function xm(e){return bm(e.animate)||xj.some(t=>Tu(e[t]))}function XL(e){return!!(xm(e)||e.variants)}function JX(e,t,n){for(const r in t){const i=t[r],a=n[r];if(kn(i))e.addValue(r,i);else if(kn(a))e.addValue(r,ol(i,{owner:e}));else if(a!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,ol(o!==void 0?o:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const BA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let kh={};function QL(e){kh=e}function ZX(){return kh}class eQ{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=dj,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Mn.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Pt.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.blockInitialAnimation=!!a,this.isControllingVariants=xm(n),this.isVariantNode=XL(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in f){const p=f[h];l[h]!==void 0&&kn(p)&&p.set(l[h])}}mount(t){this.current=t,QX.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(YL.current||XX(),this.shouldReduceMotion=Vw.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Xa(this.notifyUpdate),Xa(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Gl.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Pt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;typeof window<"u"&&window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in kh){const n=kh[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):tn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<BA.length;r++){const i=BA[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=t[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=JX(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=ol(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(Z$(r)||tL(r))?r=parseFloat(r):!KX(r)&&Qa.test(n)&&(r=BL(t,n)),this.setBaseTarget(t,kn(r)?r.get():r)),kn(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=pj(this.props,n,this.presenceContext?.custom);a&&(r=a[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!kn(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new ej),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){yj.render(this.render)}}class to{constructor(t){this.isMounted=!1,this.node=t}update(){}}class JL extends eQ{constructor(){super(...arguments),this.KeyframeResolver=zX}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){const r=t.style;return r?r[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;kn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function ZL({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function tQ({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function nQ(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ry(e){return e===void 0||e===1}function Ww({scale:e,scaleX:t,scaleY:n}){return!ry(e)||!ry(t)||!ry(n)}function xo(e){return Ww(e)||e3(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function e3(e){return qA(e.x)||qA(e.y)}function qA(e){return e&&e!=="0%"}function Eh(e,t,n){const r=e-n,i=t*r;return n+i}function UA(e,t,n,r,i){return i!==void 0&&(e=Eh(e,i,r)),Eh(e,n,r)+t}function Hw(e,t=0,n=1,r,i){e.min=UA(e.min,t,n,r,i),e.max=UA(e.max,t,n,r,i)}function t3(e,{x:t,y:n}){Hw(e.x,t.translate,t.scale,t.originPoint),Hw(e.y,n.translate,n.scale,n.originPoint)}const VA=.999999999999,WA=1.0000000000001;function rQ(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,o;for(let s=0;s<i;s++){a=n[s],o=a.projectionDelta;const{visualElement:l}=a.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ds(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,t3(e,o)),r&&xo(a.latestValues)&&Ds(e,a.latestValues))}t.x<WA&&t.x>VA&&(t.x=1),t.y<WA&&t.y>VA&&(t.y=1)}function Ms(e,t){e.min=e.min+t,e.max=e.max+t}function HA(e,t,n,r,i=.5){const a=It(e.min,e.max,i);Hw(e,t,n,a,r)}function Ds(e,t){HA(e.x,t.x,t.scaleX,t.scale,t.originX),HA(e.y,t.y,t.scaleY,t.scale,t.originY)}function n3(e,t){return ZL(nQ(e.getBoundingClientRect(),t))}function iQ(e,t,n){const r=n3(e,n),{scroll:i}=t;return i&&(Ms(r.x,i.offset.x),Ms(r.y,i.offset.y)),r}const aQ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},oQ=Hl.length;function sQ(e,t,n){let r="",i=!0;for(let a=0;a<oQ;a++){const o=Hl[a],s=e[o];if(s===void 0)continue;let l=!0;if(typeof s=="number"?l=s===(o.startsWith("scale")?1:0):l=parseFloat(s)===0,!l||n){const c=qL(s,gj[o]);if(!l){i=!1;const d=aQ[o]||o;r+=`${d}(${c}) `}n&&(t[o]=c)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function wj(e,t,n){const{style:r,vars:i,transformOrigin:a}=e;let o=!1,s=!1;for(const l in t){const c=t[l];if(Gl.has(l)){o=!0;continue}else if(mL(l)){i[l]=c;continue}else{const d=qL(c,gj[l]);l.startsWith("origin")?(s=!0,a[l]=d):r[l]=d}}if(t.transform||(o||n?r.transform=sQ(t,e.transform,n):r.transform&&(r.transform="none")),s){const{originX:l="50%",originY:c="50%",originZ:d=0}=a;r.transformOrigin=`${l} ${c} ${d}`}}function r3(e,{style:t,vars:n},r,i){const a=e.style;let o;for(o in t)a[o]=t[o];i?.applyProjectionStyles(a,r);for(o in n)a.setProperty(o,n[o])}function GA(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const _c={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(xe.test(e))e=parseFloat(e);else return e;const n=GA(e,t.target.x),r=GA(e,t.target.y);return`${n}% ${r}%`}},lQ={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Qa.parse(e);if(i.length>5)return r;const a=Qa.createTransformer(e),o=typeof i[0]!="number"?1:0,s=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=s,i[1+o]/=l;const c=It(s,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),a(i)}},Gw={borderRadius:{..._c,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_c,borderTopRightRadius:_c,borderBottomLeftRadius:_c,borderBottomRightRadius:_c,boxShadow:lQ};function i3(e,{layout:t,layoutId:n}){return Gl.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Gw[e]||e==="opacity")}function Sj(e,t,n){const r=e.style,i=t?.style,a={};if(!r)return a;for(const o in r)(kn(r[o])||i&&kn(i[o])||i3(o,e)||n?.getValue(o)?.liveStyle!==void 0)&&(a[o]=r[o]);return a}function cQ(e){return window.getComputedStyle(e)}class uQ extends JL{constructor(){super(...arguments),this.type="html",this.renderInstance=r3}readValueFromInstance(t,n){if(Gl.has(n))return this.projection?.isProjecting?Iw(n):FY(t,n);{const r=cQ(t),i=(mL(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return n3(t,n)}build(t,n,r){wj(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Sj(t,n,r)}}const dQ={offset:"stroke-dashoffset",array:"stroke-dasharray"},fQ={offset:"strokeDashoffset",array:"strokeDasharray"};function hQ(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?dQ:fQ;e[a.offset]=xe.transform(-r);const o=xe.transform(t),s=xe.transform(n);e[a.array]=`${o} ${s}`}const pQ=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function a3(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...s},l,c,d){if(wj(e,s,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=d?.transformBox??"fill-box",delete f.transformBox);for(const p of pQ)f[p]!==void 0&&(h[p]=f[p],delete f[p]);t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),i!==void 0&&hQ(f,i,a,o,!1)}const o3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),s3=e=>typeof e=="string"&&e.toLowerCase()==="svg";function mQ(e,t,n,r){r3(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(o3.has(i)?i:mj(i),t.attrs[i])}function l3(e,t,n){const r=Sj(e,t,n);for(const i in e)if(kn(e[i])||kn(t[i])){const a=Hl.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=e[i]}return r}class gQ extends JL{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=tn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Gl.has(n)){const r=FL(n);return r&&r.default||0}return n=o3.has(n)?n:mj(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return l3(t,n,r)}build(t,n,r){a3(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){mQ(t,n,r,i)}mount(t){this.isSVGTag=s3(t.tagName),super.mount(t)}}const yQ=xj.length;function c3(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?c3(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<yQ;n++){const r=xj[n],i=e.props[r];(Tu(i)||i===!1)&&(t[r]=i)}return t}function u3(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const vQ=[...bj].reverse(),bQ=bj.length;function xQ(e){return t=>Promise.all(t.map(({animation:n,options:r})=>CX(e,n,r)))}function wQ(e){let t=xQ(e),n=KA(),r=!0;const i=l=>(c,d)=>{const f=Vs(e,d,l==="exit"?e.presenceContext?.custom:void 0);if(f){const{transition:h,transitionEnd:p,...y}=f;c={...c,...y,...p}}return c};function a(l){t=l(e)}function o(l){const{props:c}=e,d=c3(e.parent)||{},f=[],h=new Set;let p={},y=1/0;for(let g=0;g<bQ;g++){const v=vQ[g],b=n[v],x=c[v]!==void 0?c[v]:d[v],_=Tu(x),w=v===l?b.isActive:null;w===!1&&(y=g);let j=x===d[v]&&x!==c[v]&&_;if(j&&r&&e.manuallyAnimateOnMount&&(j=!1),b.protectedKeys={...p},!b.isActive&&w===null||!x&&!b.prevProp||bm(x)||typeof x=="boolean")continue;const k=SQ(b.prevProp,x);let A=k||v===l&&b.isActive&&!j&&_||g>y&&_,P=!1;const O=Array.isArray(x)?x:[x];let T=O.reduce(i(v),{});w===!1&&(T={});const{prevResolvedValues:N={}}=b,M={...N,...T},E=z=>{A=!0,h.has(z)&&(P=!0,h.delete(z)),b.needsAnimating[z]=!0;const q=e.getValue(z);q&&(q.liveStyle=!1)};for(const z in M){const q=T[z],L=N[z];if(p.hasOwnProperty(z))continue;let D=!1;Fw(q)&&Fw(L)?D=!u3(q,L):D=q!==L,D?q!=null?E(z):h.add(z):q!==void 0&&h.has(z)?E(z):b.protectedKeys[z]=!0}b.prevProp=x,b.prevResolvedValues=T,b.isActive&&(p={...p,...T}),r&&e.blockInitialAnimation&&(A=!1);const R=j&&k;A&&(!R||P)&&f.push(...O.map(z=>{const q={type:v};if(typeof z=="string"&&r&&!R&&e.manuallyAnimateOnMount&&e.parent){const{parent:L}=e,D=Vs(L,z);if(L.enteringChildren&&D){const{delayChildren:W}=D.transition||{};q.delay=RL(L.enteringChildren,e,W)}}return{animation:z,options:q}}))}if(h.size){const g={};if(typeof c.initial!="boolean"){const v=Vs(e,Array.isArray(c.initial)?c.initial[0]:c.initial);v&&v.transition&&(g.transition=v.transition)}h.forEach(v=>{const b=e.getBaseTarget(v),x=e.getValue(v);x&&(x.liveStyle=!0),g[v]=b??null}),f.push({animation:g})}let m=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(m=!1),r=!1,m?t(f):Promise.resolve()}function s(l,c){if(n[l].isActive===c)return Promise.resolve();e.variantChildren?.forEach(f=>f.animationState?.setActive(l,c)),n[l].isActive=c;const d=o(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:s,setAnimateFunction:a,getState:()=>n,reset:()=>{n=KA()}}}function SQ(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!u3(t,e):!1}function fo(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function KA(){return{animate:fo(!0),whileInView:fo(),whileHover:fo(),whileTap:fo(),whileDrag:fo(),whileFocus:fo(),exit:fo()}}const d3=1e-4,_Q=1-d3,jQ=1+d3,f3=.01,kQ=0-f3,EQ=0+f3;function Dn(e){return e.max-e.min}function AQ(e,t,n){return Math.abs(e-t)<=n}function YA(e,t,n,r=.5){e.origin=r,e.originPoint=It(t.min,t.max,e.origin),e.scale=Dn(n)/Dn(t),e.translate=It(n.min,n.max,e.origin)-e.originPoint,(e.scale>=_Q&&e.scale<=jQ||isNaN(e.scale))&&(e.scale=1),(e.translate>=kQ&&e.translate<=EQ||isNaN(e.translate))&&(e.translate=0)}function ru(e,t,n,r){YA(e.x,t.x,n.x,r?r.originX:void 0),YA(e.y,t.y,n.y,r?r.originY:void 0)}function XA(e,t,n){e.min=n.min+t.min,e.max=e.min+Dn(t)}function OQ(e,t,n){XA(e.x,t.x,n.x),XA(e.y,t.y,n.y)}function QA(e,t,n){e.min=t.min-n.min,e.max=e.min+Dn(t)}function Ah(e,t,n){QA(e.x,t.x,n.x),QA(e.y,t.y,n.y)}function JA(e,t,n,r,i){return e-=t,e=Eh(e,1/n,r),i!==void 0&&(e=Eh(e,1/i,r)),e}function CQ(e,t=0,n=1,r=.5,i,a=e,o=e){if(bi.test(t)&&(t=parseFloat(t),t=It(o.min,o.max,t/100)-o.min),typeof t!="number")return;let s=It(a.min,a.max,r);e===a&&(s-=t),e.min=JA(e.min,t,n,s,i),e.max=JA(e.max,t,n,s,i)}function ZA(e,t,[n,r,i],a,o){CQ(e,t[n],t[r],t[i],t.scale,a,o)}const PQ=["x","scaleX","originX"],TQ=["y","scaleY","originY"];function eO(e,t,n,r){ZA(e.x,t,PQ,n?n.x:void 0,r?r.x:void 0),ZA(e.y,t,TQ,n?n.y:void 0,r?r.y:void 0)}function tO(e,t){e.min=t.min,e.max=t.max}function $r(e,t){tO(e.x,t.x),tO(e.y,t.y)}function nO(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function rO(e){return e.translate===0&&e.scale===1}function h3(e){return rO(e.x)&&rO(e.y)}function iO(e,t){return e.min===t.min&&e.max===t.max}function NQ(e,t){return iO(e.x,t.x)&&iO(e.y,t.y)}function aO(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function p3(e,t){return aO(e.x,t.x)&&aO(e.y,t.y)}function oO(e){return Dn(e.x)/Dn(e.y)}function sO(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function pr(e){return[e("x"),e("y")]}function RQ(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y,o=n?.z||0;if((i||a||o)&&(r=`translate3d(${i}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:f,rotateY:h,skewX:p,skewY:y}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),p&&(r+=`skewX(${p}deg) `),y&&(r+=`skewY(${y}deg) `)}const s=e.x.scale*t.x,l=e.y.scale*t.y;return(s!==1||l!==1)&&(r+=`scale(${s}, ${l})`),r||"none"}const m3=["TopLeft","TopRight","BottomLeft","BottomRight"],IQ=m3.length,lO=e=>typeof e=="string"?parseFloat(e):e,cO=e=>typeof e=="number"||xe.test(e);function MQ(e,t,n,r,i,a){i?(e.opacity=It(0,n.opacity??1,DQ(r)),e.opacityExit=It(t.opacity??1,0,$Q(r))):a&&(e.opacity=It(t.opacity??1,n.opacity??1,r));for(let o=0;o<IQ;o++){const s=`border${m3[o]}Radius`;let l=uO(t,s),c=uO(n,s);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||cO(l)===cO(c)?(e[s]=Math.max(It(lO(l),lO(c),r),0),(bi.test(c)||bi.test(l))&&(e[s]+="%")):e[s]=c}(t.rotate||n.rotate)&&(e.rotate=It(t.rotate||0,n.rotate||0,r))}function uO(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const DQ=g3(0,.5,cL),$Q=g3(.5,.95,Or);function g3(e,t,n){return r=>r<e?0:r>t?1:n(Ou(e,t,r))}function LQ(e,t){const n=Mn.now(),r=({timestamp:i})=>{const a=i-n;a>=t&&(Xa(r),e(a-t))};return Pt.setup(r,!0),()=>Xa(r)}function Nu(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function nh(e){return kn(e)?e.get():e}function zQ(e,t,n){const r=kn(e)?e:ol(e);return r.start(hj("",r,t,n)),r.animation}const FQ=(e,t)=>e.depth-t.depth;class BQ{constructor(){this.children=[],this.isDirty=!1}add(t){X_(this.children,t),this.isDirty=!0}remove(t){Q_(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(FQ),this.isDirty=!1,this.children.forEach(t)}}class qQ{constructor(){this.members=[]}add(t){X_(this.members,t),t.scheduleRender()}remove(t){if(Q_(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const rh={hasAnimatedSinceResize:!0,hasEverUpdated:!1},iy=["","X","Y","Z"],UQ=1e3;let VQ=0;function ay(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function y3(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=DL(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Pt,!(i||a))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&y3(r)}function v3({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},s=t?.()){this.id=VQ++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(GQ),this.nodes.forEach(QQ),this.nodes.forEach(JQ),this.nodes.forEach(KQ)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new BQ)}addEventListener(o,s){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ej),this.eventHandlers.get(o).add(s)}notifyListeners(o,...s){const l=this.eventHandlers.get(o);l&&l.notify(...s)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=KL(o)&&!HX(o),this.instance=o;const{layoutId:s,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||s)&&(this.isLayoutDirty=!0),e){let d,f=0;const h=()=>this.root.updateBlockedByResize=!1;Pt.read(()=>{f=window.innerWidth}),e(o,()=>{const p=window.innerWidth;p!==f&&(f=p,this.root.updateBlockedByResize=!0,d&&d(),d=LQ(h,250),rh.hasAnimatedSinceResize&&(rh.hasAnimatedSinceResize=!1,this.nodes.forEach(hO)))})}s&&this.root.registerSharedNode(s,this),this.options.animate!==!1&&c&&(s||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||c.getDefaultTransition()||rJ,{onLayoutAnimationStart:m,onLayoutAnimationComplete:g}=c.getProps(),v=!this.targetLayout||!p3(this.targetLayout,p),b=!f&&h;if(this.options.layoutRoot||this.resumeFrom||b||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const x={...fj(y,"layout"),onPlay:m,onComplete:g};(c.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x),this.setAnimationOrigin(d,b)}else f||hO(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Xa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ZQ),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&y3(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:s,layout:l}=this.options;if(s===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(dO);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(fO);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(XQ),this.nodes.forEach(WQ),this.nodes.forEach(HQ)):this.nodes.forEach(fO),this.clearAllSnapshots();const s=Mn.now();bn.delta=ki(0,1e3/60,s-bn.timestamp),bn.timestamp=s,bn.isProcessing=!0,Xg.update.process(bn),Xg.preRender.process(bn),Xg.render.process(bn),bn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,yj.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(YQ),this.sharedNodes.forEach(eJ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Pt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Pt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Dn(this.snapshot.measuredBox.x)&&!Dn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=tn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let s=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(s=!1),s&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,s=this.projectionDelta&&!h3(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&this.instance&&(s||xo(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const s=this.measurePageBox();let l=this.removeElementScroll(s);return o&&(l=this.removeTransform(l)),iJ(l),{animationId:this.root.animationId,measuredBox:s,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return tn();const s=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(aJ))){const{scroll:c}=this.root;c&&(Ms(s.x,c.offset.x),Ms(s.y,c.offset.y))}return s}removeElementScroll(o){const s=tn();if($r(s,o),this.scroll?.wasRoot)return s;for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:f}=c;c!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&$r(s,o),Ms(s.x,d.offset.x),Ms(s.y,d.offset.y))}return s}applyTransform(o,s=!1){const l=tn();$r(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!s&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ds(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),xo(d.latestValues)&&Ds(l,d.latestValues)}return xo(this.latestValues)&&Ds(l,this.latestValues),l}removeTransform(o){const s=tn();$r(s,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!xo(c.latestValues))continue;Ww(c.latestValues)&&c.updateSnapshot();const d=tn(),f=c.measurePageBox();$r(d,f),eO(s,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return xo(this.latestValues)&&eO(s,this.latestValues),s}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==bn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==s;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!this.layout||!(d||f))return;this.resolvedRelativeTargetAt=bn.timestamp;const h=this.getClosestProjectingParent();h&&this.linkedParentVersion!==h.layoutVersion&&!h.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(h&&h.layout?this.createRelativeTarget(h,this.layout.layoutBox,h.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=tn(),this.targetWithTransforms=tn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),OQ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$r(this.target,this.layout.layoutBox),t3(this.target,this.targetDelta)):$r(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?this.createRelativeTarget(h,this.target,h.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Ww(this.parent.latestValues)||e3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,s,l){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tn(),this.relativeTargetOrigin=tn(),Ah(this.relativeTargetOrigin,s,l),$r(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const o=this.getLead(),s=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(l=!1),s&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===bn.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;$r(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;rQ(this.layoutCorrected,this.treeScale,this.path,s),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=tn());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(nO(this.prevProjectionDelta.x,this.projectionDelta.x),nO(this.prevProjectionDelta.y,this.projectionDelta.y)),ru(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!sO(this.projectionDelta.x,this.prevProjectionDelta.x)||!sO(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const s=this.getStack();s&&s.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Is(),this.projectionDelta=Is(),this.projectionDeltaWithTransform=Is()}setAnimationOrigin(o,s=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=Is();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;const h=tn(),p=l?l.source:void 0,y=this.layout?this.layout.source:void 0,m=p!==y,g=this.getStack(),v=!g||g.members.length<=1,b=!!(m&&!v&&this.options.crossfade===!0&&!this.path.some(nJ));this.animationProgress=0;let x;this.mixTargetDelta=_=>{const w=_/1e3;pO(f.x,o.x,w),pO(f.y,o.y,w),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ah(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),tJ(this.relativeTarget,this.relativeTargetOrigin,h,w),x&&NQ(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=tn()),$r(x,this.relativeTarget)),m&&(this.animationValues=d,MQ(d,c,this.latestValues,w,b,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Xa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Pt.update(()=>{rh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ol(0)),this.currentAnimation=zQ(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:s=>{this.mixTargetDelta(s),o.onUpdate&&o.onUpdate(s)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(UQ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:s,target:l,layout:c,latestValues:d}=o;if(!(!s||!l||!c)){if(this!==o&&this.layout&&c&&b3(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||tn();const f=Dn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const h=Dn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}$r(s,l),Ds(s,d),ru(this.projectionDeltaWithTransform,this.layoutCorrected,s,d)}}registerSharedNode(o,s){this.sharedNodes.has(o)||this.sharedNodes.set(o,new qQ),this.sharedNodes.get(o).add(s);const c=s.options.initialPromotionConfig;s.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(s):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:s,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let s=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(s=!0),!s)return;const c={};l.z&&ay("z",o,c,this.animationValues);for(let d=0;d<iy.length;d++)ay(`rotate${iy[d]}`,o,c,this.animationValues),ay(`skew${iy[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}applyProjectionStyles(o,s){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=nh(s?.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=nh(s?.pointerEvents)||""),this.hasProjected&&!xo(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=c.animationValues||c.latestValues;this.applyTransformsToTarget();let f=RQ(this.projectionDeltaWithTransform,this.treeScale,d);l&&(f=l(d,f)),o.transform=f;const{x:h,y:p}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,c.animationValues?o.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const y in Gw){if(d[y]===void 0)continue;const{correct:m,applyTo:g,isCSSVariable:v}=Gw[y],b=f==="none"?d[y]:m(d[y],c);if(g){const x=g.length;for(let _=0;_<x;_++)o[g[_]]=b}else v?this.options.visualElement.renderState.vars[y]=b:o[y]=b}this.options.layoutId&&(o.pointerEvents=c===this?nh(s?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(dO),this.root.sharedNodes.clear()}}}function WQ(e){e.updateLayout()}function HQ(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:i}=e.options,a=t.source!==e.layout.source;i==="size"?pr(d=>{const f=a?t.measuredBox[d]:t.layoutBox[d],h=Dn(f);f.min=n[d].min,f.max=f.min+h}):b3(i,t.layoutBox,n)&&pr(d=>{const f=a?t.measuredBox[d]:t.layoutBox[d],h=Dn(n[d]);f.max=f.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+h)});const o=Is();ru(o,n,t.layoutBox);const s=Is();a?ru(s,e.applyTransform(r,!0),t.measuredBox):ru(s,n,t.layoutBox);const l=!h3(o);let c=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:h}=d;if(f&&h){const p=tn();Ah(p,t.layoutBox,f.layoutBox);const y=tn();Ah(y,n,h.layoutBox),p3(p,y)||(c=!0),d.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=p,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:s,layoutDelta:o,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function GQ(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function KQ(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function YQ(e){e.clearSnapshot()}function dO(e){e.clearMeasurements()}function fO(e){e.isLayoutDirty=!1}function XQ(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function hO(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function QQ(e){e.resolveTargetDelta()}function JQ(e){e.calcProjection()}function ZQ(e){e.resetSkewAndRotation()}function eJ(e){e.removeLeadSnapshot()}function pO(e,t,n){e.translate=It(t.translate,0,n),e.scale=It(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function mO(e,t,n,r){e.min=It(t.min,n.min,r),e.max=It(t.max,n.max,r)}function tJ(e,t,n,r){mO(e.x,t.x,n.x,r),mO(e.y,t.y,n.y,r)}function nJ(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const rJ={duration:.45,ease:[.4,0,.1,1]},gO=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),yO=gO("applewebkit/")&&!gO("chrome/")?Math.round:Or;function vO(e){e.min=yO(e.min),e.max=yO(e.max)}function iJ(e){vO(e.x),vO(e.y)}function b3(e,t,n){return e==="position"||e==="preserve-aspect"&&!AQ(oO(t),oO(n),.2)}function aJ(e){return e!==e.root&&e.scroll?.wasRoot}const oJ=v3({attachResizeListener:(e,t)=>Nu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),oy={current:void 0},x3=v3({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!oy.current){const e=new oJ({});e.mount(window),e.setOptions({layoutScroll:!0}),oy.current=e}return oy.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),_j=S.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function bO(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function sJ(...e){return t=>{let n=!1;const r=e.map(i=>{const a=bO(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():bO(e[i],null)}}}}function lJ(...e){return S.useCallback(sJ(...e),e)}class cJ extends S.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=UL(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function uJ({children:e,isPresent:t,anchorX:n,root:r}){const i=S.useId(),a=S.useRef(null),o=S.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:s}=S.useContext(_j),l=e.props?.ref??e?.ref,c=lJ(a,l);return S.useInsertionEffect(()=>{const{width:d,height:f,top:h,left:p,right:y}=o.current;if(t||!a.current||!d||!f)return;const m=n==="left"?`left: ${p}`:`right: ${y}`;a.current.dataset.motionPopId=i;const g=document.createElement("style");s&&(g.nonce=s);const v=r??document.head;return v.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${f}px !important;
            ${m}px !important;
            top: ${h}px !important;
          }
        `),()=>{v.contains(g)&&v.removeChild(g)}},[t]),u.jsx(cJ,{isPresent:t,childRef:a,sizeRef:o,children:S.cloneElement(e,{ref:c})})}const dJ=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:o,anchorX:s,root:l})=>{const c=Y_(fJ),d=S.useId();let f=!0,h=S.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:n,custom:i,onExitComplete:p=>{c.set(p,!0);for(const y of c.values())if(!y)return;r&&r()},register:p=>(c.set(p,!1),()=>c.delete(p))}),[n,c,r]);return a&&f&&(h={...h}),S.useMemo(()=>{c.forEach((p,y)=>c.set(y,!1))},[n]),S.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),o==="popLayout"&&(e=u.jsx(uJ,{isPresent:n,anchorX:s,root:l,children:e})),u.jsx(vm.Provider,{value:h,children:e})};function fJ(){return new Map}function w3(e=!0){const t=S.useContext(vm);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,a=S.useId();S.useEffect(()=>{if(e)return i(a)},[e]);const o=S.useCallback(()=>e&&r&&r(a),[a,r,e]);return!n&&r?[!1,o]:[!0]}const uf=e=>e.key||"";function xO(e){const t=[];return S.Children.forEach(e,n=>{S.isValidElement(n)&&t.push(n)}),t}const S3=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1,anchorX:s="left",root:l})=>{const[c,d]=w3(o),f=S.useMemo(()=>xO(e),[e]),h=o&&!c?[]:f.map(uf),p=S.useRef(!0),y=S.useRef(f),m=Y_(()=>new Map),g=S.useRef(new Set),[v,b]=S.useState(f),[x,_]=S.useState(f);J$(()=>{p.current=!1,y.current=f;for(let k=0;k<x.length;k++){const A=uf(x[k]);h.includes(A)?(m.delete(A),g.current.delete(A)):m.get(A)!==!0&&m.set(A,!1)}},[x,h.length,h.join("-")]);const w=[];if(f!==v){let k=[...f];for(let A=0;A<x.length;A++){const P=x[A],O=uf(P);h.includes(O)||(k.splice(A,0,P),w.push(P))}return a==="wait"&&w.length&&(k=w),_(xO(k)),b(f),null}const{forceRender:j}=S.useContext(K_);return u.jsx(u.Fragment,{children:x.map(k=>{const A=uf(k),P=o&&!c?!1:f===x||h.includes(A),O=()=>{if(g.current.has(A))return;if(g.current.add(A),m.has(A))m.set(A,!0);else return;let T=!0;m.forEach(N=>{N||(T=!1)}),T&&(j?.(),_(y.current),o&&d?.(),r&&r())};return u.jsx(dJ,{isPresent:P,initial:!p.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:a,root:l,onExitComplete:P?void 0:O,anchorX:s,children:k},A)})})},_3=S.createContext({strict:!1}),wO={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let SO=!1;function hJ(){if(SO)return;const e={};for(const t in wO)e[t]={isEnabled:n=>wO[t].some(r=>!!n[r])};QL(e),SO=!0}function j3(){return hJ(),ZX()}function pJ(e){const t=j3();for(const n in e)t[n]={...t[n],...e[n]};QL(t)}const mJ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Oh(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||mJ.has(e)}let k3=e=>!Oh(e);function gJ(e){typeof e=="function"&&(k3=t=>t.startsWith("on")?!Oh(t):e(t))}try{gJ(require("@emotion/is-prop-valid").default)}catch{}function yJ(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(k3(i)||n===!0&&Oh(i)||!t&&!Oh(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}const wm=S.createContext({});function vJ(e,t){if(xm(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Tu(n)?n:void 0,animate:Tu(r)?r:void 0}}return e.inherit!==!1?t:{}}function bJ(e){const{initial:t,animate:n}=vJ(e,S.useContext(wm));return S.useMemo(()=>({initial:t,animate:n}),[_O(t),_O(n)])}function _O(e){return Array.isArray(e)?e.join(" "):e}const jj=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function E3(e,t,n){for(const r in t)!kn(t[r])&&!i3(r,n)&&(e[r]=t[r])}function xJ({transformTemplate:e},t){return S.useMemo(()=>{const n=jj();return wj(n,t,e),Object.assign({},n.vars,n.style)},[t])}function wJ(e,t){const n=e.style||{},r={};return E3(r,n,e),Object.assign(r,xJ(e,t)),r}function SJ(e,t){const n={},r=wJ(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const A3=()=>({...jj(),attrs:{}});function _J(e,t,n,r){const i=S.useMemo(()=>{const a=A3();return a3(a,t,s3(r),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};E3(a,e.style,e),i.style={...a,...i.style}}return i}const jJ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function kj(e){return typeof e!="string"||e.includes("-")?!1:!!(jJ.indexOf(e)>-1||/[A-Z]/u.test(e))}function kJ(e,t,n,{latestValues:r},i,a=!1,o){const l=(o??kj(e)?_J:SJ)(t,r,i,e),c=yJ(t,typeof e=="string",a),d=e!==S.Fragment?{...c,...l,ref:n}:{},{children:f}=t,h=S.useMemo(()=>kn(f)?f.get():f,[f]);return S.createElement(e,{...d,children:h})}function EJ({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:AJ(n,r,i,e),renderState:t()}}function AJ(e,t,n,r){const i={},a=r(e,{});for(const h in a)i[h]=nh(a[h]);let{initial:o,animate:s}=e;const l=xm(e),c=XL(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),s===void 0&&(s=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?s:o;if(f&&typeof f!="boolean"&&!bm(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const y=pj(e,h[p]);if(y){const{transitionEnd:m,transition:g,...v}=y;for(const b in v){let x=v[b];if(Array.isArray(x)){const _=d?x.length-1:0;x=x[_]}x!==null&&(i[b]=x)}for(const b in m)i[b]=m[b]}}}return i}const O3=e=>(t,n)=>{const r=S.useContext(wm),i=S.useContext(vm),a=()=>EJ(e,t,r,i);return n?a():Y_(a)},OJ=O3({scrapeMotionValuesFromProps:Sj,createRenderState:jj}),CJ=O3({scrapeMotionValuesFromProps:l3,createRenderState:A3}),PJ=Symbol.for("motionComponentSymbol");function TJ(e,t,n){const r=S.useRef(n);S.useInsertionEffect(()=>{r.current=n});const i=S.useRef(null);return S.useCallback(a=>{a&&e.onMount?.(a),t&&(a?t.mount(a):t.unmount());const o=r.current;if(typeof o=="function")if(a){const s=o(a);typeof s=="function"&&(i.current=s)}else i.current?(i.current(),i.current=null):o(a);else o&&(o.current=a)},[t])}const C3=S.createContext({});function Vc(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function NJ(e,t,n,r,i,a){const{visualElement:o}=S.useContext(wm),s=S.useContext(_3),l=S.useContext(vm),c=S.useContext(_j).reducedMotion,d=S.useRef(null);r=r||s.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c,isSVG:a}));const f=d.current,h=S.useContext(C3);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&RJ(d.current,n,i,h);const p=S.useRef(!1);S.useInsertionEffect(()=>{f&&p.current&&f.update(n,l)});const y=n[ML],m=S.useRef(!!y&&!window.MotionHandoffIsComplete?.(y)&&window.MotionHasOptimisedAnimation?.(y));return J$(()=>{f&&(p.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),m.current&&f.animationState&&f.animationState.animateChanges())}),S.useEffect(()=>{f&&(!m.current&&f.animationState&&f.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(y)}),m.current=!1),f.enteringChildren=void 0)}),f}function RJ(e,t,n,r){const{layoutId:i,layout:a,drag:o,dragConstraints:s,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:P3(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||s&&Vc(s),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}function P3(e){if(e)return e.options.allowProjection!==!1?e.projection:P3(e.parent)}function sy(e,{forwardMotionProps:t=!1,type:n}={},r,i){r&&pJ(r);const a=n?n==="svg":kj(e),o=a?CJ:OJ;function s(c,d){let f;const h={...S.useContext(_j),...c,layoutId:IJ(c)},{isStatic:p}=h,y=bJ(c),m=o(c,p);if(!p&&Q$){MJ();const g=DJ(h);f=g.MeasureLayout,y.visualElement=NJ(e,m,h,i,g.ProjectionNode,a)}return u.jsxs(wm.Provider,{value:y,children:[f&&y.visualElement?u.jsx(f,{visualElement:y.visualElement,...h}):null,kJ(e,c,TJ(m,y.visualElement,d),m,p,t,a)]})}s.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const l=S.forwardRef(s);return l[PJ]=e,l}function IJ({layoutId:e}){const t=S.useContext(K_).id;return t&&e!==void 0?t+"-"+e:e}function MJ(e,t){S.useContext(_3).strict}function DJ(e){const t=j3(),{drag:n,layout:r}=t;if(!n&&!r)return{};const i={...n,...r};return{MeasureLayout:n?.isEnabled(e)||r?.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function $J(e,t){if(typeof Proxy>"u")return sy;const n=new Map,r=(a,o)=>sy(a,o,e,t),i=(a,o)=>r(a,o);return new Proxy(i,{get:(a,o)=>o==="create"?r:(n.has(o)||n.set(o,sy(o,void 0,e,t)),n.get(o))})}const LJ=(e,t)=>t.isSVG??kj(e)?new gQ(t):new uQ(t,{allowProjection:e!==S.Fragment});class zJ extends to{constructor(t){super(t),t.animationState||(t.animationState=wQ(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();bm(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let FJ=0;class BJ extends to{constructor(){super(...arguments),this.id=FJ++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const qJ={animation:{Feature:zJ},exit:{Feature:BJ}};function Md(e){return{point:{x:e.pageX,y:e.pageY}}}const UJ=e=>t=>vj(t)&&e(t,Md(t));function iu(e,t,n,r){return Nu(e,t,UJ(n),r)}const T3=({current:e})=>e?e.ownerDocument.defaultView:null,jO=(e,t)=>Math.abs(e-t);function VJ(e,t){const n=jO(e.x,t.x),r=jO(e.y,t.y);return Math.sqrt(n**2+r**2)}const kO=new Set(["auto","scroll"]);class N3{constructor(t,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3,element:s}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=p=>{this.handleScroll(p.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=cy(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,m=VJ(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!m)return;const{point:g}=p,{timestamp:v}=bn;this.history.push({...g,timestamp:v});const{onStart:b,onMove:x}=this.handlers;y||(b&&b(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,p)},this.handlePointerMove=(p,y)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=ly(y,this.transformPagePoint),Pt.update(this.updatePoint,!0)},this.handlePointerUp=(p,y)=>{this.end();const{onEnd:m,onSessionEnd:g,resumeAnimation:v}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=cy(p.type==="pointercancel"?this.lastMoveEventInfo:ly(y,this.transformPagePoint),this.history);this.startEvent&&m&&m(p,b),g&&g(p,b)},!vj(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const l=Md(t),c=ly(l,this.transformPagePoint),{point:d}=c,{timestamp:f}=bn;this.history=[{...d,timestamp:f}];const{onSessionStart:h}=n;h&&h(t,cy(c,this.history)),this.removeListeners=Nd(iu(this.contextWindow,"pointermove",this.handlePointerMove),iu(this.contextWindow,"pointerup",this.handlePointerUp),iu(this.contextWindow,"pointercancel",this.handlePointerUp)),s&&this.startScrollTracking(s)}startScrollTracking(t){let n=t.parentElement;for(;n;){const r=getComputedStyle(n);(kO.has(r.overflowX)||kO.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const r=t===window,i=r?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},a={x:i.x-n.x,y:i.y-n.y};a.x===0&&a.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=a.x,this.lastMoveEventInfo.point.y+=a.y):this.history.length>0&&(this.history[0].x-=a.x,this.history[0].y-=a.y),this.scrollPositions.set(t,i),Pt.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Xa(this.updatePoint)}}function ly(e,t){return t?{point:t(e.point)}:e}function EO(e,t){return{x:e.x-t.x,y:e.y-t.y}}function cy({point:e},t){return{point:e,delta:EO(e,R3(t)),offset:EO(e,WJ(t)),velocity:HJ(t,.1)}}function WJ(e){return e[0]}function R3(e){return e[e.length-1]}function HJ(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=R3(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Yi(t)));)n--;if(!r)return{x:0,y:0};const a=Er(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function GJ(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?It(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?It(n,e,r.max):Math.min(e,n)),e}function AO(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function KJ(e,{top:t,left:n,bottom:r,right:i}){return{x:AO(e.x,n,i),y:AO(e.y,t,r)}}function OO(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function YJ(e,t){return{x:OO(e.x,t.x),y:OO(e.y,t.y)}}function XJ(e,t){let n=.5;const r=Dn(e),i=Dn(t);return i>r?n=Ou(t.min,t.max-r,e.min):r>i&&(n=Ou(e.min,e.max-i,t.min)),ki(0,1,n)}function QJ(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Kw=.35;function JJ(e=Kw){return e===!1?e=0:e===!0&&(e=Kw),{x:CO(e,"left","right"),y:CO(e,"top","bottom")}}function CO(e,t,n){return{min:PO(e,t),max:PO(e,n)}}function PO(e,t){return typeof e=="number"?e:e[t]||0}const ZJ=new WeakMap;class eZ{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=tn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=f=>{n?(this.stopAnimation(),this.snapToCursor(Md(f).point)):this.pauseAnimation()},o=(f,h)=>{this.stopAnimation();const{drag:p,dragPropagation:y,onDragStart:m}=this.getProps();if(p&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=BX(p),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),pr(v=>{let b=this.getAxisMotionValue(v).get()||0;if(bi.test(b)){const{projection:x}=this.visualElement;if(x&&x.layout){const _=x.layout.layoutBox[v];_&&(b=Dn(_)*(parseFloat(b)/100))}}this.originPoint[v]=b}),m&&Pt.postRender(()=>m(f,h)),Bw(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},s=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:p,dragDirectionLock:y,onDirectionLock:m,onDrag:g}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:v}=h;if(y&&this.currentDirection===null){this.currentDirection=tZ(v),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",h.point,v),this.updateAxis("y",h.point,v),this.visualElement.render(),g&&g(f,h)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>pr(f=>this.getAnimationState(f)==="paused"&&this.getAxisMotionValue(f).animation?.play()),{dragSnapToOrigin:d}=this.getProps();this.panSession=new N3(t,{onSessionStart:a,onStart:o,onMove:s,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:T3(this.visualElement),element:this.visualElement.current})}stop(t,n){const r=t||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:s}=this.getProps();s&&Pt.postRender(()=>s(r,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!df(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=GJ(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;t&&Vc(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=KJ(r.layoutBox,t):this.constraints=!1,this.elastic=JJ(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&pr(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=QJ(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Vc(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=iQ(r,i.root,this.visualElement.getTransformPagePoint());let o=YJ(i.layout.layoutBox,a);if(n){const s=n(tQ(o));this.hasMutatedConstraints=!!s,s&&(o=ZL(s))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},c=pr(d=>{if(!df(d,n,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const h=i?200:1e6,p=i?40:1e7,y={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(d,y)});return Promise.all(c).then(s)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Bw(this.visualElement,t),r.start(hj(t,r,0,n,this.visualElement,!1))}stopAnimation(){pr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){pr(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){pr(n=>{const{drag:r}=this.getProps();if(!df(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:s}=i.layout.layoutBox[n],l=a.get()||0;a.set(t[n]-It(o,s,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Vc(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};pr(o=>{const s=this.getAxisMotionValue(o);if(s&&this.constraints!==!1){const l=s.get();i[o]=XJ({min:l,max:l},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),pr(o=>{if(!df(o,t,null))return;const s=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];s.set(It(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;ZJ.set(this.visualElement,this);const t=this.visualElement.current,n=iu(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&!GL(l.target)&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Vc(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Pt.read(r);const o=Nu(window,"resize",()=>this.scalePositionWithinConstraints()),s=i.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(pr(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())}));return()=>{o(),n(),a(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=Kw,dragMomentum:s=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:s}}}function df(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function tZ(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class nZ extends to{constructor(t){super(t),this.removeGroupControls=Or,this.removeListeners=Or,this.controls=new eZ(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Or}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const TO=e=>(t,n)=>{e&&Pt.postRender(()=>e(t,n))};class rZ extends to{constructor(){super(...arguments),this.removePointerDownListener=Or}onPointerDown(t){this.session=new N3(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:T3(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:TO(t),onStart:TO(n),onMove:r,onEnd:(a,o)=>{delete this.session,i&&Pt.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=iu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let uy=!1;class iZ extends S.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),uy&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),rh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,{projection:o}=r;return o&&(o.isPresent=a,uy=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==a?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||Pt.postRender(()=>{const s=o.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),yj.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;uy=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function I3(e){const[t,n]=w3(),r=S.useContext(K_);return u.jsx(iZ,{...e,layoutGroup:r,switchLayoutGroup:S.useContext(C3),isPresent:t,safeToRemove:n})}const aZ={pan:{Feature:rZ},drag:{Feature:nZ,ProjectionNode:x3,MeasureLayout:I3}};function NO(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&Pt.postRender(()=>a(t,Md(t)))}class oZ extends to{mount(){const{current:t}=this.node;t&&(this.unmount=qX(t,(n,r)=>(NO(this.node,r,"Start"),i=>NO(this.node,i,"End"))))}unmount(){}}class sZ extends to{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Nd(Nu(this.node.current,"focus",()=>this.onFocus()),Nu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function RO(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&Pt.postRender(()=>a(t,Md(t)))}class lZ extends to{mount(){const{current:t}=this.node;t&&(this.unmount=WX(t,(n,r)=>(RO(this.node,r,"Start"),(i,{success:a})=>RO(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Yw=new WeakMap,dy=new WeakMap,cZ=e=>{const t=Yw.get(e.target);t&&t(e)},uZ=e=>{e.forEach(cZ)};function dZ({root:e,...t}){const n=e||document;dy.has(n)||dy.set(n,{});const r=dy.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(uZ,{root:e,...t})),r[i]}function fZ(e,t,n){const r=dZ(t);return Yw.set(e,n),r.observe(e),()=>{Yw.delete(e),r.unobserve(e)}}const hZ={some:0,all:1};class pZ extends to{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:hZ[i]},s=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,a&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=c?d:f;h&&h(l)};return fZ(this.node.current,o,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(mZ(t,n))&&this.startObserver()}unmount(){}}function mZ({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const gZ={inView:{Feature:pZ},tap:{Feature:lZ},focus:{Feature:sZ},hover:{Feature:oZ}},yZ={layout:{ProjectionNode:x3,MeasureLayout:I3}},vZ={...qJ,...gZ,...aZ,...yZ},Qe=$J(vZ,LJ),Ej=Od("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ce=S.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},a)=>{const o=r?XW:"button";return u.jsx(o,{className:ae(Ej({variant:t,size:n,className:e})),ref:a,...i})});Ce.displayName="Button";const bZ=()=>{const[e,t]=S.useState(!1),n=c5();S.useEffect(()=>{t(!1)},[n]),S.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]);const r=[{path:"/features",label:"Funzionalit"},{path:"/philosophy",label:"Filosofia"},{path:"/tech",label:"Tech"},{path:"/creator",label:"Il Founder"},{path:"/faq",label:"FAQ"}];return u.jsxs("div",{className:"md:hidden",children:[u.jsx(Ce,{variant:"ghost",size:"icon",className:"relative z-[10000] text-white hover:bg-white/10",onClick:()=>t(!e),children:e?u.jsx(Ga,{}):u.jsx(v9,{})}),Xr.createPortal(u.jsx(S3,{children:e&&u.jsxs(Qe.div,{initial:{opacity:0,x:"100%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed inset-0 z-[9999] bg-black/80 backdrop-blur-xl pt-24 px-6",children:[u.jsx(Ce,{variant:"ghost",size:"icon",className:"absolute top-4 right-6 text-white hover:bg-white/10",onClick:()=>t(!1),children:u.jsx(Ga,{})}),u.jsxs("nav",{className:"flex flex-col gap-6",children:[r.map((i,a)=>u.jsx(Qe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:a*.1},children:u.jsxs(yr,{to:i.path,className:"text-2xl font-medium text-white/80 hover:text-white flex items-center justify-between group py-2 border-b border-white/5",children:[i.label,u.jsx($5,{size:20,className:"opacity-0 group-hover:opacity-100 -translate-x-4 group-hover:translate-x-0 transition-all text-purple-400"})]})},i.path)),u.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-8 grid grid-cols-2 gap-4",children:[u.jsx(yr,{to:"/get-started",children:u.jsx(Ce,{className:"w-full h-12 text-sm md:text-lg rounded-xl bg-white text-black hover:bg-zinc-200",children:"Guida"})}),u.jsx("a",{href:"https://github.com/simo-hue/mattioli.OS",target:"_blank",rel:"noreferrer",children:u.jsx(Ce,{className:"w-full h-12 bg-white/10 border border-white/10 text-white hover:bg-white/20 rounded-xl px-8 text-sm md:text-lg",children:"GitHub"})})]})]})]})}),document.body)]})},cs=()=>u.jsx("nav",{className:"fixed top-0 w-full z-50 border-b border-white/10 bg-black/50 backdrop-blur-md",children:u.jsxs("div",{className:"container mx-auto px-6 h-16 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(yr,{to:"/",className:"flex items-center gap-2",children:u.jsx("span",{className:"text-xl font-bold tracking-tight bg-gradient-to-r from-white to-white/60 bg-clip-text text-transparent",children:"Mattioli.OS"})}),u.jsx("span",{className:"px-2 py-0.5 rounded-full bg-white/5 text-[10px] font-medium border border-white/10 text-white/60",children:"v4.1"})]}),u.jsxs("div",{className:"hidden md:flex items-center gap-8 text-sm text-zinc-400",children:[u.jsx(yr,{to:"/features",className:"hover:text-white transition-colors",children:"Funzionalit"}),u.jsx(yr,{to:"/philosophy",className:"hover:text-white transition-colors",children:"Filosofia"}),u.jsx(yr,{to:"/tech",className:"hover:text-white transition-colors",children:"Tech"}),u.jsx(yr,{to:"/creator",className:"hover:text-white transition-colors",children:"Il Founder"}),u.jsx(yr,{to:"/faq",className:"hover:text-white transition-colors font-medium text-purple-400",children:"FAQ"})]}),u.jsx("div",{className:"hidden md:flex items-center gap-4",children:u.jsx(yr,{to:"/get-started",children:u.jsx(Ce,{size:"sm",className:"rounded-full px-4 bg-white text-black hover:bg-zinc-200 transition-colors",children:"Guida Installazione"})})}),u.jsx(bZ,{})]})}),xZ=()=>{const e={initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5}},t={animate:{transition:{staggerChildren:.1}}};return u.jsxs("div",{className:"min-h-screen bg-black text-white selection:bg-purple-900 selection:text-white overflow-x-hidden",children:[u.jsx(cs,{}),u.jsxs("section",{className:"relative pt-32 pb-20 md:pt-48 md:pb-32 px-6",children:[u.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-purple-900/20 via-black to-black -z-10"}),u.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3 mb-8",children:[u.jsxs(Qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/5 border border-white/10 text-xs font-medium text-purple-300",children:[u.jsxs("span",{className:"relative flex h-2 w-2",children:[u.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-purple-400 opacity-75"}),u.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-purple-500"})]}),"System Operational"]}),u.jsxs(Qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.1},className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-green-500/10 border border-green-500/20 text-xs font-medium text-green-300",children:[u.jsx("span",{className:"text-[10px]",children:""}),"Open Source & Free Forever"]})]}),u.jsxs(Qe.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-4xl md:text-7xl font-bold tracking-tight mb-6 bg-gradient-to-b from-white via-white/90 to-white/50 bg-clip-text text-transparent",children:["Il Sistema Operativo ",u.jsx("br",{}),"Per la Tua ",u.jsx("span",{className:"text-white",children:"Produttivit."})]}),u.jsxs(Qe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-lg md:text-xl text-zinc-400 mb-10 max-w-2xl mx-auto leading-relaxed",children:["Una suite completa ",u.jsx("span",{className:"text-white font-medium",children:"Open Source"})," e ",u.jsx("span",{className:"text-white font-medium",children:"totalmente gratuita"})," per tracciare abitudini, definire macro obiettivi e monitorare la tua crescita personale con precisione chirurgica."]})]})]}),u.jsx("section",{id:"features",className:"py-24 px-6 border-t border-white/5",children:u.jsx("div",{className:"container mx-auto max-w-6xl",children:u.jsxs(Qe.div,{variants:t,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[u.jsxs(Qe.div,{variants:e,className:"group p-8 rounded-2xl bg-zinc-900/50 border border-white/5 hover:border-purple-500/30 transition-all duration-300 hover:bg-zinc-900/80",children:[u.jsx("div",{className:"h-12 w-12 rounded-lg bg-purple-500/10 flex items-center justify-center mb-6 text-purple-400 group-hover:scale-110 transition-transform",children:u.jsx(Ia,{size:24})}),u.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Daily Protocol"}),u.jsx("p",{className:"text-zinc-400 leading-relaxed",children:"Traccia le tue abitudini giornaliere con un sistema tri-state (Done, Missed, Skipped). Analisi visiva della costanza."})]}),u.jsxs(Qe.div,{variants:e,className:"group p-8 rounded-2xl bg-zinc-900/50 border border-white/5 hover:border-amber-500/30 transition-all duration-300 hover:bg-zinc-900/80",children:[u.jsx("div",{className:"h-12 w-12 rounded-lg bg-amber-500/10 flex items-center justify-center mb-6 text-amber-400 group-hover:scale-110 transition-transform",children:u.jsx(Gn,{size:24})}),u.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Macro Goals System"}),u.jsx("p",{className:"text-zinc-400 leading-relaxed",children:"Pianificazione strutturata a livelli: Settimanale, Mensile, Trimestrale e Annuale. Allinea la visione a lungo termine con l'azione quotidiana."})]}),u.jsxs(Qe.div,{variants:e,className:"group p-8 rounded-2xl bg-zinc-900/50 border border-white/5 hover:border-blue-500/30 transition-all duration-300 hover:bg-zinc-900/80",children:[u.jsx("div",{className:"h-12 w-12 rounded-lg bg-blue-500/10 flex items-center justify-center mb-6 text-blue-400 group-hover:scale-110 transition-transform",children:u.jsx(_u,{size:24})}),u.jsx("h3",{className:"text-xl font-semibold mb-3",children:"AI Neural Coach"}),u.jsx("p",{className:"text-zinc-400 leading-relaxed",children:"Analisi intelligente dei tuoi progressi generata da LLM locali. Report settimanali e suggerimenti di ottimizzazione personalizzati."})]}),u.jsxs(Qe.div,{variants:e,className:"group p-8 rounded-2xl bg-zinc-900/50 border border-white/5 hover:border-green-500/30 transition-all duration-300 hover:bg-zinc-900/80",children:[u.jsx("div",{className:"h-12 w-12 rounded-lg bg-green-500/10 flex items-center justify-center mb-6 text-green-400 group-hover:scale-110 transition-transform",children:u.jsx(z5,{size:24})}),u.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Deep Analytics"}),u.jsx("p",{className:"text-zinc-400 leading-relaxed",children:"Visualizza i tuoi dati attraverso grafici avanzati, heatmaps e radar charts per identificare pattern e aree di miglioramento."})]}),u.jsxs(Qe.div,{variants:e,className:"group p-8 rounded-2xl bg-zinc-900/50 border border-white/5 hover:border-pink-500/30 transition-all duration-300 hover:bg-zinc-900/80",children:[u.jsx("div",{className:"h-12 w-12 rounded-lg bg-pink-500/10 flex items-center justify-center mb-6 text-pink-400 group-hover:scale-110 transition-transform",children:u.jsx(Ha,{size:24})}),u.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Life Calendar"}),u.jsx("p",{className:"text-zinc-400 leading-relaxed",children:`Una visione d'insieme della tua vita in settimane. "Memento Mori" visualization per mantenere alta l'urgenza e il focus.`})]}),u.jsxs(Qe.div,{variants:e,className:"group p-8 rounded-2xl bg-zinc-900/50 border border-white/5 hover:border-zinc-500/30 transition-all duration-300 hover:bg-zinc-900/80",children:[u.jsx("div",{className:"h-12 w-12 rounded-lg bg-zinc-500/10 flex items-center justify-center mb-6 text-zinc-400 group-hover:scale-110 transition-transform",children:u.jsx(Y5,{size:24})}),u.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Private & Secure"}),u.jsx("p",{className:"text-zinc-400 leading-relaxed",children:"I tuoi dati sono tuoi. Architettura Privacy-first con supporto per Local LLM per mantenere le tue informazioni sensibili al sicuro."})]})]})})}),u.jsx("section",{className:"py-24 px-6 bg-zinc-900/20 border-y border-white/5",children:u.jsxs("div",{className:"container mx-auto max-w-5xl text-center",children:[u.jsx("h2",{className:"text-3xl font-bold mb-16",children:"Designed for Peak Performance"}),u.jsxs("div",{className:"relative group",children:[u.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-purple-600 to-blue-600 rounded-lg blur opacity-25 group-hover:opacity-50 transition duration-1000"}),u.jsx("div",{className:"relative bg-black rounded-lg border border-white/10 p-2 md:p-4 shadow-2xl",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-left p-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"text-sm text-zinc-500 uppercase tracking-wider",children:"Completion Rate"}),u.jsx("div",{className:"text-4xl font-mono font-bold text-white",children:"87%"}),u.jsx("div",{className:"text-xs text-green-400 flex items-center gap-1",children:" 12% vs last month"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"text-sm text-zinc-500 uppercase tracking-wider",children:"Active Streak"}),u.jsxs("div",{className:"text-4xl font-mono font-bold text-white",children:["42 ",u.jsx("span",{className:"text-lg text-zinc-600",children:"days"})]}),u.jsx("div",{className:"text-xs text-purple-400",children:"Personal Best"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"text-sm text-zinc-500 uppercase tracking-wider",children:"Focus Time"}),u.jsxs("div",{className:"text-4xl font-mono font-bold text-white",children:["1,240 ",u.jsx("span",{className:"text-lg text-zinc-600",children:"hrs"})]}),u.jsx("div",{className:"text-xs text-zinc-500",children:"Year to Date"})]})]})})]})]})}),u.jsx("footer",{className:"py-12 px-6 border-t border-white/5 bg-black",children:u.jsx("div",{className:"container mx-auto max-w-6xl flex flex-col md:flex-row justify-between items-center text-zinc-500 text-sm",children:u.jsxs("div",{className:"mb-4 md:mb-0",children:[u.jsx("span",{className:"font-semibold text-zinc-300",children:"Mattioli.OS"}),"  2026. Open Source Project."]})})})]})},ta=S.forwardRef(({className:e,type:t,...n},r)=>u.jsx("input",{type:t,className:ae("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));ta.displayName="Input";const IO=[{category:"Philosophy & General",icon:Su,questions:[{q:"Cos' Mattioli.OS?",a:" un sistema operativo completo per la crescita personale. Non  solo un habit tracker, ma una suite integrata per gestire abitudini giornaliere, obiettivi a lungo termine e analisi delle performance."},{q:"Perch 'OS' (Operating System)?",a:"Perch mira a sostituire l'infrastruttura frammentata che usiamo di solito (note sparse, app multiple, fogli excel) con un unico sistema centralizzato e coerente per gestire la propria vita."},{q:" veramente gratuito?",a:"S, al 100%.  un progetto Open Source rilasciato sotto licenza MIT. I tuoi dati sono tuoi, non c' nessun abbonamento premium."},{q:"In cosa differisce da Notion o Todoist?",a:"Mattioli.OS  'opinionated'. Notion  flessibile ma richiede ore per il setup. Todoist  focalizzato sulle liste. Questo sistema  costruito specificamente per la disciplina e l'analisi quantitativa dei dati, pronto all'uso."},{q:"Qual  la filosofia di base?",a:"Si basa su 'Atomic Habits' di James Clear: 'Non ci innalziamo al livello dei nostri obiettivi, scendiamo al livello dei nostri sistemi'. Il focus  sulla riduzione dell'attrito e sulla visualizzazione dei progressi."},{q:"Devo creare un account?",a:"S, il sistema utilizza Supabase Auth per garantire che i tuoi dati siano sicuri, criptati e accessibili solo a te. L'account  gratuito."},{q:"Chi  lo sviluppatore?",a:"Sono Simone Mattioli, uno sviluppatore appassionato di produttivit e data visualization. Ho costruito questo tool inizialmente per me stesso."}]},{category:"Daily Protocol",icon:Su,questions:[{q:"Cos' il 'Daily Protocol'?",a:" la tua lista di abitudini giornaliere non negoziabili. Il cuore del sistema per costruire la consistenza."},{q:"Come funziona la logica 'Tri-State'?",a:"Ogni abitudine pu avere 3 stati: 'Done' (fatto, verde), 'Missed' (mancato, rosso), 'Skipped' (saltato legittimamente, grigio). Questo offre pi sfumature rispetto al semplice s/no."},{q:"Qual  la differenza tra Missed e Skipped?",a:"'Missed' penalizza la tua streak e le statistiche (hai fallito). 'Skipped'  neutro (es. eri malato o in vacanza), non rompe la streak ma non contribuisce al punteggio."},{q:"Come elimino un'abitudine?",a:"Se l'abitudine ha dei dati storici, viene 'archiviata' (Soft Delete) per non perdere le statistiche passate. Se non ha dati, viene eliminata definitivamente."},{q:"Posso personalizzare i colori?",a:"Assolutamente. Ogni abitudine pu avere un colore specifico per aiutarti a raggrupparle visivamente (es. Salute = Verde, Lavoro = Blu)."},{q:"Cos' una 'Streak'?",a:" il numero di giorni consecutivi in cui hai completato un'abitudine senza 'Missed'. Gli 'Skipped' mantengono la streak congelata."},{q:"Posso impostare abitudini solo per certi giorni?",a:"S, puoi definire la frequenza (es. Lun, Mer, Ven). Negli altri giorni l'abitudine non apparir nella tua lista daily."},{q:"Posso tracciare valori numerici?",a:"S, puoi abilitare il tracciamento quantitativo (es. '2 litri d'acqua', '10 pagine lette') oltre allo stato completato."}]},{category:"Macro Goals & Vision",icon:Gn,questions:[{q:"Cosa sono i Macro Goals?",a:"Sono obiettivi a lungo termine strutturati gerarchicamente: Annuali, Trimestrali, Mensili e Settimanali."},{q:"Come visualizzo i miei progressi a lungo termine?",a:"C' una dashboard dedicata ('Mappa') con grafici radar, trend di completamento e analisi delle categorie per vedere se stai bilanciando bene la tua vita."},{q:"Cos' il calendario 'Memento Mori'?",a:"Una visualizzazione della tua vita in settimane (dalla nascita presunta alla morte statistica). Serve a creare urgenza e dare valore al tempo."},{q:"Posso vedere lo storico degli anni passati?",a:"S, la dashboard 'All-Time' ti permette di navigare tra i dati di tutti gli anni in cui hai usato il sistema, con KPI aggregati."},{q:"C' un limite al numero di obiettivi?",a:"Tecnicamente no. Il sistema gestisce paginazione efficiente anche per migliaia di record, ma per la tua sanit mentale consigliamo di focalizzarti su poche priorit."}]},{category:"AI Coach & Privacy",icon:_u,questions:[{q:"Come funziona l'AI Coach?",a:"Analizza i tuoi dati (abitudini, mood, obiettivi) e genera report settimanali con consigli personalizzati. Funziona come un mental coach virtuale."},{q:"I miei dati vengono inviati a OpenAI/Google?",a:"NO. Di default il sistema  progettato per usare 'Local LLM' (Ollama). I dati vengono processati localmente sul tuo machine. Privacy first."},{q:"Cosa significa 'Local LLM'?",a:"Significa che il modello di intelligenza artificiale (es. Llama 3, Mistral) gira sul tuo computer, non su un server remoto. Nessun dato lascia la tua rete."},{q:"Come configuro Ollama?",a:"Devi scaricare Ollama dal sito ufficiale, installare un modello (es. `ollama run llama3`) e assicurarti che il server sia attivo sulla porta 11434."},{q:"Posso usare il sistema senza AI?",a:"Certamente. L'AI Coach  un modulo opzionale. Se non lo configuri o lo disabiliti nelle impostazioni, il resto dell'app funziona perfettamente."},{q:"L'AI legge le mie note personali?",a:"Solo se glielo permetti esplicitamente per generare correlazioni tra il tuo stato d'animo e le tue performance."}]},{category:"Tech & Data",icon:Go,questions:[{q:"Dove sono salvati i dati?",a:"Su Supabase, un database PostgreSQL open source e sicuro. Tu sei l'unico proprietario dei tuoi dati tramite autenticazione."},{q:"Posso fare un backup?",a:"S. C' una funzione 'Complete Backup' che scarica un archivio ZIP contenente tutti i tuoi dati in formato JSON, organizzati per tabelle."},{q:"Posso importare/esportare i dati?",a:"S, il sistema di backup supporta sia l'export che l'import completo, utile per migrare o mettere al sicuro le informazioni."},{q:"Esiste un'app mobile?",a:"Mattioli.OS  una PWA (Progressive Web App). Puoi installarla sulla home del tuo telefono (iOS/Android) e funziona quasi come un'app nativa."},{q:"Qual  lo stack tecnologico?",a:"React 18, Vite, TypeScript, Tailwind CSS, shadcn/ui, Supabase, TanStack Query, Recharts."},{q:"Posso self-hostare il database?",a:"S, essendo Supabase open source, puoi hostare la tua istanza Docker se hai le competenze tecniche per farlo."}]},{category:"Troubleshooting & Support",icon:pw,questions:[{q:"Ho trovato un bug, cosa faccio?",a:"Apri una issue su GitHub. Il progetto  attivamente mantenuto e i contributi della community sono benvenuti."},{q:"Perch l'AI non risponde?",a:"Verifica che Ollama sia in esecuzione (`ollama serve`) e che il modello selezionato sia scaricato. Controlla anche che il browser non blocchi le chiamate a localhost (CORS)."},{q:"Il sito sembra lento con molti dati?",a:"Abbiamo implementato la paginazione ricorsiva e il virtual scrolling. Se noti rallentamenti sopra i 100k record, faccelo sapere."},{q:"Come aggiorno alla nuova versione?",a:"Se usi la versione web, aggiorna semplicemente la pagina. Se hai clonato la repo, fai `git pull` e `npm run build`."}]}],wZ=()=>{const[e,t]=S.useState(""),[n,r]=S.useState(null),[i,a]=S.useState("All"),o=IO.map(l=>({...l,questions:l.questions.filter(c=>c.q.toLowerCase().includes(e.toLowerCase())||c.a.toLowerCase().includes(e.toLowerCase()))})).filter(l=>l.questions.length>0&&(i==="All"||l.category===i)),s=l=>{r(n===l?null:l)};return u.jsxs("div",{className:"min-h-screen bg-black text-white selection:bg-purple-900 selection:text-white",children:[u.jsx(cs,{}),u.jsx("section",{className:"pt-32 pb-12 px-6 bg-zinc-900/20",children:u.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[u.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-br from-white to-zinc-500 bg-clip-text text-transparent",children:"Domande Frequenti"}),u.jsx("p",{className:"text-zinc-400 mb-8 max-w-2xl mx-auto",children:"Tutto quello che devi sapere su Mattioli.OS. Dalla filosofia di base ai dettagli tecnici pi profondi."}),u.jsxs("div",{className:"relative max-w-xl mx-auto",children:[u.jsx(O9,{className:"absolute left-4 top-3.5 h-5 w-5 text-zinc-500"}),u.jsx(ta,{type:"text",placeholder:"Cerca una domanda...",value:e,onChange:l=>t(l.target.value),className:"pl-12 h-12 bg-white/5 border-white/10 rounded-full focus:ring-purple-500/50 text-lg"})]})]})}),u.jsx("section",{className:"py-12 px-6",children:u.jsxs("div",{className:"container mx-auto max-w-4xl",children:[u.jsxs("div",{className:"flex flex-wrap gap-2 justify-center mb-12",children:[u.jsx(Ce,{variant:i==="All"?"secondary":"ghost",onClick:()=>a("All"),className:"rounded-full",children:"Tutte"}),IO.map((l,c)=>u.jsx(Ce,{variant:i===l.category?"secondary":"ghost",onClick:()=>a(l.category),className:"rounded-full border border-white/5",children:l.category},c))]}),u.jsxs("div",{className:"space-y-12",children:[o.map((l,c)=>u.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-2 border-b border-white/10",children:[u.jsx(l.icon,{className:"text-purple-400",size:24}),u.jsx("h2",{className:"text-2xl font-semibold",children:l.category})]}),u.jsx("div",{className:"space-y-4",children:l.questions.map((d,f)=>{const h=`${c}-${f}`,p=n===h;return u.jsxs("div",{className:`rounded-xl border transition-all duration-200 ${p?"bg-white/5 border-purple-500/30":"bg-transparent border-white/5 hover:bg-white/5"}`,children:[u.jsxs("button",{onClick:()=>s(h),className:"w-full flex items-center justify-between p-5 text-left",children:[u.jsx("span",{className:`font-medium text-lg ${p?"text-purple-300":"text-zinc-200"}`,children:d.q}),u.jsx(E_,{className:`transform transition-transform duration-200 text-zinc-500 ${p?"rotate-180":""}`})]}),u.jsx(S3,{children:p&&u.jsx(Qe.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:u.jsx("div",{className:"p-5 pt-0 text-zinc-400 leading-relaxed border-t border-white/5 mt-2",children:d.a})})})]},f)})})]},c)),o.length===0&&u.jsxs("div",{className:"text-center py-20 text-zinc-500",children:[u.jsxs("p",{children:['Nessuna domanda trovata per "',e,'"']}),u.jsx(Ce,{variant:"link",onClick:()=>t(""),className:"text-purple-400",children:"Cancella ricerca"})]})]})]})}),u.jsxs("section",{className:"py-20 border-t border-white/10 text-center",children:[u.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Hai altre domande?"}),u.jsx("p",{className:"text-zinc-400 mb-8",children:"Unisciti alla community o contattaci direttamente su GitHub."}),u.jsx("a",{href:"https://github.com/simo-hue/mattioli.OS",target:"_blank",rel:"noreferrer",children:u.jsx(Ce,{className:"bg-white text-black hover:bg-zinc-200 rounded-full px-8 py-6 text-lg",children:"Vai su GitHub"})})]})]})},SZ=()=>{const e={initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5}},t={animate:{transition:{staggerChildren:.1}}},n=[{name:"React 18",icon:pw,desc:"Component-based UI architecture for maximum modularity."},{name:"TypeScript",icon:pw,desc:"Type-safe code ensuring robustness and maintainability."},{name:"Vite",icon:Gi,desc:"Next-generation frontend tooling for instant builds."},{name:"Supabase",icon:Go,desc:"Open Source Firebase alternative. Postgres engine."},{name:"Tailwind CSS",icon:f9,desc:"Utility-first CSS provided by Shadcn/UI for premium design."},{name:"Framer Motion",icon:Gi,desc:"Production-ready animations and gestures."}];return u.jsxs("div",{className:"min-h-screen bg-black text-white selection:bg-purple-900 selection:text-white overflow-x-hidden",children:[u.jsx(cs,{}),u.jsxs("section",{className:"pt-32 pb-20 px-6 relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[800px] h-[500px] bg-blue-900/20 blur-[120px] rounded-full -z-10"}),u.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[u.jsxs(Qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-blue-500/10 border border-blue-500/20 text-xs font-medium text-blue-300 mb-6",children:[u.jsx(B5,{size:12}),u.jsx("span",{children:"Engineering Excellence"})]}),u.jsxs(Qe.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-5xl md:text-7xl font-bold tracking-tight mb-8",children:["Future-Proof ",u.jsx("br",{}),u.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Tech Stack."})]}),u.jsx(Qe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-lg md:text-xl text-zinc-400 max-w-2xl mx-auto leading-relaxed",children:"Costruito per essere veloce, scalabile e gratuito. Nessun abbonamento, nessun vendor lock-in. Solo puro codice Open Source."})]})]}),u.jsx("section",{className:"py-20 px-6",children:u.jsxs("div",{className:"container mx-auto max-w-6xl",children:[u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-20",children:[u.jsxs(Qe.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"p-8 rounded-3xl bg-zinc-900/50 border border-white/5 hover:border-blue-500/20 transition-all duration-500",children:[u.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-500/10 flex items-center justify-center mb-6 text-blue-400",children:u.jsx(HE,{size:24})}),u.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Zero-Cost Deployment"}),u.jsx("p",{className:"text-zinc-400 mb-6 leading-relaxed",children:"L'intera applicazione  architettata per essere ospitata gratuitamente. Non serve un server dedicato."}),u.jsxs("ul",{className:"space-y-3 mb-8",children:[u.jsxs("li",{className:"flex items-center gap-3 text-sm text-zinc-300",children:[u.jsx(C_,{size:16,className:"text-white"}),u.jsxs("span",{children:["Hostato su ",u.jsx("strong",{children:"GitHub Pages"})," o Vercel"]})]}),u.jsxs("li",{className:"flex items-center gap-3 text-sm text-zinc-300",children:[u.jsx(Go,{size:16,className:"text-green-400"}),u.jsxs("span",{children:["Backend su ",u.jsx("strong",{children:"Supabase"})," (Tier Free Generoso)"]})]}),u.jsxs("li",{className:"flex items-center gap-3 text-sm text-zinc-300",children:[u.jsx(P_,{size:16,className:"text-blue-400"}),u.jsx("span",{children:"Accessibile ovunque via Browser"})]})]}),u.jsx("div",{className:"p-4 rounded-xl bg-black/40 border border-white/5",children:u.jsxs("code",{className:"text-xs text-zinc-500 font-mono",children:["git push origin main",u.jsx("br",{}),"# Deploy automatico attivo"]})})]}),u.jsxs(Qe.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"p-8 rounded-3xl bg-zinc-900/50 border border-white/5 hover:border-purple-500/20 transition-all duration-500",children:[u.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-500/10 flex items-center justify-center mb-6 text-purple-400",children:u.jsx(X5,{size:24})}),u.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Mobile Experience, App-Free"}),u.jsxs("p",{className:"text-zinc-400 mb-6 leading-relaxed",children:["Non devi scaricare nulla dall'App Store. Mattioli.OS  una ",u.jsx("strong",{children:"Progressive Web App (PWA)"}),"."]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[u.jsxs("div",{className:"p-4 rounded-2xl bg-white/5",children:[u.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:"100%"}),u.jsx("div",{className:"text-xs text-zinc-500",children:"Responsive"})]}),u.jsxs("div",{className:"p-4 rounded-2xl bg-white/5",children:[u.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:"0mb"}),u.jsx("div",{className:"text-xs text-zinc-500",children:" spazio richiesto"})]})]}),u.jsx("p",{className:"text-sm text-zinc-500 border-l-2 border-purple-500 pl-4",children:`"Aggiungi alla Home" su iOS e Android per avere un'esperienza identica a un'app nativa, a schermo intero e senza distrazioni.`})]})]}),u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Core Technologies"}),u.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-blue-500 to-purple-500 mx-auto rounded-full"})]}),u.jsx(Qe.div,{variants:t,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map((r,i)=>u.jsxs(Qe.div,{variants:e,className:"p-6 rounded-2xl bg-zinc-900/30 border border-white/5 hover:bg-zinc-800/50 transition-colors group",children:[u.jsx("div",{className:"mb-4 text-zinc-400 group-hover:text-white transition-colors",children:u.jsx(r.icon,{size:28})}),u.jsx("h4",{className:"text-lg font-bold mb-2",children:r.name}),u.jsx("p",{className:"text-sm text-zinc-500",children:r.desc})]},i))})]})}),u.jsx("section",{className:"py-24 px-6 bg-zinc-900/20 border-t border-white/5",children:u.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[u.jsx("div",{className:"inline-flex items-center justify-center p-3 rounded-full bg-green-500/10 text-green-400 mb-6",children:u.jsx(HE,{size:24})}),u.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Always Connected"}),u.jsx("p",{className:"text-xl text-zinc-400 mb-8 max-w-2xl mx-auto",children:"Inizia sul portatile, continua sul telefono. Grazie a Supabase, i tuoi dati sono istantaneamente sincronizzati su tutti i tuoi dispositivi in tempo reale."}),u.jsxs("div",{className:"flex justify-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-black/50 border border-white/10 text-zinc-400",children:[u.jsx(T_,{size:14}),u.jsx("span",{className:"text-sm",children:"End-to-End Encrypted"})]}),u.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-black/50 border border-white/10 text-zinc-400",children:[u.jsx(Gi,{size:14}),u.jsx("span",{className:"text-sm",children:"Real-time Sync"})]})]})]})}),u.jsx("footer",{className:"py-12 border-t border-white/10 bg-black text-center",children:u.jsx("div",{className:"container mx-auto px-6",children:u.jsxs("p",{className:"text-zinc-500 text-sm",children:["Designed & Engineered by ",u.jsx("span",{className:"text-white",children:"Simone Mattioli"})]})})})]})},_Z=()=>{const e={initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5}},t={animate:{transition:{staggerChildren:.1}}};return u.jsxs("div",{className:"min-h-screen bg-black text-white selection:bg-amber-900 selection:text-white overflow-x-hidden",children:[u.jsx(cs,{}),u.jsxs("section",{className:"pt-32 pb-20 px-6 relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-1/2 translate-x-1/2 w-[800px] h-[500px] bg-amber-900/10 blur-[120px] rounded-full -z-10"}),u.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[u.jsxs(Qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-amber-500/10 border border-amber-500/20 text-xs font-medium text-amber-300 mb-6",children:[u.jsx(W5,{size:12}),u.jsx("span",{children:"Origin Story"})]}),u.jsxs(Qe.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-5xl md:text-7xl font-bold tracking-tight mb-8",children:["Built Out of ",u.jsx("br",{}),u.jsx("span",{className:"bg-gradient-to-r from-amber-200 to-amber-500 bg-clip-text text-transparent",children:"Necessity."})]}),u.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-lg md:text-xl text-zinc-300 max-w-3xl mx-auto leading-relaxed space-y-6 text-left",children:[u.jsxs("p",{children:["Per anni ho cercato un software che fosse completo, gratuito e capace di gestire la mia produttivit come volevo io. Ho iniziato utilizzando i ",u.jsx("strong",{children:"Promemoria di Apple"}),", immediati ma limitati. Poi mi sono evoluto, studiando e costruendo interi sistemi complessi su ",u.jsx("strong",{children:"Notion"}),"."]}),u.jsx("p",{children:"Ma mancava sempre qualcosa. Nessuno strumento aveva quella fluidit unita alla visione d'insieme che cercavo. Nulla che assomigliasse a questo tool, che  veramente una cosa unica nel suo genere."}),u.jsx("p",{className:"font-semibold text-white",children:"Non l'ho trovato. E allora l'ho creato io."})]})]})]}),u.jsx("section",{className:"py-20 px-6 bg-zinc-900/20 border-y border-white/5",children:u.jsxs("div",{className:"container mx-auto max-w-6xl",children:[u.jsxs("div",{className:"text-center mb-16",children:[u.jsx("h2",{className:"text-3xl font-bold mb-4",children:"I Tre Pilastri"}),u.jsx("p",{className:"text-zinc-400",children:"La metodologia su cui si fonda Mattioli.OS"})]}),u.jsxs(Qe.div,{variants:t,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[u.jsxs(Qe.div,{variants:e,className:"p-8 rounded-3xl bg-black border border-white/10 hover:border-amber-500/30 transition-colors",children:[u.jsx("div",{className:"w-12 h-12 rounded-xl bg-amber-500/10 flex items-center justify-center mb-6 text-amber-400",children:u.jsx(k9,{size:24})}),u.jsx("h3",{className:"text-xl font-bold mb-3",children:"Micro & Macro Alignment"}),u.jsx("p",{className:"text-zinc-400 leading-relaxed",children:"Le abitudini giornaliere (Micro) non hanno senso senza una visione (Macro). Il sistema collega ogni piccola azione quotidiana ai tuoi obiettivi annuali e trimestrali."})]}),u.jsxs(Qe.div,{variants:e,className:"p-8 rounded-3xl bg-black border border-white/10 hover:border-amber-500/30 transition-colors",children:[u.jsx("div",{className:"w-12 h-12 rounded-xl bg-amber-500/10 flex items-center justify-center mb-6 text-amber-400",children:u.jsx(An,{size:24})}),u.jsx("h3",{className:"text-xl font-bold mb-3",children:"Data-Driven Growth"}),u.jsx("p",{className:"text-zinc-400 leading-relaxed",children:'"Non puoi migliorare ci che non misuri." Oltre al semplice "fatto/non fatto", analizziamo le correlazioni tra i tuoi goal e il tuo mood per capire cosa funziona davvero.'})]}),u.jsxs(Qe.div,{variants:e,className:"p-8 rounded-3xl bg-black border border-white/10 hover:border-amber-500/30 transition-colors",children:[u.jsx("div",{className:"w-12 h-12 rounded-xl bg-amber-500/10 flex items-center justify-center mb-6 text-amber-400",children:u.jsx(V5,{size:24})}),u.jsx("h3",{className:"text-xl font-bold mb-3",children:"Extreme Ownership"}),u.jsx("p",{className:"text-zinc-400 leading-relaxed",children:"Nessun dato venduto. Nessun algoritmo nascosto. Il software  open source perch la tua produttivit e i tuoi dati sensibili devono appartenere solo a te."})]})]})]})}),u.jsx("section",{className:"py-24 px-6 relative",children:u.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[u.jsx(Gn,{className:"w-16 h-16 text-amber-500/20 mx-auto mb-8"}),u.jsx("blockquote",{className:"text-3xl md:text-4xl font-serif italic text-zinc-300 mb-8 leading-relaxed",children:`"La vera libert non  l'assenza di impegni, ma la capacit di scegliere le proprie catene. Io ho scelto la disciplina."`}),u.jsx("cite",{className:"text-amber-500 not-italic font-medium",children:" Manifesto Mattioli.OS"})]})}),u.jsx("footer",{className:"py-12 border-t border-white/10 bg-zinc-900/20 text-center",children:u.jsxs("div",{className:"container mx-auto px-6",children:[u.jsx("p",{className:"text-zinc-500 text-sm mb-6",children:"Vuoi vedere il codice che muove tutto questo?"}),u.jsx(yr,{to:"/tech",children:u.jsx(Ce,{variant:"outline",className:"rounded-full border-white/10 hover:bg-white/5 text-zinc-300",children:"Esplora la Tecnologia"})}),u.jsx("a",{href:"https://github.com/simo-hue/mattioli.OS",target:"_blank",rel:"noreferrer",children:u.jsx(Ce,{className:"bg-white text-black hover:bg-zinc-200 rounded-full px-8 py-4 text-lg",children:"Vai su GitHub"})})]})})]})},jZ=()=>{const e={initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5}},t={animate:{transition:{staggerChildren:.1}}},n=[{title:"Daily Mastery",description:"Il cuore del sistema. Tracciamento chirurgico delle tue routine.",icon:Su,features:[{name:"Tri-State Logic",desc:"Non solo fatto/non fatto. Gestisci 'Done', 'Missed' e 'Skipped' (legittimo) per statistiche reali."},{name:"Frequency Control",desc:"Imposta abitudini per giorni specifici (es. Lun, Mer, Ven) o quotidiane."},{name:"Quantifiable Goals",desc:"Traccia numeri precisi: '2 litri d'acqua', '10 pagine lette', '45 minuti workout'."},{name:"Streak Freeze",desc:"La modalit 'Skipped' congela la tua streak senza romperla quando sei malato o in ferie."}]},{title:"Long-Term Vision",description:"Perch la disciplina senza direzione  inutile.",icon:Gn,features:[{name:"Macro Goals",desc:"Obiettivi Annuali, Trimestrali e Mensili collegati alle tue azioni quotidiane."},{name:"Life View",desc:"La visualizzazione 'Memento Mori': tutta la tua vita in mesi, dal 2003 al 2088. Impattante."},{name:"Yearly Trends",desc:"Analisi comparative degli anni passati. Scopri qual  stato il tuo anno pi produttivo."},{name:"Category Balance",desc:"Grafico radar per vedere se stai trascurando aree vitali (Salute, Lavoro, Relazioni)."}]},{title:"Intelligence & AI",description:"Il tuo secondo cervello, potenziato dall'AI locale.",icon:_u,features:[{name:"AI Neural Coach",desc:"Utilizza Local LLM (Ollama) per analizzare i tuoi dati e darti consigli settimanali su misura."},{name:"Mood & Energy Matrix",desc:"Traccia Energia e Umore su un piano cartesiano. Scopri quando sei al picco della performance."},{name:"Privacy First AI",desc:"L'AI gira sul TUO computer. Nessun dato viene inviato a server esterni o cloud AI."},{name:"Correlations",desc:"Il sistema impara: 'Quando dormi male (Mood), salti spesso l'allenamento (Habit)'."}]},{title:"Utilities Suite",description:"Tutti gli strumenti che ti servono, in un unico posto.",icon:Go,features:[{name:"Reading Tracker",desc:"Calendario specifico per la lettura. Traccia pagine e consistenza giornaliera."},{name:"Markdown Memos",desc:"Editor di testo integrato con supporto Markdown per note veloci e idee."},{name:"Smart Deletion",desc:"Archiviazione intelligente (Soft Delete) per non perdere lo storico delle abitudini cancellate."},{name:"Full Backup",desc:"Esporta tutti i tuoi dati in JSON con un click. Sei il proprietario delle tue informazioni."}]}];return u.jsxs("div",{className:"min-h-screen bg-black text-white selection:bg-purple-900 selection:text-white overflow-x-hidden",children:[u.jsx(cs,{}),u.jsx("section",{className:"pt-32 pb-20 px-6 relative overflow-hidden",children:u.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[u.jsxs(Qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-purple-500/10 border border-purple-500/20 text-xs font-medium text-purple-300 mb-6",children:[u.jsx(Gi,{size:12}),u.jsx("span",{children:"Full Feature List"})]}),u.jsxs(Qe.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-5xl md:text-7xl font-bold tracking-tight mb-8",children:["More Than Just ",u.jsx("br",{}),u.jsx("span",{className:"bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Checkboxes."})]}),u.jsx(Qe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-lg md:text-xl text-zinc-400 max-w-2xl mx-auto leading-relaxed",children:"Un vero sistema operativo per la vita. Ogni modulo  progettato per lavorare in sinergia con gli altri."})]})}),u.jsx("section",{className:"py-12 px-6",children:u.jsx("div",{className:"container mx-auto max-w-6xl space-y-24",children:n.map((r,i)=>u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"flex flex-col md:flex-row items-start md:items-end gap-4 mb-12 pb-6 border-b border-white/10",children:u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx(r.icon,{className:"text-purple-500",size:28}),u.jsx("h2",{className:"text-3xl font-bold",children:r.title})]}),u.jsx("p",{className:"text-zinc-400 text-lg",children:r.description})]})}),u.jsx(Qe.div,{variants:t,initial:"initial",whileInView:"animate",viewport:{once:!0,margin:"-100px"},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:r.features.map((a,o)=>u.jsxs(Qe.div,{variants:e,className:"p-6 rounded-2xl bg-zinc-900/30 border border-white/5 hover:bg-zinc-800/50 hover:border-purple-500/20 transition-all duration-300 group",children:[u.jsx("h3",{className:"font-bold text-lg mb-3 group-hover:text-purple-300 transition-colors",children:a.name}),u.jsx("p",{className:"text-sm text-zinc-500 leading-relaxed",children:a.desc})]},o))})]},i))})}),u.jsx("section",{className:"py-20 px-6 bg-zinc-900/20 mt-20 border-y border-white/5",children:u.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[u.jsx(X5,{className:"w-12 h-12 text-zinc-500 mx-auto mb-6"}),u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Mobile & Desktop Native"}),u.jsx("p",{className:"text-zinc-400 mb-8 max-w-2xl mx-auto",children:"Tutte queste funzionalit sono accessibili al 100% da qualsiasi dispositivo. L'interfaccia si adatta fluidamente dal monitor 4K del tuo desktop allo schermo del tuo smartphone."}),u.jsxs("div",{className:"flex justify-center gap-4 text-sm text-zinc-500",children:[u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(Ia,{size:16})," iOS Ready"]}),u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(Ia,{size:16})," Android Ready"]}),u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(Ia,{size:16})," MacOS/Windows"]})]})]})}),u.jsx("footer",{className:"py-12 bg-black text-center",children:u.jsxs("div",{className:"container mx-auto px-6",children:[u.jsx("p",{className:"text-zinc-500 text-sm mb-6",children:"Pronto a prendere il controllo?"}),u.jsx("a",{href:"https://github.com/simo-hue/mattioli.OS",target:"_blank",rel:"noreferrer",children:u.jsx(Ce,{className:"bg-white text-black hover:bg-zinc-200 rounded-full px-8 py-6 text-lg",children:"Vai su GitHub"})})]})})]})},kZ=()=>{const[e,t]=S.useState(null),{toast:n}=d5(),r=(a,o)=>{navigator.clipboard.writeText(a),t(o),n({title:"Copiato negli appunti!",duration:2e3}),setTimeout(()=>t(null),2e3)},i="https://raw.githubusercontent.com/simo-hue/mattioli.OS/main/schema.sql";return u.jsxs("div",{className:"min-h-screen bg-black text-white selection:bg-green-900 selection:text-white overflow-x-hidden",children:[u.jsx(cs,{}),u.jsx("section",{className:"pt-32 pb-12 px-6",children:u.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[u.jsx(Qe.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-4xl md:text-6xl font-bold tracking-tight mb-6",children:"Il tuo OS in 10 minuti."}),u.jsx(Qe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-lg text-zinc-400 max-w-2xl mx-auto",children:"Non serve essere un programmatore esperto. Segui questa guida passo-passo per installare Mattioli.OS sul tuo computer e diventare operativo oggi stesso."})]})}),u.jsx("section",{className:"py-12 px-6",children:u.jsxs("div",{className:"container mx-auto max-w-3xl space-y-12",children:[u.jsxs("div",{className:"relative pl-8 border-l border-white/10 pb-12",children:[u.jsx("span",{className:"absolute -left-4 top-0 flex h-8 w-8 items-center justify-center rounded-full bg-zinc-900 ring-2 ring-white/10",children:"1"}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("h2",{className:"text-2xl font-bold mb-2 flex items-center gap-2",children:[u.jsx(nl,{className:"text-blue-400"})," Prerequisiti"]}),u.jsx("p",{className:"text-zinc-400",children:"Prima di iniziare, assicurati di avere questi software installati."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("a",{href:"https://code.visualstudio.com/",target:"_blank",rel:"noopener noreferrer",className:"p-4 rounded-xl bg-zinc-900/50 border border-white/5 hover:bg-zinc-800 transition-colors group",children:[u.jsx("div",{className:"font-bold mb-1 group-hover:text-blue-400 transition-colors",children:"VS Code"}),u.jsx("div",{className:"text-xs text-zinc-500",children:"Editor di Codice"})]}),u.jsxs("a",{href:"https://nodejs.org/",target:"_blank",rel:"noopener noreferrer",className:"p-4 rounded-xl bg-zinc-900/50 border border-white/5 hover:bg-zinc-800 transition-colors group",children:[u.jsx("div",{className:"font-bold mb-1 group-hover:text-green-400 transition-colors",children:"Node.js (LTS)"}),u.jsx("div",{className:"text-xs text-zinc-500",children:"Motore JavaScript"})]}),u.jsxs("a",{href:"https://git-scm.com/downloads",target:"_blank",rel:"noopener noreferrer",className:"p-4 rounded-xl bg-zinc-900/50 border border-white/5 hover:bg-zinc-800 transition-colors group",children:[u.jsx("div",{className:"font-bold mb-1 group-hover:text-amber-400 transition-colors",children:"Git"}),u.jsx("div",{className:"text-xs text-zinc-500",children:"Version Control"})]})]})]}),u.jsxs("div",{className:"relative pl-8 border-l border-white/10 pb-12",children:[u.jsx("span",{className:"absolute -left-4 top-0 flex h-8 w-8 items-center justify-center rounded-full bg-zinc-900 ring-2 ring-white/10",children:"2"}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("h2",{className:"text-2xl font-bold mb-2 flex items-center gap-2",children:[u.jsx(Go,{className:"text-green-400"})," Database Setup"]}),u.jsx("p",{className:"text-zinc-400 mb-4",children:"Mattioli.OS utilizza Supabase (gratuito). Creiamo il tuo backend."}),u.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-zinc-300 ml-2 marker:text-zinc-500",children:[u.jsxs("li",{children:["Vai su ",u.jsx("a",{href:"https://supabase.com",target:"_blank",className:"text-green-400 hover:underline",children:"supabase.com"})," e crea un account."]}),u.jsxs("li",{children:["Clicca su ",u.jsx("strong",{children:'"New Project"'}),' e dagli un nome (es. "My Life OS").']}),u.jsxs("li",{children:["Una volta pronto il progetto, vai nella sezione ",u.jsx("strong",{children:"SQL Editor"})," (icona terminale a sinistra)."]}),u.jsxs("li",{children:["Copia il codice qui sotto e incollalo nell'editor, poi clicca ",u.jsx("strong",{children:"Run"}),"."]})]})]}),u.jsxs("div",{className:"bg-black/50 rounded-xl border border-white/10 overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-white/5 border-b border-white/5",children:[u.jsx("span",{className:"text-xs font-mono text-zinc-400",children:"schema.sql"}),u.jsxs(Ce,{variant:"ghost",size:"sm",className:"h-8 gap-2 text-xs",onClick:()=>window.open(i,"_blank"),children:[u.jsx(nl,{size:14})," Scarica SQL completo"]})]}),u.jsx("div",{className:"p-4 overflow-x-auto text-xs font-mono text-zinc-400 bg-black/80 h-32 relative",children:u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/60 backdrop-blur-sm z-10 text-center p-4",children:u.jsxs("p",{children:["Il file  troppo lungo per essere mostrato qui.",u.jsx("br",{}),"Scaricalo cliccando il bottone sopra."]})})})]}),u.jsxs("div",{className:"mt-4 p-4 rounded-xl bg-amber-500/10 border border-amber-500/20 flex gap-3 text-amber-200/80 text-sm",children:[u.jsx(rl,{className:"shrink-0",size:18}),u.jsxs("p",{children:["Dopo aver eseguito l'SQL, vai su ",u.jsx("strong",{children:"Project Settings > API"}),". Ti serviranno ",u.jsx("strong",{children:"Project URL"})," e ",u.jsx("strong",{children:"anon public key"})," per dopo."]})]})]}),u.jsxs("div",{className:"relative pl-8 border-l border-white/10 pb-12",children:[u.jsx("span",{className:"absolute -left-4 top-0 flex h-8 w-8 items-center justify-center rounded-full bg-zinc-900 ring-2 ring-white/10",children:"3"}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("h2",{className:"text-2xl font-bold mb-2 flex items-center gap-2",children:[u.jsx(J5,{className:"text-purple-400"})," Installazione Codice"]}),u.jsx("p",{className:"text-zinc-400",children:'Scarichiamo il "motore" sul tuo computer.'})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("p",{className:"text-sm text-zinc-300",children:"Apri il terminale (o CMD) e incolla questi comandi uno alla volta:"}),u.jsxs("div",{className:"group relative rounded-xl bg-zinc-900 border border-white/10 p-4",children:[u.jsx("code",{className:"block mb-2 text-sm text-purple-400 font-mono",children:"# 1. Clona il repository"}),u.jsx("code",{className:"font-mono text-sm text-zinc-300",children:"git clone https://github.com/simo-hue/mattioli.OS.git"}),u.jsx(Ce,{size:"icon",variant:"ghost",className:"absolute right-2 top-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>r("git clone https://github.com/simo-hue/mattioli.OS.git","step3-1"),children:e==="step3-1"?u.jsx(ci,{size:16,className:"text-green-500"}):u.jsx(Hg,{size:16})})]}),u.jsxs("div",{className:"group relative rounded-xl bg-zinc-900 border border-white/10 p-4",children:[u.jsx("code",{className:"block mb-2 text-sm text-purple-400 font-mono",children:"# 2. Entra nella cartella"}),u.jsx("code",{className:"font-mono text-sm text-zinc-300",children:"cd mattioli.OS"})]}),u.jsxs("div",{className:"group relative rounded-xl bg-zinc-900 border border-white/10 p-4",children:[u.jsx("code",{className:"block mb-2 text-sm text-purple-400 font-mono",children:"# 3. Installa le dipendenze"}),u.jsx("code",{className:"font-mono text-sm text-zinc-300",children:"npm install"}),u.jsx(Ce,{size:"icon",variant:"ghost",className:"absolute right-2 top-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>r("npm install","step3-3"),children:e==="step3-3"?u.jsx(ci,{size:16,className:"text-green-500"}):u.jsx(Hg,{size:16})})]})]})]}),u.jsxs("div",{className:"relative pl-8 border-l border-white/10 pb-12",children:[u.jsx("span",{className:"absolute -left-4 top-0 flex h-8 w-8 items-center justify-center rounded-full bg-zinc-900 ring-2 ring-white/10",children:"4"}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("h2",{className:"text-2xl font-bold mb-2 flex items-center gap-2",children:[u.jsx(T_,{className:"text-red-400"})," Configurazione Segreta"]}),u.jsx("p",{className:"text-zinc-400",children:"Colleghiamo il codice al tuo database."})]}),u.jsxs("ol",{className:"list-decimal list-inside space-y-3 text-zinc-300 ml-2",children:[u.jsxs("li",{children:["Apri la cartella ",u.jsx("code",{className:"bg-white/10 px-1 py-0.5 rounded text-xs",children:"mattioli.OS"})," con ",u.jsx("strong",{children:"VS Code"}),"."]}),u.jsxs("li",{children:["Trova il file chiamato ",u.jsx("code",{className:"bg-white/10 px-1 py-0.5 rounded text-xs",children:".env.example"})," (potrebbe essere nascosto, usa cmd+shift+. su mac)."]}),u.jsxs("li",{children:["Rinominalo in ",u.jsx("code",{className:"bg-white/10 px-1 py-0.5 rounded text-xs",children:".env"}),"."]}),u.jsx("li",{children:"Apri il file e incolla le chiavi che hai preso da Supabase nel passaggio 2."})]}),u.jsxs("div",{className:"mt-4 p-4 rounded-xl bg-zinc-900 border border-white/10 font-mono text-sm overflow-x-auto",children:[u.jsx("div",{className:"text-zinc-500",children:"# .env file content"}),u.jsx("div",{className:"text-zinc-300",children:"VITE_SUPABASE_URL=https://tuo-project.supabase.co"}),u.jsx("div",{className:"text-zinc-300",children:"VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6Ikp..."})]})]}),u.jsxs("div",{className:"relative pl-8",children:[u.jsx("span",{className:"absolute -left-4 top-0 flex h-8 w-8 items-center justify-center rounded-full bg-green-500 ring-4 ring-black",children:u.jsx(j9,{size:14,className:"text-black fill-current ml-0.5"})}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold mb-2 flex items-center gap-2",children:u.jsx("span",{className:"text-green-500",children:"Lancio!"})}),u.jsx("p",{className:"text-zinc-400",children:" il momento della verit."})]}),u.jsxs("div",{className:"group relative rounded-xl bg-zinc-900 border border-green-500/30 p-4 mb-4",children:[u.jsx("code",{className:"font-mono text-sm text-green-400",children:"npm run dev"}),u.jsx(Ce,{size:"icon",variant:"ghost",className:"absolute right-2 top-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>r("npm run dev","step5"),children:e==="step5"?u.jsx(ci,{size:16,className:"text-green-500"}):u.jsx(Hg,{size:16})})]}),u.jsxs("p",{className:"text-zinc-400",children:["Ora apri il browser e vai su ",u.jsx("a",{href:"http://localhost:8080",className:"text-white hover:underline font-mono",children:"http://localhost:8080"})," (o la porta indicata).",u.jsx("br",{}),"Benvenuto nel tuo nuovo Sistema Operativo."]})]})]})}),u.jsx("section",{className:"py-12 px-6 border-t border-white/10 bg-zinc-900/10",children:u.jsxs("div",{className:"container mx-auto max-w-3xl",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("span",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-blue-500/10 text-blue-400 font-bold text-sm ring-1 ring-blue-500/20",children:"Extra"}),u.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[u.jsx(P_,{className:"text-blue-400"})," Pubblica Online"]})]}),u.jsx("p",{className:"text-zinc-400",children:"Vuoi usare Mattioli.OS da telefono o condividerlo? Ecco come metterlo online gratis."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"p-6 rounded-2xl bg-zinc-900 border border-white/10 hover:border-white/20 transition-colors",children:[u.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[u.jsx("div",{className:"p-1.5 rounded bg-white text-black",children:u.jsx("svg",{width:"14",height:"14",viewBox:"0 0 76 65",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M37.5274 0L75.0548 65H0L37.5274 0Z",fill:"currentColor"})})}),"Vercel (Consigliato)"]}),u.jsxs("ul",{className:"space-y-3 text-sm text-zinc-400 mb-6",children:[u.jsxs("li",{className:"flex gap-2",children:[u.jsx(ci,{size:16,className:"text-green-500 shrink-0"})," Configurazione automatica"]}),u.jsxs("li",{className:"flex gap-2",children:[u.jsx(ci,{size:16,className:"text-green-500 shrink-0"})," Aggiornamenti automatici da Git"]})]}),u.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-zinc-300 text-sm mb-6 marker:text-zinc-500",children:[u.jsxs("li",{children:["Carica il progetto su un tuo repository ",u.jsx("strong",{children:"GitHub"}),"."]}),u.jsxs("li",{children:["Vai su ",u.jsx("a",{href:"https://vercel.com/new",target:"_blank",className:"text-white hover:underline",children:"vercel.com/new"})," e importa il repo."]}),u.jsxs("li",{children:["Nelle impostazioni, espandi ",u.jsx("strong",{children:"Environment Variables"}),"."]}),u.jsxs("li",{children:["Copia le variabili dal tuo file ",u.jsx("code",{className:"text-xs bg-white/10 px-1 py-0.5 rounded",children:".env"})," (URL e Key)."]}),u.jsxs("li",{children:["Clicca ",u.jsx("strong",{children:"Deploy"}),"."]})]})]}),u.jsxs("div",{className:"p-6 rounded-2xl bg-zinc-900 border border-white/10 hover:border-white/20 transition-colors",children:[u.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[u.jsx(C_,{size:20}),"GitHub Pages"]}),u.jsxs("ul",{className:"space-y-3 text-sm text-zinc-400 mb-6",children:[u.jsxs("li",{className:"flex gap-2",children:[u.jsx(ci,{size:16,className:"text-green-500 shrink-0"})," Completamente gratuito"]}),u.jsxs("li",{className:"flex gap-2",children:[u.jsx(rl,{size:16,className:"text-amber-500 shrink-0"})," Configurazione manuale path"]})]}),u.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-zinc-300 text-sm mb-6 marker:text-zinc-500",children:[u.jsxs("li",{children:["Nel file ",u.jsx("code",{className:"text-xs bg-white/10 px-1 py-0.5 rounded",children:"vite.config.ts"}),", aggiungi ",u.jsx("code",{className:"text-xs bg-white/10 px-1 py-0.5 rounded",children:"base: '/nome-repo/',"})]}),u.jsxs("li",{children:["Esegui ",u.jsx("code",{className:"text-xs bg-white/10 px-1 py-0.5 rounded",children:"npm run build"})," nel terminale."]}),u.jsxs("li",{children:["Carica la cartella ",u.jsx("code",{className:"text-xs bg-white/10 px-1 py-0.5 rounded",children:"dist"})," su GitHub."]}),u.jsxs("li",{children:["Nelle ",u.jsx("strong",{children:"Settings"})," del repo, vai su ",u.jsx("strong",{children:"Pages"})," e seleziona il branch/folder."]})]})]})]})]})}),u.jsxs("section",{className:"py-20 text-center border-t border-white/10 bg-zinc-900/20",children:[u.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Problemi durante l'installazione?"}),u.jsx("p",{className:"text-zinc-400 mb-8",children:"Nessun problema. Controlla le FAQ o apri una Issue."}),u.jsxs("div",{className:"flex justify-center gap-4",children:[u.jsx(yr,{to:"/faq",children:u.jsx(Ce,{variant:"secondary",children:"Consulta le FAQ"})}),u.jsx("a",{href:"https://github.com/simo-hue/mattioli.OS/issues",target:"_blank",rel:"noopener noreferrer",children:u.jsx(Ce,{variant:"outline",children:"Chiedi Aiuto su GitHub"})})]})]})]})},EZ=()=>{const e={initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5}};return u.jsxs("div",{className:"min-h-screen bg-black text-white selection:bg-emerald-900 selection:text-white overflow-x-hidden",children:[u.jsx(cs,{}),u.jsxs("section",{className:"pt-32 pb-20 px-6 relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 w-1/2 h-full bg-emerald-900/10 blur-[120px] -z-10"}),u.jsx("div",{className:"absolute top-0 left-0 w-1/2 h-full bg-purple-900/10 blur-[120px] -z-10"}),u.jsxs("div",{className:"container mx-auto max-w-5xl",children:[u.jsxs(Qe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center mb-16",children:[u.jsxs("h1",{className:"text-4xl md:text-8xl font-bold tracking-tighter mb-6",children:["Simone ",u.jsx("span",{className:"text-zinc-500",children:"Mattioli"})]}),u.jsx("p",{className:"text-lg md:text-2xl text-zinc-400 max-w-2xl mx-auto font-light",children:"Dal codice alla cima. Un viaggio tra byte e natura selvaggia."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-16 items-start",children:[u.jsxs(Qe.div,{variants:e,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"p-8 rounded-3xl bg-zinc-900/30 border border-purple-500/10 hover:border-purple-500/30 transition-all duration-300",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-500/10 flex items-center justify-center mb-6 text-purple-400",children:u.jsx(J5,{size:24})}),u.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:["Tech & AI ",u.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-purple-500/20 text-purple-300",children:"Developer"})]}),u.jsxs("p",{className:"text-zinc-400 leading-relaxed mb-6",children:["Laureando in Informatica all'Universit di Verona, appassionato di AI. Sono di base una persona molto curiosa, ma soprattutto DISCIPLINATA che vuole raggiungere degli obiettivi grandi.",u.jsx("br",{}),u.jsx("br",{}),"Mattioli.OS nasce da qui: dalla necessit di struttura in un mondo caotico."]})]}),u.jsxs(Qe.div,{variants:e,initial:"initial",whileInView:"animate",viewport:{once:!0},transition:{delay:.2},className:"p-8 rounded-3xl bg-zinc-900/30 border border-emerald-500/10 hover:border-emerald-500/30 transition-all duration-300",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-500/10 flex items-center justify-center mb-6 text-emerald-400",children:u.jsx(x9,{size:24})}),u.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:["Mountain ",u.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-emerald-500/20 text-emerald-300",children:"Explorer"})]}),u.jsxs("p",{className:"text-zinc-400 leading-relaxed mb-6",children:["Quando chiudo l'IDE, apro la mappa della Val di Rabbi. Inseguo cervi col binocolo e scalo vette al tramonto.",u.jsx("br",{}),u.jsx("br",{}),"Ho imparato pi sulla resilienza gestendo imprevisti in montagna che fixando bug. La natura  il mio vero reset."]})]})]})]})]}),u.jsx("section",{className:"py-20 px-6 bg-zinc-900/20 border-y border-white/5",children:u.jsxs("div",{className:"container mx-auto max-w-3xl text-center",children:[u.jsx(V5,{className:"w-12 h-12 text-rose-500 mx-auto mb-6"}),u.jsx("h3",{className:"text-3xl font-bold mb-6",children:'"Vision without action is just a dream."'}),u.jsxs("p",{className:"text-zinc-400 text-lg leading-relaxed mb-8",children:[`Ho fatto volontariato nelle favelas del Brasile, un'esperienza che mi ha insegnato l'importanza dell'empatia e del "restituire". Credo nell'Open Source come forma di condivisione di conoscenza.`,u.jsx("br",{}),u.jsx("br",{}),"Che sia scrivere un algoritmo o tracciare un sentiero, cerco sempre di creare qualcosa che abbia un impatto reale, anche piccolo."]})]})}),u.jsx("section",{className:"py-20 px-6",children:u.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[u.jsx("h2",{className:"text-2xl font-bold mb-12",children:"Connect with me"}),u.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[u.jsx("a",{href:"https://github.com/simo-hue",target:"_blank",rel:"noopener noreferrer",children:u.jsxs(Ce,{variant:"outline",className:"h-14 px-8 rounded-full border-white/10 hover:bg-white hover:text-black gap-2 transition-all",children:[u.jsx(C_,{size:20}),"GitHub"]})}),u.jsx("a",{href:"https://www.linkedin.com/in/simonemattioli2003/",target:"_blank",rel:"noopener noreferrer",children:u.jsxs(Ce,{variant:"outline",className:"h-14 px-8 rounded-full border-white/10 hover:bg-[#0077b5] hover:border-[#0077b5] hover:text-white gap-2 transition-all",children:[u.jsx(p9,{size:20}),"LinkedIn"]})}),u.jsx("a",{href:"https://mountainfaunalover.github.io/",target:"_blank",rel:"noopener noreferrer",children:u.jsxs(Ce,{variant:"outline",className:"h-14 px-8 rounded-full border-white/10 hover:bg-emerald-600 hover:border-emerald-600 hover:text-white gap-2 transition-all",children:[u.jsx(T9,{size:20}),"Mountain Project"]})}),u.jsx("a",{href:"http://simo-hue.github.io",target:"_blank",rel:"noopener noreferrer",children:u.jsxs(Ce,{variant:"outline",className:"h-14 px-8 rounded-full border-white/10 hover:bg-purple-600 hover:border-purple-600 hover:text-white gap-2 transition-all w-full md:w-auto",children:[u.jsx(P_,{size:20}),"Personal Site"]})})]})]})})]})};var Di={},ff={},Xw=function(e,t){return Xw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Xw(e,t)};function M3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Xw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Sr=function(){return Sr=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Sr.apply(this,arguments)};function no(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function D3(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function $3(e,t){return function(n,r){t(n,r,e)}}function L3(e,t,n,r,i,a){function o(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var s=r.kind,l=s==="getter"?"get":s==="setter"?"set":"value",c=!t&&e?r.static?e:e.prototype:null,d=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),f,h=!1,p=n.length-1;p>=0;p--){var y={};for(var m in r)y[m]=m==="access"?{}:r[m];for(var m in r.access)y.access[m]=r.access[m];y.addInitializer=function(v){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(v||null))};var g=(0,n[p])(s==="accessor"?{get:d.get,set:d.set}:d[l],y);if(s==="accessor"){if(g===void 0)continue;if(g===null||typeof g!="object")throw new TypeError("Object expected");(f=o(g.get))&&(d.get=f),(f=o(g.set))&&(d.set=f),(f=o(g.init))&&i.unshift(f)}else(f=o(g))&&(s==="field"?i.unshift(f):d[l]=f)}c&&Object.defineProperty(c,r.name,d),h=!0}function z3(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function F3(e){return typeof e=="symbol"?e:"".concat(e)}function B3(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function q3(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function _e(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?a(d.value):i(d.value).then(s,l)}c((r=r.apply(e,t||[])).next())})}function U3(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(d){return l([c,d])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){n.label=c[1];break}if(c[0]===6&&n.label<a[1]){n.label=a[1],a=c;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(c);break}a[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(d){c=[6,d],i=0}finally{r=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Sm=Object.create?(function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}):(function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]});function V3(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Sm(t,e,n)}function Ch(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Aj(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function W3(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Aj(arguments[t]));return e}function H3(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r}function Oj(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function sl(e){return this instanceof sl?(this.v=e,this):new sl(e)}function G3(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(p){return function(y){return Promise.resolve(y).then(p,f)}}function s(p,y){r[p]&&(i[p]=function(m){return new Promise(function(g,v){a.push([p,m,g,v])>1||l(p,m)})},y&&(i[p]=y(i[p])))}function l(p,y){try{c(r[p](y))}catch(m){h(a[0][3],m)}}function c(p){p.value instanceof sl?Promise.resolve(p.value.v).then(d,f):h(a[0][2],p)}function d(p){l("next",p)}function f(p){l("throw",p)}function h(p,y){p(y),a.shift(),a.length&&l(a[0][0],a[0][1])}}function K3(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,a){t[i]=e[i]?function(o){return(n=!n)?{value:sl(e[i](o)),done:!1}:a?a(o):o}:a}}function Y3(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Ch=="function"?Ch(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(o){return new Promise(function(s,l){o=e[a](o),i(s,l,o.done,o.value)})}}function i(a,o,s,l){Promise.resolve(l).then(function(c){a({value:c,done:s})},o)}}function X3(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var AZ=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},Qw=function(e){return Qw=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},Qw(e)};function Q3(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=Qw(e),r=0;r<n.length;r++)n[r]!=="default"&&Sm(t,e,n[r]);return AZ(t,e),t}function J3(e){return e&&e.__esModule?e:{default:e}}function Z3(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function e4(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function t4(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function n4(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var OZ=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function r4(e){function t(a){e.error=e.hasError?new OZ(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var n,r=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(i,function(o){return t(o),i()})}else r|=1}catch(o){t(o)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function i4(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,a,o){return r?t?".jsx":".js":i&&(!a||!o)?n:i+a+"."+o.toLowerCase()+"js"}):e}const CZ={__extends:M3,__assign:Sr,__rest:no,__decorate:D3,__param:$3,__esDecorate:L3,__runInitializers:z3,__propKey:F3,__setFunctionName:B3,__metadata:q3,__awaiter:_e,__generator:U3,__createBinding:Sm,__exportStar:V3,__values:Ch,__read:Aj,__spread:W3,__spreadArrays:H3,__spreadArray:Oj,__await:sl,__asyncGenerator:G3,__asyncDelegator:K3,__asyncValues:Y3,__makeTemplateObject:X3,__importStar:Q3,__importDefault:J3,__classPrivateFieldGet:Z3,__classPrivateFieldSet:e4,__classPrivateFieldIn:t4,__addDisposableResource:n4,__disposeResources:r4,__rewriteRelativeImportExtension:i4},PZ=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:n4,get __assign(){return Sr},__asyncDelegator:K3,__asyncGenerator:G3,__asyncValues:Y3,__await:sl,__awaiter:_e,__classPrivateFieldGet:Z3,__classPrivateFieldIn:t4,__classPrivateFieldSet:e4,__createBinding:Sm,__decorate:D3,__disposeResources:r4,__esDecorate:L3,__exportStar:V3,__extends:M3,__generator:U3,__importDefault:J3,__importStar:Q3,__makeTemplateObject:X3,__metadata:q3,__param:$3,__propKey:F3,__read:Aj,__rest:no,__rewriteRelativeImportExtension:i4,__runInitializers:z3,__setFunctionName:B3,__spread:W3,__spreadArray:Oj,__spreadArrays:H3,__values:Ch,default:CZ},Symbol.toStringTag,{value:"Module"})),TZ=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let _m=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},a4=class extends _m{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Jw=class extends _m{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Zw=class extends _m{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var Ph;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ph||(Ph={}));class NZ{constructor(t,{headers:n={},customFetch:r,region:i=Ph.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=TZ(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return _e(this,arguments,void 0,function*(n,r={}){var i;let a,o;try{const{headers:s,method:l,body:c,signal:d,timeout:f}=r;let h={},{region:p}=r;p||(p=this.region);const y=new URL(`${this.url}/${n}`);p&&p!=="any"&&(h["x-region"]=p,y.searchParams.set("forceFunctionRegion",p));let m;c&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=c):typeof c=="string"?(h["Content-Type"]="text/plain",m=c):typeof FormData<"u"&&c instanceof FormData?m=c:(h["Content-Type"]="application/json",m=JSON.stringify(c)):m=c;let g=d;f&&(o=new AbortController,a=setTimeout(()=>o.abort(),f),d?(g=o.signal,d.addEventListener("abort",()=>o.abort())):g=o.signal);const v=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:m,signal:g}).catch(w=>{throw new a4(w)}),b=v.headers.get("x-relay-error");if(b&&b==="true")throw new Jw(v);if(!v.ok)throw new Zw(v);let x=((i=v.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),_;return x==="application/json"?_=yield v.json():x==="application/octet-stream"||x==="application/pdf"?_=yield v.blob():x==="text/event-stream"?_=v:x==="multipart/form-data"?_=yield v.formData():_=yield v.text(),{data:_,error:null,response:v}}catch(s){return{data:null,error:s,response:s instanceof Zw||s instanceof Jw?s.context:void 0}}finally{a&&clearTimeout(a)}})}}const RZ=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Ph},FunctionsClient:NZ,FunctionsError:_m,FunctionsFetchError:a4,FunctionsHttpError:Zw,FunctionsRelayError:Jw},Symbol.toStringTag,{value:"Module"})),o4=Cd(RZ);var Sn={};const Kl=Cd(PZ);var hf={},pf={},mf={},gf={},yf={},vf={},MO;function s4(){if(MO)return vf;MO=1,Object.defineProperty(vf,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return vf.default=e,vf}var DO;function l4(){if(DO)return yf;DO=1,Object.defineProperty(yf,"__esModule",{value:!0});const t=Kl.__importDefault(s4());let n=class{constructor(i){var a,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let s=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,d,f,h;let p=null,y=null,m=null,g=l.status,v=l.statusText;if(l.ok){if(this.method!=="HEAD"){const w=await l.text();w===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?y=w:y=JSON.parse(w))}const x=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),_=(f=l.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");x&&_&&_.length>1&&(m=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(p={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,m=null,g=406,v="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const x=await l.text();try{p=JSON.parse(x),Array.isArray(p)&&l.status===404&&(y=[],p=null,g=200,v="OK")}catch{l.status===404&&x===""?(g=204,v="No Content"):p={message:x}}if(p&&this.isMaybeSingle&&(!((h=p?.details)===null||h===void 0)&&h.includes("0 rows"))&&(p=null,g=200,v="OK"),p&&this.shouldThrowOnError)throw new t.default(p)}return{error:p,data:y,count:m,status:g,statusText:v}});return this.shouldThrowOnError||(s=s.catch(l=>{var c,d,f,h,p,y;let m="";const g=l?.cause;if(g){const v=(c=g?.message)!==null&&c!==void 0?c:"",b=(d=g?.code)!==null&&d!==void 0?d:"";m=`${(f=l?.name)!==null&&f!==void 0?f:"FetchError"}: ${l?.message}`,m+=`

Caused by: ${(h=g?.name)!==null&&h!==void 0?h:"Error"}: ${v}`,b&&(m+=` (${b})`),g?.stack&&(m+=`
${g.stack}`)}else m=(p=l?.stack)!==null&&p!==void 0?p:"";return{error:{message:`${(y=l?.name)!==null&&y!==void 0?y:"FetchError"}: ${l?.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(i,a)}returns(){return this}overrideTypes(){return this}};return yf.default=n,yf}var $O;function c4(){if($O)return gf;$O=1,Object.defineProperty(gf,"__esModule",{value:!0});const t=Kl.__importDefault(l4());let n=class extends t.default{select(i){let a=!1;const o=(i??"*").split("").map(s=>/\s/.test(s)&&!a?"":(s==='"'&&(a=!a),s)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:s,referencedTable:l=s}={}){const c=l?`${l}.order`:"order",d=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${d?`${d},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(s,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:s=o}={}){const l=typeof s>"u"?"offset":`${s}.offset`,c=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(c,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:s=!1,wal:l=!1,format:c="text"}={}){var d;const f=[i?"analyze":null,a?"verbose":null,o?"settings":null,s?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${h}"; options=${f};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return gf.default=n,gf}var LO;function Cj(){if(LO)return mf;LO=1,Object.defineProperty(mf,"__esModule",{value:!0});const t=Kl.__importDefault(c4()),n=new RegExp("[,()]");let r=class extends t.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}regexMatch(a,o){return this.url.searchParams.append(a,`match.${o}`),this}regexIMatch(a,o){return this.url.searchParams.append(a,`imatch.${o}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}isDistinct(a,o){return this.url.searchParams.append(a,`isdistinct.${o}`),this}in(a,o){const s=Array.from(new Set(o)).map(l=>typeof l=="string"&&n.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`in.(${s})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:s,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const d=s===void 0?"":`(${s})`;return this.url.searchParams.append(a,`${c}fts${d}.${o}`),this}match(a){return Object.entries(a).forEach(([o,s])=>{this.url.searchParams.append(o,`eq.${s}`)}),this}not(a,o,s){return this.url.searchParams.append(a,`not.${o}.${s}`),this}or(a,{foreignTable:o,referencedTable:s=o}={}){const l=s?`${s}.or`:"or";return this.url.searchParams.append(l,`(${a})`),this}filter(a,o,s){return this.url.searchParams.append(a,`${o}.${s}`),this}};return mf.default=r,mf}var zO;function u4(){if(zO)return pf;zO=1,Object.defineProperty(pf,"__esModule",{value:!0});const t=Kl.__importDefault(Cj());let n=class{constructor(i,{headers:a={},schema:o,fetch:s}){this.url=i,this.headers=new Headers(a),this.schema=o,this.fetch=s}select(i,a){const{head:o=!1,count:s}=a??{},l=o?"HEAD":"GET";let c=!1;const d=(i??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",d),s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:o=!0}={}){var s;const l="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(c.length>0){const d=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:s,defaultToNull:l=!0}={}){var c;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(f.length>0){const h=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:a}={}){var o;const s="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var a;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};return pf.default=n,pf}var FO;function IZ(){if(FO)return hf;FO=1,Object.defineProperty(hf,"__esModule",{value:!0});const e=Kl,t=e.__importDefault(u4()),n=e.__importDefault(Cj());let r=class d4{constructor(a,{headers:o={},schema:s,fetch:l}={}){this.url=a,this.headers=new Headers(o),this.schemaName=s,this.fetch=l}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${a}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new d4(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:s=!1,get:l=!1,count:c}={}){var d;let f;const h=new URL(`${this.url}/rpc/${a}`);let p;s||l?(f=s?"HEAD":"GET",Object.entries(o).filter(([m,g])=>g!==void 0).map(([m,g])=>[m,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([m,g])=>{h.searchParams.append(m,g)})):(f="POST",p=o);const y=new Headers(this.headers);return c&&y.set("Prefer",`count=${c}`),new n.default({method:f,url:h,headers:y,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};return hf.default=r,hf}var BO;function f4(){if(BO)return Sn;BO=1,Object.defineProperty(Sn,"__esModule",{value:!0}),Sn.PostgrestError=Sn.PostgrestBuilder=Sn.PostgrestTransformBuilder=Sn.PostgrestFilterBuilder=Sn.PostgrestQueryBuilder=Sn.PostgrestClient=void 0;const e=Kl,t=e.__importDefault(IZ());Sn.PostgrestClient=t.default;const n=e.__importDefault(u4());Sn.PostgrestQueryBuilder=n.default;const r=e.__importDefault(Cj());Sn.PostgrestFilterBuilder=r.default;const i=e.__importDefault(c4());Sn.PostgrestTransformBuilder=i.default;const a=e.__importDefault(l4());Sn.PostgrestBuilder=a.default;const o=e.__importDefault(s4());return Sn.PostgrestError=o.default,Sn.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:o.default},Sn}class h4{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const MZ="2.87.1",DZ=`realtime-js/${MZ}`,p4="1.0.0",$Z="2.0.0",qO=p4,e1=1e4,LZ=1e3,zZ=100;var Co;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Co||(Co={}));var Vt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Vt||(Vt={}));var Ur;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ur||(Ur={}));var t1;(function(e){e.websocket="websocket"})(t1||(t1={}));var Po;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Po||(Po={}));class FZ{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var i,a;const o=t.topic,s=(i=t.ref)!==null&&i!==void 0?i:"",l=(a=t.join_ref)!==null&&a!==void 0?a:"",c=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+o.length+c.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let y=new DataView(p),m=0;y.setUint8(m++,this.KINDS.userBroadcastPush),y.setUint8(m++,l.length),y.setUint8(m++,s.length),y.setUint8(m++,o.length),y.setUint8(m++,c.length),y.setUint8(m++,f.length),y.setUint8(m++,n),Array.from(l,v=>y.setUint8(m++,v.charCodeAt(0))),Array.from(s,v=>y.setUint8(m++,v.charCodeAt(0))),Array.from(o,v=>y.setUint8(m++,v.charCodeAt(0))),Array.from(c,v=>y.setUint8(m++,v.charCodeAt(0))),Array.from(f,v=>y.setUint8(m++,v.charCodeAt(0)));var g=new Uint8Array(p.byteLength+r.byteLength);return g.set(new Uint8Array(p),0),g.set(new Uint8Array(r),p.byteLength),g.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,a,o,s,l]=r;return n({join_ref:i,ref:a,topic:o,event:s,payload:l})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,n,i)}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2),o=n.getUint8(3),s=n.getUint8(4);let l=this.HEADER_LENGTH+4;const c=r.decode(t.slice(l,l+i));l=l+i;const d=r.decode(t.slice(l,l+a));l=l+a;const f=r.decode(t.slice(l,l+o));l=l+o;const h=t.slice(l,t.byteLength),p=s===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,y={type:this.BROADCAST_EVENT,event:d,payload:p};return o>0&&(y.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class m4{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var jt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(jt||(jt={}));const UO=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=BZ(o,e,t,i),a),{}):{}},BZ=(e,t,n,r)=>{const i=t.find(s=>s.name===e),a=i?.type,o=n[e];return a&&!r.includes(a)?g4(a,o):n1(o)},g4=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return WZ(t,n)}switch(e){case jt.bool:return qZ(t);case jt.float4:case jt.float8:case jt.int2:case jt.int4:case jt.int8:case jt.numeric:case jt.oid:return UZ(t);case jt.json:case jt.jsonb:return VZ(t);case jt.timestamp:return HZ(t);case jt.abstime:case jt.date:case jt.daterange:case jt.int4range:case jt.int8range:case jt.money:case jt.reltime:case jt.text:case jt.time:case jt.timestamptz:case jt.timetz:case jt.tsrange:case jt.tstzrange:return n1(t);default:return n1(t)}},n1=e=>e,qZ=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},UZ=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},VZ=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},WZ=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(s=>g4(t,s))}return e},HZ=e=>typeof e=="string"?e.replace(" ","T"):e,y4=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class fy{constructor(t,n,r={},i=e1){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var r1;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(r1||(r1={}));let v4=class ih{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ih.syncState(this.state,i,a,o),this.pendingDiffs.forEach(l=>{this.state=ih.syncDiff(this.state,l,a,o)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ih.syncDiff(this.state,i,a,o),s())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),o=this.transformState(n),s={},l={};return this.map(a,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const f=a[c];if(f){const h=d.map(g=>g.presence_ref),p=f.map(g=>g.presence_ref),y=d.filter(g=>p.indexOf(g.presence_ref)<0),m=f.filter(g=>h.indexOf(g.presence_ref)<0);y.length>0&&(s[c]=y),m.length>0&&(l[c]=m)}else s[c]=d}),this.syncDiff(a,{joins:s,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(s,l)=>{var c;const d=(c=t[s])!==null&&c!==void 0?c:[];if(t[s]=this.cloneDeep(l),d.length>0){const f=t[s].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[s].unshift(...h)}r(s,d,l)}),this.map(o,(s,l)=>{let c=t[s];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),t[s]=c,i(s,c,l),c.length===0&&delete t[s]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var i1;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(i1||(i1={}));var Ws;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ws||(Ws={}));var li;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(li||(li={}));const GZ=Vt;let b4=class Wc{constructor(t,n={config:{}},r){var i,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Vt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new fy(this,Ur.join,this.params,this.timeout),this.rejoinTimer=new m4(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Vt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Vt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ur.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new v4(this),this.broadcastEndpointURL=y4(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Vt.closed){const{config:{broadcast:o,presence:s,private:l}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Ws.PRESENCE]&&this.bindings[Ws.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t?.(li.CHANNEL_ERROR,p)),this._onClose(()=>t?.(li.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t?.(li.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,g=(y=m?.length)!==null&&y!==void 0?y:0,v=[];for(let b=0;b<g;b++){const x=m[b],{filter:{event:_,schema:w,table:j,filter:k}}=x,A=p&&p[b];if(A&&A.event===_&&Wc.isFilterValueEqual(A.schema,w)&&Wc.isFilterValueEqual(A.table,j)&&Wc.isFilterValueEqual(A.filter,k))v.push(Object.assign(Object.assign({},x),{id:A.id}));else{this.unsubscribe(),this.state=Vt.errored,t?.(li.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(li.SUBSCRIBED);return}}).receive("error",p=>{this.state=Vt.errored,t?.(li.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t?.(li.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Vt.joined&&t===Ws.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const c=await s.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,s,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),c.receive("ok",()=>a("ok")),c.receive("error",()=>a("error")),c.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Vt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ur.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new fy(this,Ur.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Vt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new fy(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>zZ){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const o=t.toLocaleLowerCase(),{close:s,error:l,leave:c,join:d}=Ur;if(r&&[s,l,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var y,m,g;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((g=(m=p.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(p=>p.callback(h,r)):(a=this.bindings[o])===null||a===void 0||a.filter(p=>{var y,m,g,v,b,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const _=p.id,w=(y=p.filter)===null||y===void 0?void 0:y.event;return _&&((m=n.ids)===null||m===void 0?void 0:m.includes(_))&&(w==="*"||w?.toLocaleLowerCase()===((g=n.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const _=(b=(v=p?.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return _==="*"||_===((x=n?.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:m,table:g,commit_timestamp:v,type:b,errors:x}=y;h=Object.assign(Object.assign({},{schema:m,table:g,commit_timestamp:v,eventType:b,new:{},old:{},errors:x}),this._getPayloadRecords(y))}p.callback(h,r)})}_isClosed(){return this.state===Vt.closed}_isJoined(){return this.state===Vt.joined}_isJoining(){return this.state===Vt.joining}_isLeaving(){return this.state===Vt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&Wc.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ur.close,{},t)}_onError(t){this._on(Ur.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Vt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=UO(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=UO(t.columns,t.old_record)),n}};const hy=()=>{},bf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},KZ=[1e3,2e3,5e3,1e4],YZ=1e4,XZ=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let QZ=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=e1,this.transport=null,this.heartbeatIntervalMs=bf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=hy,this.ref=0,this.reconnectTimer=null,this.vsn=qO,this.logger=hy,this.conn=null,this.sendBuffer=[],this.serializer=new FZ,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${t1.websocket}`,this.httpEndpoint=y4(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=h4.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Co.connecting:return Po.Connecting;case Co.open:return Po.Open;case Co.closing:return Po.Closing;default:return Po.Closed}}isConnected(){return this.connectionState()===Po.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new b4(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,o=()=>{this.encode(t,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(LZ,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},bf.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:o}=n,s=o?`(${o})`:"",l=a.status||"";this.log("receive",`${l} ${r} ${i} ${s}`.trim(),a),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Co.open||this.conn.readyState===Co.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ur.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([XZ],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const a={access_token:n,version:DZ};n&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(Ur.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new m4(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},bf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,a,o,s,l,c,d,f,h,p;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:e1,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:bf.HEARTBEAT_INTERVAL,this.worker=(a=t?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=t?.heartbeatCallback)!==null&&s!==void 0?s:hy,this.vsn=(l=t?.vsn)!==null&&l!==void 0?l:qO,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t?.reconnectAfterMs)!==null&&c!==void 0?c:(y=>KZ[y-1]||YZ),this.vsn){case p4:this.encode=(d=t?.encode)!==null&&d!==void 0?d:((y,m)=>m(JSON.stringify(y))),this.decode=(f=t?.decode)!==null&&f!==void 0?f:((y,m)=>m(JSON.parse(y)));break;case $Z:this.encode=(h=t?.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t?.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};const JZ=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:GZ,get REALTIME_LISTEN_TYPES(){return Ws},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return i1},get REALTIME_PRESENCE_LISTEN_EVENTS(){return r1},get REALTIME_SUBSCRIBE_STATES(){return li},RealtimeChannel:b4,RealtimeClient:QZ,RealtimePresence:v4,WebSocketFactory:h4},Symbol.toStringTag,{value:"Module"})),x4=Cd(JZ);class Dd extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Tt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class w4 extends Dd{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Th extends Dd{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const Pj=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ZZ=()=>Response,a1=e=>{if(Array.isArray(e))return e.map(n=>a1(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=a1(r)}),t},eee=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},tee=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),py=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},nee=(e,t,n)=>_e(void 0,void 0,void 0,function*(){const r=yield ZZ();e instanceof r&&!n?.noResolveJson?e.json().then(i=>{const a=e.status||500,o=i?.statusCode||a+"";t(new w4(py(i),a,o))}).catch(i=>{t(new Th(py(i),i))}):t(new Th(py(e),e))}),ree=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(eee(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function $d(e,t,n,r,i,a){return _e(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(n,ree(t,r,i,a)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>nee(l,s,r))})})}function Ru(e,t,n,r){return _e(this,void 0,void 0,function*(){return $d(e,"GET",t,n,r)})}function qr(e,t,n,r,i){return _e(this,void 0,void 0,function*(){return $d(e,"POST",t,r,i,n)})}function o1(e,t,n,r,i){return _e(this,void 0,void 0,function*(){return $d(e,"PUT",t,r,i,n)})}function iee(e,t,n,r){return _e(this,void 0,void 0,function*(){return $d(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Tj(e,t,n,r,i){return _e(this,void 0,void 0,function*(){return $d(e,"DELETE",t,r,i,n)})}class aee{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return _e(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Tt(t))return{data:null,error:t};throw t}})}}var S4;class oee{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[S4]="BlobDownloadBuilder",this.promise=null}asStream(){return new aee(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return _e(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Tt(t))return{data:null,error:t};throw t}})}}S4=Symbol.toStringTag;const see={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},VO={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class lee{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=Pj(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return _e(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},VO),i);let s=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),l&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(l))):(a=r,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),i?.headers&&(s=Object.assign(Object.assign({},s),i.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),f=yield(t=="PUT"?o1:qr)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:s},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Tt(a))return{data:null,error:a};throw a}})}upload(t,n,r){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return _e(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:VO.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield o1(this.fetch,s.toString(),l,{headers:d});return{data:{path:a,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Tt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return _e(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const a=yield qr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),s=o.searchParams.get("token");if(!s)throw new Dd("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:s},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tt(r))return{data:null,error:r};throw r}})}update(t,n,r){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return _e(this,void 0,void 0,function*(){try{return{data:yield qr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tt(i))return{data:null,error:i};throw i}})}copy(t,n,r){return _e(this,void 0,void 0,function*(){try{return{data:{path:(yield qr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return _e(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield qr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return _e(this,void 0,void 0,function*(){try{const i=yield qr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tt(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(n?.transform||{}),o=a?`?${a}`:"",s=this._getFinalPath(t),l=()=>Ru(this.fetch,`${this.url}/${i}/${s}${o}`,{headers:this.headers,noResolveJson:!0});return new oee(l,this.shouldThrowOnError)}info(t){return _e(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Ru(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:a1(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tt(r))return{data:null,error:r};throw r}})}exists(t){return _e(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield iee(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tt(r)&&r instanceof Th){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],a=n?.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const s=typeof n?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(n?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${c}`)}}}remove(t){return _e(this,void 0,void 0,function*(){try{return{data:yield Tj(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tt(n))return{data:null,error:n};throw n}})}list(t,n,r){return _e(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},see),n),{prefix:t||""});return{data:yield qr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tt(i))return{data:null,error:i};throw i}})}listV2(t,n){return _e(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield qr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tt(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const _4="2.87.1",j4={"X-Client-Info":`storage-js/${_4}`};class cee{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},j4),n),this.fetch=Pj(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return _e(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield Ru(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tt(n))return{data:null,error:n};throw n}})}getBucket(t){return _e(this,void 0,void 0,function*(){try{return{data:yield Ru(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tt(n))return{data:null,error:n};throw n}})}createBucket(t){return _e(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield qr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tt(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return _e(this,void 0,void 0,function*(){try{return{data:yield o1(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return _e(this,void 0,void 0,function*(){try{return{data:yield qr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return _e(this,void 0,void 0,function*(){try{return{data:yield Tj(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tt(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var Iu=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function uee(e,t,n){const r=new URL(t,e);if(n)for(const[i,a]of Object.entries(n))a!==void 0&&r.searchParams.set(i,a);return r.toString()}async function dee(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function fee(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:o}){const s=uee(e.baseUrl,r,i),l=await dee(e.auth),c=await t(s,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...l,...o},body:a?JSON.stringify(a):void 0}),d=await c.text(),f=(c.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!c.ok){const p=f?h:void 0,y=p?.error;throw new Iu(y?.message??`Request failed with status ${c.status}`,{status:c.status,icebergType:y?.type,icebergCode:y?.code,details:p})}return{status:c.status,headers:c.headers,data:h}}}}function xf(e){return e.join("")}var hee=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:xf(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${xf(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${xf(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${xf(e.namespace)}`}),!0}catch(t){if(t instanceof Iu&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Iu&&n.status===409)return;throw n}}};function ms(e){return e.join("")}var pee=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ms(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ms(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ms(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ms(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ms(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ms(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Iu&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Iu&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},mee=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=fee({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new hee(this.client,t),this.tableOps=new pee(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class k4{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},j4),n),this.fetch=Pj(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return _e(this,void 0,void 0,function*(){try{return{data:yield qr(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tt(n))return{data:null,error:n};throw n}})}listBuckets(t){return _e(this,void 0,void 0,function*(){try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Ru(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return _e(this,void 0,void 0,function*(){try{return{data:yield Tj(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tt(n))return{data:null,error:n};throw n}})}from(t){if(!tee(t))throw new Dd("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new mee({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>_e(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(a,o){const s=a[o];return typeof s!="function"?s:(...l)=>_e(this,void 0,void 0,function*(){try{return{data:yield s.apply(a,l),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}})}})}}const Nj={"X-Client-Info":`storage-js/${_4}`,"Content-Type":"application/json"};class Rj extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Wn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class ah extends Rj{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class E4 extends Rj{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var s1;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(s1||(s1={}));const jm=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),gee=()=>Response,A4=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},yee=e=>Array.from(new Float32Array(e)),vee=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},WO=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),bee=(e,t,n)=>_e(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(o=>{const s=o?.statusCode||o?.code||i+"";t(new ah(WO(o),i,s))}).catch(()=>{const o=i+"",s=a.statusText||`HTTP ${i} error`;t(new ah(s,i,o))});else{const o=i+"",s=a.statusText||`HTTP ${i} error`;t(new ah(s,i,o))}}else t(new E4(WO(e),e))}),xee=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return r?(A4(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function wee(e,t,n,r,i,a){return _e(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(n,xee(t,r,i,a)).then(l=>{if(!l.ok)throw l;if(r?.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>bee(l,s,r))})})}function ir(e,t,n,r,i){return _e(this,void 0,void 0,function*(){return wee(e,"POST",t,r,i,n)})}class O4{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Nj),n),this.fetch=jm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return _e(this,void 0,void 0,function*(){try{return{data:(yield ir(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}})}getIndex(t,n){return _e(this,void 0,void 0,function*(){try{return{data:yield ir(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wn(r))return{data:null,error:r};throw r}})}listIndexes(t){return _e(this,void 0,void 0,function*(){try{return{data:yield ir(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return _e(this,void 0,void 0,function*(){try{return{data:(yield ir(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wn(r))return{data:null,error:r};throw r}})}}class C4{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Nj),n),this.fetch=jm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return _e(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ir(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}})}getVectors(t){return _e(this,void 0,void 0,function*(){try{return{data:yield ir(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}})}listVectors(t){return _e(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield ir(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}})}queryVectors(t){return _e(this,void 0,void 0,function*(){try{return{data:yield ir(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}})}deleteVectors(t){return _e(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ir(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}})}}class P4{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Nj),n),this.fetch=jm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return _e(this,void 0,void 0,function*(){try{return{data:(yield ir(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}})}getBucket(t){return _e(this,void 0,void 0,function*(){try{return{data:yield ir(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}})}listBuckets(){return _e(this,arguments,void 0,function*(t={}){try{return{data:yield ir(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return _e(this,void 0,void 0,function*(){try{return{data:(yield ir(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}})}}class T4 extends P4{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new N4(this.url,this.headers,t,this.fetch)}createBucket(t){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return _e(this,void 0,void 0,function*(){return n.createBucket.call(this,t)})}getBucket(t){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return _e(this,void 0,void 0,function*(){return n.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return _e(this,arguments,void 0,function*(n={}){return t.listBuckets.call(this,n)})}deleteBucket(t){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return _e(this,void 0,void 0,function*(){return n.deleteBucket.call(this,t)})}}class N4 extends O4{constructor(t,n,r,i){super(t,n,i),this.vectorBucketName=r}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return _e(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return _e(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return _e(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return _e(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new R4(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class R4 extends C4{constructor(t,n,r,i,a){super(t,n,a),this.vectorBucketName=r,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return _e(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return _e(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return _e(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return _e(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return _e(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class See extends cee{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new lee(this.url,this.headers,t,this.fetch)}get vectors(){return new T4(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new k4(this.url+"/iceberg",this.headers,this.fetch)}}const _ee=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:k4,StorageApiError:w4,StorageClient:See,StorageError:Dd,StorageUnknownError:Th,StorageVectorsApiError:ah,StorageVectorsClient:T4,StorageVectorsError:Rj,get StorageVectorsErrorCode(){return s1},StorageVectorsUnknownError:E4,VectorBucketApi:P4,VectorBucketScope:N4,VectorDataApi:C4,VectorIndexApi:O4,VectorIndexScope:R4,isPlainObject:A4,isStorageError:Tt,isStorageVectorsError:Wn,normalizeToFloat32:yee,resolveFetch:jm,resolveResponse:gee,validateVectorDimension:vee},Symbol.toStringTag,{value:"Module"})),jee=Cd(_ee);var my={},jc={},HO;function kee(){return HO||(HO=1,Object.defineProperty(jc,"__esModule",{value:!0}),jc.version=void 0,jc.version="2.87.1"),jc}var GO;function Eee(){return GO||(GO=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=kee();let n="";typeof Deno<"u"?n="deno":typeof document<"u"?n="web":typeof navigator<"u"&&navigator.product==="ReactNative"?n="react-native":n="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${n}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(my)),my}var gy={},KO;function Aee(){return KO||(KO=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=i=>i?(...a)=>i(...a):(...a)=>fetch(...a);e.resolveFetch=t;const n=()=>Headers;e.resolveHeadersConstructor=n;const r=(i,a,o)=>{const s=(0,e.resolveFetch)(o),l=(0,e.resolveHeadersConstructor)();return async(c,d)=>{var f;const h=(f=await a())!==null&&f!==void 0?f:i;let p=new l(d?.headers);return p.has("apikey")||p.set("apikey",i),p.has("Authorization")||p.set("Authorization",`Bearer ${h}`),s(c,Object.assign(Object.assign({},d),{headers:p}))}};e.fetchWithAuth=r})(gy)),gy}var $i={},YO;function Oee(){if(YO)return $i;YO=1,Object.defineProperty($i,"__esModule",{value:!0}),$i.isBrowser=void 0,$i.uuid=e,$i.ensureTrailingSlash=t,$i.applySettingDefaults=r,$i.validateSupabaseUrl=i;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var o=Math.random()*16|0,s=a=="x"?o:o&3|8;return s.toString(16)})}function t(a){return a.endsWith("/")?a:a+"/"}const n=()=>typeof window<"u";$i.isBrowser=n;function r(a,o){var s,l;const{db:c,auth:d,realtime:f,global:h}=a,{db:p,auth:y,realtime:m,global:g}=o,v={db:Object.assign(Object.assign({},p),c),auth:Object.assign(Object.assign({},y),d),realtime:Object.assign(Object.assign({},m),f),storage:{},global:Object.assign(Object.assign(Object.assign({},g),h),{headers:Object.assign(Object.assign({},(s=g?.headers)!==null&&s!==void 0?s:{}),(l=h?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return a.accessToken?v.accessToken=a.accessToken:delete v.accessToken,v}function i(a){const o=a?.trim();if(!o)throw new Error("supabaseUrl is required.");if(!o.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(o))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return $i}var kc={};const I4="2.87.1",Ps=30*1e3,l1=3,yy=l1*Ps,Cee="http://localhost:9999",Pee="supabase.auth.token",Tee={"X-Client-Info":`gotrue-js/${I4}`},c1="X-Supabase-Api-Version",M4={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Nee=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ree=600*1e3;let ll=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function Oe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let D4=class extends ll{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function $4(e){return Oe(e)&&e.name==="AuthApiError"}let Ea=class extends ll{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},la=class extends ll{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}},Un=class extends la{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function L4(e){return Oe(e)&&e.name==="AuthSessionMissingError"}let wo=class extends la{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Hc=class extends la{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Gc=class extends la{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function z4(e){return Oe(e)&&e.name==="AuthImplicitGrantRedirectError"}let u1=class extends la{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Nh=class extends la{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function oh(e){return Oe(e)&&e.name==="AuthRetryableFetchError"}let d1=class extends la{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};function Iee(e){return Oe(e)&&e.name==="AuthWeakPasswordError"}let Rh=class extends la{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const Ih="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),XO=` 	
\r=`.split(""),Mee=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<XO.length;t+=1)e[XO[t].charCodeAt(0)]=-2;for(let t=0;t<Ih.length;t+=1)e[Ih[t].charCodeAt(0)]=t;return e})();function QO(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ih[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ih[r]),t.queuedBits-=6}}function F4(e,t,n){const r=Mee[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function JO(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{Lee(o,r,n)};for(let o=0;o<e.length;o+=1)F4(e.charCodeAt(o),i,a);return t.join("")}function Dee(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function $ee(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Dee(r,t)}}function Lee(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Hs(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)F4(e.charCodeAt(i),n,r);return new Uint8Array(t)}function zee(e){const t=[];return $ee(e,n=>t.push(n)),new Uint8Array(t)}function Io(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>QO(i,n,r)),QO(null,n,r),t.join("")}function Fee(e){return Math.round(Date.now()/1e3)+e}function Bee(){return Symbol("auth-callback")}const yn=()=>typeof window<"u"&&typeof document<"u",ho={tested:!1,writable:!1},B4=()=>{if(!yn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ho.tested)return ho.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ho.tested=!0,ho.writable=!0}catch{ho.tested=!0,ho.writable=!1}return ho.writable};function qee(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const q4=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Uee=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ts=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},po=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},gn=async(e,t)=>{await e.removeItem(t)};class km{constructor(){this.promise=new km.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}km.promiseConstructor=Promise;function vy(e){const t=e.split(".");if(t.length!==3)throw new Rh("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Nee.test(t[r]))throw new Rh("JWT not in base64url format");return{header:JSON.parse(JO(t[0])),payload:JSON.parse(JO(t[1])),signature:Hs(t[2]),raw:{header:t[0],payload:t[1]}}}async function Vee(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Wee(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){r(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function Hee(e){return("0"+e.toString(16)).substr(-2)}function Gee(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,Hee).join("")}async function Kee(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function Yee(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Kee(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gs(e,t,n=!1){const r=Gee();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Ts(e,`${t}-code-verifier`,i);const a=await Yee(r);return[a,r===a?"plain":"s256"]}const Xee=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Qee(e){const t=e.headers.get(c1);if(!t||!t.match(Xee))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Jee(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Zee(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ete=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ys(e){if(!ete.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function by(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function tte(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function ZO(e){return JSON.parse(JSON.stringify(e))}const So=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),nte=[502,503,504];async function eC(e){var t;if(!Uee(e))throw new Nh(So(e),0);if(nte.includes(e.status))throw new Nh(So(e),e.status);let n;try{n=await e.json()}catch(a){throw new Ea(So(a),a)}let r;const i=Qee(e);if(i&&i.getTime()>=M4["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new d1(So(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Un}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new d1(So(n),e.status,n.weak_password.reasons);throw new D4(So(n),e.status||500,r)}const rte=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function $e(e,t,n,r){var i;const a=Object.assign({},r?.headers);a[c1]||(a[c1]=M4["2024-01-01"].name),r?.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await ite(e,t,n+s,{headers:a,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}}async function ite(e,t,n,r,i,a){const o=rte(t,r,i,a);let s;try{s=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new Nh(So(l),0)}if(s.ok||await eC(s),r?.noResolveJson)return s;try{return await s.json()}catch(l){await eC(l)}}function zr(e){var t;let n=null;ste(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Fee(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function tC(e){const t=zr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Aa(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function ate(e){return{data:e,error:null}}function ote(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,o=no(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},l=Object.assign({},o);return{data:{properties:s,user:l},error:null}}function nC(e){return e}function ste(e){return e.access_token&&e.refresh_token&&e.expires_in}const sh=["global","local","others"];let Ij=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=q4(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=sh[0]){if(sh.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${sh.join(", ")}`);try{return await $e(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await $e(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Aa})}catch(r){if(Oe(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=no(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await $e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:ote,redirectTo:n?.redirectTo})}catch(n){if(Oe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await $e(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Aa})}catch(n){if(Oe(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,o,s,l;try{const c={nextPage:null,lastPage:0,total:0},d=await $e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:nC});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(y=>{const m=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(y.split(";")[1].split("=")[1]);c[`${g}Page`]=m}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Oe(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){ys(t);try{return await $e(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Aa})}catch(n){if(Oe(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ys(t);try{return await $e(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Aa})}catch(r){if(Oe(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){ys(t);try{return await $e(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Aa})}catch(r){if(Oe(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){ys(t.userId);try{const{data:n,error:r}=await $e(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ys(t.userId),ys(t.id);try{return{data:await $e(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,a,o,s,l;try{const c={nextPage:null,lastPage:0,total:0},d=await $e(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:nC});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(y=>{const m=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(y.split(";")[1].split("=")[1]);c[`${g}Page`]=m}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Oe(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await $e(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await $e(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await $e(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await $e(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await $e(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Oe(n))return{data:null,error:n};throw n}}};function rC(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const _o={debug:!!(globalThis&&B4()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Mj extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let U4=class extends Mj{};class lte extends Mj{}async function V4(e,t,n){_o.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),_o.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){_o.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{_o.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw _o.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new U4(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(_o.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}const iC={};async function cte(e,t,n){var r;const i=(r=iC[e])!==null&&r!==void 0?r:Promise.resolve(),a=Promise.race([i.catch(()=>null),t>=0?new Promise((o,s)=>{setTimeout(()=>{s(new lte(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await n());return iC[e]=a.catch(async o=>{if(o&&o.isAcquireTimeout)return await i,null;throw o}),await a}function ute(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function W4(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function dte(e){return parseInt(e,16)}function fte(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function hte(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:s,requestId:l,resources:c,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=W4(e.address),y=d?`${d}://${r}`:r,m=e.statement?`${e.statement}
`:"",g=`${y} wants you to sign in with your Ethereum account:
${p}

${m}`;let v=`URI: ${f}
Version: ${h}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(v+=`
Expiration Time: ${i.toISOString()}`),s&&(v+=`
Not Before: ${s.toISOString()}`),l&&(v+=`
Request ID: ${l}`),c){let b=`
Resources:`;for(const x of c){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);b+=`
- ${x}`}v+=b}return`${g}
${v}`}class Gt extends Error{constructor({message:t,code:n,cause:r,name:i}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class Mh extends Gt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function pte({error:e,options:t}){var n,r,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Gt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Gt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Gt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Gt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Gt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Gt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new Gt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Gt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(H4(o)){if(a.rp.id!==o)return new Gt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Gt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Gt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Gt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Gt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function mte({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Gt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Gt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(H4(r)){if(n.rpId!==r)return new Gt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Gt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Gt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Gt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class gte{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const yte=new gte;function vte(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=no(e,["challenge","user","excludeCredentials"]),a=Hs(t).buffer,o=Object.assign(Object.assign({},n),{id:Hs(n.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:a,user:o});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];s.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Hs(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return s}function bte(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=no(e,["challenge","allowCredentials"]),i=Hs(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const s=n[o];a.allowCredentials[o]=Object.assign(Object.assign({},s),{id:Hs(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return a}function xte(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Io(new Uint8Array(e.response.attestationObject)),clientDataJSON:Io(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function wte(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Io(new Uint8Array(i.authenticatorData)),clientDataJSON:Io(new Uint8Array(i.clientDataJSON)),signature:Io(new Uint8Array(i.signature)),userHandle:i.userHandle?Io(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function H4(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function aC(){var e,t;return!!(yn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Ste(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Mh("Browser returned unexpected credential type",t)}:{data:null,error:new Mh("Empty credential response",t)}}catch(t){return{data:null,error:pte({error:t,options:e})}}}async function _te(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Mh("Browser returned unexpected credential type",t)}:{data:null,error:new Mh("Empty credential response",t)}}catch(t){return{data:null,error:mte({error:t,options:e})}}}const jte={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},kte={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Dh(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))r[a]=o;else if(n(o))r[a]=o;else if(t(o)){const s=r[a];t(s)?r[a]=Dh(s,o):r[a]=Dh(o)}else r[a]=o}return r}function Ete(e,t){return Dh(jte,e,t||{})}function Ate(e,t){return Dh(kte,e,t||{})}class Ote{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},a){try{const{data:o,error:s}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:s};const l=i??yte.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${r}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=Ete(o.webauthn.credential_options.publicKey,a?.create),{data:d,error:f}=await Ste({publicKey:c,signal:l});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const c=Ate(o.webauthn.credential_options.publicKey,a?.request),{data:d,error:f}=await _te(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return Oe(o)?{data:null,error:o}:{data:null,error:new Ea("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new ll("rpId is required for WebAuthn authentication")};try{if(!aC())return{data:null,error:new Ea("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!o)return{data:null,error:s};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return Oe(o)?{data:null,error:o}:{data:null,error:new Ea("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new ll("rpId is required for WebAuthn registration")};try{if(!aC())return{data:null,error:new Ea("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d?.id}):void 0),{data:null,error:s};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return Oe(o)?{data:null,error:o}:{data:null,error:new Ea("Unexpected error in register",o)}}}}ute();const Cte={url:Cee,storageKey:Pee,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Tee,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function oC(e,t,n){return await n()}const vs={};let Dj=class f1{get jwks(){var t,n;return(n=(t=vs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){vs[this.storageKey]=Object.assign(Object.assign({},vs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=vs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){vs[this.storageKey]=Object.assign(Object.assign({},vs[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},Cte),t);if(this.storageKey=a.storageKey,this.instanceID=(n=f1.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,f1.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&yn()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Ij({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=q4(a.fetch),this.lock=a.lock||oC,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:this.persistSession&&yn()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=V4:this.lock=oC,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Ote(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:B4()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=rC(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=rC(this.memoryStorage)),yn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${I4}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(yn()&&(n=qee(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),yn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),z4(a)){const l=(t=a.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Oe(n)?this._returnResult({error:n}):this._returnResult({error:new Ea("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:zr}),{data:o,error:s}=a;if(s||!o)return this._returnResult({data:{user:null,session:null},error:s});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(a){if(Oe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await gs(this.storage,this.storageKey)),a=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:d,password:f,data:(n=h?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:p,code_challenge_method:y},xform:zr})}else if("phone"in t){const{phone:d,password:f,options:h}=t;a=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h?.data)!==null&&r!==void 0?r:{},channel:(i=h?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:zr})}else throw new Hc("You must provide either an email or phone number and a password");const{data:o,error:s}=a;if(s||!o)return await gn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(a){if(await gn(this.storage,`${this.storageKey}-code-verifier`),Oe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:s}=t;n=await $e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:tC})}else if("phone"in t){const{phone:a,password:o,options:s}=t;n=await $e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:tC})}else throw new Hc("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new wo;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Oe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,a,o,s,l,c,d,f,h;let p,y;if("message"in t)p=t.message,y=t.signature;else{const{chain:m,wallet:g,statement:v,options:b}=t;let x;if(yn())if(typeof g=="object")x=g;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")x=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!b?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=g}const _=new URL((n=b?.url)!==null&&n!==void 0?n:window.location.href),w=await x.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!w||w.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=W4(w[0]);let k=(r=b?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!k){const P=await x.request({method:"eth_chainId"});k=dte(P)}const A={domain:_.host,address:j,statement:v,uri:_.href,version:"1",chainId:k,nonce:(i=b?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=b?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=b?.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=b?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=b?.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=b?.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=hte(A),y=await x.request({method:"personal_sign",params:[fte(p),j]})}try{const{data:m,error:g}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:y},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:zr});if(g)throw g;if(!m||!m.session||!m.user){const v=new wo;return this._returnResult({data:{user:null,session:null},error:v})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:g})}catch(m){if(Oe(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(t){var n,r,i,a,o,s,l,c,d,f,h,p;let y,m;if("message"in t)y=t.message,m=t.signature;else{const{chain:g,wallet:v,statement:b,options:x}=t;let _;if(yn())if(typeof v=="object")_=v;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))_=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!x?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=v}const w=new URL((n=x?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const j=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x?.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),b?{statement:b}:null));let k;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")k=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)k=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)y=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),m=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${w.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(i=(r=x?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=x?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((s=x?.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((c=x?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((f=(d=x?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...x.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const j=await _.signMessage(new TextEncoder().encode(y),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=j}}try{const{data:g,error:v}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Io(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:zr});if(v)throw v;if(!g||!g.session||!g.user){const b=new wo;return this._returnResult({data:{user:null,session:null},error:b})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:v})}catch(g){if(Oe(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async _exchangeCodeForSession(t){const n=await po(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:o}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:zr});if(await gn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const s=new wo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(await gn(this.storage,`${this.storageKey}-code-verifier`),Oe(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=t,s=await $e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:zr}),{data:l,error:c}=s;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const d=new wo;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(n){if(Oe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,a,o;try{if("email"in t){const{email:s,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await gs(this.storage,this.storageKey));const{error:f}=await $e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=l?.data)!==null&&n!==void 0?n:{},create_user:(r=l?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:s,options:l}=t,{data:c,error:d}=await $e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(a=l?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:d})}throw new Hc("You must provide either an email or phone number.")}catch(s){if(await gn(this.storage,`${this.storageKey}-code-verifier`),Oe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:s}=await $e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:zr});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(Oe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,a,o;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await gs(this.storage,this.storageKey));const c=await $e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:ate});return!((a=c.data)===null||a===void 0)&&a.url&&yn()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(s){if(await gn(this.storage,`${this.storageKey}-code-verifier`),Oe(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Un;const{error:i}=await $e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Oe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:o}=await $e(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:o,error:s}=await $e(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:s})}throw new Hc("You must provide either an email or phone number and a type")}catch(n){if(Oe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await po(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<yy:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await po(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=by()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=tte(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await $e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Aa}):await this._useSession(async n=>{var r,i,a;const{data:o,error:s}=n;if(s)throw s;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Un}:await $e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Aa})})}catch(n){if(Oe(n))return L4(n)&&(await this._removeSession(),await gn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new Un;const o=i.session;let s=null,l=null;this.flowType==="pkce"&&t.email!=null&&([s,l]=await gs(this.storage,this.storageKey));const{data:c,error:d}=await $e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:l}),jwt:o.access_token,xform:Aa});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await gn(this.storage,`${this.storageKey}-code-verifier`),Oe(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Un;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=vy(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:s,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};a=s}else{const{data:s,error:l}=await this._getUser(t.access_token);if(l)throw l;a={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(Oe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:s}=n;if(s)throw s;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new Un;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Oe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!yn())throw new Gc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Gc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new u1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Gc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new u1("No code detected.");const{data:b,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:s,expires_at:l,token_type:c}=t;if(!a||!s||!o||!c)throw new Gc("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(s);let h=d+f;l&&(h=parseInt(l));const p=h-d;p*1e3<=Ps&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const y=h-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,d);const{data:m,error:g}=await this._getUser(a);if(g)throw g;const v={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:o,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:t.type},error:null})}catch(r){if(Oe(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await po(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({error:a});const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:s}=await this.admin.signOut(o,t);if(s&&!($4(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return t!=="others"&&(await this._removeSession(),await gn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=Bee(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await gs(this.storage,this.storageKey,!0));try{return await $e(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await gn(this.storage,`${this.storageKey}-code-verifier`),Oe(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Oe(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,s,l,c,d;const{data:f,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await $e(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return yn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:t.provider,url:r?.url},error:null})}catch(r){if(Oe(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:o,provider:s,token:l,access_token:c,nonce:d}=t,f=await $e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:s,id_token:l,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:zr}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new wo}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(i){if(await gn(this.storage,`${this.storageKey}-code-verifier`),Oe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await $e(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Oe(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Wee(async i=>(i>0&&await Vee(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await $e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:zr})),(i,a)=>{const o=200*Math.pow(2,i);return a&&oh(a)&&Date.now()+o-r<Ps})}catch(r){if(this._debug(n,"error",r),Oe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),yn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await po(this.storage,this.storageKey);if(i&&this.userStorage){let o=await po(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Ts(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:by()}else if(i&&!i.user&&!i.user){const o=await po(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await gn(this.storage,this.storageKey+"-user"),await Ts(this.storage,this.storageKey,i)):i.user=by()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<yy;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${yy}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),oh(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(i.access_token);!s&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Un;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new km;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new Un;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const s={data:a.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(i,"error",a),Oe(a)){const o={data:null,error:a};return oh(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,n)}catch(l){a.push(l)}});if(await Promise.all(o),a.length>0){for(let s=0;s<a.length;s+=1)console.error(a[s]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await gn(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Ts(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=ZO(i);await Ts(this.storage,this.storageKey,a)}else{const i=ZO(n);await Ts(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await gn(this.storage,this.storageKey),await gn(this.storage,this.storageKey+"-code-verifier"),await gn(this.storage,this.storageKey+"-user"),this.userStorage&&await gn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&yn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ps);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Ps);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ps}ms, refresh threshold is ${l1} ticks`),i<=l1&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Mj)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!yn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await gs(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(s.toString())}if(r?.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await $e(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Oe(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return this._returnResult({data:null,error:o});const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await $e(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&l.type==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(Oe(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?xte(t.webauthn.credential_response):wte(t.webauthn.credential_response)})}:{code:t.code}),{data:s,error:l}=await $e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(n){if(Oe(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=await $e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:s}=o;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:vte(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:bte(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Oe(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n?.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=vy(r.access_token);let o=null;a.aal&&(o=a.aal);let s=o;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(s="aal2");const c=a.amr||[];return{data:{currentLevel:o,nextLevel:s,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await $e(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Un})})}catch(n){if(Oe(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Un});const o=await $e(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&yn()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Oe(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Un});const o=await $e(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&yn()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Oe(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await $e(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Un})})}catch(t){if(Oe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await $e(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Un})})}catch(n){if(Oe(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(s=>s.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(s=>s.kid===t),r&&this.jwks_cached_at+Ree>i)return r;const{data:a,error:o}=await $e(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(s=>s.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:p,error:y}=await this.getSession();if(y||!p.session)return this._returnResult({data:null,error:y});r=p.session.access_token}const{header:i,payload:a,signature:o,raw:{header:s,payload:l}}=vy(r);n?.allowExpired||Jee(a.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!c){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:a,header:i,signature:o},error:null}}const d=Zee(i.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,zee(`${s}.${l}`)))throw new Rh("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(Oe(r))return this._returnResult({data:null,error:r});throw r}}};Dj.nextInstanceID={};const Pte=Ij,Tte=Dj,Nte=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:Pte,AuthApiError:D4,AuthClient:Tte,AuthError:ll,AuthImplicitGrantRedirectError:Gc,AuthInvalidCredentialsError:Hc,AuthInvalidJwtError:Rh,AuthInvalidTokenResponseError:wo,AuthPKCEGrantCodeExchangeError:u1,AuthRetryableFetchError:Nh,AuthSessionMissingError:Un,AuthUnknownError:Ea,AuthWeakPasswordError:d1,CustomAuthError:la,GoTrueAdminApi:Ij,GoTrueClient:Dj,NavigatorLockAcquireTimeoutError:U4,SIGN_OUT_SCOPES:sh,isAuthApiError:$4,isAuthError:Oe,isAuthImplicitGrantRedirectError:z4,isAuthRetryableFetchError:oh,isAuthSessionMissingError:L4,isAuthWeakPasswordError:Iee,lockInternals:_o,navigatorLock:V4,processLock:cte},Symbol.toStringTag,{value:"Module"})),G4=Cd(Nte);var sC;function Rte(){if(sC)return kc;sC=1,Object.defineProperty(kc,"__esModule",{value:!0}),kc.SupabaseAuthClient=void 0;const e=G4;let t=class extends e.AuthClient{constructor(r){super(r)}};return kc.SupabaseAuthClient=t,kc}var lC;function cC(){if(lC)return ff;lC=1,Object.defineProperty(ff,"__esModule",{value:!0});const e=o4,t=f4(),n=x4,r=jee,i=Eee(),a=Aee(),o=Oee(),s=Rte();class l{constructor(d,f,h){var p,y,m;this.supabaseUrl=d,this.supabaseKey=f;const g=(0,o.validateSupabaseUrl)(d);if(!f)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);const v=`sb-${g.hostname.split(".")[0]}-auth-token`,b={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:v}),global:i.DEFAULT_GLOBAL_OPTIONS},x=(0,o.applySettingDefaults)(h??{},b);this.storageKey=(p=x.auth.storageKey)!==null&&p!==void 0?p:"",this.headers=(y=x.global.headers)!==null&&y!==void 0?y:{},x.accessToken?(this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(_,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((m=x.auth)!==null&&m!==void 0?m:{},this.headers,x.global.fetch),this.fetch=(0,a.fetchWithAuth)(f,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.accessToken&&this.accessToken().then(_=>this.realtime.setAuth(_)).catch(_=>console.warn("Failed to set initial Realtime auth token:",_)),this.rest=new t.PostgrestClient(new URL("rest/v1",g).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),this.storage=new r.StorageClient(this.storageUrl.href,this.headers,this.fetch,h?.storage),x.accessToken||this._listenForAuthEvents()}get functions(){return new e.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(d){return this.rest.from(d)}schema(d){return this.rest.schema(d)}rpc(d,f={},h={head:!1,get:!1,count:void 0}){return this.rest.rpc(d,f,h)}channel(d,f={config:{}}){return this.realtime.channel(d,f)}getChannels(){return this.realtime.getChannels()}removeChannel(d){return this.realtime.removeChannel(d)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var d,f;if(this.accessToken)return await this.accessToken();const{data:h}=await this.auth.getSession();return(f=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&f!==void 0?f:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:d,persistSession:f,detectSessionInUrl:h,storage:p,userStorage:y,storageKey:m,flowType:g,lock:v,debug:b,throwOnError:x},_,w){const j={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new s.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},j),_),storageKey:m,autoRefreshToken:d,persistSession:f,detectSessionInUrl:h,storage:p,userStorage:y,flowType:g,lock:v,debug:b,throwOnError:x,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(k=>k.toLowerCase()==="authorization")})}_initRealtimeClient(d){return new n.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},d),{params:Object.assign({apikey:this.supabaseKey},d?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((f,h)=>{this._handleTokenChanged(f,"CLIENT",h?.access_token)})}_handleTokenChanged(d,f,h){(d==="TOKEN_REFRESHED"||d==="SIGNED_IN")&&this.changedAccessToken!==h?(this.changedAccessToken=h,this.realtime.setAuth(h)):d==="SIGNED_OUT"&&(this.realtime.setAuth(),f=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return ff.default=l,ff}var uC;function Ite(){return uC||(uC=1,(function(e){var t=Di&&Di.__createBinding||(Object.create?(function(d,f,h,p){p===void 0&&(p=h);var y=Object.getOwnPropertyDescriptor(f,h);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return f[h]}}),Object.defineProperty(d,p,y)}):(function(d,f,h,p){p===void 0&&(p=h),d[p]=f[h]})),n=Di&&Di.__exportStar||function(d,f){for(var h in d)h!=="default"&&!Object.prototype.hasOwnProperty.call(f,h)&&t(f,d,h)},r=Di&&Di.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const i=r(cC());n(G4,e);var a=f4();Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return a.PostgrestError}});var o=o4;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),n(x4,e);var s=cC();Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return r(s).default}});const l=(d,f,h)=>new i.default(d,f,h);e.createClient=l;function c(){if(typeof window<"u"||typeof process>"u")return!1;const d=process.version;if(d==null)return!1;const f=d.match(/^v(\d+)\./);return f?parseInt(f[1],10)<=18:!1}c()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Di)),Di}var K4=Ite();const Y4=ot(K4),Mte=nH({__proto__:null,default:Y4},[K4]),{PostgrestError:KRe,FunctionsHttpError:YRe,FunctionsFetchError:XRe,FunctionsRelayError:QRe,FunctionsError:JRe,FunctionRegion:ZRe,SupabaseClient:eIe,createClient:Dte,GoTrueAdminApi:tIe,GoTrueClient:nIe,AuthAdminApi:rIe,AuthClient:iIe,navigatorLock:aIe,NavigatorLockAcquireTimeoutError:oIe,lockInternals:sIe,processLock:lIe,SIGN_OUT_SCOPES:cIe,AuthError:uIe,AuthApiError:dIe,AuthUnknownError:fIe,CustomAuthError:hIe,AuthSessionMissingError:pIe,AuthInvalidTokenResponseError:mIe,AuthInvalidCredentialsError:gIe,AuthImplicitGrantRedirectError:yIe,AuthPKCEGrantCodeExchangeError:vIe,AuthRetryableFetchError:bIe,AuthWeakPasswordError:xIe,AuthInvalidJwtError:wIe,isAuthError:SIe,isAuthApiError:_Ie,isAuthSessionMissingError:jIe,isAuthImplicitGrantRedirectError:kIe,isAuthRetryableFetchError:EIe,isAuthWeakPasswordError:AIe,RealtimePresence:OIe,RealtimeChannel:CIe,RealtimeClient:PIe,REALTIME_LISTEN_TYPES:TIe,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:NIe,REALTIME_PRESENCE_LISTEN_EVENTS:RIe,REALTIME_SUBSCRIBE_STATES:IIe,REALTIME_CHANNEL_STATES:MIe}=Y4||Mte,$te="https://vestbasnnejekdhiuydr.supabase.co",Lte="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZlc3RiYXNubmVqZWtkaGl1eWRyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU2NTQ0NTIsImV4cCI6MjA4MTIzMDQ1Mn0.U170a90MkIIO2yTfmPiqhWpAuUc4eZbUpY1DF0hoRu8",zte=$te,Fte=Lte,be=Dte(zte,Fte,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}});function Je(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ei(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function $h(e,t){const n=Je(e);return isNaN(t)?Ei(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function $j(e,t){const n=Je(e);if(isNaN(t))return Ei(e,NaN);if(!t)return n;const r=n.getDate(),i=Ei(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const a=i.getDate();return r>=a?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const Lj=6048e5,Bte=864e5,X4=6e4,Q4=36e5;let qte={};function Em(){return qte}function Tr(e,t){const n=Em(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Je(e),a=i.getDay(),o=(a<r?7:0)+a-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Lh(e){return Tr(e,{weekStartsOn:1})}function J4(e){const t=Je(e),n=t.getFullYear(),r=Ei(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Lh(r),a=Ei(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=Lh(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function ui(e){const t=Je(e);return t.setHours(0,0,0,0),t}function zh(e){const t=Je(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Mu(e,t){const n=ui(e),r=ui(t),i=+n-zh(n),a=+r-zh(r);return Math.round((i-a)/Bte)}function Ute(e){const t=J4(e),n=Ei(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Lh(n)}function Vte(e,t){const n=t*7;return $h(e,n)}function Wte(e,t){return $j(e,t*12)}function xy(e,t){const n=Je(e),r=Je(t),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function Bi(e,t){const n=ui(e),r=ui(t);return+n==+r}function Hte(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Gte(e){if(!Hte(e)&&typeof e!="number")return!1;const t=Je(e);return!isNaN(Number(t))}function Kte(e,t){const n=Je(e),r=Je(t),i=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return i*12+a}function Yte(e){const t=Je(e);return Math.trunc(t.getMonth()/3)+1}function Xte(e,t,n){const r=Tr(e,n),i=Tr(t,n),a=+r-zh(r),o=+i-zh(i);return Math.round((a-o)/Lj)}function Qte(e,t){const n=Je(e),r=Je(t),i=dC(n,r),a=Math.abs(Mu(n,r));n.setDate(n.getDate()-i*a);const o=+(dC(n,r)===-i),s=i*(a-o);return s===0?0:s}function dC(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function Jte(e){const t=Je(e);return t.setHours(23,59,59,999),t}function Am(e){const t=Je(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Zte(e){const t=Je(e);return+Jte(t)==+Am(t)}function ene(e,t){const n=Je(e),r=Je(t),i=xy(n,r),a=Math.abs(Kte(n,r));let o;if(a<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*a);let s=xy(n,r)===-i;Zte(Je(e))&&a===1&&xy(e,r)===1&&(s=!1),o=i*(a-Number(s))}return o===0?0:o}function _r(e,t){const n=Je(e.start),r=Je(e.end);let i=+n>+r;const a=i?+n:+r,o=i?r:n;o.setHours(0,0,0,0);let s=1;const l=[];for(;+o<=a;)l.push(Je(o)),o.setDate(o.getDate()+s),o.setHours(0,0,0,0);return i?l.reverse():l}function qi(e){const t=Je(e);return t.setDate(1),t.setHours(0,0,0,0),t}function tne(e){const t=Je(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function Om(e){const t=Je(e),n=Ei(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function nne(e,t){const n=t?.weekStartsOn,r=Je(e),i=r.getDay(),a=(i<n?-7:0)+6-(i-n);return r.setDate(r.getDate()+a),r.setHours(23,59,59,999),r}const rne={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ine=(e,t,n)=>{let r;const i=rne[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Gs(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const ane={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},one={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},sne={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},lne={date:Gs({formats:ane,defaultWidth:"full"}),time:Gs({formats:one,defaultWidth:"full"}),dateTime:Gs({formats:sne,defaultWidth:"full"})},cne={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},une=(e,t,n,r)=>cne[e];function fi(e){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,s=n?.width?String(n.width):o;i=e.formattingValues[s]||e.formattingValues[o]}else{const o=e.defaultWidth,s=n?.width?String(n.width):e.defaultWidth;i=e.values[s]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const dne={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},fne={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},hne={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},pne={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},mne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},gne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},yne=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},vne={ordinalNumber:yne,era:fi({values:dne,defaultWidth:"wide"}),quarter:fi({values:fne,defaultWidth:"wide",argumentCallback:e=>e-1}),month:fi({values:hne,defaultWidth:"wide"}),day:fi({values:pne,defaultWidth:"wide"}),dayPeriod:fi({values:mne,defaultWidth:"wide",formattingValues:gne,defaultFormattingWidth:"wide"})};function hi(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?xne(s,f=>f.test(o)):bne(s,f=>f.test(o));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const d=t.slice(o.length);return{value:c,rest:d}}}function bne(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function xne(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Z4(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const s=t.slice(i.length);return{value:o,rest:s}}}const wne=/^(\d+)(th|st|nd|rd)?/i,Sne=/\d+/i,_ne={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},jne={any:[/^b/i,/^(a|c)/i]},kne={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ene={any:[/1/i,/2/i,/3/i,/4/i]},Ane={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},One={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Cne={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Pne={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Tne={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Nne={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Rne={ordinalNumber:Z4({matchPattern:wne,parsePattern:Sne,valueCallback:e=>parseInt(e,10)}),era:hi({matchPatterns:_ne,defaultMatchWidth:"wide",parsePatterns:jne,defaultParseWidth:"any"}),quarter:hi({matchPatterns:kne,defaultMatchWidth:"wide",parsePatterns:Ene,defaultParseWidth:"any",valueCallback:e=>e+1}),month:hi({matchPatterns:Ane,defaultMatchWidth:"wide",parsePatterns:One,defaultParseWidth:"any"}),day:hi({matchPatterns:Cne,defaultMatchWidth:"wide",parsePatterns:Pne,defaultParseWidth:"any"}),dayPeriod:hi({matchPatterns:Tne,defaultMatchWidth:"any",parsePatterns:Nne,defaultParseWidth:"any"})},Ine={code:"en-US",formatDistance:ine,formatLong:lne,formatRelative:une,localize:vne,match:Rne,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Mne(e){const t=Je(e);return Mu(t,Om(t))+1}function Dne(e){const t=Je(e),n=+Lh(t)-+Ute(t);return Math.round(n/Lj)+1}function ez(e,t){const n=Je(e),r=n.getFullYear(),i=Em(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=Ei(e,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const s=Tr(o,t),l=Ei(e,0);l.setFullYear(r,0,a),l.setHours(0,0,0,0);const c=Tr(l,t);return n.getTime()>=s.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function $ne(e,t){const n=Em(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=ez(e,t),a=Ei(e,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Tr(a,t)}function Lne(e,t){const n=Je(e),r=+Tr(n,t)-+$ne(n,t);return Math.round(r/Lj)+1}function yt(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const ga={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return yt(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):yt(n+1,2)},d(e,t){return yt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(e,t){return yt(e.getHours()%12||12,t.length)},H(e,t){return yt(e.getHours(),t.length)},m(e,t){return yt(e.getMinutes(),t.length)},s(e,t){return yt(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return yt(i,t.length)}},bs={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},fC={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return ga.y(e,t)},Y:function(e,t,n,r){const i=ez(e,r),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return yt(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):yt(a,t.length)},R:function(e,t){const n=J4(e);return yt(n,t.length)},u:function(e,t){const n=e.getFullYear();return yt(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return yt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return yt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return ga.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return yt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=Lne(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):yt(i,t.length)},I:function(e,t,n){const r=Dne(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):yt(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):ga.d(e,t)},D:function(e,t,n){const r=Mne(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):yt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return yt(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return yt(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return yt(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=bs.noon:r===0?i=bs.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=bs.evening:r>=12?i=bs.afternoon:r>=4?i=bs.morning:i=bs.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ga.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):ga.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):yt(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):yt(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):ga.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):ga.s(e,t)},S:function(e,t){return ga.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return pC(r);case"XXXX":case"XX":return jo(r);default:return jo(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return pC(r);case"xxxx":case"xx":return jo(r);default:return jo(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+hC(r,":");default:return"GMT"+jo(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+hC(r,":");default:return"GMT"+jo(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return yt(r,t.length)},T:function(e,t,n){const r=e.getTime();return yt(r,t.length)}};function hC(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+t+yt(a,2)}function pC(e,t){return e%60===0?(e>0?"-":"+")+yt(Math.abs(e)/60,2):jo(e,t)}function jo(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=yt(Math.trunc(r/60),2),a=yt(r%60,2);return n+i+t+a}const mC=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},tz=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},zne=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return mC(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",mC(r,t)).replace("{{time}}",tz(i,t))},Fne={p:tz,P:zne},Bne=/^D+$/,qne=/^Y+$/,Une=["D","DD","YY","YYYY"];function Vne(e){return Bne.test(e)}function Wne(e){return qne.test(e)}function Hne(e,t,n){const r=Gne(e,t,n);if(console.warn(r),Une.includes(e))throw new RangeError(r)}function Gne(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Kne=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Yne=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Xne=/^'([^]*?)'?$/,Qne=/''/g,Jne=/[a-zA-Z]/;function Xe(e,t,n){const r=Em(),i=n?.locale??r.locale??Ine,a=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=Je(e);if(!Gte(s))throw new RangeError("Invalid time value");let l=t.match(Yne).map(d=>{const f=d[0];if(f==="p"||f==="P"){const h=Fne[f];return h(d,i.formatLong)}return d}).join("").match(Kne).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const f=d[0];if(f==="'")return{isToken:!1,value:Zne(d)};if(fC[f])return{isToken:!0,value:d};if(f.match(Jne))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:d}});i.localize.preprocessor&&(l=i.localize.preprocessor(s,l));const c={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return l.map(d=>{if(!d.isToken)return d.value;const f=d.value;(!n?.useAdditionalWeekYearTokens&&Wne(f)||!n?.useAdditionalDayOfYearTokens&&Vne(f))&&Hne(f,t,String(e));const h=fC[f[0]];return h(s,f,i.localize,c)}).join("")}function Zne(e){const t=e.match(Xne);return t?t[1].replace(Qne,"'"):e}function ere(e){return Je(e).getDate()}function tre(e){return Je(e).getDay()}function nre(e,t){const n=t?.weekStartsOn,r=ere(e);if(isNaN(r))return NaN;const i=tre(qi(e));let a=n-i;a<=0&&(a+=7);const o=r-a;return Math.ceil(o/7)+1}function rre(e){const t=Je(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function ire(e,t){return Xte(rre(e),qi(e),t)+1}function wa(e,t){const n=Je(e),r=Je(t);return n.getTime()>r.getTime()}function oi(e,t){const n=Je(e),r=Je(t);return+n<+r}function gC(e,t,n){const r=Tr(e,n),i=Tr(t,n);return+r==+i}function Kt(e,t){return $h(e,-t)}function are(e,t){const r=cre(e);let i;if(r.date){const l=ure(r.date,2);i=dre(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const a=i.getTime();let o=0,s;if(r.time&&(o=fre(r.time),isNaN(o)))return new Date(NaN);if(r.timezone){if(s=hre(r.timezone),isNaN(s))return new Date(NaN)}else{const l=new Date(a+o),c=new Date(0);return c.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),c.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),c}return new Date(a+o+s)}const wf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ore=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,sre=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,lre=/^([+-])(\d{2})(?::?(\d{2}))?$/;function cre(e){const t={},n=e.split(wf.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],wf.timeZoneDelimiter.test(t.date)&&(t.date=e.split(wf.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const i=wf.timezone.exec(r);i?(t.time=r.replace(i[1],""),t.timezone=i[1]):t.time=r}return t}function ure(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((r[1]||r[2]).length)}}function dre(e,t){if(t===null)return new Date(NaN);const n=e.match(ore);if(!n)return new Date(NaN);const r=!!n[4],i=Ec(n[1]),a=Ec(n[2])-1,o=Ec(n[3]),s=Ec(n[4]),l=Ec(n[5])-1;if(r)return vre(t,s,l)?pre(t,s,l):new Date(NaN);{const c=new Date(0);return!gre(t,a,o)||!yre(t,i)?new Date(NaN):(c.setUTCFullYear(t,a,Math.max(i,o)),c)}}function Ec(e){return e?parseInt(e):1}function fre(e){const t=e.match(sre);if(!t)return NaN;const n=wy(t[1]),r=wy(t[2]),i=wy(t[3]);return bre(n,r,i)?n*Q4+r*X4+i*1e3:NaN}function wy(e){return e&&parseFloat(e.replace(",","."))||0}function hre(e){if(e==="Z")return 0;const t=e.match(lre);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return xre(r,i)?n*(r*Q4+i*X4):NaN}function pre(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const i=r.getUTCDay()||7,a=(t-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+a),r}const mre=[31,null,31,30,31,30,31,31,30,31,30,31];function nz(e){return e%400===0||e%4===0&&e%100!==0}function gre(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(mre[t]||(nz(e)?29:28))}function yre(e,t){return t>=1&&t<=(nz(e)?366:365)}function vre(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function bre(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function xre(e,t){return t>=0&&t<=59}function yC(e,t){return $j(e,-t)}function wre(e,t){return Vte(e,-1)}function Sre(e,t){return Wte(e,-1)}function xs(e=new Date){return Xe(e,"yyyy-MM-dd")}function _re(e,t,n){return!(e<t||n&&e>n)}function zj(){const e=eo(),{data:t,isLoading:n,refetch:r}=ji({queryKey:["goals"],queryFn:async()=>{const{data:m,error:g}=await be.from("goals").select("*").order("display_order",{ascending:!0,nullsFirst:!1}).order("created_at",{ascending:!0});if(g)throw We.error("Errore caricamento obiettivi"),g;return m}}),{data:i,isLoading:a}=ji({queryKey:["goal_logs"],queryFn:async()=>{let m=[],g=0;const v=1e3;let b=!0;for(;b;){const{data:x,error:_}=await be.from("goal_logs").select("*").range(g,g+v-1);if(_)throw console.error(_),_;x&&x.length>0?(m=[...m,...x],x.length<v?b=!1:g+=v):b=!1}return m}}),o={};i&&i.forEach(m=>{o[m.date]||(o[m.date]={}),o[m.date][m.goal_id]=m.status});const s=xr({mutationFn:async m=>{const{data:{session:g}}=await be.auth.getSession();if(!g)throw new Error("Non sei autenticato. Effettua il login.");const{data:v}=await be.from("goals").select("display_order").eq("user_id",g.user.id).order("display_order",{ascending:!1,nullsFirst:!1}).limit(1),b=v&&v.length>0&&v[0].display_order?v[0].display_order+1:1,{data:x,error:_}=await be.from("goals").insert([{title:m.title,color:m.color,start_date:m.start_date||xs(new Date),user_id:g.user.id,display_order:b}]).select().single();if(_)throw _;return x},onSuccess:()=>{e.invalidateQueries({queryKey:["goals"]}),We.success("Obiettivo creato")},onError:m=>{We.error("Errore creazione: "+m.message)}}),l=xr({mutationFn:async({id:m,title:g,color:v})=>{const{data:{session:b}}=await be.auth.getSession();if(!b)throw new Error("Non sei autenticato. Effettua il login.");const{error:x}=await be.from("goals").update({title:g,color:v}).eq("id",m).eq("user_id",b.user.id);if(x)throw x},onSuccess:()=>{e.invalidateQueries({queryKey:["goals"]}),We.success("Abitudine aggiornata")},onError:m=>{We.error("Errore aggiornamento: "+m.message)}}),c=async m=>{const g=new Date;g.setDate(g.getDate()-1);const{error:v}=await be.from("goals").update({end_date:xs(g)}).eq("id",m);if(v)throw console.error("Soft delete failed:",v),v},d=xr({mutationFn:async m=>{const{count:g,error:v}=await be.from("goal_logs").select("*",{count:"exact",head:!0}).eq("goal_id",m);if(v)throw v;if(g&&g>0)await c(m);else try{const{error:b}=await be.from("goals").delete().eq("id",m);b&&(console.warn("Hard delete failed, falling back to soft delete",b),await c(m))}catch(b){console.warn("Hard delete exception, falling back to soft delete",b),await c(m)}},onSuccess:()=>{e.invalidateQueries({queryKey:["goals"]}),We.success("Obiettivo eliminato")},onError:m=>{We.error("Errore eliminazione: "+m.message)}}),f=xr({mutationFn:async()=>{const{data:{session:m}}=await be.auth.getSession();if(!m)throw new Error("Not authenticated");const{error:g}=await be.from("goal_logs").delete().eq("user_id",m.user.id);if(g)throw g;const{error:v}=await be.from("goals").delete().eq("user_id",m.user.id);if(v)throw v},onSuccess:()=>{e.invalidateQueries({queryKey:["goals"]}),e.invalidateQueries({queryKey:["goal_logs"]}),We.success("Reset completo effettuato")},onError:m=>{We.error("Errore reset: "+m.message)}}),h=(t||[]).filter(m=>!m.end_date||m.end_date>=xs(new Date)),p=xr({mutationFn:async({goalId:m,date:g,currentStatus:v})=>{const b=xs(g),{data:{session:x}}=await be.auth.getSession(),{data:_,error:w}=await be.from("goals").select("start_date, end_date").eq("id",m).single();if(w||!_)throw w||new Error("Goal not found");const j=_;if(!_re(b,j.start_date,j.end_date))throw new Error("Impossibile modificare un obiettivo fuori dal suo periodo di validit.");let k="done";if(v==="done"?k="missed":v==="missed"&&(k=null),k===null){const{error:A}=await be.from("goal_logs").delete().eq("goal_id",m).eq("date",b);if(A)throw A}else{const{error:A}=await be.from("goal_logs").upsert({goal_id:m,date:b,status:k,user_id:x?.user.id},{onConflict:"goal_id, date"});if(A)throw A}return{goalId:m,dateStr:b,nextStatus:k}},onMutate:async({goalId:m,date:g,currentStatus:v})=>{await e.cancelQueries({queryKey:["goal_logs"]});const b=e.getQueryData(["goal_logs"]),x=xs(g);let _="done";return v==="done"?_="missed":v==="missed"&&(_=null),e.setQueryData(["goal_logs"],w=>{if(!w)return[];const j=w.filter(k=>!(k.goal_id===m&&k.date===x));return _?[...j,{id:"temp-"+Date.now(),goal_id:m,date:x,status:_,created_at:"",updated_at:""}]:j}),{previousLogs:b}},onError:(m,g,v)=>{e.setQueryData(["goal_logs"],v?.previousLogs),We.error("Errore aggiornamento")},onSettled:()=>{e.invalidateQueries({queryKey:["goal_logs"]})}}),y=xr({mutationFn:async m=>{const{data:{session:g}}=await be.auth.getSession();if(!g)throw new Error("Non sei autenticato. Effettua il login.");const v=m.map(async({id:b,display_order:x})=>{const{error:_}=await be.from("goals").update({display_order:x}).eq("id",b).eq("user_id",g.user.id);if(_)throw _;return{id:b,display_order:x}});await Promise.all(v)},onSuccess:async()=>{await e.invalidateQueries({queryKey:["goals"]}),setTimeout(()=>{e.refetchQueries({queryKey:["goals"]})},100),We.success("Ordine salvato")},onError:m=>{We.error("Errore salvataggio ordine: "+m.message)}});return{goals:h,allGoals:t||[],logs:o,rawLogs:i||[],isLoading:n||a,createGoal:s.mutate,updateGoal:l.mutate,isUpdating:l.isPending,updateOrder:y.mutate,isUpdatingOrder:y.isPending,deleteGoal:d.mutate,isDeleting:d.isPending,resetAllData:f.mutate,isResetting:f.isPending,toggleGoal:async(m,g)=>{const v=xs(m),b=o[v]?.[g]||null;p.mutate({goalId:g,date:m,currentStatus:b})}}}const rz=S.createContext(void 0),jre=({children:e})=>{const[t,n]=S.useState(!1),r=()=>{n(i=>!i)};return u.jsx(rz.Provider,{value:{isPrivacyMode:t,setIsPrivacyMode:n,togglePrivacyMode:r},children:e})},Cm=()=>{const e=S.useContext(rz);if(e===void 0)throw new Error("usePrivacy must be used within a PrivacyProvider");return e},kre={lessThanXSeconds:{one:"meno di un secondo",other:"meno di {{count}} secondi"},xSeconds:{one:"un secondo",other:"{{count}} secondi"},halfAMinute:"alcuni secondi",lessThanXMinutes:{one:"meno di un minuto",other:"meno di {{count}} minuti"},xMinutes:{one:"un minuto",other:"{{count}} minuti"},aboutXHours:{one:"circa un'ora",other:"circa {{count}} ore"},xHours:{one:"un'ora",other:"{{count}} ore"},xDays:{one:"un giorno",other:"{{count}} giorni"},aboutXWeeks:{one:"circa una settimana",other:"circa {{count}} settimane"},xWeeks:{one:"una settimana",other:"{{count}} settimane"},aboutXMonths:{one:"circa un mese",other:"circa {{count}} mesi"},xMonths:{one:"un mese",other:"{{count}} mesi"},aboutXYears:{one:"circa un anno",other:"circa {{count}} anni"},xYears:{one:"un anno",other:"{{count}} anni"},overXYears:{one:"pi di un anno",other:"pi di {{count}} anni"},almostXYears:{one:"quasi un anno",other:"quasi {{count}} anni"}},Ere=(e,t,n)=>{let r;const i=kre[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"tra "+r:r+" fa":r},Are={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},Ore={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Cre={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},Pre={date:Gs({formats:Are,defaultWidth:"full"}),time:Gs({formats:Ore,defaultWidth:"full"}),dateTime:Gs({formats:Cre,defaultWidth:"full"})},Fj=["domenica","luned","marted","mercoled","gioved","venerd","sabato"];function Tre(e){return e===0?"'domenica scorsa alle' p":"'"+Fj[e]+" scorso alle' p"}function vC(e){return"'"+Fj[e]+" alle' p"}function Nre(e){return e===0?"'domenica prossima alle' p":"'"+Fj[e]+" prossimo alle' p"}const Rre={lastWeek:(e,t,n)=>{const r=e.getDay();return gC(e,t,n)?vC(r):Tre(r)},yesterday:"'ieri alle' p",today:"'oggi alle' p",tomorrow:"'domani alle' p",nextWeek:(e,t,n)=>{const r=e.getDay();return gC(e,t,n)?vC(r):Nre(r)},other:"P"},Ire=(e,t,n,r)=>{const i=Rre[e];return typeof i=="function"?i(t,n,r):i},Mre={narrow:["aC","dC"],abbreviated:["a.C.","d.C."],wide:["avanti Cristo","dopo Cristo"]},Dre={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},$re={narrow:["G","F","M","A","M","G","L","A","S","O","N","D"],abbreviated:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],wide:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]},Lre={narrow:["D","L","M","M","G","V","S"],short:["dom","lun","mar","mer","gio","ven","sab"],abbreviated:["dom","lun","mar","mer","gio","ven","sab"],wide:["domenica","luned","marted","mercoled","gioved","venerd","sabato"]},zre={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"}},Fre={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"}},Bre=(e,t)=>{const n=Number(e);return String(n)},qre={ordinalNumber:Bre,era:fi({values:Mre,defaultWidth:"wide"}),quarter:fi({values:Dre,defaultWidth:"wide",argumentCallback:e=>e-1}),month:fi({values:$re,defaultWidth:"wide"}),day:fi({values:Lre,defaultWidth:"wide"}),dayPeriod:fi({values:zre,defaultWidth:"wide",formattingValues:Fre,defaultFormattingWidth:"wide"})},Ure=/^(\d+)()?/i,Vre=/\d+/i,Wre={narrow:/^(aC|dC)/i,abbreviated:/^(a\.?\s?C\.?|a\.?\s?e\.?\s?v\.?|d\.?\s?C\.?|e\.?\s?v\.?)/i,wide:/^(avanti Cristo|avanti Era Volgare|dopo Cristo|Era Volgare)/i},Hre={any:[/^a/i,/^(d|e)/i]},Gre={narrow:/^[1234]/i,abbreviated:/^t[1234]/i,wide:/^[1234]()? trimestre/i},Kre={any:[/1/i,/2/i,/3/i,/4/i]},Yre={narrow:/^[gfmalsond]/i,abbreviated:/^(gen|feb|mar|apr|mag|giu|lug|ago|set|ott|nov|dic)/i,wide:/^(gennaio|febbraio|marzo|aprile|maggio|giugno|luglio|agosto|settembre|ottobre|novembre|dicembre)/i},Xre={narrow:[/^g/i,/^f/i,/^m/i,/^a/i,/^m/i,/^g/i,/^l/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ge/i,/^f/i,/^mar/i,/^ap/i,/^mag/i,/^gi/i,/^l/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},Qre={narrow:/^[dlmgvs]/i,short:/^(do|lu|ma|me|gi|ve|sa)/i,abbreviated:/^(dom|lun|mar|mer|gio|ven|sab)/i,wide:/^(domenica|luned[i|]|marted[i|]|mercoled[i|]|gioved[i|]|venerd[i|]|sabato)/i},Jre={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^g/i,/^v/i,/^s/i],any:[/^d/i,/^l/i,/^ma/i,/^me/i,/^g/i,/^v/i,/^s/i]},Zre={narrow:/^(a|m\.|p|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i,any:/^([ap]\.?\s?m\.?|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i},eie={any:{am:/^a/i,pm:/^p/i,midnight:/^mezza/i,noon:/^mezzo/i,morning:/mattina/i,afternoon:/pomeriggio/i,evening:/sera/i,night:/notte/i}},tie={ordinalNumber:Z4({matchPattern:Ure,parsePattern:Vre,valueCallback:e=>parseInt(e,10)}),era:hi({matchPatterns:Wre,defaultMatchWidth:"wide",parsePatterns:Hre,defaultParseWidth:"any"}),quarter:hi({matchPatterns:Gre,defaultMatchWidth:"wide",parsePatterns:Kre,defaultParseWidth:"any",valueCallback:e=>e+1}),month:hi({matchPatterns:Yre,defaultMatchWidth:"wide",parsePatterns:Xre,defaultParseWidth:"any"}),day:hi({matchPatterns:Qre,defaultMatchWidth:"wide",parsePatterns:Jre,defaultParseWidth:"any"}),dayPeriod:hi({matchPatterns:Zre,defaultMatchWidth:"any",parsePatterns:eie,defaultParseWidth:"any"})},Hn={code:"it",formatDistance:Ere,formatLong:Pre,formatRelative:Ire,localize:qre,match:tie,options:{weekStartsOn:1,firstWeekContainsDate:4}};function $a(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}var nie="DismissableLayer",h1="dismissableLayer.update",rie="dismissableLayer.pointerDownOutside",iie="dismissableLayer.focusOutside",bC,iz=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),az=S.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:s,...l}=e,c=S.useContext(iz),[d,f]=S.useState(null),h=d?.ownerDocument??globalThis?.document,[,p]=S.useState({}),y=ze(t,k=>f(k)),m=Array.from(c.layers),[g]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(g),b=d?m.indexOf(d):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,_=b>=v,w=sie(k=>{const A=k.target,P=[...c.branches].some(O=>O.contains(A));!_||P||(i?.(k),o?.(k),k.defaultPrevented||s?.())},h),j=lie(k=>{const A=k.target;[...c.branches].some(O=>O.contains(A))||(a?.(k),o?.(k),k.defaultPrevented||s?.())},h);return f5(k=>{b===c.layers.size-1&&(r?.(k),!k.defaultPrevented&&s&&(k.preventDefault(),s()))},h),S.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(bC=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),xC(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=bC)}},[d,h,n,c]),S.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),xC())},[d,c]),S.useEffect(()=>{const k=()=>p({});return document.addEventListener(h1,k),()=>document.removeEventListener(h1,k)},[]),u.jsx(Ae.div,{...l,ref:y,style:{pointerEvents:x?_?"auto":"none":void 0,...e.style},onFocusCapture:$a(e.onFocusCapture,j.onFocusCapture),onBlurCapture:$a(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:$a(e.onPointerDownCapture,w.onPointerDownCapture)})});az.displayName=nie;var aie="DismissableLayerBranch",oie=S.forwardRef((e,t)=>{const n=S.useContext(iz),r=S.useRef(null),i=ze(t,r);return S.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),u.jsx(Ae.div,{...e,ref:i})});oie.displayName=aie;function sie(e,t=globalThis?.document){const n=Ut(e),r=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{const a=s=>{if(s.target&&!r.current){let l=function(){oz(rie,n,c,{discrete:!0})};const c={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function lie(e,t=globalThis?.document){const n=Ut(e),r=S.useRef(!1);return S.useEffect(()=>{const i=a=>{a.target&&!r.current&&oz(iie,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function xC(){const e=new CustomEvent(h1);document.dispatchEvent(e)}function oz(e,t,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?w_(i,a):i.dispatchEvent(a)}var Sy="focusScope.autoFocusOnMount",_y="focusScope.autoFocusOnUnmount",wC={bubbles:!1,cancelable:!0},cie="FocusScope",Bj=S.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[s,l]=S.useState(null),c=Ut(i),d=Ut(a),f=S.useRef(null),h=ze(t,m=>l(m)),p=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(r){let m=function(x){if(p.paused||!s)return;const _=x.target;s.contains(_)?f.current=_:ba(f.current,{select:!0})},g=function(x){if(p.paused||!s)return;const _=x.relatedTarget;_!==null&&(s.contains(_)||ba(f.current,{select:!0}))},v=function(x){if(document.activeElement===document.body)for(const w of x)w.removedNodes.length>0&&ba(s)};document.addEventListener("focusin",m),document.addEventListener("focusout",g);const b=new MutationObserver(v);return s&&b.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",g),b.disconnect()}}},[r,s,p.paused]),S.useEffect(()=>{if(s){_C.add(p);const m=document.activeElement;if(!s.contains(m)){const v=new CustomEvent(Sy,wC);s.addEventListener(Sy,c),s.dispatchEvent(v),v.defaultPrevented||(uie(mie(sz(s)),{select:!0}),document.activeElement===m&&ba(s))}return()=>{s.removeEventListener(Sy,c),setTimeout(()=>{const v=new CustomEvent(_y,wC);s.addEventListener(_y,d),s.dispatchEvent(v),v.defaultPrevented||ba(m??document.body,{select:!0}),s.removeEventListener(_y,d),_C.remove(p)},0)}}},[s,c,d,p]);const y=S.useCallback(m=>{if(!n&&!r||p.paused)return;const g=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,v=document.activeElement;if(g&&v){const b=m.currentTarget,[x,_]=die(b);x&&_?!m.shiftKey&&v===_?(m.preventDefault(),n&&ba(x,{select:!0})):m.shiftKey&&v===x&&(m.preventDefault(),n&&ba(_,{select:!0})):v===b&&m.preventDefault()}},[n,r,p.paused]);return u.jsx(Ae.div,{tabIndex:-1,...o,ref:h,onKeyDown:y})});Bj.displayName=cie;function uie(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ba(r,{select:t}),document.activeElement!==n)return}function die(e){const t=sz(e),n=SC(t,e),r=SC(t.reverse(),e);return[n,r]}function sz(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function SC(e,t){for(const n of e)if(!fie(n,{upTo:t}))return n}function fie(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function hie(e){return e instanceof HTMLInputElement&&"select"in e}function ba(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&hie(e)&&t&&e.select()}}var _C=pie();function pie(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=jC(e,t),e.unshift(t)},remove(t){e=jC(e,t),e[0]?.resume()}}}function jC(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function mie(e){return e.filter(t=>t.tagName!=="A")}function gie(e,t){return S.useReducer((n,r)=>t[n][r]??n,e)}var Pm=e=>{const{present:t,children:n}=e,r=yie(t),i=typeof n=="function"?n({present:r.isPresent}):S.Children.only(n),a=ze(r.ref,vie(i));return typeof n=="function"||r.isPresent?S.cloneElement(i,{ref:a}):null};Pm.displayName="Presence";function yie(e){const[t,n]=S.useState(),r=S.useRef(null),i=S.useRef(e),a=S.useRef("none"),o=e?"mounted":"unmounted",[s,l]=gie(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const c=Sf(r.current);a.current=s==="mounted"?c:"none"},[s]),Qt(()=>{const c=r.current,d=i.current;if(d!==e){const h=a.current,p=Sf(c);e?l("MOUNT"):p==="none"||c?.display==="none"?l("UNMOUNT"):l(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),Qt(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,f=p=>{const m=Sf(r.current).includes(CSS.escape(p.animationName));if(p.target===t&&m&&(l("ANIMATION_END"),!i.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},h=p=>{p.target===t&&(a.current=Sf(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:S.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Sf(e){return e?.animationName||"none"}function vie(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var jy=0;function bie(){S.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??kC()),document.body.insertAdjacentElement("beforeend",e[1]??kC()),jy++,()=>{jy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),jy--}},[])}function kC(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var lh="right-scroll-bar-position",ch="width-before-scroll-bar",xie="with-scroll-bars-hidden",wie="--removed-body-scroll-bar-size";function ky(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Sie(e,t){var n=S.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var _ie=typeof window<"u"?S.useLayoutEffect:S.useEffect,EC=new WeakMap;function jie(e,t){var n=Sie(null,function(r){return e.forEach(function(i){return ky(i,r)})});return _ie(function(){var r=EC.get(n);if(r){var i=new Set(r),a=new Set(e),o=n.current;i.forEach(function(s){a.has(s)||ky(s,null)}),a.forEach(function(s){i.has(s)||ky(s,o)})}EC.set(n,e)},[e]),n}function kie(e){return e}function Eie(e,t){t===void 0&&(t=kie);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,r);return n.push(o),function(){n=n.filter(function(s){return s!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(s){return a(s)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var s=n;n=[],s.forEach(a),o=n}var l=function(){var d=o;o=[],d.forEach(a)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return i}function Aie(e){e===void 0&&(e={});var t=Eie(null);return t.options=Sr({async:!0,ssr:!1},e),t}var lz=function(e){var t=e.sideCar,n=no(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return S.createElement(r,Sr({},n))};lz.isSideCarExport=!0;function Oie(e,t){return e.useMedium(t),lz}var cz=Aie(),Ey=function(){},Tm=S.forwardRef(function(e,t){var n=S.useRef(null),r=S.useState({onScrollCapture:Ey,onWheelCapture:Ey,onTouchMoveCapture:Ey}),i=r[0],a=r[1],o=e.forwardProps,s=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,y=e.noIsolation,m=e.inert,g=e.allowPinchZoom,v=e.as,b=v===void 0?"div":v,x=e.gapMode,_=no(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=h,j=jie([n,t]),k=Sr(Sr({},_),i);return S.createElement(S.Fragment,null,d&&S.createElement(w,{sideCar:cz,removeScrollBar:c,shards:f,noRelative:p,noIsolation:y,inert:m,setCallbacks:a,allowPinchZoom:!!g,lockRef:n,gapMode:x}),o?S.cloneElement(S.Children.only(s),Sr(Sr({},k),{ref:j})):S.createElement(b,Sr({},k,{className:l,ref:j}),s))});Tm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Tm.classNames={fullWidth:ch,zeroRight:lh};var Cie=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Pie(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Cie();return t&&e.setAttribute("nonce",t),e}function Tie(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Nie(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Rie=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Pie())&&(Tie(t,n),Nie(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Iie=function(){var e=Rie();return function(t,n){S.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},uz=function(){var e=Iie(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},Mie={left:0,top:0,right:0,gap:0},Ay=function(e){return parseInt(e||"",10)||0},Die=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Ay(n),Ay(r),Ay(i)]},$ie=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Mie;var t=Die(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Lie=uz(),Ks="data-scroll-locked",zie=function(e,t,n,r){var i=e.left,a=e.top,o=e.right,s=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(xie,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(s,"px ").concat(r,`;
  }
  body[`).concat(Ks,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(lh,` {
    right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(ch,` {
    margin-right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(lh," .").concat(lh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ch," .").concat(ch,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ks,`] {
    `).concat(wie,": ").concat(s,`px;
  }
`)},AC=function(){var e=parseInt(document.body.getAttribute(Ks)||"0",10);return isFinite(e)?e:0},Fie=function(){S.useEffect(function(){return document.body.setAttribute(Ks,(AC()+1).toString()),function(){var e=AC()-1;e<=0?document.body.removeAttribute(Ks):document.body.setAttribute(Ks,e.toString())}},[])},Bie=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;Fie();var a=S.useMemo(function(){return $ie(i)},[i]);return S.createElement(Lie,{styles:zie(a,!t,i,n?"":"!important")})},p1=!1;if(typeof window<"u")try{var _f=Object.defineProperty({},"passive",{get:function(){return p1=!0,!0}});window.addEventListener("test",_f,_f),window.removeEventListener("test",_f,_f)}catch{p1=!1}var ws=p1?{passive:!1}:!1,qie=function(e){return e.tagName==="TEXTAREA"},dz=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!qie(e)&&n[t]==="visible")},Uie=function(e){return dz(e,"overflowY")},Vie=function(e){return dz(e,"overflowX")},OC=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=fz(e,r);if(i){var a=hz(e,r),o=a[1],s=a[2];if(o>s)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Wie=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Hie=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},fz=function(e,t){return e==="v"?Uie(t):Vie(t)},hz=function(e,t){return e==="v"?Wie(t):Hie(t)},Gie=function(e,t){return e==="h"&&t==="rtl"?-1:1},Kie=function(e,t,n,r,i){var a=Gie(e,window.getComputedStyle(t).direction),o=a*r,s=n.target,l=t.contains(s),c=!1,d=o>0,f=0,h=0;do{if(!s)break;var p=hz(e,s),y=p[0],m=p[1],g=p[2],v=m-g-a*y;(y||v)&&fz(e,s)&&(f+=v,h+=y);var b=s.parentNode;s=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(c=!0),c},jf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},CC=function(e){return[e.deltaX,e.deltaY]},PC=function(e){return e&&"current"in e?e.current:e},Yie=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Xie=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Qie=0,Ss=[];function Jie(e){var t=S.useRef([]),n=S.useRef([0,0]),r=S.useRef(),i=S.useState(Qie++)[0],a=S.useState(uz)[0],o=S.useRef(e);S.useEffect(function(){o.current=e},[e]),S.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var m=Oj([e.lockRef.current],(e.shards||[]).map(PC),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var s=S.useCallback(function(m,g){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var v=jf(m),b=n.current,x="deltaX"in m?m.deltaX:b[0]-v[0],_="deltaY"in m?m.deltaY:b[1]-v[1],w,j=m.target,k=Math.abs(x)>Math.abs(_)?"h":"v";if("touches"in m&&k==="h"&&j.type==="range")return!1;var A=OC(k,j);if(!A)return!0;if(A?w=k:(w=k==="v"?"h":"v",A=OC(k,j)),!A)return!1;if(!r.current&&"changedTouches"in m&&(x||_)&&(r.current=w),!w)return!0;var P=r.current||w;return Kie(P,g,m,P==="h"?x:_)},[]),l=S.useCallback(function(m){var g=m;if(!(!Ss.length||Ss[Ss.length-1]!==a)){var v="deltaY"in g?CC(g):jf(g),b=t.current.filter(function(w){return w.name===g.type&&(w.target===g.target||g.target===w.shadowParent)&&Yie(w.delta,v)})[0];if(b&&b.should){g.cancelable&&g.preventDefault();return}if(!b){var x=(o.current.shards||[]).map(PC).filter(Boolean).filter(function(w){return w.contains(g.target)}),_=x.length>0?s(g,x[0]):!o.current.noIsolation;_&&g.cancelable&&g.preventDefault()}}},[]),c=S.useCallback(function(m,g,v,b){var x={name:m,delta:g,target:v,should:b,shadowParent:Zie(v)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(_){return _!==x})},1)},[]),d=S.useCallback(function(m){n.current=jf(m),r.current=void 0},[]),f=S.useCallback(function(m){c(m.type,CC(m),m.target,s(m,e.lockRef.current))},[]),h=S.useCallback(function(m){c(m.type,jf(m),m.target,s(m,e.lockRef.current))},[]);S.useEffect(function(){return Ss.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,ws),document.addEventListener("touchmove",l,ws),document.addEventListener("touchstart",d,ws),function(){Ss=Ss.filter(function(m){return m!==a}),document.removeEventListener("wheel",l,ws),document.removeEventListener("touchmove",l,ws),document.removeEventListener("touchstart",d,ws)}},[]);var p=e.removeScrollBar,y=e.inert;return S.createElement(S.Fragment,null,y?S.createElement(a,{styles:Xie(i)}):null,p?S.createElement(Bie,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Zie(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const eae=Oie(cz,Jie);var qj=S.forwardRef(function(e,t){return S.createElement(Tm,Sr({},e,{ref:t,sideCar:eae}))});qj.classNames=Tm.classNames;var tae=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},_s=new WeakMap,kf=new WeakMap,Ef={},Oy=0,pz=function(e){return e&&(e.host||pz(e.parentNode))},nae=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=pz(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},rae=function(e,t,n,r){var i=nae(t,Array.isArray(e)?e:[e]);Ef[n]||(Ef[n]=new WeakMap);var a=Ef[n],o=[],s=new Set,l=new Set(i),c=function(f){!f||s.has(f)||(s.add(f),c(f.parentNode))};i.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(s.has(h))d(h);else try{var p=h.getAttribute(r),y=p!==null&&p!=="false",m=(_s.get(h)||0)+1,g=(a.get(h)||0)+1;_s.set(h,m),a.set(h,g),o.push(h),m===1&&y&&kf.set(h,!0),g===1&&h.setAttribute(n,"true"),y||h.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return d(t),s.clear(),Oy++,function(){o.forEach(function(f){var h=_s.get(f)-1,p=a.get(f)-1;_s.set(f,h),a.set(f,p),h||(kf.has(f)||f.removeAttribute(r),kf.delete(f)),p||f.removeAttribute(n)}),Oy--,Oy||(_s=new WeakMap,_s=new WeakMap,kf=new WeakMap,Ef={})}},mz=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=tae(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),rae(r,i,n,"aria-hidden")):function(){return null}},Nm="Dialog",[gz,yz]=Bn(Nm),[iae,ii]=gz(Nm),vz=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,s=S.useRef(null),l=S.useRef(null),[c,d]=Si({prop:r,defaultProp:i??!1,onChange:a,caller:Nm});return u.jsx(iae,{scope:t,triggerRef:s,contentRef:l,contentId:Ki(),titleId:Ki(),descriptionId:Ki(),open:c,onOpenChange:d,onOpenToggle:S.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};vz.displayName=Nm;var bz="DialogTrigger",xz=S.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=ii(bz,n),a=ze(t,i.triggerRef);return u.jsx(Ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Wj(i.open),...r,ref:a,onClick:$a(e.onClick,i.onOpenToggle)})});xz.displayName=bz;var Uj="DialogPortal",[aae,wz]=gz(Uj,{forceMount:void 0}),Sz=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,a=ii(Uj,t);return u.jsx(aae,{scope:t,forceMount:n,children:S.Children.map(r,o=>u.jsx(Pm,{present:n||a.open,children:u.jsx(am,{asChild:!0,container:i,children:o})}))})};Sz.displayName=Uj;var Fh="DialogOverlay",_z=S.forwardRef((e,t)=>{const n=wz(Fh,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=ii(Fh,e.__scopeDialog);return a.modal?u.jsx(Pm,{present:r||a.open,children:u.jsx(sae,{...i,ref:t})}):null});_z.displayName=Fh;var oae=wu("DialogOverlay.RemoveScroll"),sae=S.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=ii(Fh,n);return u.jsx(qj,{as:oae,allowPinchZoom:!0,shards:[i.contentRef],children:u.jsx(Ae.div,{"data-state":Wj(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Qo="DialogContent",jz=S.forwardRef((e,t)=>{const n=wz(Qo,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=ii(Qo,e.__scopeDialog);return u.jsx(Pm,{present:r||a.open,children:a.modal?u.jsx(lae,{...i,ref:t}):u.jsx(cae,{...i,ref:t})})});jz.displayName=Qo;var lae=S.forwardRef((e,t)=>{const n=ii(Qo,e.__scopeDialog),r=S.useRef(null),i=ze(t,n.contentRef,r);return S.useEffect(()=>{const a=r.current;if(a)return mz(a)},[]),u.jsx(kz,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:$a(e.onCloseAutoFocus,a=>{a.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:$a(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,s=o.button===0&&o.ctrlKey===!0;(o.button===2||s)&&a.preventDefault()}),onFocusOutside:$a(e.onFocusOutside,a=>a.preventDefault())})}),cae=S.forwardRef((e,t)=>{const n=ii(Qo,e.__scopeDialog),r=S.useRef(!1),i=S.useRef(!1);return u.jsx(kz,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||n.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;n.triggerRef.current?.contains(o)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),kz=S.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,s=ii(Qo,n),l=S.useRef(null),c=ze(t,l);return bie(),u.jsxs(u.Fragment,{children:[u.jsx(Bj,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:u.jsx(az,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":Wj(s.open),...o,ref:c,onDismiss:()=>s.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(dae,{titleId:s.titleId}),u.jsx(hae,{contentRef:l,descriptionId:s.descriptionId})]})]})}),Vj="DialogTitle",Ez=S.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=ii(Vj,n);return u.jsx(Ae.h2,{id:i.titleId,...r,ref:t})});Ez.displayName=Vj;var Az="DialogDescription",Oz=S.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=ii(Az,n);return u.jsx(Ae.p,{id:i.descriptionId,...r,ref:t})});Oz.displayName=Az;var Cz="DialogClose",Pz=S.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=ii(Cz,n);return u.jsx(Ae.button,{type:"button",...r,ref:t,onClick:$a(e.onClick,()=>i.onOpenChange(!1))})});Pz.displayName=Cz;function Wj(e){return e?"open":"closed"}var Tz="DialogTitleWarning",[uae,Nz]=uH(Tz,{contentName:Qo,titleName:Vj,docsSlug:"dialog"}),dae=({titleId:e})=>{const t=Nz(Tz),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return S.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},fae="DialogDescriptionWarning",hae=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Nz(fae).contentName}}.`;return S.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Rm=vz,Im=xz,Mm=Sz,Yl=_z,Xl=jz,Ql=Ez,Jl=Oz,Dm=Pz;const $m=Rm,Hj=Im,pae=Mm,Rz=S.forwardRef(({className:e,...t},n)=>u.jsx(Yl,{ref:n,className:ae("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Rz.displayName=Yl.displayName;const Ld=S.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(pae,{children:[u.jsx(Rz,{}),u.jsxs(Xl,{ref:r,className:ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,u.jsxs(Dm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[u.jsx(Ga,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ld.displayName=Xl.displayName;const Lm=({className:e,...t})=>u.jsx("div",{className:ae("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Lm.displayName="DialogHeader";const Iz=({className:e,...t})=>u.jsx("div",{className:ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Iz.displayName="DialogFooter";const zd=S.forwardRef(({className:e,...t},n)=>u.jsx(Ql,{ref:n,className:ae("text-lg font-semibold leading-none tracking-tight",e),...t}));zd.displayName=Ql.displayName;const Fd=S.forwardRef(({className:e,...t},n)=>u.jsx(Jl,{ref:n,className:ae("text-sm text-muted-foreground",e),...t}));Fd.displayName=Jl.displayName;function Gj({date:e,isOpen:t,onClose:n,habits:r,records:i,onToggleHabit:a,isPrivacyMode:o=!1,readonly:s=!1}){if(!e)return null;const l=Xe(e,"yyyy-MM-dd"),c=r.filter(d=>{const f=d.start_date<=l,h=!d.end_date||d.end_date>=l;return f&&h});return u.jsx($m,{open:t,onOpenChange:n,children:u.jsxs(Ld,{className:"sm:max-w-[400px]",children:[u.jsxs(Lm,{children:[u.jsxs("div",{className:"flex items-center justify-between pr-8",children:[u.jsx(zd,{className:"text-xl font-display capitalize",children:Xe(e,"EEEE d MMMM",{locale:Hn})}),s?u.jsx("span",{className:"text-xs font-medium px-2 py-1 rounded-full bg-muted text-muted-foreground border border-border",children:"Solo visualizzazione"}):u.jsx("span",{className:"text-xs font-medium px-2 py-1 rounded-full bg-primary/10 text-primary border border-primary/20",children:"Modifica abilitata"})]}),u.jsx(Fd,{className:"sr-only",children:"Dettagli delle attivit giornaliere"})]}),u.jsx("div",{className:"py-2",children:u.jsx("div",{className:"max-h-[60vh] overflow-y-auto",children:u.jsx("div",{className:"space-y-3 pr-4",children:c.map(d=>{const h=(i[l]||{})[d.id],p=h==="done",y=h==="missed";return u.jsxs("div",{onClick:()=>!s&&a(d.id),className:ae("flex items-center justify-between p-3 rounded-xl border transition-all",!s&&"cursor-pointer hover:shadow-md hover:scale-[1.02] active:scale-[0.98]",s&&"opacity-90",p&&"bg-success/15 border-success/30",y&&"bg-destructive/15 border-destructive/30",!h&&"bg-card border-border",!h&&!s&&"hover:bg-accent"),children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"h-3 w-3 rounded-full ring-2 ring-offset-2 ring-offset-background",style:{backgroundColor:d.color}}),u.jsx("span",{className:ae("font-medium transition-colors transition-all duration-300",(p||y)&&"text-foreground",o&&"blur-sm"),children:d.title})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[p&&u.jsx(ci,{className:"h-5 w-5 text-success"}),y&&u.jsx(Ga,{className:"h-5 w-5 text-destructive"}),!h&&u.jsx("div",{className:"h-5 w-5 rounded-full border-2 border-muted-foreground/30"})]})]},d.id)})})})})]})})}const mae=["Lun","Mar","Mer","Gio","Ven","Sab","Dom"],gae=["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"];function yae({habits:e,records:t,onToggleHabit:n,isPrivacyMode:r=!1}){const[i,a]=S.useState(new Date),[o,s]=S.useState(null),l=i.getFullYear(),c=i.getMonth(),d=new Date(l,c,1),f=new Date(l,c+1,0);let h=d.getDay()-1;h<0&&(h=6);const p=f.getDate(),y=new Date,m=()=>a(new Date(l,c-1,1)),g=()=>a(new Date(l,c+1,1)),v=()=>a(new Date),b=k=>y.getDate()===k&&y.getMonth()===c&&y.getFullYear()===l,x=k=>{const A=new Date(l,c,k),P=new Date(y.getFullYear(),y.getMonth(),y.getDate());return A>P},_=h+p,w=Math.ceil(_/7),j=()=>{const k=[];for(let A=0;A<h;A++)k.push(u.jsx("div",{className:"aspect-auto h-full"},`empty-${A}`));for(let A=1;A<=p;A++){const P=new Date(l,c,A),O=Xe(P,"yyyy-MM-dd"),T=t[O]||{},N=x(A),M=e.filter(W=>{const B=W.start_date<=O,$=!W.end_date||W.end_date>=O;return B&&$}),E=M.filter(W=>T[W.id]==="done").length,R=M.filter(W=>T[W.id]==="missed").length,F=E+R,z=M.length;let q=0;z>0&&(q=E/z);let L={};const D=F>0;if(D&&z>0){const W=Math.round(q*142);L={backgroundColor:`hsl(${W}, 70%, 10%, 0.3)`,borderColor:`hsl(${W}, 80%, 40%, 0.5)`,boxShadow:q===1?`0 0 10px hsl(${W}, 80%, 40%, 0.2)`:"none"}}k.push(u.jsxs("button",{onClick:()=>!N&&s(P),disabled:N,style:L,className:ae("w-full h-full rounded-xl flex flex-col items-center justify-start py-[clamp(4px,1vw,8px)] transition-all duration-300 relative border border-white/5 hover:border-white/20 hover:bg-white/5 group",N&&"opacity-30 cursor-not-allowed",b(A)&&!D&&"bg-white/5 ring-1 ring-primary/50",!N&&(Bi(P,new Date)||Bi(P,Kt(new Date,1))&&new Date().getHours()<12)&&"ring-1 ring-primary/30 bg-primary/5"),children:[u.jsx("span",{className:ae("text-[clamp(0.7rem,2.5vw,0.9rem)] font-medium mb-[2px] font-mono-nums transition-all duration-300",b(A)&&"text-primary font-bold",D&&"text-foreground",r&&"blur-[2px]"),children:A}),u.jsx("div",{className:ae("flex flex-wrap items-center justify-center gap-0.5 px-1 w-full max-w-[80%] transition-all duration-300",r&&"blur-[1px]"),children:M.map(W=>{const B=T[W.id];return B?u.jsx("div",{className:ae("w-1 h-1 rounded-sm",B==="done"?"opacity-80":"opacity-0"),style:{backgroundColor:B==="done"?W.color:void 0}},W.id):null})})]},A))}return k};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"w-full h-full p-2 sm:p-4 animate-scale-in flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-6 shrink-0",children:[u.jsx(Ce,{variant:"ghost",size:"icon",onClick:m,children:u.jsx(A_,{className:"h-5 w-5"})}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("h2",{className:"text-xl sm:text-2xl font-display font-bold",children:[gae[c]," ",u.jsx("span",{className:"text-muted-foreground font-light",children:l})]}),u.jsx(Ce,{variant:"ghost",size:"icon",onClick:v,className:"h-8 w-8 ml-2 opacity-0 hover:opacity-100 transition-opacity",children:u.jsx(G5,{className:"h-3 w-3"})})]}),u.jsx(Ce,{variant:"ghost",size:"icon",onClick:g,children:u.jsx(lm,{className:"h-5 w-5"})})]}),u.jsx("div",{className:"grid grid-cols-7 gap-x-[clamp(4px,1.5vw,12px)] mb-2 shrink-0",children:mae.map(k=>u.jsx("div",{className:"text-center text-[10px] sm:text-xs font-semibold text-muted-foreground uppercase tracking-wider py-2",children:k},k))}),u.jsx("div",{className:"grid grid-cols-7 gap-[clamp(2px,1vw,8px)] flex-1 min-h-0",style:{gridTemplateRows:`repeat(${w}, 1fr)`},children:j()})]}),u.jsx(Gj,{isOpen:!!o,onClose:()=>s(null),date:o,habits:e,records:t,onToggleHabit:k=>o&&n(o,k),isPrivacyMode:r,readonly:o?!(Bi(o,new Date)||Bi(o,Kt(new Date,1))&&new Date().getHours()<12):!0})]})}function vae({habits:e,records:t,onToggleHabit:n,isPrivacyMode:r=!1}){const i=S.useMemo(()=>new Date,[]),[a,o]=S.useState(new Date),s=S.useMemo(()=>Tr(a,{weekStartsOn:1}),[a]),l=S.useMemo(()=>nne(a,{weekStartsOn:1}),[a]),[c,d]=S.useState(null),f=S.useMemo(()=>Array.from({length:7}).map((m,g)=>$h(s,g)),[s]),h=()=>{o(m=>Kt(m,7))},p=()=>{o(m=>$h(m,7))},y=S.useMemo(()=>{const m=Xe(s,"d",{locale:Hn}),g=Xe(l,"d MMMM",{locale:Hn});return`${m} - ${g}`},[s,l]);return Bi(Tr(i,{weekStartsOn:1}),s),u.jsxs("div",{className:"w-full h-full p-2 sm:p-4 animate-scale-in flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-6",children:[u.jsx("h2",{className:"text-xl font-display font-bold capitalize",children:y}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:h,className:"p-2 rounded-lg hover:bg-white/5 transition-colors active:scale-95",children:u.jsx(A_,{className:"w-5 h-5"})}),u.jsx("button",{onClick:p,className:"p-2 rounded-lg hover:bg-white/5 transition-colors active:scale-95",children:u.jsx(lm,{className:"w-5 h-5"})})]})]}),u.jsx("div",{className:"grid grid-cols-7 gap-2 sm:gap-4 flex-1 h-full overflow-hidden",children:f.map(m=>{const g=Xe(m,"yyyy-MM-dd"),v=t[g]||{},b=Bi(m,i),x=new Date(i);x.setHours(0,0,0,0);const _=m>x;return u.jsxs("div",{className:"flex flex-col gap-2 h-full overflow-hidden",children:[u.jsxs("button",{onClick:()=>!_&&d(m),disabled:_,className:ae("text-center py-2 rounded-xl border border-transparent transition-all w-full shrink-0",b&&"bg-primary/10 border-primary/20 text-primary",!_&&"hover:bg-white/5 hover:border-white/10 cursor-pointer active:scale-95",_&&"opacity-50 cursor-default"),children:[u.jsx("div",{className:"text-[10px] uppercase font-bold opacity-60",children:Xe(m,"EEE",{locale:Hn})}),u.jsx("div",{className:"text-lg font-mono font-bold",children:Xe(m,"d")})]}),u.jsx("div",{className:ae("flex flex-col gap-2 transition-all duration-300 flex-1 h-full",r&&"blur-[2px]"),children:e.map(w=>{const j=w.start_date<=g,k=w.end_date&&w.end_date<g;if(!j||k)return u.jsx("div",{className:"flex-1 rounded-xl invisible"},w.id);const A=v[w.id];return u.jsx("button",{disabled:_,onClick:()=>d(m),className:ae("flex-1 w-full rounded-xl border border-white/5 flex items-center justify-center transition-all hover:border-white/20 min-h-0",_&&"opacity-30 cursor-not-allowed",!_&&"cursor-pointer hover:bg-white/10",A==="done"&&"opacity-100 shadow-[0_0_10px_currentColor]",A==="missed"&&"opacity-50 grayscale",!A&&!_&&"bg-white/5"),style:{backgroundColor:A==="done"?w.color:void 0,color:w.color}},w.id)})})]},g)})}),u.jsx(Gj,{isOpen:!!c,onClose:()=>d(null),date:c,habits:e,records:t,onToggleHabit:m=>c&&n(c,m),isPrivacyMode:r,readonly:!0})]})}const bae=["GEN","FEB","MAR","APR","MAG","GIU","LUG","AGO","SET","OTT","NOV","DIC"];function xae({habits:e,records:t,onToggleHabit:n,isPrivacyMode:r=!1}){const[i,a]=S.useState(new Date),[o,s]=S.useState(null),l=i.getFullYear(),c=new Date,d=()=>a(new Date(l-1,0,1)),f=()=>a(new Date(l+1,0,1)),h=()=>a(new Date),p=v=>Bi(c,v),y=v=>v>c,m=S.useMemo(()=>Array.from({length:12},(v,b)=>{const x=new Date(l,b,1),_=_r({start:qi(x),end:Am(x)});return{monthIndex:b,days:_}}),[l]),g=v=>{const b=Xe(v,"yyyy-MM-dd"),x=t[b]||{},_=y(v),w=Xe(v,"d MMMM yyyy",{locale:Hn}),j=e.filter(E=>{const R=E.start_date<=b,F=!E.end_date||E.end_date>=b;return R&&F}),k=j.filter(E=>x[E.id]==="done").length,A=j.filter(E=>x[E.id]==="missed").length,P=k+A,O=j.length;let T=0;O>0&&(T=k/O);let N={};const M=P>0;if(M&&O>0){const E=Math.round(T*142);N={backgroundColor:`hsl(${E}, 70%, 25%)`,borderColor:`hsl(${E}, 80%, 50%)`}}return u.jsx(ja,{children:u.jsxs(Ao,{delayDuration:0,children:[u.jsx(Oo,{asChild:!0,children:u.jsx("button",{onClick:()=>!_&&s(v),disabled:_,style:N,className:ae("w-full h-full rounded-[2px] flex items-center justify-center transition-all duration-200 relative border border-white/5 hover:border-white/40 hover:scale-110 hover:z-10",_&&"opacity-20 cursor-not-allowed border-none bg-white/5",!_&&!M&&"bg-white/5",p(v)&&!M&&"ring-1 ring-primary/50 bg-primary/10")})}),u.jsxs(ka,{className:"bg-background/90 backdrop-blur border-white/10 text-xs",children:[u.jsx("p",{className:"capitalize font-medium",children:w}),j.length>0&&u.jsxs("p",{className:"text-muted-foreground",children:[k,"/",j.length," completate"]})]})]})},b)};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"w-full h-full p-2 sm:p-6 animate-scale-in flex flex-col overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4 shrink-0",children:[u.jsx(Ce,{variant:"ghost",size:"icon",onClick:d,children:u.jsx(A_,{className:"h-5 w-5"})}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("h2",{className:"text-xl sm:text-2xl font-display font-bold",children:u.jsx("span",{className:"text-foreground",children:l})}),u.jsx(Ce,{variant:"ghost",size:"icon",onClick:h,className:"h-8 w-8 ml-2 opacity-0 hover:opacity-100 transition-opacity",children:u.jsx(G5,{className:"h-3 w-3"})})]}),u.jsx(Ce,{variant:"ghost",size:"icon",onClick:f,children:u.jsx(lm,{className:"h-5 w-5"})})]}),u.jsx("div",{className:"flex-1 min-h-0 grid grid-cols-2 gap-x-6 gap-y-2",children:m.map(({monthIndex:v,days:b})=>u.jsxs("div",{className:"flex items-center gap-2 min-h-0",children:[u.jsx("span",{className:"text-[10px] font-bold text-muted-foreground w-8 shrink-0",children:bae[v]}),u.jsx("div",{className:"flex-1 h-full grid gap-[2px]",style:{gridTemplateColumns:`repeat(${b.length}, 1fr)`},children:b.map(x=>g(x))})]},v))})]}),u.jsx(Gj,{isOpen:!!o,onClose:()=>s(null),date:o,habits:e,records:t,onToggleHabit:v=>o&&n(o,v),isPrivacyMode:r,readonly:o?!(Bi(o,new Date)||Bi(o,Kt(new Date,1))&&new Date().getHours()<12):!0})]})}const Ac=2003,Cy=2088,Py=29;function wae({habits:e,records:t,isPrivacyMode:n=!1}){const r=new Date,i=r.getFullYear(),a=qi(r),o=S.useMemo(()=>{if(!e||e.length===0)return r;const g=e.reduce((v,b)=>{const x=new Date(b.start_date);return x<v?x:v},r);return qi(g)},[e,r]),s=S.useMemo(()=>{const g=[];for(let v=Ac;v<=Cy;v++){const b=Om(new Date(v,0,1));for(let x=0;x<12;x++){const _=$j(b,x);g.push({date:_,year:v})}}return g},[]),l=S.useMemo(()=>{const g=[];for(let v=0;v<s.length;v+=Py)g.push(s.slice(v,v+Py));return g},[s]),c=S.useMemo(()=>{const g=new Map;return s.forEach(({date:v})=>{const b=v.getTime(),x=Am(v),_=_r({start:v,end:x});let w=0,j=0;_.forEach(A=>{const P=Xe(A,"yyyy-MM-dd"),O=t[P];if(!O)return;const T=e.filter(M=>{const E=M.start_date<=P,R=!M.end_date||M.end_date>=P;return E&&R}),N=T.filter(M=>O[M.id]==="done").length;w+=N,j+=T.length});const k=j>0?w/j:0;g.set(b,{completed:w,total:j,percentage:k})}),g},[s,t,e]),d=g=>{const v=g.getTime(),b=a.getTime(),x=v===b,_=g>r,w=g<o,j=c.get(v),k=j&&j.total>0;let A="rgba(255, 255, 255, 0.05)";_?A="rgba(255, 255, 255, 0.05)":w?A="hsl(200, 70%, 50%)":k&&(A=`hsl(${Math.round(j.percentage*142)}, 70%, 40%)`);const P=Xe(g,"MMMM yyyy",{locale:Hn});return u.jsx(ja,{children:u.jsxs(Ao,{delayDuration:100,children:[u.jsx(Oo,{asChild:!0,children:u.jsx("div",{style:{backgroundColor:A},className:ae("rounded-sm transition-all duration-150 hover:scale-110 hover:z-10 border border-black/40",x&&"ring-2 ring-primary ring-offset-1 ring-offset-background shadow-[0_0_8px_rgba(255,255,255,0.4)]",!_&&"hover:brightness-125 hover:border-white/30",w&&!_&&"opacity-30",_&&"opacity-20",n&&k&&"blur-[1px]")})}),u.jsx(ka,{className:"bg-background/95 backdrop-blur border-white/10 text-xs",children:u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"font-bold capitalize",children:P}),x&&u.jsx("p",{className:"text-primary font-medium",children:"Mese corrente"}),_&&u.jsx("p",{className:"text-muted-foreground",children:"Futuro"}),w&&!_&&u.jsx("p",{className:"text-blue-400",children:"Pre-tracciamento"}),k&&u.jsxs(u.Fragment,{children:[u.jsxs("p",{className:"text-muted-foreground",children:[j.completed,"/",j.total," completati"]}),u.jsxs("p",{className:"text-muted-foreground",children:["Performance: ",Math.round(j.percentage*100),"%"]})]})]})})]})},v)},h=(Cy-Ac+1)*12,p=i-Ac,y=ene(r,new Date(Ac,0,1)),m=1020-y;return u.jsxs("div",{className:"w-full h-full p-2 sm:p-4 animate-scale-in flex flex-col",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between mb-2 sm:mb-3 shrink-0 gap-1",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-base sm:text-lg font-display font-bold",children:"La Mia Vita Produttiva"}),u.jsxs("p",{className:"text-[9px] sm:text-[10px] text-muted-foreground",children:[Ac," - ",Cy,"  ",h.toLocaleString()," mesi"]})]}),u.jsxs("div",{className:"flex items-center gap-2 text-[9px] sm:text-[10px]",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-sm",style:{backgroundColor:"hsl(200, 70%, 50%)",opacity:.3}}),u.jsx("span",{className:"text-muted-foreground",children:"Pre-tracking"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-sm ring-1 ring-primary",style:{backgroundColor:"hsl(71, 70%, 40%)"}}),u.jsx("span",{className:"text-muted-foreground",children:"Attuale"})]})]})]}),u.jsx("div",{className:"mb-2 sm:mb-3 shrink-0 glass-card p-2 rounded-lg",children:u.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm sm:text-base font-bold text-primary",children:y.toLocaleString()}),u.jsx("p",{className:"text-[8px] sm:text-[9px] text-muted-foreground uppercase",children:"Mesi Vissuti"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm sm:text-base font-bold text-foreground",children:p}),u.jsx("p",{className:"text-[8px] sm:text-[9px] text-muted-foreground uppercase",children:"Anni"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm sm:text-base font-bold text-muted-foreground/70",children:m.toLocaleString()}),u.jsx("p",{className:"text-[8px] sm:text-[9px] text-muted-foreground uppercase",children:"Mesi Rimanenti"})]})]})}),u.jsx("div",{className:"flex-1 min-h-0 grid gap-1.5 content-start overflow-hidden",style:{gridTemplateRows:`repeat(${l.length}, 1fr)`},children:l.map((g,v)=>{const b=v===0,x=v===l.length-1,_=b?"nato":x?"morto":"";return u.jsxs("div",{className:"flex items-center gap-1 min-h-0",children:[u.jsx("div",{className:"w-6 sm:w-8 shrink-0 text-[8px] sm:text-[9px] font-bold text-right text-muted-foreground",children:_}),u.jsx("div",{className:"flex-1 grid gap-1.5 h-full",style:{gridTemplateColumns:`repeat(${Py}, 1fr)`},children:g.map(({date:w})=>d(w))})]},v)})})]})}var Sae="Label",Mz=S.forwardRef((e,t)=>u.jsx(Ae.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Mz.displayName=Sae;var Dz=Mz;const _ae=Od("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ni=S.forwardRef(({className:e,...t},n)=>u.jsx(Dz,{ref:n,className:ae(_ae(),e),...t}));ni.displayName=Dz.displayName;function zm(){return(zm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function $z(e,t){if(e==null)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(i[n]=e[n]);return i}function m1(e){var t=S.useRef(e),n=S.useRef(function(r){t.current&&t.current(r)});return t.current=e,n.current}var Du=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e<t?t:e},au=function(e){return"touches"in e},g1=function(e){return e&&e.ownerDocument.defaultView||self},TC=function(e,t,n){var r=e.getBoundingClientRect(),i=au(t)?(function(a,o){for(var s=0;s<a.length;s++)if(a[s].identifier===o)return a[s];return a[0]})(t.touches,n):t;return{left:Du((i.pageX-(r.left+g1(e).pageXOffset))/r.width),top:Du((i.pageY-(r.top+g1(e).pageYOffset))/r.height)}},NC=function(e){!au(e)&&e.preventDefault()},Lz=I.memo(function(e){var t=e.onMove,n=e.onKey,r=$z(e,["onMove","onKey"]),i=S.useRef(null),a=m1(t),o=m1(n),s=S.useRef(null),l=S.useRef(!1),c=S.useMemo(function(){var p=function(g){NC(g),(au(g)?g.touches.length>0:g.buttons>0)&&i.current?a(TC(i.current,g,s.current)):m(!1)},y=function(){return m(!1)};function m(g){var v=l.current,b=g1(i.current),x=g?b.addEventListener:b.removeEventListener;x(v?"touchmove":"mousemove",p),x(v?"touchend":"mouseup",y)}return[function(g){var v=g.nativeEvent,b=i.current;if(b&&(NC(v),!(function(_,w){return w&&!au(_)})(v,l.current)&&b)){if(au(v)){l.current=!0;var x=v.changedTouches||[];x.length&&(s.current=x[0].identifier)}b.focus(),a(TC(b,v,s.current)),m(!0)}},function(g){var v=g.which||g.keyCode;v<37||v>40||(g.preventDefault(),o({left:v===39?.05:v===37?-.05:0,top:v===40?.05:v===38?-.05:0}))},m]},[o,a]),d=c[0],f=c[1],h=c[2];return S.useEffect(function(){return h},[h]),I.createElement("div",zm({},r,{onTouchStart:d,onMouseDown:d,className:"react-colorful__interactive",ref:i,onKeyDown:f,tabIndex:0,role:"slider"}))}),Kj=function(e){return e.filter(Boolean).join(" ")},zz=function(e){var t=e.color,n=e.left,r=e.top,i=r===void 0?.5:r,a=Kj(["react-colorful__pointer",e.className]);return I.createElement("div",{className:a,style:{top:100*i+"%",left:100*n+"%"}},I.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},wn=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n},jae=function(e){return Cae(y1(e))},y1=function(e){return e[0]==="#"&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?wn(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?wn(parseInt(e.substring(6,8),16)/255,2):1}},kae=function(e){return Oae(Aae(e))},Eae=function(e){var t=e.s,n=e.v,r=e.a,i=(200-t)*n/100;return{h:wn(e.h),s:wn(i>0&&i<200?t*n/100/(i<=100?i:200-i)*100:0),l:wn(i/2),a:wn(r,2)}},v1=function(e){var t=Eae(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},Aae=function(e){var t=e.h,n=e.s,r=e.v,i=e.a;t=t/360*6,n/=100,r/=100;var a=Math.floor(t),o=r*(1-n),s=r*(1-(t-a)*n),l=r*(1-(1-t+a)*n),c=a%6;return{r:wn(255*[r,s,o,o,l,r][c]),g:wn(255*[l,r,r,s,o,o][c]),b:wn(255*[o,o,l,r,r,s][c]),a:wn(i,2)}},Af=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},Oae=function(e){var t=e.r,n=e.g,r=e.b,i=e.a,a=i<1?Af(wn(255*i)):"";return"#"+Af(t)+Af(n)+Af(r)+a},Cae=function(e){var t=e.r,n=e.g,r=e.b,i=e.a,a=Math.max(t,n,r),o=a-Math.min(t,n,r),s=o?a===t?(n-r)/o:a===n?2+(r-t)/o:4+(t-n)/o:0;return{h:wn(60*(s<0?s+6:s)),s:wn(a?o/a*100:0),v:wn(a/255*100),a:i}},Pae=I.memo(function(e){var t=e.hue,n=e.onChange,r=Kj(["react-colorful__hue",e.className]);return I.createElement("div",{className:r},I.createElement(Lz,{onMove:function(i){n({h:360*i.left})},onKey:function(i){n({h:Du(t+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":wn(t),"aria-valuemax":"360","aria-valuemin":"0"},I.createElement(zz,{className:"react-colorful__hue-pointer",left:t/360,color:v1({h:t,s:100,v:100,a:1})})))}),Tae=I.memo(function(e){var t=e.hsva,n=e.onChange,r={backgroundColor:v1({h:t.h,s:100,v:100,a:1})};return I.createElement("div",{className:"react-colorful__saturation",style:r},I.createElement(Lz,{onMove:function(i){n({s:100*i.left,v:100-100*i.top})},onKey:function(i){n({s:Du(t.s+100*i.left,0,100),v:Du(t.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+wn(t.s)+"%, Brightness "+wn(t.v)+"%"},I.createElement(zz,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:v1(t)})))}),Fz=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0},Nae=function(e,t){return e.toLowerCase()===t.toLowerCase()||Fz(y1(e),y1(t))};function Rae(e,t,n){var r=m1(n),i=S.useState(function(){return e.toHsva(t)}),a=i[0],o=i[1],s=S.useRef({color:t,hsva:a});S.useEffect(function(){if(!e.equal(t,s.current.color)){var c=e.toHsva(t);s.current={hsva:c,color:t},o(c)}},[t,e]),S.useEffect(function(){var c;Fz(a,s.current.hsva)||e.equal(c=e.fromHsva(a),s.current.color)||(s.current={hsva:a,color:c},r(c))},[a,e,r]);var l=S.useCallback(function(c){o(function(d){return Object.assign({},d,c)})},[]);return[a,l]}var Iae=typeof window<"u"?S.useLayoutEffect:S.useEffect,Mae=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},RC=new Map,Dae=function(e){Iae(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!RC.has(t)){var n=t.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,RC.set(t,n);var r=Mae();r&&n.setAttribute("nonce",r),t.head.appendChild(n)}},[])},$ae=function(e){var t=e.className,n=e.colorModel,r=e.color,i=r===void 0?n.defaultColor:r,a=e.onChange,o=$z(e,["className","colorModel","color","onChange"]),s=S.useRef(null);Dae(s);var l=Rae(n,i,a),c=l[0],d=l[1],f=Kj(["react-colorful",t]);return I.createElement("div",zm({},o,{ref:s,className:f}),I.createElement(Tae,{hsva:c,onChange:d}),I.createElement(Pae,{hue:c.h,onChange:d,className:"react-colorful__last-control"}))},Lae={defaultColor:"000",toHsva:jae,fromHsva:function(e){return kae({h:e.h,s:e.s,v:e.v,a:1})},equal:Nae},zae=function(e){return I.createElement($ae,zm({},e,{colorModel:Lae}))};const Fae=Rm,Bae=Im,qae=Mm,Bz=S.forwardRef(({className:e,...t},n)=>u.jsx(Yl,{className:ae("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));Bz.displayName=Yl.displayName;const Uae=Od("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),qz=S.forwardRef(({side:e="right",className:t,children:n,...r},i)=>u.jsxs(qae,{children:[u.jsx(Bz,{}),u.jsxs(Xl,{ref:i,className:ae(Uae({side:e}),t),...r,children:[n,u.jsxs(Dm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[u.jsx(Ga,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));qz.displayName=Xl.displayName;const Uz=({className:e,...t})=>u.jsx("div",{className:ae("flex flex-col space-y-2 text-center sm:text-left",e),...t});Uz.displayName="SheetHeader";const Vz=S.forwardRef(({className:e,...t},n)=>u.jsx(Ql,{ref:n,className:ae("text-lg font-semibold text-foreground",e),...t}));Vz.displayName=Ql.displayName;const Vae=S.forwardRef(({className:e,...t},n)=>u.jsx(Jl,{ref:n,className:ae("text-sm text-muted-foreground",e),...t}));Vae.displayName=Jl.displayName;const Wae=[{name:"Green",hex:"#4ade80"},{name:"Blue",hex:"#3b82f6"},{name:"Purple",hex:"#a855f7"},{name:"Red",hex:"#ef4444"},{name:"Orange",hex:"#f97316"},{name:"Pink",hex:"#ec4899"},{name:"Teal",hex:"#14b8a6"},{name:"Yellow",hex:"#eab308"}];function IC(e){const t=e.match(/hsl\((\d+)\s+(\d+)%\s+(\d+)%\)/);if(!t)return e.startsWith("#")?e:"#4ade80";const n=parseInt(t[1])/360,r=parseInt(t[2])/100,i=parseInt(t[3])/100,a=(d,f,h)=>(h<0&&(h+=1),h>1&&(h-=1),h<1/6?d+(f-d)*6*h:h<1/2?f:h<2/3?d+(f-d)*(2/3-h)*6:d);let o,s,l;if(r===0)o=s=l=i;else{const d=i<.5?i*(1+r):i+r-i*r,f=2*i-d;o=a(f,d,n+1/3),s=a(f,d,n),l=a(f,d,n-1/3)}const c=d=>{const f=Math.round(d*255).toString(16);return f.length===1?"0"+f:f};return`#${c(o)}${c(s)}${c(l)}`}function MC(e){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(!t)return e;const n=parseInt(t[1],16)/255,r=parseInt(t[2],16)/255,i=parseInt(t[3],16)/255,a=Math.max(n,r,i),o=Math.min(n,r,i);let s=0,l=0;const c=(a+o)/2;if(a!==o){const d=a-o;switch(l=c>.5?d/(2-a-o):d/(a+o),a){case n:s=((r-i)/d+(r<i?6:0))/6;break;case r:s=((i-n)/d+2)/6;break;case i:s=((n-r)/d+4)/6;break}}return`hsl(${Math.round(s*360)} ${Math.round(l*100)}% ${Math.round(c*100)}%)`}function Yj({value:e,onChange:t,className:n,showValueLabel:r=!0}){const[i,a]=S.useState(()=>IC(e)),[o,s]=S.useState(!1);S.useEffect(()=>{a(IC(e))},[e]);const l=d=>{a(d),t(MC(d))},c=d=>{a(d),t(MC(d))};return u.jsxs(Fae,{open:o,onOpenChange:s,children:[u.jsx(Bae,{asChild:!0,children:u.jsxs(Ce,{type:"button",variant:"outline",className:ae("w-full justify-start gap-3 h-10 rounded-xl bg-black/20 border-white/10 hover:bg-white/5",!r&&"justify-center px-0 gap-0",n),children:[u.jsx("div",{className:"h-5 w-5 rounded-full shadow-[0_0_10px_currentColor] shrink-0",style:{backgroundColor:i,color:i}}),r&&u.jsx("span",{className:"font-mono text-sm uppercase tracking-wider",children:i})]})}),u.jsxs(qz,{side:"bottom",className:"bg-[#0a0a0a]/95 backdrop-blur-2xl border-white/10",children:[u.jsx(Uz,{className:"pb-4",children:u.jsx(Vz,{children:"Seleziona Colore"})}),u.jsxs("div",{className:"space-y-6 pb-6 max-w-md mx-auto",children:[u.jsx("div",{className:"flex justify-center",children:u.jsx(zae,{color:i,onChange:l,style:{width:"100%",height:"180px"}})}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ni,{className:"text-xs uppercase tracking-wider text-muted-foreground",children:"Codice HEX"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"h-12 w-12 rounded-xl border border-white/10 shrink-0 shadow-[0_0_15px_currentColor]",style:{backgroundColor:i,color:i}}),u.jsxs("div",{className:"flex-1 relative",children:[u.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground font-mono text-lg",children:"#"}),u.jsx(ta,{value:i.replace("#",""),onChange:d=>{const f=d.target.value.replace(/[^a-fA-F0-9]/g,"").slice(0,6);f.length===6?l("#"+f):a("#"+f)},className:"pl-10 font-mono uppercase bg-black/30 border-white/10 h-12 rounded-xl text-lg",maxLength:6,placeholder:"4ade80"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ni,{className:"text-xs uppercase tracking-wider text-muted-foreground",children:"Colori Rapidi"}),u.jsx("div",{className:"grid grid-cols-8 gap-2",children:Wae.map(d=>u.jsx("button",{type:"button",onClick:()=>c(d.hex),className:ae("aspect-square w-full rounded-xl border-2 transition-all hover:scale-110 shadow-[0_0_8px_currentColor]",i.toLowerCase()===d.hex.toLowerCase()?"border-white scale-110":"border-transparent"),style:{backgroundColor:d.hex,color:d.hex},title:d.name},d.hex))})]}),u.jsx(Ce,{onClick:()=>s(!1),className:"w-full h-12 rounded-xl text-base",children:"Conferma Colore"})]})]})]})}function Hae(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}var Wz="AlertDialog",[Gae]=Bn(Wz,[yz]),ca=yz(),Hz=e=>{const{__scopeAlertDialog:t,...n}=e,r=ca(t);return u.jsx(Rm,{...r,...n,modal:!0})};Hz.displayName=Wz;var Kae="AlertDialogTrigger",Gz=S.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=ca(n);return u.jsx(Im,{...i,...r,ref:t})});Gz.displayName=Kae;var Yae="AlertDialogPortal",Kz=e=>{const{__scopeAlertDialog:t,...n}=e,r=ca(t);return u.jsx(Mm,{...r,...n})};Kz.displayName=Yae;var Xae="AlertDialogOverlay",Yz=S.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=ca(n);return u.jsx(Yl,{...i,...r,ref:t})});Yz.displayName=Xae;var Ys="AlertDialogContent",[Qae,Jae]=Gae(Ys),Zae=a5("AlertDialogContent"),Xz=S.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,a=ca(n),o=S.useRef(null),s=ze(t,o),l=S.useRef(null);return u.jsx(uae,{contentName:Ys,titleName:Qz,docsSlug:"alert-dialog",children:u.jsx(Qae,{scope:n,cancelRef:l,children:u.jsxs(Xl,{role:"alertdialog",...a,...i,ref:s,onOpenAutoFocus:Hae(i.onOpenAutoFocus,c=>{c.preventDefault(),l.current?.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[u.jsx(Zae,{children:r}),u.jsx(toe,{contentRef:o})]})})})});Xz.displayName=Ys;var Qz="AlertDialogTitle",Jz=S.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=ca(n);return u.jsx(Ql,{...i,...r,ref:t})});Jz.displayName=Qz;var Zz="AlertDialogDescription",eF=S.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=ca(n);return u.jsx(Jl,{...i,...r,ref:t})});eF.displayName=Zz;var eoe="AlertDialogAction",tF=S.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=ca(n);return u.jsx(Dm,{...i,...r,ref:t})});tF.displayName=eoe;var nF="AlertDialogCancel",rF=S.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=Jae(nF,n),a=ca(n),o=ze(t,i);return u.jsx(Dm,{...a,...r,ref:o})});rF.displayName=nF;var toe=({contentRef:e})=>{const t=`\`${Ys}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ys}\` by passing a \`${Zz}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ys}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return S.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},noe=Hz,roe=Gz,ioe=Kz,iF=Yz,aF=Xz,oF=tF,sF=rF,lF=Jz,cF=eF;const Bo=noe,cl=roe,aoe=ioe,uF=S.forwardRef(({className:e,...t},n)=>u.jsx(iF,{className:ae("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));uF.displayName=iF.displayName;const La=S.forwardRef(({className:e,...t},n)=>u.jsxs(aoe,{children:[u.jsx(uF,{}),u.jsx(aF,{ref:n,className:ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));La.displayName=aF.displayName;const za=({className:e,...t})=>u.jsx("div",{className:ae("flex flex-col space-y-2 text-center sm:text-left",e),...t});za.displayName="AlertDialogHeader";const Fa=({className:e,...t})=>u.jsx("div",{className:ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Fa.displayName="AlertDialogFooter";const Ba=S.forwardRef(({className:e,...t},n)=>u.jsx(lF,{ref:n,className:ae("text-lg font-semibold",e),...t}));Ba.displayName=lF.displayName;const qa=S.forwardRef(({className:e,...t},n)=>u.jsx(cF,{ref:n,className:ae("text-sm text-muted-foreground",e),...t}));qa.displayName=cF.displayName;const Ua=S.forwardRef(({className:e,...t},n)=>u.jsx(oF,{ref:n,className:ae(Ej(),e),...t}));Ua.displayName=oF.displayName;const Jo=S.forwardRef(({className:e,...t},n)=>u.jsx(sF,{ref:n,className:ae(Ej({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Jo.displayName=sF.displayName;function ooe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return S.useMemo(()=>r=>{t.forEach(i=>i(r))},t)}const Fm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Zl(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Xj(e){return"nodeType"in e}function Yn(e){var t,n;return e?Zl(e)?e:Xj(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Qj(e){const{Document:t}=Yn(e);return e instanceof t}function Bd(e){return Zl(e)?!1:e instanceof Yn(e).HTMLElement}function dF(e){return e instanceof Yn(e).SVGElement}function ec(e){return e?Zl(e)?e.document:Xj(e)?Qj(e)?e:Bd(e)||dF(e)?e.ownerDocument:document:document:document}const Ai=Fm?S.useLayoutEffect:S.useEffect;function Jj(e){const t=S.useRef(e);return Ai(()=>{t.current=e}),S.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function soe(){const e=S.useRef(null),t=S.useCallback((r,i)=>{e.current=setInterval(r,i)},[]),n=S.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function $u(e,t){t===void 0&&(t=[e]);const n=S.useRef(e);return Ai(()=>{n.current!==e&&(n.current=e)},t),n}function qd(e,t){const n=S.useRef();return S.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function Bh(e){const t=Jj(e),n=S.useRef(null),r=S.useCallback(i=>{i!==n.current&&t?.(i,n.current),n.current=i},[]);return[n,r]}function b1(e){const t=S.useRef();return S.useEffect(()=>{t.current=e},[e]),t.current}let Ty={};function Ud(e,t){return S.useMemo(()=>{if(t)return t;const n=Ty[e]==null?0:Ty[e]+1;return Ty[e]=n,e+"-"+n},[e,t])}function fF(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((a,o)=>{const s=Object.entries(o);for(const[l,c]of s){const d=a[l];d!=null&&(a[l]=d+e*c)}return a},{...t})}}const Xs=fF(1),Lu=fF(-1);function loe(e){return"clientX"in e&&"clientY"in e}function Zj(e){if(!e)return!1;const{KeyboardEvent:t}=Yn(e.target);return t&&e instanceof t}function coe(e){if(!e)return!1;const{TouchEvent:t}=Yn(e.target);return t&&e instanceof t}function x1(e){if(coe(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return loe(e)?{x:e.clientX,y:e.clientY}:null}const zu=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[zu.Translate.toString(e),zu.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),DC="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function uoe(e){return e.matches(DC)?e:e.querySelector(DC)}const doe={display:"none"};function foe(e){let{id:t,value:n}=e;return I.createElement("div",{id:t,style:doe},n)}function hoe(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return I.createElement("div",{id:t,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function poe(){const[e,t]=S.useState("");return{announce:S.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const hF=S.createContext(null);function moe(e){const t=S.useContext(hF);S.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function goe(){const[e]=S.useState(()=>new Set),t=S.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[S.useCallback(r=>{let{type:i,event:a}=r;e.forEach(o=>{var s;return(s=o[i])==null?void 0:s.call(o,a)})},[e]),t]}const yoe={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},voe={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function boe(e){let{announcements:t=voe,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=yoe}=e;const{announce:a,announcement:o}=poe(),s=Ud("DndLiveRegion"),[l,c]=S.useState(!1);if(S.useEffect(()=>{c(!0)},[]),moe(S.useMemo(()=>({onDragStart(f){let{active:h}=f;a(t.onDragStart({active:h}))},onDragMove(f){let{active:h,over:p}=f;t.onDragMove&&a(t.onDragMove({active:h,over:p}))},onDragOver(f){let{active:h,over:p}=f;a(t.onDragOver({active:h,over:p}))},onDragEnd(f){let{active:h,over:p}=f;a(t.onDragEnd({active:h,over:p}))},onDragCancel(f){let{active:h,over:p}=f;a(t.onDragCancel({active:h,over:p}))}}),[a,t])),!l)return null;const d=I.createElement(I.Fragment,null,I.createElement(foe,{id:r,value:i.draggable}),I.createElement(hoe,{id:s,announcement:o}));return n?Xr.createPortal(d,n):d}var on;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(on||(on={}));function qh(){}function Ny(e,t){return S.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function xoe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return S.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const ri=Object.freeze({x:0,y:0});function pF(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function mF(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function woe(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function $C(e){let{left:t,top:n,height:r,width:i}=e;return[{x:t,y:n},{x:t+i,y:n},{x:t,y:n+r},{x:t+i,y:n+r}]}function gF(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function LC(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const Soe=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=LC(t,t.left,t.top),a=[];for(const o of r){const{id:s}=o,l=n.get(s);if(l){const c=pF(LC(l),i);a.push({id:s,data:{droppableContainer:o,value:c}})}}return a.sort(mF)},_oe=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=$C(t),a=[];for(const o of r){const{id:s}=o,l=n.get(s);if(l){const c=$C(l),d=i.reduce((h,p,y)=>h+pF(c[y],p),0),f=Number((d/4).toFixed(4));a.push({id:s,data:{droppableContainer:o,value:f}})}}return a.sort(mF)};function joe(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),o=i-r,s=a-n;if(r<i&&n<a){const l=t.width*t.height,c=e.width*e.height,d=o*s,f=d/(l+c-d);return Number(f.toFixed(4))}return 0}const koe=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const a of r){const{id:o}=a,s=n.get(o);if(s){const l=joe(s,t);l>0&&i.push({id:o,data:{droppableContainer:a,value:l}})}}return i.sort(woe)};function Eoe(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function yF(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:ri}function Aoe(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return i.reduce((o,s)=>({...o,top:o.top+e*s.y,bottom:o.bottom+e*s.y,left:o.left+e*s.x,right:o.right+e*s.x}),{...n})}}const Ooe=Aoe(1);function Coe(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Poe(e,t,n){const r=Coe(t);if(!r)return e;const{scaleX:i,scaleY:a,x:o,y:s}=r,l=e.left-o-(1-i)*parseFloat(n),c=e.top-s-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),d=i?e.width/i:e.width,f=a?e.height/a:e.height;return{width:d,height:f,top:c,right:l+d,bottom:c+f,left:l}}const Toe={ignoreTransform:!1};function tc(e,t){t===void 0&&(t=Toe);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:c,transformOrigin:d}=Yn(e).getComputedStyle(e);c&&(n=Poe(n,c,d))}const{top:r,left:i,width:a,height:o,bottom:s,right:l}=n;return{top:r,left:i,width:a,height:o,bottom:s,right:l}}function zC(e){return tc(e,{ignoreTransform:!0})}function Noe(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function Roe(e,t){return t===void 0&&(t=Yn(e).getComputedStyle(e)),t.position==="fixed"}function Ioe(e,t){t===void 0&&(t=Yn(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const a=t[i];return typeof a=="string"?n.test(a):!1})}function Bm(e,t){const n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(Qj(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!Bd(i)||dF(i)||n.includes(i))return n;const a=Yn(e).getComputedStyle(i);return i!==e&&Ioe(i,a)&&n.push(i),Roe(i,a)?n:r(i.parentNode)}return e?r(e):n}function vF(e){const[t]=Bm(e,1);return t??null}function Ry(e){return!Fm||!e?null:Zl(e)?e:Xj(e)?Qj(e)||e===ec(e).scrollingElement?window:Bd(e)?e:null:null}function bF(e){return Zl(e)?e.scrollX:e.scrollLeft}function xF(e){return Zl(e)?e.scrollY:e.scrollTop}function w1(e){return{x:bF(e),y:xF(e)}}var hn;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(hn||(hn={}));function wF(e){return!Fm||!e?!1:e===document.scrollingElement}function SF(e){const t={x:0,y:0},n=wF(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,a=e.scrollLeft<=t.x,o=e.scrollTop>=r.y,s=e.scrollLeft>=r.x;return{isTop:i,isLeft:a,isBottom:o,isRight:s,maxScroll:r,minScroll:t}}const Moe={x:.2,y:.2};function Doe(e,t,n,r,i){let{top:a,left:o,right:s,bottom:l}=n;r===void 0&&(r=10),i===void 0&&(i=Moe);const{isTop:c,isBottom:d,isLeft:f,isRight:h}=SF(e),p={x:0,y:0},y={x:0,y:0},m={height:t.height*i.y,width:t.width*i.x};return!c&&a<=t.top+m.height?(p.y=hn.Backward,y.y=r*Math.abs((t.top+m.height-a)/m.height)):!d&&l>=t.bottom-m.height&&(p.y=hn.Forward,y.y=r*Math.abs((t.bottom-m.height-l)/m.height)),!h&&s>=t.right-m.width?(p.x=hn.Forward,y.x=r*Math.abs((t.right-m.width-s)/m.width)):!f&&o<=t.left+m.width&&(p.x=hn.Backward,y.x=r*Math.abs((t.left+m.width-o)/m.width)),{direction:p,speed:y}}function $oe(e){if(e===document.scrollingElement){const{innerWidth:a,innerHeight:o}=window;return{top:0,left:0,right:a,bottom:o,width:a,height:o}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function _F(e){return e.reduce((t,n)=>Xs(t,w1(n)),ri)}function Loe(e){return e.reduce((t,n)=>t+bF(n),0)}function zoe(e){return e.reduce((t,n)=>t+xF(n),0)}function Foe(e,t){if(t===void 0&&(t=tc),!e)return;const{top:n,left:r,bottom:i,right:a}=t(e);vF(e)&&(i<=0||a<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Boe=[["x",["left","right"],Loe],["y",["top","bottom"],zoe]];class ek{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Bm(n),i=_F(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[a,o,s]of Boe)for(const l of o)Object.defineProperty(this,l,{get:()=>{const c=s(r),d=i[a]-c;return this.rect[l]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ou{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var i;(i=this.target)==null||i.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function qoe(e){const{EventTarget:t}=Yn(e);return e instanceof t?e:ec(e)}function Iy(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var br;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(br||(br={}));function FC(e){e.preventDefault()}function Uoe(e){e.stopPropagation()}var it;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(it||(it={}));const jF={start:[it.Space,it.Enter],cancel:[it.Esc],end:[it.Space,it.Enter,it.Tab]},Voe=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case it.Right:return{...n,x:n.x+25};case it.Left:return{...n,x:n.x-25};case it.Down:return{...n,y:n.y+25};case it.Up:return{...n,y:n.y-25}}};class tk{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new ou(ec(n)),this.windowListeners=new ou(Yn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(br.Resize,this.handleCancel),this.windowListeners.add(br.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(br.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&Foe(r),n(ri)}handleKeyDown(t){if(Zj(t)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:a=jF,coordinateGetter:o=Voe,scrollBehavior:s="smooth"}=i,{code:l}=t;if(a.end.includes(l)){this.handleEnd(t);return}if(a.cancel.includes(l)){this.handleCancel(t);return}const{collisionRect:c}=r.current,d=c?{x:c.left,y:c.top}:ri;this.referenceCoordinates||(this.referenceCoordinates=d);const f=o(t,{active:n,context:r.current,currentCoordinates:d});if(f){const h=Lu(f,d),p={x:0,y:0},{scrollableAncestors:y}=r.current;for(const m of y){const g=t.code,{isTop:v,isRight:b,isLeft:x,isBottom:_,maxScroll:w,minScroll:j}=SF(m),k=$oe(m),A={x:Math.min(g===it.Right?k.right-k.width/2:k.right,Math.max(g===it.Right?k.left:k.left+k.width/2,f.x)),y:Math.min(g===it.Down?k.bottom-k.height/2:k.bottom,Math.max(g===it.Down?k.top:k.top+k.height/2,f.y))},P=g===it.Right&&!b||g===it.Left&&!x,O=g===it.Down&&!_||g===it.Up&&!v;if(P&&A.x!==f.x){const T=m.scrollLeft+h.x,N=g===it.Right&&T<=w.x||g===it.Left&&T>=j.x;if(N&&!h.y){m.scrollTo({left:T,behavior:s});return}N?p.x=m.scrollLeft-T:p.x=g===it.Right?m.scrollLeft-w.x:m.scrollLeft-j.x,p.x&&m.scrollBy({left:-p.x,behavior:s});break}else if(O&&A.y!==f.y){const T=m.scrollTop+h.y,N=g===it.Down&&T<=w.y||g===it.Up&&T>=j.y;if(N&&!h.x){m.scrollTo({top:T,behavior:s});return}N?p.y=m.scrollTop-T:p.y=g===it.Down?m.scrollTop-w.y:m.scrollTop-j.y,p.y&&m.scrollBy({top:-p.y,behavior:s});break}}this.handleMove(t,Xs(Lu(f,this.referenceCoordinates),p))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}tk.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=jF,onActivation:i}=t,{active:a}=n;const{code:o}=e.nativeEvent;if(r.start.includes(o)){const s=a.activatorNode.current;return s&&e.target!==s?!1:(e.preventDefault(),i?.({event:e.nativeEvent}),!0)}return!1}}];function BC(e){return!!(e&&"distance"in e)}function qC(e){return!!(e&&"delay"in e)}class nk{constructor(t,n,r){var i;r===void 0&&(r=qoe(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:a}=t,{target:o}=a;this.props=t,this.events=n,this.document=ec(o),this.documentListeners=new ou(this.document),this.listeners=new ou(r),this.windowListeners=new ou(Yn(o)),this.initialCoordinates=(i=x1(a))!=null?i:ri,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(br.Resize,this.handleCancel),this.windowListeners.add(br.DragStart,FC),this.windowListeners.add(br.VisibilityChange,this.handleCancel),this.windowListeners.add(br.ContextMenu,FC),this.documentListeners.add(br.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(qC(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(BC(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:i}=this.props;i(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(br.Click,Uoe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(br.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:i,props:a}=this,{onMove:o,options:{activationConstraint:s}}=a;if(!i)return;const l=(n=x1(t))!=null?n:ri,c=Lu(i,l);if(!r&&s){if(BC(s)){if(s.tolerance!=null&&Iy(c,s.tolerance))return this.handleCancel();if(Iy(c,s.distance))return this.handleStart()}if(qC(s)&&Iy(c,s.tolerance))return this.handleCancel();this.handlePending(s,c);return}t.cancelable&&t.preventDefault(),o(l)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===it.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Woe={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class rk extends nk{constructor(t){const{event:n}=t,r=ec(n.target);super(t,Woe,r)}}rk.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const Hoe={move:{name:"mousemove"},end:{name:"mouseup"}};var S1;(function(e){e[e.RightClick=2]="RightClick"})(S1||(S1={}));class Goe extends nk{constructor(t){super(t,Hoe,ec(t.event.target))}}Goe.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===S1.RightClick?!1:(r?.({event:n}),!0)}}];const My={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class kF extends nk{constructor(t){super(t,My)}static setup(){return window.addEventListener(My.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(My.move.name,t)};function t(){}}}kF.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return i.length>1?!1:(r?.({event:n}),!0)}}];var su;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(su||(su={}));var Uh;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Uh||(Uh={}));function Koe(e){let{acceleration:t,activator:n=su.Pointer,canScroll:r,draggingRect:i,enabled:a,interval:o=5,order:s=Uh.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:d,delta:f,threshold:h}=e;const p=Xoe({delta:f,disabled:!a}),[y,m]=soe(),g=S.useRef({x:0,y:0}),v=S.useRef({x:0,y:0}),b=S.useMemo(()=>{switch(n){case su.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case su.DraggableRect:return i}},[n,i,l]),x=S.useRef(null),_=S.useCallback(()=>{const j=x.current;if(!j)return;const k=g.current.x*v.current.x,A=g.current.y*v.current.y;j.scrollBy(k,A)},[]),w=S.useMemo(()=>s===Uh.TreeOrder?[...c].reverse():c,[s,c]);S.useEffect(()=>{if(!a||!c.length||!b){m();return}for(const j of w){if(r?.(j)===!1)continue;const k=c.indexOf(j),A=d[k];if(!A)continue;const{direction:P,speed:O}=Doe(j,A,b,t,h);for(const T of["x","y"])p[T][P[T]]||(O[T]=0,P[T]=0);if(O.x>0||O.y>0){m(),x.current=j,y(_,o),g.current=O,v.current=P;return}}g.current={x:0,y:0},v.current={x:0,y:0},m()},[t,_,r,m,a,o,JSON.stringify(b),JSON.stringify(p),y,c,w,d,JSON.stringify(h)])}const Yoe={x:{[hn.Backward]:!1,[hn.Forward]:!1},y:{[hn.Backward]:!1,[hn.Forward]:!1}};function Xoe(e){let{delta:t,disabled:n}=e;const r=b1(t);return qd(i=>{if(n||!r||!i)return Yoe;const a={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[hn.Backward]:i.x[hn.Backward]||a.x===-1,[hn.Forward]:i.x[hn.Forward]||a.x===1},y:{[hn.Backward]:i.y[hn.Backward]||a.y===-1,[hn.Forward]:i.y[hn.Forward]||a.y===1}}},[n,t,r])}function Qoe(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return qd(i=>{var a;return t==null?null:(a=r??i)!=null?a:null},[r,t])}function Joe(e,t){return S.useMemo(()=>e.reduce((n,r)=>{const{sensor:i}=r,a=i.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,r)}));return[...n,...a]},[]),[e,t])}var Fu;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Fu||(Fu={}));var _1;(function(e){e.Optimized="optimized"})(_1||(_1={}));const UC=new Map;function Zoe(e,t){let{dragging:n,dependencies:r,config:i}=t;const[a,o]=S.useState(null),{frequency:s,measure:l,strategy:c}=i,d=S.useRef(e),f=g(),h=$u(f),p=S.useCallback(function(v){v===void 0&&(v=[]),!h.current&&o(b=>b===null?v:b.concat(v.filter(x=>!b.includes(x))))},[h]),y=S.useRef(null),m=qd(v=>{if(f&&!n)return UC;if(!v||v===UC||d.current!==e||a!=null){const b=new Map;for(let x of e){if(!x)continue;if(a&&a.length>0&&!a.includes(x.id)&&x.rect.current){b.set(x.id,x.rect.current);continue}const _=x.node.current,w=_?new ek(l(_),_):null;x.rect.current=w,w&&b.set(x.id,w)}return b}return v},[e,a,n,f,l]);return S.useEffect(()=>{d.current=e},[e]),S.useEffect(()=>{f||p()},[n,f]),S.useEffect(()=>{a&&a.length>0&&o(null)},[JSON.stringify(a)]),S.useEffect(()=>{f||typeof s!="number"||y.current!==null||(y.current=setTimeout(()=>{p(),y.current=null},s))},[s,f,p,...r]),{droppableRects:m,measureDroppableContainers:p,measuringScheduled:a!=null};function g(){switch(c){case Fu.Always:return!1;case Fu.BeforeDragging:return n;default:return!n}}}function EF(e,t){return qd(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function ese(e,t){return EF(e,t)}function tse(e){let{callback:t,disabled:n}=e;const r=Jj(t),i=S.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(r)},[r,n]);return S.useEffect(()=>()=>i?.disconnect(),[i]),i}function qm(e){let{callback:t,disabled:n}=e;const r=Jj(t),i=S.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(r)},[n]);return S.useEffect(()=>()=>i?.disconnect(),[i]),i}function nse(e){return new ek(tc(e),e)}function VC(e,t,n){t===void 0&&(t=nse);const[r,i]=S.useState(null);function a(){i(l=>{if(!e)return null;if(e.isConnected===!1){var c;return(c=l??n)!=null?c:null}const d=t(e);return JSON.stringify(l)===JSON.stringify(d)?l:d})}const o=tse({callback(l){if(e)for(const c of l){const{type:d,target:f}=c;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){a();break}}}}),s=qm({callback:a});return Ai(()=>{a(),e?(s?.observe(e),o?.observe(document.body,{childList:!0,subtree:!0})):(s?.disconnect(),o?.disconnect())},[e]),r}function rse(e){const t=EF(e);return yF(e,t)}const WC=[];function ise(e){const t=S.useRef(e),n=qd(r=>e?r&&r!==WC&&e&&t.current&&e.parentNode===t.current.parentNode?r:Bm(e):WC,[e]);return S.useEffect(()=>{t.current=e},[e]),n}function ase(e){const[t,n]=S.useState(null),r=S.useRef(e),i=S.useCallback(a=>{const o=Ry(a.target);o&&n(s=>s?(s.set(o,w1(o)),new Map(s)):null)},[]);return S.useEffect(()=>{const a=r.current;if(e!==a){o(a);const s=e.map(l=>{const c=Ry(l);return c?(c.addEventListener("scroll",i,{passive:!0}),[c,w1(c)]):null}).filter(l=>l!=null);n(s.length?new Map(s):null),r.current=e}return()=>{o(e),o(a)};function o(s){s.forEach(l=>{const c=Ry(l);c?.removeEventListener("scroll",i)})}},[i,e]),S.useMemo(()=>e.length?t?Array.from(t.values()).reduce((a,o)=>Xs(a,o),ri):_F(e):ri,[e,t])}function HC(e,t){t===void 0&&(t=[]);const n=S.useRef(null);return S.useEffect(()=>{n.current=null},t),S.useEffect(()=>{const r=e!==ri;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?Lu(e,n.current):ri}function ose(e){S.useEffect(()=>{if(!Fm)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function sse(e,t){return S.useMemo(()=>e.reduce((n,r)=>{let{eventName:i,handler:a}=r;return n[i]=o=>{a(o,t)},n},{}),[e,t])}function AF(e){return S.useMemo(()=>e?Noe(e):null,[e])}const GC=[];function lse(e,t){t===void 0&&(t=tc);const[n]=e,r=AF(n?Yn(n):null),[i,a]=S.useState(GC);function o(){a(()=>e.length?e.map(l=>wF(l)?r:new ek(t(l),l)):GC)}const s=qm({callback:o});return Ai(()=>{s?.disconnect(),o(),e.forEach(l=>s?.observe(l))},[e]),i}function cse(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Bd(t)?t:e}function use(e){let{measure:t}=e;const[n,r]=S.useState(null),i=S.useCallback(c=>{for(const{target:d}of c)if(Bd(d)){r(f=>{const h=t(d);return f?{...f,width:h.width,height:h.height}:h});break}},[t]),a=qm({callback:i}),o=S.useCallback(c=>{const d=cse(c);a?.disconnect(),d&&a?.observe(d),r(d?t(d):null)},[t,a]),[s,l]=Bh(o);return S.useMemo(()=>({nodeRef:s,rect:n,setRef:l}),[n,s,l])}const dse=[{sensor:rk,options:{}},{sensor:tk,options:{}}],fse={current:{}},uh={draggable:{measure:zC},droppable:{measure:zC,strategy:Fu.WhileDragging,frequency:_1.Optimized},dragOverlay:{measure:tc}};class lu extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const hse={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new lu,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:qh},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:uh,measureDroppableContainers:qh,windowRect:null,measuringScheduled:!1},pse={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:qh,draggableNodes:new Map,over:null,measureDroppableContainers:qh},Um=S.createContext(pse),OF=S.createContext(hse);function mse(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new lu}}}function gse(e,t){switch(t.type){case on.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case on.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case on.DragEnd:case on.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case on.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new lu(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case on.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const o=new lu(e.droppable.containers);return o.set(n,{...a,disabled:i}),{...e,droppable:{...e.droppable,containers:o}}}case on.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const a=new lu(e.droppable.containers);return a.delete(n),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function yse(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=S.useContext(Um),a=b1(r),o=b1(n?.id);return S.useEffect(()=>{if(!t&&!r&&a&&o!=null){if(!Zj(a)||document.activeElement===a.target)return;const s=i.get(o);if(!s)return;const{activatorNode:l,node:c}=s;if(!l.current&&!c.current)return;requestAnimationFrame(()=>{for(const d of[l.current,c.current]){if(!d)continue;const f=uoe(d);if(f){f.focus();break}}})}},[r,t,i,o,a]),null}function vse(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((i,a)=>a({transform:i,...r}),n):n}function bse(e){return S.useMemo(()=>({draggable:{...uh.draggable,...e?.draggable},droppable:{...uh.droppable,...e?.droppable},dragOverlay:{...uh.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function xse(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const a=S.useRef(!1),{x:o,y:s}=typeof i=="boolean"?{x:i,y:i}:i;Ai(()=>{if(!o&&!s||!t){a.current=!1;return}if(a.current||!r)return;const c=t?.node.current;if(!c||c.isConnected===!1)return;const d=n(c),f=yF(d,r);if(o||(f.x=0),s||(f.y=0),a.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const h=vF(c);h&&h.scrollBy({top:f.y,left:f.x})}},[t,o,s,r,n])}const CF=S.createContext({...ri,scaleX:1,scaleY:1});var Sa;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Sa||(Sa={}));const wse=S.memo(function(t){var n,r,i,a;let{id:o,accessibility:s,autoScroll:l=!0,children:c,sensors:d=dse,collisionDetection:f=koe,measuring:h,modifiers:p,...y}=t;const m=S.useReducer(gse,void 0,mse),[g,v]=m,[b,x]=goe(),[_,w]=S.useState(Sa.Uninitialized),j=_===Sa.Initialized,{draggable:{active:k,nodes:A,translate:P},droppable:{containers:O}}=g,T=k!=null?A.get(k):null,N=S.useRef({initial:null,translated:null}),M=S.useMemo(()=>{var Te;return k!=null?{id:k,data:(Te=T?.data)!=null?Te:fse,rect:N}:null},[k,T]),E=S.useRef(null),[R,F]=S.useState(null),[z,q]=S.useState(null),L=$u(y,Object.values(y)),D=Ud("DndDescribedBy",o),W=S.useMemo(()=>O.getEnabled(),[O]),B=bse(h),{droppableRects:$,measureDroppableContainers:Q,measuringScheduled:Z}=Zoe(W,{dragging:j,dependencies:[P.x,P.y],config:B.droppable}),fe=Qoe(A,k),le=S.useMemo(()=>z?x1(z):null,[z]),ue=ct(),ee=ese(fe,B.draggable.measure);xse({activeNode:k!=null?A.get(k):null,config:ue.layoutShiftCompensation,initialRect:ee,measure:B.draggable.measure});const te=VC(fe,B.draggable.measure,ee),ce=VC(fe?fe.parentElement:null),J=S.useRef({activatorEvent:null,active:null,activeNode:fe,collisionRect:null,collisions:null,droppableRects:$,draggableNodes:A,draggingNode:null,draggingNodeRect:null,droppableContainers:O,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),re=O.getNodeFor((n=J.current.over)==null?void 0:n.id),C=use({measure:B.dragOverlay.measure}),G=(r=C.nodeRef.current)!=null?r:fe,H=j?(i=C.rect)!=null?i:te:null,V=!!(C.nodeRef.current&&C.rect),U=rse(V?null:te),K=AF(G?Yn(G):null),ie=ise(j?re??fe:null),ne=lse(ie),X=vse(p,{transform:{x:P.x-U.x,y:P.y-U.y,scaleX:1,scaleY:1},activatorEvent:z,active:M,activeNodeRect:te,containerNodeRect:ce,draggingNodeRect:H,over:J.current.over,overlayNodeRect:C.rect,scrollableAncestors:ie,scrollableAncestorRects:ne,windowRect:K}),de=le?Xs(le,P):null,ve=ase(ie),he=HC(ve),Y=HC(ve,[te]),oe=Xs(X,he),ye=H?Ooe(H,X):null,Pe=M&&ye?f({active:M,collisionRect:ye,droppableRects:$,droppableContainers:W,pointerCoordinates:de}):null,Ue=gF(Pe,"id"),[Ke,Mt]=S.useState(null),Ye=V?X:Xs(X,Y),zt=Eoe(Ye,(a=Ke?.rect)!=null?a:null,te),un=S.useRef(null),nt=S.useCallback((Te,Ge)=>{let{sensor:ut,options:Se}=Ge;if(E.current==null)return;const Ie=A.get(E.current);if(!Ie)return;const Fe=Te.nativeEvent,dt=new ut({active:E.current,activeNode:Ie,event:Fe,options:Se,context:J,onAbort(ft){if(!A.get(ft))return;const{onDragAbort:Dt}=L.current,dn={id:ft};Dt?.(dn),b({type:"onDragAbort",event:dn})},onPending(ft,Jt,Dt,dn){if(!A.get(ft))return;const{onDragPending:xc}=L.current,ma={id:ft,constraint:Jt,initialCoordinates:Dt,offset:dn};xc?.(ma),b({type:"onDragPending",event:ma})},onStart(ft){const Jt=E.current;if(Jt==null)return;const Dt=A.get(Jt);if(!Dt)return;const{onDragStart:dn}=L.current,bc={activatorEvent:Fe,active:{id:Jt,data:Dt.data,rect:N}};Xr.unstable_batchedUpdates(()=>{dn?.(bc),w(Sa.Initializing),v({type:on.DragStart,initialCoordinates:ft,active:Jt}),b({type:"onDragStart",event:bc}),F(un.current),q(Fe)})},onMove(ft){v({type:on.DragMove,coordinates:ft})},onEnd:gt(on.DragEnd),onCancel:gt(on.DragCancel)});un.current=dt;function gt(ft){return async function(){const{active:Dt,collisions:dn,over:bc,scrollAdjustedTranslate:xc}=J.current;let ma=null;if(Dt&&xc){const{cancelDrop:wc}=L.current;ma={activatorEvent:Fe,active:Dt,collisions:dn,delta:xc,over:bc},ft===on.DragEnd&&typeof wc=="function"&&await Promise.resolve(wc(ma))&&(ft=on.DragCancel)}E.current=null,Xr.unstable_batchedUpdates(()=>{v({type:ft}),w(Sa.Uninitialized),Mt(null),F(null),q(null),un.current=null;const wc=ft===on.DragEnd?"onDragEnd":"onDragCancel";if(ma){const qg=L.current[wc];qg?.(ma),b({type:wc,event:ma})}})}}},[A]),Cn=S.useCallback((Te,Ge)=>(ut,Se)=>{const Ie=ut.nativeEvent,Fe=A.get(Se);if(E.current!==null||!Fe||Ie.dndKit||Ie.defaultPrevented)return;const dt={active:Fe};Te(ut,Ge.options,dt)===!0&&(Ie.dndKit={capturedBy:Ge.sensor},E.current=Se,nt(ut,Ge))},[A,nt]),ke=Joe(d,Cn);ose(d),Ai(()=>{te&&_===Sa.Initializing&&w(Sa.Initialized)},[te,_]),S.useEffect(()=>{const{onDragMove:Te}=L.current,{active:Ge,activatorEvent:ut,collisions:Se,over:Ie}=J.current;if(!Ge||!ut)return;const Fe={active:Ge,activatorEvent:ut,collisions:Se,delta:{x:oe.x,y:oe.y},over:Ie};Xr.unstable_batchedUpdates(()=>{Te?.(Fe),b({type:"onDragMove",event:Fe})})},[oe.x,oe.y]),S.useEffect(()=>{const{active:Te,activatorEvent:Ge,collisions:ut,droppableContainers:Se,scrollAdjustedTranslate:Ie}=J.current;if(!Te||E.current==null||!Ge||!Ie)return;const{onDragOver:Fe}=L.current,dt=Se.get(Ue),gt=dt&&dt.rect.current?{id:dt.id,rect:dt.rect.current,data:dt.data,disabled:dt.disabled}:null,ft={active:Te,activatorEvent:Ge,collisions:ut,delta:{x:Ie.x,y:Ie.y},over:gt};Xr.unstable_batchedUpdates(()=>{Mt(gt),Fe?.(ft),b({type:"onDragOver",event:ft})})},[Ue]),Ai(()=>{J.current={activatorEvent:z,active:M,activeNode:fe,collisionRect:ye,collisions:Pe,droppableRects:$,draggableNodes:A,draggingNode:G,draggingNodeRect:H,droppableContainers:O,over:Ke,scrollableAncestors:ie,scrollAdjustedTranslate:oe},N.current={initial:H,translated:ye}},[M,fe,Pe,ye,A,G,H,$,O,Ke,ie,oe]),Koe({...ue,delta:P,draggingRect:ye,pointerCoordinates:de,scrollableAncestors:ie,scrollableAncestorRects:ne});const rt=S.useMemo(()=>({active:M,activeNode:fe,activeNodeRect:te,activatorEvent:z,collisions:Pe,containerNodeRect:ce,dragOverlay:C,draggableNodes:A,droppableContainers:O,droppableRects:$,over:Ke,measureDroppableContainers:Q,scrollableAncestors:ie,scrollableAncestorRects:ne,measuringConfiguration:B,measuringScheduled:Z,windowRect:K}),[M,fe,te,z,Pe,ce,C,A,O,$,Ke,Q,ie,ne,B,Z,K]),st=S.useMemo(()=>({activatorEvent:z,activators:ke,active:M,activeNodeRect:te,ariaDescribedById:{draggable:D},dispatch:v,draggableNodes:A,over:Ke,measureDroppableContainers:Q}),[z,ke,M,te,v,D,A,Ke,Q]);return I.createElement(hF.Provider,{value:x},I.createElement(Um.Provider,{value:st},I.createElement(OF.Provider,{value:rt},I.createElement(CF.Provider,{value:zt},c)),I.createElement(yse,{disabled:s?.restoreFocus===!1})),I.createElement(boe,{...s,hiddenTextDescribedById:D}));function ct(){const Te=R?.autoScrollEnabled===!1,Ge=typeof l=="object"?l.enabled===!1:l===!1,ut=j&&!Te&&!Ge;return typeof l=="object"?{...l,enabled:ut}:{enabled:ut}}}),Sse=S.createContext(null),KC="button",_se="Draggable";function jse(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e;const a=Ud(_se),{activators:o,activatorEvent:s,active:l,activeNodeRect:c,ariaDescribedById:d,draggableNodes:f,over:h}=S.useContext(Um),{role:p=KC,roleDescription:y="draggable",tabIndex:m=0}=i??{},g=l?.id===t,v=S.useContext(g?CF:Sse),[b,x]=Bh(),[_,w]=Bh(),j=sse(o,t),k=$u(n);Ai(()=>(f.set(t,{id:t,key:a,node:b,activatorNode:_,data:k}),()=>{const P=f.get(t);P&&P.key===a&&f.delete(t)}),[f,t]);const A=S.useMemo(()=>({role:p,tabIndex:m,"aria-disabled":r,"aria-pressed":g&&p===KC?!0:void 0,"aria-roledescription":y,"aria-describedby":d.draggable}),[r,p,m,g,y,d.draggable]);return{active:l,activatorEvent:s,activeNodeRect:c,attributes:A,isDragging:g,listeners:r?void 0:j,node:b,over:h,setNodeRef:x,setActivatorNodeRef:w,transform:v}}function kse(){return S.useContext(OF)}const Ese="Droppable",Ase={timeout:25};function Ose(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const a=Ud(Ese),{active:o,dispatch:s,over:l,measureDroppableContainers:c}=S.useContext(Um),d=S.useRef({disabled:n}),f=S.useRef(!1),h=S.useRef(null),p=S.useRef(null),{disabled:y,updateMeasurementsFor:m,timeout:g}={...Ase,...i},v=$u(m??r),b=S.useCallback(()=>{if(!f.current){f.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{c(Array.isArray(v.current)?v.current:[v.current]),p.current=null},g)},[g]),x=qm({callback:b,disabled:y||!o}),_=S.useCallback((A,P)=>{x&&(P&&(x.unobserve(P),f.current=!1),A&&x.observe(A))},[x]),[w,j]=Bh(_),k=$u(t);return S.useEffect(()=>{!x||!w.current||(x.disconnect(),f.current=!1,x.observe(w.current))},[w,x]),S.useEffect(()=>(s({type:on.RegisterDroppable,element:{id:r,key:a,disabled:n,node:w,rect:h,data:k}}),()=>s({type:on.UnregisterDroppable,key:a,id:r})),[r]),S.useEffect(()=>{n!==d.current.disabled&&(s({type:on.SetDroppableDisabled,id:r,key:a,disabled:n}),d.current.disabled=n)},[r,a,n,s]),{active:o,rect:h,isOver:l?.id===r,node:w,over:l,setNodeRef:j}}function ik(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function Cse(e,t){return e.reduce((n,r,i)=>{const a=t.get(r);return a&&(n[i]=a),n},Array(e.length))}function Of(e){return e!==null&&e>=0}function Pse(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Tse(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const PF=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const a=ik(t,r,n),o=t[i],s=a[i];return!s||!o?null:{x:s.left-o.left,y:s.top-o.top,scaleX:s.width/o.width,scaleY:s.height/o.height}},Cf={scaleX:1,scaleY:1},Nse=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:i,rects:a,overIndex:o}=e;const s=(t=a[n])!=null?t:r;if(!s)return null;if(i===n){const c=a[o];return c?{x:0,y:n<o?c.top+c.height-(s.top+s.height):c.top-s.top,...Cf}:null}const l=Rse(a,i,n);return i>n&&i<=o?{x:0,y:-s.height-l,...Cf}:i<n&&i>=o?{x:0,y:s.height+l,...Cf}:{x:0,y:0,...Cf}};function Rse(e,t,n){const r=e[t],i=e[t-1],a=e[t+1];return r?n<t?i?r.top-(i.top+i.height):a?a.top-(r.top+r.height):0:a?a.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const TF="Sortable",NF=I.createContext({activeIndex:-1,containerId:TF,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:PF,disabled:{draggable:!1,droppable:!1}});function Ise(e){let{children:t,id:n,items:r,strategy:i=PF,disabled:a=!1}=e;const{active:o,dragOverlay:s,droppableRects:l,over:c,measureDroppableContainers:d}=kse(),f=Ud(TF,n),h=s.rect!==null,p=S.useMemo(()=>r.map(j=>typeof j=="object"&&"id"in j?j.id:j),[r]),y=o!=null,m=o?p.indexOf(o.id):-1,g=c?p.indexOf(c.id):-1,v=S.useRef(p),b=!Pse(p,v.current),x=g!==-1&&m===-1||b,_=Tse(a);Ai(()=>{b&&y&&d(p)},[b,p,y,d]),S.useEffect(()=>{v.current=p},[p]);const w=S.useMemo(()=>({activeIndex:m,containerId:f,disabled:_,disableTransforms:x,items:p,overIndex:g,useDragOverlay:h,sortedRects:Cse(p,l),strategy:i}),[m,f,_.draggable,_.droppable,x,p,g,l,h,i]);return I.createElement(NF.Provider,{value:w},t)}const Mse=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return ik(n,r,i).indexOf(t)},Dse=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:a,newIndex:o,previousItems:s,previousContainerId:l,transition:c}=e;return!c||!r||s!==a&&i===o?!1:n?!0:o!==i&&t===l},$se={duration:200,easing:"ease"},RF="transform",Lse=zu.Transition.toString({property:RF,duration:0,easing:"linear"}),zse={roleDescription:"sortable"};function Fse(e){let{disabled:t,index:n,node:r,rect:i}=e;const[a,o]=S.useState(null),s=S.useRef(n);return Ai(()=>{if(!t&&n!==s.current&&r.current){const l=i.current;if(l){const c=tc(r.current,{ignoreTransform:!0}),d={x:l.left-c.left,y:l.top-c.top,scaleX:l.width/c.width,scaleY:l.height/c.height};(d.x||d.y)&&o(d)}}n!==s.current&&(s.current=n)},[t,n,r,i]),S.useEffect(()=>{a&&o(null)},[a]),a}function Bse(e){let{animateLayoutChanges:t=Dse,attributes:n,disabled:r,data:i,getNewIndex:a=Mse,id:o,strategy:s,resizeObserverConfig:l,transition:c=$se}=e;const{items:d,containerId:f,activeIndex:h,disabled:p,disableTransforms:y,sortedRects:m,overIndex:g,useDragOverlay:v,strategy:b}=S.useContext(NF),x=qse(r,p),_=d.indexOf(o),w=S.useMemo(()=>({sortable:{containerId:f,index:_,items:d},...i}),[f,i,_,d]),j=S.useMemo(()=>d.slice(d.indexOf(o)),[d,o]),{rect:k,node:A,isOver:P,setNodeRef:O}=Ose({id:o,data:w,disabled:x.droppable,resizeObserverConfig:{updateMeasurementsFor:j,...l}}),{active:T,activatorEvent:N,activeNodeRect:M,attributes:E,setNodeRef:R,listeners:F,isDragging:z,over:q,setActivatorNodeRef:L,transform:D}=jse({id:o,data:w,attributes:{...zse,...n},disabled:x.draggable}),W=ooe(O,R),B=!!T,$=B&&!y&&Of(h)&&Of(g),Q=!v&&z,Z=Q&&$?D:null,le=$?Z??(s??b)({rects:m,activeNodeRect:M,activeIndex:h,overIndex:g,index:_}):null,ue=Of(h)&&Of(g)?a({id:o,items:d,activeIndex:h,overIndex:g}):_,ee=T?.id,te=S.useRef({activeId:ee,items:d,newIndex:ue,containerId:f}),ce=d!==te.current.items,J=t({active:T,containerId:f,isDragging:z,isSorting:B,id:o,index:_,items:d,newIndex:te.current.newIndex,previousItems:te.current.items,previousContainerId:te.current.containerId,transition:c,wasDragging:te.current.activeId!=null}),re=Fse({disabled:!J,index:_,node:A,rect:k});return S.useEffect(()=>{B&&te.current.newIndex!==ue&&(te.current.newIndex=ue),f!==te.current.containerId&&(te.current.containerId=f),d!==te.current.items&&(te.current.items=d)},[B,ue,f,d]),S.useEffect(()=>{if(ee===te.current.activeId)return;if(ee!=null&&te.current.activeId==null){te.current.activeId=ee;return}const G=setTimeout(()=>{te.current.activeId=ee},50);return()=>clearTimeout(G)},[ee]),{active:T,activeIndex:h,attributes:E,data:w,rect:k,index:_,newIndex:ue,items:d,isOver:P,isSorting:B,isDragging:z,listeners:F,node:A,overIndex:g,over:q,setNodeRef:W,setActivatorNodeRef:L,setDroppableNodeRef:O,setDraggableNodeRef:R,transform:re??le,transition:C()};function C(){if(re||ce&&te.current.newIndex===_)return Lse;if(!(Q&&!Zj(N)||!c)&&(B||J))return zu.Transition.toString({...c,property:RF})}}function qse(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e?.draggable)!=null?n:t.draggable,droppable:(r=e?.droppable)!=null?r:t.droppable}}function Vh(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const Use=[it.Down,it.Right,it.Up,it.Left],Vse=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:i,droppableContainers:a,over:o,scrollableAncestors:s}}=t;if(Use.includes(e.code)){if(e.preventDefault(),!n||!r)return;const l=[];a.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const h=i.get(f.id);if(h)switch(e.code){case it.Down:r.top<h.top&&l.push(f);break;case it.Up:r.top>h.top&&l.push(f);break;case it.Left:r.left>h.left&&l.push(f);break;case it.Right:r.left<h.left&&l.push(f);break}});const c=_oe({collisionRect:r,droppableRects:i,droppableContainers:l});let d=gF(c,"id");if(d===o?.id&&c.length>1&&(d=c[1].id),d!=null){const f=a.get(n.id),h=a.get(d),p=h?i.get(h.id):null,y=h?.node.current;if(y&&p&&f&&h){const g=Bm(y).some((j,k)=>s[k]!==j),v=IF(f,h),b=Wse(f,h),x=g||!v?{x:0,y:0}:{x:b?r.width-p.width:0,y:b?r.height-p.height:0},_={x:p.left,y:p.top};return x.x&&x.y?_:Lu(_,x)}}}};function IF(e,t){return!Vh(e)||!Vh(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function Wse(e,t){return!Vh(e)||!Vh(t)||!IF(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}function Hse({habit:e,isEditing:t,editTitle:n,editColor:r,isPrivacyMode:i,isDeleting:a,isUpdating:o,onStartEdit:s,onCancelEdit:l,onSaveEdit:c,onRemove:d,setEditTitle:f,setEditColor:h}){const{attributes:p,listeners:y,setNodeRef:m,transform:g,transition:v,isDragging:b}=Bse({id:e.id}),x={transform:zu.Transform.toString(g),transition:v,opacity:b?.5:1};return u.jsx("div",{ref:m,style:x,children:t?u.jsxs("div",{className:"rounded-xl p-3 bg-primary/10 border border-primary/30 space-y-3",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(ni,{className:"text-xs uppercase tracking-wider text-muted-foreground",children:"Nome"}),u.jsx(ta,{value:n,onChange:_=>f(_.target.value),className:"bg-black/30 border-white/10 h-9 rounded-lg",autoFocus:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ni,{className:"text-xs uppercase tracking-wider text-muted-foreground",children:"Colore"}),u.jsx(Yj,{value:r,onChange:h})]}),u.jsxs("div",{className:"flex gap-2 pt-1",children:[u.jsxs(Ce,{size:"sm",variant:"ghost",onClick:l,className:"flex-1 h-8 rounded-lg",children:[u.jsx(Ga,{className:"h-4 w-4 mr-1"}),"Annulla"]}),u.jsxs(Ce,{size:"sm",onClick:c,disabled:!n.trim()||o,className:"flex-1 h-8 rounded-lg",children:[u.jsx(ci,{className:"h-4 w-4 mr-1"}),o?"Salvando...":"Salva"]})]})]}):u.jsxs("div",{className:"group flex items-center gap-2 rounded-xl p-3 bg-white/5 border border-transparent hover:border-white/10 hover:bg-white/10 transition-all",children:[u.jsx("div",{...p,...y,className:"cursor-grab active:cursor-grabbing opacity-40 group-hover:opacity-100 transition-opacity touch-none",children:u.jsx(l9,{className:"h-4 w-4 text-muted-foreground"})}),u.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[u.jsx("div",{className:"h-3 w-3 rounded-full shadow-[0_0_8px_currentColor] shrink-0",style:{backgroundColor:e.color,color:e.color}}),u.jsx("span",{className:ae("text-sm font-medium transition-all duration-300 truncate",i&&"blur-sm"),children:e.title})]}),u.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[u.jsx(Ce,{variant:"ghost",size:"icon",onClick:()=>s(e),className:"h-8 w-8 text-muted-foreground opacity-60 group-hover:opacity-100 group-hover:text-primary hover:bg-primary/10 transition-all rounded-lg",children:u.jsx(_9,{className:"h-4 w-4"})}),u.jsxs(Bo,{children:[u.jsx(cl,{asChild:!0,children:u.jsx(Ce,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground opacity-60 group-hover:opacity-100 group-hover:text-destructive hover:bg-destructive/10 transition-all rounded-lg",children:u.jsx(N_,{className:"h-4 w-4"})})}),u.jsxs(La,{children:[u.jsxs(za,{children:[u.jsx(Ba,{children:"Sei sicuro?"}),u.jsx(qa,{children:"Stai per rimuovere questa abitudine. Se ha dei dati associati, verr archiviata per preservare lo storico. Altrimenti verr eliminata definitivamente."})]}),u.jsxs(Fa,{children:[u.jsx(Jo,{children:"Annulla"}),u.jsx(Ua,{onClick:()=>d(e.id),className:"bg-destructive hover:bg-destructive/90 text-destructive-foreground",disabled:a,children:a?"Eliminazione...":"Conferma elimina"})]})]})]})]})]})})}function Gse({habits:e,onAddHabit:t,onRemoveHabit:n,onUpdateHabit:r,onUpdateOrder:i,isDeleting:a,isUpdating:o,isPrivacyMode:s=!1}){const[l,c]=S.useState(!1),d=S.useMemo(()=>[...e].sort((M,E)=>{const R=M.display_order??999999,F=E.display_order??999999;return R!==F?R-F:new Date(M.created_at).getTime()-new Date(E.created_at).getTime()}),[e]),[f,h]=S.useState(d);S.useEffect(()=>{h(d)},[d]);const[p,y]=S.useState(""),[m,g]=S.useState("hsl(145 55% 42%)"),[v,b]=S.useState(null),[x,_]=S.useState(""),[w,j]=S.useState(""),k=xoe(Ny(rk),Ny(kF),Ny(tk,{coordinateGetter:Vse})),A=()=>{p.trim()&&(t({title:p,color:m}),y(""),g("hsl(145 55% 42%)"))},P=M=>{b(M),_(M.title),j(M.color)},O=()=>{b(null),_(""),j("")},T=()=>{v&&x.trim()&&r&&(r({id:v.id,title:x.trim(),color:w}),O())},N=M=>{const{active:E,over:R}=M;!R||E.id===R.id||h(F=>{const z=F.findIndex(D=>D.id===E.id),q=F.findIndex(D=>D.id===R.id),L=ik(F,z,q);if(i){const D=L.map((W,B)=>({id:W.id,display_order:B+1}));i(D)}return L})};return u.jsxs($m,{open:l,onOpenChange:c,children:[u.jsx(Hj,{asChild:!0,children:u.jsx(Ce,{variant:"outline",size:"icon",className:"h-10 w-10 sm:h-9 sm:w-9",children:u.jsx(K5,{className:"h-4 w-4"})})}),u.jsxs(Ld,{className:"sm:max-w-[425px] max-h-[85vh] flex flex-col bg-[#0a0a0a]/90 backdrop-blur-2xl border-white/10 text-foreground p-0 gap-0",children:[u.jsxs(Lm,{className:"p-6 pb-2 shrink-0",children:[u.jsx(zd,{children:"Gestisci Abitudini"}),u.jsx(Fd,{children:"Aggiungi, modifica o riordina le abitudini che vuoi tracciare. Trascina per riordinare."})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-6 pt-2 space-y-8",children:[u.jsxs("div",{className:"space-y-4 p-4 rounded-2xl bg-white/5 border border-white/10 backdrop-blur-md",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/20 flex items-center justify-center text-primary",children:u.jsx(gw,{className:"h-4 w-4"})}),u.jsx("h4",{className:"text-sm font-display font-bold",children:"Nuova Abitudine"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(ni,{className:"text-xs uppercase tracking-wider text-muted-foreground ml-1",children:"Nome"}),u.jsx(ta,{placeholder:"Es. Bere acqua, Leggere...",value:p,onChange:M=>y(M.target.value),className:"bg-black/30 border-white/10 h-10 rounded-xl"})]}),u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(ni,{className:"text-xs uppercase tracking-wider text-muted-foreground ml-1",children:"Colore"}),u.jsx(Yj,{value:m,onChange:g})]}),u.jsx(Ce,{onClick:A,disabled:!p.trim(),className:"w-full rounded-xl",children:"Aggiungi al Protocollo"})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("h4",{className:"text-sm font-display font-bold px-1",children:"Le tue Abitudini"}),u.jsx(wse,{sensors:k,collisionDetection:Soe,onDragEnd:N,children:u.jsx(Ise,{items:f.map(M=>M.id),strategy:Nse,children:u.jsxs("div",{className:"space-y-2",children:[f.map(M=>u.jsx(Hse,{habit:M,isEditing:v?.id===M.id,editTitle:x,editColor:w,isPrivacyMode:s,isDeleting:a,isUpdating:o,onStartEdit:P,onCancelEdit:O,onSaveEdit:T,onRemove:n,setEditTitle:_,setEditColor:j},M.id)),e.length===0&&u.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center text-muted-foreground space-y-2",children:[u.jsx("div",{className:"h-10 w-10 rounded-full bg-white/5 flex items-center justify-center",children:u.jsx(gw,{className:"h-5 w-5 opacity-50"})}),u.jsx("p",{className:"text-sm",children:"Nessuna abitudine definita."})]})]})})})]})]})]})]})}const MF=S.forwardRef(({className:e,...t},n)=>u.jsx("textarea",{className:ae("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));MF.displayName="Textarea";var Kse=S.createContext(void 0);function nc(e){const t=S.useContext(Kse);return e||t||"ltr"}function Bu(e,[t,n]){return Math.min(n,Math.max(t,e))}function Yse(e,t){return S.useReducer((n,r)=>t[n][r]??n,e)}var ak="ScrollArea",[DF]=Bn(ak),[Xse,Ir]=DF(ak),$F=S.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:a=600,...o}=e,[s,l]=S.useState(null),[c,d]=S.useState(null),[f,h]=S.useState(null),[p,y]=S.useState(null),[m,g]=S.useState(null),[v,b]=S.useState(0),[x,_]=S.useState(0),[w,j]=S.useState(!1),[k,A]=S.useState(!1),P=ze(t,T=>l(T)),O=nc(i);return u.jsx(Xse,{scope:n,type:r,dir:O,scrollHideDelay:a,scrollArea:s,viewport:c,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:y,scrollbarXEnabled:w,onScrollbarXEnabledChange:j,scrollbarY:m,onScrollbarYChange:g,scrollbarYEnabled:k,onScrollbarYEnabledChange:A,onCornerWidthChange:b,onCornerHeightChange:_,children:u.jsx(Ae.div,{dir:O,...o,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":x+"px",...e.style}})})});$F.displayName=ak;var LF="ScrollAreaViewport",zF=S.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:i,...a}=e,o=Ir(LF,n),s=S.useRef(null),l=ze(t,s,o.onViewportChange);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),u.jsx(Ae.div,{"data-radix-scroll-area-viewport":"",...a,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:u.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});zF.displayName=LF;var Pi="ScrollAreaScrollbar",ok=S.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Ir(Pi,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,s=e.orientation==="horizontal";return S.useEffect(()=>(s?a(!0):o(!0),()=>{s?a(!1):o(!1)}),[s,a,o]),i.type==="hover"?u.jsx(Qse,{...r,ref:t,forceMount:n}):i.type==="scroll"?u.jsx(Jse,{...r,ref:t,forceMount:n}):i.type==="auto"?u.jsx(FF,{...r,ref:t,forceMount:n}):i.type==="always"?u.jsx(sk,{...r,ref:t}):null});ok.displayName=Pi;var Qse=S.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Ir(Pi,e.__scopeScrollArea),[a,o]=S.useState(!1);return S.useEffect(()=>{const s=i.scrollArea;let l=0;if(s){const c=()=>{window.clearTimeout(l),o(!0)},d=()=>{l=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return s.addEventListener("pointerenter",c),s.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),s.removeEventListener("pointerenter",c),s.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),u.jsx(sa,{present:n||a,children:u.jsx(FF,{"data-state":a?"visible":"hidden",...r,ref:t})})}),Jse=S.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Ir(Pi,e.__scopeScrollArea),a=e.orientation==="horizontal",o=Wm(()=>l("SCROLL_END"),100),[s,l]=Yse("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return S.useEffect(()=>{if(s==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[s,i.scrollHideDelay,l]),S.useEffect(()=>{const c=i.viewport,d=a?"scrollLeft":"scrollTop";if(c){let f=c[d];const h=()=>{const p=c[d];f!==p&&(l("SCROLL"),o()),f=p};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[i.viewport,a,l,o]),u.jsx(sa,{present:n||s!=="hidden",children:u.jsx(sk,{"data-state":s==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Ee(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Ee(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),FF=S.forwardRef((e,t)=>{const n=Ir(Pi,e.__scopeScrollArea),{forceMount:r,...i}=e,[a,o]=S.useState(!1),s=e.orientation==="horizontal",l=Wm(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(s?c:d)}},10);return ul(n.viewport,l),ul(n.content,l),u.jsx(sa,{present:r||a,children:u.jsx(sk,{"data-state":a?"visible":"hidden",...i,ref:t})})}),sk=S.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=Ir(Pi,e.__scopeScrollArea),a=S.useRef(null),o=S.useRef(0),[s,l]=S.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=WF(s.viewport,s.content),d={...r,sizes:s,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>a.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,p){return ile(h,o.current,s,p)}return n==="horizontal"?u.jsx(Zse,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const h=i.viewport.scrollLeft,p=YC(h,s,i.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=f(h,i.dir))}}):n==="vertical"?u.jsx(ele,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const h=i.viewport.scrollTop,p=YC(h,s);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=f(h))}}):null}),Zse=S.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,a=Ir(Pi,e.__scopeScrollArea),[o,s]=S.useState(),l=S.useRef(null),c=ze(t,l,a.onScrollbarXChange);return S.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),u.jsx(qF,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Vm(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),GF(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&a.viewport&&o&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Hh(o.paddingLeft),paddingEnd:Hh(o.paddingRight)}})}})}),ele=S.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,a=Ir(Pi,e.__scopeScrollArea),[o,s]=S.useState(),l=S.useRef(null),c=ze(t,l,a.onScrollbarYChange);return S.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),u.jsx(qF,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Vm(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),GF(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&a.viewport&&o&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Hh(o.paddingTop),paddingEnd:Hh(o.paddingBottom)}})}})}),[tle,BF]=DF(Pi),qF=S.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:s,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:f,...h}=e,p=Ir(Pi,n),[y,m]=S.useState(null),g=ze(t,P=>m(P)),v=S.useRef(null),b=S.useRef(""),x=p.viewport,_=r.content-r.viewport,w=Ut(d),j=Ut(l),k=Wm(f,10);function A(P){if(v.current){const O=P.clientX-v.current.left,T=P.clientY-v.current.top;c({x:O,y:T})}}return S.useEffect(()=>{const P=O=>{const T=O.target;y?.contains(T)&&w(O,_)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[x,y,_,w]),S.useEffect(j,[r,j]),ul(y,k),ul(p.content,k),u.jsx(tle,{scope:n,scrollbar:y,hasThumb:i,onThumbChange:Ut(a),onThumbPointerUp:Ut(o),onThumbPositionChange:j,onThumbPointerDown:Ut(s),children:u.jsx(Ae.div,{...h,ref:g,style:{position:"absolute",...h.style},onPointerDown:Ee(e.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),v.current=y.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),A(P))}),onPointerMove:Ee(e.onPointerMove,A),onPointerUp:Ee(e.onPointerUp,P=>{const O=P.target;O.hasPointerCapture(P.pointerId)&&O.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=b.current,p.viewport&&(p.viewport.style.scrollBehavior=""),v.current=null})})})}),Wh="ScrollAreaThumb",UF=S.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=BF(Wh,e.__scopeScrollArea);return u.jsx(sa,{present:n||i.hasThumb,children:u.jsx(nle,{ref:t,...r})})}),nle=S.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,a=Ir(Wh,n),o=BF(Wh,n),{onThumbPositionChange:s}=o,l=ze(t,f=>o.onThumbChange(f)),c=S.useRef(void 0),d=Wm(()=>{c.current&&(c.current(),c.current=void 0)},100);return S.useEffect(()=>{const f=a.viewport;if(f){const h=()=>{if(d(),!c.current){const p=ale(f,s);c.current=p,s()}};return s(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[a.viewport,d,s]),u.jsx(Ae.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ee(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),y=f.clientX-p.left,m=f.clientY-p.top;o.onThumbPointerDown({x:y,y:m})}),onPointerUp:Ee(e.onPointerUp,o.onThumbPointerUp)})});UF.displayName=Wh;var lk="ScrollAreaCorner",VF=S.forwardRef((e,t)=>{const n=Ir(lk,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?u.jsx(rle,{...e,ref:t}):null});VF.displayName=lk;var rle=S.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=Ir(lk,n),[a,o]=S.useState(0),[s,l]=S.useState(0),c=!!(a&&s);return ul(i.scrollbarX,()=>{const d=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(d),l(d)}),ul(i.scrollbarY,()=>{const d=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(d),o(d)}),c?u.jsx(Ae.div,{...r,ref:t,style:{width:a,height:s,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Hh(e){return e?parseInt(e,10):0}function WF(e,t){const n=e/t;return isNaN(n)?0:n}function Vm(e){const t=WF(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function ile(e,t,n,r="ltr"){const i=Vm(n),a=i/2,o=t||a,s=i-o,l=n.scrollbar.paddingStart+o,c=n.scrollbar.size-n.scrollbar.paddingEnd-s,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return HF([l,c],f)(e)}function YC(e,t,n="ltr"){const r=Vm(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,o=t.content-t.viewport,s=a-r,l=n==="ltr"?[0,o]:[o*-1,0],c=Bu(e,l);return HF([0,o],[0,s])(c)}function HF(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function GF(e,t){return e>0&&e<t}var ale=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return(function i(){const a={left:e.scrollLeft,top:e.scrollTop},o=n.left!==a.left,s=n.top!==a.top;(o||s)&&t(),n=a,r=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(r)};function Wm(e,t){const n=Ut(e),r=S.useRef(0);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),S.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function ul(e,t){const n=Ut(t);Qt(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}var KF=$F,ole=zF,sle=VF;const ck=S.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(KF,{ref:r,className:ae("relative overflow-hidden",e),...n,children:[u.jsx(ole,{className:"h-full w-full rounded-[inherit]",children:t}),u.jsx(YF,{}),u.jsx(sle,{})]}));ck.displayName=KF.displayName;const YF=S.forwardRef(({className:e,orientation:t="vertical",...n},r)=>u.jsx(ok,{ref:r,orientation:t,className:ae("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:u.jsx(UF,{className:"relative flex-1 rounded-full bg-border"})}));YF.displayName=ok.displayName;function lle(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const cle=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,ule=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,dle={};function XC(e,t){return(dle.jsx?ule:cle).test(e)}const fle=/[ \t\n\f\r]/g;function hle(e){return typeof e=="object"?e.type==="text"?QC(e.value):!1:QC(e)}function QC(e){return e.replace(fle,"")===""}class Vd{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Vd.prototype.normal={};Vd.prototype.property={};Vd.prototype.space=void 0;function XF(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Vd(n,r,t)}function j1(e){return e.toLowerCase()}class Xn{constructor(t,n){this.attribute=n,this.property=t}}Xn.prototype.attribute="";Xn.prototype.booleanish=!1;Xn.prototype.boolean=!1;Xn.prototype.commaOrSpaceSeparated=!1;Xn.prototype.commaSeparated=!1;Xn.prototype.defined=!1;Xn.prototype.mustUseProperty=!1;Xn.prototype.number=!1;Xn.prototype.overloadedBoolean=!1;Xn.prototype.property="";Xn.prototype.spaceSeparated=!1;Xn.prototype.space=void 0;let ple=0;const He=us(),Wt=us(),k1=us(),ge=us(),kt=us(),Qs=us(),Jn=us();function us(){return 2**++ple}const E1=Object.freeze(Object.defineProperty({__proto__:null,boolean:He,booleanish:Wt,commaOrSpaceSeparated:Jn,commaSeparated:Qs,number:ge,overloadedBoolean:k1,spaceSeparated:kt},Symbol.toStringTag,{value:"Module"})),Dy=Object.keys(E1);class uk extends Xn{constructor(t,n,r,i){let a=-1;if(super(t,n),JC(this,"space",i),typeof r=="number")for(;++a<Dy.length;){const o=Dy[a];JC(this,Dy[a],(r&E1[o])===E1[o])}}}uk.prototype.defined=!0;function JC(e,t,n){n&&(e[t]=n)}function rc(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const a=new uk(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[j1(r)]=r,n[j1(a.attribute)]=r}return new Vd(t,n,e.space)}const QF=rc({properties:{ariaActiveDescendant:null,ariaAtomic:Wt,ariaAutoComplete:null,ariaBusy:Wt,ariaChecked:Wt,ariaColCount:ge,ariaColIndex:ge,ariaColSpan:ge,ariaControls:kt,ariaCurrent:null,ariaDescribedBy:kt,ariaDetails:null,ariaDisabled:Wt,ariaDropEffect:kt,ariaErrorMessage:null,ariaExpanded:Wt,ariaFlowTo:kt,ariaGrabbed:Wt,ariaHasPopup:null,ariaHidden:Wt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:kt,ariaLevel:ge,ariaLive:null,ariaModal:Wt,ariaMultiLine:Wt,ariaMultiSelectable:Wt,ariaOrientation:null,ariaOwns:kt,ariaPlaceholder:null,ariaPosInSet:ge,ariaPressed:Wt,ariaReadOnly:Wt,ariaRelevant:null,ariaRequired:Wt,ariaRoleDescription:kt,ariaRowCount:ge,ariaRowIndex:ge,ariaRowSpan:ge,ariaSelected:Wt,ariaSetSize:ge,ariaSort:null,ariaValueMax:ge,ariaValueMin:ge,ariaValueNow:ge,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function JF(e,t){return t in e?e[t]:t}function ZF(e,t){return JF(e,t.toLowerCase())}const mle=rc({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Qs,acceptCharset:kt,accessKey:kt,action:null,allow:null,allowFullScreen:He,allowPaymentRequest:He,allowUserMedia:He,alt:null,as:null,async:He,autoCapitalize:null,autoComplete:kt,autoFocus:He,autoPlay:He,blocking:kt,capture:null,charSet:null,checked:He,cite:null,className:kt,cols:ge,colSpan:null,content:null,contentEditable:Wt,controls:He,controlsList:kt,coords:ge|Qs,crossOrigin:null,data:null,dateTime:null,decoding:null,default:He,defer:He,dir:null,dirName:null,disabled:He,download:k1,draggable:Wt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:He,formTarget:null,headers:kt,height:ge,hidden:k1,high:ge,href:null,hrefLang:null,htmlFor:kt,httpEquiv:kt,id:null,imageSizes:null,imageSrcSet:null,inert:He,inputMode:null,integrity:null,is:null,isMap:He,itemId:null,itemProp:kt,itemRef:kt,itemScope:He,itemType:kt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:He,low:ge,manifest:null,max:null,maxLength:ge,media:null,method:null,min:null,minLength:ge,multiple:He,muted:He,name:null,nonce:null,noModule:He,noValidate:He,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:He,optimum:ge,pattern:null,ping:kt,placeholder:null,playsInline:He,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:He,referrerPolicy:null,rel:kt,required:He,reversed:He,rows:ge,rowSpan:ge,sandbox:kt,scope:null,scoped:He,seamless:He,selected:He,shadowRootClonable:He,shadowRootDelegatesFocus:He,shadowRootMode:null,shape:null,size:ge,sizes:null,slot:null,span:ge,spellCheck:Wt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ge,step:null,style:null,tabIndex:ge,target:null,title:null,translate:null,type:null,typeMustMatch:He,useMap:null,value:Wt,width:ge,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:kt,axis:null,background:null,bgColor:null,border:ge,borderColor:null,bottomMargin:ge,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:He,declare:He,event:null,face:null,frame:null,frameBorder:null,hSpace:ge,leftMargin:ge,link:null,longDesc:null,lowSrc:null,marginHeight:ge,marginWidth:ge,noResize:He,noHref:He,noShade:He,noWrap:He,object:null,profile:null,prompt:null,rev:null,rightMargin:ge,rules:null,scheme:null,scrolling:Wt,standby:null,summary:null,text:null,topMargin:ge,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ge,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:He,disableRemotePlayback:He,prefix:null,property:null,results:ge,security:null,unselectable:null},space:"html",transform:ZF}),gle=rc({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Jn,accentHeight:ge,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ge,amplitude:ge,arabicForm:null,ascent:ge,attributeName:null,attributeType:null,azimuth:ge,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ge,by:null,calcMode:null,capHeight:ge,className:kt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ge,diffuseConstant:ge,direction:null,display:null,dur:null,divisor:ge,dominantBaseline:null,download:He,dx:null,dy:null,edgeMode:null,editable:null,elevation:ge,enableBackground:null,end:null,event:null,exponent:ge,externalResourcesRequired:null,fill:null,fillOpacity:ge,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Qs,g2:Qs,glyphName:Qs,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ge,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ge,horizOriginX:ge,horizOriginY:ge,id:null,ideographic:ge,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ge,k:ge,k1:ge,k2:ge,k3:ge,k4:ge,kernelMatrix:Jn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ge,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ge,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ge,overlineThickness:ge,paintOrder:null,panose1:null,path:null,pathLength:ge,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:kt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ge,pointsAtY:ge,pointsAtZ:ge,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Jn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Jn,rev:Jn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Jn,requiredFeatures:Jn,requiredFonts:Jn,requiredFormats:Jn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ge,specularExponent:ge,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ge,strikethroughThickness:ge,string:null,stroke:null,strokeDashArray:Jn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ge,strokeOpacity:ge,strokeWidth:null,style:null,surfaceScale:ge,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Jn,tabIndex:ge,tableValues:null,target:null,targetX:ge,targetY:ge,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Jn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ge,underlineThickness:ge,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ge,values:null,vAlphabetic:ge,vMathematical:ge,vectorEffect:null,vHanging:ge,vIdeographic:ge,version:null,vertAdvY:ge,vertOriginX:ge,vertOriginY:ge,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ge,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:JF}),eB=rc({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),tB=rc({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:ZF}),nB=rc({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),yle={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},vle=/[A-Z]/g,ZC=/-[a-z]/g,ble=/^data[-\w.:]+$/i;function xle(e,t){const n=j1(t);let r=t,i=Xn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&ble.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(ZC,Sle);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!ZC.test(a)){let o=a.replace(vle,wle);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=uk}return new i(r,t)}function wle(e){return"-"+e.toLowerCase()}function Sle(e){return e.charAt(1).toUpperCase()}const _le=XF([QF,mle,eB,tB,nB],"html"),dk=XF([QF,gle,eB,tB,nB],"svg");function jle(e){return e.join(" ").trim()}var js={},$y,eP;function kle(){if(eP)return $y;eP=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,s=/^\s+|\s+$/g,l=`
`,c="/",d="*",f="",h="comment",p="declaration";function y(g,v){if(typeof g!="string")throw new TypeError("First argument must be a string");if(!g)return[];v=v||{};var b=1,x=1;function _(E){var R=E.match(t);R&&(b+=R.length);var F=E.lastIndexOf(l);x=~F?E.length-F:x+E.length}function w(){var E={line:b,column:x};return function(R){return R.position=new j(E),P(),R}}function j(E){this.start=E,this.end={line:b,column:x},this.source=v.source}j.prototype.content=g;function k(E){var R=new Error(v.source+":"+b+":"+x+": "+E);if(R.reason=E,R.filename=v.source,R.line=b,R.column=x,R.source=g,!v.silent)throw R}function A(E){var R=E.exec(g);if(R){var F=R[0];return _(F),g=g.slice(F.length),R}}function P(){A(n)}function O(E){var R;for(E=E||[];R=T();)R!==!1&&E.push(R);return E}function T(){var E=w();if(!(c!=g.charAt(0)||d!=g.charAt(1))){for(var R=2;f!=g.charAt(R)&&(d!=g.charAt(R)||c!=g.charAt(R+1));)++R;if(R+=2,f===g.charAt(R-1))return k("End of comment missing");var F=g.slice(2,R-2);return x+=2,_(F),g=g.slice(R),x+=2,E({type:h,comment:F})}}function N(){var E=w(),R=A(r);if(R){if(T(),!A(i))return k("property missing ':'");var F=A(a),z=E({type:p,property:m(R[0].replace(e,f)),value:F?m(F[0].replace(e,f)):f});return A(o),z}}function M(){var E=[];O(E);for(var R;R=N();)R!==!1&&(E.push(R),O(E));return E}return P(),M()}function m(g){return g?g.replace(s,f):f}return $y=y,$y}var tP;function Ele(){if(tP)return js;tP=1;var e=js&&js.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(js,"__esModule",{value:!0}),js.default=n;const t=e(kle());function n(r,i){let a=null;if(!r||typeof r!="string")return a;const o=(0,t.default)(r),s=typeof i=="function";return o.forEach(l=>{if(l.type!=="declaration")return;const{property:c,value:d}=l;s?i(c,d,l):d&&(a=a||{},a[c]=d)}),a}return js}var Oc={},nP;function Ale(){if(nP)return Oc;nP=1,Object.defineProperty(Oc,"__esModule",{value:!0}),Oc.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,a=function(c){return!c||n.test(c)||e.test(c)},o=function(c,d){return d.toUpperCase()},s=function(c,d){return"".concat(d,"-")},l=function(c,d){return d===void 0&&(d={}),a(c)?c:(c=c.toLowerCase(),d.reactCompat?c=c.replace(i,s):c=c.replace(r,s),c.replace(t,o))};return Oc.camelCase=l,Oc}var Cc,rP;function Ole(){if(rP)return Cc;rP=1;var e=Cc&&Cc.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(Ele()),n=Ale();function r(i,a){var o={};return!i||typeof i!="string"||(0,t.default)(i,function(s,l){s&&l&&(o[(0,n.camelCase)(s,a)]=l)}),o}return r.default=r,Cc=r,Cc}var Cle=Ole();const Ple=ot(Cle),rB=iB("end"),fk=iB("start");function iB(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Tle(e){const t=fk(e),n=rB(e);if(t&&n)return{start:t,end:n}}function cu(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?iP(e.position):"start"in e||"end"in e?iP(e):"line"in e||"column"in e?A1(e):""}function A1(e){return aP(e&&e.line)+":"+aP(e&&e.column)}function iP(e){return A1(e&&e.start)+"-"+A1(e&&e.end)}function aP(e){return e&&typeof e=="number"?e:1}class On extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},o=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?i=t:!a.cause&&t&&(o=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?a.ruleId=r:(a.source=r.slice(0,l),a.ruleId=r.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const s=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=s?s.line:void 0,this.name=cu(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=o&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}On.prototype.file="";On.prototype.name="";On.prototype.reason="";On.prototype.message="";On.prototype.stack="";On.prototype.column=void 0;On.prototype.line=void 0;On.prototype.ancestors=void 0;On.prototype.cause=void 0;On.prototype.fatal=void 0;On.prototype.place=void 0;On.prototype.ruleId=void 0;On.prototype.source=void 0;const hk={}.hasOwnProperty,Nle=new Map,Rle=/[A-Z]/g,Ile=new Set(["table","tbody","thead","tfoot","tr"]),Mle=new Set(["td","th"]),aB="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Dle(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Vle(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Ule(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?dk:_le,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=oB(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function oB(e,t,n){if(t.type==="element")return $le(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Lle(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Fle(e,t,n);if(t.type==="mdxjsEsm")return zle(e,t);if(t.type==="root")return Ble(e,t,n);if(t.type==="text")return qle(e,t)}function $le(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=dk,e.schema=i),e.ancestors.push(t);const a=lB(e,t.tagName,!1),o=Wle(e,t);let s=mk(e,t);return Ile.has(t.tagName)&&(s=s.filter(function(l){return typeof l=="string"?!hle(l):!0})),sB(e,o,a,t),pk(o,s),e.ancestors.pop(),e.schema=r,e.create(t,a,o,n)}function Lle(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}qu(e,t.position)}function zle(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);qu(e,t.position)}function Fle(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=dk,e.schema=i),e.ancestors.push(t);const a=t.name===null?e.Fragment:lB(e,t.name,!0),o=Hle(e,t),s=mk(e,t);return sB(e,o,a,t),pk(o,s),e.ancestors.pop(),e.schema=r,e.create(t,a,o,n)}function Ble(e,t,n){const r={};return pk(r,mk(e,t)),e.create(t,e.Fragment,r,n)}function qle(e,t){return t.value}function sB(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function pk(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Ule(e,t,n){return r;function r(i,a,o,s){const c=Array.isArray(o.children)?n:t;return s?c(a,o,s):c(a,o)}}function Vle(e,t){return n;function n(r,i,a,o){const s=Array.isArray(a.children),l=fk(r);return t(i,a,o,s,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function Wle(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&hk.call(t.properties,i)){const a=Gle(e,i,t.properties[i]);if(a){const[o,s]=a;e.tableCellAlignToStyle&&o==="align"&&typeof s=="string"&&Mle.has(t.tagName)?r=s:n[o]=s}}if(r){const a=n.style||(n.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Hle(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const o=a.expression;o.type;const s=o.properties[0];s.type,Object.assign(n,e.evaluater.evaluateExpression(s.argument))}else qu(e,t.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const s=r.value.data.estree.body[0];s.type,a=e.evaluater.evaluateExpression(s.expression)}else qu(e,t.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function mk(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:Nle;for(;++r<t.children.length;){const a=t.children[r];let o;if(e.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const c=i.get(l)||0;o=l+"-"+c,i.set(l,c+1)}}const s=oB(e,a,o);s!==void 0&&n.push(s)}return n}function Gle(e,t,n){const r=xle(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?lle(n):jle(n)),r.property==="style"){let i=typeof n=="object"?n:Kle(e,String(n));return e.stylePropertyNameCase==="css"&&(i=Yle(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?yle[r.property]||r.property:r.attribute,n]}}function Kle(e,t){try{return Ple(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new On("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=aB+"#cannot-parse-style-attribute",i}}function lB(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let a=-1,o;for(;++a<i.length;){const s=XC(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};o=o?{type:"MemberExpression",object:o,property:s,computed:!!(a&&s.type==="Literal"),optional:!1}:s}r=o}else r=XC(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return hk.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);qu(e)}function qu(e,t){const n=new On("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=aB+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Yle(e){const t={};let n;for(n in e)hk.call(e,n)&&(t[Xle(n)]=e[n]);return t}function Xle(e){let t=e.replace(Rle,Qle);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Qle(e){return"-"+e.toLowerCase()}const Ly={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Jle={};function gk(e,t){const n=Jle,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return cB(e,r,i)}function cB(e,t,n){if(Zle(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return oP(e.children,t,n)}return Array.isArray(e)?oP(e,t,n):""}function oP(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=cB(e[i],t,n);return r.join("")}function Zle(e){return!!(e&&typeof e=="object")}const sP=document.createElement("i");function yk(e){const t="&"+e+";";sP.innerHTML=t;const n=sP.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function lr(e,t,n,r){const i=e.length;let a=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);a<r.length;)o=r.slice(a,a+1e4),o.unshift(t,0),e.splice(...o),a+=1e4,t+=1e4}function wr(e,t){return e.length>0?(lr(e,e.length,0,t),e):t}const lP={}.hasOwnProperty;function uB(e){const t={};let n=-1;for(;++n<e.length;)ece(t,e[n]);return t}function ece(e,t){let n;for(n in t){const i=(lP.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let o;if(a)for(o in a){lP.call(i,o)||(i[o]=[]);const s=a[o];tce(i[o],Array.isArray(s)?s:s?[s]:[])}}}function tce(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);lr(e,0,0,r)}function dB(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Jr(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const In=ro(/[A-Za-z]/),En=ro(/[\dA-Za-z]/),nce=ro(/[#-'*+\--9=?A-Z^-~]/);function Gh(e){return e!==null&&(e<32||e===127)}const O1=ro(/\d/),rce=ro(/[\dA-Fa-f]/),ice=ro(/[!-/:-@[-`{-~]/);function Me(e){return e!==null&&e<-2}function _t(e){return e!==null&&(e<0||e===32)}function Ze(e){return e===-2||e===-1||e===32}const Hm=ro(new RegExp("\\p{P}|\\p{S}","u")),Zo=ro(/\s/);function ro(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function ic(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let o="";if(a===37&&En(e.charCodeAt(n+1))&&En(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){const s=e.charCodeAt(n+1);a<56320&&s>56319&&s<57344?(o=String.fromCharCode(a,s),i=1):o=""}else o=String.fromCharCode(a);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function at(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return o;function o(l){return Ze(l)?(e.enter(n),s(l)):t(l)}function s(l){return Ze(l)&&a++<i?(e.consume(l),s):(e.exit(n),t(l))}}const ace={tokenize:oce};function oce(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),at(e,t,"linePrefix")}function i(s){return e.enter("paragraph"),a(s)}function a(s){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(s)}function o(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return Me(s)?(e.consume(s),e.exit("chunkText"),a):(e.consume(s),o)}}const sce={tokenize:lce},cP={tokenize:cce};function lce(e){const t=this,n=[];let r=0,i,a,o;return s;function s(x){if(r<n.length){const _=n[r];return t.containerState=_[1],e.attempt(_[0].continuation,l,c)(x)}return c(x)}function l(x){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&b();const _=t.events.length;let w=_,j;for(;w--;)if(t.events[w][0]==="exit"&&t.events[w][1].type==="chunkFlow"){j=t.events[w][1].end;break}v(r);let k=_;for(;k<t.events.length;)t.events[k][1].end={...j},k++;return lr(t.events,w+1,0,t.events.slice(_)),t.events.length=k,c(x)}return s(x)}function c(x){if(r===n.length){if(!i)return h(x);if(i.currentConstruct&&i.currentConstruct.concrete)return y(x);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(cP,d,f)(x)}function d(x){return i&&b(),v(r),h(x)}function f(x){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,y(x)}function h(x){return t.containerState={},e.attempt(cP,p,y)(x)}function p(x){return r++,n.push([t.currentConstruct,t.containerState]),h(x)}function y(x){if(x===null){i&&b(),v(0),e.consume(x);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),m(x)}function m(x){if(x===null){g(e.exit("chunkFlow"),!0),v(0),e.consume(x);return}return Me(x)?(e.consume(x),g(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(x),m)}function g(x,_){const w=t.sliceStream(x);if(_&&w.push(null),x.previous=a,a&&(a.next=x),a=x,i.defineSkip(x.start),i.write(w),t.parser.lazy[x.start.line]){let j=i.events.length;for(;j--;)if(i.events[j][1].start.offset<o&&(!i.events[j][1].end||i.events[j][1].end.offset>o))return;const k=t.events.length;let A=k,P,O;for(;A--;)if(t.events[A][0]==="exit"&&t.events[A][1].type==="chunkFlow"){if(P){O=t.events[A][1].end;break}P=!0}for(v(r),j=k;j<t.events.length;)t.events[j][1].end={...O},j++;lr(t.events,A+1,0,t.events.slice(k)),t.events.length=j}}function v(x){let _=n.length;for(;_-- >x;){const w=n[_];t.containerState=w[1],w[0].exit.call(t,e)}n.length=x}function b(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function cce(e,t,n){return at(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function dl(e){if(e===null||_t(e)||Zo(e))return 1;if(Hm(e))return 2}function Gm(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const C1={name:"attention",resolveAll:uce,tokenize:dce};function uce(e,t){let n=-1,r,i,a,o,s,l,c,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},h={...e[n][1].start};uP(f,-l),uP(h,l),o={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},s={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},a={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...s.end}},e[r][1].end={...o.start},e[n][1].start={...s.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=wr(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=wr(c,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",a,t]]),c=wr(c,Gm(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=wr(c,[["exit",a,t],["enter",s,t],["exit",s,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,c=wr(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,lr(e,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function dce(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=dl(r);let a;return o;function o(l){return a=l,e.enter("attentionSequence"),s(l)}function s(l){if(l===a)return e.consume(l),s;const c=e.exit("attentionSequence"),d=dl(l),f=!d||d===2&&i||n.includes(l),h=!i||i===2&&d||n.includes(r);return c._open=!!(a===42?f:f&&(i||!h)),c._close=!!(a===42?h:h&&(d||!f)),t(l)}}function uP(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const fce={name:"autolink",tokenize:hce};function hce(e,t,n){let r=0;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(p){return In(p)?(e.consume(p),o):p===64?n(p):c(p)}function o(p){return p===43||p===45||p===46||En(p)?(r=1,s(p)):c(p)}function s(p){return p===58?(e.consume(p),r=0,l):(p===43||p===45||p===46||En(p))&&r++<32?(e.consume(p),s):(r=0,c(p))}function l(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||Gh(p)?n(p):(e.consume(p),l)}function c(p){return p===64?(e.consume(p),d):nce(p)?(e.consume(p),c):n(p)}function d(p){return En(p)?f(p):n(p)}function f(p){return p===46?(e.consume(p),r=0,d):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):h(p)}function h(p){if((p===45||En(p))&&r++<63){const y=p===45?h:f;return e.consume(p),y}return n(p)}}const Wd={partial:!0,tokenize:pce};function pce(e,t,n){return r;function r(a){return Ze(a)?at(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||Me(a)?t(a):n(a)}}const fB={continuation:{tokenize:gce},exit:yce,name:"blockQuote",tokenize:mce};function mce(e,t,n){const r=this;return i;function i(o){if(o===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),a}return n(o)}function a(o){return Ze(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function gce(e,t,n){const r=this;return i;function i(o){return Ze(o)?at(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):a(o)}function a(o){return e.attempt(fB,t,n)(o)}}function yce(e){e.exit("blockQuote")}const hB={name:"characterEscape",tokenize:vce};function vce(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return ice(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const pB={name:"characterReference",tokenize:bce};function bce(e,t,n){const r=this;let i=0,a,o;return s;function s(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),a=31,o=En,d(f))}function c(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,o=rce,d):(e.enter("characterReferenceValue"),a=7,o=O1,d(f))}function d(f){if(f===59&&i){const h=e.exit("characterReferenceValue");return o===En&&!yk(r.sliceSerialize(h))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&i++<a?(e.consume(f),d):n(f)}}const dP={partial:!0,tokenize:wce},fP={concrete:!0,name:"codeFenced",tokenize:xce};function xce(e,t,n){const r=this,i={partial:!0,tokenize:w};let a=0,o=0,s;return l;function l(j){return c(j)}function c(j){const k=r.events[r.events.length-1];return a=k&&k[1].type==="linePrefix"?k[2].sliceSerialize(k[1],!0).length:0,s=j,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(j)}function d(j){return j===s?(o++,e.consume(j),d):o<3?n(j):(e.exit("codeFencedFenceSequence"),Ze(j)?at(e,f,"whitespace")(j):f(j))}function f(j){return j===null||Me(j)?(e.exit("codeFencedFence"),r.interrupt?t(j):e.check(dP,m,_)(j)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(j))}function h(j){return j===null||Me(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(j)):Ze(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),at(e,p,"whitespace")(j)):j===96&&j===s?n(j):(e.consume(j),h)}function p(j){return j===null||Me(j)?f(j):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),y(j))}function y(j){return j===null||Me(j)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(j)):j===96&&j===s?n(j):(e.consume(j),y)}function m(j){return e.attempt(i,_,g)(j)}function g(j){return e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),v}function v(j){return a>0&&Ze(j)?at(e,b,"linePrefix",a+1)(j):b(j)}function b(j){return j===null||Me(j)?e.check(dP,m,_)(j):(e.enter("codeFlowValue"),x(j))}function x(j){return j===null||Me(j)?(e.exit("codeFlowValue"),b(j)):(e.consume(j),x)}function _(j){return e.exit("codeFenced"),t(j)}function w(j,k,A){let P=0;return O;function O(R){return j.enter("lineEnding"),j.consume(R),j.exit("lineEnding"),T}function T(R){return j.enter("codeFencedFence"),Ze(R)?at(j,N,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):N(R)}function N(R){return R===s?(j.enter("codeFencedFenceSequence"),M(R)):A(R)}function M(R){return R===s?(P++,j.consume(R),M):P>=o?(j.exit("codeFencedFenceSequence"),Ze(R)?at(j,E,"whitespace")(R):E(R)):A(R)}function E(R){return R===null||Me(R)?(j.exit("codeFencedFence"),k(R)):A(R)}}}function wce(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a)}function a(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const zy={name:"codeIndented",tokenize:_ce},Sce={partial:!0,tokenize:jce};function _ce(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),at(e,a,"linePrefix",5)(c)}function a(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):Me(c)?e.attempt(Sce,o,l)(c):(e.enter("codeFlowValue"),s(c))}function s(c){return c===null||Me(c)?(e.exit("codeFlowValue"),o(c)):(e.consume(c),s)}function l(c){return e.exit("codeIndented"),t(c)}}function jce(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):Me(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):at(e,a,"linePrefix",5)(o)}function a(o){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):Me(o)?i(o):n(o)}}const kce={name:"codeText",previous:Ace,resolve:Ece,tokenize:Oce};function Ece(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function Ace(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Oce(e,t,n){let r=0,i,a;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),s(f)}function s(f){return f===96?(e.consume(f),r++,s):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(a=e.enter("codeTextSequence"),i=0,d(f)):Me(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||Me(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),c)}function d(f){return f===96?(e.consume(f),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(a.type="codeTextData",c(f))}}class Cce{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Pc(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Pc(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Pc(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Pc(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Pc(this.left,n.reverse())}}}function Pc(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function mB(e){const t={};let n=-1,r,i,a,o,s,l,c;const d=new Cce(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Pce(d,n)),n=t[n],c=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(o=d.get(a),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=a);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},s=d.slice(i,n),s.unshift(r),d.splice(i,n-i+1,s))}}return lr(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function Pce(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const a=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const s=o.events,l=[],c={};let d,f,h=-1,p=n,y=0,m=0;const g=[m];for(;p;){for(;e.get(++i)[1]!==p;);a.push(i),p._tokenizer||(d=r.sliceStream(p),p.next||d.push(null),f&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=p,p=p.next}for(p=n;++h<s.length;)s[h][0]==="exit"&&s[h-1][0]==="enter"&&s[h][1].type===s[h-1][1].type&&s[h][1].start.line!==s[h][1].end.line&&(m=h+1,g.push(m),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):g.pop(),h=g.length;h--;){const v=s.slice(g[h],g[h+1]),b=a.pop();l.push([b,b+v.length-1]),e.splice(b,2,v)}for(l.reverse(),h=-1;++h<l.length;)c[y+l[h][0]]=y+l[h][1],y+=l[h][1]-l[h][0]-1;return c}const Tce={resolve:Rce,tokenize:Ice},Nce={partial:!0,tokenize:Mce};function Rce(e){return mB(e),e}function Ice(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?a(s):Me(s)?e.check(Nce,o,a)(s):(e.consume(s),i)}function a(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function o(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Mce(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),at(e,a,"linePrefix")}function a(o){if(o===null||Me(o))return n(o);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function gB(e,t,n,r,i,a,o,s,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(v){return v===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(v),e.exit(a),h):v===null||v===32||v===41||Gh(v)?n(v):(e.enter(r),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),m(v))}function h(v){return v===62?(e.enter(a),e.consume(v),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===62?(e.exit("chunkString"),e.exit(s),h(v)):v===null||v===60||Me(v)?n(v):(e.consume(v),v===92?y:p)}function y(v){return v===60||v===62||v===92?(e.consume(v),p):p(v)}function m(v){return!d&&(v===null||v===41||_t(v))?(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(r),t(v)):d<c&&v===40?(e.consume(v),d++,m):v===41?(e.consume(v),d--,m):v===null||v===32||v===40||Gh(v)?n(v):(e.consume(v),v===92?g:m)}function g(v){return v===40||v===41||v===92?(e.consume(v),m):m(v)}}function yB(e,t,n,r,i,a){const o=this;let s=0,l;return c;function c(p){return e.enter(r),e.enter(i),e.consume(p),e.exit(i),e.enter(a),d}function d(p){return s>999||p===null||p===91||p===93&&!l||p===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?n(p):p===93?(e.exit(a),e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):Me(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===null||p===91||p===93||Me(p)||s++>999?(e.exit("chunkString"),d(p)):(e.consume(p),l||(l=!Ze(p)),p===92?h:f)}function h(p){return p===91||p===92||p===93?(e.consume(p),s++,f):f(p)}}function vB(e,t,n,r,i,a){let o;return s;function s(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),o=h===40?41:h,l):n(h)}function l(h){return h===o?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(a),c(h))}function c(h){return h===o?(e.exit(a),l(o)):h===null?n(h):Me(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),at(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===o||h===null||Me(h)?(e.exit("chunkString"),c(h)):(e.consume(h),h===92?f:d)}function f(h){return h===o||h===92?(e.consume(h),d):d(h)}}function uu(e,t){let n;return r;function r(i){return Me(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Ze(i)?at(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const Dce={name:"definition",tokenize:Lce},$ce={partial:!0,tokenize:zce};function Lce(e,t,n){const r=this;let i;return a;function a(p){return e.enter("definition"),o(p)}function o(p){return yB.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function s(p){return i=Jr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),l):n(p)}function l(p){return _t(p)?uu(e,c)(p):c(p)}function c(p){return gB(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function d(p){return e.attempt($ce,f,f)(p)}function f(p){return Ze(p)?at(e,h,"whitespace")(p):h(p)}function h(p){return p===null||Me(p)?(e.exit("definition"),r.parser.defined.push(i),t(p)):n(p)}}function zce(e,t,n){return r;function r(s){return _t(s)?uu(e,i)(s):n(s)}function i(s){return vB(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function a(s){return Ze(s)?at(e,o,"whitespace")(s):o(s)}function o(s){return s===null||Me(s)?t(s):n(s)}}const Fce={name:"hardBreakEscape",tokenize:Bce};function Bce(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return Me(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const qce={name:"headingAtx",resolve:Uce,tokenize:Vce};function Uce(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},lr(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function Vce(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),a(d)}function a(d){return e.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(e.consume(d),o):d===null||_t(d)?(e.exit("atxHeadingSequence"),s(d)):n(d)}function s(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||Me(d)?(e.exit("atxHeading"),t(d)):Ze(d)?at(e,s,"whitespace")(d):(e.enter("atxHeadingText"),c(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),s(d))}function c(d){return d===null||d===35||_t(d)?(e.exit("atxHeadingText"),s(d)):(e.consume(d),c)}}const Wce=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],hP=["pre","script","style","textarea"],Hce={concrete:!0,name:"htmlFlow",resolveTo:Yce,tokenize:Xce},Gce={partial:!0,tokenize:Jce},Kce={partial:!0,tokenize:Qce};function Yce(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Xce(e,t,n){const r=this;let i,a,o,s,l;return c;function c($){return d($)}function d($){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume($),f}function f($){return $===33?(e.consume($),h):$===47?(e.consume($),a=!0,m):$===63?(e.consume($),i=3,r.interrupt?t:D):In($)?(e.consume($),o=String.fromCharCode($),g):n($)}function h($){return $===45?(e.consume($),i=2,p):$===91?(e.consume($),i=5,s=0,y):In($)?(e.consume($),i=4,r.interrupt?t:D):n($)}function p($){return $===45?(e.consume($),r.interrupt?t:D):n($)}function y($){const Q="CDATA[";return $===Q.charCodeAt(s++)?(e.consume($),s===Q.length?r.interrupt?t:N:y):n($)}function m($){return In($)?(e.consume($),o=String.fromCharCode($),g):n($)}function g($){if($===null||$===47||$===62||_t($)){const Q=$===47,Z=o.toLowerCase();return!Q&&!a&&hP.includes(Z)?(i=1,r.interrupt?t($):N($)):Wce.includes(o.toLowerCase())?(i=6,Q?(e.consume($),v):r.interrupt?t($):N($)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n($):a?b($):x($))}return $===45||En($)?(e.consume($),o+=String.fromCharCode($),g):n($)}function v($){return $===62?(e.consume($),r.interrupt?t:N):n($)}function b($){return Ze($)?(e.consume($),b):O($)}function x($){return $===47?(e.consume($),O):$===58||$===95||In($)?(e.consume($),_):Ze($)?(e.consume($),x):O($)}function _($){return $===45||$===46||$===58||$===95||En($)?(e.consume($),_):w($)}function w($){return $===61?(e.consume($),j):Ze($)?(e.consume($),w):x($)}function j($){return $===null||$===60||$===61||$===62||$===96?n($):$===34||$===39?(e.consume($),l=$,k):Ze($)?(e.consume($),j):A($)}function k($){return $===l?(e.consume($),l=null,P):$===null||Me($)?n($):(e.consume($),k)}function A($){return $===null||$===34||$===39||$===47||$===60||$===61||$===62||$===96||_t($)?w($):(e.consume($),A)}function P($){return $===47||$===62||Ze($)?x($):n($)}function O($){return $===62?(e.consume($),T):n($)}function T($){return $===null||Me($)?N($):Ze($)?(e.consume($),T):n($)}function N($){return $===45&&i===2?(e.consume($),F):$===60&&i===1?(e.consume($),z):$===62&&i===4?(e.consume($),W):$===63&&i===3?(e.consume($),D):$===93&&i===5?(e.consume($),L):Me($)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(Gce,B,M)($)):$===null||Me($)?(e.exit("htmlFlowData"),M($)):(e.consume($),N)}function M($){return e.check(Kce,E,B)($)}function E($){return e.enter("lineEnding"),e.consume($),e.exit("lineEnding"),R}function R($){return $===null||Me($)?M($):(e.enter("htmlFlowData"),N($))}function F($){return $===45?(e.consume($),D):N($)}function z($){return $===47?(e.consume($),o="",q):N($)}function q($){if($===62){const Q=o.toLowerCase();return hP.includes(Q)?(e.consume($),W):N($)}return In($)&&o.length<8?(e.consume($),o+=String.fromCharCode($),q):N($)}function L($){return $===93?(e.consume($),D):N($)}function D($){return $===62?(e.consume($),W):$===45&&i===2?(e.consume($),D):N($)}function W($){return $===null||Me($)?(e.exit("htmlFlowData"),B($)):(e.consume($),W)}function B($){return e.exit("htmlFlow"),t($)}}function Qce(e,t,n){const r=this;return i;function i(o){return Me(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):n(o)}function a(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function Jce(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Wd,t,n)}}const Zce={name:"htmlText",tokenize:eue};function eue(e,t,n){const r=this;let i,a,o;return s;function s(D){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(D),l}function l(D){return D===33?(e.consume(D),c):D===47?(e.consume(D),w):D===63?(e.consume(D),x):In(D)?(e.consume(D),A):n(D)}function c(D){return D===45?(e.consume(D),d):D===91?(e.consume(D),a=0,y):In(D)?(e.consume(D),b):n(D)}function d(D){return D===45?(e.consume(D),p):n(D)}function f(D){return D===null?n(D):D===45?(e.consume(D),h):Me(D)?(o=f,z(D)):(e.consume(D),f)}function h(D){return D===45?(e.consume(D),p):f(D)}function p(D){return D===62?F(D):D===45?h(D):f(D)}function y(D){const W="CDATA[";return D===W.charCodeAt(a++)?(e.consume(D),a===W.length?m:y):n(D)}function m(D){return D===null?n(D):D===93?(e.consume(D),g):Me(D)?(o=m,z(D)):(e.consume(D),m)}function g(D){return D===93?(e.consume(D),v):m(D)}function v(D){return D===62?F(D):D===93?(e.consume(D),v):m(D)}function b(D){return D===null||D===62?F(D):Me(D)?(o=b,z(D)):(e.consume(D),b)}function x(D){return D===null?n(D):D===63?(e.consume(D),_):Me(D)?(o=x,z(D)):(e.consume(D),x)}function _(D){return D===62?F(D):x(D)}function w(D){return In(D)?(e.consume(D),j):n(D)}function j(D){return D===45||En(D)?(e.consume(D),j):k(D)}function k(D){return Me(D)?(o=k,z(D)):Ze(D)?(e.consume(D),k):F(D)}function A(D){return D===45||En(D)?(e.consume(D),A):D===47||D===62||_t(D)?P(D):n(D)}function P(D){return D===47?(e.consume(D),F):D===58||D===95||In(D)?(e.consume(D),O):Me(D)?(o=P,z(D)):Ze(D)?(e.consume(D),P):F(D)}function O(D){return D===45||D===46||D===58||D===95||En(D)?(e.consume(D),O):T(D)}function T(D){return D===61?(e.consume(D),N):Me(D)?(o=T,z(D)):Ze(D)?(e.consume(D),T):P(D)}function N(D){return D===null||D===60||D===61||D===62||D===96?n(D):D===34||D===39?(e.consume(D),i=D,M):Me(D)?(o=N,z(D)):Ze(D)?(e.consume(D),N):(e.consume(D),E)}function M(D){return D===i?(e.consume(D),i=void 0,R):D===null?n(D):Me(D)?(o=M,z(D)):(e.consume(D),M)}function E(D){return D===null||D===34||D===39||D===60||D===61||D===96?n(D):D===47||D===62||_t(D)?P(D):(e.consume(D),E)}function R(D){return D===47||D===62||_t(D)?P(D):n(D)}function F(D){return D===62?(e.consume(D),e.exit("htmlTextData"),e.exit("htmlText"),t):n(D)}function z(D){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(D),e.exit("lineEnding"),q}function q(D){return Ze(D)?at(e,L,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):L(D)}function L(D){return e.enter("htmlTextData"),o(D)}}const vk={name:"labelEnd",resolveAll:iue,resolveTo:aue,tokenize:oue},tue={tokenize:sue},nue={tokenize:lue},rue={tokenize:cue};function iue(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&lr(e,0,e.length,n),e}function aue(e,t){let n=e.length,r=0,i,a,o,s;for(;n--;)if(i=e[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[a][1].start},end:{...e[o][1].end}},d={type:"labelText",start:{...e[a+r+2][1].end},end:{...e[o-2][1].start}};return s=[["enter",l,t],["enter",c,t]],s=wr(s,e.slice(a+1,a+r+3)),s=wr(s,[["enter",d,t]]),s=wr(s,Gm(t.parser.constructs.insideSpan.null,e.slice(a+r+4,o-3),t)),s=wr(s,[["exit",d,t],e[o-2],e[o-1],["exit",c,t]]),s=wr(s,e.slice(o+1)),s=wr(s,[["exit",l,t]]),lr(e,a,e.length,s),e}function oue(e,t,n){const r=this;let i=r.events.length,a,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return s;function s(h){return a?a._inactive?f(h):(o=r.parser.defined.includes(Jr(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),l):n(h)}function l(h){return h===40?e.attempt(tue,d,o?d:f)(h):h===91?e.attempt(nue,d,o?c:f)(h):o?d(h):f(h)}function c(h){return e.attempt(rue,d,f)(h)}function d(h){return t(h)}function f(h){return a._balanced=!0,n(h)}}function sue(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return _t(f)?uu(e,a)(f):a(f)}function a(f){return f===41?d(f):gB(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return _t(f)?uu(e,l)(f):d(f)}function s(f){return n(f)}function l(f){return f===34||f===39||f===40?vB(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function c(f){return _t(f)?uu(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function lue(e,t,n){const r=this;return i;function i(s){return yB.call(r,e,a,o,"reference","referenceMarker","referenceString")(s)}function a(s){return r.parser.defined.includes(Jr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function o(s){return n(s)}}function cue(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const uue={name:"labelStartImage",resolveAll:vk.resolveAll,tokenize:due};function due(e,t,n){const r=this;return i;function i(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),a}function a(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),o):n(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const fue={name:"labelStartLink",resolveAll:vk.resolveAll,tokenize:hue};function hue(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),a}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const Fy={name:"lineEnding",tokenize:pue};function pue(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),at(e,t,"linePrefix")}}const dh={name:"thematicBreak",tokenize:mue};function mue(e,t,n){let r=0,i;return a;function a(c){return e.enter("thematicBreak"),o(c)}function o(c){return i=c,s(c)}function s(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||Me(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===i?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),Ze(c)?at(e,s,"whitespace")(c):s(c))}}const qn={continuation:{tokenize:bue},exit:wue,name:"list",tokenize:vue},gue={partial:!0,tokenize:Sue},yue={partial:!0,tokenize:xue};function vue(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return s;function s(p){const y=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(y==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:O1(p)){if(r.containerState.type||(r.containerState.type=y,e.enter(y,{_container:!0})),y==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(dh,n,c)(p):c(p);if(!r.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(p)}return n(p)}function l(p){return O1(p)&&++o<10?(e.consume(p),l):(!r.interrupt||o<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),c(p)):n(p)}function c(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,e.check(Wd,r.interrupt?n:d,e.attempt(gue,h,f))}function d(p){return r.containerState.initialBlankLine=!0,a++,h(p)}function f(p){return Ze(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),h):n(p)}function h(p){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}function bue(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Wd,i,a);function i(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,at(e,t,"listItemIndent",r.containerState.size+1)(s)}function a(s){return r.containerState.furtherBlankLines||!Ze(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(yue,t,o)(s))}function o(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,at(e,e.attempt(qn,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function xue(e,t,n){const r=this;return at(e,i,"listItemIndent",r.containerState.size+1);function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(a):n(a)}}function wue(e){e.exit(this.containerState.type)}function Sue(e,t,n){const r=this;return at(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const o=r.events[r.events.length-1];return!Ze(a)&&o&&o[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const pP={name:"setextUnderline",resolveTo:_ue,tokenize:jue};function _ue(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",o,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end={...e[a][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function jue(e,t,n){const r=this;let i;return a;function a(c){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return e.enter("setextHeadingLineSequence"),s(c)}function s(c){return c===i?(e.consume(c),s):(e.exit("setextHeadingLineSequence"),Ze(c)?at(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||Me(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const kue={tokenize:Eue};function Eue(e){const t=this,n=e.attempt(Wd,r,e.attempt(this.parser.constructs.flowInitial,i,at(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Tce,i)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Aue={resolveAll:xB()},Oue=bB("string"),Cue=bB("text");function bB(e){return{resolveAll:xB(e==="text"?Pue:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],a=n.attempt(i,o,s);return o;function o(d){return c(d)?a(d):s(d)}function s(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return c(d)?(n.exit("data"),a(d)):(n.consume(d),l)}function c(d){if(d===null)return!0;const f=i[d];let h=-1;if(f)for(;++h<f.length;){const p=f[h];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function xB(e){return t;function t(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(n,r):n}}function Pue(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let a=i.length,o=-1,s=0,l;for(;a--;){const c=i[a];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(c===-2)l=!0,s++;else if(c!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(s=0),s){const c={type:n===e.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?o:r.start._bufferIndex+o,_index:r.start._index+a,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const Tue={42:qn,43:qn,45:qn,48:qn,49:qn,50:qn,51:qn,52:qn,53:qn,54:qn,55:qn,56:qn,57:qn,62:fB},Nue={91:Dce},Rue={[-2]:zy,[-1]:zy,32:zy},Iue={35:qce,42:dh,45:[pP,dh],60:Hce,61:pP,95:dh,96:fP,126:fP},Mue={38:pB,92:hB},Due={[-5]:Fy,[-4]:Fy,[-3]:Fy,33:uue,38:pB,42:C1,60:[fce,Zce],91:fue,92:[Fce,hB],93:vk,95:C1,96:kce},$ue={null:[C1,Aue]},Lue={null:[42,95]},zue={null:[]},Fue=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Lue,contentInitial:Nue,disable:zue,document:Tue,flow:Iue,flowInitial:Rue,insideSpan:$ue,string:Mue,text:Due},Symbol.toStringTag,{value:"Module"}));function Bue(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let o=[],s=[];const l={attempt:k(w),check:k(j),consume:b,enter:x,exit:_,interrupt:k(j,{interrupt:!0})},c={code:null,containerState:{},defineSkip:m,events:[],now:y,parser:e,previous:null,sliceSerialize:h,sliceStream:p,write:f};let d=t.tokenize.call(c,l);return t.resolveAll&&a.push(t),c;function f(T){return o=wr(o,T),g(),o[o.length-1]!==null?[]:(A(t,0),c.events=Gm(a,c.events,c),c.events)}function h(T,N){return Uue(p(T),N)}function p(T){return que(o,T)}function y(){const{_bufferIndex:T,_index:N,line:M,column:E,offset:R}=r;return{_bufferIndex:T,_index:N,line:M,column:E,offset:R}}function m(T){i[T.line]=T.column,O()}function g(){let T;for(;r._index<o.length;){const N=o[r._index];if(typeof N=="string")for(T=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===T&&r._bufferIndex<N.length;)v(N.charCodeAt(r._bufferIndex));else v(N)}}function v(T){d=d(T)}function b(T){Me(T)?(r.line++,r.column=1,r.offset+=T===-3?2:1,O()):T!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=T}function x(T,N){const M=N||{};return M.type=T,M.start=y(),c.events.push(["enter",M,c]),s.push(M),M}function _(T){const N=s.pop();return N.end=y(),c.events.push(["exit",N,c]),N}function w(T,N){A(T,N.from)}function j(T,N){N.restore()}function k(T,N){return M;function M(E,R,F){let z,q,L,D;return Array.isArray(E)?B(E):"tokenize"in E?B([E]):W(E);function W(fe){return le;function le(ue){const ee=ue!==null&&fe[ue],te=ue!==null&&fe.null,ce=[...Array.isArray(ee)?ee:ee?[ee]:[],...Array.isArray(te)?te:te?[te]:[]];return B(ce)(ue)}}function B(fe){return z=fe,q=0,fe.length===0?F:$(fe[q])}function $(fe){return le;function le(ue){return D=P(),L=fe,fe.partial||(c.currentConstruct=fe),fe.name&&c.parser.constructs.disable.null.includes(fe.name)?Z():fe.tokenize.call(N?Object.assign(Object.create(c),N):c,l,Q,Z)(ue)}}function Q(fe){return T(L,D),R}function Z(fe){return D.restore(),++q<z.length?$(z[q]):F}}}function A(T,N){T.resolveAll&&!a.includes(T)&&a.push(T),T.resolve&&lr(c.events,N,c.events.length-N,T.resolve(c.events.slice(N),c)),T.resolveTo&&(c.events=T.resolveTo(c.events,c))}function P(){const T=y(),N=c.previous,M=c.currentConstruct,E=c.events.length,R=Array.from(s);return{from:E,restore:F};function F(){r=T,c.previous=N,c.currentConstruct=M,c.events.length=E,s=R,O()}}function O(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function que(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,a)];else{if(o=e.slice(n,i),r>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(r):o.shift()}a>0&&o.push(e[i].slice(0,a))}return o}function Uue(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let o;if(typeof a=="string")o=a;else switch(a){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(a)}i=a===-2,r.push(o)}return r.join("")}function Vue(e){const r={constructs:uB([Fue,...(e||{}).extensions||[]]),content:i(ace),defined:[],document:i(sce),flow:i(kue),lazy:{},string:i(Oue),text:i(Cue)};return r;function i(a){return o;function o(s){return Bue(r,a,s)}}}function Wue(e){for(;!mB(e););return e}const mP=/[\0\t\n\r]/g;function Hue(){let e=1,t="",n=!0,r;return i;function i(a,o,s){const l=[];let c,d,f,h,p;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(o||void 0).decode(a)),f=0,t="",n&&(a.charCodeAt(0)===65279&&f++,n=void 0);f<a.length;){if(mP.lastIndex=f,c=mP.exec(a),h=c&&c.index!==void 0?c.index:a.length,p=a.charCodeAt(h),!c){t=a.slice(f);break}if(p===10&&f===h&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<h&&(l.push(a.slice(f,h)),e+=h-f),p){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=h+1}return s&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const Gue=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Kue(e){return e.replace(Gue,Yue)}function Yue(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return dB(n.slice(a?2:1),a?16:10)}return yk(n)||e}const wB={}.hasOwnProperty;function Xue(e,t,n){return typeof t!="string"&&(n=t,t=void 0),Que(n)(Wue(Vue(n).document().write(Hue()(e,t,!0))))}function Que(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(K),autolinkProtocol:P,autolinkEmail:P,atxHeading:a(G),blockQuote:a(te),characterEscape:P,characterReference:P,codeFenced:a(ce),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:a(ce,o),codeText:a(J,o),codeTextData:P,data:P,codeFlowValue:P,definition:a(re),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:a(C),hardBreakEscape:a(H),hardBreakTrailing:a(H),htmlFlow:a(V,o),htmlFlowData:P,htmlText:a(V,o),htmlTextData:P,image:a(U),label:o,link:a(K),listItem:a(ne),listItemValue:h,listOrdered:a(ie,f),listUnordered:a(ie),paragraph:a(X),reference:$,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:a(G),strong:a(de),thematicBreak:a(he)},exit:{atxHeading:l(),atxHeadingSequence:w,autolink:l(),autolinkEmail:ee,autolinkProtocol:ue,blockQuote:l(),characterEscapeValue:O,characterReferenceMarkerHexadecimal:Z,characterReferenceMarkerNumeric:Z,characterReferenceValue:fe,characterReference:le,codeFenced:l(g),codeFencedFence:m,codeFencedFenceInfo:p,codeFencedFenceMeta:y,codeFlowValue:O,codeIndented:l(v),codeText:l(R),codeTextData:O,data:O,definition:l(),definitionDestinationString:_,definitionLabelString:b,definitionTitleString:x,emphasis:l(),hardBreakEscape:l(N),hardBreakTrailing:l(N),htmlFlow:l(M),htmlFlowData:O,htmlText:l(E),htmlTextData:O,image:l(z),label:L,labelText:q,lineEnding:T,link:l(F),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:Q,resourceDestinationString:D,resourceTitleString:W,resource:B,setextHeading:l(A),setextHeadingLineSequence:k,setextHeadingText:j,strong:l(),thematicBreak:l()}};SB(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Y){let oe={type:"root",children:[]};const ye={stack:[oe],tokenStack:[],config:t,enter:s,exit:c,buffer:o,resume:d,data:n},Pe=[];let Ue=-1;for(;++Ue<Y.length;)if(Y[Ue][1].type==="listOrdered"||Y[Ue][1].type==="listUnordered")if(Y[Ue][0]==="enter")Pe.push(Ue);else{const Ke=Pe.pop();Ue=i(Y,Ke,Ue)}for(Ue=-1;++Ue<Y.length;){const Ke=t[Y[Ue][0]];wB.call(Ke,Y[Ue][1].type)&&Ke[Y[Ue][1].type].call(Object.assign({sliceSerialize:Y[Ue][2].sliceSerialize},ye),Y[Ue][1])}if(ye.tokenStack.length>0){const Ke=ye.tokenStack[ye.tokenStack.length-1];(Ke[1]||gP).call(ye,void 0,Ke[0])}for(oe.position={start:ya(Y.length>0?Y[0][1].start:{line:1,column:1,offset:0}),end:ya(Y.length>0?Y[Y.length-2][1].end:{line:1,column:1,offset:0})},Ue=-1;++Ue<t.transforms.length;)oe=t.transforms[Ue](oe)||oe;return oe}function i(Y,oe,ye){let Pe=oe-1,Ue=-1,Ke=!1,Mt,Ye,zt,un;for(;++Pe<=ye;){const nt=Y[Pe];switch(nt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{nt[0]==="enter"?Ue++:Ue--,un=void 0;break}case"lineEndingBlank":{nt[0]==="enter"&&(Mt&&!un&&!Ue&&!zt&&(zt=Pe),un=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:un=void 0}if(!Ue&&nt[0]==="enter"&&nt[1].type==="listItemPrefix"||Ue===-1&&nt[0]==="exit"&&(nt[1].type==="listUnordered"||nt[1].type==="listOrdered")){if(Mt){let Cn=Pe;for(Ye=void 0;Cn--;){const ke=Y[Cn];if(ke[1].type==="lineEnding"||ke[1].type==="lineEndingBlank"){if(ke[0]==="exit")continue;Ye&&(Y[Ye][1].type="lineEndingBlank",Ke=!0),ke[1].type="lineEnding",Ye=Cn}else if(!(ke[1].type==="linePrefix"||ke[1].type==="blockQuotePrefix"||ke[1].type==="blockQuotePrefixWhitespace"||ke[1].type==="blockQuoteMarker"||ke[1].type==="listItemIndent"))break}zt&&(!Ye||zt<Ye)&&(Mt._spread=!0),Mt.end=Object.assign({},Ye?Y[Ye][1].start:nt[1].end),Y.splice(Ye||Pe,0,["exit",Mt,nt[2]]),Pe++,ye++}if(nt[1].type==="listItemPrefix"){const Cn={type:"listItem",_spread:!1,start:Object.assign({},nt[1].start),end:void 0};Mt=Cn,Y.splice(Pe,0,["enter",Cn,nt[2]]),Pe++,ye++,zt=void 0,un=!0}}}return Y[oe][1]._spread=Ke,ye}function a(Y,oe){return ye;function ye(Pe){s.call(this,Y(Pe),Pe),oe&&oe.call(this,Pe)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(Y,oe,ye){this.stack[this.stack.length-1].children.push(Y),this.stack.push(Y),this.tokenStack.push([oe,ye||void 0]),Y.position={start:ya(oe.start),end:void 0}}function l(Y){return oe;function oe(ye){Y&&Y.call(this,ye),c.call(this,ye)}}function c(Y,oe){const ye=this.stack.pop(),Pe=this.tokenStack.pop();if(Pe)Pe[0].type!==Y.type&&(oe?oe.call(this,Y,Pe[0]):(Pe[1]||gP).call(this,Y,Pe[0]));else throw new Error("Cannot close `"+Y.type+"` ("+cu({start:Y.start,end:Y.end})+"): its not open");ye.position.end=ya(Y.end)}function d(){return gk(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function h(Y){if(this.data.expectingFirstListItemValue){const oe=this.stack[this.stack.length-2];oe.start=Number.parseInt(this.sliceSerialize(Y),10),this.data.expectingFirstListItemValue=void 0}}function p(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.lang=Y}function y(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.meta=Y}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function g(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Y.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Y.replace(/(\r?\n|\r)$/g,"")}function b(Y){const oe=this.resume(),ye=this.stack[this.stack.length-1];ye.label=oe,ye.identifier=Jr(this.sliceSerialize(Y)).toLowerCase()}function x(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.title=Y}function _(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.url=Y}function w(Y){const oe=this.stack[this.stack.length-1];if(!oe.depth){const ye=this.sliceSerialize(Y).length;oe.depth=ye}}function j(){this.data.setextHeadingSlurpLineEnding=!0}function k(Y){const oe=this.stack[this.stack.length-1];oe.depth=this.sliceSerialize(Y).codePointAt(0)===61?1:2}function A(){this.data.setextHeadingSlurpLineEnding=void 0}function P(Y){const ye=this.stack[this.stack.length-1].children;let Pe=ye[ye.length-1];(!Pe||Pe.type!=="text")&&(Pe=ve(),Pe.position={start:ya(Y.start),end:void 0},ye.push(Pe)),this.stack.push(Pe)}function O(Y){const oe=this.stack.pop();oe.value+=this.sliceSerialize(Y),oe.position.end=ya(Y.end)}function T(Y){const oe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ye=oe.children[oe.children.length-1];ye.position.end=ya(Y.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(oe.type)&&(P.call(this,Y),O.call(this,Y))}function N(){this.data.atHardBreak=!0}function M(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Y}function E(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Y}function R(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Y}function F(){const Y=this.stack[this.stack.length-1];if(this.data.inReference){const oe=this.data.referenceType||"shortcut";Y.type+="Reference",Y.referenceType=oe,delete Y.url,delete Y.title}else delete Y.identifier,delete Y.label;this.data.referenceType=void 0}function z(){const Y=this.stack[this.stack.length-1];if(this.data.inReference){const oe=this.data.referenceType||"shortcut";Y.type+="Reference",Y.referenceType=oe,delete Y.url,delete Y.title}else delete Y.identifier,delete Y.label;this.data.referenceType=void 0}function q(Y){const oe=this.sliceSerialize(Y),ye=this.stack[this.stack.length-2];ye.label=Kue(oe),ye.identifier=Jr(oe).toLowerCase()}function L(){const Y=this.stack[this.stack.length-1],oe=this.resume(),ye=this.stack[this.stack.length-1];if(this.data.inReference=!0,ye.type==="link"){const Pe=Y.children;ye.children=Pe}else ye.alt=oe}function D(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.url=Y}function W(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.title=Y}function B(){this.data.inReference=void 0}function $(){this.data.referenceType="collapsed"}function Q(Y){const oe=this.resume(),ye=this.stack[this.stack.length-1];ye.label=oe,ye.identifier=Jr(this.sliceSerialize(Y)).toLowerCase(),this.data.referenceType="full"}function Z(Y){this.data.characterReferenceType=Y.type}function fe(Y){const oe=this.sliceSerialize(Y),ye=this.data.characterReferenceType;let Pe;ye?(Pe=dB(oe,ye==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Pe=yk(oe);const Ue=this.stack[this.stack.length-1];Ue.value+=Pe}function le(Y){const oe=this.stack.pop();oe.position.end=ya(Y.end)}function ue(Y){O.call(this,Y);const oe=this.stack[this.stack.length-1];oe.url=this.sliceSerialize(Y)}function ee(Y){O.call(this,Y);const oe=this.stack[this.stack.length-1];oe.url="mailto:"+this.sliceSerialize(Y)}function te(){return{type:"blockquote",children:[]}}function ce(){return{type:"code",lang:null,meta:null,value:""}}function J(){return{type:"inlineCode",value:""}}function re(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function C(){return{type:"emphasis",children:[]}}function G(){return{type:"heading",depth:0,children:[]}}function H(){return{type:"break"}}function V(){return{type:"html",value:""}}function U(){return{type:"image",title:null,url:"",alt:null}}function K(){return{type:"link",title:null,url:"",children:[]}}function ie(Y){return{type:"list",ordered:Y.type==="listOrdered",start:null,spread:Y._spread,children:[]}}function ne(Y){return{type:"listItem",spread:Y._spread,checked:null,children:[]}}function X(){return{type:"paragraph",children:[]}}function de(){return{type:"strong",children:[]}}function ve(){return{type:"text",value:""}}function he(){return{type:"thematicBreak"}}}function ya(e){return{line:e.line,column:e.column,offset:e.offset}}function SB(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?SB(e,r):Jue(e,r)}}function Jue(e,t){let n;for(n in t)if(wB.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function gP(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+cu({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+cu({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+cu({start:t.start,end:t.end})+") is still open")}function Zue(e){const t=this;t.parser=n;function n(r){return Xue(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function ede(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function tde(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function nde(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function rde(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ide(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ade(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=ic(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let o,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=a+1,s+=1,e.footnoteCounts.set(r,s);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function ode(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function sde(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function _B(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function lde(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return _B(e,t);const i={src:ic(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function cde(e,t){const n={src:ic(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function ude(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function dde(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return _B(e,t);const i={href:ic(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function fde(e,t){const n={href:ic(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function hde(e,t,n){const r=e.all(t),i=n?pde(n):jB(t),a={},o=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const d=r[s];(i||s!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?o.push(...d.children):o.push(d)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:a,children:o};return e.patch(t,c),e.applyData(t,c)}function pde(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=jB(n[r])}return t}function jB(e){const t=e.spread;return t??e.children.length>1}function mde(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function gde(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function yde(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function vde(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function bde(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=fk(t.children[1]),l=rB(t.children[t.children.length-1]);s&&l&&(o.position={start:s,end:l}),i.push(o)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function xde(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,s=o?o.length:t.children.length;let l=-1;const c=[];for(;++l<s;){const f=t.children[l],h={},p=o?o[l]:void 0;p&&(h.align=p);let y={type:"element",tagName:a,properties:h,children:[]};f&&(y.children=e.all(f),e.patch(f,y),y=e.applyData(f,y)),c.push(y)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,d),e.applyData(t,d)}function wde(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const yP=9,vP=32;function Sde(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const a=[];for(;r;)a.push(bP(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(bP(t.slice(i),i>0,!1)),a.join("")}function bP(e,t,n){let r=0,i=e.length;if(t){let a=e.codePointAt(r);for(;a===yP||a===vP;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(i-1);for(;a===yP||a===vP;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function _de(e,t){const n={type:"text",value:Sde(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function jde(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const kde={blockquote:ede,break:tde,code:nde,delete:rde,emphasis:ide,footnoteReference:ade,heading:ode,html:sde,imageReference:lde,image:cde,inlineCode:ude,linkReference:dde,link:fde,listItem:hde,list:mde,paragraph:gde,root:yde,strong:vde,table:bde,tableCell:wde,tableRow:xde,text:_de,thematicBreak:jde,toml:Pf,yaml:Pf,definition:Pf,footnoteDefinition:Pf};function Pf(){}const kB=-1,Km=0,du=1,Kh=2,bk=3,xk=4,wk=5,Sk=6,EB=7,AB=8,xP=typeof self=="object"?self:globalThis,Ede=(e,t)=>{const n=(i,a)=>(e.set(a,i),i),r=i=>{if(e.has(i))return e.get(i);const[a,o]=t[i];switch(a){case Km:case kB:return n(o,i);case du:{const s=n([],i);for(const l of o)s.push(r(l));return s}case Kh:{const s=n({},i);for(const[l,c]of o)s[r(l)]=r(c);return s}case bk:return n(new Date(o),i);case xk:{const{source:s,flags:l}=o;return n(new RegExp(s,l),i)}case wk:{const s=n(new Map,i);for(const[l,c]of o)s.set(r(l),r(c));return s}case Sk:{const s=n(new Set,i);for(const l of o)s.add(r(l));return s}case EB:{const{name:s,message:l}=o;return n(new xP[s](l),i)}case AB:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:s}=new Uint8Array(o);return n(new DataView(s),o)}}return n(new xP[a](o),i)};return r},wP=e=>Ede(new Map,e)(0),ks="",{toString:Ade}={},{keys:Ode}=Object,Tc=e=>{const t=typeof e;if(t!=="object"||!e)return[Km,t];const n=Ade.call(e).slice(8,-1);switch(n){case"Array":return[du,ks];case"Object":return[Kh,ks];case"Date":return[bk,ks];case"RegExp":return[xk,ks];case"Map":return[wk,ks];case"Set":return[Sk,ks];case"DataView":return[du,n]}return n.includes("Array")?[du,n]:n.includes("Error")?[EB,n]:[Kh,n]},Tf=([e,t])=>e===Km&&(t==="function"||t==="symbol"),Cde=(e,t,n,r)=>{const i=(o,s)=>{const l=r.push(o)-1;return n.set(s,l),l},a=o=>{if(n.has(o))return n.get(o);let[s,l]=Tc(o);switch(s){case Km:{let d=o;switch(l){case"bigint":s=AB,d=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([kB],o)}return i([s,d],o)}case du:{if(l){let h=o;return l==="DataView"?h=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(h=new Uint8Array(o)),i([l,[...h]],o)}const d=[],f=i([s,d],o);for(const h of o)d.push(a(h));return f}case Kh:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(t&&"toJSON"in o)return a(o.toJSON());const d=[],f=i([s,d],o);for(const h of Ode(o))(e||!Tf(Tc(o[h])))&&d.push([a(h),a(o[h])]);return f}case bk:return i([s,o.toISOString()],o);case xk:{const{source:d,flags:f}=o;return i([s,{source:d,flags:f}],o)}case wk:{const d=[],f=i([s,d],o);for(const[h,p]of o)(e||!(Tf(Tc(h))||Tf(Tc(p))))&&d.push([a(h),a(p)]);return f}case Sk:{const d=[],f=i([s,d],o);for(const h of o)(e||!Tf(Tc(h)))&&d.push(a(h));return f}}const{message:c}=o;return i([s,{name:l,message:c}],o)};return a},SP=(e,{json:t,lossy:n}={})=>{const r=[];return Cde(!(t||n),!!t,new Map,r)(e),r},Yh=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?wP(SP(e,t)):structuredClone(e):(e,t)=>wP(SP(e,t));function Pde(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Tde(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Nde(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Pde,r=e.options.footnoteBackLabel||Tde,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const d=e.all(c),f=String(c.identifier).toUpperCase(),h=ic(f.toLowerCase());let p=0;const y=[],m=e.footnoteCounts.get(f);for(;m!==void 0&&++p<=m;){y.length>0&&y.push({type:"text",value:" "});let b=typeof n=="string"?n:n(l,p);typeof b=="string"&&(b={type:"text",value:b}),y.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,p),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const g=d[d.length-1];if(g&&g.type==="element"&&g.tagName==="p"){const b=g.children[g.children.length-1];b&&b.type==="text"?b.value+=" ":g.children.push({type:"text",value:" "}),g.children.push(...y)}else d.push(...y);const v={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(d,!0)};e.patch(c,v),s.push(v)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Yh(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const Ym=(function(e){if(e==null)return Dde;if(typeof e=="function")return Xm(e);if(typeof e=="object")return Array.isArray(e)?Rde(e):Ide(e);if(typeof e=="string")return Mde(e);throw new Error("Expected function, string, or object as test")});function Rde(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Ym(e[n]);return Xm(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function Ide(e){const t=e;return Xm(n);function n(r){const i=r;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function Mde(e){return Xm(t);function t(n){return n&&n.type===e}}function Xm(e){return t;function t(n,r,i){return!!($de(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Dde(){return!0}function $de(e){return e!==null&&typeof e=="object"&&"type"in e}const OB=[],Lde=!0,P1=!1,zde="skip";function CB(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const a=Ym(i),o=r?-1:1;s(e,void 0,[])();function s(l,c,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const p=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return h;function h(){let p=OB,y,m,g;if((!t||a(l,c,d[d.length-1]||void 0))&&(p=Fde(n(l,d)),p[0]===P1))return p;if("children"in l&&l.children){const v=l;if(v.children&&p[0]!==zde)for(m=(r?v.children.length:-1)+o,g=d.concat(v);m>-1&&m<v.children.length;){const b=v.children[m];if(y=s(b,m,g)(),y[0]===P1)return y;m=typeof y[1]=="number"?y[1]:m+o}}return p}}}function Fde(e){return Array.isArray(e)?e:typeof e=="number"?[Lde,e]:e==null?OB:[e]}function _k(e,t,n,r){let i,a,o;typeof t=="function"&&typeof n!="function"?(a=void 0,o=t,i=n):(a=t,o=n,i=r),CB(e,a,s,i);function s(l,c){const d=c[c.length-1],f=d?d.children.indexOf(l):void 0;return o(l,f,d)}}const T1={}.hasOwnProperty,Bde={};function qde(e,t){const n=t||Bde,r=new Map,i=new Map,a=new Map,o={...kde,...n.handlers},s={all:c,applyData:Vde,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:o,one:l,options:n,patch:Ude,wrap:Hde};return _k(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,h=String(d.identifier).toUpperCase();f.has(h)||f.set(h,d)}}),s;function l(d,f){const h=d.type,p=s.handlers[h];if(T1.call(s.handlers,h)&&p)return p(s,d,f);if(s.options.passThrough&&s.options.passThrough.includes(h)){if("children"in d){const{children:m,...g}=d,v=Yh(g);return v.children=s.all(d),v}return Yh(d)}return(s.options.unknownHandler||Wde)(s,d,f)}function c(d){const f=[];if("children"in d){const h=d.children;let p=-1;for(;++p<h.length;){const y=s.one(h[p],d);if(y){if(p&&h[p-1].type==="break"&&(!Array.isArray(y)&&y.type==="text"&&(y.value=_P(y.value)),!Array.isArray(y)&&y.type==="element")){const m=y.children[0];m&&m.type==="text"&&(m.value=_P(m.value))}Array.isArray(y)?f.push(...y):f.push(y)}}}return f}}function Ude(e,t){e.position&&(t.position=Tle(e))}function Vde(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&a&&Object.assign(n.properties,Yh(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Wde(e,t){const n=t.data||{},r="value"in t&&!(T1.call(n,"hProperties")||T1.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Hde(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function _P(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function jP(e,t){const n=qde(e,t),r=n.one(e,void 0),i=Nde(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function Gde(e,t){return e&&"run"in e?async function(n,r){const i=jP(n,{file:r,...t});await e.run(i,r)}:function(n,r){return jP(n,{file:r,...e||t})}}function kP(e){if(e)throw e}var By,EP;function Kde(){if(EP)return By;EP=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):t.call(c)==="[object Array]"},a=function(c){if(!c||t.call(c)!=="[object Object]")return!1;var d=e.call(c,"constructor"),f=c.constructor&&c.constructor.prototype&&e.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!d&&!f)return!1;var h;for(h in c);return typeof h>"u"||e.call(c,h)},o=function(c,d){n&&d.name==="__proto__"?n(c,d.name,{enumerable:!0,configurable:!0,value:d.newValue,writable:!0}):c[d.name]=d.newValue},s=function(c,d){if(d==="__proto__")if(e.call(c,d)){if(r)return r(c,d).value}else return;return c[d]};return By=function l(){var c,d,f,h,p,y,m=arguments[0],g=1,v=arguments.length,b=!1;for(typeof m=="boolean"&&(b=m,m=arguments[1]||{},g=2),(m==null||typeof m!="object"&&typeof m!="function")&&(m={});g<v;++g)if(c=arguments[g],c!=null)for(d in c)f=s(m,d),h=s(c,d),m!==h&&(b&&h&&(a(h)||(p=i(h)))?(p?(p=!1,y=f&&i(f)?f:[]):y=f&&a(f)?f:{},o(m,{name:d,newValue:l(b,y,h)})):typeof h<"u"&&o(m,{name:d,newValue:h}));return m},By}var Yde=Kde();const qy=ot(Yde);function N1(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Xde(){const e=[],t={run:n,use:r};return t;function n(...i){let a=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...i);function s(l,...c){const d=e[++a];let f=-1;if(l){o(l);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,d?Qde(d,s)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function Qde(e,t){let n;return r;function r(...o){const s=e.length>o.length;let l;s&&o.push(i);try{l=e.apply(this,o)}catch(c){const d=c;if(s&&n)throw d;return i(d)}s||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(o,...s){n||(n=!0,t(o,...s))}function a(o){i(null,o)}}const si={basename:Jde,dirname:Zde,extname:efe,join:tfe,sep:"/"};function Jde(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Hd(e);let n=0,r=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,s=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else o<0&&(a=!0,o=i+1),s>-1&&(e.codePointAt(i)===t.codePointAt(s--)?s<0&&(r=i):(s=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function Zde(e){if(Hd(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function efe(e){Hd(e);let t=e.length,n=-1,r=0,i=-1,a=0,o;for(;t--;){const s=e.codePointAt(t);if(s===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),s===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function tfe(...e){let t=-1,n;for(;++t<e.length;)Hd(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":nfe(n)}function nfe(e){Hd(e);const t=e.codePointAt(0)===47;let n=rfe(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function rfe(e,t){let n="",r=0,i=-1,a=0,o=-1,s,l;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(i===o-1||a===1))if(i!==o-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,a=0;continue}}else if(n.length>0){n="",r=0,i=o,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,a=0}else s===46&&a>-1?a++:a=-1}return n}function Hd(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const ife={cwd:afe};function afe(){return"/"}function R1(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function ofe(e){if(typeof e=="string")e=new URL(e);else if(!R1(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return sfe(e)}function sfe(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Uy=["history","path","basename","stem","extname","dirname"];class PB{constructor(t){let n;t?R1(t)?n={path:t}:typeof t=="string"||lfe(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":ife.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Uy.length;){const a=Uy[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)Uy.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?si.basename(this.path):void 0}set basename(t){Wy(t,"basename"),Vy(t,"basename"),this.path=si.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?si.dirname(this.path):void 0}set dirname(t){AP(this.basename,"dirname"),this.path=si.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?si.extname(this.path):void 0}set extname(t){if(Vy(t,"extname"),AP(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=si.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){R1(t)&&(t=ofe(t)),Wy(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?si.basename(this.path,this.extname):void 0}set stem(t){Wy(t,"stem"),Vy(t,"stem"),this.path=si.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new On(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Vy(e,t){if(e&&e.includes(si.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+si.sep+"`")}function Wy(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function AP(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function lfe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const cfe=(function(e){const r=this.constructor.prototype,i=r[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a}),ufe={}.hasOwnProperty;class jk extends cfe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Xde()}copy(){const t=new jk;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(qy(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Ky("data",this.frozen),this.namespace[t]=n,this):ufe.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Ky("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Nf(t),r=this.parser||this.Parser;return Hy("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Hy("process",this.parser||this.Parser),Gy("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,o){const s=Nf(t),l=r.parse(s);r.run(l,s,function(d,f,h){if(d||!f||!h)return c(d);const p=f,y=r.stringify(p,h);hfe(y)?h.value=y:h.result=y,c(d,h)});function c(d,f){d||!f?o(d):a?a(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),Hy("processSync",this.parser||this.Parser),Gy("processSync",this.compiler||this.Compiler),this.process(t,i),CP("processSync","process",n),r;function i(a,o){n=!0,kP(a),r=o}}run(t,n,r){OP(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(o,s){const l=Nf(n);i.run(t,l,c);function c(d,f,h){const p=f||t;d?s(d):o?o(p):r(void 0,p,h)}}}runSync(t,n){let r=!1,i;return this.run(t,n,a),CP("runSync","run",r),i;function a(o,s){kP(o),i=s,r=!0}}stringify(t,n){this.freeze();const r=Nf(n),i=this.compiler||this.Compiler;return Gy("stringify",i),OP(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(Ky("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...f]=c;l(d,f)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(c.plugins),c.settings&&(i.settings=qy(!0,i.settings,c.settings))}function s(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const f=c[d];a(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,d){let f=-1,h=-1;for(;++f<r.length;)if(r[f][0]===c){h=f;break}if(h===-1)r.push([c,...d]);else if(d.length>0){let[p,...y]=d;const m=r[h][1];N1(m)&&N1(p)&&(p=qy(!0,m,p)),r[h]=[c,p,...y]}}}}const dfe=new jk().freeze();function Hy(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Gy(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Ky(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function OP(e){if(!N1(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function CP(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Nf(e){return ffe(e)?e:new PB(e)}function ffe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function hfe(e){return typeof e=="string"||pfe(e)}function pfe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const mfe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",PP=[],TP={allowDangerousHtml:!0},gfe=/^(https?|ircs?|mailto|xmpp)$/i,yfe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function TB(e){const t=vfe(e),n=bfe(e);return xfe(t.runSync(t.parse(n),n),e)}function vfe(e){const t=e.rehypePlugins||PP,n=e.remarkPlugins||PP,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...TP}:TP;return dfe().use(Zue).use(n).use(Gde,r).use(t)}function bfe(e){const t=e.children||"",n=new PB;return typeof t=="string"&&(n.value=t),n}function xfe(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,a=t.disallowedElements,o=t.skipHtml,s=t.unwrapDisallowed,l=t.urlTransform||wfe;for(const d of yfe)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+mfe+d.id,void 0);return _k(e,c),Dle(e,{Fragment:u.Fragment,components:i,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function c(d,f,h){if(d.type==="raw"&&h&&typeof f=="number")return o?h.children.splice(f,1):h.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let p;for(p in Ly)if(Object.hasOwn(Ly,p)&&Object.hasOwn(d.properties,p)){const y=d.properties[p],m=Ly[p];(m===null||m.includes(d.tagName))&&(d.properties[p]=l(String(y||""),p,d))}}if(d.type==="element"){let p=n?!n.includes(d.tagName):a?a.includes(d.tagName):!1;if(!p&&r&&typeof f=="number"&&(p=!r(d,f,h)),p&&h&&typeof f=="number")return s&&d.children?h.children.splice(f,1,...d.children):h.children.splice(f,1),f}}}function wfe(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||gfe.test(e.slice(0,t))?e:""}function NP(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function Sfe(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function _fe(e,t,n){const i=Ym((n||{}).ignore||[]),a=jfe(t);let o=-1;for(;++o<a.length;)CB(e,"text",s);function s(c,d){let f=-1,h;for(;++f<d.length;){const p=d[f],y=h?h.children:void 0;if(i(p,y?y.indexOf(p):void 0,h))return;h=p}if(h)return l(c,d)}function l(c,d){const f=d[d.length-1],h=a[o][0],p=a[o][1];let y=0;const g=f.children.indexOf(c);let v=!1,b=[];h.lastIndex=0;let x=h.exec(c.value);for(;x;){const _=x.index,w={index:x.index,input:x.input,stack:[...d,c]};let j=p(...x,w);if(typeof j=="string"&&(j=j.length>0?{type:"text",value:j}:void 0),j===!1?h.lastIndex=_+1:(y!==_&&b.push({type:"text",value:c.value.slice(y,_)}),Array.isArray(j)?b.push(...j):j&&b.push(j),y=_+x[0].length,v=!0),!h.global)break;x=h.exec(c.value)}return v?(y<c.value.length&&b.push({type:"text",value:c.value.slice(y)}),f.children.splice(g,1,...b)):b=[c],g+b.length}}function jfe(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([kfe(i[0]),Efe(i[1])])}return t}function kfe(e){return typeof e=="string"?new RegExp(Sfe(e),"g"):e}function Efe(e){return typeof e=="function"?e:function(){return e}}const Yy="phrasing",Xy=["autolink","link","image","label"];function Afe(){return{transforms:[Ife],enter:{literalAutolink:Cfe,literalAutolinkEmail:Qy,literalAutolinkHttp:Qy,literalAutolinkWww:Qy},exit:{literalAutolink:Rfe,literalAutolinkEmail:Nfe,literalAutolinkHttp:Pfe,literalAutolinkWww:Tfe}}}function Ofe(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Yy,notInConstruct:Xy},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Yy,notInConstruct:Xy},{character:":",before:"[ps]",after:"\\/",inConstruct:Yy,notInConstruct:Xy}]}}function Cfe(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Qy(e){this.config.enter.autolinkProtocol.call(this,e)}function Pfe(e){this.config.exit.autolinkProtocol.call(this,e)}function Tfe(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Nfe(e){this.config.exit.autolinkEmail.call(this,e)}function Rfe(e){this.exit(e)}function Ife(e){_fe(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Mfe],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Dfe]],{ignore:["link","linkReference"]})}function Mfe(e,t,n,r,i){let a="";if(!NB(i)||(/^w/i.test(t)&&(n=t+n,t="",a="http://"),!$fe(n)))return!1;const o=Lfe(n+r);if(!o[0])return!1;const s={type:"link",title:null,url:a+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[s,{type:"text",value:o[1]}]:s}function Dfe(e,t,n,r){return!NB(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function $fe(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function Lfe(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=NP(e,"(");let a=NP(e,")");for(;r!==-1&&i>a;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),a++;return[e,n]}function NB(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Zo(n)||Hm(n))&&(!t||n!==47)}RB.peek=Gfe;function zfe(){this.buffer()}function Ffe(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Bfe(){this.buffer()}function qfe(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Ufe(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Jr(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Vfe(e){this.exit(e)}function Wfe(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Jr(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Hfe(e){this.exit(e)}function Gfe(){return"["}function RB(e,t,n,r){const i=n.createTracker(r);let a=i.move("[^");const o=n.enter("footnoteReference"),s=n.enter("reference");return a+=i.move(n.safe(n.associationId(e),{after:"]",before:a})),s(),o(),a+=i.move("]"),a}function Kfe(){return{enter:{gfmFootnoteCallString:zfe,gfmFootnoteCall:Ffe,gfmFootnoteDefinitionLabelString:Bfe,gfmFootnoteDefinition:qfe},exit:{gfmFootnoteCallString:Ufe,gfmFootnoteCall:Vfe,gfmFootnoteDefinitionLabelString:Wfe,gfmFootnoteDefinition:Hfe}}}function Yfe(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:RB},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,a,o){const s=a.createTracker(o);let l=s.move("[^");const c=a.enter("footnoteDefinition"),d=a.enter("label");return l+=s.move(a.safe(a.associationId(r),{before:l,after:"]"})),d(),l+=s.move("]:"),r.children&&r.children.length>0&&(s.shift(4),l+=s.move((t?`
`:" ")+a.indentLines(a.containerFlow(r,s.current()),t?IB:Xfe))),c(),l}}function Xfe(e,t,n){return t===0?e:IB(e,t,n)}function IB(e,t,n){return(n?"":"    ")+e}const Qfe=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];MB.peek=nhe;function Jfe(){return{canContainEols:["delete"],enter:{strikethrough:ehe},exit:{strikethrough:the}}}function Zfe(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Qfe}],handlers:{delete:MB}}}function ehe(e){this.enter({type:"delete",children:[]},e)}function the(e){this.exit(e)}function MB(e,t,n,r){const i=n.createTracker(r),a=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(e,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),a(),o}function nhe(){return"~"}function rhe(e){return e.length}function ihe(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||rhe,a=[],o=[],s=[],l=[];let c=0,d=-1;for(;++d<e.length;){const m=[],g=[];let v=-1;for(e[d].length>c&&(c=e[d].length);++v<e[d].length;){const b=ahe(e[d][v]);if(n.alignDelimiters!==!1){const x=i(b);g[v]=x,(l[v]===void 0||x>l[v])&&(l[v]=x)}m.push(b)}o[d]=m,s[d]=g}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<c;)a[f]=RP(r[f]);else{const m=RP(r);for(;++f<c;)a[f]=m}f=-1;const h=[],p=[];for(;++f<c;){const m=a[f];let g="",v="";m===99?(g=":",v=":"):m===108?g=":":m===114&&(v=":");let b=n.alignDelimiters===!1?1:Math.max(1,l[f]-g.length-v.length);const x=g+"-".repeat(b)+v;n.alignDelimiters!==!1&&(b=g.length+b+v.length,b>l[f]&&(l[f]=b),p[f]=b),h[f]=x}o.splice(1,0,h),s.splice(1,0,p),d=-1;const y=[];for(;++d<o.length;){const m=o[d],g=s[d];f=-1;const v=[];for(;++f<c;){const b=m[f]||"";let x="",_="";if(n.alignDelimiters!==!1){const w=l[f]-(g[f]||0),j=a[f];j===114?x=" ".repeat(w):j===99?w%2?(x=" ".repeat(w/2+.5),_=" ".repeat(w/2-.5)):(x=" ".repeat(w/2),_=x):_=" ".repeat(w)}n.delimiterStart!==!1&&!f&&v.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&b==="")&&(n.delimiterStart!==!1||f)&&v.push(" "),n.alignDelimiters!==!1&&v.push(x),v.push(b),n.alignDelimiters!==!1&&v.push(_),n.padding!==!1&&v.push(" "),(n.delimiterEnd!==!1||f!==c-1)&&v.push("|")}y.push(n.delimiterEnd===!1?v.join("").replace(/ +$/,""):v.join(""))}return y.join(`
`)}function ahe(e){return e==null?"":String(e)}function RP(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function ohe(e,t,n,r){const i=n.enter("blockquote"),a=n.createTracker(r);a.move("> "),a.shift(2);const o=n.indentLines(n.containerFlow(e,a.current()),she);return i(),o}function she(e,t,n){return">"+(n?"":" ")+e}function lhe(e,t){return IP(e,t.inConstruct,!0)&&!IP(e,t.notInConstruct,!1)}function IP(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function MP(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&lhe(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function che(e,t){const n=String(e);let r=n.indexOf(t),i=r,a=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++a>o&&(o=a):a=1,i=r+t.length,r=n.indexOf(t,i);return o}function uhe(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function dhe(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function fhe(e,t,n,r){const i=dhe(n),a=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(uhe(e,n)){const f=n.enter("codeIndented"),h=n.indentLines(a,hhe);return f(),h}const s=n.createTracker(r),l=i.repeat(Math.max(che(a,i)+1,3)),c=n.enter("codeFenced");let d=s.move(l);if(e.lang){const f=n.enter(`codeFencedLang${o}`);d+=s.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...s.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${o}`);d+=s.move(" "),d+=s.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...s.current()})),f()}return d+=s.move(`
`),a&&(d+=s.move(a+`
`)),d+=s.move(l),c(),d}function hhe(e,t,n){return(n?"":"    ")+e}function kk(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function phe(e,t,n,r){const i=kk(n),a=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...l.current()}))),s(),e.title&&(s=n.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),s()),o(),c}function mhe(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Uu(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Xh(e,t,n){const r=dl(e),i=dl(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}DB.peek=ghe;function DB(e,t,n,r){const i=mhe(n),a=n.enter("emphasis"),o=n.createTracker(r),s=o.move(i);let l=o.move(n.containerPhrasing(e,{after:i,before:s,...o.current()}));const c=l.charCodeAt(0),d=Xh(r.before.charCodeAt(r.before.length-1),c,i);d.inside&&(l=Uu(c)+l.slice(1));const f=l.charCodeAt(l.length-1),h=Xh(r.after.charCodeAt(0),f,i);h.inside&&(l=l.slice(0,-1)+Uu(f));const p=o.move(i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},s+l+p}function ghe(e,t,n){return n.options.emphasis||"*"}function yhe(e,t){let n=!1;return _k(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,P1}),!!((!e.depth||e.depth<3)&&gk(e)&&(t.options.setext||n))}function vhe(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),a=n.createTracker(r);if(yhe(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),h=n.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return f(),d(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const o="#".repeat(i),s=n.enter("headingAtx"),l=n.enter("phrasing");a.move(o+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(c)&&(c=Uu(c.charCodeAt(0))+c.slice(1)),c=c?o+" "+c:o,n.options.closeAtx&&(c+=" "+o),l(),s(),c}$B.peek=bhe;function $B(e){return e.value||""}function bhe(){return"<"}LB.peek=xhe;function LB(e,t,n,r){const i=kk(n),a=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),s(),e.title&&(s=n.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),s()),c+=l.move(")"),o(),c}function xhe(){return"!"}zB.peek=whe;function zB(e,t,n,r){const i=e.referenceType,a=n.enter("imageReference");let o=n.enter("label");const s=n.createTracker(r);let l=s.move("![");const c=n.safe(e.alt,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return o(),n.stack=d,a(),i==="full"||!c||c!==f?l+=s.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function whe(){return"!"}FB.peek=She;function FB(e,t,n){let r=e.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){const o=n.unsafe[a],s=n.compilePattern(o);let l;if(o.atBreak)for(;l=s.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function She(){return"`"}function BB(e,t){const n=gk(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}qB.peek=_he;function qB(e,t,n,r){const i=kk(n),a=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let s,l;if(BB(e,n)){const d=n.stack;n.stack=[],s=n.enter("autolink");let f=o.move("<");return f+=o.move(n.containerPhrasing(e,{before:f,after:">",...o.current()})),f+=o.move(">"),s(),n.stack=d,f}s=n.enter("link"),l=n.enter("label");let c=o.move("[");return c+=o.move(n.containerPhrasing(e,{before:c,after:"](",...o.current()})),c+=o.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(n.safe(e.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(l=n.enter("destinationRaw"),c+=o.move(n.safe(e.url,{before:c,after:e.title?" ":")",...o.current()}))),l(),e.title&&(l=n.enter(`title${a}`),c+=o.move(" "+i),c+=o.move(n.safe(e.title,{before:c,after:i,...o.current()})),c+=o.move(i),l()),c+=o.move(")"),s(),c}function _he(e,t,n){return BB(e,n)?"<":"["}UB.peek=jhe;function UB(e,t,n,r){const i=e.referenceType,a=n.enter("linkReference");let o=n.enter("label");const s=n.createTracker(r);let l=s.move("[");const c=n.containerPhrasing(e,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return o(),n.stack=d,a(),i==="full"||!c||c!==f?l+=s.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function jhe(){return"["}function Ek(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function khe(e){const t=Ek(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Ehe(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function VB(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Ahe(e,t,n,r){const i=n.enter("list"),a=n.bulletCurrent;let o=e.ordered?Ehe(n):Ek(n);const s=e.ordered?o==="."?")":".":khe(n);let l=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),VB(n)===o&&d){let f=-1;for(;++f<e.children.length;){const h=e.children[f];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=s),n.bulletCurrent=o;const c=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=a,i(),c}function Ohe(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Che(e,t,n,r){const i=Ohe(n);let a=n.bulletCurrent||Ek(n);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let o=a.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const s=n.createTracker(r);s.move(a+" ".repeat(o-a.length)),s.shift(o);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,s.current()),d);return l(),c;function d(f,h,p){return h?(p?"":" ".repeat(o))+f:(p?a:a+" ".repeat(o-a.length))+f}}function Phe(e,t,n,r){const i=n.enter("paragraph"),a=n.enter("phrasing"),o=n.containerPhrasing(e,r);return a(),i(),o}const The=Ym(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Nhe(e,t,n,r){return(e.children.some(function(o){return The(o)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function Rhe(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}WB.peek=Ihe;function WB(e,t,n,r){const i=Rhe(n),a=n.enter("strong"),o=n.createTracker(r),s=o.move(i+i);let l=o.move(n.containerPhrasing(e,{after:i,before:s,...o.current()}));const c=l.charCodeAt(0),d=Xh(r.before.charCodeAt(r.before.length-1),c,i);d.inside&&(l=Uu(c)+l.slice(1));const f=l.charCodeAt(l.length-1),h=Xh(r.after.charCodeAt(0),f,i);h.inside&&(l=l.slice(0,-1)+Uu(f));const p=o.move(i+i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},s+l+p}function Ihe(e,t,n){return n.options.strong||"*"}function Mhe(e,t,n,r){return n.safe(e.value,r)}function Dhe(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function $he(e,t,n){const r=(VB(n)+(n.options.ruleSpaces?" ":"")).repeat(Dhe(n));return n.options.ruleSpaces?r.slice(0,-1):r}const HB={blockquote:ohe,break:MP,code:fhe,definition:phe,emphasis:DB,hardBreak:MP,heading:vhe,html:$B,image:LB,imageReference:zB,inlineCode:FB,link:qB,linkReference:UB,list:Ahe,listItem:Che,paragraph:Phe,root:Nhe,strong:WB,text:Mhe,thematicBreak:$he};function Lhe(){return{enter:{table:zhe,tableData:DP,tableHeader:DP,tableRow:Bhe},exit:{codeText:qhe,table:Fhe,tableData:Jy,tableHeader:Jy,tableRow:Jy}}}function zhe(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function Fhe(e){this.exit(e),this.data.inTable=void 0}function Bhe(e){this.enter({type:"tableRow",children:[]},e)}function Jy(e){this.exit(e)}function DP(e){this.enter({type:"tableCell",children:[]},e)}function qhe(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Uhe));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function Uhe(e,t){return t==="|"?t:e}function Vhe(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:o,tableCell:l,tableRow:s}};function o(p,y,m,g){return c(d(p,m,g),p.align)}function s(p,y,m,g){const v=f(p,m,g),b=c([v]);return b.slice(0,b.indexOf(`
`))}function l(p,y,m,g){const v=m.enter("tableCell"),b=m.enter("phrasing"),x=m.containerPhrasing(p,{...g,before:a,after:a});return b(),v(),x}function c(p,y){return ihe(p,{align:y,alignDelimiters:r,padding:n,stringLength:i})}function d(p,y,m){const g=p.children;let v=-1;const b=[],x=y.enter("table");for(;++v<g.length;)b[v]=f(g[v],y,m);return x(),b}function f(p,y,m){const g=p.children;let v=-1;const b=[],x=y.enter("tableRow");for(;++v<g.length;)b[v]=l(g[v],p,y,m);return x(),b}function h(p,y,m){let g=HB.inlineCode(p,y,m);return m.stack.includes("tableCell")&&(g=g.replace(/\|/g,"\\$&")),g}}function Whe(){return{exit:{taskListCheckValueChecked:$P,taskListCheckValueUnchecked:$P,paragraph:Ghe}}}function Hhe(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Khe}}}function $P(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function Ghe(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let a=-1,o;for(;++a<i.length;){const s=i[a];if(s.type==="paragraph"){o=s;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function Khe(e,t,n,r){const i=e.children[0],a=typeof e.checked=="boolean"&&i&&i.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",s=n.createTracker(r);a&&s.move(o);let l=HB.listItem(e,t,n,{...r,...s.current()});return a&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(d){return d+o}}function Yhe(){return[Afe(),Kfe(),Jfe(),Lhe(),Whe()]}function Xhe(e){return{extensions:[Ofe(),Yfe(e),Zfe(),Vhe(e),Hhe()]}}const Qhe={tokenize:rpe,partial:!0},GB={tokenize:ipe,partial:!0},KB={tokenize:ape,partial:!0},YB={tokenize:ope,partial:!0},Jhe={tokenize:spe,partial:!0},XB={name:"wwwAutolink",tokenize:tpe,previous:JB},QB={name:"protocolAutolink",tokenize:npe,previous:ZB},ua={name:"emailAutolink",tokenize:epe,previous:e6},Ti={};function Zhe(){return{text:Ti}}let mo=48;for(;mo<123;)Ti[mo]=ua,mo++,mo===58?mo=65:mo===91&&(mo=97);Ti[43]=ua;Ti[45]=ua;Ti[46]=ua;Ti[95]=ua;Ti[72]=[ua,QB];Ti[104]=[ua,QB];Ti[87]=[ua,XB];Ti[119]=[ua,XB];function epe(e,t,n){const r=this;let i,a;return o;function o(f){return!I1(f)||!e6.call(r,r.previous)||Ak(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(f))}function s(f){return I1(f)?(e.consume(f),s):f===64?(e.consume(f),l):n(f)}function l(f){return f===46?e.check(Jhe,d,c)(f):f===45||f===95||En(f)?(a=!0,e.consume(f),l):d(f)}function c(f){return e.consume(f),i=!0,l}function d(f){return a&&i&&In(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function tpe(e,t,n){const r=this;return i;function i(o){return o!==87&&o!==119||!JB.call(r,r.previous)||Ak(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Qhe,e.attempt(GB,e.attempt(KB,a),n),n)(o))}function a(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function npe(e,t,n){const r=this;let i="",a=!1;return o;function o(f){return(f===72||f===104)&&ZB.call(r,r.previous)&&!Ak(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),e.consume(f),s):n(f)}function s(f){if(In(f)&&i.length<5)return i+=String.fromCodePoint(f),e.consume(f),s;if(f===58){const h=i.toLowerCase();if(h==="http"||h==="https")return e.consume(f),l}return n(f)}function l(f){return f===47?(e.consume(f),a?c:(a=!0,l)):n(f)}function c(f){return f===null||Gh(f)||_t(f)||Zo(f)||Hm(f)?n(f):e.attempt(GB,e.attempt(KB,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function rpe(e,t,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),i):o===46&&r===3?(e.consume(o),a):n(o)}function a(o){return o===null?n(o):t(o)}}function ipe(e,t,n){let r,i,a;return o;function o(c){return c===46||c===95?e.check(YB,l,s)(c):c===null||_t(c)||Zo(c)||c!==45&&Hm(c)?l(c):(a=!0,e.consume(c),o)}function s(c){return c===95?r=!0:(i=r,r=void 0),e.consume(c),o}function l(c){return i||r||!a?n(c):t(c)}}function ape(e,t){let n=0,r=0;return i;function i(o){return o===40?(n++,e.consume(o),i):o===41&&r<n?a(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(YB,t,a)(o):o===null||_t(o)||Zo(o)?t(o):(e.consume(o),i)}function a(o){return o===41&&r++,e.consume(o),i}}function ope(e,t,n){return r;function r(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(e.consume(s),r):s===38?(e.consume(s),a):s===93?(e.consume(s),i):s===60||s===null||_t(s)||Zo(s)?t(s):n(s)}function i(s){return s===null||s===40||s===91||_t(s)||Zo(s)?t(s):r(s)}function a(s){return In(s)?o(s):n(s)}function o(s){return s===59?(e.consume(s),r):In(s)?(e.consume(s),o):n(s)}}function spe(e,t,n){return r;function r(a){return e.consume(a),i}function i(a){return En(a)?n(a):t(a)}}function JB(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||_t(e)}function ZB(e){return!In(e)}function e6(e){return!(e===47||I1(e))}function I1(e){return e===43||e===45||e===46||e===95||En(e)}function Ak(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const lpe={tokenize:gpe,partial:!0};function cpe(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:hpe,continuation:{tokenize:ppe},exit:mpe}},text:{91:{name:"gfmFootnoteCall",tokenize:fpe},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:upe,resolveTo:dpe}}}}function upe(e,t,n){const r=this;let i=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return s;function s(l){if(!o||!o._balanced)return n(l);const c=Jr(r.sliceSerialize({start:o.end,end:r.now()}));return c.codePointAt(0)!==94||!a.includes(c.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function dpe(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},s=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",a,t],["enter",o,t],["exit",o,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...s),e}function fpe(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a=0,o;return s;function s(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(f){if(a>999||f===93&&!o||f===null||f===91||_t(f))return n(f);if(f===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return i.includes(Jr(r.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return _t(f)||(o=!0),a++,e.consume(f),f===92?d:c}function d(f){return f===91||f===92||f===93?(e.consume(f),a++,c):c(f)}}function hpe(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,o=0,s;return l;function l(y){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(y){return y===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(y)}function d(y){if(o>999||y===93&&!s||y===null||y===91||_t(y))return n(y);if(y===93){e.exit("chunkString");const m=e.exit("gfmFootnoteDefinitionLabelString");return a=Jr(r.sliceSerialize(m)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return _t(y)||(s=!0),o++,e.consume(y),y===92?f:d}function f(y){return y===91||y===92||y===93?(e.consume(y),o++,d):d(y)}function h(y){return y===58?(e.enter("definitionMarker"),e.consume(y),e.exit("definitionMarker"),i.includes(a)||i.push(a),at(e,p,"gfmFootnoteDefinitionWhitespace")):n(y)}function p(y){return t(y)}}function ppe(e,t,n){return e.check(Wd,t,e.attempt(lpe,t,n))}function mpe(e){e.exit("gfmFootnoteDefinition")}function gpe(e,t,n){const r=this;return at(e,i,"gfmFootnoteDefinitionIndent",5);function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(a):n(a)}}function ype(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:a,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,s){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let c=l;for(;c--;)if(o[c][0]==="exit"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[c][1].end.offset-o[c][1].start.offset){o[l][1].type="strikethroughSequence",o[c][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},o[c][1].start),end:Object.assign({},o[l][1].end)},f={type:"strikethroughText",start:Object.assign({},o[c][1].end),end:Object.assign({},o[l][1].start)},h=[["enter",d,s],["enter",o[c][1],s],["exit",o[c][1],s],["enter",f,s]],p=s.parser.constructs.insideSpan.null;p&&lr(h,h.length,0,Gm(p,o.slice(c+1,l),s)),lr(h,h.length,0,[["exit",f,s],["enter",o[l][1],s],["exit",o[l][1],s],["exit",d,s]]),lr(o,c-1,l-c+3,h),l=c+h.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function a(o,s,l){const c=this.previous,d=this.events;let f=0;return h;function h(y){return c===126&&d[d.length-1][1].type!=="characterEscape"?l(y):(o.enter("strikethroughSequenceTemporary"),p(y))}function p(y){const m=dl(c);if(y===126)return f>1?l(y):(o.consume(y),f++,p);if(f<2&&!n)return l(y);const g=o.exit("strikethroughSequenceTemporary"),v=dl(y);return g._open=!v||v===2&&!!m,g._close=!m||m===2&&!!v,s(y)}}}class vpe{constructor(){this.map=[]}add(t,n,r){bpe(this,t,n,r)}consume(t){if(this.map.sort(function(a,o){return a[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const a of i)t.push(a);i=r.pop()}this.map.length=0}}function bpe(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function xpe(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=r.length-1;r[a]=r[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function wpe(){return{flow:{null:{name:"table",tokenize:Spe,resolveAll:_pe}}}}function Spe(e,t,n){const r=this;let i=0,a=0,o;return s;function s(O){let T=r.events.length-1;for(;T>-1;){const E=r.events[T][1].type;if(E==="lineEnding"||E==="linePrefix")T--;else break}const N=T>-1?r.events[T][1].type:null,M=N==="tableHead"||N==="tableRow"?j:l;return M===j&&r.parser.lazy[r.now().line]?n(O):M(O)}function l(O){return e.enter("tableHead"),e.enter("tableRow"),c(O)}function c(O){return O===124||(o=!0,a+=1),d(O)}function d(O){return O===null?n(O):Me(O)?a>1?(a=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(O),e.exit("lineEnding"),p):n(O):Ze(O)?at(e,d,"whitespace")(O):(a+=1,o&&(o=!1,i+=1),O===124?(e.enter("tableCellDivider"),e.consume(O),e.exit("tableCellDivider"),o=!0,d):(e.enter("data"),f(O)))}function f(O){return O===null||O===124||_t(O)?(e.exit("data"),d(O)):(e.consume(O),O===92?h:f)}function h(O){return O===92||O===124?(e.consume(O),f):f(O)}function p(O){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(O):(e.enter("tableDelimiterRow"),o=!1,Ze(O)?at(e,y,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(O):y(O))}function y(O){return O===45||O===58?g(O):O===124?(o=!0,e.enter("tableCellDivider"),e.consume(O),e.exit("tableCellDivider"),m):w(O)}function m(O){return Ze(O)?at(e,g,"whitespace")(O):g(O)}function g(O){return O===58?(a+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(O),e.exit("tableDelimiterMarker"),v):O===45?(a+=1,v(O)):O===null||Me(O)?_(O):w(O)}function v(O){return O===45?(e.enter("tableDelimiterFiller"),b(O)):w(O)}function b(O){return O===45?(e.consume(O),b):O===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(O),e.exit("tableDelimiterMarker"),x):(e.exit("tableDelimiterFiller"),x(O))}function x(O){return Ze(O)?at(e,_,"whitespace")(O):_(O)}function _(O){return O===124?y(O):O===null||Me(O)?!o||i!==a?w(O):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(O)):w(O)}function w(O){return n(O)}function j(O){return e.enter("tableRow"),k(O)}function k(O){return O===124?(e.enter("tableCellDivider"),e.consume(O),e.exit("tableCellDivider"),k):O===null||Me(O)?(e.exit("tableRow"),t(O)):Ze(O)?at(e,k,"whitespace")(O):(e.enter("data"),A(O))}function A(O){return O===null||O===124||_t(O)?(e.exit("data"),k(O)):(e.consume(O),O===92?P:A)}function P(O){return O===92||O===124?(e.consume(O),A):A(O)}}function _pe(e,t){let n=-1,r=!0,i=0,a=[0,0,0,0],o=[0,0,0,0],s=!1,l=0,c,d,f;const h=new vpe;for(;++n<e.length;){const p=e[n],y=p[1];p[0]==="enter"?y.type==="tableHead"?(s=!1,l!==0&&(LP(h,t,l,c,d),d=void 0,l=0),c={type:"table",start:Object.assign({},y.start),end:Object.assign({},y.end)},h.add(n,0,[["enter",c,t]])):y.type==="tableRow"||y.type==="tableDelimiterRow"?(r=!0,f=void 0,a=[0,0,0,0],o=[0,n+1,0,0],s&&(s=!1,d={type:"tableBody",start:Object.assign({},y.start),end:Object.assign({},y.end)},h.add(n,0,[["enter",d,t]])),i=y.type==="tableDelimiterRow"?2:d?3:1):i&&(y.type==="data"||y.type==="tableDelimiterMarker"||y.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(a[1]!==0&&(o[0]=o[1],f=Rf(h,t,a,i,void 0,f),a=[0,0,0,0]),o[2]=n)):y.type==="tableCellDivider"&&(r?r=!1:(a[1]!==0&&(o[0]=o[1],f=Rf(h,t,a,i,void 0,f)),a=o,o=[a[1],n,0,0])):y.type==="tableHead"?(s=!0,l=n):y.type==="tableRow"||y.type==="tableDelimiterRow"?(l=n,a[1]!==0?(o[0]=o[1],f=Rf(h,t,a,i,n,f)):o[1]!==0&&(f=Rf(h,t,o,i,n,f)),i=0):i&&(y.type==="data"||y.type==="tableDelimiterMarker"||y.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&LP(h,t,l,c,d),h.consume(t.events),n=-1;++n<t.events.length;){const p=t.events[n];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=xpe(t.events,n))}return e}function Rf(e,t,n,r,i,a){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",s="tableContent";n[0]!==0&&(a.end=Object.assign({},Ns(t.events,n[0])),e.add(n[0],0,[["exit",a,t]]));const l=Ns(t.events,n[1]);if(a={type:o,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",a,t]]),n[2]!==0){const c=Ns(t.events,n[2]),d=Ns(t.events,n[3]),f={type:s,start:Object.assign({},c),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const h=t.events[n[2]],p=t.events[n[3]];if(h[1].end=Object.assign({},p[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const y=n[2]+1,m=n[3]-n[2]-1;e.add(y,m,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return i!==void 0&&(a.end=Object.assign({},Ns(t.events,i)),e.add(i,0,[["exit",a,t]]),a=void 0),a}function LP(e,t,n,r,i){const a=[],o=Ns(t.events,n);i&&(i.end=Object.assign({},o),a.push(["exit",i,t])),r.end=Object.assign({},o),a.push(["exit",r,t]),e.add(n+1,0,a)}function Ns(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const jpe={name:"tasklistCheck",tokenize:Epe};function kpe(){return{text:{91:jpe}}}function Epe(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),a)}function a(l){return _t(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):n(l)}function s(l){return Me(l)?t(l):Ze(l)?e.check({tokenize:Ape},t,n)(l):n(l)}}function Ape(e,t,n){return at(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function Ope(e){return uB([Zhe(),cpe(),ype(e),wpe(),kpe()])}const Cpe={};function t6(e){const t=this,n=e||Cpe,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(Ope(n)),a.push(Yhe()),o.push(Xhe(n))}function Ppe(){const[e,t]=S.useState(!1),[n,r]=S.useState(""),[i,a]=S.useState("preview"),[o,s]=S.useState(!1),[l,c]=S.useState("idle");return S.useEffect(()=>{(async()=>{const{data:{session:f}}=await be.auth.getSession();if(!f)return;const{data:h,error:p}=await be.from("user_memos").select("content").eq("user_id",f.user.id).single();h?r(h.content||""):p||r(`# Note

Scrivi qui i tuoi appunti...`)})()},[]),S.useEffect(()=>{c("idle");const d=setTimeout(async()=>{const{data:{session:f}}=await be.auth.getSession();if(!f)return;c("saving");const{error:h}=await be.from("user_memos").upsert({user_id:f.user.id,content:n,updated_at:new Date().toISOString()},{onConflict:"user_id"});h?(console.error("Error saving memo:",h),c("error"),We.error("Errore salvataggio nota: "+(h.message||"Errore sconosciuto"))):c("saved")},1e3);return()=>clearTimeout(d)},[n]),u.jsxs($m,{open:e,onOpenChange:t,children:[u.jsx(Hj,{asChild:!0,children:u.jsx(Ce,{variant:"outline",size:"icon",className:"h-10 w-10 sm:h-9 sm:w-9",title:"Memo / Appunti",children:u.jsx(O_,{className:"h-4 w-4"})})}),u.jsxs(Ld,{className:ae("flex flex-col gap-0 p-0 sm:max-w-xl transition-all duration-300 [&>button:last-child]:hidden",o?"w-[95vw] h-[95vh] sm:max-w-[95vw]":"h-[80vh]"),children:[u.jsx(Fd,{className:"sr-only",children:"Editor di testo in markdown per appunti temporanei e veloci."}),u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border/40",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(zd,{className:"font-semibold text-lg",children:"Memo"}),u.jsx("span",{className:"text-xs text-muted-foreground bg-muted/50 px-2 py-0.5 rounded",children:".md support"}),u.jsxs("div",{className:"flex items-center gap-1.5 ml-2 text-xs transition-all duration-300",children:[l==="saving"&&u.jsxs(u.Fragment,{children:[u.jsx(Qr,{className:"w-3 h-3 animate-spin text-muted-foreground"}),u.jsx("span",{className:"text-muted-foreground",children:"Salvataggio..."})]}),l==="saved"&&u.jsxs(u.Fragment,{children:[u.jsx(ci,{className:"w-3 h-3 text-green-500"}),u.jsx("span",{className:"text-green-500 font-medium",children:"Salvato"})]}),l==="error"&&u.jsxs(u.Fragment,{children:[u.jsx(qs,{className:"w-3 h-3 text-destructive"}),u.jsx("span",{className:"text-destructive font-medium",children:"Errore Sync"})]})]})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Ce,{variant:"ghost",size:"sm",onClick:()=>a(i==="preview"?"edit":"preview"),className:"gap-2 h-8",title:i==="preview"?"Modifica":"Visualizza",children:i==="preview"?u.jsxs(u.Fragment,{children:[u.jsx(S9,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Modifica"})]}):u.jsxs(u.Fragment,{children:[u.jsx(q5,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Anteprima"})]})}),u.jsx(Ce,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>s(!o),title:o?"Riduci":"Espandi",children:o?u.jsx(b9,{className:"w-4 h-4"}):u.jsx(y9,{className:"w-4 h-4"})}),u.jsx(Ce,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>t(!1),children:u.jsx(Ga,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:"flex-1 overflow-hidden relative bg-card",children:i==="edit"?u.jsx(MF,{value:n,onChange:d=>r(d.target.value),className:"w-full h-full resize-none p-6 font-mono text-sm bg-transparent border-0 focus-visible:ring-0 leading-relaxed",placeholder:"# Inizia a scrivere..."}):u.jsx(ck,{className:"h-full w-full",children:u.jsx("div",{className:"p-6 prose prose-invert prose-sm max-w-none",children:u.jsx(TB,{remarkPlugins:[t6],components:{h1:({node:d,...f})=>u.jsx("h1",{className:"text-3xl font-bold mt-2 mb-6",...f}),h2:({node:d,...f})=>u.jsx("h2",{className:"text-2xl font-bold mt-6 mb-4 border-b border-border/50 pb-2",...f}),code:({node:d,className:f,children:h,...p})=>String(h).includes(`
`)?u.jsx("code",{className:f,...p,children:h}):u.jsx("code",{className:"bg-primary/20 text-primary rounded px-1.5 py-0.5 font-mono text-sm",...p,children:h})},children:n})})})})]})]})}var Zy="rovingFocusGroup.onEntryFocus",Tpe={bubbles:!1,cancelable:!0},Gd="RovingFocusGroup",[M1,n6,Npe]=rm(Gd),[Rpe,Qm]=Bn(Gd,[Npe]),[Ipe,Mpe]=Rpe(Gd),r6=S.forwardRef((e,t)=>u.jsx(M1.Provider,{scope:e.__scopeRovingFocusGroup,children:u.jsx(M1.Slot,{scope:e.__scopeRovingFocusGroup,children:u.jsx(Dpe,{...e,ref:t})})}));r6.displayName=Gd;var Dpe=S.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=e,h=S.useRef(null),p=ze(t,h),y=nc(a),[m,g]=Si({prop:o,defaultProp:s??null,onChange:l,caller:Gd}),[v,b]=S.useState(!1),x=Ut(c),_=n6(n),w=S.useRef(!1),[j,k]=S.useState(0);return S.useEffect(()=>{const A=h.current;if(A)return A.addEventListener(Zy,x),()=>A.removeEventListener(Zy,x)},[x]),u.jsx(Ipe,{scope:n,orientation:r,dir:y,loop:i,currentTabStopId:m,onItemFocus:S.useCallback(A=>g(A),[g]),onItemShiftTab:S.useCallback(()=>b(!0),[]),onFocusableItemAdd:S.useCallback(()=>k(A=>A+1),[]),onFocusableItemRemove:S.useCallback(()=>k(A=>A-1),[]),children:u.jsx(Ae.div,{tabIndex:v||j===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:Ee(e.onMouseDown,()=>{w.current=!0}),onFocus:Ee(e.onFocus,A=>{const P=!w.current;if(A.target===A.currentTarget&&P&&!v){const O=new CustomEvent(Zy,Tpe);if(A.currentTarget.dispatchEvent(O),!O.defaultPrevented){const T=_().filter(F=>F.focusable),N=T.find(F=>F.active),M=T.find(F=>F.id===m),R=[N,M,...T].filter(Boolean).map(F=>F.ref.current);o6(R,d)}}w.current=!1}),onBlur:Ee(e.onBlur,()=>b(!1))})})}),i6="RovingFocusGroupItem",a6=S.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,children:o,...s}=e,l=Ki(),c=a||l,d=Mpe(i6,n),f=d.currentTabStopId===c,h=n6(n),{onFocusableItemAdd:p,onFocusableItemRemove:y,currentTabStopId:m}=d;return S.useEffect(()=>{if(r)return p(),()=>y()},[r,p,y]),u.jsx(M1.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:u.jsx(Ae.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...s,ref:t,onMouseDown:Ee(e.onMouseDown,g=>{r?d.onItemFocus(c):g.preventDefault()}),onFocus:Ee(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:Ee(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){d.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const v=zpe(g,d.orientation,d.dir);if(v!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let x=h().filter(_=>_.focusable).map(_=>_.ref.current);if(v==="last")x.reverse();else if(v==="prev"||v==="next"){v==="prev"&&x.reverse();const _=x.indexOf(g.currentTarget);x=d.loop?Fpe(x,_+1):x.slice(_+1)}setTimeout(()=>o6(x))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:m!=null}):o})})});a6.displayName=i6;var $pe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Lpe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function zpe(e,t,n){const r=Lpe(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return $pe[r]}function o6(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function Fpe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var s6=r6,l6=a6,Jm="Tabs",[Bpe]=Bn(Jm,[Qm]),c6=Qm(),[qpe,Ok]=Bpe(Jm),u6=S.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:s,activationMode:l="automatic",...c}=e,d=nc(s),[f,h]=Si({prop:r,onChange:i,defaultProp:a??"",caller:Jm});return u.jsx(qpe,{scope:n,baseId:Ki(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:l,children:u.jsx(Ae.div,{dir:d,"data-orientation":o,...c,ref:t})})});u6.displayName=Jm;var d6="TabsList",f6=S.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,a=Ok(d6,n),o=c6(n);return u.jsx(s6,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:u.jsx(Ae.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});f6.displayName=d6;var h6="TabsTrigger",p6=S.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=e,o=Ok(h6,n),s=c6(n),l=y6(o.baseId,r),c=v6(o.baseId,r),d=r===o.value;return u.jsx(l6,{asChild:!0,...s,focusable:!i,active:d,children:u.jsx(Ae.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...a,ref:t,onMouseDown:Ee(e.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:Ee(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:Ee(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!i&&f&&o.onValueChange(r)})})})});p6.displayName=h6;var m6="TabsContent",g6=S.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...o}=e,s=Ok(m6,n),l=y6(s.baseId,r),c=v6(s.baseId,r),d=r===s.value,f=S.useRef(d);return S.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),u.jsx(sa,{present:i||d,children:({present:h})=>u.jsx(Ae.div,{"data-state":d?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:c,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});g6.displayName=m6;function y6(e,t){return`${e}-trigger-${t}`}function v6(e,t){return`${e}-content-${t}`}var Upe=u6,b6=f6,x6=p6,w6=g6;const Js=Upe,qo=S.forwardRef(({className:e,...t},n)=>u.jsx(b6,{ref:n,className:ae("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));qo.displayName=b6.displayName;const vt=S.forwardRef(({className:e,...t},n)=>u.jsx(x6,{ref:n,className:ae("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));vt.displayName=x6.displayName;const Nn=S.forwardRef(({className:e,...t},n)=>u.jsx(w6,{ref:n,className:ae("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Nn.displayName=w6.displayName;function Zm(e){const t=S.useRef({value:e,previous:e});return S.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var eg="Switch",[Vpe]=Bn(eg),[Wpe,Hpe]=Vpe(eg),S6=S.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:a,required:o,disabled:s,value:l="on",onCheckedChange:c,form:d,...f}=e,[h,p]=S.useState(null),y=ze(t,x=>p(x)),m=S.useRef(!1),g=h?d||!!h.closest("form"):!0,[v,b]=Si({prop:i,defaultProp:a??!1,onChange:c,caller:eg});return u.jsxs(Wpe,{scope:n,checked:v,disabled:s,children:[u.jsx(Ae.button,{type:"button",role:"switch","aria-checked":v,"aria-required":o,"data-state":E6(v),"data-disabled":s?"":void 0,disabled:s,value:l,...f,ref:y,onClick:Ee(e.onClick,x=>{b(_=>!_),g&&(m.current=x.isPropagationStopped(),m.current||x.stopPropagation())})}),g&&u.jsx(k6,{control:h,bubbles:!m.current,name:r,value:l,checked:v,required:o,disabled:s,form:d,style:{transform:"translateX(-100%)"}})]})});S6.displayName=eg;var _6="SwitchThumb",j6=S.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=Hpe(_6,n);return u.jsx(Ae.span,{"data-state":E6(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});j6.displayName=_6;var Gpe="SwitchBubbleInput",k6=S.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...i},a)=>{const o=S.useRef(null),s=ze(o,a),l=Zm(n),c=fm(t);return S.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==n&&p){const y=new Event("click",{bubbles:r});p.call(d,n),d.dispatchEvent(y)}},[l,n,r]),u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:s,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});k6.displayName=Gpe;function E6(e){return e?"checked":"unchecked"}var A6=S6,Kpe=j6;const D1=S.forwardRef(({className:e,...t},n)=>u.jsx(A6,{className:ae("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:n,children:u.jsx(Kpe,{className:ae("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));D1.displayName=A6.displayName;const qe=S.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:ae("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));qe.displayName="Card";const et=S.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:ae("flex flex-col space-y-1.5 p-6",e),...t}));et.displayName="CardHeader";const tt=S.forwardRef(({className:e,...t},n)=>u.jsx("h3",{ref:n,className:ae("text-2xl font-semibold leading-none tracking-tight",e),...t}));tt.displayName="CardTitle";const Vr=S.forwardRef(({className:e,...t},n)=>u.jsx("p",{ref:n,className:ae("text-sm text-muted-foreground",e),...t}));Vr.displayName="CardDescription";const Ve=S.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:ae("p-6 pt-0",e),...t}));Ve.displayName="CardContent";const Ype=S.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:ae("flex items-center p-6 pt-0",e),...t}));Ype.displayName="CardFooter";var O6=["PageUp","PageDown"],C6=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],P6={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},ac="Slider",[$1,Xpe,Qpe]=rm(ac),[T6]=Bn(ac,[Qpe]),[Jpe,tg]=T6(ac),N6=S.forwardRef((e,t)=>{const{name:n,min:r=0,max:i=100,step:a=1,orientation:o="horizontal",disabled:s=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:p=!1,form:y,...m}=e,g=S.useRef(new Set),v=S.useRef(0),x=o==="horizontal"?Zpe:eme,[_=[],w]=Si({prop:d,defaultProp:c,onChange:T=>{[...g.current][v.current]?.focus(),f(T)}}),j=S.useRef(_);function k(T){const N=ame(_,T);O(T,N)}function A(T){O(T,v.current)}function P(){const T=j.current[v.current];_[v.current]!==T&&h(_)}function O(T,N,{commit:M}={commit:!1}){const E=cme(a),R=ume(Math.round((T-r)/a)*a+r,E),F=Bu(R,[r,i]);w((z=[])=>{const q=rme(z,F,N);if(lme(q,l*a)){v.current=q.indexOf(F);const L=String(q)!==String(z);return L&&M&&h(q),L?q:z}else return z})}return u.jsx(Jpe,{scope:e.__scopeSlider,name:n,disabled:s,min:r,max:i,valueIndexToChangeRef:v,thumbs:g.current,values:_,orientation:o,form:y,children:u.jsx($1.Provider,{scope:e.__scopeSlider,children:u.jsx($1.Slot,{scope:e.__scopeSlider,children:u.jsx(x,{"aria-disabled":s,"data-disabled":s?"":void 0,...m,ref:t,onPointerDown:Ee(m.onPointerDown,()=>{s||(j.current=_)}),min:r,max:i,inverted:p,onSlideStart:s?void 0:k,onSlideMove:s?void 0:A,onSlideEnd:s?void 0:P,onHomeKeyDown:()=>!s&&O(r,0,{commit:!0}),onEndKeyDown:()=>!s&&O(i,_.length-1,{commit:!0}),onStepKeyDown:({event:T,direction:N})=>{if(!s){const R=O6.includes(T.key)||T.shiftKey&&C6.includes(T.key)?10:1,F=v.current,z=_[F],q=a*R*N;O(z+q,F,{commit:!0})}}})})})})});N6.displayName=ac;var[R6,I6]=T6(ac,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Zpe=S.forwardRef((e,t)=>{const{min:n,max:r,dir:i,inverted:a,onSlideStart:o,onSlideMove:s,onSlideEnd:l,onStepKeyDown:c,...d}=e,[f,h]=S.useState(null),p=ze(t,x=>h(x)),y=S.useRef(void 0),m=nc(i),g=m==="ltr",v=g&&!a||!g&&a;function b(x){const _=y.current||f.getBoundingClientRect(),w=[0,_.width],k=Ck(w,v?[n,r]:[r,n]);return y.current=_,k(x-_.left)}return u.jsx(R6,{scope:e.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:u.jsx(M6,{dir:m,"data-orientation":"horizontal",...d,ref:p,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:x=>{const _=b(x.clientX);o?.(_)},onSlideMove:x=>{const _=b(x.clientX);s?.(_)},onSlideEnd:()=>{y.current=void 0,l?.()},onStepKeyDown:x=>{const w=P6[v?"from-left":"from-right"].includes(x.key);c?.({event:x,direction:w?-1:1})}})})}),eme=S.forwardRef((e,t)=>{const{min:n,max:r,inverted:i,onSlideStart:a,onSlideMove:o,onSlideEnd:s,onStepKeyDown:l,...c}=e,d=S.useRef(null),f=ze(t,d),h=S.useRef(void 0),p=!i;function y(m){const g=h.current||d.current.getBoundingClientRect(),v=[0,g.height],x=Ck(v,p?[r,n]:[n,r]);return h.current=g,x(m-g.top)}return u.jsx(R6,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:u.jsx(M6,{"data-orientation":"vertical",...c,ref:f,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:m=>{const g=y(m.clientY);a?.(g)},onSlideMove:m=>{const g=y(m.clientY);o?.(g)},onSlideEnd:()=>{h.current=void 0,s?.()},onStepKeyDown:m=>{const v=P6[p?"from-bottom":"from-top"].includes(m.key);l?.({event:m,direction:v?-1:1})}})})}),M6=S.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:a,onHomeKeyDown:o,onEndKeyDown:s,onStepKeyDown:l,...c}=e,d=tg(ac,n);return u.jsx(Ae.span,{...c,ref:t,onKeyDown:Ee(e.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(s(f),f.preventDefault()):O6.concat(C6).includes(f.key)&&(l(f),f.preventDefault())}),onPointerDown:Ee(e.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():r(f)}),onPointerMove:Ee(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&i(f)}),onPointerUp:Ee(e.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),a(f))})})}),D6="SliderTrack",$6=S.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=tg(D6,n);return u.jsx(Ae.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:t})});$6.displayName=D6;var L1="SliderRange",L6=S.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=tg(L1,n),a=I6(L1,n),o=S.useRef(null),s=ze(t,o),l=i.values.length,c=i.values.map(h=>B6(h,i.min,i.max)),d=l>1?Math.min(...c):0,f=100-Math.max(...c);return u.jsx(Ae.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:s,style:{...e.style,[a.startEdge]:d+"%",[a.endEdge]:f+"%"}})});L6.displayName=L1;var z1="SliderThumb",z6=S.forwardRef((e,t)=>{const n=Xpe(e.__scopeSlider),[r,i]=S.useState(null),a=ze(t,s=>i(s)),o=S.useMemo(()=>r?n().findIndex(s=>s.ref.current===r):-1,[n,r]);return u.jsx(tme,{...e,ref:a,index:o})}),tme=S.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:i,...a}=e,o=tg(z1,n),s=I6(z1,n),[l,c]=S.useState(null),d=ze(t,b=>c(b)),f=l?o.form||!!l.closest("form"):!0,h=fm(l),p=o.values[r],y=p===void 0?0:B6(p,o.min,o.max),m=ime(r,o.values.length),g=h?.[s.size],v=g?ome(g,y,s.direction):0;return S.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),u.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[s.startEdge]:`calc(${y}% + ${v}px)`},children:[u.jsx($1.ItemSlot,{scope:e.__scopeSlider,children:u.jsx(Ae.span,{role:"slider","aria-label":e["aria-label"]||m,"aria-valuemin":o.min,"aria-valuenow":p,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...a,ref:d,style:p===void 0?{display:"none"}:e.style,onFocus:Ee(e.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),f&&u.jsx(F6,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:p},r)]})});z6.displayName=z1;var nme="RadioBubbleInput",F6=S.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const i=S.useRef(null),a=ze(i,r),o=Zm(t);return S.useEffect(()=>{const s=i.current;if(!s)return;const l=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&d){const f=new Event("input",{bubbles:!0});d.call(s,t),s.dispatchEvent(f)}},[o,t]),u.jsx(Ae.input,{style:{display:"none"},...n,ref:a,defaultValue:t})});F6.displayName=nme;function rme(e=[],t,n){const r=[...e];return r[n]=t,r.sort((i,a)=>i-a)}function B6(e,t,n){const a=100/(n-t)*(e-t);return Bu(a,[0,100])}function ime(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function ame(e,t){if(e.length===1)return 0;const n=e.map(i=>Math.abs(i-t)),r=Math.min(...n);return n.indexOf(r)}function ome(e,t,n){const r=e/2,a=Ck([0,50],[0,r]);return(r-a(t)*n)*n}function sme(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function lme(e,t){if(t>0){const n=sme(e);return Math.min(...n)>=t}return!0}function Ck(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function cme(e){return(String(e).split(".")[1]||"").length}function ume(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var q6=N6,dme=$6,fme=L6,hme=z6;const F1=S.forwardRef(({className:e,...t},n)=>u.jsxs(q6,{ref:n,className:ae("relative flex w-full touch-none select-none items-center",e),...t,children:[u.jsx(dme,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:u.jsx(fme,{className:"absolute h-full bg-primary"})}),u.jsx(hme,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));F1.displayName=q6.displayName;const pme=()=>ji({queryKey:["moods"],queryFn:async()=>{const{data:e,error:t}=await be.from("daily_moods").select("*").order("date",{ascending:!1});if(t)throw console.error("Error fetching moods:",t),t;return e}}),U6=()=>{const e=Xe(new Date,"yyyy-MM-dd");return ji({queryKey:["moods",e],queryFn:async()=>{const{data:t,error:n}=await be.from("daily_moods").select("*").eq("date",e).maybeSingle();if(n)throw console.error("Error fetching today's mood:",n),n;return t}})},mme=()=>{const e=eo();return xr({mutationFn:async t=>{const{data:{user:n}}=await be.auth.getUser();if(!n)throw new Error("No user found");const{data:r,error:i}=await be.from("daily_moods").upsert({...t,user_id:n.id},{onConflict:"user_id,date"}).select().single();if(i)throw i;return r},onSuccess:()=>{e.invalidateQueries({queryKey:["moods"]}),We.success("Mood & Energy logged successfully!")},onError:t=>{console.error("Error logging mood:",t),We.error("Failed to log mood.")}})},zP=()=>{const{data:e,isLoading:t}=U6(),n=mme(),[r,i]=S.useState([5]),[a,o]=S.useState([5]);S.useEffect(()=>{e&&(i([e.mood_score]),o([e.energy_score]))},[e]);const s=()=>{n.mutate({date:Xe(new Date,"yyyy-MM-dd"),mood_score:r[0],energy_score:a[0]})},l=d=>d>=8?"":d>=6?"":d>=4?"":d>=3?"":"",c=d=>"text-foreground";return t?u.jsx("div",{className:"h-40 animate-pulse bg-muted rounded-xl"}):u.jsxs(qe,{className:"w-full border shadow-sm overflow-hidden relative",children:[u.jsx(et,{className:"pb-2",children:u.jsxs(tt,{className:"text-lg font-medium flex items-center justify-between",children:[u.jsx("div",{className:"flex items-center gap-2",children:"Daily Check-in"}),!e&&u.jsxs("span",{className:"flex h-2 w-2",children:[u.jsx("span",{className:"animate-ping absolute inline-flex h-2 w-2 rounded-full bg-primary opacity-75"}),u.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-primary"})]})]})}),u.jsxs(Ve,{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[u.jsx(U5,{className:"w-4 h-4"}),"Mood"]}),u.jsxs("span",{className:ae("text-lg font-bold transition-colors",c(r[0])),children:[l(r[0])," ",r[0],"/10"]})]}),u.jsx(F1,{value:r,onValueChange:i,max:10,min:1,step:1,className:"cursor-pointer"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[u.jsx(Gi,{className:"w-4 h-4"}),"Energy"]}),u.jsxs("span",{className:ae("text-lg font-bold transition-colors",c(a[0])),children:[" ",a[0],"/10"]})]}),u.jsx(F1,{value:a,onValueChange:o,max:10,min:1,step:1,className:"cursor-pointer"})]}),u.jsx(Ce,{onClick:s,disabled:n.isPending,className:"w-full mt-2 transition-all duration-300 transform hover:scale-[1.02]",children:n.isPending?"Saving...":u.jsxs(u.Fragment,{children:[u.jsx(A9,{className:"w-4 h-4 mr-2"}),e?"Update Daily Status":"Insert Daily Status"]})})]})]})},gme=()=>{const[e,t]=S.useState("active"),[n,r]=S.useState(null);return S.useEffect(()=>{const i=async()=>{if(!navigator.onLine){t("offline");return}const o=performance.now();try{const{error:s}=await be.from("goals").select("id",{count:"exact",head:!0});s?(console.error("Supabase health check failed:",s),t("error")):(t("active"),r(Math.round(performance.now()-o)))}catch(s){console.error("Supabase connection error:",s),t("error")}};i(),window.addEventListener("online",i),window.addEventListener("offline",()=>t("offline"));const a=setInterval(i,3e4);return()=>{window.removeEventListener("online",i),window.removeEventListener("offline",()=>t("offline")),clearInterval(a)}},[]),{status:e,latency:n}};function yme(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const V6=I.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),Kd=()=>{const e=I.useContext(V6);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};yme(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,100%,0)}}@keyframes slideFromTop{from{transform:translate3d(0,-100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,-100%,0)}}@keyframes slideFromLeft{from{transform:translate3d(-100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(-100%,0,0)}}@keyframes slideFromRight{from{transform:translate3d(100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(100%,0,0)}}`);const vme=24,bme=typeof window<"u"?S.useLayoutEffect:S.useEffect;function FP(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}function xme(){return Pk(/^Mac/)}function wme(){return Pk(/^iPhone/)}function BP(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function Sme(){return Pk(/^iPad/)||xme()&&navigator.maxTouchPoints>1}function W6(){return wme()||Sme()}function Pk(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const ev=typeof document<"u"&&window.visualViewport;function qP(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function H6(e){for(qP(e)&&(e=e.parentElement);e&&!qP(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const _me=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let If=0,tv;function jme(e={}){let{isDisabled:t}=e;bme(()=>{if(!t)return If++,If===1&&W6()&&(tv=kme()),()=>{If--,If===0&&tv?.()}},[t])}function kme(){let e,t=0,n=f=>{e=H6(f.target),!(e===document.documentElement&&e===document.body)&&(t=f.changedTouches[0].pageY)},r=f=>{if(!e||e===document.documentElement||e===document.body){f.preventDefault();return}let h=f.changedTouches[0].pageY,p=e.scrollTop,y=e.scrollHeight-e.clientHeight;y!==0&&((p<=0&&h>t||p>=y&&h<t)&&f.preventDefault(),t=h)},i=f=>{let h=f.target;B1(h)&&h!==document.activeElement&&(f.preventDefault(),h.style.transform="translateY(-2000px)",h.focus(),requestAnimationFrame(()=>{h.style.transform=""}))},a=f=>{let h=f.target;B1(h)&&(h.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{h.style.transform="",ev&&(ev.height<window.innerHeight?requestAnimationFrame(()=>{UP(h)}):ev.addEventListener("resize",()=>UP(h),{once:!0}))}))},o=()=>{window.scrollTo(0,0)},s=window.pageXOffset,l=window.pageYOffset,c=FP(Eme(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let d=FP(Nc(document,"touchstart",n,{passive:!1,capture:!0}),Nc(document,"touchmove",r,{passive:!1,capture:!0}),Nc(document,"touchend",i,{passive:!1,capture:!0}),Nc(document,"focus",a,!0),Nc(window,"scroll",o));return()=>{c(),d(),window.scrollTo(s,l)}}function Eme(e,t,n){let r=e.style[t];return e.style[t]=n,()=>{e.style[t]=r}}function Nc(e,t,n,r){return e.addEventListener(t,n,r),()=>{e.removeEventListener(t,n,r)}}function UP(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=H6(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let r=n.getBoundingClientRect().top,i=e.getBoundingClientRect().top,a=e.getBoundingClientRect().bottom;const o=n.getBoundingClientRect().bottom+vme;a>o&&(n.scrollTop+=i-r)}e=n.parentElement}}function B1(e){return e instanceof HTMLInputElement&&!_me.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function Ame(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Ome(...e){return t=>e.forEach(n=>Ame(n,t))}function G6(...e){return S.useCallback(Ome(...e),e)}const K6=new WeakMap;function nn(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let r={};Object.entries(t).forEach(([i,a])=>{if(i.startsWith("--")){e.style.setProperty(i,a);return}r[i]=e.style[i],e.style[i]=a}),!n&&K6.set(e,r)}function Cme(e,t){if(!e||!(e instanceof HTMLElement))return;let n=K6.get(e);n&&(e.style[t]=n[t])}const rn=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function Mf(e,t){if(!e)return null;const n=window.getComputedStyle(e),r=n.transform||n.webkitTransform||n.mozTransform;let i=r.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[rn(t)?13:12]):(i=r.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[rn(t)?5:4]):null)}function Pme(e){return 8*(Math.log(e+1)-2)}function nv(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function Tme(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}const Rt={DURATION:.5,EASE:[.32,.72,0,1]},Y6=.4,Nme=.25,Rme=100,X6=8,go=16,q1=26,rv="vaul-dragging";function Q6(e){const t=I.useRef(e);return I.useEffect(()=>{t.current=e}),I.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function Ime({defaultProp:e,onChange:t}){const n=I.useState(e),[r]=n,i=I.useRef(r),a=Q6(t);return I.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),n}function J6({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=Ime({defaultProp:t,onChange:n}),a=e!==void 0,o=a?e:r,s=Q6(n),l=I.useCallback(c=>{if(a){const f=typeof c=="function"?c(e):c;f!==e&&s(f)}else i(c)},[a,e,i,s]);return[o,l]}function Mme({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:r,overlayRef:i,fadeFromIndex:a,onSnapPointChange:o,direction:s="bottom",container:l,snapToSequentialPoint:c}){const[d,f]=J6({prop:e,defaultProp:n?.[0],onChange:t}),[h,p]=I.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);I.useEffect(()=>{function k(){p({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",k),()=>window.removeEventListener("resize",k)},[]);const y=I.useMemo(()=>d===n?.[n.length-1]||null,[n,d]),m=I.useMemo(()=>n?.findIndex(k=>k===d),[n,d]),g=n&&n.length>0&&(a||a===0)&&!Number.isNaN(a)&&n[a]===d||!n,v=I.useMemo(()=>{const k=l?{width:l.getBoundingClientRect().width,height:l.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var A;return(A=n?.map(P=>{const O=typeof P=="string";let T=0;if(O&&(T=parseInt(P,10)),rn(s)){const M=O?T:h?P*k.height:0;return h?s==="bottom"?k.height-M:-k.height+M:M}const N=O?T:h?P*k.width:0;return h?s==="right"?k.width-N:-k.width+N:N}))!=null?A:[]},[n,h,l]),b=I.useMemo(()=>m!==null?v?.[m]:null,[v,m]),x=I.useCallback(k=>{var A;const P=(A=v?.findIndex(O=>O===k))!=null?A:null;o(P),nn(r.current,{transition:`transform ${Rt.DURATION}s cubic-bezier(${Rt.EASE.join(",")})`,transform:rn(s)?`translate3d(0, ${k}px, 0)`:`translate3d(${k}px, 0, 0)`}),v&&P!==v.length-1&&P!==a&&P<a?nn(i.current,{transition:`opacity ${Rt.DURATION}s cubic-bezier(${Rt.EASE.join(",")})`,opacity:"0"}):nn(i.current,{transition:`opacity ${Rt.DURATION}s cubic-bezier(${Rt.EASE.join(",")})`,opacity:"1"}),f(n?.[Math.max(P,0)])},[r.current,n,v,a,i,f]);I.useEffect(()=>{if(d||e){var k;const A=(k=n?.findIndex(P=>P===e||P===d))!=null?k:-1;v&&A!==-1&&typeof v[A]=="number"&&x(v[A])}},[d,e,n,v,x]);function _({draggedDistance:k,closeDrawer:A,velocity:P,dismissible:O}){if(a===void 0)return;const T=s==="bottom"||s==="right"?(b??0)-k:(b??0)+k,N=m===a-1,M=m===0,E=k>0;if(N&&nn(i.current,{transition:`opacity ${Rt.DURATION}s cubic-bezier(${Rt.EASE.join(",")})`}),!c&&P>2&&!E){O?A():x(v[0]);return}if(!c&&P>2&&E&&v&&n){x(v[n.length-1]);return}const R=v?.reduce((z,q)=>typeof z!="number"||typeof q!="number"?z:Math.abs(q-T)<Math.abs(z-T)?q:z),F=rn(s)?window.innerHeight:window.innerWidth;if(P>Y6&&Math.abs(k)<F*.4){const z=E?1:-1;if(z>0&&y){x(v[n.length-1]);return}if(M&&z<0&&O&&A(),m===null)return;x(v[m+z]);return}x(R)}function w({draggedDistance:k}){if(b===null)return;const A=s==="bottom"||s==="right"?b-k:b+k;(s==="bottom"||s==="right")&&A<v[v.length-1]||(s==="top"||s==="left")&&A>v[v.length-1]||nn(r.current,{transform:rn(s)?`translate3d(0, ${A}px, 0)`:`translate3d(${A}px, 0, 0)`})}function j(k,A){if(!n||typeof m!="number"||!v||a===void 0)return null;const P=m===a-1;if(m>=a&&A)return 0;if(P&&!A)return 1;if(!g&&!P)return null;const T=P?m+1:m-1,N=P?v[T]-v[T-1]:v[T+1]-v[T],M=k/Math.abs(N);return P?1-M:M}return{isLastSnapPoint:y,activeSnapPoint:d,shouldFade:g,getPercentageDragged:j,setActiveSnapPoint:f,activeSnapPointIndex:m,onRelease:_,onDrag:w,snapPointsOffset:v}}const Dme=()=>()=>{};function $me(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:r,noBodyStyles:i}=Kd(),a=I.useRef(null),o=S.useMemo(()=>document.body.style.backgroundColor,[]);function s(){return(window.innerWidth-q1)/window.innerWidth}I.useEffect(()=>{if(t&&n){a.current&&clearTimeout(a.current);const l=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!l)return;Tme(r&&!i?nv(document.body,{background:"black"}):Dme,nv(l,{transformOrigin:rn(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Rt.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Rt.EASE.join(",")})`}));const c=nv(l,{borderRadius:`${X6}px`,overflow:"hidden",...rn(e)?{transform:`scale(${s()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${s()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{c(),a.current=window.setTimeout(()=>{o?document.body.style.background=o:document.body.style.removeProperty("background")},Rt.DURATION*1e3)}}},[t,n,o])}let Rc=null;function Lme({isOpen:e,modal:t,nested:n,hasBeenOpened:r,preventScrollRestoration:i,noBodyStyles:a}){const[o,s]=I.useState(()=>typeof window<"u"?window.location.href:""),l=I.useRef(0),c=I.useCallback(()=>{if(BP()&&Rc===null&&e&&!a){Rc={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:f,innerHeight:h}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-l.current}px`,left:`${-f}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const p=h-window.innerHeight;p&&l.current>=h&&(document.body.style.top=`${-(l.current+p)}px`)}),300)}},[e]),d=I.useCallback(()=>{if(BP()&&Rc!==null&&!a){const f=-parseInt(document.body.style.top,10),h=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Rc),window.requestAnimationFrame(()=>{if(i&&o!==window.location.href){s(window.location.href);return}window.scrollTo(h,f)}),Rc=null}},[o]);return I.useEffect(()=>{function f(){l.current=window.scrollY}return f(),window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}},[]),I.useEffect(()=>{n||!r||(e?(!window.matchMedia("(display-mode: standalone)").matches&&c(),t||window.setTimeout(()=>{d()},500)):d())},[e,r,o,t,n,c,d]),{restorePositionSetting:d}}function zme({open:e,onOpenChange:t,children:n,onDrag:r,onRelease:i,snapPoints:a,shouldScaleBackground:o=!1,setBackgroundColorOnScale:s=!0,closeThreshold:l=Nme,scrollLockTimeout:c=Rme,dismissible:d=!0,handleOnly:f=!1,fadeFromIndex:h=a&&a.length-1,activeSnapPoint:p,setActiveSnapPoint:y,fixed:m,modal:g=!0,onClose:v,nested:b,noBodyStyles:x,direction:_="bottom",defaultOpen:w=!1,disablePreventScroll:j=!0,snapToSequentialPoint:k=!1,preventScrollRestoration:A=!1,repositionInputs:P=!0,onAnimationEnd:O,container:T,autoFocus:N=!1}){var M,E;const[R=!1,F]=J6({defaultProp:w,prop:e,onChange:ke=>{t?.(ke),!ke&&!b&&Y(),setTimeout(()=>{O?.(ke)},Rt.DURATION*1e3),ke&&!g&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),ke||(document.body.style.pointerEvents="auto")}}),[z,q]=I.useState(!1),[L,D]=I.useState(!1),[W,B]=I.useState(!1),$=I.useRef(null),Q=I.useRef(null),Z=I.useRef(null),fe=I.useRef(null),le=I.useRef(null),ue=I.useRef(!1),ee=I.useRef(null),te=I.useRef(0),ce=I.useRef(!1),J=I.useRef(0),re=I.useRef(null),C=I.useRef(((M=re.current)==null?void 0:M.getBoundingClientRect().height)||0),G=I.useRef(((E=re.current)==null?void 0:E.getBoundingClientRect().width)||0),H=I.useRef(0),V=I.useCallback(ke=>{a&&ke===X.length-1&&(Q.current=new Date)},[]),{activeSnapPoint:U,activeSnapPointIndex:K,setActiveSnapPoint:ie,onRelease:ne,snapPointsOffset:X,onDrag:de,shouldFade:ve,getPercentageDragged:he}=Mme({snapPoints:a,activeSnapPointProp:p,setActiveSnapPointProp:y,drawerRef:re,fadeFromIndex:h,overlayRef:$,onSnapPointChange:V,direction:_,container:T,snapToSequentialPoint:k});jme({isDisabled:!R||L||!g||W||!z||!P||!j});const{restorePositionSetting:Y}=Lme({isOpen:R,modal:g,nested:b,hasBeenOpened:z,preventScrollRestoration:A,noBodyStyles:x});function oe(){return(window.innerWidth-q1)/window.innerWidth}function ye(ke){var rt,st;!d&&!a||re.current&&!re.current.contains(ke.target)||(C.current=((rt=re.current)==null?void 0:rt.getBoundingClientRect().height)||0,G.current=((st=re.current)==null?void 0:st.getBoundingClientRect().width)||0,D(!0),Z.current=new Date,W6()&&window.addEventListener("touchend",()=>ue.current=!1,{once:!0}),ke.target.setPointerCapture(ke.pointerId),te.current=rn(_)?ke.pageY:ke.pageX)}function Pe(ke,rt){var st,ct;let Te=ke;const Ge=(st=window.getSelection())==null?void 0:st.toString(),ut=re.current?Mf(re.current,_):null,Se=new Date;if(Te.hasAttribute("data-vaul-no-drag")||Te.closest("[data-vaul-no-drag]"))return!1;if(_==="right"||_==="left")return!0;if(Q.current&&Se.getTime()-Q.current.getTime()<500)return!1;if(ut!==null&&(_==="bottom"?ut>0:ut<0))return!0;if(Ge&&Ge.length>0)return!1;if(Se.getTime()-((ct=le.current)==null?void 0:ct.getTime())<c&&ut===0||rt)return le.current=Se,!1;for(;Te;){if(Te.scrollHeight>Te.clientHeight){if(Te.scrollTop!==0)return le.current=new Date,!1;if(Te.getAttribute("role")==="dialog")return!0}Te=Te.parentNode}return!0}function Ue(ke){if(re.current&&L){const rt=_==="bottom"||_==="right"?1:-1,st=(te.current-(rn(_)?ke.pageY:ke.pageX))*rt,ct=st>0,Te=a&&!d&&!ct;if(Te&&K===0)return;const Ge=Math.abs(st),ut=document.querySelector("[data-vaul-drawer-wrapper]"),Se=_==="bottom"||_==="top"?C.current:G.current;let Ie=Ge/Se;const Fe=he(Ge,ct);if(Fe!==null&&(Ie=Fe),Te&&Ie>=1||!ue.current&&!Pe(ke.target,ct))return;if(re.current.classList.add(rv),ue.current=!0,nn(re.current,{transition:"none"}),nn($.current,{transition:"none"}),a&&de({draggedDistance:st}),ct&&!a){const gt=Pme(st),ft=Math.min(gt*-1,0)*rt;nn(re.current,{transform:rn(_)?`translate3d(0, ${ft}px, 0)`:`translate3d(${ft}px, 0, 0)`});return}const dt=1-Ie;if((ve||h&&K===h-1)&&(r?.(ke,Ie),nn($.current,{opacity:`${dt}`,transition:"none"},!0)),ut&&$.current&&o){const gt=Math.min(oe()+Ie*(1-oe()),1),ft=8-Ie*8,Jt=Math.max(0,14-Ie*14);nn(ut,{borderRadius:`${ft}px`,transform:rn(_)?`scale(${gt}) translate3d(0, ${Jt}px, 0)`:`scale(${gt}) translate3d(${Jt}px, 0, 0)`,transition:"none"},!0)}if(!a){const gt=Ge*rt;nn(re.current,{transform:rn(_)?`translate3d(0, ${gt}px, 0)`:`translate3d(${gt}px, 0, 0)`})}}}I.useEffect(()=>{var ke;function rt(){if(!re.current||!P)return;const st=document.activeElement;if(B1(st)||ce.current){var ct;const Te=((ct=window.visualViewport)==null?void 0:ct.height)||0,Ge=window.innerHeight;let ut=Ge-Te;const Se=re.current.getBoundingClientRect().height||0,Ie=Se>Ge*.8;H.current||(H.current=Se);const Fe=re.current.getBoundingClientRect().top;if(Math.abs(J.current-ut)>60&&(ce.current=!ce.current),a&&a.length>0&&X&&K){const dt=X[K]||0;ut+=dt}if(J.current=ut,Se>Te||ce.current){const dt=re.current.getBoundingClientRect().height;let gt=dt;dt>Te&&(gt=Te-(Ie?Fe:q1)),m?re.current.style.height=`${dt-Math.max(ut,0)}px`:re.current.style.height=`${Math.max(gt,Te-Fe)}px`}else re.current.style.height=`${H.current}px`;a&&a.length>0&&!ce.current?re.current.style.bottom="0px":re.current.style.bottom=`${Math.max(ut,0)}px`}}return(ke=window.visualViewport)==null||ke.addEventListener("resize",rt),()=>{var st;return(st=window.visualViewport)==null?void 0:st.removeEventListener("resize",rt)}},[K,a,X]);function Ke(ke){Ye(),v?.(),ke||F(!1),setTimeout(()=>{a&&ie(a[0])},Rt.DURATION*1e3)}function Mt(){if(!re.current)return;const ke=document.querySelector("[data-vaul-drawer-wrapper]"),rt=Mf(re.current,_);nn(re.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Rt.DURATION}s cubic-bezier(${Rt.EASE.join(",")})`}),nn($.current,{transition:`opacity ${Rt.DURATION}s cubic-bezier(${Rt.EASE.join(",")})`,opacity:"1"}),o&&rt&&rt>0&&R&&nn(ke,{borderRadius:`${X6}px`,overflow:"hidden",...rn(_)?{transform:`scale(${oe()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${oe()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Rt.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Rt.EASE.join(",")})`},!0)}function Ye(){!L||!re.current||(re.current.classList.remove(rv),ue.current=!1,D(!1),fe.current=new Date)}function zt(ke){if(!L||!re.current)return;re.current.classList.remove(rv),ue.current=!1,D(!1),fe.current=new Date;const rt=Mf(re.current,_);if(!Pe(ke.target,!1)||!rt||Number.isNaN(rt)||Z.current===null)return;const st=fe.current.getTime()-Z.current.getTime(),ct=te.current-(rn(_)?ke.pageY:ke.pageX),Te=Math.abs(ct)/st;if(Te>.05&&(B(!0),setTimeout(()=>{B(!1)},200)),a){ne({draggedDistance:ct*(_==="bottom"||_==="right"?1:-1),closeDrawer:Ke,velocity:Te,dismissible:d}),i?.(ke,!0);return}if(_==="bottom"||_==="right"?ct>0:ct<0){Mt(),i?.(ke,!0);return}if(Te>Y6){Ke(),i?.(ke,!1);return}var Ge;const ut=Math.min((Ge=re.current.getBoundingClientRect().height)!=null?Ge:0,window.innerHeight);var Se;const Ie=Math.min((Se=re.current.getBoundingClientRect().width)!=null?Se:0,window.innerWidth),Fe=_==="left"||_==="right";if(Math.abs(rt)>=(Fe?Ie:ut)*l){Ke(),i?.(ke,!1);return}i?.(ke,!0),Mt()}I.useEffect(()=>(R&&(nn(document.documentElement,{scrollBehavior:"auto"}),Q.current=new Date),()=>{Cme(document.documentElement,"scrollBehavior")}),[R]);function un(ke){const rt=ke?(window.innerWidth-go)/window.innerWidth:1,st=ke?-go:0;ee.current&&window.clearTimeout(ee.current),nn(re.current,{transition:`transform ${Rt.DURATION}s cubic-bezier(${Rt.EASE.join(",")})`,transform:`scale(${rt}) translate3d(0, ${st}px, 0)`}),!ke&&re.current&&(ee.current=setTimeout(()=>{const ct=Mf(re.current,_);nn(re.current,{transition:"none",transform:rn(_)?`translate3d(0, ${ct}px, 0)`:`translate3d(${ct}px, 0, 0)`})},500))}function nt(ke,rt){if(rt<0)return;const st=(window.innerWidth-go)/window.innerWidth,ct=st+rt*(1-st),Te=-go+rt*go;nn(re.current,{transform:rn(_)?`scale(${ct}) translate3d(0, ${Te}px, 0)`:`scale(${ct}) translate3d(${Te}px, 0, 0)`,transition:"none"})}function Cn(ke,rt){const st=rn(_)?window.innerHeight:window.innerWidth,ct=rt?(st-go)/st:1,Te=rt?-go:0;rt&&nn(re.current,{transition:`transform ${Rt.DURATION}s cubic-bezier(${Rt.EASE.join(",")})`,transform:rn(_)?`scale(${ct}) translate3d(0, ${Te}px, 0)`:`scale(${ct}) translate3d(${Te}px, 0, 0)`})}return I.createElement(Rm,{defaultOpen:w,onOpenChange:ke=>{!d&&!ke||(ke?q(!0):Ke(!0),F(ke))},open:R},I.createElement(V6.Provider,{value:{activeSnapPoint:U,snapPoints:a,setActiveSnapPoint:ie,drawerRef:re,overlayRef:$,onOpenChange:t,onPress:ye,onRelease:zt,onDrag:Ue,dismissible:d,handleOnly:f,isOpen:R,isDragging:L,shouldFade:ve,closeDrawer:Ke,onNestedDrag:nt,onNestedOpenChange:un,onNestedRelease:Cn,keyboardIsOpen:ce,modal:g,snapPointsOffset:X,direction:_,shouldScaleBackground:o,setBackgroundColorOnScale:s,noBodyStyles:x,container:T,autoFocus:N}},n))}const Z6=I.forwardRef(function({...e},t){const{overlayRef:n,snapPoints:r,onRelease:i,shouldFade:a,isOpen:o,modal:s}=Kd(),l=G6(t,n),c=r&&r.length>0;return s?I.createElement(Yl,{onMouseUp:i,ref:l,"data-vaul-overlay":"","data-vaul-snap-points":o&&c?"true":"false","data-vaul-snap-points-overlay":o&&a?"true":"false",...e}):(typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),null)});Z6.displayName="Drawer.Overlay";const e8=I.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:n,...r},i){const{drawerRef:a,onPress:o,onRelease:s,onDrag:l,keyboardIsOpen:c,snapPointsOffset:d,modal:f,isOpen:h,direction:p,snapPoints:y,container:m,handleOnly:g,autoFocus:v}=Kd(),[b,x]=I.useState(!1),_=G6(i,a),w=I.useRef(null),j=I.useRef(null),k=I.useRef(!1),A=y&&y.length>0;$me();const P=(T,N,M=0)=>{if(k.current)return!0;const E=Math.abs(T.y),R=Math.abs(T.x),F=R>E,z=["bottom","right"].includes(N)?1:-1;if(N==="left"||N==="right"){if(!(T.x*z<0)&&R>=0&&R<=M)return F}else if(!(T.y*z<0)&&E>=0&&E<=M)return!F;return k.current=!0,!0};I.useEffect(()=>{A&&window.requestAnimationFrame(()=>{x(!0)})},[]);function O(T){w.current=null,k.current=!1,s(T)}return I.createElement(Xl,{"data-vaul-drawer-direction":p,"data-vaul-drawer":"","data-vaul-delayed-snap-points":b?"true":"false","data-vaul-snap-points":h&&A?"true":"false","data-vaul-custom-container":m?"true":"false",...r,ref:_,style:d&&d.length>0?{"--snap-point-height":`${d[0]}px`,...t}:t,onPointerDown:T=>{g||(r.onPointerDown==null||r.onPointerDown.call(r,T),w.current={x:T.pageX,y:T.pageY},o(T))},onOpenAutoFocus:T=>{n?.(T),v||T.preventDefault()},onPointerDownOutside:T=>{if(e?.(T),!f||T.defaultPrevented){T.preventDefault();return}c.current&&(c.current=!1)},onFocusOutside:T=>{if(!f){T.preventDefault();return}},onPointerMove:T=>{if(j.current=T,g||(r.onPointerMove==null||r.onPointerMove.call(r,T),!w.current))return;const N=T.pageY-w.current.y,M=T.pageX-w.current.x,E=T.pointerType==="touch"?10:2;P({x:M,y:N},p,E)?l(T):(Math.abs(M)>E||Math.abs(N)>E)&&(w.current=null)},onPointerUp:T=>{r.onPointerUp==null||r.onPointerUp.call(r,T),w.current=null,k.current=!1,s(T)},onPointerOut:T=>{r.onPointerOut==null||r.onPointerOut.call(r,T),O(j.current)},onContextMenu:T=>{r.onContextMenu==null||r.onContextMenu.call(r,T),O(j.current)}})});e8.displayName="Drawer.Content";const Fme=250,Bme=120,qme=I.forwardRef(function({preventCycle:e=!1,children:t,...n},r){const{closeDrawer:i,isDragging:a,snapPoints:o,activeSnapPoint:s,setActiveSnapPoint:l,dismissible:c,handleOnly:d,isOpen:f,onPress:h,onDrag:p}=Kd(),y=I.useRef(null),m=I.useRef(!1);function g(){if(m.current){x();return}window.setTimeout(()=>{v()},Bme)}function v(){if(a||e||m.current){x();return}if(x(),(!o||o.length===0)&&c){i();return}if(s===o[o.length-1]&&c){i();return}const w=o.findIndex(k=>k===s);if(w===-1)return;const j=o[w+1];l(j)}function b(){y.current=window.setTimeout(()=>{m.current=!0},Fme)}function x(){window.clearTimeout(y.current),m.current=!1}return I.createElement("div",{onClick:g,onPointerCancel:x,onPointerDown:_=>{d&&h(_),b()},onPointerMove:_=>{d&&p(_)},ref:r,"data-vaul-drawer-visible":f?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},I.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});qme.displayName="Drawer.Handle";function Ume(e){const t=Kd(),{container:n=t.container,...r}=e;return I.createElement(Mm,{container:n,...r})}const Ni={Root:zme,Content:e8,Overlay:Z6,Trigger:Im,Portal:Ume,Title:Ql,Description:Jl},t8=({shouldScaleBackground:e=!0,...t})=>u.jsx(Ni.Root,{shouldScaleBackground:e,...t});t8.displayName="Drawer";const Vme=Ni.Trigger,Wme=Ni.Portal,n8=S.forwardRef(({className:e,...t},n)=>u.jsx(Ni.Overlay,{ref:n,className:ae("fixed inset-0 z-50 bg-black/80",e),...t}));n8.displayName=Ni.Overlay.displayName;const r8=S.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(Wme,{children:[u.jsx(n8,{}),u.jsxs(Ni.Content,{ref:r,className:ae("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),...n,children:[u.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]}));r8.displayName="DrawerContent";const i8=({className:e,...t})=>u.jsx("div",{className:ae("grid gap-1.5 p-4 text-center sm:text-left",e),...t});i8.displayName="DrawerHeader";const a8=S.forwardRef(({className:e,...t},n)=>u.jsx(Ni.Title,{ref:n,className:ae("text-lg font-semibold leading-none tracking-tight",e),...t}));a8.displayName=Ni.Title.displayName;const o8=S.forwardRef(({className:e,...t},n)=>u.jsx(Ni.Description,{ref:n,className:ae("text-sm text-muted-foreground",e),...t}));o8.displayName=Ni.Description.displayName;const Hme=()=>{const e=u5(),{status:t,latency:n}=gme(),{data:r}=U6(),{goals:i,logs:a,allGoals:o,rawLogs:s,createGoal:l,updateGoal:c,updateOrder:d,deleteGoal:f,toggleGoal:h,isDeleting:p,isUpdating:y,resetAllData:m,isResetting:g}=zj(),{isPrivacyMode:v,setIsPrivacyMode:b}=Cm(),{isAIEnabled:x,setIsAIEnabled:_}=ym(),w=()=>{if(!s||!o){We.error("Nessun dato da esportare");return}try{const A=new Map(o.map(M=>[M.id,M.title])),P=["Date,Habit Name,Status,Value,Notes"];s.forEach(M=>{const E=A.get(M.goal_id)||"Archived Habit",R=z=>`"${z.replace(/"/g,'""')}"`,F=[M.date,R(E),M.status,M.value||"",M.notes?R(M.notes):""].join(",");P.push(F)});const O=new Blob([P.join(`
`)],{type:"text/csv;charset=utf-8;"}),T=window.URL.createObjectURL(O),N=document.createElement("a");N.href=T,N.download=`habit-tracker-export-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(N),N.click(),window.URL.revokeObjectURL(T),document.body.removeChild(N),We.success("Export completato!")}catch(A){console.error("Export failed:",A),We.error("Errore durante l'export")}},[j,k]=S.useState("month");return u.jsxs("div",{className:"flex-1 h-full overflow-hidden flex flex-col pt-4 lg:pt-8 pb-0 sm:pb-8 px-4 sm:px-8 animate-fade-in relative z-10 w-full max-w-[2400px] mx-auto",children:[u.jsx("div",{className:"fixed top-[-20%] left-[-10%] w-[50%] h-[50%] bg-primary/5 blur-[120px] rounded-full pointer-events-none -z-10"}),u.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-12 gap-2 lg:gap-8 w-full h-full lg:h-full",children:[u.jsxs("div",{className:"lg:col-span-3 space-y-2 lg:space-y-8",children:[u.jsxs("div",{className:"glass-panel p-4 lg:p-6 rounded-2xl space-y-4 transition-all",children:[u.jsxs("div",{className:"flex flex-row lg:flex-col items-center lg:items-start justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl lg:text-3xl font-display font-bold text-foreground",children:"Protocollo"}),u.jsx("p",{className:"text-muted-foreground text-xs lg:text-sm",children:"Esecuzione giornaliera."})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(D1,{id:"privacy-mode",checked:v,onCheckedChange:b}),u.jsxs(ni,{htmlFor:"privacy-mode",className:"text-xs text-muted-foreground flex items-center gap-2 cursor-pointer sr-only lg:not-sr-only lg:flex",children:[v?u.jsx(s9,{className:"w-3 h-3"}):u.jsx(q5,{className:"w-3 h-3"}),"Privacy"]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(D1,{id:"ai-mode",checked:x,onCheckedChange:_}),u.jsxs(ni,{htmlFor:"ai-mode",className:"text-xs text-muted-foreground flex items-center gap-2 cursor-pointer sr-only lg:not-sr-only lg:flex",children:[u.jsx(L5,{className:"w-3 h-3"}),"AI"]})]})]})]}),u.jsxs("div",{className:"pt-0 lg:pt-4 border-t-0 lg:border-t border-white/5 flex gap-2 justify-end lg:justify-start",children:[u.jsx("div",{className:"lg:hidden mr-auto relative",children:u.jsxs(t8,{shouldScaleBackground:!1,children:[u.jsx(Vme,{asChild:!0,children:u.jsxs(Ce,{variant:"outline",size:"icon",className:ae("h-10 w-10 sm:h-9 sm:w-9 border-primary/20 bg-primary/5 transition-all",r?"text-muted-foreground":"text-primary border-primary/40 shadow-[0_0_10px_-3px_rgba(255,255,255,0.1)]"),children:[u.jsx(U5,{className:ae("h-4 w-4",!r&&"animate-pulse")}),!r&&u.jsx("span",{className:"absolute top-2 right-2.5 h-1.5 w-1.5 rounded-full bg-red-500 shadow-[0_0_8px_2px_rgba(239,68,68,0.5)] animate-pulse"})]})}),u.jsx(r8,{children:u.jsxs("div",{className:"mx-auto w-full max-w-sm",children:[u.jsxs(i8,{children:[u.jsx(a8,{children:"Daily Check-in"}),u.jsx(o8,{children:"Traccia il tuo umore ed energia."})]}),u.jsx("div",{className:"p-4 pb-8",children:u.jsx(zP,{})})]})})]})}),u.jsx(Ppe,{}),u.jsx(Gse,{habits:i,onAddHabit:l,onUpdateHabit:c,onUpdateOrder:d,onRemoveHabit:f,isDeleting:p,isUpdating:y,isPrivacyMode:v}),u.jsxs(Bo,{children:[u.jsx(cl,{asChild:!0,children:u.jsx(Ce,{variant:"outline",size:"icon",className:"h-10 w-10 sm:h-9 sm:w-9",title:"Esporta dati CSV",children:u.jsx(nl,{className:"h-4 w-4"})})}),u.jsxs(La,{children:[u.jsxs(za,{children:[u.jsx(Ba,{children:"Esportare i dati?"}),u.jsxs(qa,{children:["Verr scaricato un file CSV contenente tutto lo storico delle tue abitudini. ",u.jsx("br",{}),"Vuoi procedere con il download?"]})]}),u.jsxs(Fa,{children:[u.jsx(Jo,{children:"Annulla"}),u.jsx(Ua,{onClick:w,children:"Esporta CSV"})]})]})]}),u.jsx(Ce,{variant:"outline",size:"icon",className:"h-10 w-10 sm:h-9 sm:w-9 border-primary/20 bg-primary/5 hover:bg-primary/10",title:"Backup Completo",onClick:()=>e("/complete-backup"),children:u.jsx(Go,{className:"h-4 w-4"})}),u.jsxs(Bo,{children:[u.jsx(cl,{asChild:!0,children:u.jsx(Ce,{variant:"ghost",size:"icon",className:"h-10 w-10 sm:h-9 sm:w-9 bg-red-500/10 text-red-500 hover:bg-red-500 hover:text-white border-red-500/20",title:"Hard Reset (Elimina tutto)",children:u.jsx(N_,{className:"h-4 w-4"})})}),u.jsxs(La,{children:[u.jsxs(za,{children:[u.jsx(Ba,{className:"text-destructive",children:"Hard Reset: Attenzione!"}),u.jsxs(qa,{children:["Questa azione eliminer ",u.jsx("strong",{children:"definitivamente"})," tutte le tue abitudini e tutto lo storico dei progressi.",u.jsx("br",{}),u.jsx("br",{}),"I dati non potranno essere recuperati. Sei sicuro di voler procedere?"]})]}),u.jsxs(Fa,{children:[u.jsx(Jo,{children:"Annulla"}),u.jsx(Ua,{onClick:()=>m(),className:"bg-destructive hover:bg-destructive/90 text-destructive-foreground",disabled:g,children:g?"Eliminazione...":"Conferma Reset Totale"})]})]})]})]})]}),u.jsxs("div",{className:"glass-card p-6 rounded-2xl hidden lg:block transition-colors duration-300",children:[u.jsxs("h3",{className:"text-sm font-medium text-muted-foreground uppercase tracking-widest mb-2 flex items-center justify-between",children:["System Status",t==="active"&&u.jsx(R9,{className:"w-4 h-4 text-green-500"}),t==="offline"&&u.jsx(N9,{className:"w-4 h-4 text-yellow-500"}),t==="error"&&u.jsx(rl,{className:"w-4 h-4 text-red-500"})]}),u.jsxs("div",{className:"flex items-baseline gap-2",children:[u.jsx("span",{className:ae("text-2xl font-bold font-mono-nums transition-colors",t==="active"?"text-primary":t==="offline"?"text-yellow-500":"text-red-500"),children:t==="active"?"Online":t==="offline"?"Offline":"Error"}),u.jsx("span",{className:ae("w-2 h-2 rounded-full animate-pulse",t==="active"?"bg-green-500":t==="offline"?"bg-yellow-500":"bg-red-500")})]}),u.jsxs("p",{className:"text-xs text-muted-foreground mt-4 flex justify-between items-center",children:[u.jsx("span",{children:"Mattioli.OS v4.1"}),n&&u.jsxs("span",{className:"font-mono opacity-50",children:[n,"ms"]})]})]}),u.jsx("div",{className:"hidden lg:block",children:u.jsx(zP,{})})]}),u.jsx("div",{className:"lg:col-span-9 flex flex-col flex-1 h-full min-h-0 overflow-hidden lg:overflow-visible",children:u.jsxs(Js,{defaultValue:"month",value:j,onValueChange:k,className:"w-full h-full flex flex-col",children:[u.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mb-4 lg:mb-4 shrink-0",children:u.jsxs(qo,{className:"grid w-full grid-cols-4 bg-card/40 border border-white/10 backdrop-blur-md rounded-xl p-1 shadow-sm h-10 sm:h-auto",children:[u.jsxs(vt,{value:"month",className:"rounded-lg data-[state=active]:bg-primary/20 data-[state=active]:text-primary font-medium text-xs sm:text-sm h-full sm:py-2 flex items-center justify-center gap-1.5 sm:gap-2",children:[u.jsx(Ha,{className:"w-4 h-4"}),u.jsx("span",{className:"xs:inline",children:"Mese"})]}),u.jsxs(vt,{value:"week",className:"rounded-lg data-[state=active]:bg-primary/20 data-[state=active]:text-primary font-medium text-xs sm:text-sm h-full sm:py-2 flex items-center justify-center gap-1.5 sm:gap-2",children:[u.jsx(h9,{className:"w-4 h-4"}),u.jsx("span",{className:"xs:inline",children:"Settimana"})]}),u.jsxs(vt,{value:"year",className:"rounded-lg data-[state=active]:bg-primary/20 data-[state=active]:text-primary font-medium text-xs sm:text-sm h-full sm:py-2 flex items-center justify-center gap-1.5 sm:gap-2",children:[u.jsx(m9,{className:"w-4 h-4"}),u.jsx("span",{className:"xs:inline",children:"Anno"})]}),u.jsxs(vt,{value:"vita",className:"rounded-lg data-[state=active]:bg-primary/20 data-[state=active]:text-primary font-medium text-xs sm:text-sm h-full sm:py-2 flex items-center justify-center gap-1.5 sm:gap-2",children:[u.jsx(c9,{className:"w-4 h-4"}),u.jsx("span",{className:"xs:inline",children:"Vita"})]})]})}),u.jsxs("div",{className:"flex-1 flex flex-col min-h-0 glass-panel rounded-xl sm:rounded-2xl p-0 sm:p-2 overflow-hidden mb-2",children:[u.jsx(Nn,{value:"month",className:"mt-0 animate-scale-in h-full",children:u.jsx(yae,{habits:o,records:a,onToggleHabit:h,isPrivacyMode:v})}),u.jsx(Nn,{value:"week",className:"mt-0 animate-scale-in h-full",children:u.jsx(vae,{habits:o,records:a,onToggleHabit:h,isPrivacyMode:v})}),u.jsx(Nn,{value:"year",className:"mt-0 animate-scale-in h-full",children:u.jsx(xae,{habits:o,records:a,onToggleHabit:h,isPrivacyMode:v})}),u.jsx(Nn,{value:"vita",className:"mt-0 animate-scale-in h-full",children:u.jsx(wae,{habits:o,records:a,isPrivacyMode:v})})]})]})})]})]})};function s8(e,t,n="weekly"){return S.useMemo(()=>{const r=ui(new Date),i=Object.keys(t).sort(),a=e.map(L=>{const D=ui(new Date(L.start_date)),W=L.id;let B=0,$=0,Q=0,Z=0,fe=0,le=0;const ue=Math.max(0,Mu(r,D)+1),ee=new Date(r);let te=!0;const ce=Xe(ee,"yyyy-MM-dd"),J=t[ce]?.[W];J==="done"?B++:J==="missed"&&(te=!1);let re=1;for(;;){const K=Kt(r,re);if(oi(K,D))break;const ie=Xe(K,"yyyy-MM-dd"),ne=t[ie]?.[W];if(ne==="done"?te&&B++:ne==="missed"&&(te=!1),!te||re>365*5)break;re++}if(ue>0){for(let K=0;K<ue;K++){const ie=Kt(r,K),ne=Xe(ie,"yyyy-MM-dd"),X=t[ne]?.[W];X==="done"?(le++,Q++,Z=Math.max(Z,fe),fe=0):(X==="missed"||X===null)&&(fe++,X==="missed"&&($=Math.max($,Q),Q=0))}$=Math.max($,Q),Z=Math.max(Z,fe)}let C=0,G=0;const H=Kt(r,29),V=wa(D,H)?D:H;wa(V,r)||_r({start:V,end:r}).forEach(K=>{C++;const ie=Xe(K,"yyyy-MM-dd");t[ie]?.[W]==="done"&&G++});const U=C>0?Math.round(G/C*100):0;return{id:L.id,title:L.title,color:L.color,currentStreak:B,longestStreak:$,worstStreak:Z,totalDays:le,completionRate:U}}),o=[],s=Kt(r,365);_r({start:s,end:r}).forEach(L=>{const D=Xe(L,"yyyy-MM-dd");let W=0,B=0;e.forEach(Q=>{const Z=new Date(Q.start_date);oi(ui(L),ui(Z))||(W++,t[D]?.[Q.id]==="done"&&B++)});let $=0;if(W>0&&B>0){const Q=B/W;Q<=.25?$=1:Q<=.5?$=2:Q<=.75?$=3:$=4}o.push({date:D,count:B,intensity:$})});const l=[];let c,d=r,f="day";switch(n){case"weekly":c=Kt(r,6),f="day";break;case"monthly":c=Kt(r,29),f="day";break;case"annual":c=yC(r,11),f="month";break;case"all":const L=e.reduce((D,W)=>oi(new Date(W.start_date),D)?new Date(W.start_date):D,r);c=L,Mu(r,L)>90?(f="month",c=qi(c)):f="day";break;default:c=Kt(r,6)}if(f==="day")_r({start:c,end:d}).forEach(L=>{const D=Xe(L,"yyyy-MM-dd");let W=Xe(L,"EEE",{locale:Hn});(n==="monthly"||n==="all")&&(W=Xe(L,"dd/MM",{locale:Hn}));const B={date:W};let $=0,Q=0;e.forEach(fe=>{const le=new Date(fe.start_date);if(oi(ui(L),ui(le))){B[fe.id]=0;return}Q++;const ee=t[D]?.[fe.id]==="done";ee&&$++,B[fe.id]=ee?100:0});const Z=Q>0?Math.round($/Q*100):0;B.overall=Z,l.push(B)});else{let L=qi(c);for(;!wa(L,d);){const D=Am(L),W=oi(D,d)?D:d,B={date:Xe(L,"MMM yy",{locale:Hn})};let $=0,Q=0;e.forEach(fe=>{const le=new Date(fe.start_date),ue=oi(L,le)?le:L;if(wa(ue,W)){B[fe.id]=0;return}let ee=0,te=0;_r({start:ue,end:W}).forEach(J=>{const re=Xe(J,"yyyy-MM-dd");te++,t[re]?.[fe.id]==="done"&&ee++});const ce=te>0?Math.round(ee/te*100):0;B[fe.id]=ce,$+=te,Q+=ee});const Z=$>0?Math.round(Q/$*100):0;B.overall=Z,l.push(B),L=qi(Kt(L,-32))}}const h=[0,0,0,0,0,0,0].map((L,D)=>({dayIndex:D,dayName:Xe(new Date(2024,0,7+D),"EEEE",{locale:Hn}),totalActive:0,totalDone:0,rate:0})),p=e.reduce((L,D)=>oi(new Date(D.start_date),L)?new Date(D.start_date):L,r),y=wa(p,Kt(r,365))?p:Kt(r,365);wa(y,r)||_r({start:y,end:r}).forEach(L=>{const D=L.getDay(),W=Xe(L,"yyyy-MM-dd");e.forEach(B=>{const $=new Date(B.start_date);oi(L,$)||(h[D].totalActive++,t[W]?.[B.id]==="done"&&h[D].totalDone++)})}),h.forEach(L=>{L.rate=L.totalActive>0?Math.round(L.totalDone/L.totalActive*100):0});const m=i.length,g=a.length>0?Math.round(a.reduce((L,D)=>L+D.completionRate,0)/a.length):0,v=Gme(e,t,r,a),b=Tr(r,{locale:Hn,weekStartsOn:1}),x=r,_=wre(b),w=Kt(b,1),j=qi(r),k=r,A=yC(j,1),P=Kt(j,1),O=Om(r),T=r,N=Sre(O),M=Kt(O,1),E=iv(e,t,b,x,_,w,"week"),R=iv(e,t,j,k,A,P,"month"),F=iv(e,t,O,T,N,M,"year"),z=e.map(L=>({habitId:L.id,week:E[L.id],month:R[L.id],year:F[L.id]}));return{habitStats:a,heatmapData:o,trendData:l,weekdayStats:h.sort((L,D)=>L.dayIndex===0?1:D.dayIndex===0?-1:L.dayIndex-D.dayIndex),totalActiveDays:m,globalSuccessRate:g,bestStreak:Math.max(...a.map(L=>L.longestStreak),0),worstDay:h.reduce((L,D)=>D.rate<L.rate&&D.totalActive>0?D:L,h[0]).dayName,comparisons:z,criticalHabits:v.sort((L,D)=>L.completionRate-D.completionRate)}},[e,t,n])}function iv(e,t,n,r,i,a,o="month"){const s={},l=e.map(d=>d.id),c=(d,f,h,p)=>{const y=oi(f,p)?p:f;if(wa(y,h))return 0;let m=0,g=0;return _r({start:y,end:h}).forEach(v=>{m++;const b=Xe(v,"yyyy-MM-dd");t[b]?.[d]==="done"&&g++}),m>0?Math.round(g/m*100):0};return l.forEach(d=>{const f=e.find(v=>v.id===d);if(!f)return;const h=new Date(f.start_date),p=c(d,n,r,h),y=c(d,i,a,h),m=p-y;let g="neutral";m>0&&(g="up"),m<0&&(g="down"),s[d]={previous:y,current:p,change:m,trend:g}}),s}function Gme(e,t,n,r){const i=[],a=Kt(n,90);return e.forEach(o=>{const s=[0,0,0,0,0,0,0].map(()=>({total:0,done:0})),l=oi(a,new Date(o.start_date))?new Date(o.start_date):a,c=Math.max(0,Mu(n,new Date(o.start_date)))+1;let d=4;c<8?d=1:c<15?d=2:c<29&&(d=3),wa(l,n)||_r({start:l,end:n}).forEach(m=>{const g=m.getDay(),v=Xe(m,"yyyy-MM-dd");s[g].total++,t[v]?.[o.id]==="done"&&s[g].done++});let f="",h=101;s.forEach((m,g)=>{if(m.total<d)return;const v=Math.round(m.done/m.total*100);if(v<h){h=v;const b=new Date(2024,0,7+g);f=Xe(b,"EEEE",{locale:Hn})}});const p=r.find(m=>m.id===o.id),y=p?p.completionRate:0;h===101&&(f="N/A",h=y),i.push({habitId:o.id,title:o.title,color:o.color,completionRate:y,worstDay:f,worstDayRate:h})}),i}function VP(e,t){if(e.length!==t.length||e.length===0)return 0;const n=e.length,r=e.reduce((d,f)=>d+f,0),i=t.reduce((d,f)=>d+f,0),a=e.reduce((d,f,h)=>d+f*t[h],0),o=e.reduce((d,f)=>d+f*f,0),s=t.reduce((d,f)=>d+f*f,0),l=n*a-r*i,c=Math.sqrt((n*o-r*r)*(n*s-i*i));return c===0?0:l/c}function WP(e){return e<=4?"low":e<=7?"medium":"high"}const Kme=(e,t)=>{const{data:n}=ji({queryKey:["moods"],queryFn:async()=>{const{data:a,error:o}=await be.from("daily_moods").select("*").order("date",{ascending:!1});if(o)throw o;return a}}),r=S.useMemo(()=>{if(!n||n.length===0||e.length===0)return[];const a=new Map;return n.forEach(o=>{a.set(o.date,{mood:o.mood_score,energy:o.energy_score})}),e.map(o=>{const s=[];Object.entries(t).forEach(([R,F])=>{const z=F[o.id],q=a.get(R);z&&q&&s.push({date:R,completed:z==="done",mood:q.mood,energy:q.energy})});const l=s.filter(R=>R.completed),c=s.filter(R=>!R.completed),d=l.length>0?l.reduce((R,F)=>R+F.mood,0)/l.length:0,f=c.length>0?c.reduce((R,F)=>R+F.mood,0)/c.length:0,h=l.length>0?l.reduce((R,F)=>R+F.energy,0)/l.length:0,p=c.length>0?c.reduce((R,F)=>R+F.energy,0)/c.length:0,y={low:0,medium:0,high:0},m={low:0,medium:0,high:0},g={low:0,medium:0,high:0},v={low:0,medium:0,high:0};s.forEach(R=>{const F=WP(R.mood),z=WP(R.energy);m[F]++,v[z]++,R.completed&&(y[F]++,g[z]++)});const b={low:m.low>0?y.low/m.low*100:0,medium:m.medium>0?y.medium/m.medium*100:0,high:m.high>0?y.high/m.high*100:0},x={low:v.low>0?g.low/v.low*100:0,medium:v.medium>0?g.medium/v.medium*100:0,high:v.high>0?g.high/v.high*100:0},_=s.map(R=>R.completed?1:0),w=s.map(R=>R.mood),j=s.map(R=>R.energy),k=VP(w,_),A=VP(j,_),O=b.high-b.low>30&&k>.3,N=x.high-x.low>30&&A>.3,M=b.low>=60&&x.low>=60;return{habitId:o.id,habitTitle:o.title,habitColor:o.color,avgMoodWhenCompleted:d,avgMoodWhenMissed:f,avgEnergyWhenCompleted:h,avgEnergyWhenMissed:p,completionRateByMood:b,completionRateByEnergy:x,moodCorrelation:k,energyCorrelation:A,isMoodSensitive:O,isEnergySensitive:N,isResilient:M,totalDaysWithMoodData:s.length,daysCompleted:l.length,daysMissed:c.length}})},[e,t,n]),i=S.useMemo(()=>{const a=r.filter(o=>o.totalDaysWithMoodData>=5);return{moodSensitiveHabits:a.filter(o=>o.isMoodSensitive).sort((o,s)=>s.moodCorrelation-o.moodCorrelation).slice(0,3),energySensitiveHabits:a.filter(o=>o.isEnergySensitive).sort((o,s)=>s.energyCorrelation-o.energyCorrelation).slice(0,3),resilientHabits:a.filter(o=>o.isResilient).sort((o,s)=>s.completionRateByMood.low+s.completionRateByEnergy.low-(o.completionRateByMood.low+o.completionRateByEnergy.low)).slice(0,3),bestAtHighMood:a.sort((o,s)=>s.completionRateByMood.high-o.completionRateByMood.high).slice(0,3),bestAtLowMood:a.sort((o,s)=>s.completionRateByMood.low-o.completionRateByMood.low).slice(0,3),bestAtHighEnergy:a.sort((o,s)=>s.completionRateByEnergy.high-o.completionRateByEnergy.high).slice(0,3),bestAtLowEnergy:a.sort((o,s)=>s.completionRateByEnergy.low-o.completionRateByEnergy.low).slice(0,3)}},[r]);return{correlations:r,insights:i,isLoading:!n}};function Yme(e,t){if(e.length!==t.length||e.length===0)return 0;const n=e.length,r=e.reduce((d,f)=>d+f,0),i=t.reduce((d,f)=>d+f,0),a=e.reduce((d,f,h)=>d+f*t[h],0),o=e.reduce((d,f)=>d+f*f,0),s=t.reduce((d,f)=>d+f*f,0),l=n*a-r*i,c=Math.sqrt((n*o-r*r)*(n*s-i*i));return c===0?0:l/c}function Xme(e){const t=Math.abs(e);return t>=.6?"strong":t>=.3?"moderate":"weak"}function Qme(e){return e>=.3?"positive":e<=-.3?"negative":"none"}function Jme(e){const{habitA:t,habitB:n,correlationCoefficient:r,coOccurrenceRate:i,type:a}=e;if(a==="positive"){const o=Math.round(i);return r>=.6?`Quando completi "${t.title}", hai una probabilit del ${o}% di completare anche "${n.title}". Considera di farle insieme come routine consolidata.`:`"${t.title}" e "${n.title}" tendono ad essere completate insieme (${o}%). Prova a collegarle per rafforzare entrambe.`}else if(a==="negative")return`"${t.title}" e "${n.title}" raramente vengono completate lo stesso giorno. Potrebbero competere per tempo/energia - considera di pianificarle in giorni diversi.`;return`Correlazione debole tra "${t.title}" e "${n.title}".`}const Zme=(e,t)=>{const n=S.useMemo(()=>{if(e.length<2)return[];const i=[],a=Object.keys(t).sort();for(let o=0;o<e.length;o++)for(let s=o+1;s<e.length;s++){const l=e[o],c=e[s],d=[];if(a.forEach(P=>{const O=t[P],T=O?.[l.id],N=O?.[c.id];T&&N&&d.push({dateStr:P,aComplete:T==="done"?1:0,bComplete:N==="done"?1:0})}),d.length<10)continue;const h=d.map(P=>P.aComplete),p=d.map(P=>P.bComplete),y=Yme(h,p);if(Math.abs(y)<.3)continue;const g=d.filter(P=>P.aComplete===1&&P.bComplete===1).length,v=d.filter(P=>P.aComplete===1).length,b=v>0?g/v*100:0,x=Xme(y),_=Qme(y),w=h.reduce((P,O)=>P+O,0)/h.length*100,j=p.reduce((P,O)=>P+O,0)/p.length*100,k=w>=70&&j>=70,A={habitA:{id:l.id,title:l.title,color:l.color},habitB:{id:c.id,title:c.title,color:c.color},correlationCoefficient:y,coOccurrenceRate:b,totalDaysTracked:d.length,strength:x,type:_,isKeystonePair:k,suggestion:""};A.suggestion=Jme(A),i.push(A)}return i},[e,t]),r=S.useMemo(()=>{const i=[...n].sort((f,h)=>Math.abs(h.correlationCoefficient)-Math.abs(f.correlationCoefficient)),a=i.filter(f=>f.type==="positive"),o=i.filter(f=>f.type==="negative"),s=new Map;e.forEach(f=>{s.set(f.id,{habit:f,correlations:[],connections:[]})}),n.forEach(f=>{const h=f.correlationCoefficient,p=s.get(f.habitA.id);p&&(p.correlations.push(h),p.connections.push({habitId:f.habitB.id,title:f.habitB.title,correlation:h}));const y=s.get(f.habitB.id);y&&(y.correlations.push(h),y.connections.push({habitId:f.habitA.id,title:f.habitA.title,correlation:h}))});const l=[];s.forEach((f,h)=>{if(f.correlations.length>=2){const p=f.correlations.reduce((g,v)=>g+v,0)/f.correlations.length;let y="low";f.correlations.length>=4?y="high":f.correlations.length>=3&&(y="medium");const m=[...f.connections].sort((g,v)=>Math.abs(v.correlation)-Math.abs(g.correlation));l.push({habitId:h,title:f.habit.title,color:f.habit.color,avgCorrelation:p,connectedHabits:f.correlations.length,impact:y,connections:m})}}),l.sort((f,h)=>h.connectedHabits-f.connectedHabits);const c=e.filter(f=>!s.get(f.id)?.correlations.length).map(f=>f.id),d=n.length>0?n.reduce((f,h)=>f+Math.abs(h.correlationCoefficient),0)/n.length:0;return{strongestPositive:a.slice(0,5),strongestNegative:o.slice(0,3),keystoneHabits:l.slice(0,3),totalPairs:n.length,avgCorrelation:d,isolatedHabits:c}},[n,e]);return{correlations:n,insights:r}};function ege({globalStats:e,bestHabit:t}){return u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-sm relative overflow-hidden group",children:[u.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:u.jsx(Gn,{className:"w-24 h-24"})}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2 text-muted-foreground",children:[u.jsx(Gn,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm font-medium",children:"Completamento"})]}),u.jsxs("div",{className:"flex items-baseline gap-2",children:[u.jsxs("span",{className:"text-4xl font-display font-bold text-foreground",children:[e.globalSuccessRate,"%"]}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"globale"})]})]})]}),u.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-sm relative overflow-hidden group",children:[u.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:u.jsx(mw,{className:"w-24 h-24 text-orange-500"})}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2 text-muted-foreground",children:[u.jsx(mw,{className:"w-4 h-4 text-orange-500"}),u.jsx("span",{className:"text-sm font-medium",children:"Miglior Serie"})]}),u.jsxs("div",{className:"flex items-baseline gap-2",children:[u.jsx("span",{className:"text-4xl font-display font-bold text-foreground",children:e.bestStreak}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"giorni"})]})]})]}),u.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-sm relative overflow-hidden group",children:[u.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:u.jsx(Ma,{className:"w-24 h-24 text-yellow-500"})}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2 text-muted-foreground",children:[u.jsx(Ma,{className:"w-4 h-4 text-yellow-500"}),u.jsx("span",{className:"text-sm font-medium",children:"Top Performer"})]}),t?u.jsxs("div",{children:[u.jsx("span",{className:"text-2xl font-display font-bold text-foreground block truncate",children:t.title}),u.jsxs("span",{className:"text-sm text-muted-foreground",children:[t.completionRate,"% completamento"]})]}):u.jsx("span",{className:"text-muted-foreground text-sm",children:"Nessun dato"})]})]}),u.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-sm relative overflow-hidden group",children:[u.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:u.jsx("div",{className:"text-4xl",children:""})}),u.jsxs("div",{children:[u.jsx("div",{className:"flex items-center gap-2 mb-2 text-muted-foreground",children:u.jsx("span",{className:"text-sm font-medium",children:"Giorno Peggiore"})}),e.worstDay?u.jsxs("div",{children:[u.jsx("span",{className:"text-2xl font-display font-bold text-foreground block truncate",children:e.worstDay}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"Focus richiesto"})]}):u.jsx("span",{className:"text-muted-foreground text-sm",children:"Nessun dato"})]})]})]})}function tge({data:e}){const t=new Date,n=105,r=e.filter(a=>Qte(t,new Date(a.date))<n),i=[];for(let a=n-1;a>=0;a--){const o=Kt(t,a),s=Xe(o,"yyyy-MM-dd"),l=r.find(c=>c.date===s);i.push(l||{date:s,count:0,intensity:0})}return u.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-xl",children:[u.jsx("h3",{className:"text-lg font-display font-semibold mb-4",children:"Costanza"}),u.jsx("div",{className:"flex flex-wrap gap-1 justify-center sm:justify-start",children:i.map(a=>u.jsx("div",{className:ae("w-3 h-3 sm:w-4 sm:h-4 rounded-sm transition-all hover:scale-125 hover:z-10 relative cursor-pointer",a.intensity===0&&"bg-muted/10",a.intensity===1&&"bg-primary/30",a.intensity===2&&"bg-primary/50",a.intensity===3&&"bg-primary/70",a.intensity===4&&"bg-primary"),title:`${a.date}: ${a.count} habits`},a.date))}),u.jsxs("div",{className:"flex items-center justify-end gap-2 mt-4 text-xs text-muted-foreground",children:[u.jsx("span",{children:"Meno"}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("div",{className:"w-3 h-3 rounded-sm bg-muted/10"}),u.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary/30"}),u.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary/50"}),u.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary/70"}),u.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary"})]}),u.jsx("span",{children:"Pi"})]})]})}var av,HP;function Qn(){if(HP)return av;HP=1;var e=Array.isArray;return av=e,av}var ov,GP;function l8(){if(GP)return ov;GP=1;var e=typeof kr=="object"&&kr&&kr.Object===Object&&kr;return ov=e,ov}var sv,KP;function Ri(){if(KP)return sv;KP=1;var e=l8(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return sv=n,sv}var lv,YP;function Yd(){if(YP)return lv;YP=1;var e=Ri(),t=e.Symbol;return lv=t,lv}var cv,XP;function nge(){if(XP)return cv;XP=1;var e=Yd(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function a(o){var s=n.call(o,i),l=o[i];try{o[i]=void 0;var c=!0}catch{}var d=r.call(o);return c&&(s?o[i]=l:delete o[i]),d}return cv=a,cv}var uv,QP;function rge(){if(QP)return uv;QP=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return uv=n,uv}var dv,JP;function da(){if(JP)return dv;JP=1;var e=Yd(),t=nge(),n=rge(),r="[object Null]",i="[object Undefined]",a=e?e.toStringTag:void 0;function o(s){return s==null?s===void 0?i:r:a&&a in Object(s)?t(s):n(s)}return dv=o,dv}var fv,ZP;function fa(){if(ZP)return fv;ZP=1;function e(t){return t!=null&&typeof t=="object"}return fv=e,fv}var hv,eT;function oc(){if(eT)return hv;eT=1;var e=da(),t=fa(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return hv=r,hv}var pv,tT;function Tk(){if(tT)return pv;tT=1;var e=Qn(),t=oc(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){if(e(a))return!1;var s=typeof a;return s=="number"||s=="symbol"||s=="boolean"||a==null||t(a)?!0:r.test(a)||!n.test(a)||o!=null&&a in Object(o)}return pv=i,pv}var mv,nT;function io(){if(nT)return mv;nT=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return mv=e,mv}var gv,rT;function Nk(){if(rT)return gv;rT=1;var e=da(),t=io(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(s){if(!t(s))return!1;var l=e(s);return l==r||l==i||l==n||l==a}return gv=o,gv}var yv,iT;function ige(){if(iT)return yv;iT=1;var e=Ri(),t=e["__core-js_shared__"];return yv=t,yv}var vv,aT;function age(){if(aT)return vv;aT=1;var e=ige(),t=(function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!t&&t in r}return vv=n,vv}var bv,oT;function c8(){if(oT)return bv;oT=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return bv=n,bv}var xv,sT;function oge(){if(sT)return xv;sT=1;var e=Nk(),t=age(),n=io(),r=c8(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,s=Object.prototype,l=o.toString,c=s.hasOwnProperty,d=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(h){if(!n(h)||t(h))return!1;var p=e(h)?d:a;return p.test(r(h))}return xv=f,xv}var wv,lT;function sge(){if(lT)return wv;lT=1;function e(t,n){return t?.[n]}return wv=e,wv}var Sv,cT;function ds(){if(cT)return Sv;cT=1;var e=oge(),t=sge();function n(r,i){var a=t(r,i);return e(a)?a:void 0}return Sv=n,Sv}var _v,uT;function ng(){if(uT)return _v;uT=1;var e=ds(),t=e(Object,"create");return _v=t,_v}var jv,dT;function lge(){if(dT)return jv;dT=1;var e=ng();function t(){this.__data__=e?e(null):{},this.size=0}return jv=t,jv}var kv,fT;function cge(){if(fT)return kv;fT=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return kv=e,kv}var Ev,hT;function uge(){if(hT)return Ev;hT=1;var e=ng(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(a){var o=this.__data__;if(e){var s=o[a];return s===t?void 0:s}return r.call(o,a)?o[a]:void 0}return Ev=i,Ev}var Av,pT;function dge(){if(pT)return Av;pT=1;var e=ng(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var a=this.__data__;return e?a[i]!==void 0:n.call(a,i)}return Av=r,Av}var Ov,mT;function fge(){if(mT)return Ov;mT=1;var e=ng(),t="__lodash_hash_undefined__";function n(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=e&&i===void 0?t:i,this}return Ov=n,Ov}var Cv,gT;function hge(){if(gT)return Cv;gT=1;var e=lge(),t=cge(),n=uge(),r=dge(),i=fge();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,Cv=a,Cv}var Pv,yT;function pge(){if(yT)return Pv;yT=1;function e(){this.__data__=[],this.size=0}return Pv=e,Pv}var Tv,vT;function Rk(){if(vT)return Tv;vT=1;function e(t,n){return t===n||t!==t&&n!==n}return Tv=e,Tv}var Nv,bT;function rg(){if(bT)return Nv;bT=1;var e=Rk();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return Nv=t,Nv}var Rv,xT;function mge(){if(xT)return Rv;xT=1;var e=rg(),t=Array.prototype,n=t.splice;function r(i){var a=this.__data__,o=e(a,i);if(o<0)return!1;var s=a.length-1;return o==s?a.pop():n.call(a,o,1),--this.size,!0}return Rv=r,Rv}var Iv,wT;function gge(){if(wT)return Iv;wT=1;var e=rg();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return Iv=t,Iv}var Mv,ST;function yge(){if(ST)return Mv;ST=1;var e=rg();function t(n){return e(this.__data__,n)>-1}return Mv=t,Mv}var Dv,_T;function vge(){if(_T)return Dv;_T=1;var e=rg();function t(n,r){var i=this.__data__,a=e(i,n);return a<0?(++this.size,i.push([n,r])):i[a][1]=r,this}return Dv=t,Dv}var $v,jT;function ig(){if(jT)return $v;jT=1;var e=pge(),t=mge(),n=gge(),r=yge(),i=vge();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,$v=a,$v}var Lv,kT;function Ik(){if(kT)return Lv;kT=1;var e=ds(),t=Ri(),n=e(t,"Map");return Lv=n,Lv}var zv,ET;function bge(){if(ET)return zv;ET=1;var e=hge(),t=ig(),n=Ik();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return zv=r,zv}var Fv,AT;function xge(){if(AT)return Fv;AT=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return Fv=e,Fv}var Bv,OT;function ag(){if(OT)return Bv;OT=1;var e=xge();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Bv=t,Bv}var qv,CT;function wge(){if(CT)return qv;CT=1;var e=ag();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return qv=t,qv}var Uv,PT;function Sge(){if(PT)return Uv;PT=1;var e=ag();function t(n){return e(this,n).get(n)}return Uv=t,Uv}var Vv,TT;function _ge(){if(TT)return Vv;TT=1;var e=ag();function t(n){return e(this,n).has(n)}return Vv=t,Vv}var Wv,NT;function jge(){if(NT)return Wv;NT=1;var e=ag();function t(n,r){var i=e(this,n),a=i.size;return i.set(n,r),this.size+=i.size==a?0:1,this}return Wv=t,Wv}var Hv,RT;function Mk(){if(RT)return Hv;RT=1;var e=bge(),t=wge(),n=Sge(),r=_ge(),i=jge();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,Hv=a,Hv}var Gv,IT;function u8(){if(IT)return Gv;IT=1;var e=Mk(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var a=function(){var o=arguments,s=i?i.apply(this,o):o[0],l=a.cache;if(l.has(s))return l.get(s);var c=r.apply(this,o);return a.cache=l.set(s,c)||l,c};return a.cache=new(n.Cache||e),a}return n.Cache=e,Gv=n,Gv}var Kv,MT;function kge(){if(MT)return Kv;MT=1;var e=u8(),t=500;function n(r){var i=e(r,function(o){return a.size===t&&a.clear(),o}),a=i.cache;return i}return Kv=n,Kv}var Yv,DT;function Ege(){if(DT)return Yv;DT=1;var e=kge(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(t,function(o,s,l,c){a.push(l?c.replace(n,"$1"):s||o)}),a});return Yv=r,Yv}var Xv,$T;function Dk(){if($T)return Xv;$T=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,a=Array(i);++r<i;)a[r]=n(t[r],r,t);return a}return Xv=e,Xv}var Qv,LT;function Age(){if(LT)return Qv;LT=1;var e=Yd(),t=Dk(),n=Qn(),r=oc(),i=e?e.prototype:void 0,a=i?i.toString:void 0;function o(s){if(typeof s=="string")return s;if(n(s))return t(s,o)+"";if(r(s))return a?a.call(s):"";var l=s+"";return l=="0"&&1/s==-1/0?"-0":l}return Qv=o,Qv}var Jv,zT;function d8(){if(zT)return Jv;zT=1;var e=Age();function t(n){return n==null?"":e(n)}return Jv=t,Jv}var Zv,FT;function f8(){if(FT)return Zv;FT=1;var e=Qn(),t=Tk(),n=Ege(),r=d8();function i(a,o){return e(a)?a:t(a,o)?[a]:n(r(a))}return Zv=i,Zv}var eb,BT;function og(){if(BT)return eb;BT=1;var e=oc();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return eb=t,eb}var tb,qT;function $k(){if(qT)return tb;qT=1;var e=f8(),t=og();function n(r,i){i=e(i,r);for(var a=0,o=i.length;r!=null&&a<o;)r=r[t(i[a++])];return a&&a==o?r:void 0}return tb=n,tb}var nb,UT;function h8(){if(UT)return nb;UT=1;var e=$k();function t(n,r,i){var a=n==null?void 0:e(n,r);return a===void 0?i:a}return nb=t,nb}var Oge=h8();const cr=ot(Oge);var rb,VT;function Cge(){if(VT)return rb;VT=1;function e(t){return t==null}return rb=e,rb}var Pge=Cge();const Re=ot(Pge);var ib,WT;function Tge(){if(WT)return ib;WT=1;var e=da(),t=Qn(),n=fa(),r="[object String]";function i(a){return typeof a=="string"||!t(a)&&n(a)&&e(a)==r}return ib=i,ib}var Nge=Tge();const es=ot(Nge);var Rge=Nk();const Ne=ot(Rge);var Ige=io();const sc=ot(Ige);var ab={exports:{}},pt={};var HT;function Mge(){if(HT)return pt;HT=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),s=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.offscreen"),y;y=Symbol.for("react.module.reference");function m(g){if(typeof g=="object"&&g!==null){var v=g.$$typeof;switch(v){case e:switch(g=g.type,g){case n:case i:case r:case c:case d:return g;default:switch(g=g&&g.$$typeof,g){case s:case o:case l:case h:case f:case a:return g;default:return v}}case t:return v}}}return pt.ContextConsumer=o,pt.ContextProvider=a,pt.Element=e,pt.ForwardRef=l,pt.Fragment=n,pt.Lazy=h,pt.Memo=f,pt.Portal=t,pt.Profiler=i,pt.StrictMode=r,pt.Suspense=c,pt.SuspenseList=d,pt.isAsyncMode=function(){return!1},pt.isConcurrentMode=function(){return!1},pt.isContextConsumer=function(g){return m(g)===o},pt.isContextProvider=function(g){return m(g)===a},pt.isElement=function(g){return typeof g=="object"&&g!==null&&g.$$typeof===e},pt.isForwardRef=function(g){return m(g)===l},pt.isFragment=function(g){return m(g)===n},pt.isLazy=function(g){return m(g)===h},pt.isMemo=function(g){return m(g)===f},pt.isPortal=function(g){return m(g)===t},pt.isProfiler=function(g){return m(g)===i},pt.isStrictMode=function(g){return m(g)===r},pt.isSuspense=function(g){return m(g)===c},pt.isSuspenseList=function(g){return m(g)===d},pt.isValidElementType=function(g){return typeof g=="string"||typeof g=="function"||g===n||g===i||g===r||g===c||g===d||g===p||typeof g=="object"&&g!==null&&(g.$$typeof===h||g.$$typeof===f||g.$$typeof===a||g.$$typeof===o||g.$$typeof===l||g.$$typeof===y||g.getModuleId!==void 0)},pt.typeOf=m,pt}var GT;function Dge(){return GT||(GT=1,ab.exports=Mge()),ab.exports}var $ge=Dge(),ob,KT;function p8(){if(KT)return ob;KT=1;var e=da(),t=fa(),n="[object Number]";function r(i){return typeof i=="number"||t(i)&&e(i)==n}return ob=r,ob}var sb,YT;function Lge(){if(YT)return sb;YT=1;var e=p8();function t(n){return e(n)&&n!=+n}return sb=t,sb}var zge=Lge();const lc=ot(zge);var Fge=p8();const Bge=ot(Fge);var $n=function(t){return t===0?0:t>0?1:-1},Mo=function(t){return es(t)&&t.indexOf("%")===t.length-1},pe=function(t){return Bge(t)&&!lc(t)},qge=function(t){return Re(t)},ln=function(t){return pe(t)||es(t)},Uge=0,ao=function(t){var n=++Uge;return"".concat(t||"").concat(n)},Ln=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!pe(t)&&!es(t))return r;var a;if(Mo(t)){var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return lc(a)&&(a=r),i&&a>n&&(a=n),a},Oa=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},Vge=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},i=0;i<n;i++)if(!r[t[i]])r[t[i]]=!0;else return!0;return!1},xt=function(t,n){return pe(t)&&pe(n)?function(r){return t+r*(n-t)}:function(){return n}};function Qh(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):cr(r,t))===n})}var Wge=function(t){if(!t||!t.length)return null;for(var n=t.length,r=0,i=0,a=0,o=0,s=1/0,l=-1/0,c=0,d=0,f=0;f<n;f++)c=t[f].cx||0,d=t[f].cy||0,r+=c,i+=d,a+=c*d,o+=c*c,s=Math.min(s,c),l=Math.max(l,c);var h=n*o!==r*r?(n*a-r*i)/(n*o-r*r):0;return{xmin:s,xmax:l,a:h,b:(i-h*r)/n}},Hge=function(t,n){return pe(t)&&pe(n)?t-n:es(t)&&es(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function Zs(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function U1(e){"@babel/helpers - typeof";return U1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U1(e)}var Gge=["viewBox","children"],Kge=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],XT=["points","pathLength"],lb={svg:Gge,polygon:XT,polyline:XT},Lk=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Jh=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(S.isValidElement(t)&&(r=t.props),!sc(r))return null;var i={};return Object.keys(r).forEach(function(a){Lk.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},Yge=function(t,n,r){return function(i){return t(n,r,i),null}},Ja=function(t,n,r){if(!sc(t)||U1(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var o=t[a];Lk.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=Yge(o,n,r))}),i},Xge=["children"],Qge=["children"];function QT(e,t){if(e==null)return{};var n=Jge(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Jge(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function V1(e){"@babel/helpers - typeof";return V1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V1(e)}var JT={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Xi=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},ZT=null,cb=null,zk=function e(t){if(t===ZT&&Array.isArray(cb))return cb;var n=[];return S.Children.forEach(t,function(r){Re(r)||($ge.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),cb=n,ZT=t,n};function Fn(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(i){return Xi(i)}):r=[Xi(t)],zk(e).forEach(function(i){var a=cr(i,"type.displayName")||cr(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function tr(e,t){var n=Fn(e,t);return n&&n[0]}var eN=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,i=n.height;return!(!pe(r)||r<=0||!pe(i)||i<=0)},Zge=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],eye=function(t){return t&&t.type&&es(t.type)&&Zge.indexOf(t.type)>=0},m8=function(t){return t&&V1(t)==="object"&&"clipDot"in t},tye=function(t,n,r,i){var a,o=(a=lb?.[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!Ne(t)&&(i&&o.includes(n)||Kge.includes(n))||r&&Lk.includes(n)},we=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(S.isValidElement(t)&&(i=t.props),!sc(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;tye((s=i)===null||s===void 0?void 0:s[o],o,n,r)&&(a[o]=i[o])}),a},W1=function e(t,n){if(t===n)return!0;var r=S.Children.count(t);if(r!==S.Children.count(n))return!1;if(r===0)return!0;if(r===1)return tN(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=t[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!tN(a,o))return!1}return!0},tN=function(t,n){if(Re(t)&&Re(n))return!0;if(!Re(t)&&!Re(n)){var r=t.props||{},i=r.children,a=QT(r,Xge),o=n.props||{},s=o.children,l=QT(o,Qge);return i&&s?Zs(a,l)&&W1(i,s):!i&&!s?Zs(a,l):!1}return!1},nN=function(t,n){var r=[],i={};return zk(t).forEach(function(a,o){if(eye(a))r.push(a);else if(a){var s=Xi(a.type),l=n[s]||{},c=l.handler,d=l.once;if(c&&(!d||!i[s])){var f=c(a,s,o);r.push(f),i[s]=!0}}}),r},nye=function(t){var n=t&&t.type;return n&&JT[n]?JT[n]:null},rye=function(t,n){return zk(n).indexOf(t)},iye=["children","width","height","viewBox","className","style","title","desc"];function H1(){return H1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H1.apply(this,arguments)}function aye(e,t){if(e==null)return{};var n=oye(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function oye(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function G1(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,a=e.className,o=e.style,s=e.title,l=e.desc,c=aye(e,iye),d=i||{width:n,height:r,x:0,y:0},f=Le("recharts-surface",a);return I.createElement("svg",H1({},we(c,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),I.createElement("title",null,s),I.createElement("desc",null,l),t)}var sye=["children","className"];function K1(){return K1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K1.apply(this,arguments)}function lye(e,t){if(e==null)return{};var n=cye(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function cye(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Be=I.forwardRef(function(e,t){var n=e.children,r=e.className,i=lye(e,sye),a=Le("recharts-layer",r);return I.createElement("g",K1({className:a},we(i,!0),{ref:t}),n)}),Zr=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]},ub,rN;function uye(){if(rN)return ub;rN=1;function e(t,n,r){var i=-1,a=t.length;n<0&&(n=-n>a?0:a+n),r=r>a?a:r,r<0&&(r+=a),a=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(a);++i<a;)o[i]=t[i+n];return o}return ub=e,ub}var db,iN;function dye(){if(iN)return db;iN=1;var e=uye();function t(n,r,i){var a=n.length;return i=i===void 0?a:i,!r&&i>=a?n:e(n,r,i)}return db=t,db}var fb,aN;function g8(){if(aN)return fb;aN=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,a="\\ufe0e\\ufe0f",o="\\u200d",s=RegExp("["+o+e+i+a+"]");function l(c){return s.test(c)}return fb=l,fb}var hb,oN;function fye(){if(oN)return hb;oN=1;function e(t){return t.split("")}return hb=e,hb}var pb,sN;function hye(){if(sN)return pb;sN=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,a="\\ufe0e\\ufe0f",o="["+e+"]",s="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",c="(?:"+s+"|"+l+")",d="[^"+e+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",y=c+"?",m="["+a+"]?",g="(?:"+p+"(?:"+[d,f,h].join("|")+")"+m+y+")*",v=m+y+g,b="(?:"+[d+s+"?",s,f,h,o].join("|")+")",x=RegExp(l+"(?="+l+")|"+b+v,"g");function _(w){return w.match(x)||[]}return pb=_,pb}var mb,lN;function pye(){if(lN)return mb;lN=1;var e=fye(),t=g8(),n=hye();function r(i){return t(i)?n(i):e(i)}return mb=r,mb}var gb,cN;function mye(){if(cN)return gb;cN=1;var e=dye(),t=g8(),n=pye(),r=d8();function i(a){return function(o){o=r(o);var s=t(o)?n(o):void 0,l=s?s[0]:o.charAt(0),c=s?e(s,1).join(""):o.slice(1);return l[a]()+c}}return gb=i,gb}var yb,uN;function gye(){if(uN)return yb;uN=1;var e=mye(),t=e("toUpperCase");return yb=t,yb}var yye=gye();const sg=ot(yye);function At(e){return function(){return e}}const y8=Math.cos,Zh=Math.sin,ai=Math.sqrt,ep=Math.PI,lg=2*ep,Y1=Math.PI,X1=2*Y1,ko=1e-6,vye=X1-ko;function v8(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function bye(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return v8;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class xye{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?v8:bye(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-t,c=i-n,d=o-t,f=s-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>ko)if(!(Math.abs(f*l-c*d)>ko)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-o,y=i-s,m=l*l+c*c,g=p*p+y*y,v=Math.sqrt(m),b=Math.sqrt(h),x=a*Math.tan((Y1-Math.acos((m+h-g)/(2*v*b)))/2),_=x/b,w=x/v;Math.abs(_-1)>ko&&this._append`L${t+_*d},${n+_*f}`,this._append`A${a},${a},0,0,${+(f*p>d*y)},${this._x1=t+w*l},${this._y1=n+w*c}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),c=t+s,d=n+l,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>ko||Math.abs(this._y1-d)>ko)&&this._append`L${c},${d}`,r&&(h<0&&(h=h%X1+X1),h>vye?this._append`A${r},${r},0,1,${f},${t-s},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=d}`:h>ko&&this._append`A${r},${r},0,${+(h>=Y1)},${f},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Fk(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new xye(t)}function Bk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function b8(e){this._context=e}b8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function cg(e){return new b8(e)}function x8(e){return e[0]}function w8(e){return e[1]}function S8(e,t){var n=At(!0),r=null,i=cg,a=null,o=Fk(s);e=typeof e=="function"?e:e===void 0?x8:At(e),t=typeof t=="function"?t:t===void 0?w8:At(t);function s(l){var c,d=(l=Bk(l)).length,f,h=!1,p;for(r==null&&(a=i(p=o())),c=0;c<=d;++c)!(c<d&&n(f=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,c,l),+t(f,c,l));if(p)return a=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:At(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:At(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:At(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function Df(e,t,n){var r=null,i=At(!0),a=null,o=cg,s=null,l=Fk(c);e=typeof e=="function"?e:e===void 0?x8:At(+e),t=typeof t=="function"?t:At(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?w8:At(+n);function c(f){var h,p,y,m=(f=Bk(f)).length,g,v=!1,b,x=new Array(m),_=new Array(m);for(a==null&&(s=o(b=l())),h=0;h<=m;++h){if(!(h<m&&i(g=f[h],h,f))===v)if(v=!v)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),y=h-1;y>=p;--y)s.point(x[y],_[y]);s.lineEnd(),s.areaEnd()}v&&(x[h]=+e(g,h,f),_[h]=+t(g,h,f),s.point(r?+r(g,h,f):x[h],n?+n(g,h,f):_[h]))}if(b)return s=null,b+""||null}function d(){return S8().defined(i).curve(o).context(a)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:At(+f),r=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:At(+f),c):e},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:At(+f),c):r},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:At(+f),n=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:At(+f),c):t},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:At(+f),c):n},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(n)},c.lineX1=function(){return d().x(r).y(t)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:At(!!f),c):i},c.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),c):o},c.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),c):a},c}class _8{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function wye(e){return new _8(e,!0)}function Sye(e){return new _8(e,!1)}const qk={draw(e,t){const n=ai(t/ep);e.moveTo(n,0),e.arc(0,0,n,0,lg)}},_ye={draw(e,t){const n=ai(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},j8=ai(1/3),jye=j8*2,kye={draw(e,t){const n=ai(t/jye),r=n*j8;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Eye={draw(e,t){const n=ai(t),r=-n/2;e.rect(r,r,n,n)}},Aye=.8908130915292852,k8=Zh(ep/10)/Zh(7*ep/10),Oye=Zh(lg/10)*k8,Cye=-y8(lg/10)*k8,Pye={draw(e,t){const n=ai(t*Aye),r=Oye*n,i=Cye*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const o=lg*a/5,s=y8(o),l=Zh(o);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*i,l*r+s*i)}e.closePath()}},vb=ai(3),Tye={draw(e,t){const n=-ai(t/(vb*3));e.moveTo(0,n*2),e.lineTo(-vb*n,-n),e.lineTo(vb*n,-n),e.closePath()}},dr=-.5,fr=ai(3)/2,Q1=1/ai(12),Nye=(Q1/2+1)*3,Rye={draw(e,t){const n=ai(t/Nye),r=n/2,i=n*Q1,a=r,o=n*Q1+n,s=-a,l=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(dr*r-fr*i,fr*r+dr*i),e.lineTo(dr*a-fr*o,fr*a+dr*o),e.lineTo(dr*s-fr*l,fr*s+dr*l),e.lineTo(dr*r+fr*i,dr*i-fr*r),e.lineTo(dr*a+fr*o,dr*o-fr*a),e.lineTo(dr*s+fr*l,dr*l-fr*s),e.closePath()}};function Iye(e,t){let n=null,r=Fk(i);e=typeof e=="function"?e:At(e||qk),t=typeof t=="function"?t:At(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:At(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:At(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function tp(){}function np(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function E8(e){this._context=e}E8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:np(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:np(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Mye(e){return new E8(e)}function A8(e){this._context=e}A8.prototype={areaStart:tp,areaEnd:tp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:np(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Dye(e){return new A8(e)}function O8(e){this._context=e}O8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:np(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $ye(e){return new O8(e)}function C8(e){this._context=e}C8.prototype={areaStart:tp,areaEnd:tp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Lye(e){return new C8(e)}function dN(e){return e<0?-1:1}function fN(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(dN(a)+dN(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function hN(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function bb(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function rp(e){this._context=e}rp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:bb(this,this._t0,hN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,bb(this,hN(this,n=fN(this,e,t)),n);break;default:bb(this,this._t0,n=fN(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function P8(e){this._context=new T8(e)}(P8.prototype=Object.create(rp.prototype)).point=function(e,t){rp.prototype.point.call(this,t,e)};function T8(e){this._context=e}T8.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function zye(e){return new rp(e)}function Fye(e){return new P8(e)}function N8(e){this._context=e}N8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=pN(e),i=pN(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function pN(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function Bye(e){return new N8(e)}function ug(e,t){this._context=e,this._t=t}ug.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function qye(e){return new ug(e,.5)}function Uye(e){return new ug(e,0)}function Vye(e){return new ug(e,1)}function fl(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,s=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function J1(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Wye(e,t){return e[t]}function Hye(e){const t=[];return t.key=e,t}function Gye(){var e=At([]),t=J1,n=fl,r=Wye;function i(a){var o=Array.from(e.apply(this,arguments),Hye),s,l=o.length,c=-1,d;for(const f of a)for(s=0,++c;s<l;++s)(o[s][c]=[0,+r(f,o[s].key,c,a)]).data=f;for(s=0,d=Bk(t(o));s<l;++s)o[d[s]].index=s;return n(o,d),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:At(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:At(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?J1:typeof a=="function"?a:At(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??fl,i):n},i}function Kye(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}fl(e,t)}}function Yye(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=e[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}fl(e,t)}}function Xye(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,c=0;s<o;++s){for(var d=e[t[s]],f=d[r][1]||0,h=d[r-1][1]||0,p=(f-h)/2,y=0;y<s;++y){var m=e[t[y]],g=m[r][1]||0,v=m[r-1][1]||0;p+=g-v}l+=f,c+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,fl(e,t)}}function Vu(e){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vu(e)}var Qye=["type","size","sizeType"];function Z1(){return Z1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Z1.apply(this,arguments)}function mN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mN(Object(n),!0).forEach(function(r){Jye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jye(e,t,n){return t=Zye(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zye(e){var t=eve(e,"string");return Vu(t)=="symbol"?t:t+""}function eve(e,t){if(Vu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tve(e,t){if(e==null)return{};var n=nve(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function nve(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var R8={symbolCircle:qk,symbolCross:_ye,symbolDiamond:kye,symbolSquare:Eye,symbolStar:Pye,symbolTriangle:Tye,symbolWye:Rye},rve=Math.PI/180,ive=function(t){var n="symbol".concat(sg(t));return R8[n]||qk},ave=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*rve;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},ove=function(t,n){R8["symbol".concat(sg(t))]=n},dg=function(t){var n=t.type,r=n===void 0?"circle":n,i=t.size,a=i===void 0?64:i,o=t.sizeType,s=o===void 0?"area":o,l=tve(t,Qye),c=gN(gN({},l),{},{type:r,size:a,sizeType:s}),d=function(){var g=ive(r),v=Iye().type(g).size(ave(a,s,r));return v()},f=c.className,h=c.cx,p=c.cy,y=we(c,!0);return h===+h&&p===+p&&a===+a?I.createElement("path",Z1({},y,{className:Le("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};dg.registerSymbol=ove;function hl(e){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hl(e)}function eS(){return eS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eS.apply(this,arguments)}function yN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sve(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yN(Object(n),!0).forEach(function(r){Wu(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,M8(r.key),r)}}function uve(e,t,n){return t&&cve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dve(e,t,n){return t=ip(t),fve(e,I8()?Reflect.construct(t,n||[],ip(e).constructor):t.apply(e,n))}function fve(e,t){if(t&&(hl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hve(e)}function hve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I8=function(){return!!e})()}function ip(e){return ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ip(e)}function pve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tS(e,t)}function tS(e,t){return tS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tS(e,t)}function Wu(e,t,n){return t=M8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M8(e){var t=mve(e,"string");return hl(t)=="symbol"?t:t+""}function mve(e,t){if(hl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var hr=32,Uk=(function(e){function t(){return lve(this,t),dve(this,t,arguments)}return pve(t,e),uve(t,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=hr/2,o=hr/6,s=hr/3,l=r.inactive?i:r.color;if(r.type==="plainline")return I.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:hr,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return I.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(hr,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return I.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(hr/8,"h").concat(hr,"v").concat(hr*3/4,"h").concat(-hr,"z"),className:"recharts-legend-icon"});if(I.isValidElement(r.legendIcon)){var c=sve({},r);return delete c.legendIcon,I.cloneElement(r.legendIcon,c)}return I.createElement(dg,{fill:l,cx:a,cy:a,size:hr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,d={x:0,y:0,width:hr,height:hr},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,y){var m=p.formatter||l,g=Le(Wu(Wu({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",p.inactive));if(p.type==="none")return null;var v=Ne(p.value)?null:p.value;Zr(!Ne(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?c:p.color;return I.createElement("li",eS({className:g,style:f,key:"legend-item-".concat(y)},Ja(r.props,p,y)),I.createElement(G1,{width:o,height:o,viewBox:d,style:h},r.renderIcon(p)),I.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},m?m(v,p,y):v))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return I.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])})(S.PureComponent);Wu(Uk,"displayName","Legend");Wu(Uk,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var xb,vN;function gve(){if(vN)return xb;vN=1;var e=ig();function t(){this.__data__=new e,this.size=0}return xb=t,xb}var wb,bN;function yve(){if(bN)return wb;bN=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return wb=e,wb}var Sb,xN;function vve(){if(xN)return Sb;xN=1;function e(t){return this.__data__.get(t)}return Sb=e,Sb}var _b,wN;function bve(){if(wN)return _b;wN=1;function e(t){return this.__data__.has(t)}return _b=e,_b}var jb,SN;function xve(){if(SN)return jb;SN=1;var e=ig(),t=Ik(),n=Mk(),r=200;function i(a,o){var s=this.__data__;if(s instanceof e){var l=s.__data__;if(!t||l.length<r-1)return l.push([a,o]),this.size=++s.size,this;s=this.__data__=new n(l)}return s.set(a,o),this.size=s.size,this}return jb=i,jb}var kb,_N;function D8(){if(_N)return kb;_N=1;var e=ig(),t=gve(),n=yve(),r=vve(),i=bve(),a=xve();function o(s){var l=this.__data__=new e(s);this.size=l.size}return o.prototype.clear=t,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=a,kb=o,kb}var Eb,jN;function wve(){if(jN)return Eb;jN=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return Eb=t,Eb}var Ab,kN;function Sve(){if(kN)return Ab;kN=1;function e(t){return this.__data__.has(t)}return Ab=e,Ab}var Ob,EN;function $8(){if(EN)return Ob;EN=1;var e=Mk(),t=wve(),n=Sve();function r(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new e;++a<o;)this.add(i[a])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,Ob=r,Ob}var Cb,AN;function L8(){if(AN)return Cb;AN=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return Cb=e,Cb}var Pb,ON;function z8(){if(ON)return Pb;ON=1;function e(t,n){return t.has(n)}return Pb=e,Pb}var Tb,CN;function F8(){if(CN)return Tb;CN=1;var e=$8(),t=L8(),n=z8(),r=1,i=2;function a(o,s,l,c,d,f){var h=l&r,p=o.length,y=s.length;if(p!=y&&!(h&&y>p))return!1;var m=f.get(o),g=f.get(s);if(m&&g)return m==s&&g==o;var v=-1,b=!0,x=l&i?new e:void 0;for(f.set(o,s),f.set(s,o);++v<p;){var _=o[v],w=s[v];if(c)var j=h?c(w,_,v,s,o,f):c(_,w,v,o,s,f);if(j!==void 0){if(j)continue;b=!1;break}if(x){if(!t(s,function(k,A){if(!n(x,A)&&(_===k||d(_,k,l,c,f)))return x.push(A)})){b=!1;break}}else if(!(_===w||d(_,w,l,c,f))){b=!1;break}}return f.delete(o),f.delete(s),b}return Tb=a,Tb}var Nb,PN;function _ve(){if(PN)return Nb;PN=1;var e=Ri(),t=e.Uint8Array;return Nb=t,Nb}var Rb,TN;function jve(){if(TN)return Rb;TN=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,a){r[++n]=[a,i]}),r}return Rb=e,Rb}var Ib,NN;function Vk(){if(NN)return Ib;NN=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return Ib=e,Ib}var Mb,RN;function kve(){if(RN)return Mb;RN=1;var e=Yd(),t=_ve(),n=Rk(),r=F8(),i=jve(),a=Vk(),o=1,s=2,l="[object Boolean]",c="[object Date]",d="[object Error]",f="[object Map]",h="[object Number]",p="[object RegExp]",y="[object Set]",m="[object String]",g="[object Symbol]",v="[object ArrayBuffer]",b="[object DataView]",x=e?e.prototype:void 0,_=x?x.valueOf:void 0;function w(j,k,A,P,O,T,N){switch(A){case b:if(j.byteLength!=k.byteLength||j.byteOffset!=k.byteOffset)return!1;j=j.buffer,k=k.buffer;case v:return!(j.byteLength!=k.byteLength||!T(new t(j),new t(k)));case l:case c:case h:return n(+j,+k);case d:return j.name==k.name&&j.message==k.message;case p:case m:return j==k+"";case f:var M=i;case y:var E=P&o;if(M||(M=a),j.size!=k.size&&!E)return!1;var R=N.get(j);if(R)return R==k;P|=s,N.set(j,k);var F=r(M(j),M(k),P,O,T,N);return N.delete(j),F;case g:if(_)return _.call(j)==_.call(k)}return!1}return Mb=w,Mb}var Db,IN;function B8(){if(IN)return Db;IN=1;function e(t,n){for(var r=-1,i=n.length,a=t.length;++r<i;)t[a+r]=n[r];return t}return Db=e,Db}var $b,MN;function Eve(){if(MN)return $b;MN=1;var e=B8(),t=Qn();function n(r,i,a){var o=i(r);return t(r)?o:e(o,a(r))}return $b=n,$b}var Lb,DN;function Ave(){if(DN)return Lb;DN=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,a=0,o=[];++r<i;){var s=t[r];n(s,r,t)&&(o[a++]=s)}return o}return Lb=e,Lb}var zb,$N;function Ove(){if($N)return zb;$N=1;function e(){return[]}return zb=e,zb}var Fb,LN;function Cve(){if(LN)return Fb;LN=1;var e=Ave(),t=Ove(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),e(i(o),function(s){return r.call(o,s)}))}:t;return Fb=a,Fb}var Bb,zN;function Pve(){if(zN)return Bb;zN=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return Bb=e,Bb}var qb,FN;function Tve(){if(FN)return qb;FN=1;var e=da(),t=fa(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return qb=r,qb}var Ub,BN;function Wk(){if(BN)return Ub;BN=1;var e=Tve(),t=fa(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=e((function(){return arguments})())?e:function(o){return t(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return Ub=a,Ub}var Kc={exports:{}},Vb,qN;function Nve(){if(qN)return Vb;qN=1;function e(){return!1}return Vb=e,Vb}Kc.exports;var UN;function q8(){return UN||(UN=1,(function(e,t){var n=Ri(),r=Nve(),i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||r;e.exports=c})(Kc,Kc.exports)),Kc.exports}var Wb,VN;function Hk(){if(VN)return Wb;VN=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var a=typeof r;return i=i??e,!!i&&(a=="number"||a!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return Wb=n,Wb}var Hb,WN;function Gk(){if(WN)return Hb;WN=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return Hb=t,Hb}var Gb,HN;function Rve(){if(HN)return Gb;HN=1;var e=da(),t=Gk(),n=fa(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",s="[object Error]",l="[object Function]",c="[object Map]",d="[object Number]",f="[object Object]",h="[object RegExp]",p="[object Set]",y="[object String]",m="[object WeakMap]",g="[object ArrayBuffer]",v="[object DataView]",b="[object Float32Array]",x="[object Float64Array]",_="[object Int8Array]",w="[object Int16Array]",j="[object Int32Array]",k="[object Uint8Array]",A="[object Uint8ClampedArray]",P="[object Uint16Array]",O="[object Uint32Array]",T={};T[b]=T[x]=T[_]=T[w]=T[j]=T[k]=T[A]=T[P]=T[O]=!0,T[r]=T[i]=T[g]=T[a]=T[v]=T[o]=T[s]=T[l]=T[c]=T[d]=T[f]=T[h]=T[p]=T[y]=T[m]=!1;function N(M){return n(M)&&t(M.length)&&!!T[e(M)]}return Gb=N,Gb}var Kb,GN;function U8(){if(GN)return Kb;GN=1;function e(t){return function(n){return t(n)}}return Kb=e,Kb}var Yc={exports:{}};Yc.exports;var KN;function Ive(){return KN||(KN=1,(function(e,t){var n=l8(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,o=a&&n.process,s=(function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}})();e.exports=s})(Yc,Yc.exports)),Yc.exports}var Yb,YN;function V8(){if(YN)return Yb;YN=1;var e=Rve(),t=U8(),n=Ive(),r=n&&n.isTypedArray,i=r?t(r):e;return Yb=i,Yb}var Xb,XN;function Mve(){if(XN)return Xb;XN=1;var e=Pve(),t=Wk(),n=Qn(),r=q8(),i=Hk(),a=V8(),o=Object.prototype,s=o.hasOwnProperty;function l(c,d){var f=n(c),h=!f&&t(c),p=!f&&!h&&r(c),y=!f&&!h&&!p&&a(c),m=f||h||p||y,g=m?e(c.length,String):[],v=g.length;for(var b in c)(d||s.call(c,b))&&!(m&&(b=="length"||p&&(b=="offset"||b=="parent")||y&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||i(b,v)))&&g.push(b);return g}return Xb=l,Xb}var Qb,QN;function Dve(){if(QN)return Qb;QN=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return Qb=t,Qb}var Jb,JN;function W8(){if(JN)return Jb;JN=1;function e(t,n){return function(r){return t(n(r))}}return Jb=e,Jb}var Zb,ZN;function $ve(){if(ZN)return Zb;ZN=1;var e=W8(),t=e(Object.keys,Object);return Zb=t,Zb}var e0,e2;function Lve(){if(e2)return e0;e2=1;var e=Dve(),t=$ve(),n=Object.prototype,r=n.hasOwnProperty;function i(a){if(!e(a))return t(a);var o=[];for(var s in Object(a))r.call(a,s)&&s!="constructor"&&o.push(s);return o}return e0=i,e0}var t0,t2;function Xd(){if(t2)return t0;t2=1;var e=Nk(),t=Gk();function n(r){return r!=null&&t(r.length)&&!e(r)}return t0=n,t0}var n0,n2;function fg(){if(n2)return n0;n2=1;var e=Mve(),t=Lve(),n=Xd();function r(i){return n(i)?e(i):t(i)}return n0=r,n0}var r0,r2;function zve(){if(r2)return r0;r2=1;var e=Eve(),t=Cve(),n=fg();function r(i){return e(i,n,t)}return r0=r,r0}var i0,i2;function Fve(){if(i2)return i0;i2=1;var e=zve(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(a,o,s,l,c,d){var f=s&t,h=e(a),p=h.length,y=e(o),m=y.length;if(p!=m&&!f)return!1;for(var g=p;g--;){var v=h[g];if(!(f?v in o:r.call(o,v)))return!1}var b=d.get(a),x=d.get(o);if(b&&x)return b==o&&x==a;var _=!0;d.set(a,o),d.set(o,a);for(var w=f;++g<p;){v=h[g];var j=a[v],k=o[v];if(l)var A=f?l(k,j,v,o,a,d):l(j,k,v,a,o,d);if(!(A===void 0?j===k||c(j,k,s,l,d):A)){_=!1;break}w||(w=v=="constructor")}if(_&&!w){var P=a.constructor,O=o.constructor;P!=O&&"constructor"in a&&"constructor"in o&&!(typeof P=="function"&&P instanceof P&&typeof O=="function"&&O instanceof O)&&(_=!1)}return d.delete(a),d.delete(o),_}return i0=i,i0}var a0,a2;function Bve(){if(a2)return a0;a2=1;var e=ds(),t=Ri(),n=e(t,"DataView");return a0=n,a0}var o0,o2;function qve(){if(o2)return o0;o2=1;var e=ds(),t=Ri(),n=e(t,"Promise");return o0=n,o0}var s0,s2;function H8(){if(s2)return s0;s2=1;var e=ds(),t=Ri(),n=e(t,"Set");return s0=n,s0}var l0,l2;function Uve(){if(l2)return l0;l2=1;var e=ds(),t=Ri(),n=e(t,"WeakMap");return l0=n,l0}var c0,c2;function Vve(){if(c2)return c0;c2=1;var e=Bve(),t=Ik(),n=qve(),r=H8(),i=Uve(),a=da(),o=c8(),s="[object Map]",l="[object Object]",c="[object Promise]",d="[object Set]",f="[object WeakMap]",h="[object DataView]",p=o(e),y=o(t),m=o(n),g=o(r),v=o(i),b=a;return(e&&b(new e(new ArrayBuffer(1)))!=h||t&&b(new t)!=s||n&&b(n.resolve())!=c||r&&b(new r)!=d||i&&b(new i)!=f)&&(b=function(x){var _=a(x),w=_==l?x.constructor:void 0,j=w?o(w):"";if(j)switch(j){case p:return h;case y:return s;case m:return c;case g:return d;case v:return f}return _}),c0=b,c0}var u0,u2;function Wve(){if(u2)return u0;u2=1;var e=D8(),t=F8(),n=kve(),r=Fve(),i=Vve(),a=Qn(),o=q8(),s=V8(),l=1,c="[object Arguments]",d="[object Array]",f="[object Object]",h=Object.prototype,p=h.hasOwnProperty;function y(m,g,v,b,x,_){var w=a(m),j=a(g),k=w?d:i(m),A=j?d:i(g);k=k==c?f:k,A=A==c?f:A;var P=k==f,O=A==f,T=k==A;if(T&&o(m)){if(!o(g))return!1;w=!0,P=!1}if(T&&!P)return _||(_=new e),w||s(m)?t(m,g,v,b,x,_):n(m,g,k,v,b,x,_);if(!(v&l)){var N=P&&p.call(m,"__wrapped__"),M=O&&p.call(g,"__wrapped__");if(N||M){var E=N?m.value():m,R=M?g.value():g;return _||(_=new e),x(E,R,v,b,_)}}return T?(_||(_=new e),r(m,g,v,b,x,_)):!1}return u0=y,u0}var d0,d2;function Kk(){if(d2)return d0;d2=1;var e=Wve(),t=fa();function n(r,i,a,o,s){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,a,o,n,s)}return d0=n,d0}var f0,f2;function Hve(){if(f2)return f0;f2=1;var e=D8(),t=Kk(),n=1,r=2;function i(a,o,s,l){var c=s.length,d=c,f=!l;if(a==null)return!d;for(a=Object(a);c--;){var h=s[c];if(f&&h[2]?h[1]!==a[h[0]]:!(h[0]in a))return!1}for(;++c<d;){h=s[c];var p=h[0],y=a[p],m=h[1];if(f&&h[2]){if(y===void 0&&!(p in a))return!1}else{var g=new e;if(l)var v=l(y,m,p,a,o,g);if(!(v===void 0?t(m,y,n|r,l,g):v))return!1}}return!0}return f0=i,f0}var h0,h2;function G8(){if(h2)return h0;h2=1;var e=io();function t(n){return n===n&&!e(n)}return h0=t,h0}var p0,p2;function Gve(){if(p2)return p0;p2=1;var e=G8(),t=fg();function n(r){for(var i=t(r),a=i.length;a--;){var o=i[a],s=r[o];i[a]=[o,s,e(s)]}return i}return p0=n,p0}var m0,m2;function K8(){if(m2)return m0;m2=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return m0=e,m0}var g0,g2;function Kve(){if(g2)return g0;g2=1;var e=Hve(),t=Gve(),n=K8();function r(i){var a=t(i);return a.length==1&&a[0][2]?n(a[0][0],a[0][1]):function(o){return o===i||e(o,i,a)}}return g0=r,g0}var y0,y2;function Yve(){if(y2)return y0;y2=1;function e(t,n){return t!=null&&n in Object(t)}return y0=e,y0}var v0,v2;function Xve(){if(v2)return v0;v2=1;var e=f8(),t=Wk(),n=Qn(),r=Hk(),i=Gk(),a=og();function o(s,l,c){l=e(l,s);for(var d=-1,f=l.length,h=!1;++d<f;){var p=a(l[d]);if(!(h=s!=null&&c(s,p)))break;s=s[p]}return h||++d!=f?h:(f=s==null?0:s.length,!!f&&i(f)&&r(p,f)&&(n(s)||t(s)))}return v0=o,v0}var b0,b2;function Qve(){if(b2)return b0;b2=1;var e=Yve(),t=Xve();function n(r,i){return r!=null&&t(r,i,e)}return b0=n,b0}var x0,x2;function Jve(){if(x2)return x0;x2=1;var e=Kk(),t=h8(),n=Qve(),r=Tk(),i=G8(),a=K8(),o=og(),s=1,l=2;function c(d,f){return r(d)&&i(f)?a(o(d),f):function(h){var p=t(h,d);return p===void 0&&p===f?n(h,d):e(f,p,s|l)}}return x0=c,x0}var w0,w2;function cc(){if(w2)return w0;w2=1;function e(t){return t}return w0=e,w0}var S0,S2;function Zve(){if(S2)return S0;S2=1;function e(t){return function(n){return n?.[t]}}return S0=e,S0}var _0,_2;function ebe(){if(_2)return _0;_2=1;var e=$k();function t(n){return function(r){return e(r,n)}}return _0=t,_0}var j0,j2;function tbe(){if(j2)return j0;j2=1;var e=Zve(),t=ebe(),n=Tk(),r=og();function i(a){return n(a)?e(r(a)):t(a)}return j0=i,j0}var k0,k2;function Ii(){if(k2)return k0;k2=1;var e=Kve(),t=Jve(),n=cc(),r=Qn(),i=tbe();function a(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?t(o[0],o[1]):e(o):i(o)}return k0=a,k0}var E0,E2;function Y8(){if(E2)return E0;E2=1;function e(t,n,r,i){for(var a=t.length,o=r+(i?1:-1);i?o--:++o<a;)if(n(t[o],o,t))return o;return-1}return E0=e,E0}var A0,A2;function nbe(){if(A2)return A0;A2=1;function e(t){return t!==t}return A0=e,A0}var O0,O2;function rbe(){if(O2)return O0;O2=1;function e(t,n,r){for(var i=r-1,a=t.length;++i<a;)if(t[i]===n)return i;return-1}return O0=e,O0}var C0,C2;function ibe(){if(C2)return C0;C2=1;var e=Y8(),t=nbe(),n=rbe();function r(i,a,o){return a===a?n(i,a,o):e(i,t,o)}return C0=r,C0}var P0,P2;function abe(){if(P2)return P0;P2=1;var e=ibe();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return P0=t,P0}var T0,T2;function obe(){if(T2)return T0;T2=1;function e(t,n,r){for(var i=-1,a=t==null?0:t.length;++i<a;)if(r(n,t[i]))return!0;return!1}return T0=e,T0}var N0,N2;function sbe(){if(N2)return N0;N2=1;function e(){}return N0=e,N0}var R0,R2;function lbe(){if(R2)return R0;R2=1;var e=H8(),t=sbe(),n=Vk(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(a){return new e(a)}:t;return R0=i,R0}var I0,I2;function cbe(){if(I2)return I0;I2=1;var e=$8(),t=abe(),n=obe(),r=z8(),i=lbe(),a=Vk(),o=200;function s(l,c,d){var f=-1,h=t,p=l.length,y=!0,m=[],g=m;if(d)y=!1,h=n;else if(p>=o){var v=c?null:i(l);if(v)return a(v);y=!1,h=r,g=new e}else g=c?[]:m;e:for(;++f<p;){var b=l[f],x=c?c(b):b;if(b=d||b!==0?b:0,y&&x===x){for(var _=g.length;_--;)if(g[_]===x)continue e;c&&g.push(x),m.push(b)}else h(g,x,d)||(g!==m&&g.push(x),m.push(b))}return m}return I0=s,I0}var M0,M2;function ube(){if(M2)return M0;M2=1;var e=Ii(),t=cbe();function n(r,i){return r&&r.length?t(r,e(i,2)):[]}return M0=n,M0}var dbe=ube();const D2=ot(dbe);function X8(e,t,n){return t===!0?D2(e,n):Ne(t)?D2(e,t):e}function pl(e){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pl(e)}var fbe=["ref"];function $2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Li(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$2(Object(n),!0).forEach(function(r){hg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,J8(r.key),r)}}function pbe(e,t,n){return t&&L2(e.prototype,t),n&&L2(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function mbe(e,t,n){return t=ap(t),gbe(e,Q8()?Reflect.construct(t,n||[],ap(e).constructor):t.apply(e,n))}function gbe(e,t){if(t&&(pl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ybe(e)}function ybe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q8=function(){return!!e})()}function ap(e){return ap=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ap(e)}function vbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nS(e,t)}function nS(e,t){return nS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nS(e,t)}function hg(e,t,n){return t=J8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J8(e){var t=bbe(e,"string");return pl(t)=="symbol"?t:t+""}function bbe(e,t){if(pl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function xbe(e,t){if(e==null)return{};var n=wbe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function wbe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Sbe(e){return e.value}function _be(e,t){if(I.isValidElement(e))return I.cloneElement(e,t);if(typeof e=="function")return I.createElement(e,t);t.ref;var n=xbe(t,fbe);return I.createElement(Uk,n)}var z2=1,or=(function(e){function t(){var n;hbe(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=mbe(this,t,[].concat(i)),hg(n,"lastBoundingBox",{width:-1,height:-1}),n}return vbe(t,e),pbe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>z2||Math.abs(i.height-this.lastBoundingBox.height)>z2)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Li({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,d=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((c||0)-p.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var y=this.getBBoxSnapshot();h={top:((d||0)-y.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Li(Li({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,d=i.payload,f=Li(Li({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return I.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},_be(a,Li(Li({},this.props),{},{payload:X8(d,c,Sbe)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Li(Li({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&pe(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])})(S.PureComponent);hg(or,"displayName","Legend");hg(or,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var D0,F2;function jbe(){if(F2)return D0;F2=1;var e=Yd(),t=Wk(),n=Qn(),r=e?e.isConcatSpreadable:void 0;function i(a){return n(a)||t(a)||!!(r&&a&&a[r])}return D0=i,D0}var $0,B2;function Z8(){if(B2)return $0;B2=1;var e=B8(),t=jbe();function n(r,i,a,o,s){var l=-1,c=r.length;for(a||(a=t),s||(s=[]);++l<c;){var d=r[l];i>0&&a(d)?i>1?n(d,i-1,a,o,s):e(s,d):o||(s[s.length]=d)}return s}return $0=n,$0}var L0,q2;function kbe(){if(q2)return L0;q2=1;function e(t){return function(n,r,i){for(var a=-1,o=Object(n),s=i(n),l=s.length;l--;){var c=s[t?l:++a];if(r(o[c],c,o)===!1)break}return n}}return L0=e,L0}var z0,U2;function Ebe(){if(U2)return z0;U2=1;var e=kbe(),t=e();return z0=t,z0}var F0,V2;function eq(){if(V2)return F0;V2=1;var e=Ebe(),t=fg();function n(r,i){return r&&e(r,i,t)}return F0=n,F0}var B0,W2;function Abe(){if(W2)return B0;W2=1;var e=Xd();function t(n,r){return function(i,a){if(i==null)return i;if(!e(i))return n(i,a);for(var o=i.length,s=r?o:-1,l=Object(i);(r?s--:++s<o)&&a(l[s],s,l)!==!1;);return i}}return B0=t,B0}var q0,H2;function Yk(){if(H2)return q0;H2=1;var e=eq(),t=Abe(),n=t(e);return q0=n,q0}var U0,G2;function tq(){if(G2)return U0;G2=1;var e=Yk(),t=Xd();function n(r,i){var a=-1,o=t(r)?Array(r.length):[];return e(r,function(s,l,c){o[++a]=i(s,l,c)}),o}return U0=n,U0}var V0,K2;function Obe(){if(K2)return V0;K2=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return V0=e,V0}var W0,Y2;function Cbe(){if(Y2)return W0;Y2=1;var e=oc();function t(n,r){if(n!==r){var i=n!==void 0,a=n===null,o=n===n,s=e(n),l=r!==void 0,c=r===null,d=r===r,f=e(r);if(!c&&!f&&!s&&n>r||s&&l&&d&&!c&&!f||a&&l&&d||!i&&d||!o)return 1;if(!a&&!s&&!f&&n<r||f&&i&&o&&!a&&!s||c&&i&&o||!l&&o||!d)return-1}return 0}return W0=t,W0}var H0,X2;function Pbe(){if(X2)return H0;X2=1;var e=Cbe();function t(n,r,i){for(var a=-1,o=n.criteria,s=r.criteria,l=o.length,c=i.length;++a<l;){var d=e(o[a],s[a]);if(d){if(a>=c)return d;var f=i[a];return d*(f=="desc"?-1:1)}}return n.index-r.index}return H0=t,H0}var G0,Q2;function Tbe(){if(Q2)return G0;Q2=1;var e=Dk(),t=$k(),n=Ii(),r=tq(),i=Obe(),a=U8(),o=Pbe(),s=cc(),l=Qn();function c(d,f,h){f.length?f=e(f,function(m){return l(m)?function(g){return t(g,m.length===1?m[0]:m)}:m}):f=[s];var p=-1;f=e(f,a(n));var y=r(d,function(m,g,v){var b=e(f,function(x){return x(m)});return{criteria:b,index:++p,value:m}});return i(y,function(m,g){return o(m,g,h)})}return G0=c,G0}var K0,J2;function Nbe(){if(J2)return K0;J2=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return K0=e,K0}var Y0,Z2;function Rbe(){if(Z2)return Y0;Z2=1;var e=Nbe(),t=Math.max;function n(r,i,a){return i=t(i===void 0?r.length-1:i,0),function(){for(var o=arguments,s=-1,l=t(o.length-i,0),c=Array(l);++s<l;)c[s]=o[i+s];s=-1;for(var d=Array(i+1);++s<i;)d[s]=o[s];return d[i]=a(c),e(r,this,d)}}return Y0=n,Y0}var X0,eR;function Ibe(){if(eR)return X0;eR=1;function e(t){return function(){return t}}return X0=e,X0}var Q0,tR;function nq(){if(tR)return Q0;tR=1;var e=ds(),t=(function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}})();return Q0=t,Q0}var J0,nR;function Mbe(){if(nR)return J0;nR=1;var e=Ibe(),t=nq(),n=cc(),r=t?function(i,a){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(a),writable:!0})}:n;return J0=r,J0}var Z0,rR;function Dbe(){if(rR)return Z0;rR=1;var e=800,t=16,n=Date.now;function r(i){var a=0,o=0;return function(){var s=n(),l=t-(s-o);if(o=s,l>0){if(++a>=e)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return Z0=r,Z0}var ex,iR;function $be(){if(iR)return ex;iR=1;var e=Mbe(),t=Dbe(),n=t(e);return ex=n,ex}var tx,aR;function Lbe(){if(aR)return tx;aR=1;var e=cc(),t=Rbe(),n=$be();function r(i,a){return n(t(i,a,e),i+"")}return tx=r,tx}var nx,oR;function pg(){if(oR)return nx;oR=1;var e=Rk(),t=Xd(),n=Hk(),r=io();function i(a,o,s){if(!r(s))return!1;var l=typeof o;return(l=="number"?t(s)&&n(o,s.length):l=="string"&&o in s)?e(s[o],a):!1}return nx=i,nx}var rx,sR;function zbe(){if(sR)return rx;sR=1;var e=Z8(),t=Tbe(),n=Lbe(),r=pg(),i=n(function(a,o){if(a==null)return[];var s=o.length;return s>1&&r(a,o[0],o[1])?o=[]:s>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),t(a,e(o,1),[])});return rx=i,rx}var Fbe=zbe();const Xk=ot(Fbe);function Hu(e){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hu(e)}function rS(){return rS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rS.apply(this,arguments)}function Bbe(e,t){return Wbe(e)||Vbe(e,t)||Ube(e,t)||qbe()}function qbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ube(e,t){if(e){if(typeof e=="string")return lR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lR(e,t)}}function lR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vbe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Wbe(e){if(Array.isArray(e))return e}function cR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ix(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cR(Object(n),!0).forEach(function(r){Hbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hbe(e,t,n){return t=Gbe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gbe(e){var t=Kbe(e,"string");return Hu(t)=="symbol"?t:t+""}function Kbe(e,t){if(Hu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ybe(e){return Array.isArray(e)&&ln(e[0])&&ln(e[1])?e.join(" ~ "):e}var Xbe=function(t){var n=t.separator,r=n===void 0?" : ":n,i=t.contentStyle,a=i===void 0?{}:i,o=t.itemStyle,s=o===void 0?{}:o,l=t.labelStyle,c=l===void 0?{}:l,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,y=t.labelClassName,m=t.label,g=t.labelFormatter,v=t.accessibilityLayer,b=v===void 0?!1:v,x=function(){if(d&&d.length){var N={padding:0,margin:0},M=(h?Xk(d,h):d).map(function(E,R){if(E.type==="none")return null;var F=ix({display:"block",paddingTop:4,paddingBottom:4,color:E.color||"#000"},s),z=E.formatter||f||Ybe,q=E.value,L=E.name,D=q,W=L;if(z&&D!=null&&W!=null){var B=z(q,L,E,R,d);if(Array.isArray(B)){var $=Bbe(B,2);D=$[0],W=$[1]}else D=B}return I.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:F},ln(W)?I.createElement("span",{className:"recharts-tooltip-item-name"},W):null,ln(W)?I.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,I.createElement("span",{className:"recharts-tooltip-item-value"},D),I.createElement("span",{className:"recharts-tooltip-item-unit"},E.unit||""))});return I.createElement("ul",{className:"recharts-tooltip-item-list",style:N},M)}return null},_=ix({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),w=ix({margin:0},c),j=!Re(m),k=j?m:"",A=Le("recharts-default-tooltip",p),P=Le("recharts-tooltip-label",y);j&&g&&d!==void 0&&d!==null&&(k=g(m,d));var O=b?{role:"status","aria-live":"assertive"}:{};return I.createElement("div",rS({className:A,style:_},O),I.createElement("p",{className:P,style:w},I.isValidElement(k)?k:"".concat(k)),x())};function Gu(e){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(e)}function $f(e,t,n){return t=Qbe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qbe(e){var t=Jbe(e,"string");return Gu(t)=="symbol"?t:t+""}function Jbe(e,t){if(Gu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ic="recharts-tooltip-wrapper",Zbe={visibility:"hidden"};function e0e(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return Le(Ic,$f($f($f($f({},"".concat(Ic,"-right"),pe(n)&&t&&pe(t.x)&&n>=t.x),"".concat(Ic,"-left"),pe(n)&&t&&pe(t.x)&&n<t.x),"".concat(Ic,"-bottom"),pe(r)&&t&&pe(t.y)&&r>=t.y),"".concat(Ic,"-top"),pe(r)&&t&&pe(t.y)&&r<t.y))}function uR(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,a=e.position,o=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(a&&pe(a[r]))return a[r];var d=n[r]-s-i,f=n[r]+i;if(t[r])return o[r]?d:f;if(o[r]){var h=d,p=l[r];return h<p?Math.max(f,l[r]):Math.max(d,l[r])}var y=f+s,m=l[r]+c;return y>m?Math.max(d,l[r]):Math.max(f,l[r])}function t0e(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function n0e(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,i=e.position,a=e.reverseDirection,o=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,c,d,f;return o.height>0&&o.width>0&&n?(d=uR({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=uR({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=t0e({translateX:d,translateY:f,useTranslate3d:s})):c=Zbe,{cssProperties:c,cssClasses:e0e({translateX:d,translateY:f,coordinate:n})}}function ml(e){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ml(e)}function dR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dR(Object(n),!0).forEach(function(r){aS(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function r0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i0e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,iq(r.key),r)}}function a0e(e,t,n){return t&&i0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function o0e(e,t,n){return t=op(t),s0e(e,rq()?Reflect.construct(t,n||[],op(e).constructor):t.apply(e,n))}function s0e(e,t){if(t&&(ml(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l0e(e)}function l0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rq=function(){return!!e})()}function op(e){return op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},op(e)}function c0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iS(e,t)}function iS(e,t){return iS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iS(e,t)}function aS(e,t,n){return t=iq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iq(e){var t=u0e(e,"string");return ml(t)=="symbol"?t:t+""}function u0e(e,t){if(ml(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var hR=1,d0e=(function(e){function t(){var n;r0e(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=o0e(this,t,[].concat(i)),aS(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),aS(n,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,c,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&c!==void 0?c:0}})}}),n}return c0e(t,e),a0e(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>hR||Math.abs(r.height-this.state.lastBoundingBox.height)>hR)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,y=i.position,m=i.reverseDirection,g=i.useTranslate3d,v=i.viewBox,b=i.wrapperStyle,x=n0e({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:y,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:v}),_=x.cssClasses,w=x.cssProperties,j=fR(fR({transition:h&&a?"transform ".concat(s,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return I.createElement("div",{tabIndex:-1,className:_,style:j,ref:function(A){r.wrapperNode=A}},c)}}])})(S.PureComponent),f0e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Mi={isSsr:f0e()};function gl(e){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gl(e)}function pR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pR(Object(n),!0).forEach(function(r){Qk(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function h0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p0e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,oq(r.key),r)}}function m0e(e,t,n){return t&&p0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function g0e(e,t,n){return t=sp(t),y0e(e,aq()?Reflect.construct(t,n||[],sp(e).constructor):t.apply(e,n))}function y0e(e,t){if(t&&(gl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v0e(e)}function v0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aq=function(){return!!e})()}function sp(e){return sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sp(e)}function b0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oS(e,t)}function oS(e,t){return oS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oS(e,t)}function Qk(e,t,n){return t=oq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oq(e){var t=x0e(e,"string");return gl(t)=="symbol"?t:t+""}function x0e(e,t){if(gl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function w0e(e){return e.dataKey}function S0e(e,t){return I.isValidElement(e)?I.cloneElement(e,t):typeof e=="function"?I.createElement(e,t):I.createElement(Xbe,t)}var Ot=(function(e){function t(){return h0e(this,t),g0e(this,t,arguments)}return b0e(t,e),m0e(t,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,y=i.payload,m=i.payloadUniqBy,g=i.position,v=i.reverseDirection,b=i.useTranslate3d,x=i.viewBox,_=i.wrapperStyle,w=y??[];f&&w.length&&(w=X8(y.filter(function(k){return k.value!=null&&(k.hide!==!0||r.props.includeHidden)}),m,w0e));var j=w.length>0;return I.createElement(d0e,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:h,active:a,coordinate:d,hasPayload:j,offset:p,position:g,reverseDirection:v,useTranslate3d:b,viewBox:x,wrapperStyle:_},S0e(c,mR(mR({},this.props),{},{payload:w})))}}])})(S.PureComponent);Qk(Ot,"displayName","Tooltip");Qk(Ot,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Mi.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var ax,gR;function _0e(){if(gR)return ax;gR=1;var e=Ri(),t=function(){return e.Date.now()};return ax=t,ax}var ox,yR;function j0e(){if(yR)return ox;yR=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return ox=t,ox}var sx,vR;function k0e(){if(vR)return sx;vR=1;var e=j0e(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return sx=n,sx}var lx,bR;function sq(){if(bR)return lx;bR=1;var e=k0e(),t=io(),n=oc(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;function l(c){if(typeof c=="number")return c;if(n(c))return r;if(t(c)){var d=typeof c.valueOf=="function"?c.valueOf():c;c=t(d)?d+"":d}if(typeof c!="string")return c===0?c:+c;c=e(c);var f=a.test(c);return f||o.test(c)?s(c.slice(2),f?2:8):i.test(c)?r:+c}return lx=l,lx}var cx,xR;function E0e(){if(xR)return cx;xR=1;var e=io(),t=_0e(),n=sq(),r="Expected a function",i=Math.max,a=Math.min;function o(s,l,c){var d,f,h,p,y,m,g=0,v=!1,b=!1,x=!0;if(typeof s!="function")throw new TypeError(r);l=n(l)||0,e(c)&&(v=!!c.leading,b="maxWait"in c,h=b?i(n(c.maxWait)||0,l):h,x="trailing"in c?!!c.trailing:x);function _(M){var E=d,R=f;return d=f=void 0,g=M,p=s.apply(R,E),p}function w(M){return g=M,y=setTimeout(A,l),v?_(M):p}function j(M){var E=M-m,R=M-g,F=l-E;return b?a(F,h-R):F}function k(M){var E=M-m,R=M-g;return m===void 0||E>=l||E<0||b&&R>=h}function A(){var M=t();if(k(M))return P(M);y=setTimeout(A,j(M))}function P(M){return y=void 0,x&&d?_(M):(d=f=void 0,p)}function O(){y!==void 0&&clearTimeout(y),g=0,d=m=f=y=void 0}function T(){return y===void 0?p:P(t())}function N(){var M=t(),E=k(M);if(d=arguments,f=this,m=M,E){if(y===void 0)return w(m);if(b)return clearTimeout(y),y=setTimeout(A,l),_(m)}return y===void 0&&(y=setTimeout(A,l)),p}return N.cancel=O,N.flush=T,N}return cx=o,cx}var ux,wR;function A0e(){if(wR)return ux;wR=1;var e=E0e(),t=io(),n="Expected a function";function r(i,a,o){var s=!0,l=!0;if(typeof i!="function")throw new TypeError(n);return t(o)&&(s="leading"in o?!!o.leading:s,l="trailing"in o?!!o.trailing:l),e(i,a,{leading:s,maxWait:a,trailing:l})}return ux=r,ux}var O0e=A0e();const lq=ot(O0e);function Ku(e){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ku(e)}function SR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SR(Object(n),!0).forEach(function(r){C0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function C0e(e,t,n){return t=P0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P0e(e){var t=T0e(e,"string");return Ku(t)=="symbol"?t:t+""}function T0e(e,t){if(Ku(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N0e(e,t){return D0e(e)||M0e(e,t)||I0e(e,t)||R0e()}function R0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I0e(e,t){if(e){if(typeof e=="string")return _R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _R(e,t)}}function _R(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M0e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function D0e(e){if(Array.isArray(e))return e}var xn=S.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=e.width,o=a===void 0?"100%":a,s=e.height,l=s===void 0?"100%":s,c=e.minWidth,d=c===void 0?0:c,f=e.minHeight,h=e.maxHeight,p=e.children,y=e.debounce,m=y===void 0?0:y,g=e.id,v=e.className,b=e.onResize,x=e.style,_=x===void 0?{}:x,w=S.useRef(null),j=S.useRef();j.current=b,S.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var k=S.useState({containerWidth:i.width,containerHeight:i.height}),A=N0e(k,2),P=A[0],O=A[1],T=S.useCallback(function(M,E){O(function(R){var F=Math.round(M),z=Math.round(E);return R.containerWidth===F&&R.containerHeight===z?R:{containerWidth:F,containerHeight:z}})},[]);S.useEffect(function(){var M=function(L){var D,W=L[0].contentRect,B=W.width,$=W.height;T(B,$),(D=j.current)===null||D===void 0||D.call(j,B,$)};m>0&&(M=lq(M,m,{trailing:!0,leading:!1}));var E=new ResizeObserver(M),R=w.current.getBoundingClientRect(),F=R.width,z=R.height;return T(F,z),E.observe(w.current),function(){E.disconnect()}},[T,m]);var N=S.useMemo(function(){var M=P.containerWidth,E=P.containerHeight;if(M<0||E<0)return null;Zr(Mo(o)||Mo(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Zr(!n||n>0,"The aspect(%s) must be greater than zero.",n);var R=Mo(o)?M:o,F=Mo(l)?E:l;n&&n>0&&(R?F=R/n:F&&(R=F*n),h&&F>h&&(F=h)),Zr(R>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,F,o,l,d,f,n);var z=!Array.isArray(p)&&Xi(p.type).endsWith("Chart");return I.Children.map(p,function(q){return I.isValidElement(q)?S.cloneElement(q,Lf({width:R,height:F},z?{style:Lf({height:"100%",width:"100%",maxHeight:F,maxWidth:R},q.props.style)}:{})):q})},[n,p,l,h,f,d,P,o]);return I.createElement("div",{id:g?"".concat(g):void 0,className:Le("recharts-responsive-container",v),style:Lf(Lf({},_),{},{width:o,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:w},N)}),uc=function(t){return null};uc.displayName="Cell";function Yu(e){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yu(e)}function jR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jR(Object(n),!0).forEach(function(r){$0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $0e(e,t,n){return t=L0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L0e(e){var t=z0e(e,"string");return Yu(t)=="symbol"?t:t+""}function z0e(e,t){if(Yu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Es={widthCache:{},cacheCount:0},F0e=2e3,B0e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},kR="recharts_measurement_span";function q0e(e){var t=sS({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var fu=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Mi.isSsr)return{width:0,height:0};var r=q0e(n),i=JSON.stringify({text:t,copyStyle:r});if(Es.widthCache[i])return Es.widthCache[i];try{var a=document.getElementById(kR);a||(a=document.createElement("span"),a.setAttribute("id",kR),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=sS(sS({},B0e),r);Object.assign(a.style,o),a.textContent="".concat(t);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return Es.widthCache[i]=l,++Es.cacheCount>F0e&&(Es.cacheCount=0,Es.widthCache={}),l}catch{return{width:0,height:0}}},U0e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Xu(e){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xu(e)}function lp(e,t){return G0e(e)||H0e(e,t)||W0e(e,t)||V0e()}function V0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W0e(e,t){if(e){if(typeof e=="string")return ER(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ER(e,t)}}function ER(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H0e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function G0e(e){if(Array.isArray(e))return e}function K0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,X0e(r.key),r)}}function Y0e(e,t,n){return t&&AR(e.prototype,t),n&&AR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function X0e(e){var t=Q0e(e,"string");return Xu(t)=="symbol"?t:t+""}function Q0e(e,t){if(Xu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var OR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,J0e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Z0e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,cq={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},exe=Object.keys(cq),$s="NaN";function txe(e,t){return e*cq[t]}var zf=(function(){function e(t,n){K0e(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!J0e.test(n)&&(this.num=NaN,this.unit=""),exe.includes(n)&&(this.num=txe(t,n),this.unit="px")}return Y0e(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Z0e.exec(n))!==null&&r!==void 0?r:[],a=lp(i,3),o=a[1],s=a[2];return new e(parseFloat(o),s??"")}}])})();function uq(e){if(e.includes($s))return $s;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=OR.exec(t))!==null&&n!==void 0?n:[],i=lp(r,4),a=i[1],o=i[2],s=i[3],l=zf.parse(a??""),c=zf.parse(s??""),d=o==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return $s;t=t.replace(OR,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=CR.exec(t))!==null&&f!==void 0?f:[],p=lp(h,4),y=p[1],m=p[2],g=p[3],v=zf.parse(y??""),b=zf.parse(g??""),x=m==="+"?v.add(b):v.subtract(b);if(x.isNaN())return $s;t=t.replace(CR,x.toString())}return t}var PR=/\(([^()]*)\)/;function nxe(e){for(var t=e;t.includes("(");){var n=PR.exec(t),r=lp(n,2),i=r[1];t=t.replace(PR,uq(i))}return t}function rxe(e){var t=e.replace(/\s+/g,"");return t=nxe(t),t=uq(t),t}function ixe(e){try{return rxe(e)}catch{return $s}}function dx(e){var t=ixe(e.slice(5,-1));return t===$s?"":t}var axe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],oxe=["dx","dy","angle","className","breakAll"];function lS(){return lS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lS.apply(this,arguments)}function TR(e,t){if(e==null)return{};var n=sxe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function sxe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function NR(e,t){return dxe(e)||uxe(e,t)||cxe(e,t)||lxe()}function lxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cxe(e,t){if(e){if(typeof e=="string")return RR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RR(e,t)}}function RR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uxe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function dxe(e){if(Array.isArray(e))return e}var dq=/[ \f\n\r\t\v\u2028\u2029]+/,fq=function(t){var n=t.children,r=t.breakAll,i=t.style;try{var a=[];Re(n)||(r?a=n.toString().split(""):a=n.toString().split(dq));var o=a.map(function(l){return{word:l,width:fu(l,i).width}}),s=r?0:fu("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},fxe=function(t,n,r,i,a){var o=t.maxLines,s=t.children,l=t.style,c=t.breakAll,d=pe(o),f=s,h=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return R.reduce(function(F,z){var q=z.word,L=z.width,D=F[F.length-1];if(D&&(i==null||a||D.width+L+r<Number(i)))D.words.push(q),D.width+=L+r;else{var W={words:[q],width:L};F.push(W)}return F},[])},p=h(n),y=function(R){return R.reduce(function(F,z){return F.width>z.width?F:z})};if(!d)return p;for(var m="",g=function(R){var F=f.slice(0,R),z=fq({breakAll:c,style:l,children:F+m}).wordsWithComputedWidth,q=h(z),L=q.length>o||y(q).width>Number(i);return[L,q]},v=0,b=f.length-1,x=0,_;v<=b&&x<=f.length-1;){var w=Math.floor((v+b)/2),j=w-1,k=g(j),A=NR(k,2),P=A[0],O=A[1],T=g(w),N=NR(T,1),M=N[0];if(!P&&!M&&(v=w+1),P&&M&&(b=w-1),!P&&M){_=O;break}x++}return _||p},IR=function(t){var n=Re(t)?[]:t.toString().split(dq);return[{words:n}]},hxe=function(t){var n=t.width,r=t.scaleToFit,i=t.children,a=t.style,o=t.breakAll,s=t.maxLines;if((n||r)&&!Mi.isSsr){var l,c,d=fq({breakAll:o,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,c=h}else return IR(i);return fxe({breakAll:o,children:i,maxLines:s,style:a},l,c,n,r)}return IR(i)},MR="#808080",ts=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,a=i===void 0?0:i,o=t.lineHeight,s=o===void 0?"1em":o,l=t.capHeight,c=l===void 0?"0.71em":l,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,y=t.verticalAnchor,m=y===void 0?"end":y,g=t.fill,v=g===void 0?MR:g,b=TR(t,axe),x=S.useMemo(function(){return hxe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),_=b.dx,w=b.dy,j=b.angle,k=b.className,A=b.breakAll,P=TR(b,oxe);if(!ln(r)||!ln(a))return null;var O=r+(pe(_)?_:0),T=a+(pe(w)?w:0),N;switch(m){case"start":N=dx("calc(".concat(c,")"));break;case"middle":N=dx("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:N=dx("calc(".concat(x.length-1," * -").concat(s,")"));break}var M=[];if(f){var E=x[0].width,R=b.width;M.push("scale(".concat((pe(R)?R/E:1)/E,")"))}return j&&M.push("rotate(".concat(j,", ").concat(O,", ").concat(T,")")),M.length&&(P.transform=M.join(" ")),I.createElement("text",lS({},we(P,!0),{x:O,y:T,className:Le("recharts-text",k),textAnchor:p,fill:v.includes("url")?MR:v}),x.map(function(F,z){var q=F.words.join(A?"":" ");return I.createElement("tspan",{x:O,dy:z===0?N:s,key:"".concat(q,"-").concat(z)},q)}))};function Va(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function pxe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Jk(e){let t,n,r;e.length!==2?(t=Va,n=(s,l)=>Va(e(s),l),r=(s,l)=>e(s)-l):(t=e===Va||e===pxe?e:mxe,n=e,r=e);function i(s,l,c=0,d=s.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;n(s[f],l)<0?c=f+1:d=f}while(c<d)}return c}function a(s,l,c=0,d=s.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;n(s[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function o(s,l,c=0,d=s.length){const f=i(s,l,c,d-1);return f>c&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function mxe(){return 0}function hq(e){return e===null?NaN:+e}function*gxe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const yxe=Jk(Va),Qd=yxe.right;Jk(hq).center;class DR extends Map{constructor(t,n=xxe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get($R(this,t))}has(t){return super.has($R(this,t))}set(t,n){return super.set(vxe(this,t),n)}delete(t){return super.delete(bxe(this,t))}}function $R({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function vxe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function bxe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function xxe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function wxe(e=Va){if(e===Va)return pq;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function pq(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Sxe=Math.sqrt(50),_xe=Math.sqrt(10),jxe=Math.sqrt(2);function cp(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Sxe?10:a>=_xe?5:a>=jxe?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?cp(e,t,n*2):[s,l,c]}function cS(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?cp(t,e,n):cp(e,t,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function uS(e,t,n){return t=+t,e=+e,n=+n,cp(e,t,n)[2]}function dS(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?uS(t,e,n):uS(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function LR(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function zR(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function mq(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?pq:wxe(i);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(n,Math.floor(t-c*f/l+h)),y=Math.min(r,Math.floor(t+(l-c)*f/l+h));mq(e,t,p,y,i)}const a=e[t];let o=n,s=r;for(Mc(e,n,t),i(e[r],a)>0&&Mc(e,n,r);o<s;){for(Mc(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[n],a)===0?Mc(e,n,s):(++s,Mc(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Mc(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function kxe(e,t,n){if(e=Float64Array.from(gxe(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return zR(e);if(t>=1)return LR(e);var r,i=(r-1)*t,a=Math.floor(i),o=LR(mq(e,a).subarray(0,a+1)),s=zR(e.subarray(a+1));return o+(s-o)*(i-a)}}function Exe(e,t,n=hq){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),s=+n(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function Axe(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Mr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ha(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const fS=Symbol("implicit");function Zk(){var e=new DR,t=[],n=[],r=fS;function i(a){let o=e.get(a);if(o===void 0){if(r!==fS)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new DR;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Zk(t,n).unknown(r)},Mr.apply(i,arguments),i}function Qu(){var e=Zk().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,s=!1,l=0,c=0,d=.5;delete e.unknown;function f(){var h=t().length,p=i<r,y=p?i:r,m=p?r:i;a=(m-y)/Math.max(1,h-l+c*2),s&&(a=Math.floor(a)),y+=(m-y-a*(h-l))*d,o=a*(1-l),s&&(y=Math.round(y),o=Math.round(o));var g=Axe(h).map(function(v){return y+a*v});return n(p?g.reverse():g)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(h){return arguments.length?(s=!!h,f()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Qu(t(),[r,i]).round(s).paddingInner(l).paddingOuter(c).align(d)},Mr.apply(f(),arguments)}function gq(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return gq(t())},e}function hu(){return gq(Qu.apply(null,arguments).paddingInner(1))}function eE(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function yq(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Jd(){}var Ju=.7,up=1/Ju,el="\\s*([+-]?\\d+)\\s*",Zu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Oxe=/^#([0-9a-f]{3,8})$/,Cxe=new RegExp(`^rgb\\(${el},${el},${el}\\)$`),Pxe=new RegExp(`^rgb\\(${xi},${xi},${xi}\\)$`),Txe=new RegExp(`^rgba\\(${el},${el},${el},${Zu}\\)$`),Nxe=new RegExp(`^rgba\\(${xi},${xi},${xi},${Zu}\\)$`),Rxe=new RegExp(`^hsl\\(${Zu},${xi},${xi}\\)$`),Ixe=new RegExp(`^hsla\\(${Zu},${xi},${xi},${Zu}\\)$`),FR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};eE(Jd,ed,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:BR,formatHex:BR,formatHex8:Mxe,formatHsl:Dxe,formatRgb:qR,toString:qR});function BR(){return this.rgb().formatHex()}function Mxe(){return this.rgb().formatHex8()}function Dxe(){return vq(this).formatHsl()}function qR(){return this.rgb().formatRgb()}function ed(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Oxe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?UR(t):n===3?new Kn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ff(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ff(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Cxe.exec(e))?new Kn(t[1],t[2],t[3],1):(t=Pxe.exec(e))?new Kn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Txe.exec(e))?Ff(t[1],t[2],t[3],t[4]):(t=Nxe.exec(e))?Ff(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Rxe.exec(e))?HR(t[1],t[2]/100,t[3]/100,1):(t=Ixe.exec(e))?HR(t[1],t[2]/100,t[3]/100,t[4]):FR.hasOwnProperty(e)?UR(FR[e]):e==="transparent"?new Kn(NaN,NaN,NaN,0):null}function UR(e){return new Kn(e>>16&255,e>>8&255,e&255,1)}function Ff(e,t,n,r){return r<=0&&(e=t=n=NaN),new Kn(e,t,n,r)}function $xe(e){return e instanceof Jd||(e=ed(e)),e?(e=e.rgb(),new Kn(e.r,e.g,e.b,e.opacity)):new Kn}function hS(e,t,n,r){return arguments.length===1?$xe(e):new Kn(e,t,n,r??1)}function Kn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}eE(Kn,hS,yq(Jd,{brighter(e){return e=e==null?up:Math.pow(up,e),new Kn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ju:Math.pow(Ju,e),new Kn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Kn(Uo(this.r),Uo(this.g),Uo(this.b),dp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:VR,formatHex:VR,formatHex8:Lxe,formatRgb:WR,toString:WR}));function VR(){return`#${Do(this.r)}${Do(this.g)}${Do(this.b)}`}function Lxe(){return`#${Do(this.r)}${Do(this.g)}${Do(this.b)}${Do((isNaN(this.opacity)?1:this.opacity)*255)}`}function WR(){const e=dp(this.opacity);return`${e===1?"rgb(":"rgba("}${Uo(this.r)}, ${Uo(this.g)}, ${Uo(this.b)}${e===1?")":`, ${e})`}`}function dp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Uo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Do(e){return e=Uo(e),(e<16?"0":"")+e.toString(16)}function HR(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Yr(e,t,n,r)}function vq(e){if(e instanceof Yr)return new Yr(e.h,e.s,e.l,e.opacity);if(e instanceof Jd||(e=ed(e)),!e)return new Yr;if(e instanceof Yr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(t===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-t)/s+2:o=(t-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Yr(o,s,l,e.opacity)}function zxe(e,t,n,r){return arguments.length===1?vq(e):new Yr(e,t,n,r??1)}function Yr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}eE(Yr,zxe,yq(Jd,{brighter(e){return e=e==null?up:Math.pow(up,e),new Yr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ju:Math.pow(Ju,e),new Yr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Kn(fx(e>=240?e-240:e+120,i,r),fx(e,i,r),fx(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Yr(GR(this.h),Bf(this.s),Bf(this.l),dp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=dp(this.opacity);return`${e===1?"hsl(":"hsla("}${GR(this.h)}, ${Bf(this.s)*100}%, ${Bf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function GR(e){return e=(e||0)%360,e<0?e+360:e}function Bf(e){return Math.max(0,Math.min(1,e||0))}function fx(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const tE=e=>()=>e;function Fxe(e,t){return function(n){return e+n*t}}function Bxe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function qxe(e){return(e=+e)==1?bq:function(t,n){return n-t?Bxe(t,n,e):tE(isNaN(t)?n:t)}}function bq(e,t){var n=t-e;return n?Fxe(e,n):tE(isNaN(e)?t:e)}const KR=(function e(t){var n=qxe(t);function r(i,a){var o=n((i=hS(i)).r,(a=hS(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),c=bq(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=s(d),i.b=l(d),i.opacity=c(d),i+""}}return r.gamma=e,r})(1);function Uxe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function Vxe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Wxe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=dc(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function Hxe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function fp(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Gxe(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=dc(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var pS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hx=new RegExp(pS.source,"g");function Kxe(e){return function(){return e}}function Yxe(e){return function(t){return e(t)+""}}function Xxe(e,t){var n=pS.lastIndex=hx.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(e=e+"",t=t+"";(r=pS.exec(e))&&(i=hx.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:fp(r,i)})),n=hx.lastIndex;return n<t.length&&(a=t.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?Yxe(l[0].x):Kxe(t):(t=l.length,function(c){for(var d=0,f;d<t;++d)s[(f=l[d]).i]=f.x(c);return s.join("")})}function dc(e,t){var n=typeof t,r;return t==null||n==="boolean"?tE(t):(n==="number"?fp:n==="string"?(r=ed(t))?(t=r,KR):Xxe:t instanceof ed?KR:t instanceof Date?Hxe:Vxe(t)?Uxe:Array.isArray(t)?Wxe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Gxe:fp)(e,t)}function nE(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Qxe(e,t){t===void 0&&(t=e,e=dc);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function Jxe(e){return function(){return e}}function hp(e){return+e}var YR=[0,1];function zn(e){return e}function mS(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Jxe(isNaN(t)?NaN:.5)}function Zxe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function ewe(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=mS(i,r),a=n(o,a)):(r=mS(r,i),a=n(a,o)),function(s){return a(r(s))}}function twe(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=mS(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(s){var l=Qd(e,s,1,r)-1;return a[l](i[l](s))}}function Zd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function mg(){var e=YR,t=YR,n=dc,r,i,a,o=zn,s,l,c;function d(){var h=Math.min(e.length,t.length);return o!==zn&&(o=Zxe(e[0],e[h-1])),s=h>2?twe:ewe,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=s(e.map(r),t,n)))(r(o(h)))}return f.invert=function(h){return o(i((c||(c=s(t,e.map(r),fp)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,hp),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=nE,d()},f.clamp=function(h){return arguments.length?(o=h?!0:zn,d()):o!==zn},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return r=h,i=p,d()}}function rE(){return mg()(zn,zn)}function nwe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function pp(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function yl(e){return e=pp(Math.abs(e)),e?e[1]:NaN}function rwe(e,t){return function(n,r){for(var i=n.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function iwe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var awe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function td(e){if(!(t=awe.exec(e)))throw new Error("invalid format: "+e);var t;return new iE({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}td.prototype=iE.prototype;function iE(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}iE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function owe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var xq;function swe(e,t){var n=pp(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(xq=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+pp(e,Math.max(0,t+a-1))[0]}function XR(e,t){var n=pp(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const QR={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:nwe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>XR(e*100,t),r:XR,s:swe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function JR(e){return e}var ZR=Array.prototype.map,eI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function lwe(e){var t=e.grouping===void 0||e.thousands===void 0?JR:rwe(ZR.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?JR:iwe(ZR.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=td(f);var h=f.fill,p=f.align,y=f.sign,m=f.symbol,g=f.zero,v=f.width,b=f.comma,x=f.precision,_=f.trim,w=f.type;w==="n"?(b=!0,w="g"):QR[w]||(x===void 0&&(x=12),_=!0,w="g"),(g||h==="0"&&p==="=")&&(g=!0,h="0",p="=");var j=m==="$"?n:m==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",k=m==="$"?r:/[%p]/.test(w)?o:"",A=QR[w],P=/[defgprs%]/.test(w);x=x===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function O(T){var N=j,M=k,E,R,F;if(w==="c")M=A(T)+M,T="";else{T=+T;var z=T<0||1/T<0;if(T=isNaN(T)?l:A(Math.abs(T),x),_&&(T=owe(T)),z&&+T==0&&y!=="+"&&(z=!1),N=(z?y==="("?y:s:y==="-"||y==="("?"":y)+N,M=(w==="s"?eI[8+xq/3]:"")+M+(z&&y==="("?")":""),P){for(E=-1,R=T.length;++E<R;)if(F=T.charCodeAt(E),48>F||F>57){M=(F===46?i+T.slice(E+1):T.slice(E))+M,T=T.slice(0,E);break}}}b&&!g&&(T=t(T,1/0));var q=N.length+T.length+M.length,L=q<v?new Array(v-q+1).join(h):"";switch(b&&g&&(T=t(L+T,L.length?v-M.length:1/0),L=""),p){case"<":T=N+T+M+L;break;case"=":T=N+L+T+M;break;case"^":T=L.slice(0,q=L.length>>1)+N+T+M+L.slice(q);break;default:T=L+N+T+M;break}return a(T)}return O.toString=function(){return f+""},O}function d(f,h){var p=c((f=td(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(yl(h)/3)))*3,m=Math.pow(10,-y),g=eI[8+y/3];return function(v){return p(m*v)+g}}return{format:c,formatPrefix:d}}var qf,aE,wq;cwe({thousands:",",grouping:[3],currency:["$",""]});function cwe(e){return qf=lwe(e),aE=qf.format,wq=qf.formatPrefix,qf}function uwe(e){return Math.max(0,-yl(Math.abs(e)))}function dwe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(yl(t)/3)))*3-yl(Math.abs(e)))}function fwe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,yl(t)-yl(e))+1}function Sq(e,t,n,r){var i=dS(e,t,n),a;switch(r=td(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=dwe(i,o))&&(r.precision=a),wq(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=fwe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=uwe(i))&&(r.precision=a-(r.type==="%")*2);break}}return aE(r)}function oo(e){var t=e.domain;return e.ticks=function(n){var r=t();return cS(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Sq(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],s=r[a],l,c,d=10;for(s<o&&(c=o,o=s,s=c,c=i,i=a,a=c);d-- >0;){if(c=uS(o,s,n),c===l)return r[i]=o,r[a]=s,t(r);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function mp(){var e=rE();return e.copy=function(){return Zd(e,mp())},Mr.apply(e,arguments),oo(e)}function _q(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,hp),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return _q(e).unknown(t)},e=arguments.length?Array.from(e,hp):[0,1],oo(n)}function jq(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function tI(e){return Math.log(e)}function nI(e){return Math.exp(e)}function hwe(e){return-Math.log(-e)}function pwe(e){return-Math.exp(-e)}function mwe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function gwe(e){return e===10?mwe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function ywe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function rI(e){return(t,n)=>-e(-t,n)}function oE(e){const t=e(tI,nI),n=t.domain;let r=10,i,a;function o(){return i=ywe(r),a=gwe(r),n()[0]<0?(i=rI(i),a=rI(a),e(hwe,pwe)):e(tI,nI),t}return t.base=function(s){return arguments.length?(r=+s,o()):r},t.domain=function(s){return arguments.length?(n(s),o()):n()},t.ticks=s=>{const l=n();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let h=i(c),p=i(d),y,m;const g=s==null?10:+s;let v=[];if(!(r%1)&&p-h<g){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(y=1;y<r;++y)if(m=h<0?y/a(-h):y*a(h),!(m<c)){if(m>d)break;v.push(m)}}else for(;h<=p;++h)for(y=r-1;y>=1;--y)if(m=h>0?y/a(-h):y*a(h),!(m<c)){if(m>d)break;v.push(m)}v.length*2<g&&(v=cS(c,d,g))}else v=cS(h,p,Math.min(p-h,g)).map(a);return f?v.reverse():v},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=td(l)).precision==null&&(l.trim=!0),l=aE(l)),s===1/0)return l;const c=Math.max(1,r*s/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=c?l(d):""}},t.nice=()=>n(jq(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function kq(){const e=oE(mg()).domain([1,10]);return e.copy=()=>Zd(e,kq()).base(e.base()),Mr.apply(e,arguments),e}function iI(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function aI(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function sE(e){var t=1,n=e(iI(t),aI(t));return n.constant=function(r){return arguments.length?e(iI(t=+r),aI(t)):t},oo(n)}function Eq(){var e=sE(mg());return e.copy=function(){return Zd(e,Eq()).constant(e.constant())},Mr.apply(e,arguments)}function oI(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function vwe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function bwe(e){return e<0?-e*e:e*e}function lE(e){var t=e(zn,zn),n=1;function r(){return n===1?e(zn,zn):n===.5?e(vwe,bwe):e(oI(n),oI(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},oo(t)}function cE(){var e=lE(mg());return e.copy=function(){return Zd(e,cE()).exponent(e.exponent())},Mr.apply(e,arguments),e}function xwe(){return cE.apply(null,arguments).exponent(.5)}function sI(e){return Math.sign(e)*e*e}function wwe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Aq(){var e=rE(),t=[0,1],n=!1,r;function i(a){var o=wwe(e(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return e.invert(sI(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,hp)).map(sI)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Aq(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Mr.apply(i,arguments),oo(i)}function Oq(){var e=[],t=[],n=[],r;function i(){var o=0,s=Math.max(1,t.length);for(n=new Array(s-1);++o<s;)n[o-1]=Exe(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:t[Qd(n,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Va),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return Oq().domain(e).range(t).unknown(r)},Mr.apply(a,arguments)}function Cq(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[Qd(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return Cq().domain([e,t]).range(i).unknown(a)},Mr.apply(oo(o),arguments)}function Pq(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[Qd(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Pq().domain(e).range(t).unknown(n)},Mr.apply(i,arguments)}const px=new Date,mx=new Date;function cn(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let c;do l.push(c=new Date(+a)),t(a,s),e(a);while(c<a&&a<o);return l},i.filter=a=>cn(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(px.setTime(+a),mx.setTime(+o),e(px),e(mx),Math.floor(n(px,mx))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const gp=cn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);gp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?cn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):gp);gp.range;const Ui=1e3,Ar=Ui*60,Vi=Ar*60,na=Vi*24,uE=na*7,lI=na*30,gx=na*365,$o=cn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ui)},(e,t)=>(t-e)/Ui,e=>e.getUTCSeconds());$o.range;const dE=cn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ui)},(e,t)=>{e.setTime(+e+t*Ar)},(e,t)=>(t-e)/Ar,e=>e.getMinutes());dE.range;const fE=cn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ar)},(e,t)=>(t-e)/Ar,e=>e.getUTCMinutes());fE.range;const hE=cn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ui-e.getMinutes()*Ar)},(e,t)=>{e.setTime(+e+t*Vi)},(e,t)=>(t-e)/Vi,e=>e.getHours());hE.range;const pE=cn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Vi)},(e,t)=>(t-e)/Vi,e=>e.getUTCHours());pE.range;const ef=cn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ar)/na,e=>e.getDate()-1);ef.range;const gg=cn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/na,e=>e.getUTCDate()-1);gg.range;const Tq=cn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/na,e=>Math.floor(e/na));Tq.range;function fs(e){return cn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ar)/uE)}const yg=fs(0),yp=fs(1),Swe=fs(2),_we=fs(3),vl=fs(4),jwe=fs(5),kwe=fs(6);yg.range;yp.range;Swe.range;_we.range;vl.range;jwe.range;kwe.range;function hs(e){return cn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/uE)}const vg=hs(0),vp=hs(1),Ewe=hs(2),Awe=hs(3),bl=hs(4),Owe=hs(5),Cwe=hs(6);vg.range;vp.range;Ewe.range;Awe.range;bl.range;Owe.range;Cwe.range;const mE=cn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());mE.range;const gE=cn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());gE.range;const ra=cn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ra.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:cn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ra.range;const ia=cn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ia.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:cn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ia.range;function Nq(e,t,n,r,i,a){const o=[[$o,1,Ui],[$o,5,5*Ui],[$o,15,15*Ui],[$o,30,30*Ui],[a,1,Ar],[a,5,5*Ar],[a,15,15*Ar],[a,30,30*Ar],[i,1,Vi],[i,3,3*Vi],[i,6,6*Vi],[i,12,12*Vi],[r,1,na],[r,2,2*na],[n,1,uE],[t,1,lI],[t,3,3*lI],[e,1,gx]];function s(c,d,f){const h=d<c;h&&([c,d]=[d,c]);const p=f&&typeof f.range=="function"?f:l(c,d,f),y=p?p.range(c,+d+1):[];return h?y.reverse():y}function l(c,d,f){const h=Math.abs(d-c)/f,p=Jk(([,,g])=>g).right(o,h);if(p===o.length)return e.every(dS(c/gx,d/gx,f));if(p===0)return gp.every(Math.max(dS(c,d,f),1));const[y,m]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return y.every(m)}return[s,l]}const[Pwe,Twe]=Nq(ia,gE,vg,Tq,pE,fE),[Nwe,Rwe]=Nq(ra,mE,yg,ef,hE,dE);function yx(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function vx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Dc(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Iwe(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=$c(i),d=Lc(i),f=$c(a),h=Lc(a),p=$c(o),y=Lc(o),m=$c(s),g=Lc(s),v=$c(l),b=Lc(l),x={a:z,A:q,b:L,B:D,c:null,d:pI,e:pI,f:r1e,g:h1e,G:m1e,H:e1e,I:t1e,j:n1e,L:Rq,m:i1e,M:a1e,p:W,q:B,Q:yI,s:vI,S:o1e,u:s1e,U:l1e,V:c1e,w:u1e,W:d1e,x:null,X:null,y:f1e,Y:p1e,Z:g1e,"%":gI},_={a:$,A:Q,b:Z,B:fe,c:null,d:mI,e:mI,f:x1e,g:P1e,G:N1e,H:y1e,I:v1e,j:b1e,L:Mq,m:w1e,M:S1e,p:le,q:ue,Q:yI,s:vI,S:_1e,u:j1e,U:k1e,V:E1e,w:A1e,W:O1e,x:null,X:null,y:C1e,Y:T1e,Z:R1e,"%":gI},w={a:O,A:T,b:N,B:M,c:E,d:fI,e:fI,f:Xwe,g:dI,G:uI,H:hI,I:hI,j:Hwe,L:Ywe,m:Wwe,M:Gwe,p:P,q:Vwe,Q:Jwe,s:Zwe,S:Kwe,u:zwe,U:Fwe,V:Bwe,w:Lwe,W:qwe,x:R,X:F,y:dI,Y:uI,Z:Uwe,"%":Qwe};x.x=j(n,x),x.X=j(r,x),x.c=j(t,x),_.x=j(n,_),_.X=j(r,_),_.c=j(t,_);function j(ee,te){return function(ce){var J=[],re=-1,C=0,G=ee.length,H,V,U;for(ce instanceof Date||(ce=new Date(+ce));++re<G;)ee.charCodeAt(re)===37&&(J.push(ee.slice(C,re)),(V=cI[H=ee.charAt(++re)])!=null?H=ee.charAt(++re):V=H==="e"?" ":"0",(U=te[H])&&(H=U(ce,V)),J.push(H),C=re+1);return J.push(ee.slice(C,re)),J.join("")}}function k(ee,te){return function(ce){var J=Dc(1900,void 0,1),re=A(J,ee,ce+="",0),C,G;if(re!=ce.length)return null;if("Q"in J)return new Date(J.Q);if("s"in J)return new Date(J.s*1e3+("L"in J?J.L:0));if(te&&!("Z"in J)&&(J.Z=0),"p"in J&&(J.H=J.H%12+J.p*12),J.m===void 0&&(J.m="q"in J?J.q:0),"V"in J){if(J.V<1||J.V>53)return null;"w"in J||(J.w=1),"Z"in J?(C=vx(Dc(J.y,0,1)),G=C.getUTCDay(),C=G>4||G===0?vp.ceil(C):vp(C),C=gg.offset(C,(J.V-1)*7),J.y=C.getUTCFullYear(),J.m=C.getUTCMonth(),J.d=C.getUTCDate()+(J.w+6)%7):(C=yx(Dc(J.y,0,1)),G=C.getDay(),C=G>4||G===0?yp.ceil(C):yp(C),C=ef.offset(C,(J.V-1)*7),J.y=C.getFullYear(),J.m=C.getMonth(),J.d=C.getDate()+(J.w+6)%7)}else("W"in J||"U"in J)&&("w"in J||(J.w="u"in J?J.u%7:"W"in J?1:0),G="Z"in J?vx(Dc(J.y,0,1)).getUTCDay():yx(Dc(J.y,0,1)).getDay(),J.m=0,J.d="W"in J?(J.w+6)%7+J.W*7-(G+5)%7:J.w+J.U*7-(G+6)%7);return"Z"in J?(J.H+=J.Z/100|0,J.M+=J.Z%100,vx(J)):yx(J)}}function A(ee,te,ce,J){for(var re=0,C=te.length,G=ce.length,H,V;re<C;){if(J>=G)return-1;if(H=te.charCodeAt(re++),H===37){if(H=te.charAt(re++),V=w[H in cI?te.charAt(re++):H],!V||(J=V(ee,ce,J))<0)return-1}else if(H!=ce.charCodeAt(J++))return-1}return J}function P(ee,te,ce){var J=c.exec(te.slice(ce));return J?(ee.p=d.get(J[0].toLowerCase()),ce+J[0].length):-1}function O(ee,te,ce){var J=p.exec(te.slice(ce));return J?(ee.w=y.get(J[0].toLowerCase()),ce+J[0].length):-1}function T(ee,te,ce){var J=f.exec(te.slice(ce));return J?(ee.w=h.get(J[0].toLowerCase()),ce+J[0].length):-1}function N(ee,te,ce){var J=v.exec(te.slice(ce));return J?(ee.m=b.get(J[0].toLowerCase()),ce+J[0].length):-1}function M(ee,te,ce){var J=m.exec(te.slice(ce));return J?(ee.m=g.get(J[0].toLowerCase()),ce+J[0].length):-1}function E(ee,te,ce){return A(ee,t,te,ce)}function R(ee,te,ce){return A(ee,n,te,ce)}function F(ee,te,ce){return A(ee,r,te,ce)}function z(ee){return o[ee.getDay()]}function q(ee){return a[ee.getDay()]}function L(ee){return l[ee.getMonth()]}function D(ee){return s[ee.getMonth()]}function W(ee){return i[+(ee.getHours()>=12)]}function B(ee){return 1+~~(ee.getMonth()/3)}function $(ee){return o[ee.getUTCDay()]}function Q(ee){return a[ee.getUTCDay()]}function Z(ee){return l[ee.getUTCMonth()]}function fe(ee){return s[ee.getUTCMonth()]}function le(ee){return i[+(ee.getUTCHours()>=12)]}function ue(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var te=j(ee+="",x);return te.toString=function(){return ee},te},parse:function(ee){var te=k(ee+="",!1);return te.toString=function(){return ee},te},utcFormat:function(ee){var te=j(ee+="",_);return te.toString=function(){return ee},te},utcParse:function(ee){var te=k(ee+="",!0);return te.toString=function(){return ee},te}}}var cI={"-":"",_:" ",0:"0"},mn=/^\s*\d+/,Mwe=/^%/,Dwe=/[\\^$*+?|[\]().{}]/g;function lt(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function $we(e){return e.replace(Dwe,"\\$&")}function $c(e){return new RegExp("^(?:"+e.map($we).join("|")+")","i")}function Lc(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Lwe(e,t,n){var r=mn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function zwe(e,t,n){var r=mn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Fwe(e,t,n){var r=mn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Bwe(e,t,n){var r=mn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function qwe(e,t,n){var r=mn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function uI(e,t,n){var r=mn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function dI(e,t,n){var r=mn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Uwe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Vwe(e,t,n){var r=mn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Wwe(e,t,n){var r=mn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function fI(e,t,n){var r=mn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Hwe(e,t,n){var r=mn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function hI(e,t,n){var r=mn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Gwe(e,t,n){var r=mn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Kwe(e,t,n){var r=mn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Ywe(e,t,n){var r=mn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Xwe(e,t,n){var r=mn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Qwe(e,t,n){var r=Mwe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Jwe(e,t,n){var r=mn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Zwe(e,t,n){var r=mn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function pI(e,t){return lt(e.getDate(),t,2)}function e1e(e,t){return lt(e.getHours(),t,2)}function t1e(e,t){return lt(e.getHours()%12||12,t,2)}function n1e(e,t){return lt(1+ef.count(ra(e),e),t,3)}function Rq(e,t){return lt(e.getMilliseconds(),t,3)}function r1e(e,t){return Rq(e,t)+"000"}function i1e(e,t){return lt(e.getMonth()+1,t,2)}function a1e(e,t){return lt(e.getMinutes(),t,2)}function o1e(e,t){return lt(e.getSeconds(),t,2)}function s1e(e){var t=e.getDay();return t===0?7:t}function l1e(e,t){return lt(yg.count(ra(e)-1,e),t,2)}function Iq(e){var t=e.getDay();return t>=4||t===0?vl(e):vl.ceil(e)}function c1e(e,t){return e=Iq(e),lt(vl.count(ra(e),e)+(ra(e).getDay()===4),t,2)}function u1e(e){return e.getDay()}function d1e(e,t){return lt(yp.count(ra(e)-1,e),t,2)}function f1e(e,t){return lt(e.getFullYear()%100,t,2)}function h1e(e,t){return e=Iq(e),lt(e.getFullYear()%100,t,2)}function p1e(e,t){return lt(e.getFullYear()%1e4,t,4)}function m1e(e,t){var n=e.getDay();return e=n>=4||n===0?vl(e):vl.ceil(e),lt(e.getFullYear()%1e4,t,4)}function g1e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+lt(t/60|0,"0",2)+lt(t%60,"0",2)}function mI(e,t){return lt(e.getUTCDate(),t,2)}function y1e(e,t){return lt(e.getUTCHours(),t,2)}function v1e(e,t){return lt(e.getUTCHours()%12||12,t,2)}function b1e(e,t){return lt(1+gg.count(ia(e),e),t,3)}function Mq(e,t){return lt(e.getUTCMilliseconds(),t,3)}function x1e(e,t){return Mq(e,t)+"000"}function w1e(e,t){return lt(e.getUTCMonth()+1,t,2)}function S1e(e,t){return lt(e.getUTCMinutes(),t,2)}function _1e(e,t){return lt(e.getUTCSeconds(),t,2)}function j1e(e){var t=e.getUTCDay();return t===0?7:t}function k1e(e,t){return lt(vg.count(ia(e)-1,e),t,2)}function Dq(e){var t=e.getUTCDay();return t>=4||t===0?bl(e):bl.ceil(e)}function E1e(e,t){return e=Dq(e),lt(bl.count(ia(e),e)+(ia(e).getUTCDay()===4),t,2)}function A1e(e){return e.getUTCDay()}function O1e(e,t){return lt(vp.count(ia(e)-1,e),t,2)}function C1e(e,t){return lt(e.getUTCFullYear()%100,t,2)}function P1e(e,t){return e=Dq(e),lt(e.getUTCFullYear()%100,t,2)}function T1e(e,t){return lt(e.getUTCFullYear()%1e4,t,4)}function N1e(e,t){var n=e.getUTCDay();return e=n>=4||n===0?bl(e):bl.ceil(e),lt(e.getUTCFullYear()%1e4,t,4)}function R1e(){return"+0000"}function gI(){return"%"}function yI(e){return+e}function vI(e){return Math.floor(+e/1e3)}var As,$q,Lq;I1e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function I1e(e){return As=Iwe(e),$q=As.format,As.parse,Lq=As.utcFormat,As.utcParse,As}function M1e(e){return new Date(e)}function D1e(e){return e instanceof Date?+e:+new Date(+e)}function yE(e,t,n,r,i,a,o,s,l,c){var d=rE(),f=d.invert,h=d.domain,p=c(".%L"),y=c(":%S"),m=c("%I:%M"),g=c("%I %p"),v=c("%a %d"),b=c("%b %d"),x=c("%B"),_=c("%Y");function w(j){return(l(j)<j?p:s(j)<j?y:o(j)<j?m:a(j)<j?g:r(j)<j?i(j)<j?v:b:n(j)<j?x:_)(j)}return d.invert=function(j){return new Date(f(j))},d.domain=function(j){return arguments.length?h(Array.from(j,D1e)):h().map(M1e)},d.ticks=function(j){var k=h();return e(k[0],k[k.length-1],j??10)},d.tickFormat=function(j,k){return k==null?w:c(k)},d.nice=function(j){var k=h();return(!j||typeof j.range!="function")&&(j=t(k[0],k[k.length-1],j??10)),j?h(jq(k,j)):d},d.copy=function(){return Zd(d,yE(e,t,n,r,i,a,o,s,l,c))},d}function $1e(){return Mr.apply(yE(Nwe,Rwe,ra,mE,yg,ef,hE,dE,$o,$q).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function L1e(){return Mr.apply(yE(Pwe,Twe,ia,gE,vg,gg,pE,fE,$o,Lq).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function bg(){var e=0,t=1,n,r,i,a,o=zn,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(o=f,c):o};function d(f){return function(h){var p,y;return arguments.length?([p,y]=h,o=f(p,y),c):[o(0),o(1)]}}return c.range=d(dc),c.rangeRound=d(nE),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),c}}function so(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function zq(){var e=oo(bg()(zn));return e.copy=function(){return so(e,zq())},ha.apply(e,arguments)}function Fq(){var e=oE(bg()).domain([1,10]);return e.copy=function(){return so(e,Fq()).base(e.base())},ha.apply(e,arguments)}function Bq(){var e=sE(bg());return e.copy=function(){return so(e,Bq()).constant(e.constant())},ha.apply(e,arguments)}function vE(){var e=lE(bg());return e.copy=function(){return so(e,vE()).exponent(e.exponent())},ha.apply(e,arguments)}function z1e(){return vE.apply(null,arguments).exponent(.5)}function qq(){var e=[],t=zn;function n(r){if(r!=null&&!isNaN(r=+r))return t((Qd(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Va),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>kxe(e,a/r))},n.copy=function(){return qq(t).domain(e)},ha.apply(n,arguments)}function xg(){var e=0,t=.5,n=1,r=1,i,a,o,s,l,c=zn,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-a)*(r*m<r*a?s:l),c(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,n]=m,i=d(e=+e),a=d(t=+t),o=d(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,p):[e,t,n]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(c=m,p):c};function y(m){return function(g){var v,b,x;return arguments.length?([v,b,x]=g,c=Qxe(m,[v,b,x]),p):[c(0),c(.5),c(1)]}}return p.range=y(dc),p.rangeRound=y(nE),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,i=m(e),a=m(t),o=m(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,p}}function Uq(){var e=oo(xg()(zn));return e.copy=function(){return so(e,Uq())},ha.apply(e,arguments)}function Vq(){var e=oE(xg()).domain([.1,1,10]);return e.copy=function(){return so(e,Vq()).base(e.base())},ha.apply(e,arguments)}function Wq(){var e=sE(xg());return e.copy=function(){return so(e,Wq()).constant(e.constant())},ha.apply(e,arguments)}function bE(){var e=lE(xg());return e.copy=function(){return so(e,bE()).exponent(e.exponent())},ha.apply(e,arguments)}function F1e(){return bE.apply(null,arguments).exponent(.5)}const bI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Qu,scaleDiverging:Uq,scaleDivergingLog:Vq,scaleDivergingPow:bE,scaleDivergingSqrt:F1e,scaleDivergingSymlog:Wq,scaleIdentity:_q,scaleImplicit:fS,scaleLinear:mp,scaleLog:kq,scaleOrdinal:Zk,scalePoint:hu,scalePow:cE,scaleQuantile:Oq,scaleQuantize:Cq,scaleRadial:Aq,scaleSequential:zq,scaleSequentialLog:Fq,scaleSequentialPow:vE,scaleSequentialQuantile:qq,scaleSequentialSqrt:z1e,scaleSequentialSymlog:Bq,scaleSqrt:xwe,scaleSymlog:Eq,scaleThreshold:Pq,scaleTime:$1e,scaleUtc:L1e,tickFormat:Sq},Symbol.toStringTag,{value:"Module"}));var bx,xI;function wg(){if(xI)return bx;xI=1;var e=oc();function t(n,r,i){for(var a=-1,o=n.length;++a<o;){var s=n[a],l=r(s);if(l!=null&&(c===void 0?l===l&&!e(l):i(l,c)))var c=l,d=s}return d}return bx=t,bx}var xx,wI;function Hq(){if(wI)return xx;wI=1;function e(t,n){return t>n}return xx=e,xx}var wx,SI;function B1e(){if(SI)return wx;SI=1;var e=wg(),t=Hq(),n=cc();function r(i){return i&&i.length?e(i,n,t):void 0}return wx=r,wx}var q1e=B1e();const Pa=ot(q1e);var Sx,_I;function Gq(){if(_I)return Sx;_I=1;function e(t,n){return t<n}return Sx=e,Sx}var _x,jI;function U1e(){if(jI)return _x;jI=1;var e=wg(),t=Gq(),n=cc();function r(i){return i&&i.length?e(i,n,t):void 0}return _x=r,_x}var V1e=U1e();const Sg=ot(V1e);var jx,kI;function W1e(){if(kI)return jx;kI=1;var e=Dk(),t=Ii(),n=tq(),r=Qn();function i(a,o){var s=r(a)?e:n;return s(a,t(o,3))}return jx=i,jx}var kx,EI;function H1e(){if(EI)return kx;EI=1;var e=Z8(),t=W1e();function n(r,i){return e(t(r,i),1)}return kx=n,kx}var G1e=H1e();const K1e=ot(G1e);var Ex,AI;function Y1e(){if(AI)return Ex;AI=1;var e=Kk();function t(n,r){return e(n,r)}return Ex=t,Ex}var X1e=Y1e();const aa=ot(X1e);var fc=1e9,Q1e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},wE,Nt=!0,Nr="[DecimalError] ",Vo=Nr+"Invalid argument: ",xE=Nr+"Exponent out of range: ",hc=Math.floor,Eo=Math.pow,J1e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ar,fn=1e7,Ct=7,Kq=9007199254740991,bp=hc(Kq/Ct),je={};je.absoluteValue=je.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};je.comparedTo=je.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};je.decimalPlaces=je.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Ct;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};je.dividedBy=je.div=function(e){return Qi(this,new this.constructor(e))};je.dividedToIntegerBy=je.idiv=function(e){var t=this,n=t.constructor;return St(Qi(t,new n(e),0,1),n.precision)};je.equals=je.eq=function(e){return!this.cmp(e)};je.exponent=function(){return Xt(this)};je.greaterThan=je.gt=function(e){return this.cmp(e)>0};je.greaterThanOrEqualTo=je.gte=function(e){return this.cmp(e)>=0};je.isInteger=je.isint=function(){return this.e>this.d.length-2};je.isNegative=je.isneg=function(){return this.s<0};je.isPositive=je.ispos=function(){return this.s>0};je.isZero=function(){return this.s===0};je.lessThan=je.lt=function(e){return this.cmp(e)<0};je.lessThanOrEqualTo=je.lte=function(e){return this.cmp(e)<1};je.logarithm=je.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(ar))throw Error(Nr+"NaN");if(n.s<1)throw Error(Nr+(n.s?"NaN":"-Infinity"));return n.eq(ar)?new r(0):(Nt=!1,t=Qi(nd(n,a),nd(e,a),a),Nt=!0,St(t,i))};je.minus=je.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Qq(t,e):Yq(t,(e.s=-e.s,e))};je.modulo=je.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Nr+"NaN");return n.s?(Nt=!1,t=Qi(n,e,0,1).times(e),Nt=!0,n.minus(t)):St(new r(n),i)};je.naturalExponential=je.exp=function(){return Xq(this)};je.naturalLogarithm=je.ln=function(){return nd(this)};je.negated=je.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};je.plus=je.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Yq(t,e):Qq(t,(e.s=-e.s,e))};je.precision=je.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Vo+e);if(t=Xt(i)+1,r=i.d.length-1,n=r*Ct+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};je.squareRoot=je.sqrt=function(){var e,t,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Nr+"NaN")}for(e=Xt(s),Nt=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=gi(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=hc((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(a=r,r=a.plus(Qi(s,a,o+2)).times(.5),gi(a.d).slice(0,o)===(t=gi(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(St(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(t!="9999")break;o+=4}return Nt=!0,St(r,n)};je.times=je.mul=function(e){var t,n,r,i,a,o,s,l,c,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,l=h.length,c=p.length,l<c&&(a=h,h=p,p=a,o=l,l=c,c=o),a=[],o=l+c,r=o;r--;)a.push(0);for(r=c;--r>=0;){for(t=0,i=l+r;i>r;)s=a[i]+p[r]*h[i-r-1]+t,a[i--]=s%fn|0,t=s/fn|0;a[i]=(a[i]+t)%fn|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,Nt?St(e,f.precision):e};je.toDecimalPlaces=je.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Oi(e,0,fc),t===void 0?t=r.rounding:Oi(t,0,8),St(n,e+Xt(n)+1,t))};je.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=ns(r,!0):(Oi(e,0,fc),t===void 0?t=i.rounding:Oi(t,0,8),r=St(new i(r),e+1,t),n=ns(r,!0,e+1)),n};je.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?ns(i):(Oi(e,0,fc),t===void 0?t=a.rounding:Oi(t,0,8),r=St(new a(i),e+Xt(i)+1,t),n=ns(r.abs(),!1,e+Xt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};je.toInteger=je.toint=function(){var e=this,t=e.constructor;return St(new t(e),Xt(e)+1,t.rounding)};je.toNumber=function(){return+this};je.toPower=je.pow=function(e){var t,n,r,i,a,o,s=this,l=s.constructor,c=12,d=+(e=new l(e));if(!e.s)return new l(ar);if(s=new l(s),!s.s){if(e.s<1)throw Error(Nr+"Infinity");return s}if(s.eq(ar))return s;if(r=l.precision,e.eq(ar))return St(s,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=s.s,o){if((n=d<0?-d:d)<=Kq){for(i=new l(ar),t=Math.ceil(r/Ct+4),Nt=!1;n%2&&(i=i.times(s),CI(i.d,t)),n=hc(n/2),n!==0;)s=s.times(s),CI(s.d,t);return Nt=!0,e.s<0?new l(ar).div(i):St(i,r)}}else if(a<0)throw Error(Nr+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,s.s=1,Nt=!1,i=e.times(nd(s,r+c)),Nt=!0,i=Xq(i),i.s=a,i};je.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=Xt(i),r=ns(i,n<=a.toExpNeg||n>=a.toExpPos)):(Oi(e,1,fc),t===void 0?t=a.rounding:Oi(t,0,8),i=St(new a(i),e,t),n=Xt(i),r=ns(i,e<=n||n<=a.toExpNeg,e)),r};je.toSignificantDigits=je.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Oi(e,1,fc),t===void 0?t=r.rounding:Oi(t,0,8)),St(new r(n),e,t)};je.toString=je.valueOf=je.val=je.toJSON=je[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Xt(e),n=e.constructor;return ns(e,t<=n.toExpNeg||t>=n.toExpPos)};function Yq(e,t){var n,r,i,a,o,s,l,c,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Nt?St(t,f):t;if(l=e.d,c=t.d,o=e.e,i=t.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=c.length):(r=c,i=o,s=l.length),o=Math.ceil(f/Ct),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=c.length,s-a<0&&(a=s,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/fn|0,l[a]%=fn;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,Nt?St(t,f):t}function Oi(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Vo+e)}function gi(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)r=e[t]+"",n=Ct-r.length,n&&(a+=_a(n)),a+=r;o=e[t],r=o+"",n=Ct-r.length,n&&(a+=_a(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Qi=(function(){function e(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%fn|0,o=a/fn|0;return o&&r.unshift(o),r}function t(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*fn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,c,d,f,h,p,y,m,g,v,b,x,_,w,j,k,A,P=r.constructor,O=r.s==i.s?1:-1,T=r.d,N=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(Nr+"Division by zero");for(l=r.e-i.e,k=N.length,w=T.length,p=new P(O),y=p.d=[],c=0;N[c]==(T[c]||0);)++c;if(N[c]>(T[c]||0)&&--l,a==null?b=a=P.precision:o?b=a+(Xt(r)-Xt(i))+1:b=a,b<0)return new P(0);if(b=b/Ct+2|0,c=0,k==1)for(d=0,N=N[0],b++;(c<w||d)&&b--;c++)x=d*fn+(T[c]||0),y[c]=x/N|0,d=x%N|0;else{for(d=fn/(N[0]+1)|0,d>1&&(N=e(N,d),T=e(T,d),k=N.length,w=T.length),_=k,m=T.slice(0,k),g=m.length;g<k;)m[g++]=0;A=N.slice(),A.unshift(0),j=N[0],N[1]>=fn/2&&++j;do d=0,s=t(N,m,k,g),s<0?(v=m[0],k!=g&&(v=v*fn+(m[1]||0)),d=v/j|0,d>1?(d>=fn&&(d=fn-1),f=e(N,d),h=f.length,g=m.length,s=t(f,m,h,g),s==1&&(d--,n(f,k<h?A:N,h))):(d==0&&(s=d=1),f=N.slice()),h=f.length,h<g&&f.unshift(0),n(m,f,g),s==-1&&(g=m.length,s=t(N,m,k,g),s<1&&(d++,n(m,k<g?A:N,g))),g=m.length):s===0&&(d++,m=[0]),y[c++]=d,s&&m[0]?m[g++]=T[_]||0:(m=[T[_]],g=1);while((_++<w||m[0]!==void 0)&&b--)}return y[0]||y.shift(),p.e=l,St(p,o?a+Xt(p)+1:a)}})();function Xq(e,t){var n,r,i,a,o,s,l=0,c=0,d=e.constructor,f=d.precision;if(Xt(e)>16)throw Error(xE+Xt(e));if(!e.s)return new d(ar);for(Nt=!1,s=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(r=Math.log(Eo(2,c))/Math.LN10*2+5|0,s+=r,n=i=a=new d(ar),d.precision=s;;){if(i=St(i.times(e),s),n=n.times(++l),o=a.plus(Qi(i,n,s)),gi(o.d).slice(0,s)===gi(a.d).slice(0,s)){for(;c--;)a=St(a.times(a),s);return d.precision=f,t==null?(Nt=!0,St(a,f)):a}a=o}}function Xt(e){for(var t=e.e*Ct,n=e.d[0];n>=10;n/=10)t++;return t}function Ax(e,t,n){if(t>e.LN10.sd())throw Nt=!0,n&&(e.precision=n),Error(Nr+"LN10 precision limit exceeded");return St(new e(e.LN10),t)}function _a(e){for(var t="";e--;)t+="0";return t}function nd(e,t){var n,r,i,a,o,s,l,c,d,f=1,h=10,p=e,y=p.d,m=p.constructor,g=m.precision;if(p.s<1)throw Error(Nr+(p.s?"NaN":"-Infinity"));if(p.eq(ar))return new m(0);if(t==null?(Nt=!1,c=g):c=t,p.eq(10))return t==null&&(Nt=!0),Ax(m,c);if(c+=h,m.precision=c,n=gi(y),r=n.charAt(0),a=Xt(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(e),n=gi(p.d),r=n.charAt(0),f++;a=Xt(p),r>1?(p=new m("0."+n),a++):p=new m(r+"."+n.slice(1))}else return l=Ax(m,c+2,g).times(a+""),p=nd(new m(r+"."+n.slice(1)),c-h).plus(l),m.precision=g,t==null?(Nt=!0,St(p,g)):p;for(s=o=p=Qi(p.minus(ar),p.plus(ar),c),d=St(p.times(p),c),i=3;;){if(o=St(o.times(d),c),l=s.plus(Qi(o,new m(i),c)),gi(l.d).slice(0,c)===gi(s.d).slice(0,c))return s=s.times(2),a!==0&&(s=s.plus(Ax(m,c+2,g).times(a+""))),s=Qi(s,new m(f),c),m.precision=g,t==null?(Nt=!0,St(s,g)):s;s=l,i+=2}}function OI(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=hc(n/Ct),e.d=[],r=(n+1)%Ct,n<0&&(r+=Ct),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Ct;r<i;)e.d.push(+t.slice(r,r+=Ct));t=t.slice(r),r=Ct-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Nt&&(e.e>bp||e.e<-bp))throw Error(xE+n)}else e.s=0,e.e=0,e.d=[0];return e}function St(e,t,n){var r,i,a,o,s,l,c,d,f=e.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=Ct,i=t,c=f[d=0];else{if(d=Math.ceil((r+1)/Ct),a=f.length,d>=a)return e;for(c=a=f[d],o=1;a>=10;a/=10)o++;r%=Ct,i=r-Ct+o}if(n!==void 0&&(a=Eo(10,o-i-1),s=c/a%10|0,l=t<0||f[d+1]!==void 0||c%a,l=n<4?(s||l)&&(n==0||n==(e.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?c/Eo(10,o-i):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(a=Xt(e),f.length=1,t=t-a-1,f[0]=Eo(10,(Ct-t%Ct)%Ct),e.e=hc(-t/Ct)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,a=1,d--):(f.length=d+1,a=Eo(10,Ct-r),f[d]=i>0?(c/Eo(10,o-i)%Eo(10,i)|0)*a:0),l)for(;;)if(d==0){(f[0]+=a)==fn&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=fn)break;f[d--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(Nt&&(e.e>bp||e.e<-bp))throw Error(xE+Xt(e));return e}function Qq(e,t){var n,r,i,a,o,s,l,c,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Nt?St(t,p):t;if(l=e.d,f=t.d,r=t.e,c=e.e,l=l.slice(),o=c-r,o){for(d=o<0,d?(n=l,o=-o,s=f.length):(n=f,r=c,s=l.length),i=Math.max(Math.ceil(p/Ct),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,d=i<s,d&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}o=0}for(d&&(n=l,l=f,f=n,t.s=-t.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=fn-1;--l[a],l[i]+=fn}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,Nt?St(t,p):t):new h(0)}function ns(e,t,n){var r,i=Xt(e),a=gi(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+_a(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+_a(-i-1)+a,n&&(r=n-o)>0&&(a+=_a(r))):i>=o?(a+=_a(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+_a(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=_a(r))),e.s<0?"-"+a:a}function CI(e,t){if(e.length>t)return e.length=t,!0}function Jq(e){var t,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Vo+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return OI(o,a.toString())}else if(typeof a!="string")throw Error(Vo+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,J1e.test(a))OI(o,a);else throw Error(Vo+a)}if(i.prototype=je,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Jq,i.config=i.set=Z1e,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Z1e(e){if(!e||typeof e!="object")throw Error(Nr+"Object expected");var t,n,r,i=["precision",1,fc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(hc(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Vo+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Vo+n+": "+r);return this}var wE=Jq(Q1e);ar=new wE(1);const bt=wE;function eSe(e){return iSe(e)||rSe(e)||nSe(e)||tSe()}function tSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nSe(e,t){if(e){if(typeof e=="string")return gS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gS(e,t)}}function rSe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function iSe(e){if(Array.isArray(e))return gS(e)}function gS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var aSe=function(t){return t},Zq={},eU=function(t){return t===Zq},PI=function(t){return function n(){return arguments.length===0||arguments.length===1&&eU(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},oSe=function e(t,n){return t===1?n:PI(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==Zq}).length;return o>=t?n.apply(void 0,i):e(t-o,PI(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var d=i.map(function(f){return eU(f)?l.shift():f});return n.apply(void 0,eSe(d).concat(l))}))})},_g=function(t){return oSe(t.length,t)},yS=function(t,n){for(var r=[],i=t;i<n;++i)r[i-t]=i;return r},sSe=_g(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),lSe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return aSe;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},vS=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},tU=function(t){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(s,l){return s===n[l]})||(n=a,r=t.apply(void 0,a)),r}};function cSe(e){var t;return e===0?t=1:t=Math.floor(new bt(e).abs().log(10).toNumber())+1,t}function uSe(e,t,n){for(var r=new bt(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var dSe=_g(function(e,t,n){var r=+e,i=+t;return r+n*(i-r)}),fSe=_g(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),hSe=_g(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const jg={rangeStep:uSe,getDigitCount:cSe,interpolateNumber:dSe,uninterpolateNumber:fSe,uninterpolateTruncation:hSe};function bS(e){return gSe(e)||mSe(e)||nU(e)||pSe()}function pSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mSe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function gSe(e){if(Array.isArray(e))return xS(e)}function rd(e,t){return bSe(e)||vSe(e,t)||nU(e,t)||ySe()}function ySe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nU(e,t){if(e){if(typeof e=="string")return xS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xS(e,t)}}function xS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vSe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(t&&n.length===t));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function bSe(e){if(Array.isArray(e))return e}function rU(e){var t=rd(e,2),n=t[0],r=t[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function iU(e,t,n){if(e.lte(0))return new bt(0);var r=jg.getDigitCount(e.toNumber()),i=new bt(10).pow(r),a=e.div(i),o=r!==1?.05:.1,s=new bt(Math.ceil(a.div(o).toNumber())).add(n).mul(o),l=s.mul(i);return t?l:new bt(Math.ceil(l))}function xSe(e,t,n){var r=1,i=new bt(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new bt(10).pow(jg.getDigitCount(e)-1),i=new bt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new bt(Math.floor(e)))}else e===0?i=new bt(Math.floor((t-1)/2)):n||(i=new bt(Math.floor(e)));var o=Math.floor((t-1)/2),s=lSe(sSe(function(l){return i.add(new bt(l-o).mul(r)).toNumber()}),yS);return s(0,t)}function aU(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new bt(0),tickMin:new bt(0),tickMax:new bt(0)};var a=iU(new bt(t).sub(e).div(n-1),r,i),o;e<=0&&t>=0?o=new bt(0):(o=new bt(e).add(t).div(2),o=o.sub(new bt(o).mod(a)));var s=Math.ceil(o.sub(e).div(a).toNumber()),l=Math.ceil(new bt(t).sub(o).div(a).toNumber()),c=s+l+1;return c>n?aU(e,t,n,r,i+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:a,tickMin:o.sub(new bt(s).mul(a)),tickMax:o.add(new bt(l).mul(a))})}function wSe(e){var t=rd(e,2),n=t[0],r=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=rU([n,r]),l=rd(s,2),c=l[0],d=l[1];if(c===-1/0||d===1/0){var f=d===1/0?[c].concat(bS(yS(0,i-1).map(function(){return 1/0}))):[].concat(bS(yS(0,i-1).map(function(){return-1/0})),[d]);return n>r?vS(f):f}if(c===d)return xSe(c,i,a);var h=aU(c,d,o,a),p=h.step,y=h.tickMin,m=h.tickMax,g=jg.rangeStep(y,m.add(new bt(.1).mul(p)),p);return n>r?vS(g):g}function SSe(e,t){var n=rd(e,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=rU([r,i]),s=rd(o,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var d=Math.max(t,2),f=iU(new bt(c).sub(l).div(d-1),a,0),h=[].concat(bS(jg.rangeStep(new bt(l),new bt(c).sub(new bt(.99).mul(f)),f)),[c]);return r>i?vS(h):h}var _Se=tU(wSe),jSe=tU(SSe),kSe="Invariant failed";function rs(e,t){throw new Error(kSe)}var ESe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function xl(e){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xl(e)}function xp(){return xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xp.apply(this,arguments)}function ASe(e,t){return TSe(e)||PSe(e,t)||CSe(e,t)||OSe()}function OSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CSe(e,t){if(e){if(typeof e=="string")return TI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TI(e,t)}}function TI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function PSe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function TSe(e){if(Array.isArray(e))return e}function NSe(e,t){if(e==null)return{};var n=RSe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function RSe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ISe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MSe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lU(r.key),r)}}function DSe(e,t,n){return t&&MSe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $Se(e,t,n){return t=wp(t),LSe(e,oU()?Reflect.construct(t,n||[],wp(e).constructor):t.apply(e,n))}function LSe(e,t){if(t&&(xl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zSe(e)}function zSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oU=function(){return!!e})()}function wp(e){return wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wp(e)}function FSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wS(e,t)}function wS(e,t){return wS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wS(e,t)}function sU(e,t,n){return t=lU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lU(e){var t=BSe(e,"string");return xl(t)=="symbol"?t:t+""}function BSe(e,t){if(xl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var pc=(function(e){function t(){return ISe(this,t),$Se(this,t,arguments)}return FSe(t,e),DSe(t,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,s=r.dataKey,l=r.data,c=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=NSe(r,ESe),p=we(h,!1);this.props.direction==="x"&&d.type!=="number"&&rs();var y=l.map(function(m){var g=c(m,s),v=g.x,b=g.y,x=g.value,_=g.errorVal;if(!_)return null;var w=[],j,k;if(Array.isArray(_)){var A=ASe(_,2);j=A[0],k=A[1]}else j=k=_;if(a==="vertical"){var P=d.scale,O=b+i,T=O+o,N=O-o,M=P(x-j),E=P(x+k);w.push({x1:E,y1:T,x2:E,y2:N}),w.push({x1:M,y1:O,x2:E,y2:O}),w.push({x1:M,y1:T,x2:M,y2:N})}else if(a==="horizontal"){var R=f.scale,F=v+i,z=F-o,q=F+o,L=R(x-j),D=R(x+k);w.push({x1:z,y1:D,x2:q,y2:D}),w.push({x1:F,y1:L,x2:F,y2:D}),w.push({x1:z,y1:L,x2:q,y2:L})}return I.createElement(Be,xp({className:"recharts-errorBar",key:"bar-".concat(w.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},p),w.map(function(W){return I.createElement("line",xp({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return I.createElement(Be,{className:"recharts-errorBars"},y)}}])})(I.Component);sU(pc,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});sU(pc,"displayName","ErrorBar");function id(e){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},id(e)}function NI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NI(Object(n),!0).forEach(function(r){qSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qSe(e,t,n){return t=USe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function USe(e){var t=VSe(e,"string");return id(t)=="symbol"?t:t+""}function VSe(e,t){if(id(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cU=function(t){var n=t.children,r=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,o=tr(n,or);if(!o)return null;var s=or.defaultProps,l=s!==void 0?yo(yo({},s),o.props):{},c;return o.props&&o.props.payload?c=o.props&&o.props.payload:a==="children"?c=(r||[]).reduce(function(d,f){var h=f.item,p=f.props,y=p.sectors||p.data||[];return d.concat(y.map(function(m){return{type:o.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):c=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?yo(yo({},h),f.props):{},y=p.dataKey,m=p.name,g=p.legendType,v=p.hide;return{inactive:v,dataKey:y,type:l.iconType||g||"square",color:SE(f),value:m||y,payload:p}}),yo(yo(yo({},l),or.getWithHeight(o,i)),{},{payload:c,item:o})};function ad(e){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ad(e)}function RI(e){return KSe(e)||GSe(e)||HSe(e)||WSe()}function WSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HSe(e,t){if(e){if(typeof e=="string")return SS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SS(e,t)}}function GSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function KSe(e){if(Array.isArray(e))return SS(e)}function SS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function II(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?II(Object(n),!0).forEach(function(r){tl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):II(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tl(e,t,n){return t=YSe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YSe(e){var t=XSe(e,"string");return ad(t)=="symbol"?t:t+""}function XSe(e,t){if(ad(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wt(e,t,n){return Re(e)||Re(t)?n:ln(t)?cr(e,t,n):Ne(t)?t(e):n}function pu(e,t,n,r){var i=K1e(e,function(s){return wt(s,t)});if(n==="number"){var a=i.filter(function(s){return pe(s)||parseFloat(s)});return a.length?[Sg(a),Pa(a)]:[1/0,-1/0]}var o=r?i.filter(function(s){return!Re(s)}):i;return o.map(function(s){return ln(s)||s instanceof Date?s:""})}var QSe=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(n=r?.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<s;c++){var d=c>0?i[c-1].coordinate:i[s-1].coordinate,f=i[c].coordinate,h=c>=s-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if($n(f-d)!==$n(h-f)){var y=[];if($n(h-f)===$n(l[1]-l[0])){p=h;var m=f+l[1]-l[0];y[0]=Math.min(m,(m+d)/2),y[1]=Math.max(m,(m+d)/2)}else{p=d;var g=h+l[1]-l[0];y[0]=Math.min(f,(g+f)/2),y[1]=Math.max(f,(g+f)/2)}var v=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>v[0]&&t<=v[1]||t>=y[0]&&t<=y[1]){o=i[c].index;break}}else{var b=Math.min(d,h),x=Math.max(d,h);if(t>(b+f)/2&&t<=(x+f)/2){o=i[c].index;break}}}else for(var _=0;_<s;_++)if(_===0&&t<=(r[_].coordinate+r[_+1].coordinate)/2||_>0&&_<s-1&&t>(r[_].coordinate+r[_-1].coordinate)/2&&t<=(r[_].coordinate+r[_+1].coordinate)/2||_===s-1&&t>(r[_].coordinate+r[_-1].coordinate)/2){o=r[_].index;break}return o},SE=function(t){var n,r=t,i=r.type.displayName,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Lt(Lt({},t.type.defaultProps),t.props):t.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},JSe=function(t){var n=t.barSize,r=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,c=s.length;l<c;l++)for(var d=a[s[l]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var y=d[f[h]],m=y.items,g=y.cateAxisId,v=m.filter(function(k){return Xi(k.type).indexOf("Bar")>=0});if(v&&v.length){var b=v[0].type.defaultProps,x=b!==void 0?Lt(Lt({},b),v[0].props):v[0].props,_=x.barSize,w=x[g];o[w]||(o[w]=[]);var j=Re(_)?n:_;o[w].push({item:v[0],stackList:v.slice(1),barSize:Re(j)?void 0:Ln(j,r,0)})}}return o},ZSe=function(t){var n=t.barGap,r=t.barCategoryGap,i=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,s=t.maxBarSize,l=o.length;if(l<1)return null;var c=Ln(n,i,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=i/l,y=o.reduce(function(_,w){return _+w.barSize||0},0);y+=(l-1)*c,y>=i&&(y-=(l-1)*c,c=0),y>=i&&p>0&&(h=!0,p*=.9,y=l*p);var m=(i-y)/2>>0,g={offset:m-c,size:0};d=o.reduce(function(_,w){var j={item:w.item,position:{offset:g.offset+g.size+c,size:h?p:w.barSize}},k=[].concat(RI(_),[j]);return g=k[k.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(A){k.push({item:A,position:g})}),k},f)}else{var v=Ln(r,i,0,!0);i-2*v-(l-1)*c<=0&&(c=0);var b=(i-2*v-(l-1)*c)/l;b>1&&(b>>=0);var x=s===+s?Math.min(b,s):b;d=o.reduce(function(_,w,j){var k=[].concat(RI(_),[{item:w.item,position:{offset:v+(b+c)*j+(b-x)/2,size:x}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(A){k.push({item:A,position:k[k.length-1].position})}),k},f)}return d},e_e=function(t,n,r,i){var a=r.children,o=r.width,s=r.margin,l=o-(s.left||0)-(s.right||0),c=cU({children:a,legendWidth:l});if(c){var d=i||{},f=d.width,h=d.height,p=c.align,y=c.verticalAlign,m=c.layout;if((m==="vertical"||m==="horizontal"&&y==="middle")&&p!=="center"&&pe(t[p]))return Lt(Lt({},t),{},tl({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&y!=="middle"&&pe(t[y]))return Lt(Lt({},t),{},tl({},y,t[y]+(h||0)))}return t},t_e=function(t,n,r){return Re(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},uU=function(t,n,r,i,a){var o=n.props.children,s=Fn(o,pc).filter(function(c){return t_e(i,a,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return t.reduce(function(c,d){var f=wt(d,r);if(Re(f))return c;var h=Array.isArray(f)?[Sg(f),Pa(f)]:[f,f],p=l.reduce(function(y,m){var g=wt(d,m,0),v=h[0]-Math.abs(Array.isArray(g)?g[0]:g),b=h[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(v,y[0]),Math.max(b,y[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},n_e=function(t,n,r,i,a){var o=n.map(function(s){return uU(t,s,r,a,i)}).filter(function(s){return!Re(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},dU=function(t,n,r,i,a){var o=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&uU(t,l,c,i)||pu(t,c,r,a)});if(r==="number")return o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,c){for(var d=0,f=c.length;d<f;d++)s[c[d]]||(s[c[d]]=!0,l.push(c[d]));return l},[])},fU=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},hU=function(t,n,r,i){if(i)return t.map(function(l){return l.coordinate});var a,o,s=t.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(o=!0),l.coordinate});return a||s.push(n),o||s.push(r),s},Wi=function(t,n,r){if(!t)return null;var i=t.scale,a=t.duplicateDomain,o=t.type,s=t.range,l=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&s?.length>=2?$n(s[0]-s[1])*2*c:c,n&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+c,value:f,offset:c}});return d.filter(function(f){return!lc(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:i(f)+c,value:f,index:h,offset:c}}):i.ticks&&!r?i.ticks(t.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,h){return{coordinate:i(f)+c,value:a?a[f]:f,index:h,offset:c}})},Ox=new WeakMap,Uf=function(t,n){if(typeof n!="function")return t;Ox.has(t)||Ox.set(t,new WeakMap);var r=Ox.get(t);if(r.has(n))return r.get(n);var i=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},pU=function(t,n,r){var i=t.scale,a=t.type,o=t.layout,s=t.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Qu(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:mp(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:hu(),realScaleType:"point"}:a==="category"?{scale:Qu(),realScaleType:"band"}:{scale:mp(),realScaleType:"linear"};if(es(i)){var l="scale".concat(sg(i));return{scale:(bI[l]||hu)(),realScaleType:bI[l]?l:"point"}}return Ne(i)?{scale:i}:{scale:hu(),realScaleType:"point"}},MI=1e-4,mU=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,i=t.range(),a=Math.min(i[0],i[1])-MI,o=Math.max(i[0],i[1])+MI,s=t(n[0]),l=t(n[r-1]);(s<a||s>o||l<a||l>o)&&t.domain([n[0],n[r-1]])}},r_e=function(t,n){if(!t)return null;for(var r=0,i=t.length;r<i;r++)if(t[r].item===n)return t[r].position;return null},i_e=function(t,n){if(!n||n.length!==2||!pe(n[0])||!pe(n[1]))return t;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[t[0],t[1]];return(!pe(t[0])||t[0]<r)&&(a[0]=r),(!pe(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},a_e=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var a=0,o=0,s=0;s<n;++s){var l=lc(t[s][r][1])?t[s][r][0]:t[s][r][1];l>=0?(t[s][r][0]=a,t[s][r][1]=a+l,a=t[s][r][1]):(t[s][r][0]=o,t[s][r][1]=o+l,o=t[s][r][1])}},o_e=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var s=lc(t[o][r][1])?t[o][r][0]:t[o][r][1];s>=0?(t[o][r][0]=a,t[o][r][1]=a+s,a=t[o][r][1]):(t[o][r][0]=0,t[o][r][1]=0)}},s_e={sign:a_e,expand:Kye,none:fl,silhouette:Yye,wiggle:Xye,positive:o_e},l_e=function(t,n,r){var i=n.map(function(s){return s.props.dataKey}),a=s_e[r],o=Gye().keys(i).value(function(s,l){return+wt(s,l,0)}).order(J1).offset(a);return o(t)},c_e=function(t,n,r,i,a,o){if(!t)return null;var s=o?n.reverse():n,l={},c=s.reduce(function(f,h){var p,y=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Lt(Lt({},h.type.defaultProps),h.props):h.props,m=y.stackId,g=y.hide;if(g)return f;var v=y[r],b=f[v]||{hasStack:!1,stackGroups:{}};if(ln(m)){var x=b.stackGroups[m]||{numericAxisId:r,cateAxisId:i,items:[]};x.items.push(h),b.hasStack=!0,b.stackGroups[m]=x}else b.stackGroups[ao("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return Lt(Lt({},f),{},tl({},v,b))},l),d={};return Object.keys(c).reduce(function(f,h){var p=c[h];if(p.hasStack){var y={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,g){var v=p.stackGroups[g];return Lt(Lt({},m),{},tl({},g,{numericAxisId:r,cateAxisId:i,items:v.items,stackedData:l_e(t,v.items,a)}))},y)}return Lt(Lt({},f),{},tl({},h,p))},d)},gU=function(t,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=t.domain();if(!c.length)return null;var d=_Se(c,a,s);return t.domain([Sg(d),Pa(d)]),{niceTicks:d}}if(a&&i==="number"){var f=t.domain(),h=jSe(f,a,s);return{niceTicks:h}}return null};function wl(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,a=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Re(i[t.dataKey])){var s=Qh(n,"value",i[t.dataKey]);if(s)return s.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=wt(i,Re(o)?t.dataKey:o);return Re(l)?null:t.scale(l)}var DI=function(t){var n=t.axis,r=t.ticks,i=t.offset,a=t.bandSize,o=t.entry,s=t.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=wt(o,n.dataKey,n.domain[s]);return Re(l)?null:n.scale(l)-a/2+i},u_e=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},d_e=function(t,n){var r,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Lt(Lt({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(ln(a)){var o=n[a];if(o){var s=o.items.indexOf(t);return s>=0?o.stackedData[s]:null}}return null},f_e=function(t){return t.reduce(function(n,r){return[Sg(r.concat([n[0]]).filter(pe)),Pa(r.concat([n[1]]).filter(pe))]},[1/0,-1/0])},yU=function(t,n,r){return Object.keys(t).reduce(function(i,a){var o=t[a],s=o.stackedData,l=s.reduce(function(c,d){var f=f_e(d.slice(n,r+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},$I=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,LI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_S=function(t,n,r){if(Ne(t))return t(n,r);if(!Array.isArray(t))return n;var i=[];if(pe(t[0]))i[0]=r?t[0]:Math.min(t[0],n[0]);else if($I.test(t[0])){var a=+$I.exec(t[0])[1];i[0]=n[0]-a}else Ne(t[0])?i[0]=t[0](n[0]):i[0]=n[0];if(pe(t[1]))i[1]=r?t[1]:Math.max(t[1],n[1]);else if(LI.test(t[1])){var o=+LI.exec(t[1])[1];i[1]=n[1]+o}else Ne(t[1])?i[1]=t[1](n[1]):i[1]=n[1];return i},Sp=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!r||i>0)return i}if(t&&n&&n.length>=2){for(var a=Xk(n,function(f){return f.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var c=a[s],d=a[s-1];o=Math.min((c.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},zI=function(t,n,r){return!t||!t.length||aa(t,cr(r,"type.defaultProps.domain"))?n:t},vU=function(t,n){var r=t.type.defaultProps?Lt(Lt({},t.type.defaultProps),t.props):t.props,i=r.dataKey,a=r.name,o=r.unit,s=r.formatter,l=r.tooltipType,c=r.chartType,d=r.hide;return Lt(Lt({},we(t,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:SE(t),value:wt(n,i),type:l,payload:n,chartType:c,hide:d})};function od(e){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},od(e)}function FI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FI(Object(n),!0).forEach(function(r){bU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bU(e,t,n){return t=h_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h_e(e){var t=p_e(e,"string");return od(t)=="symbol"?t:t+""}function p_e(e,t){if(od(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m_e(e,t){return b_e(e)||v_e(e,t)||y_e(e,t)||g_e()}function g_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y_e(e,t){if(e){if(typeof e=="string")return BI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BI(e,t)}}function BI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v_e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function b_e(e){if(Array.isArray(e))return e}var _p=Math.PI/180,x_e=function(t){return t*180/Math.PI},ht=function(t,n,r,i){return{x:t+Math.cos(-_p*i)*r,y:n+Math.sin(-_p*i)*r}},xU=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},wU=function(t,n,r,i,a){var o=t.width,s=t.height,l=t.startAngle,c=t.endAngle,d=Ln(t.cx,o,o/2),f=Ln(t.cy,s,s/2),h=xU(o,s,r),p=Ln(t.innerRadius,h,0),y=Ln(t.outerRadius,h,h*.8),m=Object.keys(n);return m.reduce(function(g,v){var b=n[v],x=b.domain,_=b.reversed,w;if(Re(b.range))i==="angleAxis"?w=[l,c]:i==="radiusAxis"&&(w=[p,y]),_&&(w=[w[1],w[0]]);else{w=b.range;var j=w,k=m_e(j,2);l=k[0],c=k[1]}var A=pU(b,a),P=A.realScaleType,O=A.scale;O.domain(x).range(w),mU(O);var T=gU(O,zi(zi({},b),{},{realScaleType:P})),N=zi(zi(zi({},b),T),{},{range:w,radius:y,realScaleType:P,scale:O,cx:d,cy:f,innerRadius:p,outerRadius:y,startAngle:l,endAngle:c});return zi(zi({},g),{},bU({},v,N))},{})},w_e=function(t,n){var r=t.x,i=t.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},S_e=function(t,n){var r=t.x,i=t.y,a=n.cx,o=n.cy,s=w_e({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(r-a)/s,c=Math.acos(l);return i>o&&(c=2*Math.PI-c),{radius:s,angle:x_e(c),angleInRadian:c}},__e=function(t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},j_e=function(t,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return t+s*360},qI=function(t,n){var r=t.x,i=t.y,a=S_e({x:r,y:i},n),o=a.radius,s=a.angle,l=n.innerRadius,c=n.outerRadius;if(o<l||o>c)return!1;if(o===0)return!0;var d=__e(n),f=d.startAngle,h=d.endAngle,p=s,y;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;y=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;y=p>=h&&p<=f}return y?zi(zi({},n),{},{radius:o,angle:j_e(p,n)}):null},SU=function(t){return!S.isValidElement(t)&&!Ne(t)&&typeof t!="boolean"?t.className:""};function sd(e){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sd(e)}var k_e=["offset"];function E_e(e){return P_e(e)||C_e(e)||O_e(e)||A_e()}function A_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O_e(e,t){if(e){if(typeof e=="string")return jS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jS(e,t)}}function C_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function P_e(e){if(Array.isArray(e))return jS(e)}function jS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T_e(e,t){if(e==null)return{};var n=N_e(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function N_e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function UI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UI(Object(n),!0).forEach(function(r){R_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function R_e(e,t,n){return t=I_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I_e(e){var t=M_e(e,"string");return sd(t)=="symbol"?t:t+""}function M_e(e,t){if(sd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ld(){return ld=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ld.apply(this,arguments)}var D_e=function(t){var n=t.value,r=t.formatter,i=Re(t.children)?n:t.children;return Ne(r)?r(i):i},$_e=function(t,n){var r=$n(n-t),i=Math.min(Math.abs(n-t),360);return r*i},L_e=function(t,n,r){var i=t.position,a=t.viewBox,o=t.offset,s=t.className,l=a,c=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,y=l.endAngle,m=l.clockWise,g=(f+h)/2,v=$_e(p,y),b=v>=0?1:-1,x,_;i==="insideStart"?(x=p+b*o,_=m):i==="insideEnd"?(x=y-b*o,_=!m):i==="end"&&(x=y+b*o,_=m),_=v<=0?_:!_;var w=ht(c,d,g,x),j=ht(c,d,g,x+(_?1:-1)*359),k="M".concat(w.x,",").concat(w.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(_?0:1,`,
    `).concat(j.x,",").concat(j.y),A=Re(t.id)?ao("recharts-radial-line-"):t.id;return I.createElement("text",ld({},r,{dominantBaseline:"central",className:Le("recharts-radial-bar-label",s)}),I.createElement("defs",null,I.createElement("path",{id:A,d:k})),I.createElement("textPath",{xlinkHref:"#".concat(A)},n))},z_e=function(t){var n=t.viewBox,r=t.offset,i=t.position,a=n,o=a.cx,s=a.cy,l=a.innerRadius,c=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(i==="outside"){var p=ht(o,s,c+r,h),y=p.x,m=p.y;return{x:y,y:m,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var g=(l+c)/2,v=ht(o,s,g,h),b=v.x,x=v.y;return{x:b,y:x,textAnchor:"middle",verticalAnchor:"middle"}},F_e=function(t){var n=t.viewBox,r=t.parentViewBox,i=t.offset,a=t.position,o=n,s=o.x,l=o.y,c=o.width,d=o.height,f=d>=0?1:-1,h=f*i,p=f>0?"end":"start",y=f>0?"start":"end",m=c>=0?1:-1,g=m*i,v=m>0?"end":"start",b=m>0?"start":"end";if(a==="top"){var x={x:s+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return en(en({},x),r?{height:Math.max(l-r.y,0),width:c}:{})}if(a==="bottom"){var _={x:s+c/2,y:l+d+h,textAnchor:"middle",verticalAnchor:y};return en(en({},_),r?{height:Math.max(r.y+r.height-(l+d),0),width:c}:{})}if(a==="left"){var w={x:s-g,y:l+d/2,textAnchor:v,verticalAnchor:"middle"};return en(en({},w),r?{width:Math.max(w.x-r.x,0),height:d}:{})}if(a==="right"){var j={x:s+c+g,y:l+d/2,textAnchor:b,verticalAnchor:"middle"};return en(en({},j),r?{width:Math.max(r.x+r.width-j.x,0),height:d}:{})}var k=r?{width:c,height:d}:{};return a==="insideLeft"?en({x:s+g,y:l+d/2,textAnchor:b,verticalAnchor:"middle"},k):a==="insideRight"?en({x:s+c-g,y:l+d/2,textAnchor:v,verticalAnchor:"middle"},k):a==="insideTop"?en({x:s+c/2,y:l+h,textAnchor:"middle",verticalAnchor:y},k):a==="insideBottom"?en({x:s+c/2,y:l+d-h,textAnchor:"middle",verticalAnchor:p},k):a==="insideTopLeft"?en({x:s+g,y:l+h,textAnchor:b,verticalAnchor:y},k):a==="insideTopRight"?en({x:s+c-g,y:l+h,textAnchor:v,verticalAnchor:y},k):a==="insideBottomLeft"?en({x:s+g,y:l+d-h,textAnchor:b,verticalAnchor:p},k):a==="insideBottomRight"?en({x:s+c-g,y:l+d-h,textAnchor:v,verticalAnchor:p},k):sc(a)&&(pe(a.x)||Mo(a.x))&&(pe(a.y)||Mo(a.y))?en({x:s+Ln(a.x,c),y:l+Ln(a.y,d),textAnchor:"end",verticalAnchor:"end"},k):en({x:s+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},k)},B_e=function(t){return"cx"in t&&pe(t.cx)};function pn(e){var t=e.offset,n=t===void 0?5:t,r=T_e(e,k_e),i=en({offset:n},r),a=i.viewBox,o=i.position,s=i.value,l=i.children,c=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!a||Re(s)&&Re(l)&&!S.isValidElement(c)&&!Ne(c))return null;if(S.isValidElement(c))return S.cloneElement(c,i);var p;if(Ne(c)){if(p=S.createElement(c,i),S.isValidElement(p))return p}else p=D_e(i);var y=B_e(a),m=we(i,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return L_e(i,p,m);var g=y?z_e(i):F_e(i);return I.createElement(ts,ld({className:Le("recharts-label",f)},m,g,{breakAll:h}),p)}pn.displayName="Label";var _U=function(t){var n=t.cx,r=t.cy,i=t.angle,a=t.startAngle,o=t.endAngle,s=t.r,l=t.radius,c=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,y=t.left,m=t.width,g=t.height,v=t.clockWise,b=t.labelViewBox;if(b)return b;if(pe(m)&&pe(g)){if(pe(f)&&pe(h))return{x:f,y:h,width:m,height:g};if(pe(p)&&pe(y))return{x:p,y,width:m,height:g}}return pe(f)&&pe(h)?{x:f,y:h,width:0,height:0}:pe(n)&&pe(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:c||0,outerRadius:d||l||s||0,clockWise:v}:t.viewBox?t.viewBox:{}},q_e=function(t,n){return t?t===!0?I.createElement(pn,{key:"label-implicit",viewBox:n}):ln(t)?I.createElement(pn,{key:"label-implicit",viewBox:n,value:t}):S.isValidElement(t)?t.type===pn?S.cloneElement(t,{key:"label-implicit",viewBox:n}):I.createElement(pn,{key:"label-implicit",content:t,viewBox:n}):Ne(t)?I.createElement(pn,{key:"label-implicit",content:t,viewBox:n}):sc(t)?I.createElement(pn,ld({viewBox:n},t,{key:"label-implicit"})):null:null},U_e=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var i=t.children,a=_U(t),o=Fn(i,pn).map(function(l,c){return S.cloneElement(l,{viewBox:n||a,key:"label-".concat(c)})});if(!r)return o;var s=q_e(t.label,n||a);return[s].concat(E_e(o))};pn.parseViewBox=_U;pn.renderCallByParent=U_e;var Cx,VI;function V_e(){if(VI)return Cx;VI=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return Cx=e,Cx}var W_e=V_e();const jU=ot(W_e);function cd(e){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cd(e)}var H_e=["valueAccessor"],G_e=["data","dataKey","clockWise","id","textBreakAll"];function K_e(e){return J_e(e)||Q_e(e)||X_e(e)||Y_e()}function Y_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X_e(e,t){if(e){if(typeof e=="string")return kS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kS(e,t)}}function Q_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function J_e(e){if(Array.isArray(e))return kS(e)}function kS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jp(){return jp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jp.apply(this,arguments)}function WI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function HI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WI(Object(n),!0).forEach(function(r){Z_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Z_e(e,t,n){return t=eje(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eje(e){var t=tje(e,"string");return cd(t)=="symbol"?t:t+""}function tje(e,t){if(cd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GI(e,t){if(e==null)return{};var n=nje(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function nje(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var rje=function(t){return Array.isArray(t.value)?jU(t.value):t.value};function Cr(e){var t=e.valueAccessor,n=t===void 0?rje:t,r=GI(e,H_e),i=r.data,a=r.dataKey,o=r.clockWise,s=r.id,l=r.textBreakAll,c=GI(r,G_e);return!i||!i.length?null:I.createElement(Be,{className:"recharts-label-list"},i.map(function(d,f){var h=Re(a)?n(d,f):wt(d&&d.payload,a),p=Re(s)?{}:{id:"".concat(s,"-").concat(f)};return I.createElement(pn,jp({},we(d,!0),c,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:pn.parseViewBox(Re(o)?d:HI(HI({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Cr.displayName="LabelList";function ije(e,t){return e?e===!0?I.createElement(Cr,{key:"labelList-implicit",data:t}):I.isValidElement(e)||Ne(e)?I.createElement(Cr,{key:"labelList-implicit",data:t,content:e}):sc(e)?I.createElement(Cr,jp({data:t},e,{key:"labelList-implicit"})):null:null}function aje(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=Fn(r,Cr).map(function(o,s){return S.cloneElement(o,{data:t,key:"labelList-".concat(s)})});if(!n)return i;var a=ije(e.label,t);return[a].concat(K_e(i))}Cr.renderCallByParent=aje;function ud(e){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ud(e)}function ES(){return ES=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ES.apply(this,arguments)}function KI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function YI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KI(Object(n),!0).forEach(function(r){oje(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oje(e,t,n){return t=sje(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sje(e){var t=lje(e,"string");return ud(t)=="symbol"?t:t+""}function lje(e,t){if(ud(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ud(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cje=function(t,n){var r=$n(n-t),i=Math.min(Math.abs(n-t),359.999);return r*i},Vf=function(t){var n=t.cx,r=t.cy,i=t.radius,a=t.angle,o=t.sign,s=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,d=l*(s?1:-1)+i,f=Math.asin(l/d)/_p,h=c?a:a+o*f,p=ht(n,r,d,h),y=ht(n,r,i,h),m=c?a-o*f:a,g=ht(n,r,d*Math.cos(f*_p),m);return{center:p,circleTangency:y,lineTangency:g,theta:f}},kU=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.startAngle,s=t.endAngle,l=cje(o,s),c=o+l,d=ht(n,r,a,o),f=ht(n,r,a,c),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=ht(n,r,i,o),y=ht(n,r,i,c);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},uje=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,d=t.endAngle,f=$n(d-c),h=Vf({cx:n,cy:r,radius:a,angle:c,sign:f,cornerRadius:o,cornerIsExternal:l}),p=h.circleTangency,y=h.lineTangency,m=h.theta,g=Vf({cx:n,cy:r,radius:a,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:l}),v=g.circleTangency,b=g.lineTangency,x=g.theta,_=l?Math.abs(c-d):Math.abs(c-d)-m-x;if(_<0)return s?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):kU({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:d});var w="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var j=Vf({cx:n,cy:r,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),k=j.circleTangency,A=j.lineTangency,P=j.theta,O=Vf({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),T=O.circleTangency,N=O.lineTangency,M=O.theta,E=l?Math.abs(c-d):Math.abs(c-d)-P-M;if(E<0&&o===0)return"".concat(w,"L").concat(n,",").concat(r,"Z");w+="L".concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(E>180),",").concat(+(f>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else w+="L".concat(n,",").concat(r,"Z");return w},dje={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},EU=function(t){var n=YI(YI({},dje),t),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(o<a||d===f)return null;var p=Le("recharts-sector",h),y=o-a,m=Ln(s,y,0,!0),g;return m>0&&Math.abs(d-f)<360?g=uje({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(m,y/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}):g=kU({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:d,endAngle:f}),I.createElement("path",ES({},we(n,!0),{className:p,d:g,role:"img"}))};function dd(e){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dd(e)}function AS(){return AS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AS.apply(this,arguments)}function XI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function QI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XI(Object(n),!0).forEach(function(r){fje(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fje(e,t,n){return t=hje(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hje(e){var t=pje(e,"string");return dd(t)=="symbol"?t:t+""}function pje(e,t){if(dd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JI={curveBasisClosed:Dye,curveBasisOpen:$ye,curveBasis:Mye,curveBumpX:wye,curveBumpY:Sye,curveLinearClosed:Lye,curveLinear:cg,curveMonotoneX:zye,curveMonotoneY:Fye,curveNatural:Bye,curveStep:qye,curveStepAfter:Vye,curveStepBefore:Uye},Wf=function(t){return t.x===+t.x&&t.y===+t.y},zc=function(t){return t.x},Fc=function(t){return t.y},mje=function(t,n){if(Ne(t))return t;var r="curve".concat(sg(t));return(r==="curveMonotone"||r==="curveBump")&&n?JI["".concat(r).concat(n==="vertical"?"Y":"X")]:JI[r]||cg},gje=function(t){var n=t.type,r=n===void 0?"linear":n,i=t.points,a=i===void 0?[]:i,o=t.baseLine,s=t.layout,l=t.connectNulls,c=l===void 0?!1:l,d=mje(r,s),f=c?a.filter(function(m){return Wf(m)}):a,h;if(Array.isArray(o)){var p=c?o.filter(function(m){return Wf(m)}):o,y=f.map(function(m,g){return QI(QI({},m),{},{base:p[g]})});return s==="vertical"?h=Df().y(Fc).x1(zc).x0(function(m){return m.base.x}):h=Df().x(zc).y1(Fc).y0(function(m){return m.base.y}),h.defined(Wf).curve(d),h(y)}return s==="vertical"&&pe(o)?h=Df().y(Fc).x1(zc).x0(o):pe(o)?h=Df().x(zc).y1(Fc).y0(o):h=S8().x(zc).y(Fc),h.defined(Wf).curve(d),h(f)},Wa=function(t){var n=t.className,r=t.points,i=t.path,a=t.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?gje(t):i;return S.createElement("path",AS({},we(t,!1),Jh(t),{className:Le("recharts-curve",n),d:o,ref:a}))},Px={exports:{}},Tx,ZI;function yje(){if(ZI)return Tx;ZI=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Tx=e,Tx}var Nx,eM;function vje(){if(eM)return Nx;eM=1;var e=yje();function t(){}function n(){}return n.resetWarningCache=t,Nx=function(){function r(o,s,l,c,d,f){if(f!==e){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},Nx}var tM;function bje(){return tM||(tM=1,Px.exports=vje()()),Px.exports}var xje=bje();const mt=ot(xje);var wje=Object.getOwnPropertyNames,Sje=Object.getOwnPropertySymbols,_je=Object.prototype.hasOwnProperty;function nM(e,t){return function(r,i,a){return e(r,i,a)&&t(r,i,a)}}function Hf(e){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,i);var a=i.cache,o=a.get(n),s=a.get(r);if(o&&s)return o===r&&s===n;a.set(n,r),a.set(r,n);var l=e(n,r,i);return a.delete(n),a.delete(r),l}}function rM(e){return wje(e).concat(Sje(e))}var jje=Object.hasOwn||(function(e,t){return _je.call(e,t)});function ps(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var kje="__v",Eje="__o",Aje="_owner",iM=Object.getOwnPropertyDescriptor,aM=Object.keys;function Oje(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function Cje(e,t){return ps(e.getTime(),t.getTime())}function Pje(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Tje(e,t){return e===t}function oM(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),a=e.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var c=t.entries(),d=!1,f=0;(s=c.next())&&!s.done;){if(i[f]){f++;continue}var h=o.value,p=s.value;if(n.equals(h[0],p[0],l,f,e,t,n)&&n.equals(h[1],p[1],h[0],p[0],e,t,n)){d=i[f]=!0;break}f++}if(!d)return!1;l++}return!0}var Nje=ps;function Rje(e,t,n){var r=aM(e),i=r.length;if(aM(t).length!==i)return!1;for(;i-- >0;)if(!AU(e,t,n,r[i]))return!1;return!0}function Bc(e,t,n){var r=rM(e),i=r.length;if(rM(t).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=r[i],!AU(e,t,n,a)||(o=iM(e,a),s=iM(t,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function Ije(e,t){return ps(e.valueOf(),t.valueOf())}function Mje(e,t){return e.source===t.source&&e.flags===t.flags}function sM(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),a=e.values(),o,s;(o=a.next())&&!o.done;){for(var l=t.values(),c=!1,d=0;(s=l.next())&&!s.done;){if(!i[d]&&n.equals(o.value,s.value,o.value,s.value,e,t,n)){c=i[d]=!0;break}d++}if(!c)return!1}return!0}function Dje(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function $je(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function AU(e,t,n,r){return(r===Aje||r===Eje||r===kje)&&(e.$$typeof||t.$$typeof)?!0:jje(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var Lje="[object Arguments]",zje="[object Boolean]",Fje="[object Date]",Bje="[object Error]",qje="[object Map]",Uje="[object Number]",Vje="[object Object]",Wje="[object RegExp]",Hje="[object Set]",Gje="[object String]",Kje="[object URL]",Yje=Array.isArray,lM=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,cM=Object.assign,Xje=Object.prototype.toString.call.bind(Object.prototype.toString);function Qje(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,i=e.areFunctionsEqual,a=e.areMapsEqual,o=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(y,m,g){if(y===m)return!0;if(y==null||m==null)return!1;var v=typeof y;if(v!==typeof m)return!1;if(v!=="object")return v==="number"?o(y,m,g):v==="function"?i(y,m,g):!1;var b=y.constructor;if(b!==m.constructor)return!1;if(b===Object)return s(y,m,g);if(Yje(y))return t(y,m,g);if(lM!=null&&lM(y))return f(y,m,g);if(b===Date)return n(y,m,g);if(b===RegExp)return c(y,m,g);if(b===Map)return a(y,m,g);if(b===Set)return d(y,m,g);var x=Xje(y);return x===Fje?n(y,m,g):x===Wje?c(y,m,g):x===qje?a(y,m,g):x===Hje?d(y,m,g):x===Vje?typeof y.then!="function"&&typeof m.then!="function"&&s(y,m,g):x===Kje?h(y,m,g):x===Bje?r(y,m,g):x===Lje?s(y,m,g):x===zje||x===Uje||x===Gje?l(y,m,g):!1}}function Jje(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?Bc:Oje,areDatesEqual:Cje,areErrorsEqual:Pje,areFunctionsEqual:Tje,areMapsEqual:r?nM(oM,Bc):oM,areNumbersEqual:Nje,areObjectsEqual:r?Bc:Rje,arePrimitiveWrappersEqual:Ije,areRegExpsEqual:Mje,areSetsEqual:r?nM(sM,Bc):sM,areTypedArraysEqual:r?Bc:Dje,areUrlsEqual:$je};if(n&&(i=cM({},i,n(i))),t){var a=Hf(i.areArraysEqual),o=Hf(i.areMapsEqual),s=Hf(i.areObjectsEqual),l=Hf(i.areSetsEqual);i=cM({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function Zje(e){return function(t,n,r,i,a,o,s){return e(t,n,s)}}function eke(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,a=e.strict;if(r)return function(l,c){var d=r(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,p=d.meta;return n(l,c,{cache:h,equals:i,meta:p,strict:a})};if(t)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,c){return n(l,c,o)}}var tke=lo();lo({strict:!0});lo({circular:!0});lo({circular:!0,strict:!0});lo({createInternalComparator:function(){return ps}});lo({strict:!0,createInternalComparator:function(){return ps}});lo({circular:!0,createInternalComparator:function(){return ps}});lo({circular:!0,createInternalComparator:function(){return ps},strict:!0});function lo(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,i=e.createState,a=e.strict,o=a===void 0?!1:a,s=Jje(e),l=Qje(s),c=r?r(l):Zje(l);return eke({circular:n,comparator:l,createState:i,equals:c,strict:o})}function nke(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function uM(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>t?(e(a),n=-1):nke(i)};requestAnimationFrame(r)}function OS(e){"@babel/helpers - typeof";return OS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},OS(e)}function rke(e){return ske(e)||oke(e)||ake(e)||ike()}function ike(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ake(e,t){if(e){if(typeof e=="string")return dM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dM(e,t)}}function dM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ske(e){if(Array.isArray(e))return e}function lke(){var e={},t=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,s=rke(o),l=s[0],c=s.slice(1);if(typeof l=="number"){uM(i.bind(null,c),l);return}i(l),uM(i.bind(null,c));return}OS(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function fd(e){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fd(e)}function fM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fM(Object(n),!0).forEach(function(r){OU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OU(e,t,n){return t=cke(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cke(e){var t=uke(e,"string");return fd(t)==="symbol"?t:String(t)}function uke(e,t){if(fd(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(fd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dke=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},fke=function(t){return t},hke=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},mu=function(t,n){return Object.keys(n).reduce(function(r,i){return hM(hM({},r),{},OU({},i,t(i,n[i])))},{})},pM=function(t,n,r){return t.map(function(i){return"".concat(hke(i)," ").concat(n,"ms ").concat(r)}).join(",")};function pke(e,t){return yke(e)||gke(e,t)||CU(e,t)||mke()}function mke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gke(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function yke(e){if(Array.isArray(e))return e}function vke(e){return wke(e)||xke(e)||CU(e)||bke()}function bke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CU(e,t){if(e){if(typeof e=="string")return CS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CS(e,t)}}function xke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wke(e){if(Array.isArray(e))return CS(e)}function CS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var kp=1e-4,PU=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},TU=function(t,n){return t.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},mM=function(t,n){return function(r){var i=PU(t,n);return TU(i,r)}},Ske=function(t,n){return function(r){var i=PU(t,n),a=[].concat(vke(i.map(function(o,s){return o*s}).slice(1)),[0]);return TU(a,r)}},gM=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),d=pke(c,4);i=d[0],a=d[1],o=d[2],s=d[3]}}}var f=mM(i,o),h=mM(a,s),p=Ske(i,o),y=function(v){return v>1?1:v<0?0:v},m=function(v){for(var b=v>1?1:v,x=b,_=0;_<8;++_){var w=f(x)-b,j=p(x);if(Math.abs(w-b)<kp||j<kp)return h(x);x=y(x-w/j)}return h(x)};return m.isStepper=!1,m},_ke=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,i=t.damping,a=i===void 0?8:i,o=t.dt,s=o===void 0?17:o,l=function(d,f,h){var p=-(d-f)*r,y=h*a,m=h+(p-y)*s/1e3,g=h*s/1e3+d;return Math.abs(g-f)<kp&&Math.abs(m)<kp?[f,0]:[g,m]};return l.isStepper=!0,l.dt=s,l},jke=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return gM(i);case"spring":return _ke();default:if(i.split("(")[0]==="cubic-bezier")return gM(i)}return typeof i=="function"?i:null};function hd(e){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hd(e)}function yM(e){return Ake(e)||Eke(e)||NU(e)||kke()}function kke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ake(e){if(Array.isArray(e))return TS(e)}function vM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vM(Object(n),!0).forEach(function(r){PS(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PS(e,t,n){return t=Oke(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oke(e){var t=Cke(e,"string");return hd(t)==="symbol"?t:String(t)}function Cke(e,t){if(hd(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(hd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pke(e,t){return Rke(e)||Nke(e,t)||NU(e,t)||Tke()}function Tke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NU(e,t){if(e){if(typeof e=="string")return TS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TS(e,t)}}function TS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nke(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Rke(e){if(Array.isArray(e))return e}var Ep=function(t,n,r){return t+(n-t)*r},NS=function(t){var n=t.from,r=t.to;return n!==r},Ike=function e(t,n,r){var i=mu(function(a,o){if(NS(o)){var s=t(o.from,o.to,o.velocity),l=Pke(s,2),c=l[0],d=l[1];return vn(vn({},o),{},{from:c,velocity:d})}return o},n);return r<1?mu(function(a,o){return NS(o)?vn(vn({},o),{},{velocity:Ep(o.velocity,i[a].velocity,r),from:Ep(o.from,i[a].from,r)}):o},n):e(t,i,r-1)};const Mke=(function(e,t,n,r,i){var a=dke(e,t),o=a.reduce(function(g,v){return vn(vn({},g),{},PS({},v,[e[v],t[v]]))},{}),s=a.reduce(function(g,v){return vn(vn({},g),{},PS({},v,{from:e[v],velocity:0,to:t[v]}))},{}),l=-1,c,d,f=function(){return null},h=function(){return mu(function(v,b){return b.from},s)},p=function(){return!Object.values(s).filter(NS).length},y=function(v){c||(c=v);var b=v-c,x=b/n.dt;s=Ike(n,s,x),i(vn(vn(vn({},e),t),h())),c=v,p()||(l=requestAnimationFrame(f))},m=function(v){d||(d=v);var b=(v-d)/r,x=mu(function(w,j){return Ep.apply(void 0,yM(j).concat([n(b)]))},o);if(i(vn(vn(vn({},e),t),x)),b<1)l=requestAnimationFrame(f);else{var _=mu(function(w,j){return Ep.apply(void 0,yM(j).concat([n(1)]))},o);i(vn(vn(vn({},e),t),_))}};return f=n.isStepper?y:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}});function Sl(e){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sl(e)}var Dke=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function $ke(e,t){if(e==null)return{};var n=Lke(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Lke(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Rx(e){return qke(e)||Bke(e)||Fke(e)||zke()}function zke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fke(e,t){if(e){if(typeof e=="string")return RS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RS(e,t)}}function Bke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qke(e){if(Array.isArray(e))return RS(e)}function RS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bM(Object(n),!0).forEach(function(r){Xc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xc(e,t,n){return t=RU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,RU(r.key),r)}}function Wke(e,t,n){return t&&Vke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function RU(e){var t=Hke(e,"string");return Sl(t)==="symbol"?t:String(t)}function Hke(e,t){if(Sl(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Sl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IS(e,t)}function IS(e,t){return IS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},IS(e,t)}function Kke(e){var t=Yke();return function(){var r=Ap(e),i;if(t){var a=Ap(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return MS(this,i)}}function MS(e,t){if(t&&(Sl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DS(e)}function DS(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yke(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ap(e){return Ap=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ap(e)}var ur=(function(e){Gke(n,e);var t=Kke(n);function n(r,i){var a;Uke(this,n),a=t.call(this,r,i);var o=a.props,s=o.isActive,l=o.attributeName,c=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(DS(a)),a.changeStyle=a.changeStyle.bind(DS(a)),!s||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),MS(a);if(f&&f.length)a.state={style:f[0].style};else if(c){if(typeof h=="function")return a.state={style:c},MS(a);a.state={style:l?Xc({},l,c):c}}else a.state={style:{}};return a}return Wke(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(s){if(!o){var p={style:l?Xc({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(p);return}if(!(tke(i.to,d)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=y||c?f:i.to;if(this.state&&h){var g={style:l?Xc({},l,m):m};(l&&h[l]!==m||!l&&h!==m)&&this.setState(g)}this.runAnimation(Lr(Lr({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,c=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=Mke(o,s,jke(c),l,this.changeStyle),y=function(){a.stopJSAnimation=p()};this.manager.start([h,d,y,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,c=o[0],d=c.style,f=c.duration,h=f===void 0?0:f,p=function(m,g,v){if(v===0)return m;var b=g.duration,x=g.easing,_=x===void 0?"ease":x,w=g.style,j=g.properties,k=g.onAnimationEnd,A=v>0?o[v-1]:g,P=j||Object.keys(w);if(typeof _=="function"||_==="spring")return[].concat(Rx(m),[a.runJSAnimation.bind(a,{from:A.style,to:w,duration:b,easing:_}),b]);var O=pM(P,b,_),T=Lr(Lr(Lr({},A.style),w),{},{transition:O});return[].concat(Rx(m),[T,b,k]).filter(fke)};return this.manager.start([l].concat(Rx(o.reduce(p,[d,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=lke());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,c=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var m=s?Xc({},s,l):l,g=pM(Object.keys(m),o,c);y.start([d,a,Lr(Lr({},m),{},{transition:g}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=$ke(i,Dke),c=S.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!s||c===0||o<=0)return a;var f=function(p){var y=p.props,m=y.style,g=m===void 0?{}:m,v=y.className,b=S.cloneElement(p,Lr(Lr({},l),{},{style:Lr(Lr({},g),d),className:v}));return b};return c===1?f(S.Children.only(a)):I.createElement("div",null,S.Children.map(a,function(h){return f(h)}))}}]),n})(S.PureComponent);ur.displayName="Animate";ur.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ur.propTypes={from:mt.oneOfType([mt.object,mt.string]),to:mt.oneOfType([mt.object,mt.string]),attributeName:mt.string,duration:mt.number,begin:mt.number,easing:mt.oneOfType([mt.string,mt.func]),steps:mt.arrayOf(mt.shape({duration:mt.number.isRequired,style:mt.object.isRequired,easing:mt.oneOfType([mt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),mt.func]),properties:mt.arrayOf("string"),onAnimationEnd:mt.func})),children:mt.oneOfType([mt.node,mt.func]),isActive:mt.bool,canBegin:mt.bool,onAnimationEnd:mt.func,shouldReAnimate:mt.bool,onAnimationStart:mt.func,onAnimationReStart:mt.func};function pd(e){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pd(e)}function Op(){return Op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Op.apply(this,arguments)}function Xke(e,t){return eEe(e)||Zke(e,t)||Jke(e,t)||Qke()}function Qke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jke(e,t){if(e){if(typeof e=="string")return xM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xM(e,t)}}function xM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zke(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function eEe(e){if(Array.isArray(e))return e}function wM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function SM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wM(Object(n),!0).forEach(function(r){tEe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tEe(e,t,n){return t=nEe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nEe(e){var t=rEe(e,"string");return pd(t)=="symbol"?t:t+""}function rEe(e,t){if(pd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(pd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _M=function(t,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,d;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>o?o:a[h];d="M".concat(t,",").concat(n+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(t+l*f[0],",").concat(n)),d+="L ".concat(t+r-l*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(t+r,",").concat(n+s*f[1])),d+="L ".concat(t+r,",").concat(n+i-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(t+r-l*f[2],",").concat(n+i)),d+="L ".concat(t+l*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(n+i-s*f[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var y=Math.min(o,a);d="M ".concat(t,",").concat(n+s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t+l*y,",").concat(n,`
            L `).concat(t+r-l*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t+r,",").concat(n+s*y,`
            L `).concat(t+r,",").concat(n+i-s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t+r-l*y,",").concat(n+i,`
            L `).concat(t+l*y,",").concat(n+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t,",").concat(n+i-s*y," Z")}else d="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},iEe=function(t,n){if(!t||!n)return!1;var r=t.x,i=t.y,a=n.x,o=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(a,a+s),d=Math.max(a,a+s),f=Math.min(o,o+l),h=Math.max(o,o+l);return r>=c&&r<=d&&i>=f&&i<=h}return!1},aEe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_E=function(t){var n=SM(SM({},aEe),t),r=S.useRef(),i=S.useState(-1),a=Xke(i,2),o=a[0],s=a[1];S.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&s(_)}catch{}},[]);var l=n.x,c=n.y,d=n.width,f=n.height,h=n.radius,p=n.className,y=n.animationEasing,m=n.animationDuration,g=n.animationBegin,v=n.isAnimationActive,b=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var x=Le("recharts-rectangle",p);return b?I.createElement(ur,{canBegin:o>0,from:{width:d,height:f,x:l,y:c},to:{width:d,height:f,x:l,y:c},duration:m,animationEasing:y,isActive:b},function(_){var w=_.width,j=_.height,k=_.x,A=_.y;return I.createElement(ur,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,isActive:v,easing:y},I.createElement("path",Op({},we(n,!0),{className:x,d:_M(k,A,w,j,h),ref:r})))}):I.createElement("path",Op({},we(n,!0),{className:x,d:_M(l,c,d,f,h)}))},oEe=["points","className","baseLinePoints","connectNulls"];function Ls(){return Ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ls.apply(this,arguments)}function sEe(e,t){if(e==null)return{};var n=lEe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function lEe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function jM(e){return fEe(e)||dEe(e)||uEe(e)||cEe()}function cEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uEe(e,t){if(e){if(typeof e=="string")return $S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $S(e,t)}}function dEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fEe(e){if(Array.isArray(e))return $S(e)}function $S(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var kM=function(t){return t&&t.x===+t.x&&t.y===+t.y},hEe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(r){kM(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),kM(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},gu=function(t,n){var r=hEe(t);n&&(r=[r.reduce(function(a,o){return[].concat(jM(a),jM(o))},[])]);var i=r.map(function(a){return a.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},pEe=function(t,n,r){var i=gu(t,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(gu(n.reverse(),r).slice(1))},IU=function(t){var n=t.points,r=t.className,i=t.baseLinePoints,a=t.connectNulls,o=sEe(t,oEe);if(!n||!n.length)return null;var s=Le("recharts-polygon",r);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",c=pEe(n,i,a);return I.createElement("g",{className:s},I.createElement("path",Ls({},we(o,!0),{fill:c.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:c})),l?I.createElement("path",Ls({},we(o,!0),{fill:"none",d:gu(n,a)})):null,l?I.createElement("path",Ls({},we(o,!0),{fill:"none",d:gu(i,a)})):null)}var d=gu(n,a);return I.createElement("path",Ls({},we(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:s,d}))};function LS(){return LS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LS.apply(this,arguments)}var mc=function(t){var n=t.cx,r=t.cy,i=t.r,a=t.className,o=Le("recharts-dot",a);return n===+n&&r===+r&&i===+i?S.createElement("circle",LS({},we(t,!1),Jh(t),{className:o,cx:n,cy:r,r:i})):null};function md(e){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},md(e)}var mEe=["x","y","top","left","width","height","className"];function zS(){return zS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zS.apply(this,arguments)}function EM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gEe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EM(Object(n),!0).forEach(function(r){yEe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yEe(e,t,n){return t=vEe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vEe(e){var t=bEe(e,"string");return md(t)=="symbol"?t:t+""}function bEe(e,t){if(md(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xEe(e,t){if(e==null)return{};var n=wEe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function wEe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var SEe=function(t,n,r,i,a,o){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},_Ee=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,a=i===void 0?0:i,o=t.top,s=o===void 0?0:o,l=t.left,c=l===void 0?0:l,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,y=t.className,m=xEe(t,mEe),g=gEe({x:r,y:a,top:s,left:c,width:f,height:p},m);return!pe(r)||!pe(a)||!pe(f)||!pe(p)||!pe(s)||!pe(c)?null:I.createElement("path",zS({},we(g,!0),{className:Le("recharts-cross",y),d:SEe(r,a,f,p,s,c)}))},jEe=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function gd(e){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gd(e)}function kEe(e,t){if(e==null)return{};var n=EEe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function EEe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function oa(){return oa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oa.apply(this,arguments)}function AM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AM(Object(n),!0).forEach(function(r){AEe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AEe(e,t,n){return t=OEe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OEe(e){var t=CEe(e,"string");return gd(t)=="symbol"?t:t+""}function CEe(e,t){if(gd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PEe=function(t,n,r,i){var a="";return i.forEach(function(o,s){var l=ht(n,r,t,o);s?a+="L ".concat(l.x,",").concat(l.y):a+="M ".concat(l.x,",").concat(l.y)}),a+="Z",a},TEe=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.polarAngles,s=t.radialLines;if(!o||!o.length||!s)return null;var l=yd({stroke:"#ccc"},we(t,!1));return I.createElement("g",{className:"recharts-polar-grid-angle"},o.map(function(c){var d=ht(n,r,i,c),f=ht(n,r,a,c);return I.createElement("line",oa({},l,{key:"line-".concat(c),x1:d.x,y1:d.y,x2:f.x,y2:f.y}))}))},NEe=function(t){var n=t.cx,r=t.cy,i=t.radius,a=t.index,o=yd(yd({stroke:"#ccc"},we(t,!1)),{},{fill:"none"});return I.createElement("circle",oa({},o,{className:Le("recharts-polar-grid-concentric-circle",t.className),key:"circle-".concat(a),cx:n,cy:r,r:i}))},REe=function(t){var n=t.radius,r=t.index,i=yd(yd({stroke:"#ccc"},we(t,!1)),{},{fill:"none"});return I.createElement("path",oa({},i,{className:Le("recharts-polar-grid-concentric-polygon",t.className),key:"path-".concat(r),d:PEe(n,t.cx,t.cy,t.polarAngles)}))},IEe=function(t){var n=t.polarRadius,r=t.gridType;return!n||!n.length?null:I.createElement("g",{className:"recharts-polar-grid-concentric"},n.map(function(i,a){var o=a;return r==="circle"?I.createElement(NEe,oa({key:o},t,{radius:i,index:a})):I.createElement(REe,oa({key:o},t,{radius:i,index:a}))}))},Cp=function(t){var n=t.cx,r=n===void 0?0:n,i=t.cy,a=i===void 0?0:i,o=t.innerRadius,s=o===void 0?0:o,l=t.outerRadius,c=l===void 0?0:l,d=t.gridType,f=d===void 0?"polygon":d,h=t.radialLines,p=h===void 0?!0:h,y=kEe(t,jEe);return c<=0?null:I.createElement("g",{className:"recharts-polar-grid"},I.createElement(TEe,oa({cx:r,cy:a,innerRadius:s,outerRadius:c,gridType:f,radialLines:p},y)),I.createElement(IEe,oa({cx:r,cy:a,innerRadius:s,outerRadius:c,gridType:f,radialLines:p},y)))};Cp.displayName="PolarGrid";var Ix,OM;function MEe(){if(OM)return Ix;OM=1;var e=wg(),t=Hq(),n=Ii();function r(i,a){return i&&i.length?e(i,n(a,2),t):void 0}return Ix=r,Ix}var DEe=MEe();const $Ee=ot(DEe);var Mx,CM;function LEe(){if(CM)return Mx;CM=1;var e=wg(),t=Ii(),n=Gq();function r(i,a){return i&&i.length?e(i,t(a,2),n):void 0}return Mx=r,Mx}var zEe=LEe();const FEe=ot(zEe);var BEe=["cx","cy","angle","ticks","axisLine"],qEe=["ticks","tick","angle","tickFormatter","stroke"];function _l(e){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_l(e)}function yu(){return yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yu.apply(this,arguments)}function PM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PM(Object(n),!0).forEach(function(r){kg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TM(e,t){if(e==null)return{};var n=UEe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function UEe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function VEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,DU(r.key),r)}}function WEe(e,t,n){return t&&NM(e.prototype,t),n&&NM(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function HEe(e,t,n){return t=Pp(t),GEe(e,MU()?Reflect.construct(t,n||[],Pp(e).constructor):t.apply(e,n))}function GEe(e,t){if(t&&(_l(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KEe(e)}function KEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MU=function(){return!!e})()}function Pp(e){return Pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pp(e)}function YEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FS(e,t)}function FS(e,t){return FS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},FS(e,t)}function kg(e,t,n){return t=DU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DU(e){var t=XEe(e,"string");return _l(t)=="symbol"?t:t+""}function XEe(e,t){if(_l(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(_l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var is=(function(e){function t(){return VEe(this,t),HEe(this,t,arguments)}return YEe(t,e),WEe(t,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,o=a.angle,s=a.cx,l=a.cy;return ht(s,l,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,s=r.ticks,l=$Ee(s,function(d){return d.coordinate||0}),c=FEe(s,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,s=r.ticks,l=r.axisLine,c=TM(r,BEe),d=s.reduce(function(y,m){return[Math.min(y[0],m.coordinate),Math.max(y[1],m.coordinate)]},[1/0,-1/0]),f=ht(i,a,d[0],o),h=ht(i,a,d[1],o),p=vo(vo(vo({},we(c,!1)),{},{fill:"none"},we(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return I.createElement("line",yu({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,l=i.tickFormatter,c=i.stroke,d=TM(i,qEe),f=this.getTickTextAnchor(),h=we(d,!1),p=we(o,!1),y=a.map(function(m,g){var v=r.getTickValueCoord(m),b=vo(vo(vo(vo({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(v.x,", ").concat(v.y,")")},h),{},{stroke:"none",fill:c},p),{},{index:g},v),{},{payload:m});return I.createElement(Be,yu({className:Le("recharts-polar-radius-axis-tick",SU(o)),key:"tick-".concat(m.coordinate)},Ja(r.props,m,g)),t.renderTickItem(o,b,l?l(m.value,g):m.value))});return I.createElement(Be,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,o=r.tick;return!i||!i.length?null:I.createElement(Be,{className:Le("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),pn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return I.isValidElement(r)?o=I.cloneElement(r,i):Ne(r)?o=r(i):o=I.createElement(ts,yu({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])})(S.PureComponent);kg(is,"displayName","PolarRadiusAxis");kg(is,"axisType","radiusAxis");kg(is,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function jl(e){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jl(e)}function To(){return To=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},To.apply(this,arguments)}function RM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RM(Object(n),!0).forEach(function(r){Eg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,LU(r.key),r)}}function JEe(e,t,n){return t&&IM(e.prototype,t),n&&IM(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZEe(e,t,n){return t=Tp(t),eAe(e,$U()?Reflect.construct(t,n||[],Tp(e).constructor):t.apply(e,n))}function eAe(e,t){if(t&&(jl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tAe(e)}function tAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $U(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($U=function(){return!!e})()}function Tp(e){return Tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tp(e)}function nAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BS(e,t)}function BS(e,t){return BS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},BS(e,t)}function Eg(e,t,n){return t=LU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LU(e){var t=rAe(e,"string");return jl(t)=="symbol"?t:t+""}function rAe(e,t){if(jl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var iAe=Math.PI/180,MM=1e-5,Za=(function(e){function t(){return QEe(this,t),ZEe(this,t,arguments)}return nAe(t,e),JEe(t,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,o=i.cy,s=i.radius,l=i.orientation,c=i.tickSize,d=c||8,f=ht(a,o,s,r.coordinate),h=ht(a,o,s+(l==="inner"?-1:1)*d,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*iAe),o;return a>MM?o=i==="outer"?"start":"end":a<-MM?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.radius,s=r.axisLine,l=r.axisLineType,c=bo(bo({},we(this.props,!1)),{},{fill:"none"},we(s,!1));if(l==="circle")return I.createElement(mc,To({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:a,r:o}));var d=this.props.ticks,f=d.map(function(h){return ht(i,a,o,h.coordinate)});return I.createElement(IU,To({className:"recharts-polar-angle-axis-line"},c,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,l=i.tickFormatter,c=i.stroke,d=we(this.props,!1),f=we(o,!1),h=bo(bo({},d),{},{fill:"none"},we(s,!1)),p=a.map(function(y,m){var g=r.getTickLineCoord(y),v=r.getTickTextAnchor(y),b=bo(bo(bo({textAnchor:v},d),{},{stroke:"none",fill:c},f),{},{index:m,payload:y,x:g.x2,y:g.y2});return I.createElement(Be,To({className:Le("recharts-polar-angle-axis-tick",SU(o)),key:"tick-".concat(y.coordinate)},Ja(r.props,y,m)),s&&I.createElement("line",To({className:"recharts-polar-angle-axis-tick-line"},h,g)),o&&t.renderTickItem(o,b,l?l(y.value,m):y.value))});return I.createElement(Be,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,o=r.axisLine;return a<=0||!i||!i.length?null:I.createElement(Be,{className:Le("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var o;return I.isValidElement(r)?o=I.cloneElement(r,i):Ne(r)?o=r(i):o=I.createElement(ts,To({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])})(S.PureComponent);Eg(Za,"displayName","PolarAngleAxis");Eg(Za,"axisType","angleAxis");Eg(Za,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Dx,DM;function aAe(){if(DM)return Dx;DM=1;var e=W8(),t=e(Object.getPrototypeOf,Object);return Dx=t,Dx}var $x,$M;function oAe(){if($M)return $x;$M=1;var e=da(),t=aAe(),n=fa(),r="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,s=a.hasOwnProperty,l=o.call(Object);function c(d){if(!n(d)||e(d)!=r)return!1;var f=t(d);if(f===null)return!0;var h=s.call(f,"constructor")&&f.constructor;return typeof h=="function"&&h instanceof h&&o.call(h)==l}return $x=c,$x}var sAe=oAe();const lAe=ot(sAe);var Lx,LM;function cAe(){if(LM)return Lx;LM=1;var e=da(),t=fa(),n="[object Boolean]";function r(i){return i===!0||i===!1||t(i)&&e(i)==n}return Lx=r,Lx}var uAe=cAe();const dAe=ot(uAe);function vd(e){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vd(e)}function Np(){return Np=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Np.apply(this,arguments)}function fAe(e,t){return gAe(e)||mAe(e,t)||pAe(e,t)||hAe()}function hAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pAe(e,t){if(e){if(typeof e=="string")return zM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zM(e,t)}}function zM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mAe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function gAe(e){if(Array.isArray(e))return e}function FM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function BM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FM(Object(n),!0).forEach(function(r){yAe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yAe(e,t,n){return t=vAe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vAe(e){var t=bAe(e,"string");return vd(t)=="symbol"?t:t+""}function bAe(e,t){if(vd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qM=function(t,n,r,i,a){var o=r-i,s;return s="M ".concat(t,",").concat(n),s+="L ".concat(t+r,",").concat(n),s+="L ".concat(t+r-o/2,",").concat(n+a),s+="L ".concat(t+r-o/2-i,",").concat(n+a),s+="L ".concat(t,",").concat(n," Z"),s},xAe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wAe=function(t){var n=BM(BM({},xAe),t),r=S.useRef(),i=S.useState(-1),a=fAe(i,2),o=a[0],s=a[1];S.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&s(x)}catch{}},[]);var l=n.x,c=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,p=n.className,y=n.animationEasing,m=n.animationDuration,g=n.animationBegin,v=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var b=Le("recharts-trapezoid",p);return v?I.createElement(ur,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:c},duration:m,animationEasing:y,isActive:v},function(x){var _=x.upperWidth,w=x.lowerWidth,j=x.height,k=x.x,A=x.y;return I.createElement(ur,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,easing:y},I.createElement("path",Np({},we(n,!0),{className:b,d:qM(k,A,_,w,j),ref:r})))}):I.createElement("g",null,I.createElement("path",Np({},we(n,!0),{className:b,d:qM(l,c,d,f,h)})))},SAe=["option","shapeType","propTransformer","activeClassName","isActive"];function bd(e){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bd(e)}function _Ae(e,t){if(e==null)return{};var n=jAe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function jAe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function UM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UM(Object(n),!0).forEach(function(r){kAe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kAe(e,t,n){return t=EAe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EAe(e){var t=AAe(e,"string");return bd(t)=="symbol"?t:t+""}function AAe(e,t){if(bd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(bd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OAe(e,t){return Rp(Rp({},t),e)}function CAe(e,t){return e==="symbols"}function VM(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return I.createElement(_E,n);case"trapezoid":return I.createElement(wAe,n);case"sector":return I.createElement(EU,n);case"symbols":if(CAe(t))return I.createElement(dg,n);break;default:return null}}function PAe(e){return S.isValidElement(e)?e.props:e}function Ip(e){var t=e.option,n=e.shapeType,r=e.propTransformer,i=r===void 0?OAe:r,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,s=e.isActive,l=_Ae(e,SAe),c;if(S.isValidElement(t))c=S.cloneElement(t,Rp(Rp({},l),PAe(t)));else if(Ne(t))c=t(l);else if(lAe(t)&&!dAe(t)){var d=i(t,l);c=I.createElement(VM,{shapeType:n,elementProps:d})}else{var f=l;c=I.createElement(VM,{shapeType:n,elementProps:f})}return s?I.createElement(Be,{className:o},c):c}function Ag(e,t){return t!=null&&"trapezoids"in e.props}function Og(e,t){return t!=null&&"sectors"in e.props}function xd(e,t){return t!=null&&"points"in e.props}function TAe(e,t){var n,r,i=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,a=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return i&&a}function NAe(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function RAe(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function IAe(e,t){var n;return Ag(e,t)?n=TAe:Og(e,t)?n=NAe:xd(e,t)&&(n=RAe),n}function MAe(e,t){var n;return Ag(e,t)?n="trapezoids":Og(e,t)?n="sectors":xd(e,t)&&(n="points"),n}function DAe(e,t){if(Ag(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Og(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return xd(e,t)?t.payload:{}}function $Ae(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=MAe(n,t),a=DAe(n,t),o=r.filter(function(l,c){var d=aa(a,l),f=n.props[i].filter(function(y){var m=IAe(n,t);return m(y,t)}),h=n.props[i].indexOf(f[f.length-1]),p=c===h;return d&&p}),s=r.indexOf(o[o.length-1]);return s}var fh;function kl(e){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kl(e)}function zs(){return zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zs.apply(this,arguments)}function WM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Et(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WM(Object(n),!0).forEach(function(r){jr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,FU(r.key),r)}}function zAe(e,t,n){return t&&HM(e.prototype,t),n&&HM(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function FAe(e,t,n){return t=Mp(t),BAe(e,zU()?Reflect.construct(t,n||[],Mp(e).constructor):t.apply(e,n))}function BAe(e,t){if(t&&(kl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qAe(e)}function qAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zU=function(){return!!e})()}function Mp(e){return Mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mp(e)}function UAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qS(e,t)}function qS(e,t){return qS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qS(e,t)}function jr(e,t,n){return t=FU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FU(e){var t=VAe(e,"string");return kl(t)=="symbol"?t:t+""}function VAe(e,t){if(kl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var pa=(function(e){function t(n){var r;return LAe(this,t),r=FAe(this,t,[n]),jr(r,"pieRef",null),jr(r,"sectorRefs",[]),jr(r,"id",ao("recharts-pie-")),jr(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ne(i)&&i()}),jr(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ne(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return UAe(t,e),zAe(t,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,l=a.dataKey,c=a.valueKey,d=we(this.props,!1),f=we(o,!1),h=we(s,!1),p=o&&o.offsetRadius||20,y=r.map(function(m,g){var v=(m.startAngle+m.endAngle)/2,b=ht(m.cx,m.cy,m.outerRadius+p,v),x=Et(Et(Et(Et({},d),m),{},{stroke:"none"},f),{},{index:g,textAnchor:t.getTextAnchor(b.x,m.cx)},b),_=Et(Et(Et(Et({},d),m),{},{fill:"none",stroke:m.fill},h),{},{index:g,points:[ht(m.cx,m.cy,m.outerRadius,v),b]}),w=l;return Re(l)&&Re(c)?w="value":Re(l)&&(w=c),I.createElement(Be,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(g)},s&&t.renderLabelLineItem(s,_,"line"),t.renderLabelItem(o,x,wt(m,w)))});return I.createElement(Be,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,l=a.inactiveShape;return r.map(function(c,d){if(c?.startAngle===0&&c?.endAngle===0&&r.length!==1)return null;var f=i.isActiveIndex(d),h=l&&i.hasActiveIndex()?l:null,p=f?o:h,y=Et(Et({},c),{},{stroke:s?c.fill:c.stroke,tabIndex:-1});return I.createElement(Be,zs({ref:function(g){g&&!i.sectorRefs.includes(g)&&i.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},Ja(i.props,c,d),{key:"sector-".concat(c?.startAngle,"-").concat(c?.endAngle,"-").concat(c.midAngle,"-").concat(d)}),I.createElement(Ip,zs({option:p,isActive:f,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return I.createElement(ur,{begin:s,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var m=y.t,g=[],v=a&&a[0],b=v.startAngle;return a.forEach(function(x,_){var w=h&&h[_],j=_>0?cr(x,"paddingAngle",0):0;if(w){var k=xt(w.endAngle-w.startAngle,x.endAngle-x.startAngle),A=Et(Et({},x),{},{startAngle:b+j,endAngle:b+k(m)+j});g.push(A),b=A.endAngle}else{var P=x.endAngle,O=x.startAngle,T=xt(0,P-O),N=T(m),M=Et(Et({},x),{},{startAngle:b+j,endAngle:b+N+j});g.push(M),b=M.endAngle}}),I.createElement(Be,null,r.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!aa(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,l=i.label,c=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,p=i.isAnimationActive,y=this.state.isAnimationFinished;if(a||!o||!o.length||!pe(c)||!pe(d)||!pe(f)||!pe(h))return null;var m=Le("recharts-pie",s);return I.createElement(Be,{tabIndex:this.props.rootTabIndex,className:m,ref:function(v){r.pieRef=v}},this.renderSectors(),l&&this.renderLabels(o),pn.renderCallByParent(this.props,null,!1),(!p||y)&&Cr.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(I.isValidElement(r))return I.cloneElement(r,i);if(Ne(r))return r(i);var o=Le("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return I.createElement(Wa,zs({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,a){if(I.isValidElement(r))return I.cloneElement(r,i);var o=a;if(Ne(r)&&(o=r(i),I.isValidElement(o)))return o;var s=Le("recharts-pie-label-text",typeof r!="boolean"&&!Ne(r)?r.className:"");return I.createElement(ts,zs({},i,{alignmentBaseline:"middle",className:s}),o)}}])})(S.PureComponent);fh=pa;jr(pa,"displayName","Pie");jr(pa,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Mi.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});jr(pa,"parseDeltaAngle",function(e,t){var n=$n(t-e),r=Math.min(Math.abs(t-e),360);return n*r});jr(pa,"getRealPieData",function(e){var t=e.data,n=e.children,r=we(e,!1),i=Fn(n,uc);return t&&t.length?t.map(function(a,o){return Et(Et(Et({payload:a},r),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return Et(Et({},r),a.props)}):[]});jr(pa,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,i=t.width,a=t.height,o=xU(i,a),s=r+Ln(e.cx,i,i/2),l=n+Ln(e.cy,a,a/2),c=Ln(e.innerRadius,o,0),d=Ln(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:l,innerRadius:c,outerRadius:d,maxRadius:f}});jr(pa,"getComposedData",function(e){var t=e.item,n=e.offset,r=t.type.defaultProps!==void 0?Et(Et({},t.type.defaultProps),t.props):t.props,i=fh.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,o=r.startAngle,s=r.endAngle,l=r.paddingAngle,c=r.dataKey,d=r.nameKey,f=r.valueKey,h=r.tooltipType,p=Math.abs(r.minAngle),y=fh.parseCoordinateOfPie(r,n),m=fh.parseDeltaAngle(o,s),g=Math.abs(m),v=c;Re(c)&&Re(f)?(Zr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):Re(c)&&(Zr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=f);var b=i.filter(function(A){return wt(A,v,0)!==0}).length,x=(g>=360?b:b-1)*l,_=g-b*p-x,w=i.reduce(function(A,P){var O=wt(P,v,0);return A+(pe(O)?O:0)},0),j;if(w>0){var k;j=i.map(function(A,P){var O=wt(A,v,0),T=wt(A,d,P),N=(pe(O)?O:0)/w,M;P?M=k.endAngle+$n(m)*l*(O!==0?1:0):M=o;var E=M+$n(m)*((O!==0?p:0)+N*_),R=(M+E)/2,F=(y.innerRadius+y.outerRadius)/2,z=[{name:T,value:O,payload:A,dataKey:v,type:h}],q=ht(y.cx,y.cy,F,R);return k=Et(Et(Et({percent:N,cornerRadius:a,name:T,tooltipPayload:z,midAngle:R,middleRadius:F,tooltipPosition:q},A),y),{},{value:wt(A,v),startAngle:M,endAngle:E,payload:A,paddingAngle:$n(m)*l}),k})}return Et(Et({},y),{},{sectors:j,data:i})});var zx,GM;function WAe(){if(GM)return zx;GM=1;function e(t){return t&&t.length?t[0]:void 0}return zx=e,zx}var Fx,KM;function HAe(){return KM||(KM=1,Fx=WAe()),Fx}var GAe=HAe();const KAe=ot(GAe);var YAe=["key"];function El(e){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},El(e)}function XAe(e,t){if(e==null)return{};var n=QAe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function QAe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Dp(){return Dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dp.apply(this,arguments)}function YM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YM(Object(n),!0).forEach(function(r){Fi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qU(r.key),r)}}function ZAe(e,t,n){return t&&XM(e.prototype,t),n&&XM(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function eOe(e,t,n){return t=$p(t),tOe(e,BU()?Reflect.construct(t,n||[],$p(e).constructor):t.apply(e,n))}function tOe(e,t){if(t&&(El(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nOe(e)}function nOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BU=function(){return!!e})()}function $p(e){return $p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$p(e)}function rOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&US(e,t)}function US(e,t){return US=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},US(e,t)}function Fi(e,t,n){return t=qU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qU(e){var t=iOe(e,"string");return El(t)=="symbol"?t:t+""}function iOe(e,t){if(El(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(El(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var as=(function(e){function t(){var n;JAe(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=eOe(this,t,[].concat(i)),Fi(n,"state",{isAnimationFinished:!1}),Fi(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ne(o)&&o()}),Fi(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ne(o)&&o()}),Fi(n,"handleMouseEnter",function(o){var s=n.props.onMouseEnter;s&&s(n.props,o)}),Fi(n,"handleMouseLeave",function(o){var s=n.props.onMouseLeave;s&&s(n.props,o)}),n}return rOe(t,e),ZAe(t,[{key:"renderDots",value:function(r){var i=this.props,a=i.dot,o=i.dataKey,s=we(this.props,!1),l=we(a,!0),c=r.map(function(d,f){var h=Tn(Tn(Tn({key:"dot-".concat(f),r:3},s),l),{},{dataKey:o,cx:d.x,cy:d.y,index:f,payload:d});return t.renderDotItem(a,h)});return I.createElement(Be,{className:"recharts-radar-dots"},c)}},{key:"renderPolygonStatically",value:function(r){var i=this.props,a=i.shape,o=i.dot,s=i.isRange,l=i.baseLinePoints,c=i.connectNulls,d;return I.isValidElement(a)?d=I.cloneElement(a,Tn(Tn({},this.props),{},{points:r})):Ne(a)?d=a(Tn(Tn({},this.props),{},{points:r})):d=I.createElement(IU,Dp({},we(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:r,baseLinePoints:s?l:null,connectNulls:c})),I.createElement(Be,{className:"recharts-radar-polygon"},d,o?this.renderDots(r):null)}},{key:"renderPolygonWithAnimation",value:function(){var r=this,i=this.props,a=i.points,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,d=i.animationId,f=this.state.prevPoints;return I.createElement(ur,{begin:s,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"radar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var p=h.t,y=f&&f.length/a.length,m=a.map(function(g,v){var b=f&&f[Math.floor(v*y)];if(b){var x=xt(b.x,g.x),_=xt(b.y,g.y);return Tn(Tn({},g),{},{x:x(p),y:_(p)})}var w=xt(g.cx,g.x),j=xt(g.cy,g.y);return Tn(Tn({},g),{},{x:w(p),y:j(p)})});return r.renderPolygonStatically(m)})}},{key:"renderPolygon",value:function(){var r=this.props,i=r.points,a=r.isAnimationActive,o=r.isRange,s=this.state.prevPoints;return a&&i&&i.length&&!o&&(!s||!aa(s,i))?this.renderPolygonWithAnimation():this.renderPolygonStatically(i)}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.className,o=r.points,s=r.isAnimationActive;if(i||!o||!o.length)return null;var l=this.state.isAnimationFinished,c=Le("recharts-radar",a);return I.createElement(Be,{className:c},this.renderPolygon(),(!s||l)&&Cr.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"renderDotItem",value:function(r,i){var a;if(I.isValidElement(r))a=I.cloneElement(r,i);else if(Ne(r))a=r(i);else{var o=i.key,s=XAe(i,YAe);a=I.createElement(mc,Dp({},s,{key:o,className:Le("recharts-radar-dot",typeof r!="boolean"?r.className:"")}))}return a}}])})(S.PureComponent);Fi(as,"displayName","Radar");Fi(as,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!Mi.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Fi(as,"getComposedData",function(e){var t=e.radiusAxis,n=e.angleAxis,r=e.displayedData,i=e.dataKey,a=e.bandSize,o=n.cx,s=n.cy,l=!1,c=[],d=n.type!=="number"?a??0:0;r.forEach(function(h,p){var y=wt(h,n.dataKey,p),m=wt(h,i),g=n.scale(y)+d,v=Array.isArray(m)?jU(m):m,b=Re(v)?void 0:t.scale(v);Array.isArray(m)&&m.length>=2&&(l=!0),c.push(Tn(Tn({},ht(o,s,b,g)),{},{name:y,value:m,cx:o,cy:s,radius:b,angle:g,payload:h}))});var f=[];return l&&c.forEach(function(h){if(Array.isArray(h.value)){var p=KAe(h.value),y=Re(p)?void 0:t.scale(p);f.push(Tn(Tn({},h),{},{radius:y},ht(o,s,y,h.angle)))}else f.push(h)}),{points:c,isRange:l,baseLinePoints:f}});var Bx,QM;function aOe(){if(QM)return Bx;QM=1;var e=Math.ceil,t=Math.max;function n(r,i,a,o){for(var s=-1,l=t(e((i-r)/(a||1)),0),c=Array(l);l--;)c[o?l:++s]=r,r+=a;return c}return Bx=n,Bx}var qx,JM;function UU(){if(JM)return qx;JM=1;var e=sq(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var a=i<0?-1:1;return a*n}return i===i?i:0}return qx=r,qx}var Ux,ZM;function oOe(){if(ZM)return Ux;ZM=1;var e=aOe(),t=pg(),n=UU();function r(i){return function(a,o,s){return s&&typeof s!="number"&&t(a,o,s)&&(o=s=void 0),a=n(a),o===void 0?(o=a,a=0):o=n(o),s=s===void 0?a<o?1:-1:n(s),e(a,o,s,i)}}return Ux=r,Ux}var Vx,eD;function sOe(){if(eD)return Vx;eD=1;var e=oOe(),t=e();return Vx=t,Vx}var lOe=sOe();const Lp=ot(lOe);function wd(e){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wd(e)}function tD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tD(Object(n),!0).forEach(function(r){VU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VU(e,t,n){return t=cOe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cOe(e){var t=uOe(e,"string");return wd(t)=="symbol"?t:t+""}function uOe(e,t){if(wd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(wd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dOe=["Webkit","Moz","O","ms"],fOe=function(t,n){var r=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=dOe.reduce(function(a,o){return nD(nD({},a),{},VU({},o+r,n))},{});return i[t]=n,i};function Al(e){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Al(e)}function zp(){return zp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zp.apply(this,arguments)}function rD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rD(Object(n),!0).forEach(function(r){er(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,HU(r.key),r)}}function pOe(e,t,n){return t&&iD(e.prototype,t),n&&iD(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function mOe(e,t,n){return t=Fp(t),gOe(e,WU()?Reflect.construct(t,n||[],Fp(e).constructor):t.apply(e,n))}function gOe(e,t){if(t&&(Al(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yOe(e)}function yOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WU=function(){return!!e})()}function Fp(e){return Fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fp(e)}function vOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VS(e,t)}function VS(e,t){return VS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},VS(e,t)}function er(e,t,n){return t=HU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HU(e){var t=bOe(e,"string");return Al(t)=="symbol"?t:t+""}function bOe(e,t){if(Al(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xOe=function(t){var n=t.data,r=t.startIndex,i=t.endIndex,a=t.x,o=t.width,s=t.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=hu().domain(Lp(0,l)).range([a,a+o-s]),d=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:d}},aD=function(t){return t.changedTouches&&!!t.changedTouches.length},Ol=(function(e){function t(n){var r;return hOe(this,t),r=mOe(this,t,[n]),er(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),er(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),er(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o?.({endIndex:a,startIndex:s})}),r.detachDragEndListener()}),er(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),er(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),er(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),er(r,"handleSlideDragStart",function(i){var a=aD(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return vOe(t,e),pOe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,d=c.length-1,f=Math.min(i,a),h=Math.max(i,a),p=t.getIndexInRange(o,f),y=t.getIndexInRange(o,h);return{startIndex:p-p%l,endIndex:y===d?d:y-y%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=wt(a[r],s,r);return Ne(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,c=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,y=l.onChange,m=r.pageX-a;m>0?m=Math.min(m,c+d-f-s,c+d-f-o):m<0&&(m=Math.max(m,c-o,c-s));var g=this.getIndex({startX:o+m,endX:s+m});(g.startIndex!==h||g.endIndex!==p)&&y&&y(g),this.setState({startX:o+m,endX:s+m,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=aD(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,y=d.onChange,m=d.gap,g=d.data,v={startX:this.state.startX,endX:this.state.endX},b=r.pageX-a;b>0?b=Math.min(b,f+h-p-c):b<0&&(b=Math.max(b,f-c)),v[o]=c+b;var x=this.getIndex(v),_=x.startIndex,w=x.endIndex,j=function(){var A=g.length-1;return o==="startX"&&(s>l?_%m===0:w%m===0)||s<l&&w===A||o==="endX"&&(s>l?w%m===0:_%m===0)||s>l&&w===A};this.setState(er(er({},o,c+b),"brushMoveStartX",r.pageX),function(){y&&j()&&y(x)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,c=o.endX,d=this.state[i],f=s.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=s.length)){var p=s[h];i==="startX"&&p>=c||i==="endX"&&p<=l||this.setState(er({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.fill,c=r.stroke;return I.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.data,c=r.children,d=r.padding,f=S.Children.only(c);return f?I.cloneElement(f,{x:i,y:a,width:o,height:s,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,s=this,l=this.props,c=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,y=l.data,m=l.startIndex,g=l.endIndex,v=Math.max(r,this.props.x),b=Wx(Wx({},we(this.props,!1)),{},{x:v,y:c,width:d,height:f}),x=p||"Min value: ".concat((a=y[m])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=y[g])===null||o===void 0?void 0:o.name);return I.createElement(Be,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),s.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,c=a.travellerWidth,d=Math.min(r,i)+c,f=Math.max(Math.abs(i-r)-c,0);return I.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:o,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,s=r.height,l=r.travellerWidth,c=r.stroke,d=this.state,f=d.startX,h=d.endX,p=5,y={pointerEvents:"none",fill:c};return I.createElement(Be,{className:"recharts-brush-texts"},I.createElement(ts,zp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+s/2},y),this.getTextOfTick(i)),I.createElement(ts,zp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:o+s/2},y),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,s=r.x,l=r.y,c=r.width,d=r.height,f=r.alwaysShowText,h=this.state,p=h.startX,y=h.endX,m=h.isTextActive,g=h.isSlideMoving,v=h.isTravellerMoving,b=h.isTravellerFocused;if(!i||!i.length||!pe(s)||!pe(l)||!pe(c)||!pe(d)||c<=0||d<=0)return null;var x=Le("recharts-brush",a),_=I.Children.count(o)===1,w=fOe("userSelect","none");return I.createElement(Be,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(p,y),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(y,"endX"),(m||g||v||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,s=r.height,l=r.stroke,c=Math.floor(a+s/2)-1;return I.createElement(I.Fragment,null,I.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),I.createElement("line",{x1:i+1,y1:c,x2:i+o-1,y2:c,fill:"none",stroke:"#fff"}),I.createElement("line",{x1:i+1,y1:c+2,x2:i+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return I.isValidElement(r)?a=I.cloneElement(r,i):Ne(r)?a=r(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,s=r.x,l=r.travellerWidth,c=r.updateId,d=r.startIndex,f=r.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return Wx({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o},a&&a.length?xOe({data:a,width:o,x:s,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);r[l]>i?s=l:o=l}return i>=r[s]?s:o}}])})(S.PureComponent);er(Ol,"displayName","Brush");er(Ol,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Hx,oD;function wOe(){if(oD)return Hx;oD=1;var e=Yk();function t(n,r){var i;return e(n,function(a,o,s){return i=r(a,o,s),!i}),!!i}return Hx=t,Hx}var Gx,sD;function SOe(){if(sD)return Gx;sD=1;var e=L8(),t=Ii(),n=wOe(),r=Qn(),i=pg();function a(o,s,l){var c=r(o)?e:n;return l&&i(o,s,l)&&(s=void 0),c(o,t(s,3))}return Gx=a,Gx}var _Oe=SOe();const jOe=ot(_Oe);var wi=function(t,n){var r=t.alwaysShow,i=t.ifOverflow;return r&&(i="extendDomain"),i===n},Kx,lD;function kOe(){if(lD)return Kx;lD=1;var e=nq();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return Kx=t,Kx}var Yx,cD;function EOe(){if(cD)return Yx;cD=1;var e=kOe(),t=eq(),n=Ii();function r(i,a){var o={};return a=n(a,3),t(i,function(s,l,c){e(o,l,a(s,l,c))}),o}return Yx=r,Yx}var AOe=EOe();const OOe=ot(AOe);var Xx,uD;function COe(){if(uD)return Xx;uD=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(!n(t[r],r,t))return!1;return!0}return Xx=e,Xx}var Qx,dD;function POe(){if(dD)return Qx;dD=1;var e=Yk();function t(n,r){var i=!0;return e(n,function(a,o,s){return i=!!r(a,o,s),i}),i}return Qx=t,Qx}var Jx,fD;function TOe(){if(fD)return Jx;fD=1;var e=COe(),t=POe(),n=Ii(),r=Qn(),i=pg();function a(o,s,l){var c=r(o)?e:t;return l&&i(o,s,l)&&(s=void 0),c(o,n(s,3))}return Jx=a,Jx}var NOe=TOe();const GU=ot(NOe);var ROe=["x","y"];function Sd(e){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sd(e)}function WS(){return WS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WS.apply(this,arguments)}function hD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hD(Object(n),!0).forEach(function(r){IOe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IOe(e,t,n){return t=MOe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MOe(e){var t=DOe(e,"string");return Sd(t)=="symbol"?t:t+""}function DOe(e,t){if(Sd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $Oe(e,t){if(e==null)return{};var n=LOe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function LOe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function zOe(e,t){var n=e.x,r=e.y,i=$Oe(e,ROe),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),c="".concat(t.height||i.height),d=parseInt(c,10),f="".concat(t.width||i.width),h=parseInt(f,10);return qc(qc(qc(qc(qc({},t),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function pD(e){return I.createElement(Ip,WS({shapeType:"rectangle",propTransformer:zOe,activeClassName:"recharts-active-bar"},e))}var FOe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof t=="number")return t;var a=pe(r)||qge(r);return a?t(r,i):(a||rs(),n)}},BOe=["value","background"],KU;function Cl(e){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cl(e)}function qOe(e,t){if(e==null)return{};var n=UOe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function UOe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Bp(){return Bp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bp.apply(this,arguments)}function mD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ht(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mD(Object(n),!0).forEach(function(r){Ta(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,XU(r.key),r)}}function WOe(e,t,n){return t&&gD(e.prototype,t),n&&gD(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function HOe(e,t,n){return t=qp(t),GOe(e,YU()?Reflect.construct(t,n||[],qp(e).constructor):t.apply(e,n))}function GOe(e,t){if(t&&(Cl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KOe(e)}function KOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YU=function(){return!!e})()}function qp(e){return qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qp(e)}function YOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HS(e,t)}function HS(e,t){return HS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},HS(e,t)}function Ta(e,t,n){return t=XU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XU(e){var t=XOe(e,"string");return Cl(t)=="symbol"?t:t+""}function XOe(e,t){if(Cl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ft=(function(e){function t(){var n;VOe(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=HOe(this,t,[].concat(i)),Ta(n,"state",{isAnimationFinished:!1}),Ta(n,"id",ao("recharts-bar-")),Ta(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Ta(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return YOe(t,e),WOe(t,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,c=a.activeBar,d=we(this.props,!1);return r&&r.map(function(f,h){var p=h===l,y=p?c:o,m=Ht(Ht(Ht({},d),f),{},{isActive:p,option:y,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return I.createElement(Be,Bp({className:"recharts-bar-rectangle"},Ja(i.props,f,h),{key:"rectangle-".concat(f?.x,"-").concat(f?.y,"-").concat(f?.value,"-").concat(h)}),I.createElement(pD,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return I.createElement(ur,{begin:l,duration:c,isActive:s,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,m=a.map(function(g,v){var b=h&&h[v];if(b){var x=xt(b.x,g.x),_=xt(b.y,g.y),w=xt(b.width,g.width),j=xt(b.height,g.height);return Ht(Ht({},g),{},{x:x(y),y:_(y),width:w(y),height:j(y)})}if(o==="horizontal"){var k=xt(0,g.height),A=k(y);return Ht(Ht({},g),{},{y:g.y+g.height-A,height:A})}var P=xt(0,g.width),O=P(y);return Ht(Ht({},g),{},{width:O})});return I.createElement(Be,null,r.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!aa(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=we(this.props.background,!1);return a.map(function(c,d){c.value;var f=c.background,h=qOe(c,BOe);if(!f)return null;var p=Ht(Ht(Ht(Ht(Ht({},h),{},{fill:"#eee"},f),l),Ja(r.props,c,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return I.createElement(pD,Bp({key:"background-bar-".concat(d),option:r.props.background,isActive:d===s},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,c=a.layout,d=a.children,f=Fn(d,pc);if(!f)return null;var h=c==="vertical"?o[0].height/2:o[0].width/2,p=function(g,v){var b=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:b,errorVal:wt(g,v)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return I.createElement(Be,y,f.map(function(m){return I.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,s=r.xAxis,l=r.yAxis,c=r.left,d=r.top,f=r.width,h=r.height,p=r.isAnimationActive,y=r.background,m=r.id;if(i||!a||!a.length)return null;var g=this.state.isAnimationFinished,v=Le("recharts-bar",o),b=s&&s.allowDataOverflow,x=l&&l.allowDataOverflow,_=b||x,w=Re(m)?this.id:m;return I.createElement(Be,{className:v},b||x?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(w)},I.createElement("rect",{x:b?c:c-f/2,y:x?d:d-h/2,width:b?f:f*2,height:x?h:h*2}))):null,I.createElement(Be,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(w,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,w),(!p||g)&&Cr.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(S.PureComponent);KU=Ft;Ta(Ft,"displayName","Bar");Ta(Ft,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Mi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ta(Ft,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,a=e.xAxis,o=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=r_e(r,n);if(!p)return null;var y=t.layout,m=n.type.defaultProps,g=m!==void 0?Ht(Ht({},m),n.props):n.props,v=g.dataKey,b=g.children,x=g.minPointSize,_=y==="horizontal"?o:a,w=c?_.scale.domain():null,j=u_e({numericAxis:_}),k=Fn(b,uc),A=f.map(function(P,O){var T,N,M,E,R,F;c?T=i_e(c[d+O],w):(T=wt(P,v),Array.isArray(T)||(T=[j,T]));var z=FOe(x,KU.defaultProps.minPointSize)(T[1],O);if(y==="horizontal"){var q,L=[o.scale(T[0]),o.scale(T[1])],D=L[0],W=L[1];N=DI({axis:a,ticks:s,bandSize:i,offset:p.offset,entry:P,index:O}),M=(q=W??D)!==null&&q!==void 0?q:void 0,E=p.size;var B=D-W;if(R=Number.isNaN(B)?0:B,F={x:N,y:o.y,width:E,height:o.height},Math.abs(z)>0&&Math.abs(R)<Math.abs(z)){var $=$n(R||z)*(Math.abs(z)-Math.abs(R));M-=$,R+=$}}else{var Q=[a.scale(T[0]),a.scale(T[1])],Z=Q[0],fe=Q[1];if(N=Z,M=DI({axis:o,ticks:l,bandSize:i,offset:p.offset,entry:P,index:O}),E=fe-Z,R=p.size,F={x:a.x,y:M,width:a.width,height:R},Math.abs(z)>0&&Math.abs(E)<Math.abs(z)){var le=$n(E||z)*(Math.abs(z)-Math.abs(E));E+=le}}return Ht(Ht(Ht({},P),{},{x:N,y:M,width:E,height:R,value:c?T:T[1],payload:P,background:F},k&&k[O]&&k[O].props),{},{tooltipPayload:[vU(n,P)],tooltipPosition:{x:N+E/2,y:M+R/2}})});return Ht({data:A,layout:y},h)});function _d(e){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_d(e)}function QOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,QU(r.key),r)}}function JOe(e,t,n){return t&&yD(e.prototype,t),n&&yD(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function vD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vD(Object(n),!0).forEach(function(r){Cg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cg(e,t,n){return t=QU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QU(e){var t=ZOe(e,"string");return _d(t)=="symbol"?t:t+""}function ZOe(e,t){if(_d(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(_d(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pg=function(t,n,r,i,a){var o=t.width,s=t.height,l=t.layout,c=t.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!tr(c,Ft);return d.reduce(function(p,y){var m=n[y],g=m.orientation,v=m.domain,b=m.padding,x=b===void 0?{}:b,_=m.mirror,w=m.reversed,j="".concat(g).concat(_?"Mirror":""),k,A,P,O,T;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var N=v[1]-v[0],M=1/0,E=m.categoricalDomain.sort(Hge);if(E.forEach(function(Q,Z){Z>0&&(M=Math.min((Q||0)-(E[Z-1]||0),M))}),Number.isFinite(M)){var R=M/N,F=m.layout==="vertical"?r.height:r.width;if(m.padding==="gap"&&(k=R*F/2),m.padding==="no-gap"){var z=Ln(t.barCategoryGap,R*F),q=R*F/2;k=q-z-(q-z)/F*z}}}i==="xAxis"?A=[r.left+(x.left||0)+(k||0),r.left+r.width-(x.right||0)-(k||0)]:i==="yAxis"?A=l==="horizontal"?[r.top+r.height-(x.bottom||0),r.top+(x.top||0)]:[r.top+(x.top||0)+(k||0),r.top+r.height-(x.bottom||0)-(k||0)]:A=m.range,w&&(A=[A[1],A[0]]);var L=pU(m,a,h),D=L.scale,W=L.realScaleType;D.domain(v).range(A),mU(D);var B=gU(D,Wr(Wr({},m),{},{realScaleType:W}));i==="xAxis"?(T=g==="top"&&!_||g==="bottom"&&_,P=r.left,O=f[j]-T*m.height):i==="yAxis"&&(T=g==="left"&&!_||g==="right"&&_,P=f[j]-T*m.width,O=r.top);var $=Wr(Wr(Wr({},m),B),{},{realScaleType:W,x:P,y:O,scale:D,width:i==="xAxis"?r.width:m.width,height:i==="yAxis"?r.height:m.height});return $.bandSize=Sp($,B),!m.hide&&i==="xAxis"?f[j]+=(T?-1:1)*$.height:m.hide||(f[j]+=(T?-1:1)*$.width),Wr(Wr({},p),{},Cg({},y,$))},{})},JU=function(t,n){var r=t.x,i=t.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},eCe=function(t){var n=t.x1,r=t.y1,i=t.x2,a=t.y2;return JU({x:n,y:r},{x:i,y:a})},ZU=(function(){function e(t){QOe(this,e),this.scale=t}return JOe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new e(n)}}])})();Cg(ZU,"EPS",1e-4);var jE=function(t){var n=Object.keys(t).reduce(function(r,i){return Wr(Wr({},r),{},Cg({},i,ZU.create(t[i])))},{});return Wr(Wr({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return OOe(i,function(l,c){return n[c].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return GU(i,function(a,o){return n[o].isInRange(a)})}})};function tCe(e){return(e%180+180)%180}var nCe=function(t){var n=t.width,r=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=tCe(i),o=a*Math.PI/180,s=Math.atan(r/n),l=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},Zx,bD;function rCe(){if(bD)return Zx;bD=1;var e=Ii(),t=Xd(),n=fg();function r(i){return function(a,o,s){var l=Object(a);if(!t(a)){var c=e(o,3);a=n(a),o=function(f){return c(l[f],f,l)}}var d=i(a,o,s);return d>-1?l[c?a[d]:d]:void 0}}return Zx=r,Zx}var ew,xD;function iCe(){if(xD)return ew;xD=1;var e=UU();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return ew=t,ew}var tw,wD;function aCe(){if(wD)return tw;wD=1;var e=Y8(),t=Ii(),n=iCe(),r=Math.max;function i(a,o,s){var l=a==null?0:a.length;if(!l)return-1;var c=s==null?0:n(s);return c<0&&(c=r(l+c,0)),e(a,t(o,3),c)}return tw=i,tw}var nw,SD;function oCe(){if(SD)return nw;SD=1;var e=rCe(),t=aCe(),n=e(t);return nw=n,nw}var sCe=oCe();const lCe=ot(sCe);var cCe=u8();const uCe=ot(cCe);var dCe=uCe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),kE=S.createContext(void 0),EE=S.createContext(void 0),eV=S.createContext(void 0),tV=S.createContext({}),nV=S.createContext(void 0),rV=S.createContext(0),iV=S.createContext(0),_D=function(t){var n=t.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=t.clipPathId,s=t.children,l=t.width,c=t.height,d=dCe(a);return I.createElement(kE.Provider,{value:r},I.createElement(EE.Provider,{value:i},I.createElement(tV.Provider,{value:a},I.createElement(eV.Provider,{value:d},I.createElement(nV.Provider,{value:o},I.createElement(rV.Provider,{value:c},I.createElement(iV.Provider,{value:l},s)))))))},fCe=function(){return S.useContext(nV)},aV=function(t){var n=S.useContext(kE);n==null&&rs();var r=n[t];return r==null&&rs(),r},hCe=function(){var t=S.useContext(kE);return Oa(t)},pCe=function(){var t=S.useContext(EE),n=lCe(t,function(r){return GU(r.domain,Number.isFinite)});return n||Oa(t)},oV=function(t){var n=S.useContext(EE);n==null&&rs();var r=n[t];return r==null&&rs(),r},mCe=function(){var t=S.useContext(eV);return t},gCe=function(){return S.useContext(tV)},AE=function(){return S.useContext(iV)},OE=function(){return S.useContext(rV)};function Pl(e){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pl(e)}function yCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vCe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lV(r.key),r)}}function bCe(e,t,n){return t&&vCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xCe(e,t,n){return t=Up(t),wCe(e,sV()?Reflect.construct(t,n||[],Up(e).constructor):t.apply(e,n))}function wCe(e,t){if(t&&(Pl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SCe(e)}function SCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sV=function(){return!!e})()}function Up(e){return Up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Up(e)}function _Ce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GS(e,t)}function GS(e,t){return GS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GS(e,t)}function jD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jD(Object(n),!0).forEach(function(r){CE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CE(e,t,n){return t=lV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lV(e){var t=jCe(e,"string");return Pl(t)=="symbol"?t:t+""}function jCe(e,t){if(Pl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function kCe(e,t){return CCe(e)||OCe(e,t)||ACe(e,t)||ECe()}function ECe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ACe(e,t){if(e){if(typeof e=="string")return ED(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ED(e,t)}}function ED(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function OCe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function CCe(e){if(Array.isArray(e))return e}function KS(){return KS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KS.apply(this,arguments)}var PCe=function(t,n){var r;return I.isValidElement(t)?r=I.cloneElement(t,n):Ne(t)?r=t(n):r=I.createElement("line",KS({},n,{className:"recharts-reference-line-line"})),r},TCe=function(t,n,r,i,a,o,s,l,c){var d=a.x,f=a.y,h=a.width,p=a.height;if(r){var y=c.y,m=t.y.apply(y,{position:o});if(wi(c,"discard")&&!t.y.isInRange(m))return null;var g=[{x:d+h,y:m},{x:d,y:m}];return l==="left"?g.reverse():g}if(n){var v=c.x,b=t.x.apply(v,{position:o});if(wi(c,"discard")&&!t.x.isInRange(b))return null;var x=[{x:b,y:f+p},{x:b,y:f}];return s==="top"?x.reverse():x}if(i){var _=c.segment,w=_.map(function(j){return t.apply(j,{position:o})});return wi(c,"discard")&&jOe(w,function(j){return!t.isInRange(j)})?null:w}return null};function NCe(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxisId,a=e.yAxisId,o=e.shape,s=e.className,l=e.alwaysShow,c=fCe(),d=aV(i),f=oV(a),h=mCe();if(!c||!h)return null;Zr(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=jE({x:d.scale,y:f.scale}),y=ln(t),m=ln(n),g=r&&r.length===2,v=TCe(p,y,m,g,h,e.position,d.orientation,f.orientation,e);if(!v)return null;var b=kCe(v,2),x=b[0],_=x.x,w=x.y,j=b[1],k=j.x,A=j.y,P=wi(e,"hidden")?"url(#".concat(c,")"):void 0,O=kD(kD({clipPath:P},we(e,!0)),{},{x1:_,y1:w,x2:k,y2:A});return I.createElement(Be,{className:Le("recharts-reference-line",s)},PCe(o,O),pn.renderCallByParent(e,eCe({x1:_,y1:w,x2:k,y2:A})))}var PE=(function(e){function t(){return yCe(this,t),xCe(this,t,arguments)}return _Ce(t,e),bCe(t,[{key:"render",value:function(){return I.createElement(NCe,this.props)}}])})(I.Component);CE(PE,"displayName","ReferenceLine");CE(PE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function YS(){return YS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YS.apply(this,arguments)}function Tl(e){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tl(e)}function AD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function OD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AD(Object(n),!0).forEach(function(r){Tg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ICe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uV(r.key),r)}}function MCe(e,t,n){return t&&ICe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function DCe(e,t,n){return t=Vp(t),$Ce(e,cV()?Reflect.construct(t,n||[],Vp(e).constructor):t.apply(e,n))}function $Ce(e,t){if(t&&(Tl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LCe(e)}function LCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cV=function(){return!!e})()}function Vp(e){return Vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vp(e)}function zCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XS(e,t)}function XS(e,t){return XS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XS(e,t)}function Tg(e,t,n){return t=uV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uV(e){var t=FCe(e,"string");return Tl(t)=="symbol"?t:t+""}function FCe(e,t){if(Tl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var BCe=function(t){var n=t.x,r=t.y,i=t.xAxis,a=t.yAxis,o=jE({x:i.scale,y:a.scale}),s=o.apply({x:n,y:r},{bandAware:!0});return wi(t,"discard")&&!o.isInRange(s)?null:s},Ng=(function(e){function t(){return RCe(this,t),DCe(this,t,arguments)}return zCe(t,e),MCe(t,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,s=r.alwaysShow,l=r.clipPathId,c=ln(i),d=ln(a);if(Zr(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!d)return null;var f=BCe(this.props);if(!f)return null;var h=f.x,p=f.y,y=this.props,m=y.shape,g=y.className,v=wi(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=OD(OD({clipPath:v},we(this.props,!0)),{},{cx:h,cy:p});return I.createElement(Be,{className:Le("recharts-reference-dot",g)},t.renderDot(m,b),pn.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])})(I.Component);Tg(Ng,"displayName","ReferenceDot");Tg(Ng,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Tg(Ng,"renderDot",function(e,t){var n;return I.isValidElement(e)?n=I.cloneElement(e,t):Ne(e)?n=e(t):n=I.createElement(mc,YS({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function QS(){return QS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QS.apply(this,arguments)}function Nl(e){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nl(e)}function CD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function PD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CD(Object(n),!0).forEach(function(r){Rg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UCe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fV(r.key),r)}}function VCe(e,t,n){return t&&UCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WCe(e,t,n){return t=Wp(t),HCe(e,dV()?Reflect.construct(t,n||[],Wp(e).constructor):t.apply(e,n))}function HCe(e,t){if(t&&(Nl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GCe(e)}function GCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dV=function(){return!!e})()}function Wp(e){return Wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wp(e)}function KCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JS(e,t)}function JS(e,t){return JS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},JS(e,t)}function Rg(e,t,n){return t=fV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fV(e){var t=YCe(e,"string");return Nl(t)=="symbol"?t:t+""}function YCe(e,t){if(Nl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var XCe=function(t,n,r,i,a){var o=a.x1,s=a.x2,l=a.y1,c=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=jE({x:d.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},y={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return wi(a,"discard")&&(!h.isInRange(p)||!h.isInRange(y))?null:JU(p,y)},Ig=(function(e){function t(){return qCe(this,t),WCe(this,t,arguments)}return KCe(t,e),VCe(t,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,s=r.y2,l=r.className,c=r.alwaysShow,d=r.clipPathId;Zr(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=ln(i),h=ln(a),p=ln(o),y=ln(s),m=this.props.shape;if(!f&&!h&&!p&&!y&&!m)return null;var g=XCe(f,h,p,y,this.props);if(!g&&!m)return null;var v=wi(this.props,"hidden")?"url(#".concat(d,")"):void 0;return I.createElement(Be,{className:Le("recharts-reference-area",l)},t.renderRect(m,PD(PD({clipPath:v},we(this.props,!0)),g)),pn.renderCallByParent(this.props,g))}}])})(I.Component);Rg(Ig,"displayName","ReferenceArea");Rg(Ig,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Rg(Ig,"renderRect",function(e,t){var n;return I.isValidElement(e)?n=I.cloneElement(e,t):Ne(e)?n=e(t):n=I.createElement(_E,QS({},t,{className:"recharts-reference-area-rect"})),n});function hV(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function QCe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return nCe(r,n)}function JCe(e,t,n){var r=n==="width",i=e.x,a=e.y,o=e.width,s=e.height;return t===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function Hp(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function ZCe(e,t){return hV(e,t+1)}function ePe(e,t,n,r,i){for(var a=(r||[]).slice(),o=t.start,s=t.end,l=0,c=1,d=o,f=function(){var y=r?.[l];if(y===void 0)return{v:hV(r,c)};var m=l,g,v=function(){return g===void 0&&(g=n(y,m)),g},b=y.coordinate,x=l===0||Hp(e,b,v,d,s);x||(l=0,d=o,c+=1),x&&(d=b+e*(v()/2+i),l+=c)},h;c<=a.length;)if(h=f(),h)return h.v;return[]}function jd(e){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jd(e)}function TD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _n(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TD(Object(n),!0).forEach(function(r){tPe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tPe(e,t,n){return t=nPe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nPe(e){var t=rPe(e,"string");return jd(t)=="symbol"?t:t+""}function rPe(e,t){if(jd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(jd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iPe(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,s=t.start,l=t.end,c=function(h){var p=a[h],y,m=function(){return y===void 0&&(y=n(p,h)),y};if(h===o-1){var g=e*(p.coordinate+e*m()/2-l);a[h]=p=_n(_n({},p),{},{tickCoord:g>0?p.coordinate-g*e:p.coordinate})}else a[h]=p=_n(_n({},p),{},{tickCoord:p.coordinate});var v=Hp(e,p.tickCoord,m,s,l);v&&(l=p.tickCoord-e*(m()/2+i),a[h]=_n(_n({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)c(d);return a}function aPe(e,t,n,r,i,a){var o=(r||[]).slice(),s=o.length,l=t.start,c=t.end;if(a){var d=r[s-1],f=n(d,s-1),h=e*(d.coordinate+e*f/2-c);o[s-1]=d=_n(_n({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=Hp(e,d.tickCoord,function(){return f},l,c);p&&(c=d.tickCoord-e*(f/2+i),o[s-1]=_n(_n({},d),{},{isShow:!0}))}for(var y=a?s-1:s,m=function(b){var x=o[b],_,w=function(){return _===void 0&&(_=n(x,b)),_};if(b===0){var j=e*(x.coordinate-e*w()/2-l);o[b]=x=_n(_n({},x),{},{tickCoord:j<0?x.coordinate-j*e:x.coordinate})}else o[b]=x=_n(_n({},x),{},{tickCoord:x.coordinate});var k=Hp(e,x.tickCoord,w,l,c);k&&(l=x.tickCoord+e*(w()/2+i),o[b]=_n(_n({},x),{},{isShow:!0}))},g=0;g<y;g++)m(g);return o}function TE(e,t,n){var r=e.tick,i=e.ticks,a=e.viewBox,o=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,d=e.unit,f=e.angle;if(!i||!i.length||!r)return[];if(pe(l)||Mi.isSsr)return ZCe(i,typeof l=="number"&&pe(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",y=d&&p==="width"?fu(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(x,_){var w=Ne(c)?c(x.value,_):x.value;return p==="width"?QCe(fu(w,{fontSize:t,letterSpacing:n}),y,f):fu(w,{fontSize:t,letterSpacing:n})[p]},g=i.length>=2?$n(i[1].coordinate-i[0].coordinate):1,v=JCe(a,g,p);return l==="equidistantPreserveStart"?ePe(g,v,m,i,o):(l==="preserveStart"||l==="preserveStartEnd"?h=aPe(g,v,m,i,o,l==="preserveStartEnd"):h=iPe(g,v,m,i,o),h.filter(function(b){return b.isShow}))}var oPe=["viewBox"],sPe=["viewBox"],lPe=["ticks"];function Rl(e){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rl(e)}function Fs(){return Fs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fs.apply(this,arguments)}function ND(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ND(Object(n),!0).forEach(function(r){NE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ND(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rw(e,t){if(e==null)return{};var n=cPe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function cPe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function uPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mV(r.key),r)}}function dPe(e,t,n){return t&&RD(e.prototype,t),n&&RD(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function fPe(e,t,n){return t=Gp(t),hPe(e,pV()?Reflect.construct(t,n||[],Gp(e).constructor):t.apply(e,n))}function hPe(e,t){if(t&&(Rl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pPe(e)}function pPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pV=function(){return!!e})()}function Gp(e){return Gp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gp(e)}function mPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZS(e,t)}function ZS(e,t){return ZS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ZS(e,t)}function NE(e,t,n){return t=mV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mV(e){var t=gPe(e,"string");return Rl(t)=="symbol"?t:t+""}function gPe(e,t){if(Rl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gc=(function(e){function t(n){var r;return uPe(this,t),r=fPe(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return mPe(t,e),dPe(t,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=rw(r,oPe),s=this.props,l=s.viewBox,c=rw(s,sPe);return!Zs(a,l)||!Zs(o,c)||!Zs(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,c=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,p,y,m,g,v,b,x=f?-1:1,_=r.tickSize||d,w=pe(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":p=y=r.coordinate,g=o+ +!f*l,m=g-x*_,b=m-x*h,v=w;break;case"left":m=g=r.coordinate,y=a+ +!f*s,p=y-x*_,v=p-x*h,b=w;break;case"right":m=g=r.coordinate,y=a+ +f*s,p=y+x*_,v=p+x*h,b=w;break;default:p=y=r.coordinate,g=o+ +f*l,m=g+x*_,b=m+x*h,v=w;break}return{line:{x1:p,y1:m,x2:y,y2:g},tick:{x:v,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.orientation,c=r.mirror,d=r.axisLine,f=Zt(Zt(Zt({},we(this.props,!1)),we(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=Zt(Zt({},f),{},{x1:i,y1:a+h*s,x2:i+o,y2:a+h*s})}else{var p=+(l==="left"&&!c||l==="right"&&c);f=Zt(Zt({},f),{},{x1:i+p*o,y1:a,x2:i+p*o,y2:a+s})}return I.createElement("line",Fs({},f,{className:Le("recharts-cartesian-axis-line",cr(d,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,s=this.props,l=s.tickLine,c=s.stroke,d=s.tick,f=s.tickFormatter,h=s.unit,p=TE(Zt(Zt({},this.props),{},{ticks:r}),i,a),y=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),g=we(this.props,!1),v=we(d,!1),b=Zt(Zt({},g),{},{fill:"none"},we(l,!1)),x=p.map(function(_,w){var j=o.getTickLineCoord(_),k=j.line,A=j.tick,P=Zt(Zt(Zt(Zt({textAnchor:y,verticalAnchor:m},g),{},{stroke:"none",fill:c},v),A),{},{index:w,payload:_,visibleTicksCount:p.length,tickFormatter:f});return I.createElement(Be,Fs({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},Ja(o.props,_,w)),l&&I.createElement("line",Fs({},b,k,{className:Le("recharts-cartesian-axis-tick-line",cr(l,"className"))})),d&&t.renderTickItem(d,P,"".concat(Ne(f)?f(_.value,w):_.value).concat(h||"")))});return I.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,c=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,p=rw(f,lPe),y=h;return Ne(l)&&(y=h&&h.length>0?l(this.props):l(p)),o<=0||s<=0||!y||!y.length?null:I.createElement(Be,{className:Le("recharts-cartesian-axis",c),ref:function(g){r.layerReference=g}},a&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),pn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o,s=Le(i.className,"recharts-cartesian-axis-tick-value");return I.isValidElement(r)?o=I.cloneElement(r,Zt(Zt({},i),{},{className:s})):Ne(r)?o=r(Zt(Zt({},i),{},{className:s})):o=I.createElement(ts,Fs({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])})(S.Component);NE(gc,"displayName","CartesianAxis");NE(gc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var yPe=["x1","y1","x2","y2","key"],vPe=["offset"];function os(e){"@babel/helpers - typeof";return os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},os(e)}function ID(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ID(Object(n),!0).forEach(function(r){bPe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ID(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bPe(e,t,n){return t=xPe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xPe(e){var t=wPe(e,"string");return os(t)=="symbol"?t:t+""}function wPe(e,t){if(os(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(os(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lo(){return Lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lo.apply(this,arguments)}function MD(e,t){if(e==null)return{};var n=SPe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function SPe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var _Pe=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,i=t.x,a=t.y,o=t.width,s=t.height,l=t.ry;return I.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function gV(e,t){var n;if(I.isValidElement(e))n=I.cloneElement(e,t);else if(Ne(e))n=e(t);else{var r=t.x1,i=t.y1,a=t.x2,o=t.y2,s=t.key,l=MD(t,yPe),c=we(l,!1);c.offset;var d=MD(c,vPe);n=I.createElement("line",Lo({},d,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return n}function jPe(e){var t=e.x,n=e.width,r=e.horizontal,i=r===void 0?!0:r,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=jn(jn({},e),{},{x1:t,y1:s,x2:t+n,y2:s,key:"line-".concat(l),index:l});return gV(i,c)});return I.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function kPe(e){var t=e.y,n=e.height,r=e.vertical,i=r===void 0?!0:r,a=e.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=jn(jn({},e),{},{x1:s,y1:t,x2:s,y2:t+n,key:"line-".concat(l),index:l});return gV(i,c)});return I.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function EPe(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,i=e.y,a=e.width,o=e.height,s=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var d=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var y=!d[p+1],m=y?i+o-h:d[p+1]-h;if(m<=0)return null;var g=p%t.length;return I.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:m,width:a,stroke:"none",fill:t[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function APe(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,i=e.fillOpacity,a=e.x,o=e.y,s=e.width,l=e.height,c=e.verticalPoints;if(!n||!r||!r.length)return null;var d=c.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var y=!d[p+1],m=y?a+s-h:d[p+1]-h;if(m<=0)return null;var g=p%r.length;return I.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:m,height:l,stroke:"none",fill:r[g],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var OPe=function(t,n){var r=t.xAxis,i=t.width,a=t.height,o=t.offset;return hU(TE(jn(jn(jn({},gc.defaultProps),r),{},{ticks:Wi(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},CPe=function(t,n){var r=t.yAxis,i=t.width,a=t.height,o=t.offset;return hU(TE(jn(jn(jn({},gc.defaultProps),r),{},{ticks:Wi(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},Os={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function gr(e){var t,n,r,i,a,o,s=AE(),l=OE(),c=gCe(),d=jn(jn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Os.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:Os.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:Os.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:Os.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:Os.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Os.verticalFill,x:pe(e.x)?e.x:c.left,y:pe(e.y)?e.y:c.top,width:pe(e.width)?e.width:c.width,height:pe(e.height)?e.height:c.height}),f=d.x,h=d.y,p=d.width,y=d.height,m=d.syncWithTicks,g=d.horizontalValues,v=d.verticalValues,b=hCe(),x=pCe();if(!pe(p)||p<=0||!pe(y)||y<=0||!pe(f)||f!==+f||!pe(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||OPe,w=d.horizontalCoordinatesGenerator||CPe,j=d.horizontalPoints,k=d.verticalPoints;if((!j||!j.length)&&Ne(w)){var A=g&&g.length,P=w({yAxis:x?jn(jn({},x),{},{ticks:A?g:x.ticks}):void 0,width:s,height:l,offset:c},A?!0:m);Zr(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(os(P),"]")),Array.isArray(P)&&(j=P)}if((!k||!k.length)&&Ne(_)){var O=v&&v.length,T=_({xAxis:b?jn(jn({},b),{},{ticks:O?v:b.ticks}):void 0,width:s,height:l,offset:c},O?!0:m);Zr(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(os(T),"]")),Array.isArray(T)&&(k=T)}return I.createElement("g",{className:"recharts-cartesian-grid"},I.createElement(_Pe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),I.createElement(jPe,Lo({},d,{offset:c,horizontalPoints:j,xAxis:b,yAxis:x})),I.createElement(kPe,Lo({},d,{offset:c,verticalPoints:k,xAxis:b,yAxis:x})),I.createElement(EPe,Lo({},d,{horizontalPoints:j})),I.createElement(APe,Lo({},d,{verticalPoints:k})))}gr.displayName="CartesianGrid";var PPe=["type","layout","connectNulls","ref"],TPe=["key"];function Il(e){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Il(e)}function DD(e,t){if(e==null)return{};var n=NPe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function NPe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function vu(){return vu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vu.apply(this,arguments)}function $D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$D(Object(n),!0).forEach(function(r){Hr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$D(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cs(e){return DPe(e)||MPe(e)||IPe(e)||RPe()}function RPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IPe(e,t){if(e){if(typeof e=="string")return e_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e_(e,t)}}function MPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DPe(e){if(Array.isArray(e))return e_(e)}function e_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $Pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vV(r.key),r)}}function LPe(e,t,n){return t&&LD(e.prototype,t),n&&LD(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function zPe(e,t,n){return t=Kp(t),FPe(e,yV()?Reflect.construct(t,n||[],Kp(e).constructor):t.apply(e,n))}function FPe(e,t){if(t&&(Il(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BPe(e)}function BPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yV=function(){return!!e})()}function Kp(e){return Kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kp(e)}function qPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&t_(e,t)}function t_(e,t){return t_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},t_(e,t)}function Hr(e,t,n){return t=vV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vV(e){var t=UPe(e,"string");return Il(t)=="symbol"?t:t+""}function UPe(e,t){if(Il(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Pr=(function(e){function t(){var n;$Pe(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=zPe(this,t,[].concat(i)),Hr(n,"state",{isAnimationFinished:!0,totalLength:0}),Hr(n,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),Hr(n,"getStrokeDasharray",function(o,s,l){var c=l.reduce(function(v,b){return v+b});if(!c)return n.generateSimpleStrokeDasharray(s,o);for(var d=Math.floor(o/c),f=o%c,h=s-o,p=[],y=0,m=0;y<l.length;m+=l[y],++y)if(m+l[y]>f){p=[].concat(Cs(l.slice(0,y)),[f-m]);break}var g=p.length%2===0?[0,h]:[h];return[].concat(Cs(t.repeat(l,d)),Cs(p),g).map(function(v){return"".concat(v,"px")}).join(", ")}),Hr(n,"id",ao("recharts-line-")),Hr(n,"pathRef",function(o){n.mainCurve=o}),Hr(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Hr(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return qPe(t,e),LPe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,s=a.xAxis,l=a.yAxis,c=a.layout,d=a.children,f=Fn(d,pc);if(!f)return null;var h=function(m,g){return{x:m.x,y:m.y,value:m.value,errorVal:wt(m.payload,g)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return I.createElement(Be,p,f.map(function(y){return I.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,d=s.dataKey,f=we(this.props,!1),h=we(l,!0),p=c.map(function(m,g){var v=Zn(Zn(Zn({key:"dot-".concat(g),r:3},f),h),{},{index:g,cx:m.x,cy:m.y,value:m.value,dataKey:d,payload:m.payload,points:c});return t.renderDotItem(l,v)}),y={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return I.createElement(Be,vu({className:"recharts-line-dots",key:"dots"},y),p)}},{key:"renderCurveStatically",value:function(r,i,a,o){var s=this.props,l=s.type,c=s.layout,d=s.connectNulls;s.ref;var f=DD(s,PPe),h=Zn(Zn(Zn({},we(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},o),{},{type:l,layout:c,connectNulls:d});return I.createElement(Wa,vu({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,o=this.props,s=o.points,l=o.strokeDasharray,c=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,y=o.animateNewValues,m=o.width,g=o.height,v=this.state,b=v.prevPoints,x=v.totalLength;return I.createElement(ur,{begin:d,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var w=_.t;if(b){var j=b.length/s.length,k=s.map(function(N,M){var E=Math.floor(M*j);if(b[E]){var R=b[E],F=xt(R.x,N.x),z=xt(R.y,N.y);return Zn(Zn({},N),{},{x:F(w),y:z(w)})}if(y){var q=xt(m*2,N.x),L=xt(g/2,N.y);return Zn(Zn({},N),{},{x:q(w),y:L(w)})}return Zn(Zn({},N),{},{x:N.x,y:N.y})});return a.renderCurveStatically(k,r,i)}var A=xt(0,x),P=A(w),O;if(l){var T="".concat(l).split(/[,\s]+/gim).map(function(N){return parseFloat(N)});O=a.getStrokeDasharray(P,x,T)}else O=a.generateSimpleStrokeDasharray(x,P);return a.renderCurveStatically(s,r,i,{strokeDasharray:O})})}},{key:"renderCurve",value:function(r,i){var a=this.props,o=a.points,s=a.isAnimationActive,l=this.state,c=l.prevPoints,d=l.totalLength;return s&&o&&o.length&&(!c&&d>0||!aa(c,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,c=i.xAxis,d=i.yAxis,f=i.top,h=i.left,p=i.width,y=i.height,m=i.isAnimationActive,g=i.id;if(a||!s||!s.length)return null;var v=this.state.isAnimationFinished,b=s.length===1,x=Le("recharts-line",l),_=c&&c.allowDataOverflow,w=d&&d.allowDataOverflow,j=_||w,k=Re(g)?this.id:g,A=(r=we(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=A.r,O=P===void 0?3:P,T=A.strokeWidth,N=T===void 0?2:T,M=m8(o)?o:{},E=M.clipDot,R=E===void 0?!0:E,F=O*2+N;return I.createElement(Be,{className:x},_||w?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(k)},I.createElement("rect",{x:_?h:h-p/2,y:w?f:f-y/2,width:_?p:p*2,height:w?y:y*2})),!R&&I.createElement("clipPath",{id:"clipPath-dots-".concat(k)},I.createElement("rect",{x:h-F/2,y:f-F/2,width:p+F,height:y+F}))):null,!b&&this.renderCurve(j,k),this.renderErrorBar(j,k),(b||o)&&this.renderDots(j,R,k),(!m||v)&&Cr.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(Cs(r),[0]):r,o=[],s=0;s<i;++s)o=[].concat(Cs(o),Cs(a));return o}},{key:"renderDotItem",value:function(r,i){var a;if(I.isValidElement(r))a=I.cloneElement(r,i);else if(Ne(r))a=r(i);else{var o=i.key,s=DD(i,TPe),l=Le("recharts-line-dot",typeof r!="boolean"?r.className:"");a=I.createElement(mc,vu({key:o},s,{className:l}))}return a}}])})(S.PureComponent);Hr(Pr,"displayName","Line");Hr(Pr,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Mi.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Hr(Pr,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,o=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,d=t.layout,f=l.map(function(h,p){var y=wt(h,o);return d==="horizontal"?{x:wl({axis:n,ticks:i,bandSize:s,entry:h,index:p}),y:Re(y)?null:r.scale(y),value:y,payload:h}:{x:Re(y)?null:n.scale(y),y:wl({axis:r,ticks:a,bandSize:s,entry:h,index:p}),value:y,payload:h}});return Zn({points:f,layout:d},c)});var VPe=["layout","type","stroke","connectNulls","isRange","ref"],WPe=["key"],bV;function Ml(e){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ml(e)}function xV(e,t){if(e==null)return{};var n=HPe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function HPe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function zo(){return zo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zo.apply(this,arguments)}function zD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zD(Object(n),!0).forEach(function(r){yi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,SV(r.key),r)}}function KPe(e,t,n){return t&&FD(e.prototype,t),n&&FD(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function YPe(e,t,n){return t=Yp(t),XPe(e,wV()?Reflect.construct(t,n||[],Yp(e).constructor):t.apply(e,n))}function XPe(e,t){if(t&&(Ml(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QPe(e)}function QPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wV=function(){return!!e})()}function Yp(e){return Yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yp(e)}function JPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n_(e,t)}function n_(e,t){return n_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},n_(e,t)}function yi(e,t,n){return t=SV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SV(e){var t=ZPe(e,"string");return Ml(t)=="symbol"?t:t+""}function ZPe(e,t){if(Ml(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Rr=(function(e){function t(){var n;GPe(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=YPe(this,t,[].concat(i)),yi(n,"state",{isAnimationFinished:!0}),yi(n,"id",ao("recharts-area-")),yi(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ne(o)&&o()}),yi(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ne(o)&&o()}),n}return JPe(t,e),KPe(t,[{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(o&&!s)return null;var l=this.props,c=l.dot,d=l.points,f=l.dataKey,h=we(this.props,!1),p=we(c,!0),y=d.map(function(g,v){var b=xa(xa(xa({key:"dot-".concat(v),r:3},h),p),{},{index:v,cx:g.x,cy:g.y,dataKey:f,value:g.value,payload:g.payload,points:d});return t.renderDotItem(c,b)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return I.createElement(Be,zo({className:"recharts-area-dots"},m),y)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].x,c=o[o.length-1].x,d=r*Math.abs(l-c),f=Pa(o.map(function(h){return h.y||0}));return pe(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(Pa(a.map(function(h){return h.y||0})),f)),pe(f)?I.createElement("rect",{x:l<c?l:l-d,y:0,width:d,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].y,c=o[o.length-1].y,d=r*Math.abs(l-c),f=Pa(o.map(function(h){return h.x||0}));return pe(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(Pa(a.map(function(h){return h.x||0})),f)),pe(f)?I.createElement("rect",{x:0,y:l<c?l:l-d,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,o){var s=this.props,l=s.layout,c=s.type,d=s.stroke,f=s.connectNulls,h=s.isRange;s.ref;var p=xV(s,VPe);return I.createElement(Be,{clipPath:a?"url(#clipPath-".concat(o,")"):null},I.createElement(Wa,zo({},we(p,!0),{points:r,connectNulls:f,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&I.createElement(Wa,zo({},we(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:r})),d!=="none"&&h&&I.createElement(Wa,zo({},we(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,o=this.props,s=o.points,l=o.baseLine,c=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,y=this.state,m=y.prevPoints,g=y.prevBaseLine;return I.createElement(ur,{begin:d,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var b=v.t;if(m){var x=m.length/s.length,_=s.map(function(A,P){var O=Math.floor(P*x);if(m[O]){var T=m[O],N=xt(T.x,A.x),M=xt(T.y,A.y);return xa(xa({},A),{},{x:N(b),y:M(b)})}return A}),w;if(pe(l)&&typeof l=="number"){var j=xt(g,l);w=j(b)}else if(Re(l)||lc(l)){var k=xt(g,0);w=k(b)}else w=l.map(function(A,P){var O=Math.floor(P*x);if(g[O]){var T=g[O],N=xt(T.x,A.x),M=xt(T.y,A.y);return xa(xa({},A),{},{x:N(b),y:M(b)})}return A});return a.renderAreaStatically(_,w,r,i)}return I.createElement(Be,null,I.createElement("defs",null,I.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(b))),I.createElement(Be,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(s,l,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,o=a.points,s=a.baseLine,l=a.isAnimationActive,c=this.state,d=c.prevPoints,f=c.prevBaseLine,h=c.totalLength;return l&&o&&o.length&&(!d&&h>0||!aa(d,o)||!aa(f,s))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(o,s,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,c=i.top,d=i.left,f=i.xAxis,h=i.yAxis,p=i.width,y=i.height,m=i.isAnimationActive,g=i.id;if(a||!s||!s.length)return null;var v=this.state.isAnimationFinished,b=s.length===1,x=Le("recharts-area",l),_=f&&f.allowDataOverflow,w=h&&h.allowDataOverflow,j=_||w,k=Re(g)?this.id:g,A=(r=we(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=A.r,O=P===void 0?3:P,T=A.strokeWidth,N=T===void 0?2:T,M=m8(o)?o:{},E=M.clipDot,R=E===void 0?!0:E,F=O*2+N;return I.createElement(Be,{className:x},_||w?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(k)},I.createElement("rect",{x:_?d:d-p/2,y:w?c:c-y/2,width:_?p:p*2,height:w?y:y*2})),!R&&I.createElement("clipPath",{id:"clipPath-dots-".concat(k)},I.createElement("rect",{x:d-F/2,y:c-F/2,width:p+F,height:y+F}))):null,b?null:this.renderArea(j,k),(o||b)&&this.renderDots(j,R,k),(!m||v)&&Cr.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])})(S.PureComponent);bV=Rr;yi(Rr,"displayName","Area");yi(Rr,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Mi.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});yi(Rr,"getBaseValue",function(e,t,n,r){var i=e.layout,a=e.baseValue,o=t.props.baseValue,s=o??a;if(pe(s)&&typeof s=="number")return s;var l=i==="horizontal"?r:n,c=l.scale.domain();if(l.type==="number"){var d=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return s==="dataMin"?f:s==="dataMax"||d<0?d:Math.max(Math.min(c[0],c[1]),0)}return s==="dataMin"?c[0]:s==="dataMax"?c[1]:c[0]});yi(Rr,"getComposedData",function(e){var t=e.props,n=e.item,r=e.xAxis,i=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,s=e.bandSize,l=e.dataKey,c=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=t.layout,y=c&&c.length,m=bV.getBaseValue(t,n,r,i),g=p==="horizontal",v=!1,b=f.map(function(_,w){var j;y?j=c[d+w]:(j=wt(_,l),Array.isArray(j)?v=!0:j=[m,j]);var k=j[1]==null||y&&wt(_,l)==null;return g?{x:wl({axis:r,ticks:a,bandSize:s,entry:_,index:w}),y:k?null:i.scale(j[1]),value:j,payload:_}:{x:k?null:r.scale(j[1]),y:wl({axis:i,ticks:o,bandSize:s,entry:_,index:w}),value:j,payload:_}}),x;return y||v?x=b.map(function(_){var w=Array.isArray(_.value)?_.value[0]:null;return g?{x:_.x,y:w!=null&&_.y!=null?i.scale(w):null}:{x:w!=null?r.scale(w):null,y:_.y}}):x=g?i.scale(m):r.scale(m),xa({points:b,baseLine:x,layout:p,isRange:v},h)});yi(Rr,"renderDotItem",function(e,t){var n;if(I.isValidElement(e))n=I.cloneElement(e,t);else if(Ne(e))n=e(t);else{var r=Le("recharts-area-dot",typeof e!="boolean"?e.className:""),i=t.key,a=xV(t,WPe);n=I.createElement(mc,zo({},a,{key:i,className:r}))}return n});function Dl(e){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dl(e)}function eTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tTe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kV(r.key),r)}}function nTe(e,t,n){return t&&tTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rTe(e,t,n){return t=Xp(t),iTe(e,_V()?Reflect.construct(t,n||[],Xp(e).constructor):t.apply(e,n))}function iTe(e,t){if(t&&(Dl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aTe(e)}function aTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _V(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_V=function(){return!!e})()}function Xp(e){return Xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xp(e)}function oTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r_(e,t)}function r_(e,t){return r_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},r_(e,t)}function jV(e,t,n){return t=kV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kV(e){var t=sTe(e,"string");return Dl(t)=="symbol"?t:t+""}function sTe(e,t){if(Dl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Mg=(function(e){function t(){return eTe(this,t),rTe(this,t,arguments)}return oTe(t,e),nTe(t,[{key:"render",value:function(){return null}}])})(S.Component);jV(Mg,"displayName","ZAxis");jV(Mg,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var lTe=["option","isActive"];function bu(){return bu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bu.apply(this,arguments)}function cTe(e,t){if(e==null)return{};var n=uTe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function uTe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function dTe(e){var t=e.option,n=e.isActive,r=cTe(e,lTe);return typeof t=="string"?S.createElement(Ip,bu({option:S.createElement(dg,bu({type:t},r)),isActive:n,shapeType:"symbols"},r)):S.createElement(Ip,bu({option:t,isActive:n,shapeType:"symbols"},r))}function $l(e){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$l(e)}function xu(){return xu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xu.apply(this,arguments)}function BD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BD(Object(n),!0).forEach(function(r){Na(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,AV(r.key),r)}}function hTe(e,t,n){return t&&qD(e.prototype,t),n&&qD(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pTe(e,t,n){return t=Qp(t),mTe(e,EV()?Reflect.construct(t,n||[],Qp(e).constructor):t.apply(e,n))}function mTe(e,t){if(t&&($l(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gTe(e)}function gTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EV=function(){return!!e})()}function Qp(e){return Qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qp(e)}function yTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i_(e,t)}function i_(e,t){return i_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},i_(e,t)}function Na(e,t,n){return t=AV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AV(e){var t=vTe(e,"string");return $l(t)=="symbol"?t:t+""}function vTe(e,t){if($l(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if($l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Dg=(function(e){function t(){var n;fTe(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=pTe(this,t,[].concat(i)),Na(n,"state",{isAnimationFinished:!1}),Na(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),Na(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),Na(n,"id",ao("recharts-scatter-")),n}return yTe(t,e),hTe(t,[{key:"renderSymbolsStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.activeShape,l=a.activeIndex,c=we(this.props,!1);return r.map(function(d,f){var h=l===f,p=h?s:o,y=mr(mr({},c),d);return I.createElement(Be,xu({className:"recharts-scatter-symbol",key:"symbol-".concat(d?.cx,"-").concat(d?.cy,"-").concat(d?.size,"-").concat(f)},Ja(i.props,d,f),{role:"img"}),I.createElement(dTe,xu({option:p,isActive:h,key:"symbol-".concat(f)},y)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,i=this.props,a=i.points,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,d=i.animationId,f=this.state.prevPoints;return I.createElement(ur,{begin:s,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var p=h.t,y=a.map(function(m,g){var v=f&&f[g];if(v){var b=xt(v.cx,m.cx),x=xt(v.cy,m.cy),_=xt(v.size,m.size);return mr(mr({},m),{},{cx:b(p),cy:x(p),size:_(p)})}var w=xt(0,m.size);return mr(mr({},m),{},{size:w(p)})});return I.createElement(Be,null,r.renderSymbolsStatically(y))})}},{key:"renderSymbols",value:function(){var r=this.props,i=r.points,a=r.isAnimationActive,o=this.state.prevPoints;return a&&i&&i.length&&(!o||!aa(o,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var i=this.props,a=i.points,o=i.xAxis,s=i.yAxis,l=i.children,c=Fn(l,pc);return c?c.map(function(d,f){var h=d.props,p=h.direction,y=h.dataKey;return I.cloneElement(d,{key:"".concat(p,"-").concat(y,"-").concat(a[f]),data:a,xAxis:o,yAxis:s,layout:p==="x"?"vertical":"horizontal",dataPointFormatter:function(g,v){return{x:g.cx,y:g.cy,value:p==="x"?+g.node.x:+g.node.y,errorVal:wt(g,v)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,i=r.points,a=r.line,o=r.lineType,s=r.lineJointType,l=we(this.props,!1),c=we(a,!1),d,f;if(o==="joint")d=i.map(function(x){return{x:x.cx,y:x.cy}});else if(o==="fitting"){var h=Wge(i),p=h.xmin,y=h.xmax,m=h.a,g=h.b,v=function(_){return m*_+g};d=[{x:p,y:v(p)},{x:y,y:v(y)}]}var b=mr(mr(mr({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:d});return I.isValidElement(a)?f=I.cloneElement(a,b):Ne(a)?f=a(b):f=I.createElement(Wa,xu({},b,{type:s})),I.createElement(Be,{className:"recharts-scatter-line",key:"recharts-scatter-line"},f)}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.points,o=r.line,s=r.className,l=r.xAxis,c=r.yAxis,d=r.left,f=r.top,h=r.width,p=r.height,y=r.id,m=r.isAnimationActive;if(i||!a||!a.length)return null;var g=this.state.isAnimationFinished,v=Le("recharts-scatter",s),b=l&&l.allowDataOverflow,x=c&&c.allowDataOverflow,_=b||x,w=Re(y)?this.id:y;return I.createElement(Be,{className:v,clipPath:_?"url(#clipPath-".concat(w,")"):null},b||x?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(w)},I.createElement("rect",{x:b?d:d-h/2,y:x?f:f-p/2,width:b?h:h*2,height:x?p:p*2}))):null,o&&this.renderLine(),this.renderErrorBar(),I.createElement(Be,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!m||g)&&Cr.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}}])})(S.PureComponent);Na(Dg,"displayName","Scatter");Na(Dg,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Mi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});Na(Dg,"getComposedData",function(e){var t=e.xAxis,n=e.yAxis,r=e.zAxis,i=e.item,a=e.displayedData,o=e.xAxisTicks,s=e.yAxisTicks,l=e.offset,c=i.props.tooltipType,d=Fn(i.props.children,uc),f=Re(t.dataKey)?i.props.dataKey:t.dataKey,h=Re(n.dataKey)?i.props.dataKey:n.dataKey,p=r&&r.dataKey,y=r?r.range:Mg.defaultProps.range,m=y&&y[0],g=t.scale.bandwidth?t.scale.bandwidth():0,v=n.scale.bandwidth?n.scale.bandwidth():0,b=a.map(function(x,_){var w=wt(x,f),j=wt(x,h),k=!Re(p)&&wt(x,p)||"-",A=[{name:Re(t.dataKey)?i.props.name:t.name||t.dataKey,unit:t.unit||"",value:w,payload:x,dataKey:f,type:c},{name:Re(n.dataKey)?i.props.name:n.name||n.dataKey,unit:n.unit||"",value:j,payload:x,dataKey:h,type:c}];k!=="-"&&A.push({name:r.name||r.dataKey,unit:r.unit||"",value:k,payload:x,dataKey:p,type:c});var P=wl({axis:t,ticks:o,bandSize:g,entry:x,index:_,dataKey:f}),O=wl({axis:n,ticks:s,bandSize:v,entry:x,index:_,dataKey:h}),T=k!=="-"?r.scale(k):m,N=Math.sqrt(Math.max(T,0)/Math.PI);return mr(mr({},x),{},{cx:P,cy:O,x:P-N,y:O-N,xAxis:t,yAxis:n,zAxis:r,width:2*N,height:2*N,size:T,node:{x:w,y:j,z:k},tooltipPayload:A,tooltipPosition:{x:P,y:O},payload:x},d&&d[_]&&d[_].props)});return mr({points:b},l)});function Ll(e){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ll(e)}function bTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xTe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,PV(r.key),r)}}function wTe(e,t,n){return t&&xTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function STe(e,t,n){return t=Jp(t),_Te(e,OV()?Reflect.construct(t,n||[],Jp(e).constructor):t.apply(e,n))}function _Te(e,t){if(t&&(Ll(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jTe(e)}function jTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OV=function(){return!!e})()}function Jp(e){return Jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jp(e)}function kTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a_(e,t)}function a_(e,t){return a_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},a_(e,t)}function CV(e,t,n){return t=PV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PV(e){var t=ETe(e,"string");return Ll(t)=="symbol"?t:t+""}function ETe(e,t){if(Ll(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function o_(){return o_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o_.apply(this,arguments)}function ATe(e){var t=e.xAxisId,n=AE(),r=OE(),i=aV(t);return i==null?null:S.createElement(gc,o_({},i,{className:Le("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Wi(o,!0)}}))}var an=(function(e){function t(){return bTe(this,t),STe(this,t,arguments)}return kTe(t,e),wTe(t,[{key:"render",value:function(){return S.createElement(ATe,this.props)}}])})(S.Component);CV(an,"displayName","XAxis");CV(an,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function zl(e){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zl(e)}function OTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CTe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,RV(r.key),r)}}function PTe(e,t,n){return t&&CTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function TTe(e,t,n){return t=Zp(t),NTe(e,TV()?Reflect.construct(t,n||[],Zp(e).constructor):t.apply(e,n))}function NTe(e,t){if(t&&(zl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RTe(e)}function RTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TV=function(){return!!e})()}function Zp(e){return Zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zp(e)}function ITe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s_(e,t)}function s_(e,t){return s_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},s_(e,t)}function NV(e,t,n){return t=RV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RV(e){var t=MTe(e,"string");return zl(t)=="symbol"?t:t+""}function MTe(e,t){if(zl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function l_(){return l_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l_.apply(this,arguments)}var DTe=function(t){var n=t.yAxisId,r=AE(),i=OE(),a=oV(n);return a==null?null:S.createElement(gc,l_({},a,{className:Le("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Wi(s,!0)}}))},Bt=(function(e){function t(){return OTe(this,t),TTe(this,t,arguments)}return ITe(t,e),PTe(t,[{key:"render",value:function(){return S.createElement(DTe,this.props)}}])})(S.Component);NV(Bt,"displayName","YAxis");NV(Bt,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function UD(e){return FTe(e)||zTe(e)||LTe(e)||$Te()}function $Te(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LTe(e,t){if(e){if(typeof e=="string")return c_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c_(e,t)}}function zTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function FTe(e){if(Array.isArray(e))return c_(e)}function c_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u_=function(t,n,r,i,a){var o=Fn(t,PE),s=Fn(t,Ng),l=[].concat(UD(o),UD(s)),c=Fn(t,Ig),d="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(m,g){if(g.props[d]===r&&wi(g.props,"extendDomain")&&pe(g.props[f])){var v=g.props[f];return[Math.min(m[0],v),Math.max(m[1],v)]}return m},h)),c.length){var p="".concat(f,"1"),y="".concat(f,"2");h=c.reduce(function(m,g){if(g.props[d]===r&&wi(g.props,"extendDomain")&&pe(g.props[p])&&pe(g.props[y])){var v=g.props[p],b=g.props[y];return[Math.min(m[0],v,b),Math.max(m[1],v,b)]}return m},h)}return a&&a.length&&(h=a.reduce(function(m,g){return pe(g)?[Math.min(m[0],g),Math.max(m[1],g)]:m},h)),h},iw={exports:{}},VD;function BTe(){return VD||(VD=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function a(l,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||l,h),y=n?n+c:c;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],p]:l._events[y].push(p):(l._events[y]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)t.call(d,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},s.prototype.listeners=function(c){var d=n?n+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,y=new Array(p);h<p;h++)y[h]=f[h].fn;return y},s.prototype.listenerCount=function(c){var d=n?n+c:c,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,d,f,h,p,y){var m=n?n+c:c;if(!this._events[m])return!1;var g=this._events[m],v=arguments.length,b,x;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),v){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,f),!0;case 4:return g.fn.call(g.context,d,f,h),!0;case 5:return g.fn.call(g.context,d,f,h,p),!0;case 6:return g.fn.call(g.context,d,f,h,p,y),!0}for(x=1,b=new Array(v-1);x<v;x++)b[x-1]=arguments[x];g.fn.apply(g.context,b)}else{var _=g.length,w;for(x=0;x<_;x++)switch(g[x].once&&this.removeListener(c,g[x].fn,void 0,!0),v){case 1:g[x].fn.call(g[x].context);break;case 2:g[x].fn.call(g[x].context,d);break;case 3:g[x].fn.call(g[x].context,d,f);break;case 4:g[x].fn.call(g[x].context,d,f,h);break;default:if(!b)for(w=1,b=new Array(v-1);w<v;w++)b[w-1]=arguments[w];g[x].fn.apply(g[x].context,b)}}return!0},s.prototype.on=function(c,d,f){return a(this,c,d,f,!1)},s.prototype.once=function(c,d,f){return a(this,c,d,f,!0)},s.prototype.removeListener=function(c,d,f,h){var p=n?n+c:c;if(!this._events[p])return this;if(!d)return o(this,p),this;var y=this._events[p];if(y.fn)y.fn===d&&(!h||y.once)&&(!f||y.context===f)&&o(this,p);else{for(var m=0,g=[],v=y.length;m<v;m++)(y[m].fn!==d||h&&!y[m].once||f&&y[m].context!==f)&&g.push(y[m]);g.length?this._events[p]=g.length===1?g[0]:g:o(this,p)}return this},s.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(iw)),iw.exports}var qTe=BTe();const UTe=ot(qTe);var aw=new UTe,ow="recharts.syncMouseEvents";function kd(e){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kd(e)}function VTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WTe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,IV(r.key),r)}}function HTe(e,t,n){return t&&WTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sw(e,t,n){return t=IV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IV(e){var t=GTe(e,"string");return kd(t)=="symbol"?t:t+""}function GTe(e,t){if(kd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(kd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var KTe=(function(){function e(){VTe(this,e),sw(this,"activeIndex",0),sw(this,"coordinateList",[]),sw(this,"layout","horizontal")}return HTe(e,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,s=o===void 0?null:o,l=n.layout,c=l===void 0?null:l,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+l+c,h=o+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])})();function YTe(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e?.[0],i=e?.[1];if(r&&i&&pe(r)&&pe(i))return!0}return!1}function XTe(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function MV(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,a=e.endAngle,o=ht(t,n,r,i),s=ht(t,n,r,a);return{points:[o,s],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function QTe(e,t,n){var r,i,a,o;if(e==="horizontal")r=t.x,a=r,i=n.top,o=n.top+n.height;else if(e==="vertical")i=t.y,o=i,r=n.left,a=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,c=t.innerRadius,d=t.outerRadius,f=t.angle,h=ht(s,l,c,f),p=ht(s,l,d,f);r=h.x,i=h.y,a=p.x,o=p.y}else return MV(t);return[{x:r,y:i},{x:a,y:o}]}function Ed(e){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ed(e)}function WD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WD(Object(n),!0).forEach(function(r){JTe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JTe(e,t,n){return t=ZTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZTe(e){var t=eNe(e,"string");return Ed(t)=="symbol"?t:t+""}function eNe(e,t){if(Ed(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ed(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tNe(e){var t,n,r=e.element,i=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,s=e.activePayload,l=e.offset,c=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!a||!o||h!=="ScatterChart"&&i!=="axis")return null;var y,m=Wa;if(h==="ScatterChart")y=o,m=_Ee;else if(h==="BarChart")y=XTe(f,o,l,d),m=_E;else if(f==="radial"){var g=MV(o),v=g.cx,b=g.cy,x=g.radius,_=g.startAngle,w=g.endAngle;y={cx:v,cy:b,startAngle:_,endAngle:w,innerRadius:x,outerRadius:x},m=EU}else y={points:QTe(f,o,l)},m=Wa;var j=Gf(Gf(Gf(Gf({stroke:"#ccc",pointerEvents:"none"},l),y),we(p,!1)),{},{payload:s,payloadIndex:c,className:Le("recharts-tooltip-cursor",p.className)});return S.isValidElement(p)?S.cloneElement(p,j):S.createElement(m,j)}var nNe=["item"],rNe=["children","className","width","height","style","compact","title","desc"];function Fl(e){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fl(e)}function Bs(){return Bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bs.apply(this,arguments)}function HD(e,t){return oNe(e)||aNe(e,t)||$V(e,t)||iNe()}function iNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aNe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function oNe(e){if(Array.isArray(e))return e}function GD(e,t){if(e==null)return{};var n=sNe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function sNe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function lNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cNe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,LV(r.key),r)}}function uNe(e,t,n){return t&&cNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dNe(e,t,n){return t=em(t),fNe(e,DV()?Reflect.construct(t,n||[],em(e).constructor):t.apply(e,n))}function fNe(e,t){if(t&&(Fl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hNe(e)}function hNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DV=function(){return!!e})()}function em(e){return em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},em(e)}function pNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d_(e,t)}function d_(e,t){return d_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},d_(e,t)}function Bl(e){return yNe(e)||gNe(e)||$V(e)||mNe()}function mNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $V(e,t){if(e){if(typeof e=="string")return f_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f_(e,t)}}function gNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yNe(e){if(Array.isArray(e))return f_(e)}function f_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function KD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KD(Object(n),!0).forEach(function(r){De(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function De(e,t,n){return t=LV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LV(e){var t=vNe(e,"string");return Fl(t)=="symbol"?t:t+""}function vNe(e,t){if(Fl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bNe={xAxis:["bottom","top"],yAxis:["left","right"]},xNe={width:"100%",height:"100%"},zV={x:0,y:0};function Kf(e){return e}var wNe=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},SNe=function(t,n,r,i){var a=n.find(function(d){return d&&d.index===r});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,s=i.radius;return se(se(se({},i),ht(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,c=i.angle;return se(se(se({},i),ht(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return zV},$g=function(t,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(Bl(s),Bl(c)):s},[]);return o.length>0?o:t&&t.length&&pe(i)&&pe(a)?t.slice(i,a+1):[]};function FV(e){return e==="number"?[0,"auto"]:void 0}var h_=function(t,n,r,i){var a=t.graphicalItems,o=t.tooltipAxis,s=$g(n,t);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(l,c){var d,f=(d=c.props.data)!==null&&d!==void 0?d:n;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?s:f;h=Qh(p,o.dataKey,i)}else h=f&&f[r]||s[r];return h?[].concat(Bl(l),[vU(c,h)]):l},[])},YD=function(t,n,r,i){var a=i||{x:t.chartX,y:t.chartY},o=wNe(a,r),s=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,d=QSe(o,s,c,l);if(d>=0&&c){var f=c[d]&&c[d].value,h=h_(t,n,d,f),p=SNe(r,s,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},_Ne=function(t,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=fU(d,a);return r.reduce(function(y,m){var g,v=m.type.defaultProps!==void 0?se(se({},m.type.defaultProps),m.props):m.props,b=v.type,x=v.dataKey,_=v.allowDataOverflow,w=v.allowDuplicatedCategory,j=v.scale,k=v.ticks,A=v.includeHidden,P=v[o];if(y[P])return y;var O=$g(t.data,{graphicalItems:i.filter(function(B){var $,Q=o in B.props?B.props[o]:($=B.type.defaultProps)===null||$===void 0?void 0:$[o];return Q===P}),dataStartIndex:l,dataEndIndex:c}),T=O.length,N,M,E;YTe(v.domain,_,b)&&(N=_S(v.domain,null,_),p&&(b==="number"||j!=="auto")&&(E=pu(O,x,"category")));var R=FV(b);if(!N||N.length===0){var F,z=(F=v.domain)!==null&&F!==void 0?F:R;if(x){if(N=pu(O,x,b),b==="category"&&p){var q=Vge(N);w&&q?(M=N,N=Lp(0,T)):w||(N=zI(z,N,m).reduce(function(B,$){return B.indexOf($)>=0?B:[].concat(Bl(B),[$])},[]))}else if(b==="category")w?N=N.filter(function(B){return B!==""&&!Re(B)}):N=zI(z,N,m).reduce(function(B,$){return B.indexOf($)>=0||$===""||Re($)?B:[].concat(Bl(B),[$])},[]);else if(b==="number"){var L=n_e(O,i.filter(function(B){var $,Q,Z=o in B.props?B.props[o]:($=B.type.defaultProps)===null||$===void 0?void 0:$[o],fe="hide"in B.props?B.props.hide:(Q=B.type.defaultProps)===null||Q===void 0?void 0:Q.hide;return Z===P&&(A||!fe)}),x,a,d);L&&(N=L)}p&&(b==="number"||j!=="auto")&&(E=pu(O,x,"category"))}else p?N=Lp(0,T):s&&s[P]&&s[P].hasStack&&b==="number"?N=h==="expand"?[0,1]:yU(s[P].stackGroups,l,c):N=dU(O,i.filter(function(B){var $=o in B.props?B.props[o]:B.type.defaultProps[o],Q="hide"in B.props?B.props.hide:B.type.defaultProps.hide;return $===P&&(A||!Q)}),b,d,!0);if(b==="number")N=u_(f,N,P,a,k),z&&(N=_S(z,N,_));else if(b==="category"&&z){var D=z,W=N.every(function(B){return D.indexOf(B)>=0});W&&(N=D)}}return se(se({},y),{},De({},P,se(se({},v),{},{axisType:a,domain:N,categoricalDomain:E,duplicateDomain:M,originalDomain:(g=v.domain)!==null&&g!==void 0?g:R,isCategorical:p,layout:d})))},{})},jNe=function(t,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=t.layout,f=t.children,h=$g(t.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),p=h.length,y=fU(d,a),m=-1;return r.reduce(function(g,v){var b=v.type.defaultProps!==void 0?se(se({},v.type.defaultProps),v.props):v.props,x=b[o],_=FV("number");if(!g[x]){m++;var w;return y?w=Lp(0,p):s&&s[x]&&s[x].hasStack?(w=yU(s[x].stackGroups,l,c),w=u_(f,w,x,a)):(w=_S(_,dU(h,r.filter(function(j){var k,A,P=o in j.props?j.props[o]:(k=j.type.defaultProps)===null||k===void 0?void 0:k[o],O="hide"in j.props?j.props.hide:(A=j.type.defaultProps)===null||A===void 0?void 0:A.hide;return P===x&&!O}),"number",d),i.defaultProps.allowDataOverflow),w=u_(f,w,x,a)),se(se({},g),{},De({},x,se(se({axisType:a},i.defaultProps),{},{hide:!0,orientation:cr(bNe,"".concat(a,".").concat(m%2),null),domain:w,originalDomain:_,isCategorical:y,layout:d})))}return g},{})},kNe=function(t,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=t.children,f="".concat(i,"Id"),h=Fn(d,a),p={};return h&&h.length?p=_Ne(t,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):o&&o.length&&(p=jNe(t,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),p},ENe=function(t){var n=Oa(t),r=Wi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:Xk(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Sp(n,r)}},XD=function(t){var n=t.children,r=t.defaultShowTooltip,i=tr(n,Ol),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},ANe=function(t){return!t||!t.length?!1:t.some(function(n){var r=Xi(n&&n.type);return r&&r.indexOf("Bar")>=0})},QD=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},ONe=function(t,n){var r=t.props,i=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,s=t.yAxisMap,l=s===void 0?{}:s,c=r.width,d=r.height,f=r.children,h=r.margin||{},p=tr(f,Ol),y=tr(f,or),m=Object.keys(l).reduce(function(w,j){var k=l[j],A=k.orientation;return!k.mirror&&!k.hide?se(se({},w),{},De({},A,w[A]+k.width)):w},{left:h.left||0,right:h.right||0}),g=Object.keys(o).reduce(function(w,j){var k=o[j],A=k.orientation;return!k.mirror&&!k.hide?se(se({},w),{},De({},A,cr(w,"".concat(A))+k.height)):w},{top:h.top||0,bottom:h.bottom||0}),v=se(se({},g),m),b=v.bottom;p&&(v.bottom+=p.props.height||Ol.defaultProps.height),y&&n&&(v=e_e(v,i,r,n));var x=c-v.left-v.right,_=d-v.top-v.bottom;return se(se({brushBottom:b},v),{},{width:Math.max(x,0),height:Math.max(_,0)})},CNe=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},yc=function(t){var n=t.chartName,r=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,o=t.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=t.axisComponents,c=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(v,b){var x=b.graphicalItems,_=b.stackGroups,w=b.offset,j=b.updateId,k=b.dataStartIndex,A=b.dataEndIndex,P=v.barSize,O=v.layout,T=v.barGap,N=v.barCategoryGap,M=v.maxBarSize,E=QD(O),R=E.numericAxisName,F=E.cateAxisName,z=ANe(x),q=[];return x.forEach(function(L,D){var W=$g(v.data,{graphicalItems:[L],dataStartIndex:k,dataEndIndex:A}),B=L.type.defaultProps!==void 0?se(se({},L.type.defaultProps),L.props):L.props,$=B.dataKey,Q=B.maxBarSize,Z=B["".concat(R,"Id")],fe=B["".concat(F,"Id")],le={},ue=l.reduce(function(ne,X){var de=b["".concat(X.axisType,"Map")],ve=B["".concat(X.axisType,"Id")];de&&de[ve]||X.axisType==="zAxis"||rs();var he=de[ve];return se(se({},ne),{},De(De({},X.axisType,he),"".concat(X.axisType,"Ticks"),Wi(he)))},le),ee=ue[F],te=ue["".concat(F,"Ticks")],ce=_&&_[Z]&&_[Z].hasStack&&d_e(L,_[Z].stackGroups),J=Xi(L.type).indexOf("Bar")>=0,re=Sp(ee,te),C=[],G=z&&JSe({barSize:P,stackGroups:_,totalSize:CNe(ue,F)});if(J){var H,V,U=Re(Q)?M:Q,K=(H=(V=Sp(ee,te,!0))!==null&&V!==void 0?V:U)!==null&&H!==void 0?H:0;C=ZSe({barGap:T,barCategoryGap:N,bandSize:K!==re?K:re,sizeList:G[fe],maxBarSize:U}),K!==re&&(C=C.map(function(ne){return se(se({},ne),{},{position:se(se({},ne.position),{},{offset:ne.position.offset-K/2})})}))}var ie=L&&L.type&&L.type.getComposedData;ie&&q.push({props:se(se({},ie(se(se({},ue),{},{displayedData:W,props:v,dataKey:$,item:L,bandSize:re,barPosition:C,offset:w,stackedData:ce,layout:O,dataStartIndex:k,dataEndIndex:A}))),{},De(De(De({key:L.key||"item-".concat(D)},R,ue[R]),F,ue[F]),"animationId",j)),childIndex:rye(L,v.children),item:L})}),q},p=function(v,b){var x=v.props,_=v.dataStartIndex,w=v.dataEndIndex,j=v.updateId;if(!eN({props:x}))return null;var k=x.children,A=x.layout,P=x.stackOffset,O=x.data,T=x.reverseStackOrder,N=QD(A),M=N.numericAxisName,E=N.cateAxisName,R=Fn(k,r),F=c_e(O,R,"".concat(M,"Id"),"".concat(E,"Id"),P,T),z=l.reduce(function(B,$){var Q="".concat($.axisType,"Map");return se(se({},B),{},De({},Q,kNe(x,se(se({},$),{},{graphicalItems:R,stackGroups:$.axisType===M&&F,dataStartIndex:_,dataEndIndex:w}))))},{}),q=ONe(se(se({},z),{},{props:x,graphicalItems:R}),b?.legendBBox);Object.keys(z).forEach(function(B){z[B]=d(x,z[B],q,B.replace("Map",""),n)});var L=z["".concat(E,"Map")],D=ENe(L),W=h(x,se(se({},z),{},{dataStartIndex:_,dataEndIndex:w,updateId:j,graphicalItems:R,stackGroups:F,offset:q}));return se(se({formattedGraphicalItems:W,graphicalItems:R,offset:q,stackGroups:F},D),z)},y=(function(g){function v(b){var x,_,w;return lNe(this,v),w=dNe(this,v,[b]),De(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),De(w,"accessibilityManager",new KTe),De(w,"handleLegendBBoxUpdate",function(j){if(j){var k=w.state,A=k.dataStartIndex,P=k.dataEndIndex,O=k.updateId;w.setState(se({legendBBox:j},p({props:w.props,dataStartIndex:A,dataEndIndex:P,updateId:O},se(se({},w.state),{},{legendBBox:j}))))}}),De(w,"handleReceiveSyncEvent",function(j,k,A){if(w.props.syncId===j){if(A===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(k)}}),De(w,"handleBrushChange",function(j){var k=j.startIndex,A=j.endIndex;if(k!==w.state.dataStartIndex||A!==w.state.dataEndIndex){var P=w.state.updateId;w.setState(function(){return se({dataStartIndex:k,dataEndIndex:A},p({props:w.props,dataStartIndex:k,dataEndIndex:A,updateId:P},w.state))}),w.triggerSyncEvent({dataStartIndex:k,dataEndIndex:A})}}),De(w,"handleMouseEnter",function(j){var k=w.getMouseInfo(j);if(k){var A=se(se({},k),{},{isTooltipActive:!0});w.setState(A),w.triggerSyncEvent(A);var P=w.props.onMouseEnter;Ne(P)&&P(A,j)}}),De(w,"triggeredAfterMouseMove",function(j){var k=w.getMouseInfo(j),A=k?se(se({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(A),w.triggerSyncEvent(A);var P=w.props.onMouseMove;Ne(P)&&P(A,j)}),De(w,"handleItemMouseEnter",function(j){w.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),De(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),De(w,"handleMouseMove",function(j){j.persist(),w.throttleTriggeredAfterMouseMove(j)}),De(w,"handleMouseLeave",function(j){w.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};w.setState(k),w.triggerSyncEvent(k);var A=w.props.onMouseLeave;Ne(A)&&A(k,j)}),De(w,"handleOuterEvent",function(j){var k=nye(j),A=cr(w.props,"".concat(k));if(k&&Ne(A)){var P,O;/.*touch.*/i.test(k)?O=w.getMouseInfo(j.changedTouches[0]):O=w.getMouseInfo(j),A((P=O)!==null&&P!==void 0?P:{},j)}}),De(w,"handleClick",function(j){var k=w.getMouseInfo(j);if(k){var A=se(se({},k),{},{isTooltipActive:!0});w.setState(A),w.triggerSyncEvent(A);var P=w.props.onClick;Ne(P)&&P(A,j)}}),De(w,"handleMouseDown",function(j){var k=w.props.onMouseDown;if(Ne(k)){var A=w.getMouseInfo(j);k(A,j)}}),De(w,"handleMouseUp",function(j){var k=w.props.onMouseUp;if(Ne(k)){var A=w.getMouseInfo(j);k(A,j)}}),De(w,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),De(w,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&w.handleMouseDown(j.changedTouches[0])}),De(w,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&w.handleMouseUp(j.changedTouches[0])}),De(w,"handleDoubleClick",function(j){var k=w.props.onDoubleClick;if(Ne(k)){var A=w.getMouseInfo(j);k(A,j)}}),De(w,"handleContextMenu",function(j){var k=w.props.onContextMenu;if(Ne(k)){var A=w.getMouseInfo(j);k(A,j)}}),De(w,"triggerSyncEvent",function(j){w.props.syncId!==void 0&&aw.emit(ow,w.props.syncId,j,w.eventEmitterSymbol)}),De(w,"applySyncEvent",function(j){var k=w.props,A=k.layout,P=k.syncMethod,O=w.state.updateId,T=j.dataStartIndex,N=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)w.setState(se({dataStartIndex:T,dataEndIndex:N},p({props:w.props,dataStartIndex:T,dataEndIndex:N,updateId:O},w.state)));else if(j.activeTooltipIndex!==void 0){var M=j.chartX,E=j.chartY,R=j.activeTooltipIndex,F=w.state,z=F.offset,q=F.tooltipTicks;if(!z)return;if(typeof P=="function")R=P(q,j);else if(P==="value"){R=-1;for(var L=0;L<q.length;L++)if(q[L].value===j.activeLabel){R=L;break}}var D=se(se({},z),{},{x:z.left,y:z.top}),W=Math.min(M,D.x+D.width),B=Math.min(E,D.y+D.height),$=q[R]&&q[R].value,Q=h_(w.state,w.props.data,R),Z=q[R]?{x:A==="horizontal"?q[R].coordinate:W,y:A==="horizontal"?B:q[R].coordinate}:zV;w.setState(se(se({},j),{},{activeLabel:$,activeCoordinate:Z,activePayload:Q,activeTooltipIndex:R}))}else w.setState(j)}),De(w,"renderCursor",function(j){var k,A=w.state,P=A.isTooltipActive,O=A.activeCoordinate,T=A.activePayload,N=A.offset,M=A.activeTooltipIndex,E=A.tooltipAxisBandSize,R=w.getTooltipEventType(),F=(k=j.props.active)!==null&&k!==void 0?k:P,z=w.props.layout,q=j.key||"_recharts-cursor";return I.createElement(tNe,{key:q,activeCoordinate:O,activePayload:T,activeTooltipIndex:M,chartName:n,element:j,isActive:F,layout:z,offset:N,tooltipAxisBandSize:E,tooltipEventType:R})}),De(w,"renderPolarAxis",function(j,k,A){var P=cr(j,"type.axisType"),O=cr(w.state,"".concat(P,"Map")),T=j.type.defaultProps,N=T!==void 0?se(se({},T),j.props):j.props,M=O&&O[N["".concat(P,"Id")]];return S.cloneElement(j,se(se({},M),{},{className:Le(P,M.className),key:j.key||"".concat(k,"-").concat(A),ticks:Wi(M,!0)}))}),De(w,"renderPolarGrid",function(j){var k=j.props,A=k.radialLines,P=k.polarAngles,O=k.polarRadius,T=w.state,N=T.radiusAxisMap,M=T.angleAxisMap,E=Oa(N),R=Oa(M),F=R.cx,z=R.cy,q=R.innerRadius,L=R.outerRadius;return S.cloneElement(j,{polarAngles:Array.isArray(P)?P:Wi(R,!0).map(function(D){return D.coordinate}),polarRadius:Array.isArray(O)?O:Wi(E,!0).map(function(D){return D.coordinate}),cx:F,cy:z,innerRadius:q,outerRadius:L,key:j.key||"polar-grid",radialLines:A})}),De(w,"renderLegend",function(){var j=w.state.formattedGraphicalItems,k=w.props,A=k.children,P=k.width,O=k.height,T=w.props.margin||{},N=P-(T.left||0)-(T.right||0),M=cU({children:A,formattedGraphicalItems:j,legendWidth:N,legendContent:c});if(!M)return null;var E=M.item,R=GD(M,nNe);return S.cloneElement(E,se(se({},R),{},{chartWidth:P,chartHeight:O,margin:T,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),De(w,"renderTooltip",function(){var j,k=w.props,A=k.children,P=k.accessibilityLayer,O=tr(A,Ot);if(!O)return null;var T=w.state,N=T.isTooltipActive,M=T.activeCoordinate,E=T.activePayload,R=T.activeLabel,F=T.offset,z=(j=O.props.active)!==null&&j!==void 0?j:N;return S.cloneElement(O,{viewBox:se(se({},F),{},{x:F.left,y:F.top}),active:z,label:R,payload:z?E:[],coordinate:M,accessibilityLayer:P})}),De(w,"renderBrush",function(j){var k=w.props,A=k.margin,P=k.data,O=w.state,T=O.offset,N=O.dataStartIndex,M=O.dataEndIndex,E=O.updateId;return S.cloneElement(j,{key:j.key||"_recharts-brush",onChange:Uf(w.handleBrushChange,j.props.onChange),data:P,x:pe(j.props.x)?j.props.x:T.left,y:pe(j.props.y)?j.props.y:T.top+T.height+T.brushBottom-(A.bottom||0),width:pe(j.props.width)?j.props.width:T.width,startIndex:N,endIndex:M,updateId:"brush-".concat(E)})}),De(w,"renderReferenceElement",function(j,k,A){if(!j)return null;var P=w,O=P.clipPathId,T=w.state,N=T.xAxisMap,M=T.yAxisMap,E=T.offset,R=j.type.defaultProps||{},F=j.props,z=F.xAxisId,q=z===void 0?R.xAxisId:z,L=F.yAxisId,D=L===void 0?R.yAxisId:L;return S.cloneElement(j,{key:j.key||"".concat(k,"-").concat(A),xAxis:N[q],yAxis:M[D],viewBox:{x:E.left,y:E.top,width:E.width,height:E.height},clipPathId:O})}),De(w,"renderActivePoints",function(j){var k=j.item,A=j.activePoint,P=j.basePoint,O=j.childIndex,T=j.isRange,N=[],M=k.props.key,E=k.item.type.defaultProps!==void 0?se(se({},k.item.type.defaultProps),k.item.props):k.item.props,R=E.activeDot,F=E.dataKey,z=se(se({index:O,dataKey:F,cx:A.x,cy:A.y,r:4,fill:SE(k.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},we(R,!1)),Jh(R));return N.push(v.renderActiveDot(R,z,"".concat(M,"-activePoint-").concat(O))),P?N.push(v.renderActiveDot(R,se(se({},z),{},{cx:P.x,cy:P.y}),"".concat(M,"-basePoint-").concat(O))):T&&N.push(null),N}),De(w,"renderGraphicChild",function(j,k,A){var P=w.filterFormatItem(j,k,A);if(!P)return null;var O=w.getTooltipEventType(),T=w.state,N=T.isTooltipActive,M=T.tooltipAxis,E=T.activeTooltipIndex,R=T.activeLabel,F=w.props.children,z=tr(F,Ot),q=P.props,L=q.points,D=q.isRange,W=q.baseLine,B=P.item.type.defaultProps!==void 0?se(se({},P.item.type.defaultProps),P.item.props):P.item.props,$=B.activeDot,Q=B.hide,Z=B.activeBar,fe=B.activeShape,le=!!(!Q&&N&&z&&($||Z||fe)),ue={};O!=="axis"&&z&&z.props.trigger==="click"?ue={onClick:Uf(w.handleItemMouseEnter,j.props.onClick)}:O!=="axis"&&(ue={onMouseLeave:Uf(w.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:Uf(w.handleItemMouseEnter,j.props.onMouseEnter)});var ee=S.cloneElement(j,se(se({},P.props),ue));function te(X){return typeof M.dataKey=="function"?M.dataKey(X.payload):null}if(le)if(E>=0){var ce,J;if(M.dataKey&&!M.allowDuplicatedCategory){var re=typeof M.dataKey=="function"?te:"payload.".concat(M.dataKey.toString());ce=Qh(L,re,R),J=D&&W&&Qh(W,re,R)}else ce=L?.[E],J=D&&W&&W[E];if(fe||Z){var C=j.props.activeIndex!==void 0?j.props.activeIndex:E;return[S.cloneElement(j,se(se(se({},P.props),ue),{},{activeIndex:C})),null,null]}if(!Re(ce))return[ee].concat(Bl(w.renderActivePoints({item:P,activePoint:ce,basePoint:J,childIndex:E,isRange:D})))}else{var G,H=(G=w.getItemByXY(w.state.activeCoordinate))!==null&&G!==void 0?G:{graphicalItem:ee},V=H.graphicalItem,U=V.item,K=U===void 0?j:U,ie=V.childIndex,ne=se(se(se({},P.props),ue),{},{activeIndex:ie});return[S.cloneElement(K,ne),null,null]}return D?[ee,null,null]:[ee,null]}),De(w,"renderCustomized",function(j,k,A){return S.cloneElement(j,se(se({key:"recharts-customized-".concat(A)},w.props),w.state))}),De(w,"renderMap",{CartesianGrid:{handler:Kf,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Kf},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Kf},YAxis:{handler:Kf},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((x=b.id)!==null&&x!==void 0?x:ao("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=lq(w.triggeredAfterMouseMove,(_=b.throttleDelay)!==null&&_!==void 0?_:1e3/60),w.state={},w}return pNe(v,g),uNe(v,[{key:"componentDidMount",value:function(){var x,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,_=x.children,w=x.data,j=x.height,k=x.layout,A=tr(_,Ot);if(A){var P=A.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,T=h_(this.state,w,P,O),N=this.state.tooltipTicks[P].coordinate,M=(this.state.offset.top+j)/2,E=k==="horizontal",R=E?{x:N,y:M}:{y:N,x:M},F=this.state.formattedGraphicalItems.find(function(q){var L=q.item;return L.type.name==="Scatter"});F&&(R=se(se({},R),F.props.points[P].tooltipPosition),T=F.props.points[P].tooltipPayload);var z={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:O,activePayload:T,activeCoordinate:R};this.setState(z),this.renderCursor(A),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var w,j;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(x){W1([tr(x.children,Ot)],[tr(this.props.children,Ot)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=tr(this.props.children,Ot);if(x&&typeof x.props.shared=="boolean"){var _=x.props.shared?"axis":"item";return s.indexOf(_)>=0?_:a}return a}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var _=this.container,w=_.getBoundingClientRect(),j=U0e(w),k={chartX:Math.round(x.pageX-j.left),chartY:Math.round(x.pageY-j.top)},A=w.width/_.offsetWidth||1,P=this.inRange(k.chartX,k.chartY,A);if(!P)return null;var O=this.state,T=O.xAxisMap,N=O.yAxisMap,M=this.getTooltipEventType(),E=YD(this.state,this.props.data,this.props.layout,P);if(M!=="axis"&&T&&N){var R=Oa(T).scale,F=Oa(N).scale,z=R&&R.invert?R.invert(k.chartX):null,q=F&&F.invert?F.invert(k.chartY):null;return se(se({},k),{},{xValue:z,yValue:q},E)}return E?se(se({},k),E):null}},{key:"inRange",value:function(x,_){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,k=x/w,A=_/w;if(j==="horizontal"||j==="vertical"){var P=this.state.offset,O=k>=P.left&&k<=P.left+P.width&&A>=P.top&&A<=P.top+P.height;return O?{x:k,y:A}:null}var T=this.state,N=T.angleAxisMap,M=T.radiusAxisMap;if(N&&M){var E=Oa(N);return qI({x:k,y:A},E)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,_=this.getTooltipEventType(),w=tr(x,Ot),j={};w&&_==="axis"&&(w.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=Jh(this.props,this.handleOuterEvent);return se(se({},k),j)}},{key:"addListener",value:function(){aw.on(ow,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){aw.removeListener(ow,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,_,w){for(var j=this.state.formattedGraphicalItems,k=0,A=j.length;k<A;k++){var P=j[k];if(P.item===x||P.props.key===x.key||_===Xi(P.item.type)&&w===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,_=this.state.offset,w=_.left,j=_.top,k=_.height,A=_.width;return I.createElement("defs",null,I.createElement("clipPath",{id:x},I.createElement("rect",{x:w,y:j,height:k,width:A})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(_,w){var j=HD(w,2),k=j[0],A=j[1];return se(se({},_),{},De({},k,A.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(_,w){var j=HD(w,2),k=j[0],A=j[1];return se(se({},_),{},De({},k,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[x])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(x){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[x])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(x){var _=this.state,w=_.formattedGraphicalItems,j=_.activeItem;if(w&&w.length)for(var k=0,A=w.length;k<A;k++){var P=w[k],O=P.props,T=P.item,N=T.type.defaultProps!==void 0?se(se({},T.type.defaultProps),T.props):T.props,M=Xi(T.type);if(M==="Bar"){var E=(O.data||[]).find(function(q){return iEe(x,q)});if(E)return{graphicalItem:P,payload:E}}else if(M==="RadialBar"){var R=(O.data||[]).find(function(q){return qI(x,q)});if(R)return{graphicalItem:P,payload:R}}else if(Ag(P,j)||Og(P,j)||xd(P,j)){var F=$Ae({graphicalItem:P,activeTooltipItem:j,itemData:N.data}),z=N.activeIndex===void 0?F:N.activeIndex;return{graphicalItem:se(se({},P),{},{childIndex:z}),payload:xd(P,j)?N.data[F]:P.props.data[F]}}}return null}},{key:"render",value:function(){var x=this;if(!eN(this))return null;var _=this.props,w=_.children,j=_.className,k=_.width,A=_.height,P=_.style,O=_.compact,T=_.title,N=_.desc,M=GD(_,rNe),E=we(M,!1);if(O)return I.createElement(_D,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement(G1,Bs({},E,{width:k,height:A,title:T,desc:N}),this.renderClipPath(),nN(w,this.renderMap)));if(this.props.accessibilityLayer){var R,F;E.tabIndex=(R=this.props.tabIndex)!==null&&R!==void 0?R:0,E.role=(F=this.props.role)!==null&&F!==void 0?F:"application",E.onKeyDown=function(q){x.accessibilityManager.keyboardEvent(q)},E.onFocus=function(){x.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return I.createElement(_D,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement("div",Bs({className:Le("recharts-wrapper",j),style:se({position:"relative",cursor:"default",width:k,height:A},P)},z,{ref:function(L){x.container=L}}),I.createElement(G1,Bs({},E,{width:k,height:A,title:T,desc:N,style:xNe}),this.renderClipPath(),nN(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(S.Component);De(y,"displayName",n),De(y,"defaultProps",se({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),De(y,"getDerivedStateFromProps",function(g,v){var b=g.dataKey,x=g.data,_=g.children,w=g.width,j=g.height,k=g.layout,A=g.stackOffset,P=g.margin,O=v.dataStartIndex,T=v.dataEndIndex;if(v.updateId===void 0){var N=XD(g);return se(se(se({},N),{},{updateId:0},p(se(se({props:g},N),{},{updateId:0}),v)),{},{prevDataKey:b,prevData:x,prevWidth:w,prevHeight:j,prevLayout:k,prevStackOffset:A,prevMargin:P,prevChildren:_})}if(b!==v.prevDataKey||x!==v.prevData||w!==v.prevWidth||j!==v.prevHeight||k!==v.prevLayout||A!==v.prevStackOffset||!Zs(P,v.prevMargin)){var M=XD(g),E={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},R=se(se({},YD(v,x,k)),{},{updateId:v.updateId+1}),F=se(se(se({},M),E),R);return se(se(se({},F),p(se({props:g},F),v)),{},{prevDataKey:b,prevData:x,prevWidth:w,prevHeight:j,prevLayout:k,prevStackOffset:A,prevMargin:P,prevChildren:_})}if(!W1(_,v.prevChildren)){var z,q,L,D,W=tr(_,Ol),B=W&&(z=(q=W.props)===null||q===void 0?void 0:q.startIndex)!==null&&z!==void 0?z:O,$=W&&(L=(D=W.props)===null||D===void 0?void 0:D.endIndex)!==null&&L!==void 0?L:T,Q=B!==O||$!==T,Z=!Re(x),fe=Z&&!Q?v.updateId:v.updateId+1;return se(se({updateId:fe},p(se(se({props:g},v),{},{updateId:fe,dataStartIndex:B,dataEndIndex:$}),v)),{},{prevChildren:_,dataStartIndex:B,dataEndIndex:$})}return null}),De(y,"renderActiveDot",function(g,v,b){var x;return S.isValidElement(g)?x=S.cloneElement(g,v):Ne(g)?x=g(v):x=I.createElement(mc,v),I.createElement(Be,{className:"recharts-active-dot",key:b},x)});var m=S.forwardRef(function(v,b){return I.createElement(y,Bs({},v,{ref:b}))});return m.displayName=y.displayName,m},PNe=yc({chartName:"LineChart",GraphicalChild:Pr,axisComponents:[{axisType:"xAxis",AxisComp:an},{axisType:"yAxis",AxisComp:Bt}],formatAxisMap:Pg}),Qc=yc({chartName:"BarChart",GraphicalChild:Ft,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:an},{axisType:"yAxis",AxisComp:Bt}],formatAxisMap:Pg}),TNe=yc({chartName:"PieChart",GraphicalChild:pa,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Za},{axisType:"radiusAxis",AxisComp:is}],formatAxisMap:wU,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),p_=yc({chartName:"RadarChart",GraphicalChild:as,axisComponents:[{axisType:"angleAxis",AxisComp:Za},{axisType:"radiusAxis",AxisComp:is}],formatAxisMap:wU,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),BV=yc({chartName:"AreaChart",GraphicalChild:Rr,axisComponents:[{axisType:"xAxis",AxisComp:an},{axisType:"yAxis",AxisComp:Bt}],formatAxisMap:Pg}),Ad=yc({chartName:"ComposedChart",GraphicalChild:[Pr,Rr,Ft,Dg],axisComponents:[{axisType:"xAxis",AxisComp:an},{axisType:"yAxis",AxisComp:Bt},{axisType:"zAxis",AxisComp:Mg}],formatAxisMap:Pg});function NNe({data:e}){return u.jsx(xn,{width:"100%",height:"100%",children:u.jsxs(BV,{data:e,children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"colorOverall",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:"hsl(var(--primary))",stopOpacity:.3}),u.jsx("stop",{offset:"95%",stopColor:"hsl(var(--primary))",stopOpacity:0})]})}),u.jsx(an,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"},dy:10,interval:"preserveStartEnd"}),u.jsx(Bt,{hide:!0,domain:[0,100]}),u.jsx(Ot,{contentStyle:{backgroundColor:"hsl(var(--card))",borderRadius:"12px",border:"1px solid hsl(var(--border))",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}}),u.jsx(Rr,{type:"monotone",dataKey:"overall",stroke:"hsl(var(--primary))",strokeWidth:3,fillOpacity:1,fill:"url(#colorOverall)"})]})})}function RNe({stats:e}){const t=e.map(n=>({subject:n.title,A:n.completionRate,fullMark:100}));return e.length<3?u.jsx("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-xl h-[300px] flex items-center justify-center text-center",children:u.jsxs("p",{className:"text-muted-foreground text-sm",children:["Add at least 3 habits ",u.jsx("br",{})," to unlock Radar view."]})}):u.jsx("div",{className:"w-full h-full min-h-0",children:u.jsx(xn,{width:"100%",height:"100%",children:u.jsxs(p_,{cx:"50%",cy:"50%",outerRadius:"70%",data:t,children:[u.jsx(Cp,{stroke:"hsl(var(--border))"}),u.jsx(Za,{dataKey:"subject",tick:{fill:"hsl(var(--muted-foreground))",fontSize:10}}),u.jsx(as,{name:"Completion",dataKey:"A",stroke:"hsl(var(--primary))",strokeWidth:2,fill:"hsl(var(--primary))",fillOpacity:.4})]})})})}function INe({data:e}){const t=Math.max(...e.map(r=>r.rate)),n=({active:r,payload:i,label:a})=>r&&i&&i.length?u.jsxs("div",{className:"bg-background/95 backdrop-blur text-xs p-2 rounded-lg border border-border shadow-xl",children:[u.jsx("p",{className:"font-semibold mb-1",children:a}),u.jsxs("p",{className:"text-primary space-x-2",children:[u.jsx("span",{children:"Success Rate:"}),u.jsxs("span",{className:"font-mono font-bold",children:[i[0].value,"%"]})]})]}):null;return u.jsx("div",{className:"w-full h-full min-h-[200px]",children:u.jsx(xn,{width:"100%",height:"100%",children:u.jsxs(Qc,{data:e,margin:{top:10,right:0,left:0,bottom:0},children:[u.jsx(an,{dataKey:"dayName",axisLine:!1,tickLine:!1,tick:{fill:"hsl(var(--muted-foreground))",fontSize:10},tickFormatter:r=>r.slice(0,3).toUpperCase(),dy:10}),u.jsx(Bt,{hide:!0,domain:[0,100]}),u.jsx(Ot,{content:u.jsx(n,{}),cursor:{fill:"hsl(var(--muted)/0.2)"}}),u.jsx(Ft,{dataKey:"rate",radius:[4,4,0,0],maxBarSize:40,children:e.map((r,i)=>u.jsx(uc,{fill:r.rate===t&&r.rate>0?"hsl(var(--primary))":"hsl(var(--primary)/0.3)",className:"transition-all duration-300 hover:opacity-80"},`cell-${i}`))})]})})})}function MNe({comparisons:e,goals:t}){const[n,r]=S.useState("month");return u.jsxs("div",{className:"glass-panel rounded-3xl p-6 animate-fade-in",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-display font-semibold flex items-center gap-2",children:[u.jsx(An,{className:"w-5 h-5 text-primary"}),"Confronto Temporale"]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Analizza come stai andando rispetto al passato."})]}),u.jsx(Js,{value:n,onValueChange:i=>r(i),className:"w-full sm:w-auto",children:u.jsxs(qo,{className:"grid w-full grid-cols-3 sm:w-[300px]",children:[u.jsx(vt,{value:"week",children:"Settimana"}),u.jsx(vt,{value:"month",children:"Mese"}),u.jsx(vt,{value:"year",children:"Anno"})]})})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:t.map(i=>{const a=e.find(c=>c.habitId===i.id);if(!a)return null;const o=a[n],s=o.trend==="neutral"||o.change===0,l=o.trend==="up";return u.jsxs("div",{className:"bg-card/50 border border-border/50 rounded-xl p-4 flex items-center justify-between group hover:bg-card/80 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center opacity-80",style:{backgroundColor:`${i.color}20`,color:i.color},children:u.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:i.color}})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-foreground",children:i.title}),u.jsx("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:u.jsxs("span",{children:["Precedente: ",o.previous,"%"]})})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"text-xl font-display font-bold text-foreground",children:[o.current,"%"]}),u.jsxs("div",{className:ae("flex items-center justify-end gap-1 text-xs font-medium",s?"text-muted-foreground":l?"text-emerald-500":"text-rose-500"),children:[s?u.jsx(Jf,{className:"w-3 h-3"}):l?u.jsx(ZH,{className:"w-3 h-3"}):u.jsx(JH,{className:"w-3 h-3"}),u.jsxs("span",{children:[o.change>0?"+":"",o.change,"%"]})]})]})]},i.id)})})]})}function DNe({criticalHabits:e}){const t=e.filter(n=>n.completionRate<85&&n.completionRate>0).sort((n,r)=>n.completionRate-r.completionRate).slice(0,3);return t.length===0?null:u.jsxs("div",{className:"glass-panel rounded-3xl p-6 animate-fade-in space-y-4",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-display font-semibold flex items-center gap-2",children:[u.jsx(Gn,{className:"w-5 h-5 text-primary"}),"Aree di Miglioramento"]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Abitudini che richiedono pi attenzione e i loro giorni critici."})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(n=>u.jsxs("div",{className:"bg-card/50 border border-destructive/10 rounded-xl p-4 flex flex-col gap-3 group hover:border-destructive/30 transition-all",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:n.color}}),u.jsx("span",{className:"font-semibold text-foreground",children:n.title})]}),u.jsxs("span",{className:ae("text-xs font-bold px-2 py-0.5 rounded-full",n.completionRate<50?"bg-destructive/10 text-destructive":"bg-warning/10 text-warning"),children:[n.completionRate,"% succ."]})]}),u.jsxs("div",{className:"flex items-start gap-3 bg-background/50 rounded-lg p-3",children:[u.jsx(qs,{className:"w-4 h-4 text-destructive mt-0.5 shrink-0"}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider font-bold",children:"Giorno Nero"}),u.jsx("p",{className:"font-display font-semibold text-lg text-foreground",children:n.worstDay}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["Solo il ",u.jsxs("span",{className:"text-destructive font-bold",children:[n.worstDayRate,"%"]})," di completamento"]})]})]})]},n.habitId))})]})}const $Ne=()=>ji({queryKey:["habit-completion-history"],queryFn:async()=>{const e=Xe(Kt(new Date,30),"yyyy-MM-dd"),{data:t,error:n}=await be.from("goal_logs").select("date, status").gte("date",e);if(n)throw n;const r=t,i={};return r?.forEach(a=>{const o=a.date;i[o]||(i[o]={total:0,done:0}),i[o].total+=1,a.status==="done"&&(i[o].done+=1)}),i}}),LNe=()=>{const{data:e}=pme(),{data:t}=$Ne(),{theme:n}=R_();if(!e||!t)return u.jsx(qe,{className:"col-span-1 lg:col-span-2 h-[400px] flex items-center justify-center",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});const r=e.slice(0,14).reverse().map(a=>{const o=t[a.date]||{total:0,done:0},s=o.total>0?Math.round(o.done/o.total*100):0;return{date:Xe(are(a.date),"dd/MM"),fullDate:a.date,mood:a.mood_score,energy:a.energy_score,productivity:s}}),i=n==="dark";return u.jsxs(qe,{className:"col-span-1 lg:col-span-2 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[u.jsx(et,{children:u.jsx(tt,{children:"Mood & Energy vs Productivity"})}),u.jsx(Ve,{className:"h-[350px]",children:u.jsx(xn,{width:"100%",height:"100%",children:u.jsxs(Ad,{data:r,children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"colorProductivity",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.3}),u.jsx("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})]})}),u.jsx(gr,{strokeDasharray:"3 3",opacity:.2,vertical:!1}),u.jsx(an,{dataKey:"date",tick:{fontSize:12,fill:i?"#A0A0A0":"#666"},axisLine:!1,tickLine:!1}),u.jsx(Bt,{yAxisId:"left",domain:[0,10],tickCount:6,tick:{fontSize:12,fill:i?"#A0A0A0":"#666"},axisLine:!1,tickLine:!1,label:{value:"Score (1-10)",angle:-90,position:"insideLeft",style:{fill:i?"#A0A0A0":"#666"}}}),u.jsx(Bt,{yAxisId:"right",orientation:"right",domain:[0,100],tick:{fontSize:12,fill:"#8884d8"},axisLine:!1,tickLine:!1,unit:"%"}),u.jsx(Ot,{contentStyle:{backgroundColor:i?"#1f2937":"#fff",borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"}}),u.jsx(or,{wrapperStyle:{paddingTop:"10px"}}),u.jsx(Rr,{yAxisId:"right",type:"monotone",dataKey:"productivity",fill:"url(#colorProductivity)",stroke:"#8884d8",strokeWidth:3,name:"Habit Completion %"}),u.jsx(Pr,{yAxisId:"left",type:"monotone",dataKey:"mood",stroke:"#10b981",strokeWidth:3,dot:{r:4,strokeWidth:2},activeDot:{r:6},name:"Mood"}),u.jsx(Pr,{yAxisId:"left",type:"monotone",dataKey:"energy",stroke:"#f59e0b",strokeWidth:3,strokeDasharray:"5 5",dot:{r:4,strokeWidth:2},name:"Energy"})]})})})]})},zNe=({correlation:e})=>{const{theme:t}=R_(),n=t==="dark",r=[{category:"Completato",mood:Math.round(e.avgMoodWhenCompleted*10)/10,energy:Math.round(e.avgEnergyWhenCompleted*10)/10},{category:"Mancato",mood:Math.round(e.avgMoodWhenMissed*10)/10,energy:Math.round(e.avgEnergyWhenMissed*10)/10}],i=[{range:"Basso",rangeFull:"Basso (1-4)",mood:Math.round(e.completionRateByMood.low),energy:Math.round(e.completionRateByEnergy.low)},{range:"Medio",rangeFull:"Medio (5-7)",mood:Math.round(e.completionRateByMood.medium),energy:Math.round(e.completionRateByEnergy.medium)},{range:"Alto",rangeFull:"Alto (8-10)",mood:Math.round(e.completionRateByMood.high),energy:Math.round(e.completionRateByEnergy.high)}],a=()=>e.moodCorrelation>.3?u.jsx(An,{className:"w-4 h-4 text-green-500"}):e.moodCorrelation<-.3?u.jsx(pi,{className:"w-4 h-4 text-red-500"}):u.jsx(Jf,{className:"w-4 h-4 text-gray-500"}),o=()=>e.energyCorrelation>.3?u.jsx(An,{className:"w-4 h-4 text-green-500"}):e.energyCorrelation<-.3?u.jsx(pi,{className:"w-4 h-4 text-red-500"}):u.jsx(Jf,{className:"w-4 h-4 text-gray-500"}),s=l=>{const c=Math.abs(l);return c>=.7?"Forte":c>=.4?"Moderata":c>=.2?"Debole":"Nessuna"};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[u.jsx(qe,{className:"glass-panel",children:u.jsxs(Ve,{className:"p-4 text-center",children:[u.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Correlazione Mood"}),u.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[a(),u.jsxs("p",{className:"text-2xl font-bold font-mono",children:[(e.moodCorrelation*100).toFixed(0),"%"]})]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:s(e.moodCorrelation)})]})}),u.jsx(qe,{className:"glass-panel",children:u.jsxs(Ve,{className:"p-4 text-center",children:[u.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Correlazione Energia"}),u.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[o(),u.jsxs("p",{className:"text-2xl font-bold font-mono",children:[(e.energyCorrelation*100).toFixed(0),"%"]})]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:s(e.energyCorrelation)})]})}),u.jsx(qe,{className:"glass-panel",children:u.jsxs(Ve,{className:"p-4 text-center",children:[u.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Mood Medio ()"}),u.jsx("p",{className:"text-2xl font-bold",style:{color:e.habitColor},children:e.avgMoodWhenCompleted.toFixed(1)}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"su 10"})]})}),u.jsx(qe,{className:"glass-panel",children:u.jsxs(Ve,{className:"p-4 text-center",children:[u.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Energia Media ()"}),u.jsx("p",{className:"text-2xl font-bold",style:{color:e.habitColor},children:e.avgEnergyWhenCompleted.toFixed(1)}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"su 10"})]})})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.isMoodSensitive&&u.jsxs("div",{className:"glass-panel px-3 py-1.5 rounded-full flex items-center gap-2 border border-orange-500/30",children:[u.jsx(Hi,{className:"w-3 h-3 text-orange-500"}),u.jsx("span",{className:"text-xs font-medium text-orange-500",children:"Sensibile al Mood"})]}),e.isEnergySensitive&&u.jsxs("div",{className:"glass-panel px-3 py-1.5 rounded-full flex items-center gap-2 border border-yellow-500/30",children:[u.jsx(Hi,{className:"w-3 h-3 text-yellow-500"}),u.jsx("span",{className:"text-xs font-medium text-yellow-500",children:"Sensibile all'Energia"})]}),e.isResilient&&u.jsxs("div",{className:"glass-panel px-3 py-1.5 rounded-full flex items-center gap-2 border border-green-500/30",children:[u.jsx(An,{className:"w-3 h-3 text-green-500"}),u.jsx("span",{className:"text-xs font-medium text-green-500",children:"Resiliente"})]}),!e.isMoodSensitive&&!e.isEnergySensitive&&!e.isResilient&&u.jsxs("div",{className:"glass-panel px-3 py-1.5 rounded-full flex items-center gap-2 border border-gray-500/30",children:[u.jsx(Jf,{className:"w-3 h-3 text-gray-500"}),u.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Neutrale"})]})]}),u.jsxs(qe,{className:"glass-panel shadow-lg hover:shadow-xl transition-shadow duration-300",children:[u.jsx(et,{children:u.jsx(tt,{className:"text-base sm:text-lg",children:"Completato vs Mancato"})}),u.jsx(Ve,{className:"h-[300px]",children:u.jsx(xn,{width:"100%",height:"100%",children:u.jsxs(Ad,{data:r,children:[u.jsx(gr,{strokeDasharray:"3 3",opacity:.2,vertical:!1}),u.jsx(an,{dataKey:"category",tick:{fontSize:12,fill:n?"#A0A0A0":"#666"},axisLine:!1,tickLine:!1}),u.jsx(Bt,{domain:[0,10],tick:{fontSize:12,fill:n?"#A0A0A0":"#666"},axisLine:!1,tickLine:!1,label:{value:"Score (1-10)",angle:-90,position:"insideLeft",style:{fill:n?"#A0A0A0":"#666"}}}),u.jsx(Ot,{contentStyle:{backgroundColor:n?"#1f2937":"#fff",borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"}}),u.jsx(or,{wrapperStyle:{paddingTop:"10px"}}),u.jsx(Ft,{dataKey:"mood",fill:"#10b981",name:"Mood",radius:[8,8,0,0]}),u.jsx(Ft,{dataKey:"energy",fill:"#f59e0b",name:"Energia",radius:[8,8,0,0]})]})})})]}),u.jsxs(qe,{className:"glass-panel shadow-lg hover:shadow-xl transition-shadow duration-300",children:[u.jsxs(et,{children:[u.jsx(tt,{className:"text-base sm:text-lg",children:"Performance per Livello"}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Basso (1-4)  Medio (5-7)  Alto (8-10)"})]}),u.jsx(Ve,{className:"h-[320px]",children:u.jsx(xn,{width:"100%",height:"100%",children:u.jsxs(Ad,{data:i,margin:{top:10,right:20,bottom:20,left:0},children:[u.jsx(gr,{strokeDasharray:"3 3",opacity:.2,vertical:!1}),u.jsx(an,{dataKey:"range",tick:{fontSize:12,fill:n?"#A0A0A0":"#666"},axisLine:!1,tickLine:!1}),u.jsx(Bt,{domain:[0,100],tick:{fontSize:12,fill:n?"#A0A0A0":"#666"},axisLine:!1,tickLine:!1,unit:"%"}),u.jsx(Ot,{contentStyle:{backgroundColor:n?"#1f2937":"#fff",borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"},formatter:(l,c,d)=>[`${l}%`,c==="mood"?"Con Mood":"Con Energia"],labelFormatter:l=>{const c=i.find(d=>d.range===l);return c?c.rangeFull:l}}),u.jsx(or,{wrapperStyle:{paddingTop:"10px"}}),u.jsx(Pr,{type:"monotone",dataKey:"mood",stroke:"#10b981",strokeWidth:3,dot:{r:5,strokeWidth:2},activeDot:{r:7},name:"Con Mood"}),u.jsx(Pr,{type:"monotone",dataKey:"energy",stroke:"#f59e0b",strokeWidth:3,strokeDasharray:"5 5",dot:{r:5,strokeWidth:2},activeDot:{r:7},name:"Con Energia"})]})})})]}),u.jsx(qe,{className:"glass-panel",children:u.jsx(Ve,{className:"p-4",children:u.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["Analisi basata su ",u.jsx("strong",{children:e.totalDaysWithMoodData})," giorni con dati mood/energia (",e.daysCompleted," completati, ",e.daysMissed," mancati)"]})})})]})},FNe=({correlations:e})=>{const t=e.filter(i=>i.totalDaysWithMoodData>=5);if(t.length===0)return u.jsx(qe,{className:"glass-panel",children:u.jsx(Ve,{className:"p-8 text-center",children:u.jsx("p",{className:"text-muted-foreground",children:"Non ci sono abbastanza dati per mostrare la matrice. Registra mood ed energie per almeno 5 giorni."})})});const n=i=>i>=80?"bg-green-500/90":i>=70?"bg-lime-500/90":i>=50?"bg-yellow-500/90":i>=30?"bg-orange-500/90":i>0?"bg-red-500/90":"bg-gray-700/90",r=i=>i>=50?"text-white font-bold":"text-foreground font-bold";return u.jsxs(qe,{className:"glass-panel shadow-lg hover:shadow-xl transition-shadow duration-300",children:[u.jsxs(et,{children:[u.jsx(tt,{className:"text-base sm:text-lg",children:"Performance per Livello"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Completamento (%) per mood ed energia"})]}),u.jsxs(Ve,{className:"overflow-x-auto",children:[u.jsxs("div",{className:"hidden md:block min-w-[700px]",children:[u.jsxs("div",{className:"grid grid-cols-[minmax(120px,1fr)_3fr_1px_3fr] gap-3 mb-4 pb-3 border-b border-white/10",children:[u.jsx("div",{}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-sm font-bold text-green-500 mb-2",children:"MOOD"}),u.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[u.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:"Basso"}),u.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:"Medio"}),u.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:"Alto"})]})]}),u.jsx("div",{className:"w-px bg-gradient-to-b from-transparent via-white/20 to-transparent"}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-sm font-bold text-amber-500 mb-2",children:"ENERGIA"}),u.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[u.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:"Bassa"}),u.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:"Media"}),u.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:"Alta"})]})]})]}),u.jsx("div",{className:"space-y-3",children:t.map(i=>u.jsxs("div",{className:"grid grid-cols-[minmax(120px,1fr)_3fr_1px_3fr] gap-3 items-center",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0 pr-2",children:[u.jsx("div",{className:"w-4 h-4 rounded-md shrink-0",style:{backgroundColor:i.habitColor}}),u.jsx("span",{className:"text-sm font-semibold truncate",title:i.habitTitle,children:i.habitTitle})]}),u.jsx("div",{className:"grid grid-cols-3 gap-3",children:["low","medium","high"].map(a=>{const o=Math.round(i.completionRateByMood[a]);return u.jsx("div",{className:ae("rounded-xl p-3 text-center transition-all duration-200 cursor-pointer border-2 border-transparent hover:scale-110 hover:shadow-2xl hover:border-white/30 hover:brightness-110",n(o),r(o)),title:`${i.habitTitle}: ${o}% con mood ${a==="low"?"basso":a==="medium"?"medio":"alto"}`,children:u.jsxs("span",{className:"text-sm font-bold",children:[o,"%"]})},`mood-${a}`)})}),u.jsx("div",{className:"w-px bg-gradient-to-b from-transparent via-white/10 to-transparent h-full"}),u.jsx("div",{className:"grid grid-cols-3 gap-3",children:["low","medium","high"].map(a=>{const o=Math.round(i.completionRateByEnergy[a]);return u.jsx("div",{className:ae("rounded-xl p-3 text-center transition-all duration-200 cursor-pointer border-2 border-transparent hover:scale-110 hover:shadow-2xl hover:border-white/30 hover:brightness-110",n(o),r(o)),title:`${i.habitTitle}: ${o}% con energia ${a==="low"?"bassa":a==="medium"?"media":"alta"}`,children:u.jsxs("span",{className:"text-sm font-bold",children:[o,"%"]})},`energy-${a}`)})})]},i.habitId))})]}),u.jsx("div",{className:"md:hidden space-y-4",children:t.map(i=>u.jsxs("div",{className:"glass-panel rounded-2xl p-4 border border-white/10",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx("div",{className:"w-5 h-5 rounded-md shrink-0",style:{backgroundColor:i.habitColor}}),u.jsx("h4",{className:"text-base font-bold",children:i.habitTitle})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("p",{className:"text-xs font-bold text-green-500 mb-2",children:"MOOD"}),u.jsx("div",{className:"grid grid-cols-3 gap-2",children:["low","medium","high"].map(a=>{const o=Math.round(i.completionRateByMood[a]),s=a==="low"?"Basso":a==="medium"?"Medio":"Alto";return u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:ae("rounded-lg p-3 mb-1",n(o),r(o)),children:u.jsxs("span",{className:"text-base font-bold",children:[o,"%"]})}),u.jsx("span",{className:"text-xs text-muted-foreground",children:s})]},`mood-${a}`)})})]}),u.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-white/10 to-transparent mb-4"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-bold text-amber-500 mb-2",children:"ENERGIA"}),u.jsx("div",{className:"grid grid-cols-3 gap-2",children:["low","medium","high"].map(a=>{const o=Math.round(i.completionRateByEnergy[a]),s=a==="low"?"Bassa":a==="medium"?"Media":"Alta";return u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:ae("rounded-lg p-3 mb-1",n(o),r(o)),children:u.jsxs("span",{className:"text-base font-bold",children:[o,"%"]})}),u.jsx("span",{className:"text-xs text-muted-foreground",children:s})]},`energy-${a}`)})})]})]},i.habitId))}),u.jsxs("div",{className:"mt-6 pt-4 border-t border-white/10",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 mb-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-6 h-6 rounded bg-green-500/90"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"Ottimo (80%)"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-6 h-6 rounded bg-lime-500/90"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"Buono (70-79%)"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-6 h-6 rounded bg-yellow-500/90"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"Medio (50-69%)"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-6 h-6 rounded bg-orange-500/90"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"Basso (30-49%)"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-6 h-6 rounded bg-red-500/90"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"Critico (<30%)"})]})]}),u.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"I colori indicano la performance  Passa il mouse per i dettagli"})]})]})]})},BNe=({insights:e})=>e.moodSensitiveHabits.length>0||e.energySensitiveHabits.length>0||e.resilientHabits.length>0?u.jsxs("div",{className:"space-y-4",children:[e.moodSensitiveHabits.length>0&&u.jsxs(qe,{className:"glass-panel border border-orange-500/30 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[u.jsxs(et,{children:[u.jsxs(tt,{className:"text-base sm:text-lg flex items-center gap-2",children:[u.jsx(Hi,{className:"w-5 h-5 text-orange-500"}),"Mood"]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Queste abitudini hanno bisogno di un buon mood per essere completate"})]}),u.jsx(Ve,{className:"space-y-3",children:e.moodSensitiveHabits.map((n,r)=>u.jsxs("div",{className:"glass-card rounded-xl p-3 flex items-center justify-between hover:bg-white/5 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center shrink-0",style:{backgroundColor:`${n.habitColor}20`,borderColor:`${n.habitColor}40`,borderWidth:"2px"},children:u.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:n.habitColor}})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-sm",children:n.habitTitle}),u.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[u.jsx(YE,{className:"w-3 h-3"}),u.jsxs("span",{children:[Math.round(n.completionRateByMood.low),"% con mood basso"]}),u.jsx(Q5,{className:"w-3 h-3 ml-2"}),u.jsxs("span",{children:[Math.round(n.completionRateByMood.high),"% con mood alto"]})]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-xs text-muted-foreground",children:"Drop"}),u.jsxs("p",{className:"text-lg font-bold text-orange-500",children:[Math.round(n.completionRateByMood.high-n.completionRateByMood.low),"%"]})]})]},n.habitId))})]}),e.energySensitiveHabits.length>0&&u.jsxs(qe,{className:"glass-panel border border-yellow-500/30 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[u.jsxs(et,{children:[u.jsxs(tt,{className:"text-base sm:text-lg flex items-center gap-2",children:[u.jsx(Gi,{className:"w-5 h-5 text-yellow-500"}),"Energia"]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Queste abitudini richiedono alta energia per essere completate"})]}),u.jsx(Ve,{className:"space-y-3",children:e.energySensitiveHabits.map((n,r)=>u.jsxs("div",{className:"glass-card rounded-xl p-3 flex items-center justify-between hover:bg-white/5 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center shrink-0",style:{backgroundColor:`${n.habitColor}20`,borderColor:`${n.habitColor}40`,borderWidth:"2px"},children:u.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:n.habitColor}})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-sm",children:n.habitTitle}),u.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[u.jsx(WE,{className:"w-3 h-3"}),u.jsxs("span",{children:[Math.round(n.completionRateByEnergy.low),"% con energia bassa"]}),u.jsx(e9,{className:"w-3 h-3 ml-2"}),u.jsxs("span",{children:[Math.round(n.completionRateByEnergy.high),"% con energia alta"]})]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-xs text-muted-foreground",children:"Drop"}),u.jsxs("p",{className:"text-lg font-bold text-yellow-500",children:[Math.round(n.completionRateByEnergy.high-n.completionRateByEnergy.low),"%"]})]})]},n.habitId))})]}),e.resilientHabits.length>0&&u.jsxs(qe,{className:"glass-panel border border-green-500/30 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[u.jsxs(et,{children:[u.jsxs(tt,{className:"text-base sm:text-lg flex items-center gap-2",children:[u.jsx(Y5,{className:"w-5 h-5 text-green-500"}),"Resilienti"]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Queste abitudini vengono mantenute anche quando mood ed energia sono bassi"})]}),u.jsx(Ve,{className:"space-y-3",children:e.resilientHabits.map((n,r)=>u.jsxs("div",{className:"glass-card rounded-xl p-3 flex items-center justify-between hover:bg-white/5 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center shrink-0",style:{backgroundColor:`${n.habitColor}20`,borderColor:`${n.habitColor}40`,borderWidth:"2px"},children:u.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:n.habitColor}})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-sm",children:n.habitTitle}),u.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(YE,{className:"w-3 h-3"}),u.jsxs("span",{children:["Mood: ",Math.round(n.completionRateByMood.low),"%"]})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(WE,{className:"w-3 h-3"}),u.jsxs("span",{children:["Energia: ",Math.round(n.completionRateByEnergy.low),"%"]})]})]})]})]}),u.jsxs("div",{className:"flex items-center gap-1 text-green-500",children:[u.jsx(An,{className:"w-5 h-5"}),u.jsx("span",{className:"text-xs font-bold",children:"Stabile"})]})]},n.habitId))})]}),u.jsxs(qe,{className:"glass-panel border border-primary/30",children:[u.jsx(et,{children:u.jsx(tt,{className:"text-base sm:text-lg",children:" Suggerimenti"})}),u.jsx(Ve,{children:u.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.moodSensitiveHabits.length>0&&u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-orange-500 shrink-0",children:""}),u.jsx("span",{children:"Pianifica le abitudini sensibili al mood nei momenti della giornata in cui ti senti meglio"})]}),e.energySensitiveHabits.length>0&&u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-yellow-500 shrink-0",children:""}),u.jsx("span",{children:"Esegui le abitudini che richiedono energia al mattino o dopo una pausa rigenerante"})]}),e.resilientHabits.length>0&&u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-green-500 shrink-0",children:""}),u.jsx("span",{children:"Le abitudini resilienti sono ottime da mantenere anche nei giorni difficili"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-primary shrink-0",children:""}),u.jsx("span",{children:"Monitora il tuo mood ed energia quotidianamente per ottenere insights pi accurati"})]})]})})]})]}):u.jsx(qe,{className:"glass-panel",children:u.jsx(Ve,{className:"p-8 text-center",children:u.jsx("p",{className:"text-muted-foreground",children:"Non ci sono abbastanza dati per generare insights. Continua a tracciare le tue abitudini e il tuo mood!"})})});function qNe({habitStats:e}){const t=S.useMemo(()=>{if(e.length===0)return null;const n=[...e].filter(f=>f.worstStreak>0).sort((f,h)=>h.worstStreak-f.worstStreak).slice(0,3);if(n.length===0)return null;const r=n.map(f=>{const h=Math.round(30*(100-f.completionRate)/100);return{habitId:f.id,title:f.title,color:f.color,worstStreak:f.worstStreak,failureFrequency:h,completionRate:f.completionRate}}),i=e.filter(f=>f.worstStreak>0&&f.longestStreak>0).map(f=>{const h=f.worstStreak>0?Math.round(f.worstStreak*(100-f.completionRate)/100):0;return{habitId:f.id,title:f.title,color:f.color,recoveryTime:Math.max(h,1),worstStreak:f.worstStreak}}).sort((f,h)=>f.recoveryTime-h.recoveryTime),a=i.length>0?Math.round(i.reduce((f,h)=>f+h.recoveryTime,0)/i.length):0,o=i.slice(0,3),s=e.filter(f=>f.worstStreak>0).map(f=>{const h=f.worstStreak>0?Math.round(f.longestStreak/f.worstStreak*100):999;let p;return h>=300?p="excellent":h>=150?p="good":p="attention",{habitId:f.id,title:f.title,color:f.color,best:f.longestStreak,worst:f.worstStreak,gap:h,status:p}}).sort((f,h)=>f.gap-h.gap).slice(0,3),l=[],c=n[0];c&&c.worstStreak>=7&&l.push({icon:"",title:`Focus su "${c.title}"`,description:`Hai passato ${c.worstStreak} giorni consecutivi senza completare questa abitudine`,action:"Considera di ridurre la difficolt o impostare promemoria extra"});const d=r.find(f=>f.completionRate<50);if(d&&l.push({icon:"",title:"Tasso di Completamento Basso",description:`"${d.title}" ha solo ${d.completionRate}% di successo`,action:"Prova a semplificare l'abitudine o renderla pi piccola"}),o.length>0&&o[0].recoveryTime<=3&&l.push({icon:"",title:"Ottima Capacit di Recupero",description:`Recuperi velocemente dopo i fallimenti (media ${a} giorni)`,action:"Continua cos - usa la stessa strategia per altre abitudini!"}),r.length>=2){const f=r.reduce((h,p)=>h+p.failureFrequency,0);l.push({icon:"",title:"Pattern Generale",description:`In media fallisci ~${Math.round(f/r.length)} volte al mese`,action:"Identifica i trigger comuni e crea strategie preventive"})}return{top3Worst:n,failureAnalysis:r,avgRecoveryTime:a,fastestRecoverers:o,comparisons:s,suggestions:l}},[e]);return t?u.jsxs("div",{className:"space-y-6 animate-fade-in",children:[u.jsx("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-xl bg-destructive/10 flex items-center justify-center shrink-0",children:u.jsx(pi,{className:"w-5 h-5 text-destructive"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-display font-semibold text-foreground",children:"Analisi Worst Streaks"}),u.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Analisi dettagliata delle serie negative per identificare pattern e migliorare."})]})]})}),u.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(Gn,{className:"w-5 h-5 text-destructive"}),u.jsx("h4",{className:"font-display font-semibold text-foreground",children:"Abitudini Critiche"}),u.jsx(ja,{children:u.jsxs(Ao,{children:[u.jsx(Oo,{asChild:!0,children:u.jsx("button",{className:"ml-1",children:u.jsx(Sc,{className:"w-4 h-4 text-muted-foreground hover:text-foreground transition-colors"})})}),u.jsx(ka,{className:"max-w-xs",children:u.jsx("p",{className:"text-sm",children:"Le 3 abitudini con le serie di non completamento pi lunghe. Queste richiedono pi attenzione per evitare l'abbandono."})})]})}),u.jsx("span",{className:"text-xs text-muted-foreground ml-auto",children:"Top 3 Worst Streaks"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:t.top3Worst.map((n,r)=>u.jsxs("div",{className:"bg-card/50 border border-destructive/20 rounded-xl p-4 relative overflow-hidden group hover:border-destructive/40 transition-all",children:[u.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 rounded-full bg-destructive/20 flex items-center justify-center",children:u.jsx("span",{className:"text-xs font-bold text-destructive",children:r+1})}),u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:n.color}}),u.jsx("span",{className:"font-semibold text-foreground text-sm truncate",children:n.title})]}),u.jsxs("div",{className:"bg-background/50 rounded-lg p-3 text-center",children:[u.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Worst Streak"}),u.jsx("p",{className:"text-3xl font-bold font-mono text-destructive",children:n.worstStreak}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"giorni consecutivi"})]})]},n.id))})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(z5,{className:"w-5 h-5 text-orange-500"}),u.jsx("h4",{className:"font-display font-semibold text-foreground",children:"Analisi Fallimenti"}),u.jsx(ja,{children:u.jsxs(Ao,{children:[u.jsx(Oo,{asChild:!0,children:u.jsx("button",{className:"ml-1",children:u.jsx(Sc,{className:"w-4 h-4 text-muted-foreground hover:text-foreground transition-colors"})})}),u.jsx(ka,{className:"max-w-xs",children:u.jsx("p",{className:"text-sm",children:"Mostra pattern e frequenza dei tuoi fallimenti per capire quando e quanto spesso abbandoni le abitudini."})})]})})]}),u.jsx("div",{className:"space-y-3",children:t.failureAnalysis.map(n=>u.jsxs("div",{className:"bg-background/50 rounded-lg p-3",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:n.color}}),u.jsx("span",{className:"text-sm font-medium truncate",children:n.title})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-muted-foreground mb-1",children:"Worst Streak"}),u.jsxs("p",{className:"font-bold text-destructive",children:[n.worstStreak," giorni"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-muted-foreground mb-1",children:"Freq. Fallimenti"}),u.jsxs("p",{className:"font-bold text-orange-500",children:["~",n.failureFrequency,"/mese"]})]})]})]},n.habitId))})]}),u.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(Ha,{className:"w-5 h-5 text-primary"}),u.jsx("h4",{className:"font-display font-semibold text-foreground",children:"Pattern di Recupero"}),u.jsx(ja,{children:u.jsxs(Ao,{children:[u.jsx(Oo,{asChild:!0,children:u.jsx("button",{className:"ml-1",children:u.jsx(Sc,{className:"w-4 h-4 text-muted-foreground hover:text-foreground transition-colors"})})}),u.jsx(ka,{className:"max-w-xs",children:u.jsx("p",{className:"text-sm",children:"Mostra quanto velocemente riesci a recuperare dopo un periodo di fallimenti e quali abitudini ripristini pi facilmente."})})]})})]}),u.jsxs("div",{className:"bg-card/50 rounded-xl p-4 mb-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Tempo Medio Recupero"}),u.jsxs("span",{className:"text-sm font-bold text-foreground",children:[t.avgRecoveryTime," giorni"]})]}),u.jsx("div",{className:"h-2 bg-secondary rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-gradient-to-r from-primary to-green-500 transition-all duration-500",style:{width:`${Math.min(t.avgRecoveryTime/14*100,100)}%`}})}),u.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:t.avgRecoveryTime<=5?" Eccellente!":t.avgRecoveryTime<=10?" Buono":" Da migliorare"})]}),t.fastestRecoverers.length>0&&u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-3",children:" Recuperatori Veloci"}),t.fastestRecoverers.map(n=>u.jsxs("div",{className:"bg-background/50 rounded-lg p-2 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("div",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:n.color}}),u.jsx("span",{className:"text-sm truncate",children:n.title})]}),u.jsxs("span",{className:"text-xs font-bold text-green-500 shrink-0 ml-2",children:[n.recoveryTime," gg"]})]},n.habitId))]})]})]}),u.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(An,{className:"w-5 h-5 text-primary"}),u.jsx("h4",{className:"font-display font-semibold text-foreground",children:"Confronto Performance"}),u.jsx(ja,{children:u.jsxs(Ao,{children:[u.jsx(Oo,{asChild:!0,children:u.jsx("button",{className:"ml-1",children:u.jsx(Sc,{className:"w-4 h-4 text-muted-foreground hover:text-foreground transition-colors"})})}),u.jsx(ka,{className:"max-w-xs",children:u.jsx("p",{className:"text-sm",children:"Mostra le 3 abitudini con il peggior rapporto Best/Worst. Queste sono le abitudini che hanno pi margine di miglioramento e richiedono maggior attenzione."})})]})})]}),u.jsx("div",{className:"space-y-4",children:t.comparisons.map(n=>u.jsxs("div",{className:"bg-background/50 rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:n.color}}),u.jsx("span",{className:"text-sm font-medium",children:n.title}),u.jsx("span",{className:ae("text-xs font-bold px-2 py-0.5 rounded-full ml-auto",n.status==="excellent"&&"bg-green-500/10 text-green-500",n.status==="good"&&"bg-yellow-500/10 text-yellow-500",n.status==="attention"&&"bg-orange-500/10 text-orange-500"),children:n.status==="excellent"?"Eccellente":n.status==="good"?"Buono":"Attenzione"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsx("span",{className:"text-xs text-muted-foreground",children:"Best"}),u.jsxs("span",{className:"text-xs font-bold text-green-500",children:[n.best," gg"]})]}),u.jsx("div",{className:"h-2 bg-secondary rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-green-500 transition-all duration-500",style:{width:`${Math.min(n.best/Math.max(n.best,n.worst)*100,100)}%`}})})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsx("span",{className:"text-xs text-muted-foreground",children:"Worst"}),u.jsxs("span",{className:"text-xs font-bold text-destructive",children:[n.worst," gg"]})]}),u.jsx("div",{className:"h-2 bg-secondary rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-destructive transition-all duration-500",style:{width:`${Math.min(n.worst/Math.max(n.best,n.worst)*100,100)}%`}})})]})]}),u.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Gap: ",u.jsxs("span",{className:"font-bold text-foreground",children:[n.gap,"%"]})]})]},n.habitId))})]}),u.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(W5,{className:"w-5 h-5 text-yellow-500"}),u.jsx("h4",{className:"font-display font-semibold text-foreground",children:"Suggerimenti Pratici"}),u.jsx(ja,{children:u.jsxs(Ao,{children:[u.jsx(Oo,{asChild:!0,children:u.jsx("button",{className:"ml-1",children:u.jsx(Sc,{className:"w-4 h-4 text-muted-foreground hover:text-foreground transition-colors"})})}),u.jsx(ka,{className:"max-w-xs",children:u.jsx("p",{className:"text-sm",children:"Suggerimenti personalizzati basati sui tuoi dati con azioni concrete che puoi implementare subito per migliorare."})})]})})]}),u.jsx("div",{className:"space-y-3",children:t.suggestions.map((n,r)=>u.jsx("div",{className:"bg-gradient-to-r from-primary/5 to-transparent border border-primary/20 rounded-xl p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("span",{className:"text-2xl shrink-0",children:n.icon}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-semibold text-sm text-foreground mb-1",children:n.title}),u.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:n.description}),u.jsxs("div",{className:"flex items-start gap-2 text-xs text-primary",children:[u.jsx("span",{className:"shrink-0",children:""}),u.jsx("span",{className:"font-medium",children:n.action})]})]})]})},r))})]})]}):u.jsxs("div",{className:"glass-panel rounded-3xl p-6 text-center",children:[u.jsx(An,{className:"w-12 h-12 mx-auto mb-3 text-green-500 opacity-50"}),u.jsx("p",{className:"text-muted-foreground",children:"Ottimo lavoro! Non sono stati rilevati worst streak significativi."})]})}const UNe=({keystoneHabits:e})=>e.length===0?null:u.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-yellow-500/20 to-orange-500/20 flex items-center justify-center",children:u.jsx(GE,{className:"w-5 h-5 text-yellow-500"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold",children:"Abitudini Chiave"}),u.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Abitudini che influenzano positivamente molte altre"})]})]}),u.jsx("div",{className:ae("grid gap-3 sm:gap-4",e.length===1?"grid-cols-1":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3"),children:e.map(t=>{const n=t.impact==="high"?"text-green-500":t.impact==="medium"?"text-yellow-500":"text-blue-500",r=t.impact==="high"?"bg-green-500/10 border-green-500/20":t.impact==="medium"?"bg-yellow-500/10 border-yellow-500/20":"bg-blue-500/10 border-blue-500/20",i=t.impact==="high"?"Alto Impatto":t.impact==="medium"?"Medio Impatto":"Impatto Basso";return u.jsxs("div",{className:ae("glass-card rounded-2xl p-4 border-2 transition-all duration-300 hover:scale-[1.02]",r),children:[u.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center shrink-0",style:{backgroundColor:`${t.color}20`},children:u.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:t.color}})}),u.jsx("h4",{className:"font-semibold text-foreground truncate text-sm sm:text-base",children:t.title})]}),u.jsx(GE,{className:ae("w-5 h-5 shrink-0",n)})]}),u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx("div",{className:ae("px-2 py-1 rounded-full text-xs font-semibold",n,r),children:i}),u.jsxs("div",{className:"text-xs text-muted-foreground",children:[t.connectedHabits," ",t.connectedHabits===1?"connessione":"connessioni"]})]}),u.jsxs("div",{className:"space-y-1.5",children:[t.connections.slice(0,4).map(a=>{const o=a.correlation>=0?"+":"",s=a.correlation>=.6?"text-green-500":a.correlation>=.3?"text-yellow-500":"text-muted-foreground";return u.jsxs("div",{className:"flex items-center justify-between text-xs bg-white/5 rounded-lg px-2 py-1.5",children:[u.jsx("span",{className:"text-muted-foreground truncate flex-1",children:a.title}),u.jsxs("span",{className:ae("font-mono font-semibold ml-2",s),children:[o,a.correlation.toFixed(2)]})]},a.habitId)}),t.connections.length>4&&u.jsxs("div",{className:"text-xs text-center text-muted-foreground pt-1",children:["+",t.connections.length-4," altre connessioni"]})]}),u.jsxs("div",{className:"mt-3 pt-3 border-t border-white/10 flex items-center justify-between text-xs",children:[u.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[u.jsx(An,{className:"w-3 h-3"}),u.jsx("span",{children:"Media"})]}),u.jsxs("span",{className:"font-mono font-semibold text-foreground",children:[t.avgCorrelation>=0?"+":"",t.avgCorrelation.toFixed(2)]})]})]},t.habitId)})}),u.jsx("div",{className:"mt-4 p-3 bg-primary/5 rounded-xl border border-primary/10",children:u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx(Gi,{className:"w-4 h-4 text-primary shrink-0 mt-0.5"}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:[u.jsx("span",{className:"font-semibold text-foreground",children:"Suggerimento:"}),` Le abitudini chiave hanno un effetto "domino" su altre. Concentrati a mantenerle costanti per migliorare l'intero sistema delle tue abitudini.`]})]})})]}),VNe=({insights:e})=>{const{totalPairs:t,avgCorrelation:n,strongestPositive:r,strongestNegative:i,isolatedHabits:a}=e;return t===0?u.jsxs("div",{className:"glass-panel rounded-3xl p-6 text-center",children:[u.jsx(XE,{className:"w-12 h-12 mx-auto mb-3 text-muted-foreground opacity-50"}),u.jsx("h3",{className:"text-base font-semibold mb-2",children:"Nessuna Correlazione Rilevata"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Traccia almeno 2 abitudini per 10+ giorni per vedere le correlazioni."})]}):u.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500/20 to-purple-500/20 flex items-center justify-center",children:u.jsx(XE,{className:"w-5 h-5 text-blue-500"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold",children:"Analisi Correlazioni"}),u.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Pattern tra le tue abitudini"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 mb-4",children:[u.jsxs("div",{className:"bg-white/5 rounded-xl p-3 text-center",children:[u.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Coppie Analizzate"}),u.jsx("p",{className:"text-2xl font-bold text-foreground font-mono",children:t})]}),u.jsxs("div",{className:"bg-white/5 rounded-xl p-3 text-center",children:[u.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Correlazione Media"}),u.jsxs("p",{className:"text-2xl font-bold text-primary font-mono",children:[n>=0?"+":"",n.toFixed(2)]})]}),u.jsxs("div",{className:"bg-white/5 rounded-xl p-3 text-center",children:[u.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[u.jsx(An,{className:"w-3 h-3 text-green-500"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Positive"})]}),u.jsx("p",{className:"text-2xl font-bold text-green-500 font-mono",children:r.length})]}),u.jsxs("div",{className:"bg-white/5 rounded-xl p-3 text-center",children:[u.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[u.jsx(pi,{className:"w-3 h-3 text-red-500"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Negative"})]}),u.jsx("p",{className:"text-2xl font-bold text-red-500 font-mono",children:i.length})]})]}),a.length>0&&u.jsx("div",{className:"bg-yellow-500/5 border border-yellow-500/20 rounded-xl p-3",children:u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx(d9,{className:"w-4 h-4 text-yellow-500 shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold text-yellow-500 mb-1",children:"Abitudini Isolate"}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.length," ",a.length===1?"abitudine non ha":"abitudini non hanno"," ","correlazioni significative con le altre. Potrebbero essere indipendenti o necessitare pi dati."]})]})]})})]})},JD=({correlation:e})=>{const{habitA:t,habitB:n,correlationCoefficient:r,coOccurrenceRate:i,totalDaysTracked:a,strength:o,type:s,suggestion:l}=e,c=s==="positive",d=c?An:pi,f=c?o==="strong"?"border-green-500/40":"border-green-500/20":o==="strong"?"border-red-500/40":"border-red-500/20",h=c?"from-green-500/5 to-transparent":"from-red-500/5 to-transparent",p=c?"bg-green-500/20 text-green-400 border-green-500/30":"bg-red-500/20 text-red-400 border-red-500/30",y=o==="strong"?"Forte":o==="moderate"?"Moderata":"Debole",m=c?"Positiva":"Negativa";return u.jsxs("div",{className:ae("glass-card rounded-2xl p-4 border-2 transition-all duration-300 hover:scale-[1.01]","bg-gradient-to-br",f,h),children:[u.jsx("div",{className:"flex items-center justify-between mb-3",children:u.jsxs("div",{className:ae("flex items-center gap-2 px-3 py-1 rounded-full border text-xs font-semibold",p),children:[u.jsx(d,{className:"w-3 h-3"}),u.jsxs("span",{children:["Correlazione ",m," - ",y]})]})}),u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[u.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center shrink-0",style:{backgroundColor:`${t.color}20`},children:u.jsx("div",{className:"w-4 h-4 rounded-sm",style:{backgroundColor:t.color}})}),u.jsx("span",{className:"font-semibold text-foreground text-sm truncate",children:t.title})]}),u.jsx(H5,{className:ae("w-5 h-5 shrink-0",c?"text-green-500":"text-red-500")}),u.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[u.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center shrink-0",style:{backgroundColor:`${n.color}20`},children:u.jsx("div",{className:"w-4 h-4 rounded-sm",style:{backgroundColor:n.color}})}),u.jsx("span",{className:"font-semibold text-foreground text-sm truncate",children:n.title})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[u.jsxs("div",{className:"bg-white/5 rounded-lg p-2 text-center",children:[u.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Coefficiente"}),u.jsxs("p",{className:ae("text-base font-mono font-bold",c?"text-green-500":"text-red-500"),children:[r>=0?"+":"",r.toFixed(2)]})]}),u.jsxs("div",{className:"bg-white/5 rounded-lg p-2 text-center",children:[u.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Co-occorrenza"}),u.jsxs("p",{className:"text-base font-mono font-bold text-foreground",children:[Math.round(i),"%"]})]}),u.jsxs("div",{className:"bg-white/5 rounded-lg p-2 text-center",children:[u.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Giorni"}),u.jsx("p",{className:"text-base font-mono font-bold text-foreground",children:a})]})]}),l&&u.jsx("div",{className:"bg-primary/5 border border-primary/10 rounded-xl p-3",children:u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx(lm,{className:"w-4 h-4 text-primary shrink-0 mt-0.5"}),u.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:l})]})})]})},WNe=({habitId:e,habitTitle:t,habitColor:n,allCorrelations:r})=>{const i=r.filter(l=>l.habitA.id===e||l.habitB.id===e);if(i.length===0)return u.jsxs("div",{className:"glass-panel rounded-3xl p-6 text-center",children:[u.jsx(H5,{className:"w-12 h-12 mx-auto mb-3 text-muted-foreground opacity-50"}),u.jsx("h3",{className:"text-base font-semibold mb-2",children:"Nessuna Correlazione"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Questa abitudine non ha correlazioni significative con le altre. Traccia pi abitudini insieme per vedere i pattern."})]});const a=i.filter(l=>l.type==="positive").sort((l,c)=>Math.abs(c.correlationCoefficient)-Math.abs(l.correlationCoefficient)).slice(0,3),o=i.filter(l=>l.type==="negative").sort((l,c)=>Math.abs(c.correlationCoefficient)-Math.abs(l.correlationCoefficient)).slice(0,2),s=l=>l.habitA.id===e?l.habitB:l.habitA;return u.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[u.jsxs("div",{className:"mb-4",children:[u.jsxs("h3",{className:"text-base sm:text-lg font-display font-semibold mb-1",children:['Correlazioni con "',t,'"']}),u.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Come questa abitudine si relaziona con le altre"})]}),a.length>0&&u.jsxs("div",{className:"mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx(An,{className:"w-4 h-4 text-green-500"}),u.jsx("h4",{className:"text-sm font-semibold text-green-500",children:"Correlazioni Positive"})]}),u.jsx("div",{className:"space-y-2",children:a.map((l,c)=>{const d=s(l),f=l.strength==="strong"?"Forte":"Moderata";return u.jsxs("div",{className:"bg-gradient-to-br from-green-500/5 to-transparent border-2 border-green-500/20 rounded-xl p-3",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center shrink-0",style:{backgroundColor:`${d.color}20`},children:u.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:d.color}})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"font-semibold text-sm truncate",children:d.title}),u.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[u.jsxs("span",{className:"text-green-500 font-semibold",children:[f," (",l.correlationCoefficient>=0?"+":"",l.correlationCoefficient.toFixed(2),")"]}),u.jsx("span",{children:""}),u.jsxs("span",{children:[Math.round(l.coOccurrenceRate),"% insieme"]})]})]})]}),u.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:l.suggestion})]},c)})})]}),o.length>0&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx(pi,{className:"w-4 h-4 text-red-500"}),u.jsx("h4",{className:"text-sm font-semibold text-red-500",children:"Correlazioni Negative"})]}),u.jsx("div",{className:"space-y-2",children:o.map((l,c)=>{const d=s(l),f=l.strength==="strong"?"Forte":"Moderata";return u.jsxs("div",{className:"bg-gradient-to-br from-red-500/5 to-transparent border-2 border-red-500/20 rounded-xl p-3",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center shrink-0",style:{backgroundColor:`${d.color}20`},children:u.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:d.color}})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"font-semibold text-sm truncate",children:d.title}),u.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[u.jsxs("span",{className:"text-red-500 font-semibold",children:[f," (",l.correlationCoefficient.toFixed(2),")"]}),u.jsx("span",{children:""}),u.jsxs("span",{children:[l.totalDaysTracked," giorni"]})]})]})]}),u.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:l.suggestion})]},c)})})]}),(a.length>0||o.length>0)&&u.jsx("div",{className:"mt-4 p-3 bg-blue-500/5 rounded-xl border border-blue-500/10",children:u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx(qs,{className:"w-4 h-4 text-blue-500 shrink-0 mt-0.5"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Le correlazioni positive suggeriscono abitudini che funzionano bene insieme. Le negative indicano possibili conflitti di tempo o energia."})]})})]})};var lw=0;function HNe(){S.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ZD()),document.body.insertAdjacentElement("beforeend",e[1]??ZD()),lw++,()=>{lw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),lw--}},[])}function ZD(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var GNe=[" ","Enter","ArrowUp","ArrowDown"],KNe=[" ","Enter"],ss="Select",[Lg,zg,YNe]=rm(ss),[vc]=Bn(ss,[YNe,hm]),Fg=hm(),[XNe,co]=vc(ss),[QNe,JNe]=vc(ss),qV=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:a,value:o,defaultValue:s,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:h,required:p,form:y}=e,m=Fg(t),[g,v]=S.useState(null),[b,x]=S.useState(null),[_,w]=S.useState(!1),j=nc(c),[k,A]=Si({prop:r,defaultProp:i??!1,onChange:a,caller:ss}),[P,O]=Si({prop:o,defaultProp:s,onChange:l,caller:ss}),T=S.useRef(null),N=g?y||!!g.closest("form"):!0,[M,E]=S.useState(new Set),R=Array.from(M).map(F=>F.props.value).join(";");return u.jsx(E$,{...m,children:u.jsxs(XNe,{required:p,scope:t,trigger:g,onTriggerChange:v,valueNode:b,onValueNodeChange:x,valueNodeHasChildren:_,onValueNodeHasChildrenChange:w,contentId:Ki(),value:P,onValueChange:O,open:k,onOpenChange:A,dir:j,triggerPointerDownPosRef:T,disabled:h,children:[u.jsx(Lg.Provider,{scope:t,children:u.jsx(QNe,{scope:e.__scopeSelect,onNativeOptionAdd:S.useCallback(F=>{E(z=>new Set(z).add(F))},[]),onNativeOptionRemove:S.useCallback(F=>{E(z=>{const q=new Set(z);return q.delete(F),q})},[]),children:n})}),N?u.jsxs(fW,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:P,onChange:F=>O(F.target.value),disabled:h,form:y,children:[P===void 0?u.jsx("option",{value:""}):null,Array.from(M)]},R):null]})})};qV.displayName=ss;var UV="SelectTrigger",VV=S.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,a=Fg(n),o=co(UV,n),s=o.disabled||r,l=ze(t,o.onTriggerChange),c=zg(n),d=S.useRef("touch"),[f,h,p]=pW(m=>{const g=c().filter(x=>!x.disabled),v=g.find(x=>x.value===o.value),b=mW(g,m,v);b!==void 0&&o.onValueChange(b.value)}),y=m=>{s||(o.onOpenChange(!0),p()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return u.jsx(A$,{asChild:!0,...a,children:u.jsx(Ae.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":hW(o.value)?"":void 0,...i,ref:l,onClick:Ee(i.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&y(m)}),onPointerDown:Ee(i.onPointerDown,m=>{d.current=m.pointerType;const g=m.target;g.hasPointerCapture(m.pointerId)&&g.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(y(m),m.preventDefault())}),onKeyDown:Ee(i.onKeyDown,m=>{const g=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(g&&m.key===" ")&&GNe.includes(m.key)&&(y(),m.preventDefault())})})})});VV.displayName=UV;var WV="SelectValue",HV=S.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:o="",...s}=e,l=co(WV,n),{onValueNodeHasChildrenChange:c}=l,d=a!==void 0,f=ze(t,l.onValueNodeChange);return Qt(()=>{c(d)},[c,d]),u.jsx(Ae.span,{...s,ref:f,style:{pointerEvents:"none"},children:hW(l.value)?u.jsx(u.Fragment,{children:o}):a})});HV.displayName=WV;var ZNe="SelectIcon",GV=S.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return u.jsx(Ae.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});GV.displayName=ZNe;var e2e="SelectPortal",KV=e=>u.jsx(am,{asChild:!0,...e});KV.displayName=e2e;var ls="SelectContent",YV=S.forwardRef((e,t)=>{const n=co(ls,e.__scopeSelect),[r,i]=S.useState();if(Qt(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?Xr.createPortal(u.jsx(XV,{scope:e.__scopeSelect,children:u.jsx(Lg.Slot,{scope:e.__scopeSelect,children:u.jsx("div",{children:e.children})})}),a):null}return u.jsx(QV,{...e,ref:t})});YV.displayName=ls;var Br=10,[XV,uo]=vc(ls),t2e="SelectContentImpl",n2e=wu("SelectContent.RemoveScroll"),QV=S.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:s,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:m,avoidCollisions:g,...v}=e,b=co(ls,n),[x,_]=S.useState(null),[w,j]=S.useState(null),k=ze(t,le=>_(le)),[A,P]=S.useState(null),[O,T]=S.useState(null),N=zg(n),[M,E]=S.useState(!1),R=S.useRef(!1);S.useEffect(()=>{if(x)return mz(x)},[x]),HNe();const F=S.useCallback(le=>{const[ue,...ee]=N().map(J=>J.ref.current),[te]=ee.slice(-1),ce=document.activeElement;for(const J of le)if(J===ce||(J?.scrollIntoView({block:"nearest"}),J===ue&&w&&(w.scrollTop=0),J===te&&w&&(w.scrollTop=w.scrollHeight),J?.focus(),document.activeElement!==ce))return},[N,w]),z=S.useCallback(()=>F([A,x]),[F,A,x]);S.useEffect(()=>{M&&z()},[M,z]);const{onOpenChange:q,triggerPointerDownPosRef:L}=b;S.useEffect(()=>{if(x){let le={x:0,y:0};const ue=te=>{le={x:Math.abs(Math.round(te.pageX)-(L.current?.x??0)),y:Math.abs(Math.round(te.pageY)-(L.current?.y??0))}},ee=te=>{le.x<=10&&le.y<=10?te.preventDefault():x.contains(te.target)||q(!1),document.removeEventListener("pointermove",ue),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",ue),document.addEventListener("pointerup",ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ue),document.removeEventListener("pointerup",ee,{capture:!0})}}},[x,q,L]),S.useEffect(()=>{const le=()=>q(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[q]);const[D,W]=pW(le=>{const ue=N().filter(ce=>!ce.disabled),ee=ue.find(ce=>ce.ref.current===document.activeElement),te=mW(ue,le,ee);te&&setTimeout(()=>te.ref.current.focus())}),B=S.useCallback((le,ue,ee)=>{const te=!R.current&&!ee;(b.value!==void 0&&b.value===ue||te)&&(P(le),te&&(R.current=!0))},[b.value]),$=S.useCallback(()=>x?.focus(),[x]),Q=S.useCallback((le,ue,ee)=>{const te=!R.current&&!ee;(b.value!==void 0&&b.value===ue||te)&&T(le)},[b.value]),Z=r==="popper"?m_:JV,fe=Z===m_?{side:s,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:m,avoidCollisions:g}:{};return u.jsx(XV,{scope:n,content:x,viewport:w,onViewportChange:j,itemRefCallback:B,selectedItem:A,onItemLeave:$,itemTextRefCallback:Q,focusSelectedItem:z,selectedItemText:O,position:r,isPositioned:M,searchRef:D,children:u.jsx(qj,{as:n2e,allowPinchZoom:!0,children:u.jsx(Bj,{asChild:!0,trapped:b.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:Ee(i,le=>{b.trigger?.focus({preventScroll:!0}),le.preventDefault()}),children:u.jsx(im,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:u.jsx(Z,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:le=>le.preventDefault(),...v,...fe,onPlaced:()=>E(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:Ee(v.onKeyDown,le=>{const ue=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!ue&&le.key.length===1&&W(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let te=N().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);if(["ArrowUp","End"].includes(le.key)&&(te=te.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const ce=le.target,J=te.indexOf(ce);te=te.slice(J+1)}setTimeout(()=>F(te)),le.preventDefault()}})})})})})})});QV.displayName=t2e;var r2e="SelectItemAlignedPosition",JV=S.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,a=co(ls,n),o=uo(ls,n),[s,l]=S.useState(null),[c,d]=S.useState(null),f=ze(t,k=>d(k)),h=zg(n),p=S.useRef(!1),y=S.useRef(!0),{viewport:m,selectedItem:g,selectedItemText:v,focusSelectedItem:b}=o,x=S.useCallback(()=>{if(a.trigger&&a.valueNode&&s&&c&&m&&g&&v){const k=a.trigger.getBoundingClientRect(),A=c.getBoundingClientRect(),P=a.valueNode.getBoundingClientRect(),O=v.getBoundingClientRect();if(a.dir!=="rtl"){const ce=O.left-A.left,J=P.left-ce,re=k.left-J,C=k.width+re,G=Math.max(C,A.width),H=window.innerWidth-Br,V=Bu(J,[Br,Math.max(Br,H-G)]);s.style.minWidth=C+"px",s.style.left=V+"px"}else{const ce=A.right-O.right,J=window.innerWidth-P.right-ce,re=window.innerWidth-k.right-J,C=k.width+re,G=Math.max(C,A.width),H=window.innerWidth-Br,V=Bu(J,[Br,Math.max(Br,H-G)]);s.style.minWidth=C+"px",s.style.right=V+"px"}const T=h(),N=window.innerHeight-Br*2,M=m.scrollHeight,E=window.getComputedStyle(c),R=parseInt(E.borderTopWidth,10),F=parseInt(E.paddingTop,10),z=parseInt(E.borderBottomWidth,10),q=parseInt(E.paddingBottom,10),L=R+F+M+q+z,D=Math.min(g.offsetHeight*5,L),W=window.getComputedStyle(m),B=parseInt(W.paddingTop,10),$=parseInt(W.paddingBottom,10),Q=k.top+k.height/2-Br,Z=N-Q,fe=g.offsetHeight/2,le=g.offsetTop+fe,ue=R+F+le,ee=L-ue;if(ue<=Q){const ce=T.length>0&&g===T[T.length-1].ref.current;s.style.bottom="0px";const J=c.clientHeight-m.offsetTop-m.offsetHeight,re=Math.max(Z,fe+(ce?$:0)+J+z),C=ue+re;s.style.height=C+"px"}else{const ce=T.length>0&&g===T[0].ref.current;s.style.top="0px";const re=Math.max(Q,R+m.offsetTop+(ce?B:0)+fe)+ee;s.style.height=re+"px",m.scrollTop=ue-Q+m.offsetTop}s.style.margin=`${Br}px 0`,s.style.minHeight=D+"px",s.style.maxHeight=N+"px",r?.(),requestAnimationFrame(()=>p.current=!0)}},[h,a.trigger,a.valueNode,s,c,m,g,v,a.dir,r]);Qt(()=>x(),[x]);const[_,w]=S.useState();Qt(()=>{c&&w(window.getComputedStyle(c).zIndex)},[c]);const j=S.useCallback(k=>{k&&y.current===!0&&(x(),b?.(),y.current=!1)},[x,b]);return u.jsx(a2e,{scope:n,contentWrapper:s,shouldExpandOnScrollRef:p,onScrollButtonChange:j,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:u.jsx(Ae.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});JV.displayName=r2e;var i2e="SelectPopperPosition",m_=S.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Br,...a}=e,o=Fg(n);return u.jsx(O$,{...o,...a,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});m_.displayName=i2e;var[a2e,RE]=vc(ls,{}),g_="SelectViewport",ZV=S.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,a=uo(g_,n),o=RE(g_,n),s=ze(t,a.onViewportChange),l=S.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(Lg.Slot,{scope:n,children:u.jsx(Ae.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ee(i.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h?.current&&f){const p=Math.abs(l.current-d.scrollTop);if(p>0){const y=window.innerHeight-Br*2,m=parseFloat(f.style.minHeight),g=parseFloat(f.style.height),v=Math.max(m,g);if(v<y){const b=v+p,x=Math.min(y,b),_=b-x;f.style.height=x+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});ZV.displayName=g_;var eW="SelectGroup",[o2e,s2e]=vc(eW),l2e=S.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Ki();return u.jsx(o2e,{scope:n,id:i,children:u.jsx(Ae.div,{role:"group","aria-labelledby":i,...r,ref:t})})});l2e.displayName=eW;var tW="SelectLabel",nW=S.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=s2e(tW,n);return u.jsx(Ae.div,{id:i.id,...r,ref:t})});nW.displayName=tW;var tm="SelectItem",[c2e,rW]=vc(tm),iW=S.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...o}=e,s=co(tm,n),l=uo(tm,n),c=s.value===r,[d,f]=S.useState(a??""),[h,p]=S.useState(!1),y=ze(t,b=>l.itemRefCallback?.(b,r,i)),m=Ki(),g=S.useRef("touch"),v=()=>{i||(s.onValueChange(r),s.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(c2e,{scope:n,value:r,disabled:i,textId:m,isSelected:c,onItemTextChange:S.useCallback(b=>{f(x=>x||(b?.textContent??"").trim())},[]),children:u.jsx(Lg.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:u.jsx(Ae.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:y,onFocus:Ee(o.onFocus,()=>p(!0)),onBlur:Ee(o.onBlur,()=>p(!1)),onClick:Ee(o.onClick,()=>{g.current!=="mouse"&&v()}),onPointerUp:Ee(o.onPointerUp,()=>{g.current==="mouse"&&v()}),onPointerDown:Ee(o.onPointerDown,b=>{g.current=b.pointerType}),onPointerMove:Ee(o.onPointerMove,b=>{g.current=b.pointerType,i?l.onItemLeave?.():g.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ee(o.onPointerLeave,b=>{b.currentTarget===document.activeElement&&l.onItemLeave?.()}),onKeyDown:Ee(o.onKeyDown,b=>{l.searchRef?.current!==""&&b.key===" "||(KNe.includes(b.key)&&v(),b.key===" "&&b.preventDefault())})})})})});iW.displayName=tm;var Jc="SelectItemText",aW=S.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...a}=e,o=co(Jc,n),s=uo(Jc,n),l=rW(Jc,n),c=JNe(Jc,n),[d,f]=S.useState(null),h=ze(t,v=>f(v),l.onItemTextChange,v=>s.itemTextRefCallback?.(v,l.value,l.disabled)),p=d?.textContent,y=S.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:g}=c;return Qt(()=>(m(y),()=>g(y)),[m,g,y]),u.jsxs(u.Fragment,{children:[u.jsx(Ae.span,{id:l.textId,...a,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Xr.createPortal(a.children,o.valueNode):null]})});aW.displayName=Jc;var oW="SelectItemIndicator",sW=S.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return rW(oW,n).isSelected?u.jsx(Ae.span,{"aria-hidden":!0,...r,ref:t}):null});sW.displayName=oW;var y_="SelectScrollUpButton",lW=S.forwardRef((e,t)=>{const n=uo(y_,e.__scopeSelect),r=RE(y_,e.__scopeSelect),[i,a]=S.useState(!1),o=ze(t,r.onScrollButtonChange);return Qt(()=>{if(n.viewport&&n.isPositioned){let s=function(){const c=l.scrollTop>0;a(c)};const l=n.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[n.viewport,n.isPositioned]),i?u.jsx(uW,{...e,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=n;s&&l&&(s.scrollTop=s.scrollTop-l.offsetHeight)}}):null});lW.displayName=y_;var v_="SelectScrollDownButton",cW=S.forwardRef((e,t)=>{const n=uo(v_,e.__scopeSelect),r=RE(v_,e.__scopeSelect),[i,a]=S.useState(!1),o=ze(t,r.onScrollButtonChange);return Qt(()=>{if(n.viewport&&n.isPositioned){let s=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;a(d)};const l=n.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[n.viewport,n.isPositioned]),i?u.jsx(uW,{...e,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=n;s&&l&&(s.scrollTop=s.scrollTop+l.offsetHeight)}}):null});cW.displayName=v_;var uW=S.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,a=uo("SelectScrollButton",n),o=S.useRef(null),s=zg(n),l=S.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return S.useEffect(()=>()=>l(),[l]),Qt(()=>{s().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[s]),u.jsx(Ae.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Ee(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Ee(i.onPointerMove,()=>{a.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Ee(i.onPointerLeave,()=>{l()})})}),u2e="SelectSeparator",dW=S.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return u.jsx(Ae.div,{"aria-hidden":!0,...r,ref:t})});dW.displayName=u2e;var b_="SelectArrow",d2e=S.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Fg(n),a=co(b_,n),o=uo(b_,n);return a.open&&o.position==="popper"?u.jsx(C$,{...i,...r,ref:t}):null});d2e.displayName=b_;var f2e="SelectBubbleInput",fW=S.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=S.useRef(null),a=ze(r,i),o=Zm(t);return S.useEffect(()=>{const s=i.current;if(!s)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(s,t),s.dispatchEvent(f)}},[o,t]),u.jsx(Ae.select,{...n,style:{...g5,...n.style},ref:a,defaultValue:t})});fW.displayName=f2e;function hW(e){return e===""||e===void 0}function pW(e){const t=Ut(e),n=S.useRef(""),r=S.useRef(0),i=S.useCallback(o=>{const s=n.current+o;t(s),(function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))})(s)},[t]),a=S.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function mW(e,t,n){const i=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=h2e(e,Math.max(a,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function h2e(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var p2e=qV,gW=VV,m2e=HV,g2e=GV,y2e=KV,yW=YV,v2e=ZV,vW=nW,bW=iW,b2e=aW,x2e=sW,xW=lW,wW=cW,SW=dW;const di=p2e,Ra=m2e,Gr=S.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(gW,{ref:r,className:ae("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,u.jsx(g2e,{asChild:!0,children:u.jsx(E_,{className:"h-4 w-4 opacity-50"})})]}));Gr.displayName=gW.displayName;const _W=S.forwardRef(({className:e,...t},n)=>u.jsx(xW,{ref:n,className:ae("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(n9,{className:"h-4 w-4"})}));_W.displayName=xW.displayName;const jW=S.forwardRef(({className:e,...t},n)=>u.jsx(wW,{ref:n,className:ae("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(E_,{className:"h-4 w-4"})}));jW.displayName=wW.displayName;const Kr=S.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>u.jsx(y2e,{children:u.jsxs(yW,{ref:i,className:ae("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[u.jsx(_W,{}),u.jsx(v2e,{className:ae("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),u.jsx(jW,{})]})}));Kr.displayName=yW.displayName;const w2e=S.forwardRef(({className:e,...t},n)=>u.jsx(vW,{ref:n,className:ae("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));w2e.displayName=vW.displayName;const qt=S.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(bW,{ref:r,className:ae("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(x2e,{children:u.jsx(ci,{className:"h-4 w-4"})})}),u.jsx(b2e,{children:t})]}));qt.displayName=bW.displayName;const S2e=S.forwardRef(({className:e,...t},n)=>u.jsx(SW,{ref:n,className:ae("-mx-1 my-1 h-px bg-muted",e),...t}));S2e.displayName=SW.displayName;const _2e=()=>{const{goals:e,allGoals:t,logs:n}=zj(),[r,i]=S.useState("weekly"),[a,o]=S.useState(null),[s,l]=S.useState("rate"),c=s8(e,n,r),{isPrivacyMode:d}=Cm(),{isAIEnabled:f}=ym(),{correlations:h,insights:p}=Kme(e,n),{correlations:y,insights:m}=Zme(e,n),g=S.useMemo(()=>t.find(w=>w.id===a)||null,[t,a]),v=S.useMemo(()=>{const w=[...c.habitStats];switch(s){case"rate":return w.sort((j,k)=>k.completionRate-j.completionRate);case"best":return w.sort((j,k)=>k.longestStreak-j.longestStreak);case"worst":return w.sort((j,k)=>k.worstStreak-j.worstStreak);case"current":return w.sort((j,k)=>k.currentStreak-j.currentStreak);case"name":return w.sort((j,k)=>j.title.localeCompare(k.title));default:return w}},[c.habitStats,s]),b=S.useMemo(()=>{if(!g)return null;const w=[],j=new Date,k=new Date(g.start_date),A=g.end_date?new Date(g.end_date):j,P=A>j?j:A;_r({start:k,end:P}).forEach(re=>{const C=Xe(re,"yyyy-MM-dd"),G=n[C]?.[g.id]||null;w.push({date:C,status:G})});const T=w.length,N=w.filter(re=>re.status==="done").length,M=w.filter(re=>re.status==="missed").length,E=T>0?Math.round(N/T*100):0;let R=0,F=0,z=0;const q=[];let L=0,D=0,W="",B="";for(let re=0;re<w.length;re++){const C=w[re];C.status==="done"?(z++,z>F&&(F=z),L>D&&(D=L,W=B),L=0):(z>2&&q.push({date:C.date,streakLength:z}),z=0,(C.status==="missed"||C.status===null)&&(L===0&&(B=C.date),L++))}L>D&&(D=L,W=B);for(let re=w.length-1;re>=0&&w[re].status==="done";re--)R++;const $=[0,0,0,0,0,0,0],Q=[0,0,0,0,0,0,0];w.forEach(re=>{const C=new Date(re.date).getDay(),G=C===0?6:C-1;Q[G]++,re.status==="done"&&$[G]++});const Z=["Lun","Mar","Mer","Gio","Ven","Sab","Dom"].map((re,C)=>({day:re,rate:Q[C]>0?Math.round($[C]/Q[C]*100):0,total:Q[C],done:$[C]})),fe=Z.reduce((re,C)=>C.total>2&&C.rate<re.rate?C:re,{day:"N/A",rate:100,total:0,done:0}),le=Om(j),ue=tne(j),te=_r({start:le,end:ue}).map(re=>{const C=Xe(re,"yyyy-MM-dd"),G=n[C]?.[g.id];return{date:C,count:G==="done"?1:G==="missed"?-1:0,intensity:G==="done"?1:G==="missed"?.5:0}}),J=_r({start:new Date(j.getTime()-720*60*60*1e3),end:j}).map(re=>{const C=Xe(re,"yyyy-MM-dd"),G=n[C]?.[g.id];return{date:Xe(re,"dd/MM"),value:G==="done"?100:0,status:G||null}});return{totalDays:T,doneDays:N,missedDays:M,completionRate:E,currentStreak:R,bestStreak:F,brokenStreaks:q.slice(-5).reverse(),worstNegativeStreak:D,worstNegativeStreakStart:W,weekdayPerformance:Z,worstDay:fe,heatmapData:te,trendData:J}},[g,n]),x=c.habitStats.length>0?c.habitStats.reduce((w,j)=>w.completionRate>j.completionRate?w:j,c.habitStats[0]):null,_=w=>{o(w==="all"?null:w)};return u.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-5xl animate-fade-in pb-32 space-y-6",children:[u.jsx("div",{className:"fixed top-20 left-1/2 -translate-x-1/2 w-[800px] h-[800px] bg-primary/5 blur-[120px] rounded-full pointer-events-none -z-10"}),u.jsxs("div",{className:ae("space-y-3",d&&"blur-sm"),children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("h1",{className:"text-2xl sm:text-3xl font-display font-bold text-foreground",children:"Le tue Statistiche"}),u.jsx("p",{className:"text-muted-foreground font-light text-sm sm:text-base",children:"Analisi dettagliata delle tue performance."})]}),u.jsxs(di,{value:a||"all",onValueChange:_,children:[u.jsx(Gr,{className:"w-full sm:w-[300px] glass-panel border-white/10",children:u.jsx(Ra,{placeholder:"Seleziona goal"})}),u.jsxs(Kr,{children:[u.jsx(qt,{value:"all",children:u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(Gn,{className:"w-4 h-4"}),"Tutti i Goals"]})}),t.map(w=>u.jsx(qt,{value:w.id,children:u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:w.color}}),w.title,w.end_date&&u.jsx("span",{className:"text-xs text-muted-foreground",children:"(archiviato)"})]})},w.id))]})]})]}),a===null?u.jsxs(Js,{defaultValue:"panoramica",className:"w-full",children:[u.jsxs(qo,{className:"grid w-full grid-cols-5 mb-4 shrink-0",children:[u.jsx(vt,{value:"panoramica",className:"text-xs sm:text-sm",children:"Info"}),u.jsx(vt,{value:"trend",className:"text-xs sm:text-sm",children:"Trend"}),u.jsx(vt,{value:"analisi",className:"text-xs sm:text-sm",children:"Alert"}),u.jsx(vt,{value:"abitudini",className:"text-xs sm:text-sm",children:"Abitudini"}),u.jsx(vt,{value:"mood-energia",className:"text-xs sm:text-sm flex items-center gap-1",children:u.jsx("span",{children:"Mood"})})]}),u.jsxs(Nn,{value:"panoramica",className:"mt-0 space-y-6",children:[u.jsx("div",{className:ae("transition-all duration-300",d&&"blur-sm"),children:u.jsx(ege,{globalStats:{totalActiveDays:c.totalActiveDays,globalSuccessRate:c.globalSuccessRate,bestStreak:c.bestStreak,worstDay:c.worstDay},bestHabit:x||void 0})}),f&&u.jsx("div",{className:"hidden lg:block",children:u.jsx("div",{onClick:()=>window.location.hash="/ai-coach",className:"glass-panel rounded-3xl p-6 cursor-pointer hover:scale-[1.02] transition-all duration-300 border-2 border-primary/20 hover:border-primary/40 group",children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-primary/20 to-purple-500/20 flex items-center justify-center shrink-0 group-hover:scale-110 transition-transform",children:u.jsx(Hi,{className:"w-7 h-7 text-primary animate-pulse"})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("h3",{className:"text-lg sm:text-xl font-display font-semibold mb-2 flex items-center gap-2",children:["AI Coach",u.jsx("span",{className:"text-xs bg-primary/20 text-primary px-2 py-0.5 rounded-full font-normal",children:"Nuovo"})]}),u.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Genera un report settimanale personalizzato con analisi AI dei tuoi progressi e suggerimenti concreti per migliorare."}),u.jsxs("div",{className:"flex items-center gap-2 text-xs text-primary",children:[u.jsx("span",{className:"font-semibold",children:"Clicca per iniziare"}),u.jsx("span",{children:""})]})]})]})})}),m.totalPairs>0&&u.jsxs(u.Fragment,{children:[m.keystoneHabits.length>0&&u.jsx("div",{className:ae("transition-all duration-300",d&&"blur-sm"),children:u.jsx(UNe,{keystoneHabits:m.keystoneHabits})}),u.jsx("div",{className:ae("transition-all duration-300",d&&"blur-sm"),children:u.jsx(VNe,{insights:m})}),m.strongestPositive.length>0&&u.jsx("div",{className:ae("transition-all duration-300",d&&"blur-sm"),children:u.jsxs("div",{className:"space-y-3",children:[u.jsxs("h3",{className:"text-base sm:text-lg font-display font-semibold flex items-center gap-2",children:[u.jsx("span",{className:"text-green-500",children:""}),"Correlazioni Positive"]}),m.strongestPositive.map((w,j)=>u.jsx(JD,{correlation:w},j))]})}),m.strongestNegative.length>0&&u.jsx("div",{className:ae("transition-all duration-300",d&&"blur-sm"),children:u.jsxs("div",{className:"space-y-3",children:[u.jsxs("h3",{className:"text-base sm:text-lg font-display font-semibold flex items-center gap-2",children:[u.jsx("span",{className:"text-red-500",children:""}),"Correlazioni Negative"]}),u.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Queste abitudini tendono a non essere completate insieme."}),m.strongestNegative.map((w,j)=>u.jsx(JD,{correlation:w},j))]})})]}),u.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[u.jsxs("h3",{className:"text-base sm:text-lg font-display font-semibold mb-4 flex items-center gap-2",children:[u.jsx("span",{className:"w-2 h-2 rounded-sm bg-primary animate-pulse"}),"Attivit Recente"]}),u.jsx(tge,{data:c.heatmapData})]})]}),u.jsxs(Nn,{value:"trend",className:"mt-0 space-y-6",children:[u.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6 h-[350px] sm:h-[400px] flex flex-col",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 mb-4",children:[u.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold",children:"Trend"}),u.jsx(Js,{value:r,onValueChange:w=>i(w),className:"w-full sm:w-auto",children:u.jsxs(qo,{className:"grid w-full grid-cols-4 sm:w-[300px]",children:[u.jsx(vt,{value:"weekly",className:"text-xs",children:"Sett"}),u.jsx(vt,{value:"monthly",className:"text-xs",children:"Mese"}),u.jsx(vt,{value:"annual",className:"text-xs",children:"Anno"}),u.jsx(vt,{value:"all",className:"text-xs",children:"Tutto"})]})})]}),u.jsx("div",{className:"flex-1 w-full min-h-0",children:u.jsx(NNe,{data:c.trendData})})]}),u.jsx("div",{className:ae("transition-all duration-300",d&&"blur-sm"),children:u.jsx(MNe,{comparisons:c.comparisons,goals:e})})]}),u.jsxs(Nn,{value:"analisi",className:"mt-0 space-y-6",children:[u.jsx("div",{className:ae("transition-all duration-300",d&&"blur-sm"),children:u.jsx(DNe,{criticalHabits:c.criticalHabits})}),u.jsx("div",{className:ae("transition-all duration-300",d&&"blur-sm"),children:u.jsx(qNe,{habitStats:c.habitStats})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[u.jsxs("div",{className:ae("glass-panel rounded-3xl p-4 sm:p-6 h-[300px] sm:h-[350px] flex flex-col transition-all duration-300",d&&"blur-sm"),children:[u.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold mb-3",children:"Focus Abitudini"}),u.jsx("div",{className:"flex-1 w-full min-h-0",children:u.jsx(RNe,{stats:c.habitStats})})]}),u.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6 h-[300px] sm:h-[350px] flex flex-col",children:[u.jsxs("div",{className:"mb-3",children:[u.jsxs("h3",{className:"text-base sm:text-lg font-display font-semibold flex items-center gap-2",children:[u.jsx("span",{className:"w-2 h-2 rounded-sm bg-primary animate-pulse"}),"Costanza Settimanale"]}),u.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Scopri in quali giorni sei pi produttivo."})]}),u.jsx("div",{className:"flex-1 w-full min-h-0",children:u.jsx(INe,{data:c.weekdayStats})})]})]})]}),u.jsx(Nn,{value:"abitudini",className:"mt-0",children:u.jsxs("div",{className:ae("glass-panel rounded-3xl p-4 sm:p-6 transition-all duration-300",d&&"blur-sm"),children:[u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 mb-4 sm:mb-6",children:[u.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold",children:"Dettagli Abitudini"}),u.jsxs(di,{value:s,onValueChange:w=>l(w),children:[u.jsx(Gr,{className:"w-full sm:w-[200px] glass-card border-white/10",children:u.jsx(Ra,{})}),u.jsxs(Kr,{children:[u.jsx(qt,{value:"rate",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(An,{className:"w-4 h-4 text-primary"}),u.jsx("span",{children:"Rate"})]})}),u.jsx(qt,{value:"best",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ma,{className:"w-4 h-4 text-yellow-500"}),u.jsx("span",{children:"Best Streak"})]})}),u.jsx(qt,{value:"worst",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(pi,{className:"w-4 h-4 text-destructive"}),u.jsx("span",{children:"Worst Streak"})]})}),u.jsx(qt,{value:"current",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(mw,{className:"w-4 h-4 text-orange-500"}),u.jsx("span",{children:"Serie Attuale"})]})}),u.jsx(qt,{value:"name",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(QH,{className:"w-4 h-4"}),u.jsx("span",{children:"Nome"})]})})]})]})]}),u.jsx("div",{className:"space-y-3",children:c.habitStats.length===0?u.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Nessuna abitudine tracciata ancora."}):u.jsx(u.Fragment,{children:(()=>{const w=v.filter(k=>{const A=t.find(P=>P.id===k.id);return A&&!A.end_date}),j=v.filter(k=>{const A=t.find(P=>P.id===k.id);return A&&A.end_date});return u.jsxs(u.Fragment,{children:[w.map(k=>u.jsxs("div",{className:"glass-card rounded-xl p-3 sm:p-4 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4 group cursor-pointer hover:bg-white/5 transition-colors",onClick:()=>o(k.id),children:[u.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 w-full sm:w-auto",children:[u.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl flex items-center justify-center bg-white/5 border border-white/10 group-hover:scale-110 transition-transform duration-300 shadow-lg shrink-0",style:{borderColor:`${k.color}40`,boxShadow:`0 0 20px ${k.color}10`},children:u.jsx("div",{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 rounded-sm",style:{backgroundColor:k.color}})}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("span",{className:"font-semibold text-foreground text-base sm:text-lg truncate block",children:k.title}),u.jsx("div",{className:"h-1 w-16 sm:w-20 bg-secondary rounded-full mt-1 overflow-hidden",children:u.jsx("div",{className:"h-full bg-primary transition-all duration-500",style:{width:`${k.completionRate}%`,backgroundColor:k.color}})})]})]}),u.jsxs("div",{className:"grid grid-cols-4 gap-3 sm:flex sm:gap-6 text-sm text-muted-foreground w-full sm:w-auto justify-between sm:justify-end",children:[u.jsxs("div",{className:"flex flex-col items-center sm:items-end",children:[u.jsxs("span",{className:"text-[9px] sm:text-[10px] uppercase tracking-widest font-bold opacity-60 mb-0.5 flex items-center gap-1",children:[u.jsx(Ma,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-yellow-500"})," Best"]}),u.jsxs("span",{className:"font-mono text-base sm:text-lg font-bold text-foreground",children:[k.longestStreak,u.jsx("span",{className:"text-[10px] sm:text-xs font-sans font-normal opacity-50",children:"gg"})]})]}),u.jsxs("div",{className:"flex flex-col items-center sm:items-end",children:[u.jsxs("span",{className:"text-[9px] sm:text-[10px] uppercase tracking-widest font-bold opacity-60 mb-0.5 flex items-center gap-1",children:[u.jsx(pi,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-destructive"})," Worst"]}),u.jsxs("span",{className:"font-mono text-base sm:text-lg font-bold text-destructive",children:[k.worstStreak,u.jsx("span",{className:"text-[10px] sm:text-xs font-sans font-normal opacity-50",children:"gg"})]})]}),u.jsxs("div",{className:"flex flex-col items-center sm:items-end",children:[u.jsx("span",{className:"text-[9px] sm:text-[10px] uppercase tracking-widest font-bold opacity-60 mb-0.5",children:"Serie"}),u.jsxs("span",{className:"font-mono text-base sm:text-lg font-bold text-foreground",children:[k.currentStreak,u.jsx("span",{className:"text-[10px] sm:text-xs font-sans font-normal opacity-50",children:"gg"})]})]}),u.jsxs("div",{className:"flex flex-col items-center sm:items-end",children:[u.jsx("span",{className:"text-[9px] sm:text-[10px] uppercase tracking-widest font-bold opacity-60 mb-0.5",children:"Rate"}),u.jsxs("span",{className:"font-mono text-base sm:text-lg font-bold text-foreground",children:[k.completionRate,u.jsx("span",{className:"text-[10px] sm:text-sm",children:"%"})]})]})]})]},k.id)),j.length>0&&u.jsxs("div",{className:"relative py-4",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-white/10"})}),u.jsx("div",{className:"relative flex justify-center",children:u.jsxs("span",{className:"bg-[#0a0a0a] px-3 text-xs uppercase tracking-widest text-muted-foreground font-semibold",children:["Archiviate (",j.length,")"]})})]}),j.map(k=>u.jsxs("div",{className:"glass-card rounded-xl p-3 sm:p-4 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4 group cursor-pointer hover:bg-white/5 transition-colors opacity-60",onClick:()=>o(k.id),children:[u.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 w-full sm:w-auto",children:[u.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl flex items-center justify-center bg-white/5 border border-white/10 group-hover:scale-110 transition-transform duration-300 shadow-lg shrink-0",style:{borderColor:`${k.color}40`,boxShadow:`0 0 20px ${k.color}10`},children:u.jsx("div",{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 rounded-sm",style:{backgroundColor:k.color}})}),u.jsxs("div",{className:"min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-semibold text-foreground text-base sm:text-lg truncate",children:k.title}),u.jsx("span",{className:"text-xs text-muted-foreground shrink-0",children:"(archiviato)"})]}),u.jsx("div",{className:"h-1 w-16 sm:w-20 bg-secondary rounded-full mt-1 overflow-hidden",children:u.jsx("div",{className:"h-full bg-primary transition-all duration-500",style:{width:`${k.completionRate}%`,backgroundColor:k.color}})})]})]}),u.jsxs("div",{className:"grid grid-cols-4 gap-3 sm:flex sm:gap-6 text-sm text-muted-foreground w-full sm:w-auto justify-between sm:justify-end",children:[u.jsxs("div",{className:"flex flex-col items-center sm:items-end",children:[u.jsxs("span",{className:"text-[9px] sm:text-[10px] uppercase tracking-widest font-bold opacity-60 mb-0.5 flex items-center gap-1",children:[u.jsx(Ma,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-yellow-500"})," Best"]}),u.jsxs("span",{className:"font-mono text-base sm:text-lg font-bold text-foreground",children:[k.longestStreak,u.jsx("span",{className:"text-[10px] sm:text-xs font-sans font-normal opacity-50",children:"gg"})]})]}),u.jsxs("div",{className:"flex flex-col items-center sm:items-end",children:[u.jsxs("span",{className:"text-[9px] sm:text-[10px] uppercase tracking-widest font-bold opacity-60 mb-0.5 flex items-center gap-1",children:[u.jsx(pi,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-destructive"})," Worst"]}),u.jsxs("span",{className:"font-mono text-base sm:text-lg font-bold text-destructive",children:[k.worstStreak,u.jsx("span",{className:"text-[10px] sm:text-xs font-sans font-normal opacity-50",children:"gg"})]})]}),u.jsxs("div",{className:"flex flex-col items-center sm:items-end",children:[u.jsx("span",{className:"text-[9px] sm:text-[10px] uppercase tracking-widest font-bold opacity-60 mb-0.5",children:"Serie"}),u.jsxs("span",{className:"font-mono text-base sm:text-lg font-bold text-foreground",children:[k.currentStreak,u.jsx("span",{className:"text-[10px] sm:text-xs font-sans font-normal opacity-50",children:"gg"})]})]}),u.jsxs("div",{className:"flex flex-col items-center sm:items-end",children:[u.jsx("span",{className:"text-[9px] sm:text-[10px] uppercase tracking-widest font-bold opacity-60 mb-0.5",children:"Rate"}),u.jsxs("span",{className:"font-mono text-base sm:text-lg font-bold text-foreground",children:[k.completionRate,u.jsx("span",{className:"text-[10px] sm:text-sm",children:"%"})]})]})]})]},k.id))]})})()})})]})}),u.jsxs(Nn,{value:"mood-energia",className:"mt-0 space-y-6",children:[u.jsx("div",{className:ae("transition-all duration-300",d&&"blur-sm"),children:u.jsx(LNe,{})}),u.jsx("div",{className:ae("transition-all duration-300",d&&"blur-sm"),children:u.jsx(BNe,{insights:p})}),u.jsx("div",{className:ae("transition-all duration-300",d&&"blur-sm"),children:u.jsx(FNe,{correlations:h})})]})]}):g&&b&&u.jsxs(Js,{defaultValue:"overview",className:"w-full",children:[u.jsxs(qo,{className:"grid w-full grid-cols-5 mb-4 shrink-0",children:[u.jsxs(vt,{value:"overview",className:"text-xs sm:text-sm",children:[u.jsx("span",{className:"hidden sm:inline",children:"Overview"}),u.jsx("span",{className:"sm:hidden",children:"Info"})]}),u.jsxs(vt,{value:"calendario",className:"text-xs sm:text-sm",children:[u.jsx("span",{className:"hidden sm:inline",children:"Calendario"}),u.jsx("span",{className:"sm:hidden",children:"Cal"})]}),u.jsxs(vt,{value:"performance",className:"text-xs sm:text-sm",children:[u.jsx("span",{className:"hidden sm:inline",children:"Performance"}),u.jsx("span",{className:"sm:hidden",children:"Perf"})]}),u.jsxs(vt,{value:"miglioramento",className:"text-xs sm:text-sm",children:[u.jsx("span",{className:"hidden sm:inline",children:"Miglioramento"}),u.jsx("span",{className:"sm:hidden",children:"Tips"})]}),u.jsxs(vt,{value:"mood-energia",className:"text-xs sm:text-sm flex items-center gap-1",children:[u.jsx(Hi,{className:"w-3 h-3"}),u.jsx("span",{children:"Mood"})]})]}),u.jsxs(Nn,{value:"overview",className:"mt-0 space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4",children:[u.jsxs("div",{className:"glass-panel rounded-2xl p-4 text-center",children:[u.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Serie Attuale"}),u.jsx("p",{className:"text-3xl font-bold font-mono",style:{color:g.color},children:b.currentStreak}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"giorni"})]}),u.jsxs("div",{className:"glass-panel rounded-2xl p-4 text-center",children:[u.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Record"}),u.jsx("p",{className:"text-3xl font-bold font-mono text-yellow-500",children:b.bestStreak}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"giorni"})]}),u.jsxs("div",{className:"glass-panel rounded-2xl p-4 text-center",children:[u.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Completamento"}),u.jsxs("p",{className:"text-3xl font-bold font-mono text-primary",children:[b.completionRate,"%"]}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:[b.doneDays,"/",b.totalDays," gg"]})]}),u.jsxs("div",{className:"glass-panel rounded-2xl p-4 text-center",children:[u.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Mancati"}),u.jsx("p",{className:"text-3xl font-bold font-mono text-destructive",children:b.missedDays}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"giorni"})]})]}),u.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[u.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold mb-4",children:"Trend Ultimi 30 Giorni"}),u.jsx("div",{className:"grid grid-cols-10 gap-1 sm:gap-2",children:b.trendData.slice(-30).map((w,j)=>u.jsx("div",{className:"aspect-square rounded-md sm:rounded-lg transition-all duration-300 hover:scale-110",style:{backgroundColor:w.status==="done"?"#11FF00":w.status==="missed"?"#FF0000":"rgba(255,255,255,0.1)",opacity:w.status?1:.4},title:w.date},j))}),u.jsxs("div",{className:"flex items-center gap-4 mt-3 text-xs text-muted-foreground",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:"#11FF00"}}),u.jsx("span",{children:"Completato"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("div",{className:"w-3 h-3 rounded-sm bg-white/10"}),u.jsx("span",{children:"Non completato"})]})]})]}),u.jsx("div",{className:ae("transition-all duration-300",d&&"blur-sm"),children:u.jsx(WNe,{habitId:g.id,habitTitle:g.title,habitColor:g.color,allCorrelations:y})})]}),u.jsx(Nn,{value:"calendario",className:"mt-0 space-y-6",children:u.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[u.jsxs("h3",{className:"text-base sm:text-lg font-display font-semibold mb-4 flex items-center gap-2",children:[u.jsx(Ha,{className:"w-5 h-5"}),"Calendario Annuale"]}),u.jsx("div",{className:"flex gap-1 flex-wrap",children:b.heatmapData.map((w,j)=>u.jsx("div",{className:"w-3 h-3 rounded-sm transition-all",style:{backgroundColor:w.count===1?"#11FF00":w.count===-1?"#FF0000":"rgba(255,255,255,0.05)"},title:`${w.date}: ${w.count===1?"Completato":w.count===-1?"Mancato":"Non tracciato"}`},j))}),u.jsxs("div",{className:"flex items-center gap-4 mt-4 text-xs text-muted-foreground",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:"#11FF00"}}),u.jsx("span",{children:"Completato"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("div",{className:"w-3 h-3 rounded-sm bg-destructive"}),u.jsx("span",{children:"Mancato"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("div",{className:"w-3 h-3 rounded-sm bg-white/5"}),u.jsx("span",{children:"Non tracciato"})]})]})]})}),u.jsxs(Nn,{value:"performance",className:"mt-0 space-y-6",children:[u.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[u.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold mb-4",children:"Performance per Giorno"}),u.jsx("div",{className:"grid grid-cols-7 gap-2",children:b.weekdayPerformance.map((w,j)=>u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:w.day}),u.jsx("div",{className:"h-24 bg-white/5 rounded-lg relative overflow-hidden",children:u.jsx("div",{className:"absolute bottom-0 left-0 right-0 transition-all duration-500 rounded-t",style:{height:`${w.rate}%`,backgroundColor:w.rate>=70?"#11FF00":w.rate>=40?"#f59e0b":"#FF0000"}})}),u.jsxs("p",{className:"text-sm font-bold mt-2",children:[w.rate,"%"]})]},j))})]}),b.worstDay.day!=="N/A"&&u.jsx("div",{className:"glass-panel rounded-2xl p-4 border border-destructive/30",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(rl,{className:"w-5 h-5 text-destructive"}),u.jsxs("div",{children:[u.jsxs("p",{className:"font-semibold",children:["Giorno pi debole: ",b.worstDay.day]}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Solo ",b.worstDay.rate,"% di completamento (",b.worstDay.done,"/",b.worstDay.total,")"]})]})]})})]}),u.jsxs(Nn,{value:"miglioramento",className:"mt-0 space-y-6",children:[u.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[u.jsxs("h3",{className:"text-base sm:text-lg font-display font-semibold mb-4 flex items-center gap-2",children:[u.jsx(pi,{className:"w-5 h-5 text-destructive"}),"Serie Negativa Peggiore"]}),b.worstNegativeStreak>0?u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"text-4xl font-bold font-mono text-destructive",children:b.worstNegativeStreak}),u.jsxs("div",{children:[u.jsx("p",{className:"text-muted-foreground",children:"giorni consecutivi mancati"}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Iniziata il ",Xe(new Date(b.worstNegativeStreakStart),"d MMMM yyyy",{locale:Hn})]})]})]}):u.jsx("p",{className:"text-muted-foreground",children:"Nessuna serie negativa significativa. Ottimo lavoro! "})]}),u.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[u.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold mb-4",children:"Streak Interrotti"}),b.brokenStreaks.length>0?u.jsx("div",{className:"space-y-3",children:b.brokenStreaks.map((w,j)=>u.jsx("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-xl",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-destructive/20 flex items-center justify-center",children:u.jsx("span",{className:"text-destructive font-bold",children:w.streakLength})}),u.jsxs("div",{children:[u.jsxs("p",{className:"font-semibold",children:["Streak di ",w.streakLength," giorni interrotto"]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:Xe(new Date(w.date),"d MMMM yyyy",{locale:Hn})})]})]})},j))}):u.jsx("p",{className:"text-muted-foreground",children:"Nessuno streak significativo interrotto."})]}),u.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6 border border-primary/30",children:[u.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold mb-4",children:" Suggerimenti"}),u.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[b.worstDay.day!=="N/A"&&b.worstDay.rate<50&&u.jsxs("li",{children:[" Concentrati sul ",u.jsx("strong",{className:"text-foreground",children:b.worstDay.day})," -  il tuo giorno pi debole"]}),b.worstNegativeStreak>=3&&u.jsxs("li",{children:[" Evita pause prolungate - la tua serie negativa pi lunga  stata di ",b.worstNegativeStreak," giorni"]}),b.completionRate<70&&u.jsx("li",{children:" Obiettivo: raggiungi almeno il 70% di completamento per consolidare l'abitudine"}),b.completionRate>=80&&u.jsx("li",{children:"  Ottimo lavoro! Mantieni questa costanza"})]})]})]}),u.jsx(Nn,{value:"mood-energia",className:"mt-0 space-y-6",children:(()=>{const w=h.find(j=>j.habitId===a);return w?u.jsx(zNe,{correlation:w}):u.jsxs("div",{className:"glass-panel rounded-3xl p-8 text-center",children:[u.jsx(Hi,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground opacity-50"}),u.jsx("p",{className:"text-muted-foreground",children:"Non ci sono abbastanza dati per analizzare la correlazione mood/energia."}),u.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Registra il tuo mood ed energia quotidianamente per vedere le correlazioni."})]})})()})]},a)]})},rr={red:"Rosso",orange:"Arancione",yellow:"Giallo",blue:"Blu",purple:"Viola",pink:"Rosa",cyan:"Ciano"},Zc={red:"hsl(0 65% 55%)",orange:"hsl(25 60% 45%)",yellow:"hsl(45 90% 45%)",blue:"hsl(220 70% 50%)",purple:"hsl(270 70% 50%)",pink:"hsl(330 70% 50%)",cyan:"hsl(170 70% 40%)"};function IE(){const e=eo(),{data:t,isLoading:n}=ji({queryKey:["goalCategorySettings"],queryFn:async()=>{const{data:{user:l}}=await be.auth.getUser();if(!l)return null;const{data:c,error:d}=await be.from("goal_category_settings").select("*").eq("user_id",l.id).single();return d&&d.code!=="PGRST116"&&console.error("Error fetching category settings:",d),c}}),r=xr({mutationFn:async l=>{const{data:{user:c}}=await be.auth.getUser();if(!c)throw new Error("Not authenticated");const{data:d}=await be.from("goal_category_settings").select("id").eq("user_id",c.id).single();if(d){const{error:f}=await be.from("goal_category_settings").update({mappings:l}).eq("id",d.id);if(f)throw f}else{const{error:f}=await be.from("goal_category_settings").insert({user_id:c.id,mappings:l});if(f)throw f}},onSuccess:()=>{e.invalidateQueries({queryKey:["longTermGoals"]}),e.invalidateQueries({queryKey:["goalCategorySettings"]}),We.success("Categorie aggiornate con successo")},onError:()=>{We.error("Errore durante l'aggiornamento delle categorie")}}),i=S.useMemo(()=>{const l={};return t?.mappings&&Object.entries(t.mappings).forEach(([c,d])=>{typeof d=="string"?l[c]=d:l[c]=d.label}),{...rr,...l}},[t]),a=S.useMemo(()=>{const l={};return Object.entries(rr).forEach(([c,d])=>{l[c]=d}),t?.mappings&&Object.entries(t.mappings).forEach(([c,d])=>{typeof d!="string"&&d.archived?delete l[c]:typeof d=="string"?l[c]=d:l[c]=d.label}),l},[t]),o=l=>{if(!l)return"Generale";const c=t?.mappings?.[l];return typeof c=="string"?c:c?.label?c.label:rr[l]||l},s=l=>{if(!l)return null;const c=t?.mappings?.[l];return c&&typeof c!="string"&&c.color?c.color:Zc[l]||null};return{settings:t,isLoading:n,updateSettings:r.mutate,getLabel:o,getColor:s,categoryLabels:i,activeCategoryLabels:a}}function j2e({year:e}){const{getLabel:t}=IE(),{data:n,isLoading:r}=ji({queryKey:["longTermGoals","stats",e],queryFn:async()=>{let O=[],T=0;const N=1e3;let M=!0;for(;M;){let E=be.from("long_term_goals").select("*");e!=="all"&&(E=E.eq("year",typeof e=="string"?parseInt(e):e));const{data:R,error:F}=await E.range(T,T+N-1);if(F)throw F;R&&R.length>0?(O=[...O,...R],R.length<N?M=!1:T+=N):M=!1}return O}});if(S.useEffect(()=>{(async()=>{const{error:T}=await be.rpc("check_and_fail_expired_goals");T&&console.error("Error checking expired goals:",T)})()},[]),r)return u.jsx("div",{className:"flex justify-center p-8",children:u.jsx(Qr,{className:"w-8 h-8 animate-spin text-muted-foreground"})});if(!n||n.length===0)return u.jsxs("div",{className:"text-center p-12 border border-dashed border-white/10 rounded-xl text-muted-foreground",children:["Nessun dato disponibile per ",e==="all"?"il periodo selezionato":`il ${e}`,". Aggiungi qualche obiettivo!"]});const i=n.length,a=n.filter(O=>O.status==="completed").length,o=Math.round(a/i*100)||0,s=n.filter(O=>O.type==="lifetime"),l=n.filter(O=>O.type!=="lifetime"),c=l.map(O=>O.year).filter(O=>O!==null),d=c.length>0?Math.min(...c):new Date().getFullYear(),f={annual:n.filter(O=>O.type==="annual").length,quarterly:n.filter(O=>O.type==="quarterly").length,monthly:n.filter(O=>O.type==="monthly").length,weekly:n.filter(O=>O.type==="weekly").length,lifetime:s.length},h=[{type:"Lifetime",total:f.lifetime,completed:s.filter(O=>O.status==="completed").length},{type:"Annuale",total:f.annual,completed:n.filter(O=>O.type==="annual"&&O.status==="completed").length},{type:"Trimestrale",total:f.quarterly,completed:n.filter(O=>O.type==="quarterly"&&O.status==="completed").length},{type:"Mensile",total:f.monthly,completed:n.filter(O=>O.type==="monthly"&&O.status==="completed").length},{type:"Settimanale",total:f.weekly,completed:n.filter(O=>O.type==="weekly"&&O.status==="completed").length}].map(O=>({...O,rate:O.total>0?Math.round(O.completed/O.total*100):0})).sort((O,T)=>T.rate-O.rate||T.completed-O.completed),p=h[0],y={};n.forEach(O=>{const T=O.color||"null",N=t(T==="null"?null:T),M=T==="null"?"Generale":rr[T]||T;(T==="null"||!(T!=="null"&&N===M))&&(y[T]||(y[T]={total:0,completed:0}),y[T].total++,O.status==="completed"&&y[T].completed++)});const m=Object.entries(y).map(([O,T])=>({subject:t(O==="null"?null:O),A:Math.round(T.completed/T.total*100),fullMark:100,total:T.total})).sort((O,T)=>T.A-O.A),g=m.length>0?m[0]:null,v={red:"#f43f5e",orange:"#f97316",yellow:"#fbbf24",green:"#10b981",blue:"#2563eb",purple:"#7c3aed",pink:"#d946ef",cyan:"#06b6d4",null:"#525252"},b=Object.entries(y).map(([O,T])=>({name:t(O==="null"?null:O),value:T.total,fill:v[O]||"#888888"})).sort((O,T)=>T.value-O.value);if(e==="all"){const O={};l.forEach(q=>{q.year!==null&&(O[q.year]||(O[q.year]={total:0,completed:0,failed:0,active:0,rate:0}),O[q.year].total++,q.status==="completed"?O[q.year].completed++:q.status==="failed"?O[q.year].failed++:O[q.year].active++)});const T=Object.entries(O).map(([q,L])=>({year:q,total:L.total,completed:L.completed,failed:L.failed,active:L.active,rate:Math.round(L.completed/L.total*100)||0})).sort((q,L)=>parseInt(q.year)-parseInt(L.year)),N=[...T].sort((q,L)=>L.rate-q.rate||L.completed-q.completed)[0],M=[...T].sort((q,L)=>L.completed-q.completed)[0],E=[1,2,3,4].map(q=>({name:`Q${q}`,total:0,completed:0,failed:0,active:0,rate:0}));l.forEach(q=>{const L=q.quarter;if(L&&L>=1&&L<=4){const D=L-1;E[D].total++,q.status==="completed"?E[D].completed++:q.status==="failed"?E[D].failed++:E[D].active++}}),E.forEach(q=>{q.rate=q.total>0?Math.round(q.completed/q.total*100):0});const R=Array.from({length:12},(q,L)=>({name:new Date(2024,L).toLocaleString("it-IT",{month:"short"}),monthIndex:L+1,total:0,completed:0,failed:0,active:0,rate:0}));l.forEach(q=>{if(q.month&&q.month>=1&&q.month<=12){const L=q.month-1;R[L].total++,q.status==="completed"?R[L].completed++:q.status==="failed"?R[L].failed++:R[L].active++}}),R.forEach(q=>{q.rate=q.total>0?Math.round(q.completed/q.total*100):0});const F=[];return Array.from(new Set(l.map(q=>q.year).filter(q=>q!==null))).sort((q,L)=>q-L).forEach(q=>{const L=l.filter(W=>W.year===q),D={year:q.toString(),total:L.length};Object.keys(v).forEach(W=>{const B=t(W==="null"?null:W),$=W==="null"?"Generale":rr[W]||W;(W==="null"||!(W!=="null"&&B===$))&&(D[W]=0)}),L.forEach(W=>{const B=W.color||"null",$=t(B==="null"?null:B),Q=B==="null"?"Generale":rr[B]||B;(B==="null"||!(B!=="null"&&$===Q))&&D[B]!==void 0&&D[B]++}),F.push(D)}),u.jsxs("div",{className:"space-y-8 animate-fade-in pb-10",children:[u.jsxs("div",{className:"grid gap-6 md:grid-cols-4",children:[u.jsxs(qe,{className:"bg-gradient-to-br from-indigo-500/10 to-blue-600/10 border-indigo-500/20 shadow-lg shadow-indigo-500/5",children:[u.jsxs(et,{className:"flex flex-row items-center justify-between pb-2",children:[u.jsx(tt,{className:"text-sm font-medium text-indigo-400",children:"Totale Storico"}),u.jsx(Gn,{className:"h-4 w-4 text-indigo-500"})]}),u.jsxs(Ve,{children:[u.jsx("div",{className:"text-3xl font-bold text-white",children:i}),u.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Obiettivi tracciati dal ",d]})]})]}),u.jsxs(qe,{className:"bg-gradient-to-br from-emerald-500/10 to-teal-500/10 border-emerald-500/20 shadow-lg shadow-emerald-500/5",children:[u.jsxs(et,{className:"flex flex-row items-center justify-between pb-2",children:[u.jsx(tt,{className:"text-sm font-medium text-emerald-400",children:"Successo Globale"}),u.jsx(Ma,{className:"h-4 w-4 text-emerald-500"})]}),u.jsxs(Ve,{children:[u.jsxs("div",{className:"text-3xl font-bold text-white",children:[o,"%"]}),u.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[a," obiettivi completati"]})]})]}),u.jsxs(qe,{className:"bg-gradient-to-br from-amber-500/10 to-orange-500/10 border-amber-500/20 shadow-lg shadow-amber-500/5",children:[u.jsxs(et,{className:"flex flex-row items-center justify-between pb-2",children:[u.jsx(tt,{className:"text-sm font-medium text-amber-400",children:"Anno Migliore"}),u.jsx(Ha,{className:"h-4 w-4 text-amber-500"})]}),u.jsxs(Ve,{children:[u.jsx("div",{className:"text-3xl font-bold text-white",children:N?.year||"N/A"}),u.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[N?.rate,"% completamento"]})]})]}),u.jsxs(qe,{className:"bg-gradient-to-br from-cyan-500/10 to-sky-500/10 border-cyan-500/20 shadow-lg shadow-cyan-500/5",children:[u.jsxs(et,{className:"flex flex-row items-center justify-between pb-2",children:[u.jsx(tt,{className:"text-sm font-medium text-cyan-400",children:"Anno Pi Produttivo"}),u.jsx(Su,{className:"h-4 w-4 text-cyan-500"})]}),u.jsxs(Ve,{children:[u.jsx("div",{className:"text-3xl font-bold text-white",children:M?.year||"N/A"}),u.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[M?.total," obiettivi totali"]})]})]})]}),u.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[u.jsxs(qe,{className:"md:col-span-2 bg-card/40 border-white/5 backdrop-blur-sm p-2",children:[u.jsxs(et,{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(An,{className:"w-5 h-5 text-blue-500"}),u.jsx(tt,{children:"Progressione Annuale"})]}),u.jsx(Vr,{children:"Confronto anno per anno del volume di obiettivi e completamenti"})]}),u.jsx(Ve,{className:"h-[300px] sm:h-[400px]",children:u.jsx(xn,{width:"100%",height:"100%",children:u.jsxs(Ad,{data:T,margin:{top:20,right:20,bottom:20,left:20},children:[u.jsx(gr,{strokeDasharray:"3 3",stroke:"#ffffff10",vertical:!1}),u.jsx(an,{dataKey:"year",stroke:"#888888",fontSize:14,tickLine:!1,axisLine:!1}),u.jsx(Bt,{yAxisId:"left",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),u.jsx(Bt,{yAxisId:"right",orientation:"right",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,unit:"%",domain:[0,100]}),u.jsx(Ot,{contentStyle:{backgroundColor:"#09090b",border:"1px solid #27272a",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.5)"},cursor:{fill:"#ffffff05"}}),u.jsx(or,{wrapperStyle:{paddingTop:"20px"}}),u.jsx(Ft,{yAxisId:"left",dataKey:"active",stackId:"a",name:"Attivi",fill:"#3b82f6",radius:[0,0,4,4],barSize:40,fillOpacity:.8}),u.jsx(Ft,{yAxisId:"left",dataKey:"failed",stackId:"a",name:"Falliti",fill:"#ef4444",radius:[0,0,0,0],barSize:40,fillOpacity:.8}),u.jsx(Ft,{yAxisId:"left",dataKey:"completed",stackId:"a",name:"Completati",fill:"#10b981",radius:[4,4,0,0],barSize:40,fillOpacity:.8}),u.jsx(Pr,{yAxisId:"right",type:"monotone",dataKey:"rate",name:"Tasso Successo %",stroke:"#f59e0b",strokeWidth:3,dot:{r:4,strokeWidth:2},activeDot:{r:6}})]})})})]}),u.jsxs(qe,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[u.jsx(et,{children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Gn,{className:"w-5 h-5 text-cyan-500"}),u.jsx(tt,{children:"Performance per Categoria (Storico)"})]})}),u.jsx(Ve,{className:"h-[300px] sm:h-[350px]",children:u.jsx(xn,{width:"100%",height:"100%",children:u.jsxs(p_,{cx:"50%",cy:"50%",outerRadius:"65%",data:m,children:[u.jsx(Cp,{stroke:"#ffffff20"}),u.jsx(Za,{dataKey:"subject",tick:{fill:"#a1a1aa",fontSize:13,fontWeight:500}}),u.jsx(is,{angle:30,domain:[0,100],tick:!1,axisLine:!1}),u.jsx(as,{name:"Success Rate",dataKey:"A",stroke:"#06b6d4",fill:"#06b6d4",fillOpacity:.5}),u.jsx(Ot,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"},formatter:q=>[`${q}%`,"Successo"]})]})})})]}),u.jsxs(qe,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[u.jsx(et,{children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(_u,{className:"w-5 h-5 text-purple-500"}),u.jsx(tt,{children:"Distribuzione Tipologie"})]})}),u.jsx(Ve,{className:"h-[300px] sm:h-[350px]",children:u.jsx(xn,{width:"100%",height:"100%",children:u.jsxs(Qc,{data:h,layout:"vertical",margin:{left:20},children:[u.jsx(gr,{strokeDasharray:"3 3",stroke:"#ffffff10",horizontal:!0,vertical:!1}),u.jsx(an,{type:"number",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),u.jsx(Bt,{dataKey:"type",type:"category",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,width:80}),u.jsx(Ot,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},cursor:{fill:"#ffffff05"}}),u.jsx(Ft,{dataKey:"rate",name:"Successo %",fill:"#8b5cf6",radius:[0,4,4,0],barSize:30})]})})})]}),u.jsxs(qe,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[u.jsxs(et,{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ha,{className:"w-5 h-5 text-amber-500"}),u.jsx(tt,{children:"Stagionalit (Performance Trimestrale)"})]}),u.jsx(Vr,{children:"Aggregato di tutti gli anni: in quale trimestre rendi meglio?"})]}),u.jsx(Ve,{className:"h-[300px] sm:h-[350px]",children:u.jsx(xn,{width:"100%",height:"100%",children:u.jsxs(Qc,{data:E,children:[u.jsx(gr,{strokeDasharray:"3 3",stroke:"#ffffff10",vertical:!1}),u.jsx(an,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),u.jsx(Bt,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),u.jsx(Ot,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},cursor:{fill:"#ffffff05"}}),u.jsx(or,{wrapperStyle:{paddingTop:"20px"}}),u.jsx(Ft,{dataKey:"active",stackId:"a",name:"Attivi",fill:"#3b82f6",radius:[0,0,4,4],barSize:30,fillOpacity:.6}),u.jsx(Ft,{dataKey:"failed",stackId:"a",name:"Falliti",fill:"#f59e0b",radius:[0,0,0,0],barSize:30,fillOpacity:.8}),u.jsx(Ft,{dataKey:"completed",stackId:"a",name:"Completati",fill:"#10b981",radius:[4,4,0,0],barSize:30})]})})})]}),u.jsxs(qe,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[u.jsxs(et,{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Su,{className:"w-5 h-5 text-pink-500"}),u.jsx(tt,{children:"Performance Mensile (Storico)"})]}),u.jsx(Vr,{children:"Successo medio per mese: scopri il tuo ritmo ideale"})]}),u.jsx(Ve,{className:"h-[300px] sm:h-[350px]",children:u.jsx(xn,{width:"100%",height:"100%",children:u.jsxs(PNe,{data:R,children:[u.jsx(gr,{strokeDasharray:"3 3",stroke:"#ffffff10",vertical:!1}),u.jsx(an,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),u.jsx(Bt,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,unit:"%",domain:[0,100]}),u.jsx(Ot,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},cursor:{stroke:"#ffffff20"}}),u.jsx(Pr,{type:"monotone",dataKey:"rate",name:"Tasso di Successo",stroke:"#ec4899",strokeWidth:3,dot:{r:4,strokeWidth:2,fill:"#1f1f1f"},activeDot:{r:6,fill:"#ec4899"}})]})})})]}),u.jsxs(qe,{className:"md:col-span-2 bg-card/40 border-white/5 backdrop-blur-sm",children:[u.jsxs(et,{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(An,{className:"w-5 h-5 text-indigo-500"}),u.jsx(tt,{children:"Evoluzione Interessi (Categorie)"})]}),u.jsx(Vr,{children:"Come sono cambiati i tuoi focus nel corso degli anni"})]}),u.jsx(Ve,{className:"h-[300px] sm:h-[400px]",children:u.jsx(xn,{width:"100%",height:"100%",children:u.jsxs(Qc,{data:F,children:[u.jsx(gr,{strokeDasharray:"3 3",stroke:"#ffffff10",vertical:!1}),u.jsx(an,{dataKey:"year",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),u.jsx(Bt,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),u.jsx(Ot,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},cursor:{fill:"#ffffff05"}}),u.jsx(or,{}),Object.entries(v).map(([q,L])=>{const D=t(q==="null"?null:q),W=q==="null"?"Generale":rr[q]||q;return q==="null"||!(q!=="null"&&D===W)?u.jsx(Ft,{dataKey:q,name:D,stackId:"a",fill:L},q):null})]})})})]})]})]})}const _=typeof e=="string"?parseInt(e):e,w=Array.from({length:12},(O,T)=>({name:new Date(_,T).toLocaleString("it-IT",{month:"short"}),monthIndex:T+1,total:0,completed:0,failed:0,active:0,rate:0,cumulativeTotal:0,cumulativeCompleted:0}));let j=0,k=0;l.forEach(O=>{let T=0;O.month&&(T=O.month-1),T<0&&(T=0),T>11&&(T=11),w[T].total++,O.status==="completed"?w[T].completed++:O.status==="failed"?w[T].failed++:w[T].active++}),w.forEach(O=>{O.rate=O.total>0?Math.round(O.completed/O.total*100):0,j+=O.total,k+=O.completed,O.cumulativeTotal=j,O.cumulativeCompleted=k});const A=[1,2,3,4].map(O=>({name:`Q${O}`,quarterIndex:O,total:0,completed:0,rate:0}));n.filter(O=>O.quarter).forEach(O=>{if(O.quarter&&O.quarter>=1&&O.quarter<=4){const T=O.quarter-1;A[T].total++,O.status==="completed"&&A[T].completed++}}),A.forEach(O=>{O.rate=O.total>0?Math.round(O.completed/O.total*100):0});const P=[...w].filter(O=>O.total>0).sort((O,T)=>T.rate-O.rate||T.completed-O.completed)[0];return u.jsxs("div",{className:"space-y-6 animate-fade-in pb-10",children:[u.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[u.jsxs(qe,{className:"bg-gradient-to-br from-purple-500/10 to-blue-500/10 border-purple-500/20",children:[u.jsxs(et,{className:"flex flex-row items-center justify-between pb-2",children:[u.jsx(tt,{className:"text-sm font-medium text-purple-400",children:"Punto di Forza"}),u.jsx(Gi,{className:"h-4 w-4 text-purple-500"})]}),u.jsxs(Ve,{children:[u.jsx("div",{className:"text-2xl font-bold text-white",children:g?.subject||"N/A"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:g?`${g.A}% di completamento`:"Nessun dato"})]})]}),u.jsxs(qe,{className:"bg-gradient-to-br from-amber-500/10 to-orange-500/10 border-amber-500/20",children:[u.jsxs(et,{className:"flex flex-row items-center justify-between pb-2",children:[u.jsx(tt,{className:"text-sm font-medium text-amber-400",children:"Mese Migliore"}),u.jsx(Ma,{className:"h-4 w-4 text-amber-500"})]}),u.jsxs(Ve,{children:[u.jsx("div",{className:"text-2xl font-bold text-white",children:P?.name||"N/A"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:P?`${P.rate}% di successo (${P.completed}/${P.total})`:"Nessuna attivit"})]})]}),u.jsxs(qe,{className:"bg-gradient-to-br from-emerald-500/10 to-cyan-500/10 border-emerald-500/20",children:[u.jsxs(et,{className:"flex flex-row items-center justify-between pb-2",children:[u.jsx(tt,{className:"text-sm font-medium text-emerald-400",children:"Tipologia Efficace"}),u.jsx(_u,{className:"h-4 w-4 text-emerald-500"})]}),u.jsxs(Ve,{children:[u.jsx("div",{className:"text-2xl font-bold text-white capitalize",children:p.total>0?p.type:"N/A"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:p.total>0?`${p.rate}% di successo`:"Dati insufficienti"})]})]})]}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[u.jsxs(qe,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[u.jsxs(et,{className:"flex flex-row items-center justify-between pb-2",children:[u.jsx(tt,{className:"text-sm font-medium text-muted-foreground",children:"Totale"}),u.jsx(Gn,{className:"h-4 w-4 text-primary"})]}),u.jsx(Ve,{children:u.jsx("div",{className:"text-2xl font-bold text-white",children:i})})]}),u.jsxs(qe,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[u.jsxs(et,{className:"flex flex-row items-center justify-between pb-2",children:[u.jsx(tt,{className:"text-sm font-medium text-muted-foreground",children:"Completati"}),u.jsx(Ia,{className:"h-4 w-4 text-green-500"})]}),u.jsx(Ve,{children:u.jsx("div",{className:"text-2xl font-bold text-white",children:a})})]}),u.jsxs(qe,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[u.jsxs(et,{className:"flex flex-row items-center justify-between pb-2",children:[u.jsx(tt,{className:"text-sm font-medium text-muted-foreground",children:"Successo"}),u.jsx(Ma,{className:"h-4 w-4 text-yellow-500"})]}),u.jsx(Ve,{children:u.jsxs("div",{className:"text-2xl font-bold text-white",children:[o,"%"]})})]}),u.jsxs(qe,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[u.jsxs(et,{className:"flex flex-row items-center justify-between pb-2",children:[u.jsx(tt,{className:"text-sm font-medium text-muted-foreground",children:"Trend"}),u.jsx(An,{className:"h-4 w-4 text-blue-500"})]}),u.jsx(Ve,{children:u.jsx("div",{className:"text-2xl font-bold text-white",children:k>0?"In Crescita":"Stabile"})})]})]}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[u.jsxs(qe,{className:"md:col-span-2 bg-card/40 border-white/5 backdrop-blur-sm",children:[u.jsxs(et,{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(E9,{className:"w-5 h-5 text-orange-500"}),u.jsx(tt,{children:"Velocit di Esecuzione (Cumulativa)"})]}),u.jsx(Vr,{children:"Confronto tra obiettivi pianificati e completati nel tempo"})]}),u.jsx(Ve,{className:"h-[300px] sm:h-[350px]",children:u.jsx(xn,{width:"100%",height:"100%",children:u.jsxs(BV,{data:w,children:[u.jsxs("defs",{children:[u.jsxs("linearGradient",{id:"colorTotal",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.3}),u.jsx("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})]}),u.jsxs("linearGradient",{id:"colorCompleted",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:"#82ca9d",stopOpacity:.3}),u.jsx("stop",{offset:"95%",stopColor:"#82ca9d",stopOpacity:0})]})]}),u.jsx(an,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),u.jsx(Bt,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),u.jsx(gr,{strokeDasharray:"3 3",stroke:"#ffffff10"}),u.jsx(Ot,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"}}),u.jsx(Rr,{type:"monotone",dataKey:"cumulativeTotal",stroke:"#8884d8",fillOpacity:1,fill:"url(#colorTotal)",name:"Obiettivi Totali"}),u.jsx(Rr,{type:"monotone",dataKey:"cumulativeCompleted",stroke:"#82ca9d",fillOpacity:1,fill:"url(#colorCompleted)",name:"Obiettivi Completati"})]})})})]}),u.jsxs(qe,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[u.jsxs(et,{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Gn,{className:"w-5 h-5 text-cyan-500"}),u.jsx(tt,{children:"Performance Categorie"})]}),u.jsx(Vr,{children:"Tasso di successo per categoria"})]}),u.jsx(Ve,{className:"h-[300px] sm:h-[350px]",children:u.jsx(xn,{width:"100%",height:"100%",children:u.jsxs(p_,{cx:"50%",cy:"50%",outerRadius:"65%",data:m,children:[u.jsx(Cp,{stroke:"#ffffff20"}),u.jsx(Za,{dataKey:"subject",tick:{fill:"#a1a1aa",fontSize:13,fontWeight:500}}),u.jsx(is,{angle:30,domain:[0,100],tick:!1,axisLine:!1}),u.jsx(as,{name:"Success Rate",dataKey:"A",stroke:"#06b6d4",fill:"#06b6d4",fillOpacity:.5}),u.jsx(Ot,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"},formatter:O=>[`${O}%`,"Successo"]})]})})})]})]}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[u.jsxs(qe,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[u.jsxs(et,{children:[u.jsx(tt,{children:"Attivit Trimestrale"}),u.jsx(Vr,{children:"Progressione Q1 - Q4"})]}),u.jsx(Ve,{className:"h-[300px]",children:u.jsx(xn,{width:"100%",height:"100%",children:u.jsxs(Qc,{data:A,children:[u.jsx(an,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),u.jsx(Bt,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),u.jsx(Ot,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"},cursor:{fill:"#ffffff05"}}),u.jsx(gr,{stroke:"#ffffff10",vertical:!1}),u.jsx(Ft,{dataKey:"total",name:"Pianificati",fill:"#f59e0b",radius:[4,4,0,0],barSize:30,fillOpacity:.7}),u.jsx(Ft,{dataKey:"completed",name:"Completati",fill:"#10b981",radius:[4,4,0,0],barSize:30})]})})})]}),u.jsxs(qe,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[u.jsx(et,{children:u.jsx(tt,{children:"Attivit Mensile"})}),u.jsx(Ve,{className:"h-[300px]",children:u.jsx(xn,{width:"100%",height:"100%",children:u.jsxs(Ad,{data:w,children:[u.jsx(an,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),u.jsx(Bt,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),u.jsx(Ot,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"}}),u.jsx(gr,{stroke:"#ffffff10"}),u.jsx(Ft,{dataKey:"total",barSize:20,fill:"#413ea0",radius:[4,4,0,0],name:"Creati"}),u.jsx(Pr,{type:"monotone",dataKey:"completed",stroke:"#ff7300",strokeWidth:2,name:"Completati"})]})})})]}),u.jsxs(qe,{className:"md:col-span-2 bg-card/40 border-white/5 backdrop-blur-sm",children:[u.jsx(et,{children:u.jsx(tt,{children:"Distribuzione Categorie"})}),u.jsx(Ve,{className:"h-[300px]",children:u.jsx(xn,{width:"100%",height:"100%",children:u.jsxs(TNe,{children:[u.jsx(pa,{data:b,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:b.map((O,T)=>u.jsx(uc,{fill:O.fill},`cell-${T}`))}),u.jsx(Ot,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"}}),u.jsx(or,{formatter:(O,T)=>u.jsx("span",{style:{color:"#ccc"},children:O})})]})})})]})]})]})}function k2e(){const{settings:e,updateSettings:t}=IE(),[n,r]=S.useState({}),[i,a]=S.useState(!1);S.useEffect(()=>{i&&e?.mappings?r(e.mappings):i&&r({})},[i,e]);const o=()=>{t(n),a(!1)},s=(d,f)=>{r(h=>{const p=h[d],y=typeof p=="object"?p.color:Zc[d]||"";return{...h,[d]:{label:f,color:y}}})},l=(d,f)=>{r(h=>{const p=h[d],y=typeof p=="object"?p.label:typeof p=="string"?p:rr[d]||"";return{...h,[d]:{label:y,color:f}}})},c=d=>{const f=n[d];return f?typeof f=="string"?{label:f,color:Zc[d]||""}:f:{label:rr[d]||"",color:Zc[d]||""}};return u.jsxs($m,{open:i,onOpenChange:a,children:[u.jsx(Hj,{asChild:!0,children:u.jsx(Ce,{variant:"outline",size:"icon",title:"Impostazioni Categorie",className:"h-10 w-10 sm:h-9 sm:w-9",children:u.jsx(C9,{className:"w-4 h-4"})})}),u.jsxs(Ld,{className:"sm:max-w-[425px] flex flex-col max-h-[85vh] p-0 gap-0 bg-[#0a0a0a]/90 backdrop-blur-2xl border-white/10 text-foreground",children:[u.jsxs(Lm,{className:"p-6 pb-2 shrink-0",children:[u.jsx(zd,{children:"Personalizza Categorie"}),u.jsx(Fd,{children:"Personalizza i colori e le etichette per i tuoi obiettivi."})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-6 pt-2 space-y-4",children:[u.jsx("div",{className:"space-y-2",children:Array.from(new Set([...Object.keys(rr),...Object.keys(n)])).filter(d=>{const f=n[d];return!(f&&typeof f!="string"&&f.archived)}).map(d=>{const{label:f,color:h}=c(d),p=d in rr;return u.jsxs("div",{className:"grid grid-cols-[auto_1fr_auto] items-center gap-3 p-3 rounded-lg bg-white/5 border border-white/5 group",children:[u.jsx(Yj,{value:h||"hsl(0 0% 50%)",onChange:y=>l(d,y),showValueLabel:!1,className:"w-10"}),u.jsx(ta,{id:d,value:f,placeholder:rr[d]||"Nuova Categoria",onChange:y=>s(d,y.target.value),className:"h-9 bg-black/20 border-white/10"}),!p&&u.jsxs(Bo,{children:[u.jsx(cl,{asChild:!0,children:u.jsx(Ce,{variant:"ghost",size:"icon",className:"h-9 w-9 text-muted-foreground hover:text-destructive opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M3 6h18"}),u.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),u.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})})}),u.jsxs(La,{children:[u.jsxs(za,{children:[u.jsx(Ba,{children:"Sei sicuro?"}),u.jsx(qa,{children:"Questa azione archivier la categoria. Verr rimossa dalle opzioni future, ma lo storico rimarr accessibile."})]}),u.jsxs(Fa,{children:[u.jsx(Jo,{children:"Annulla"}),u.jsx(Ua,{onClick:()=>{r(y=>{const m=y[d],g=typeof m=="object"?m.label:typeof m=="string"?m:rr[d]||"",v=typeof m=="object"?m.color:Zc[d]||"";return{...y,[d]:{label:g,color:v||"hsl(0 0% 50%)",archived:!0}}})},children:"Elimina"})]})]})]})]},d)})}),u.jsx(Ce,{variant:"outline",className:"w-full border-dashed border-white/20 hover:border-white/40 hover:bg-white/5",onClick:()=>{const d=`custom_${Date.now()}`;r(f=>({...f,[d]:{label:"Nuova Categoria",color:"hsl(0 0% 50%)"}}))},children:"+ Aggiungi Categoria"})]}),u.jsx(Iz,{className:"p-6 pt-2 shrink-0",children:u.jsx(Ce,{type:"submit",onClick:o,className:"w-full",children:"Salva Modifiche"})})]})]})}function E2e(){const e=eo(),[t,n]=S.useState(!1),[r,i]=S.useState(!1);return{exportBackup:async(s={scope:"all"})=>{n(!0);try{const{data:{user:l}}=await be.auth.getUser();if(!l)throw new Error("Not authenticated");let c=be.from("long_term_goals").select("*").eq("user_id",l.id);s.scope==="year"&&s.year&&(c=c.eq("year",s.year));const{data:d,error:f}=await c;if(f)throw f;const{data:h,error:p}=await be.from("goal_category_settings").select("*").eq("user_id",l.id).single();if(p&&p.code!=="PGRST116")throw p;const y={version:1,timestamp:new Date().toISOString(),goals:d||[],settings:h||null},m=s.scope==="all"?`habit_tracker_FULL_backup_${new Date().toISOString().split("T")[0]}.json`:`habit_tracker_${s.year}_backup.json`,g=new Blob([JSON.stringify(y,null,2)],{type:"application/json"}),v=URL.createObjectURL(g),b=document.createElement("a");b.href=v,b.download=m,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(v),We.success("Backup scaricato con successo")}catch(l){console.error("Export failed:",l),We.error(`Errore durante l'export: ${l.message}`)}finally{n(!1)}},importBackup:async s=>(i(!0),new Promise(l=>{const c=new FileReader;c.onload=async d=>{try{const f=d.target?.result;if(!f){l(null);return}const h=JSON.parse(f);if(!h.version||!Array.isArray(h.goals))throw new Error("Formato file non valido (manca versione o goals)");const{data:{user:p}}=await be.auth.getUser();if(!p)throw new Error("Not authenticated");const{data:y,error:m}=await be.from("long_term_goals").select("*").eq("user_id",p.id);if(m)throw m;const g=new Map(y?.map(k=>[k.id,k])),v=new Set,b=[],x=[];let _=0;const w=[];for(const k of h.goals){let A={...k};!A.status&&A.is_completed!==void 0?(A.status=A.is_completed?"completed":"active",delete A.is_completed):A.status||(A.status="active");let P={...A,user_id:p.id},O=g.get(P.id);if(!O){const T=y?.find(N=>!v.has(N.id)&&N.title===P.title&&N.type===P.type&&N.year===P.year);T&&(O=T,P.id=T.id)}O?(v.add(O.id),O.title!==P.title||O.status!==P.status||O.type!==P.type||O.year!==P.year||O.month!==P.month||O.week_number!==P.week_number||O.color!==P.color?(x.push(P),w.push(P)):_++):(b.push(P),w.push(P))}if(w.length>0){const{error:k}=await be.from("long_term_goals").upsert(w);if(k)throw k}let j=!1;if(h.settings){const{data:k}=await be.from("goal_category_settings").select("*").eq("user_id",p.id).single(),A=k,P={user_id:p.id,mappings:h.settings.mappings};(!A||JSON.stringify(A.mappings)!==JSON.stringify(P.mappings))&&(A?await be.from("goal_category_settings").update({mappings:P.mappings}).eq("id",A.id):await be.from("goal_category_settings").insert(P),j=!0)}await e.invalidateQueries({queryKey:["longTermGoals"]}),await e.invalidateQueries({queryKey:["goalCategorySettings"]}),l({totalProcessed:h.goals.length,restored:b,updated:x,unchanged:_,settingsUpdated:j})}catch(f){console.error("Import failed:",f),We.error(`Errore durante l'importazione: ${f.message}`),l(null)}finally{i(!1)}},c.readAsText(s)})),isExporting:t,isImporting:r}}var ME="Radio",[A2e,kW]=Bn(ME),[O2e,C2e]=A2e(ME),EW=S.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:a,disabled:o,value:s="on",onCheck:l,form:c,...d}=e,[f,h]=S.useState(null),p=ze(t,g=>h(g)),y=S.useRef(!1),m=f?c||!!f.closest("form"):!0;return u.jsxs(O2e,{scope:n,checked:i,disabled:o,children:[u.jsx(Ae.button,{type:"button",role:"radio","aria-checked":i,"data-state":PW(i),"data-disabled":o?"":void 0,disabled:o,value:s,...d,ref:p,onClick:Ee(e.onClick,g=>{i||l?.(),m&&(y.current=g.isPropagationStopped(),y.current||g.stopPropagation())})}),m&&u.jsx(CW,{control:f,bubbles:!y.current,name:r,value:s,checked:i,required:a,disabled:o,form:c,style:{transform:"translateX(-100%)"}})]})});EW.displayName=ME;var AW="RadioIndicator",OW=S.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...i}=e,a=C2e(AW,n);return u.jsx(sa,{present:r||a.checked,children:u.jsx(Ae.span,{"data-state":PW(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t})})});OW.displayName=AW;var P2e="RadioBubbleInput",CW=S.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:r=!0,...i},a)=>{const o=S.useRef(null),s=ze(o,a),l=Zm(n),c=fm(t);return S.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==n&&p){const y=new Event("click",{bubbles:r});p.call(d,n),d.dispatchEvent(y)}},[l,n,r]),u.jsx(Ae.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:s,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});CW.displayName=P2e;function PW(e){return e?"checked":"unchecked"}var T2e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Bg="RadioGroup",[N2e]=Bn(Bg,[Qm,kW]),TW=Qm(),NW=kW(),[R2e,I2e]=N2e(Bg),RW=S.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:a,required:o=!1,disabled:s=!1,orientation:l,dir:c,loop:d=!0,onValueChange:f,...h}=e,p=TW(n),y=nc(c),[m,g]=Si({prop:a,defaultProp:i??null,onChange:f,caller:Bg});return u.jsx(R2e,{scope:n,name:r,required:o,disabled:s,value:m,onValueChange:g,children:u.jsx(s6,{asChild:!0,...p,orientation:l,dir:y,loop:d,children:u.jsx(Ae.div,{role:"radiogroup","aria-required":o,"aria-orientation":l,"data-disabled":s?"":void 0,dir:y,...h,ref:t})})})});RW.displayName=Bg;var IW="RadioGroupItem",MW=S.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...i}=e,a=I2e(IW,n),o=a.disabled||r,s=TW(n),l=NW(n),c=S.useRef(null),d=ze(t,c),f=a.value===i.value,h=S.useRef(!1);return S.useEffect(()=>{const p=m=>{T2e.includes(m.key)&&(h.current=!0)},y=()=>h.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",y),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",y)}},[]),u.jsx(l6,{asChild:!0,...s,focusable:!o,active:f,children:u.jsx(EW,{disabled:o,required:a.required,checked:f,...l,...i,name:a.name,ref:d,onCheck:()=>a.onValueChange(i.value),onKeyDown:Ee(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:Ee(i.onFocus,()=>{h.current&&c.current?.click()})})})});MW.displayName=IW;var M2e="RadioGroupIndicator",DW=S.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,i=NW(n);return u.jsx(OW,{...i,...r,ref:t})});DW.displayName=M2e;var $W=RW,LW=MW,D2e=DW;const zW=S.forwardRef(({className:e,...t},n)=>u.jsx($W,{className:ae("grid gap-2",e),...t,ref:n}));zW.displayName=$W.displayName;const x_=S.forwardRef(({className:e,...t},n)=>u.jsx(LW,{ref:n,className:ae("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:u.jsx(D2e,{className:"flex items-center justify-center",children:u.jsx(a9,{className:"h-2.5 w-2.5 fill-current text-current"})})}));x_.displayName=LW.displayName;function $2e(){const[e,t]=S.useState(new Date().getFullYear().toString()),[n,r]=S.useState(Yte(new Date)),[i,a]=S.useState(new Date().getMonth()+1),[o,s]=S.useState(nre(new Date,{weekStartsOn:1})),[l,c]=S.useState("weekly"),[d,f]=S.useState("all"),[h,p]=S.useState(null),[y,m]=S.useState(""),[g,v]=S.useState(null),b=eo(),[x,_]=S.useState({}),w=S.useRef({});S.useEffect(()=>()=>{Object.values(w.current).forEach(clearTimeout)},[]);const{getLabel:j,getColor:k,activeCategoryLabels:A}=IE(),{isPrivacyMode:P}=Cm(),O=C=>{const G=k(C);return G?G.startsWith("hsl")?{backgroundColor:G.replace(")"," / 0.15)"),borderColor:G.replace(")"," / 0.3)")}:{borderColor:G}:{}},T=C=>k(C)||"transparent",N=C=>"bg-card/20 border-white/5 hover:bg-card/40 relative overflow-hidden",M=[{value:1,label:"1 Trimestre (Q1)"},{value:2,label:"2 Trimestre (Q2)"},{value:3,label:"3 Trimestre (Q3)"},{value:4,label:"4 Trimestre (Q4)"}],E=Object.keys(A).sort((C,G)=>{const H=["red","orange","yellow","green","blue","purple","pink","cyan"],V=H.indexOf(C),U=H.indexOf(G);return V!==-1&&U!==-1?V-U:V!==-1?-1:U!==-1?1:C.localeCompare(G)}),{data:R,isLoading:F}=ji({queryKey:["longTermGoals",l,e,n,i,o],queryFn:async()=>{let C=be.from("long_term_goals").select("*").eq("type",l).order("status",{ascending:!0}).order("color",{ascending:!0}).order("created_at",{ascending:!0});e!=="all"&&l!=="lifetime"&&(C=C.eq("year",parseInt(e))),l==="quarterly"?C=C.eq("quarter",n):l==="monthly"?C=C.eq("month",i):l==="weekly"&&(C=C.eq("month",i).eq("week_number",o));const{data:G,error:H}=await C;if(H)throw H;return G},enabled:l!=="stats"}),z=xr({mutationFn:async({title:C,color:G})=>{const{data:{user:H}}=await be.auth.getUser();if(!H)throw new Error("Not authenticated");const V={user_id:H.id,title:C,type:l,year:l==="lifetime"?null:e==="all"?new Date().getFullYear():parseInt(e),quarter:l==="quarterly"?n:null,month:l==="monthly"||l==="weekly"?i:null,week_number:l==="weekly"?o:null,status:"active",color:G},{data:U,error:K}=await be.from("long_term_goals").insert(V).select().single();if(K)throw K;return U},onSuccess:()=>{m(""),v(null),b.invalidateQueries({queryKey:["longTermGoals"]}),We.success("Obiettivo creato!")},onError:C=>{We.error(`Errore durante la creazione: ${C.message}`)}}),q=xr({mutationFn:async({id:C,status:G})=>{const{error:H}=await be.from("long_term_goals").update({status:G}).eq("id",C);if(H)throw H},onSuccess:()=>{b.invalidateQueries({queryKey:["longTermGoals"]})}}),L=xr({mutationFn:async({id:C,color:G})=>{const{error:H}=await be.from("long_term_goals").update({color:G}).eq("id",C);if(H)throw H},onSuccess:()=>{b.invalidateQueries({queryKey:["longTermGoals"]})},onError:()=>{We.error("Errore aggiornamento colore")}}),D=xr({mutationFn:async C=>{const{error:G}=await be.from("long_term_goals").delete().eq("id",C);if(G)throw G},onSuccess:()=>{b.invalidateQueries({queryKey:["longTermGoals"]}),We.success("Obiettivo eliminato")}}),W=C=>{C.preventDefault(),y.trim()&&z.mutate({title:y,color:g})},B=S.useRef(null),{exportBackup:$,importBackup:Q,isExporting:Z,isImporting:fe}=E2e(),le=()=>{B.current?.click()},ue=async C=>{const G=C.target.files?.[0];if(!G)return;const H=await Q(G);H&&p(H),B.current&&(B.current.value="")},ee=[{value:1,label:"Gennaio"},{value:2,label:"Febbraio"},{value:3,label:"Marzo"},{value:4,label:"Aprile"},{value:5,label:"Maggio"},{value:6,label:"Giugno"},{value:7,label:"Luglio"},{value:8,label:"Agosto"},{value:9,label:"Settembre"},{value:10,label:"Ottobre"},{value:11,label:"Novembre"},{value:12,label:"Dicembre"}],{data:te}=ji({queryKey:["longTermGoals","minYear"],queryFn:async()=>{const{data:C,error:G}=await be.from("long_term_goals").select("year").order("year",{ascending:!0}).limit(1).single();return G&&G.code!=="PGRST116"&&console.error("Error fetching min year:",G),C?.year||2022}}),ce=te||2022,J=new Date().getFullYear(),re=Array.from({length:J+5-ce+1},(C,G)=>ce+G);return u.jsxs("div",{className:"space-y-6 animate-fade-in p-2 md:p-0",children:[u.jsx(Bo,{open:!!h,onOpenChange:C=>!C&&p(null),children:u.jsxs(La,{className:"max-w-3xl max-h-[85vh] overflow-y-auto",children:[u.jsxs(za,{children:[u.jsx(Ba,{children:"Rapporto Importazione"}),u.jsx(qa,{children:"Ecco il dettaglio delle modifiche apportate ai tuoi dati."})]}),u.jsxs("div",{className:"space-y-6 py-4",children:[u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{className:"p-4 bg-green-500/10 border border-green-500/20 rounded-xl flex flex-col items-center justify-center text-center",children:[u.jsx("span",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:h?.restored.length||0}),u.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mt-1",children:"Nuovi"})]}),u.jsxs("div",{className:"p-4 bg-amber-500/10 border border-amber-500/20 rounded-xl flex flex-col items-center justify-center text-center",children:[u.jsx("span",{className:"text-3xl font-bold text-amber-600 dark:text-amber-400",children:h?.updated.length||0}),u.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mt-1",children:"Modificati"})]}),u.jsxs("div",{className:"p-4 bg-slate-500/10 border border-slate-500/20 rounded-xl flex flex-col items-center justify-center text-center opacity-70",children:[u.jsx("span",{className:"text-3xl font-bold text-slate-600 dark:text-slate-400",children:h?.unchanged||0}),u.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mt-1",children:"Invariati"})]})]}),h?.settingsUpdated&&u.jsxs("div",{className:"flex items-center gap-3 text-sm text-yellow-600 bg-yellow-50 dark:bg-yellow-900/20 dark:text-yellow-400 p-3 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[u.jsx("span",{className:"flex h-2 w-2 rounded-full bg-yellow-500 animate-pulse"}),u.jsx("span",{children:"Le impostazioni delle categorie sono state aggiornate con successo."})]}),u.jsxs("div",{className:"space-y-6",children:[h?.restored&&h.restored.length>0&&u.jsxs("div",{className:"space-y-3",children:[u.jsxs("h4",{className:"font-semibold flex items-center gap-2 text-green-600 dark:text-green-400",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-current"}),"Elementi Aggiunti / Ripristinati"]}),u.jsx("div",{className:"space-y-4 pl-4 border-l-2 border-green-100 dark:border-green-900/30",children:Object.entries(h.restored.reduce((C,G)=>{const H=j(G.color||"default");return C[H]||(C[H]=[]),C[H].push(G),C},{})).map(([C,G])=>u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"text-xs font-bold uppercase text-muted-foreground tracking-widest",children:C}),u.jsx("div",{className:"grid gap-2",children:G.map(H=>u.jsxs("div",{className:"bg-secondary/40 p-3 rounded-md flex justify-between items-start gap-3 text-sm",children:[u.jsx("span",{className:"font-medium",children:H.title}),u.jsxs("span",{className:"shrink-0 text-xs px-2 py-0.5 bg-background rounded border opacity-70",children:[H.year,"  ",H.type]})]},H.id))})]},C))})]}),h?.updated&&h.updated.length>0&&u.jsxs("div",{className:"space-y-3",children:[u.jsxs("h4",{className:"font-semibold flex items-center gap-2 text-amber-600 dark:text-amber-400",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-current"}),"Elementi Aggiornati"]}),u.jsx("div",{className:"space-y-4 pl-4 border-l-2 border-amber-100 dark:border-amber-900/30",children:Object.entries(h.updated.reduce((C,G)=>{const H=j(G.color||"default");return C[H]||(C[H]=[]),C[H].push(G),C},{})).map(([C,G])=>u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"text-xs font-bold uppercase text-muted-foreground tracking-widest",children:C}),u.jsx("div",{className:"grid gap-2",children:G.map(H=>u.jsxs("div",{className:"bg-secondary/40 p-3 rounded-md flex justify-between items-start gap-3 text-sm",children:[u.jsx("span",{className:"font-medium",children:H.title}),u.jsxs("span",{className:"shrink-0 text-xs px-2 py-0.5 bg-background rounded border opacity-70",children:[H.year,"  ",H.type]})]},H.id))})]},C))})]})]})]}),u.jsx(Fa,{children:u.jsx(Ua,{onClick:()=>p(null),children:"Chiudi Report"})})]})}),u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"flex justify-center w-full",children:u.jsx(Js,{value:l,onValueChange:C=>c(C),className:"w-full max-w-2xl",children:u.jsxs(qo,{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 w-full h-auto p-1 bg-secondary/30 backdrop-blur-sm border border-white/5 gap-1",children:[u.jsx(vt,{value:"lifetime",className:"w-full col-span-2 sm:col-span-1",children:"Lifetime"}),u.jsx(vt,{value:"annual",className:"w-full",children:"Annuale"}),u.jsx(vt,{value:"quarterly",className:"w-full",children:"Trimestrale"}),u.jsx(vt,{value:"monthly",className:"w-full",children:"Mensile"}),u.jsx(vt,{value:"weekly",className:"w-full",children:"Settimanale"}),u.jsxs(vt,{value:"stats",className:"w-full gap-2 col-span-2 sm:col-span-1",children:[u.jsx(k_,{className:"w-4 h-4"})," Stats"]})]})})}),u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 p-4 rounded-2xl bg-card/40 border border-white/5 backdrop-blur-xl transition-all duration-300",children:[u.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start items-center gap-2 w-full md:w-auto",children:[u.jsxs(di,{value:e,onValueChange:C=>t(C),children:[u.jsx(Gr,{className:"w-[120px] bg-background/40 border-white/5",children:u.jsx(Ra,{placeholder:"Anno"})}),u.jsxs(Kr,{children:[u.jsxs(qt,{value:"all",className:"font-bold text-primary",children:["Dal ",ce]}),re.map(C=>u.jsx(qt,{value:C.toString(),className:ae(C<J&&"text-muted-foreground italic"),children:C},C))]})]}),l==="quarterly"&&u.jsxs(di,{value:n.toString(),onValueChange:C=>r(parseInt(C)),children:[u.jsx(Gr,{className:"w-[160px] bg-background/40 border-white/5",children:u.jsx(Ra,{placeholder:"Trimestre"})}),u.jsx(Kr,{children:M.map(C=>u.jsx(qt,{value:C.value.toString(),children:C.label},C.value))})]}),(l==="monthly"||l==="weekly")&&u.jsxs(di,{value:i.toString(),onValueChange:C=>{a(parseInt(C)),s(1)},children:[u.jsx(Gr,{className:"w-[140px] bg-background/40 border-white/5",children:u.jsx(Ra,{placeholder:"Mese"})}),u.jsx(Kr,{children:ee.map(C=>u.jsx(qt,{value:C.value.toString(),className:ae(e!=="all"&&parseInt(e)<J||e===J.toString()&&C.value<new Date().getMonth()+1&&"text-muted-foreground italic"),children:C.label},C.value))})]}),l==="weekly"&&u.jsxs(di,{value:o.toString(),onValueChange:C=>s(parseInt(C)),children:[u.jsx(Gr,{className:"w-[140px] bg-background/40 border-white/5",children:u.jsx(Ra,{placeholder:"Settimana"})}),u.jsx(Kr,{children:Array.from({length:ire(new Date(e==="all"?J:parseInt(e),i-1,1),{weekStartsOn:1})},(C,G)=>G+1).map(C=>u.jsxs(qt,{value:C.toString(),className:ae(e!=="all"&&parseInt(e)<J||e===J.toString()&&i<new Date().getMonth()+1&&"text-muted-foreground italic"),children:["Settimana ",C]},C))})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(Bo,{children:[u.jsx(cl,{asChild:!0,children:u.jsx(Ce,{variant:"ghost",size:"icon",className:"hover:bg-white/5",title:"Esporta Backup (JSON)",children:u.jsx(nl,{className:"w-4 h-4 text-muted-foreground"})})}),u.jsxs(La,{className:"sm:max-w-md",children:[u.jsxs(za,{children:[u.jsx(Ba,{children:"Backup Obiettivi"}),u.jsx(qa,{children:"Crea un backup dei tuoi obiettivi e impostazioni. I file sono in formato JSON."})]}),u.jsx("div",{className:"py-4",children:u.jsxs(zW,{value:d,onValueChange:C=>f(C),children:[u.jsxs("div",{className:"flex items-center space-x-2 border p-3 rounded-lg hover:bg-accent cursor-pointer",onClick:()=>f("all"),children:[u.jsx(x_,{value:"all",id:"r1"}),u.jsxs(ni,{htmlFor:"r1",className:"cursor-pointer flex-1",children:[u.jsx("div",{className:"font-medium",children:"Esporta Tutto"}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Tutti gli anni, mesi e impostazioni"})]})]}),u.jsxs("div",{className:"flex items-center space-x-2 border p-3 rounded-lg hover:bg-accent cursor-pointer",onClick:()=>f("year"),children:[u.jsx(x_,{value:"year",id:"r2"}),u.jsxs(ni,{htmlFor:"r2",className:"cursor-pointer flex-1",children:[u.jsxs("div",{className:"font-medium",children:["Solo ",e==="all"?J:e]}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Solo obiettivi di questo anno e impostazioni"})]})]})]})}),u.jsxs(Fa,{children:[u.jsx(Jo,{children:"Annulla"}),u.jsxs(Ua,{onClick:()=>$({scope:d,year:e==="all"?J:parseInt(e)}),disabled:Z,children:[Z?u.jsx(Qr,{className:"w-4 h-4 animate-spin mr-2"}):null,"Scarica Backup"]})]})]})]}),u.jsx(Ce,{variant:"ghost",size:"icon",className:"hover:bg-white/5",title:"Ripristina da Backup (JSON)",onClick:le,disabled:fe,children:fe?u.jsx(Qr,{className:"w-4 h-4 animate-spin"}):u.jsx(Z5,{className:"w-4 h-4 text-muted-foreground"})}),u.jsx("input",{type:"file",ref:B,onChange:ue,accept:".json",className:"hidden"}),u.jsx("div",{className:"ml-1",children:u.jsx(k2e,{})})]})]}),l!=="stats"&&u.jsxs("div",{className:ae("text-2xl font-bold tracking-tight text-white flex items-center gap-3 transition-all duration-300 pl-2",P&&"blur-sm"),children:[l==="lifetime"&&u.jsx("span",{className:"text-emerald-400",children:"Lifetime"}),l==="annual"&&u.jsx("span",{className:"text-primary",children:e==="all"?"Tutti gli anni":e}),l==="quarterly"&&u.jsxs("span",{className:"text-amber-500",children:["Q",n," ",e!=="all"&&e]}),l==="monthly"&&u.jsx("span",{className:"text-blue-400",children:ee.find(C=>C.value===i)?.label}),l==="weekly"&&u.jsxs("span",{className:"text-purple-400",children:["Settimana ",o]}),u.jsx("span",{className:"text-muted-foreground text-lg font-normal",children:l==="lifetime"?"Obiettivi a Lungo Termine":l==="annual"?"Obiettivi Annuali":l==="quarterly"?"Obiettivi Trimestrali":l==="monthly"?"Obiettivi Mensili":"Obiettivi Settimanali"})]})]}),l==="stats"?u.jsx(j2e,{year:e}):u.jsxs("div",{className:ae("transition-all duration-300",P&&"blur-sm"),children:[u.jsxs("form",{onSubmit:W,className:"flex gap-2",children:[u.jsx(ta,{className:"flex-1 bg-background/50",placeholder:`Aggiungi obiettivo ${l==="lifetime"?"lifetime":l==="annual"?"annuale":l==="quarterly"?"trimestrale":l==="monthly"?"mensile":"settimanale"}...`,value:y,onChange:C=>m(C.target.value)}),u.jsxs(di,{value:g||"null",onValueChange:C=>v(C==="null"?null:C),children:[u.jsx(Gr,{className:"w-[50px] px-2 bg-background/50 border-input",children:u.jsx("div",{className:"flex items-center justify-center w-full",children:u.jsx("div",{className:"w-4 h-4 rounded-full border border-white/10",style:{backgroundColor:g?T(g):"transparent"}})})}),u.jsxs(Kr,{align:"end",children:[u.jsx(qt,{value:"null",children:"Nessun Colore"}),E.map(C=>u.jsx(qt,{value:C,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 rounded-full border border-white/10",style:{backgroundColor:T(C)}}),j(C)]})},C))]})]}),u.jsx(Ce,{type:"submit",disabled:z.isPending,children:z.isPending?u.jsx(Qr,{className:"w-4 h-4 animate-spin"}):u.jsx(gw,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"space-y-2 mt-2",children:F?u.jsx("div",{className:"flex justify-center p-8 text-muted-foreground",children:u.jsx(Qr,{className:"w-6 h-6 animate-spin"})}):R?.length===0?u.jsx("div",{className:"text-center p-8 border border-dashed border-white/10 rounded-xl text-muted-foreground",children:"Nessun obiettivo impostato per questo periodo."}):R?.map((C,G)=>{const H=x[C.id]||C.status,V=R[G-1],U=C.status==="completed"&&(!V||V.status!=="completed"),K=C.status==="failed"&&(!V||V.status!=="failed"),ie=()=>{w.current[C.id]&&clearTimeout(w.current[C.id]);const ne=x[C.id]||C.status,X=ne==="active"?"completed":ne==="completed"?"failed":"active";_(de=>({...de,[C.id]:X})),w.current[C.id]=setTimeout(()=>{q.mutate({id:C.id,status:X},{onSuccess:()=>{_(de=>{const ve={...de};return delete ve[C.id],ve}),delete w.current[C.id]}})},2e3)};return u.jsxs("div",{children:[U&&u.jsxs("div",{className:"flex items-center gap-4 py-6",children:[u.jsx("div",{className:"h-px bg-white/10 flex-1"}),u.jsx("span",{className:"text-xs font-medium text-emerald-500/70 uppercase tracking-widest",children:"Completati"}),u.jsx("div",{className:"h-px bg-white/10 flex-1"})]}),K&&u.jsxs("div",{className:"flex items-center gap-4 py-6",children:[u.jsx("div",{className:"h-px bg-white/10 flex-1"}),u.jsx("span",{className:"text-xs font-medium text-destructive/70 uppercase tracking-widest",children:"Falliti"}),u.jsx("div",{className:"h-px bg-white/10 flex-1"})]}),u.jsxs("div",{className:ae("group flex items-center gap-3 p-4 rounded-xl border transition-all duration-300",H==="completed"?"opacity-60 bg-emerald-500/5 border-emerald-500/10":H==="failed"?"opacity-60 bg-destructive/5 border-destructive/10":N(C.color)),style:H==="active"?O(C.color):{},children:[u.jsxs("div",{onClick:ie,className:ae("w-5 h-5 rounded flex items-center justify-center border cursor-pointer transition-all duration-300 hover:scale-110",H==="active"&&"border-white/20 hover:border-white/40",H==="completed"&&"bg-emerald-500 border-emerald-500 text-white",H==="failed"&&"bg-destructive border-destructive text-white"),children:[H==="active"&&u.jsx("div",{className:"w-full h-full"}),H==="completed"&&u.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"animate-in zoom-in duration-200",children:u.jsx("polyline",{points:"20 6 9 17 4 12"})}),H==="failed"&&u.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"animate-in zoom-in duration-200",children:[u.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),u.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})]}),u.jsx("span",{className:ae("flex-1 font-medium transition-all cursor-pointer duration-300 min-w-0 break-words",H==="completed"&&"text-emerald-500/80 line-through",H==="failed"&&"text-destructive/80 line-through",H==="active"&&"text-foreground"),onClick:ie,children:C.title}),u.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[u.jsxs(di,{value:C.color||"null",onValueChange:ne=>L.mutate({id:C.id,color:ne==="null"?null:ne}),children:[u.jsx(Gr,{className:"w-[30px] h-[30px] p-0 border-0 bg-transparent focus:ring-0",children:u.jsx("div",{className:"w-4 h-4 rounded-full border border-white/10",style:{backgroundColor:C.color?T(C.color):"rgba(255,255,255,0.2)"}})}),u.jsxs(Kr,{align:"end",children:[u.jsx(qt,{value:"null",children:"Nessun Colore"}),E.map(ne=>u.jsx(qt,{value:ne,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 rounded-full border border-white/10",style:{backgroundColor:T(ne)}}),j(ne)]})},ne))]})]}),u.jsxs(Bo,{children:[u.jsx(cl,{asChild:!0,children:u.jsx(Ce,{variant:"ghost",size:"icon",className:"text-destructive hover:bg-destructive/10 hover:text-destructive h-8 w-8",children:u.jsx(N_,{className:"w-4 h-4"})})}),u.jsxs(La,{children:[u.jsxs(za,{children:[u.jsx(Ba,{children:"Eliminare questo obiettivo?"}),u.jsx(qa,{children:"Questa azione non pu essere annullata. L'obiettivo verr rimosso permanentemente."})]}),u.jsxs(Fa,{children:[u.jsx(Jo,{children:"Annulla"}),u.jsx(Ua,{onClick:()=>D.mutate(C.id),children:"Elimina"})]})]})]})]})]})]},C.id)})})]})]})}const L2e=()=>u.jsxs("div",{className:"flex-1 min-h-dvh flex flex-col pt-8 pb-12 px-4 sm:px-8 animate-fade-in relative z-10 w-full max-w-[1200px] mx-auto",children:[u.jsx("div",{className:"fixed top-[-20%] right-[-10%] w-[50%] h-[50%] bg-purple-500/5 blur-[120px] rounded-full pointer-events-none -z-10"}),u.jsx("div",{className:"mb-8 flex items-center justify-between",children:u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-display font-bold text-foreground",children:"Macro Obiettivi"}),u.jsx("p",{className:"text-muted-foreground",children:"Pianificazione a lungo termine."})]})}),u.jsx("div",{className:"glass-panel p-6 rounded-2xl min-h-[600px]",children:u.jsx($2e,{})})]}),z2e=Od("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Wo=S.forwardRef(({className:e,variant:t,...n},r)=>u.jsx("div",{ref:r,role:"alert",className:ae(z2e({variant:t}),e),...n}));Wo.displayName="Alert";const hh=S.forwardRef(({className:e,...t},n)=>u.jsx("h5",{ref:n,className:ae("mb-1 font-medium leading-none tracking-tight",e),...t}));hh.displayName="AlertTitle";const Ho=S.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:ae("text-sm [&_p]:leading-relaxed",e),...t}));Ho.displayName="AlertDescription";const DE="http://localhost:11434";async function F2e(){try{return(await fetch(`${DE}/api/tags`,{method:"GET"})).ok}catch{return!1}}async function B2e(){try{const e=await fetch(`${DE}/api/tags`);if(!e.ok)throw new Error("Failed to fetch models");return(await e.json()).models||[]}catch(e){return console.error("Failed to list models:",e),[]}}async function q2e(e,t,n="weekly",r,i){try{let a="";switch(n){case"weekly":a=`Analizza l'ultima settimana e fornisci:
1. **Risultati Chiave**: I 2-3 principali successi della settimana
2. **Pattern Identificati**: Tendenze e comportamenti ricorrenti (es: "fatica il luned", "ottimo nei weekend")
3. **Suggerimento Principale**: Un'azione concreta e specifica da implementare la prossima settimana`;break;case"monthly":a=`Analizza l'ultimo mese e fornisci:
1. **Panoramica Mensile**: Progressi generali e trend del mese
2. **Abitudini Consolidate**: Quali abitudini sono diventate pi solide
3. **Aree di Miglioramento**: Quali abitudini necessitano pi attenzione
4. **Piano per il Prossimo Mese**: 2-3 obiettivi concreti`;break;case"focus":a=`Fornisci un'analisi rapida e mirata:
1. **Stato Attuale**: Snapshot della situazione odierna
2. **Area Critica**: L'abitudine che necessita attenzione immediata
3. **Quick Win**: Un'azione veloce per oggi che pu fare la differenza`;break}const o=`Sei un coach personale esperto in abitudini e produttivit. ${a}

Usa un tono motivante ma realistico. Sii specifico e basati solo sui dati forniti. Rispondi in italiano.

DATI ABITUDINI:
${e}

REPORT:`,s=await fetch(`${DE}/api/generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:t,prompt:o,stream:!!r}),signal:i});if(!s.ok)throw new Error(`Ollama API error: ${s.statusText}`);if(r&&s.body){const l=s.body.getReader(),c=new TextDecoder;let d="";for(;;){const{done:f,value:h}=await l.read();if(f)break;const y=c.decode(h).split(`
`).filter(m=>m.trim());for(const m of y)try{const g=JSON.parse(m);g.response&&(d+=g.response,r(g.response))}catch{}}return d}else return(await s.json()).response||""}catch(a){throw a.name==="AbortError"?new Error("Generazione interrotta dall'utente"):(console.error("Failed to generate coach report:",a),a)}}function U2e(e,t,n){const r=Object.keys(t).slice(-7);let i=`### Abitudini Tracciate (${e.length})
`;return e.forEach(a=>{i+=`- ${a.title}
`}),i+=`
### Performance Ultimi 7 Giorni
`,r.forEach(a=>{const o=t[a],s=Object.values(o).filter(c=>c==="done").length,l=Object.keys(o).length;i+=`- ${a}: ${s}/${l} completate
`}),i+=`
### Statistiche Globali
`,i+=`- Tasso di successo: ${n.globalSuccessRate}%
`,i+=`- Migliore streak: ${n.bestStreak} giorni
`,i+=`- Giorni attivi totali: ${n.totalActiveDays}
`,i}const V2e=()=>{const{goals:e,logs:t}=zj(),n=s8(e,t,"weekly"),{isPrivacyMode:r}=Cm(),{isAIEnabled:i}=ym(),a=S.useRef(null),[o,s]=S.useState([]),[l,c]=S.useState(""),[d,f]=S.useState("weekly"),[h,p]=S.useState(!0),[y,m]=S.useState(!1),[g,v]=S.useState(!1),[b,x]=S.useState(""),[_,w]=S.useState(""),[j,k]=S.useState(0);S.useEffect(()=>{A()},[]),S.useEffect(()=>{if(o.length>0){const F=localStorage.getItem("ollama_preferred_model");F&&o.find(z=>z.name===F)?c(F):c(o[0].name)}const R=localStorage.getItem("ollama_report_type");R&&["weekly","monthly","focus"].includes(R)&&f(R)},[o]),S.useEffect(()=>{if(_){const R=_.trim().split(/\s+/).length;k(R)}},[_]);const A=async()=>{p(!0);try{const R=await F2e();if(m(R),R){const F=await B2e();s(F),F.length===0&&We.error("Nessun modello installato. Esegui: ollama pull llama3.2")}}catch(R){console.error("Failed to check Ollama:",R)}finally{p(!1)}},P=async()=>{if(!l){We.error("Seleziona un modello prima di generare il report");return}v(!0),x(""),w(""),k(0),a.current=new AbortController;try{const R=U2e(e,t,n),F=await q2e(R,l,d,z=>{w(q=>q+z)},a.current.signal);x(F),We.success("Report generato con successo!")}catch(R){console.error("Failed to generate report:",R),R.message?.includes("interrotta")?We.info("Generazione interrotta"):We.error("Errore durante la generazione del report")}finally{v(!1),a.current=null}},O=()=>{a.current&&(a.current.abort(),v(!1),We.info("Generazione arrestata"))},T=R=>{c(R),localStorage.setItem("ollama_preferred_model",R)},N=R=>{f(R),localStorage.setItem("ollama_report_type",R)},M=()=>{if(!b)return;const R=new Blob([b],{type:"text/markdown"}),F=window.URL.createObjectURL(R),z=document.createElement("a");z.href=F,z.download=`ai-coach-report-${d}-${new Date().toISOString().split("T")[0]}.md`,document.body.appendChild(z),z.click(),window.URL.revokeObjectURL(F),document.body.removeChild(z),We.success("Report esportato!")},E=R=>(R/1073741824).toFixed(1)+" GB";return i?u.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-4xl animate-fade-in pb-32 space-y-6",children:[u.jsx("div",{className:"fixed top-20 left-1/2 -translate-x-1/2 w-[800px] h-[800px] bg-primary/5 blur-[120px] rounded-full pointer-events-none -z-10"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("h1",{className:"text-2xl sm:text-3xl font-display font-bold text-foreground flex items-center gap-3",children:[u.jsx(Hi,{className:"w-8 h-8 text-primary"}),"AI Coach"]}),u.jsx("p",{className:"text-muted-foreground font-light text-sm sm:text-base",children:"Analisi intelligente delle tue abitudini con Ollama"})]}),h?u.jsxs(Wo,{children:[u.jsx(Qr,{className:"h-4 w-4 animate-spin"}),u.jsx(Ho,{children:"Controllo Ollama..."})]}):y?o.length===0?u.jsxs(Wo,{variant:"destructive",children:[u.jsx(rl,{className:"h-4 w-4"}),u.jsxs(Ho,{children:["Nessun modello installato. Esegui: ",u.jsx("code",{className:"bg-black/20 px-2 py-1 rounded",children:"ollama pull llama3.2"})]})]}):u.jsxs(u.Fragment,{children:[u.jsxs(qe,{className:"glass-panel",children:[u.jsxs(et,{children:[u.jsxs(tt,{className:"text-lg flex items-center gap-2",children:[u.jsx(B5,{className:"w-5 h-5"}),"Configura Analisi"]}),u.jsx(Vr,{children:"Seleziona modello e tipo di report"})]}),u.jsxs(Ve,{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium",children:"Tipo di Report"}),u.jsxs(di,{value:d,onValueChange:N,children:[u.jsx(Gr,{className:"glass-panel border-white/10",children:u.jsx(Ra,{})}),u.jsxs(Kr,{children:[u.jsx(qt,{value:"weekly",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(O_,{className:"w-4 h-4"}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:"Settimanale"}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Analisi ultimi 7 giorni"})]})]})}),u.jsx(qt,{value:"monthly",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ha,{className:"w-4 h-4"}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:"Mensile"}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Panoramica del mese"})]})]})}),u.jsx(qt,{value:"focus",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Gi,{className:"w-4 h-4"}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:"Focus Rapido"}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Analisi mirata immediata"})]})]})})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium",children:"Modello AI"}),u.jsxs(di,{value:l,onValueChange:T,children:[u.jsx(Gr,{className:"glass-panel border-white/10",children:u.jsx(Ra,{placeholder:"Seleziona modello"})}),u.jsx(Kr,{children:o.map(R=>u.jsx(qt,{value:R.name,children:u.jsxs("div",{className:"flex items-center justify-between gap-3",children:[u.jsx("span",{className:"font-medium",children:R.name}),u.jsx("span",{className:"text-xs text-muted-foreground",children:E(R.size)})]})},R.name))})]})]}),u.jsx("div",{className:"flex gap-2",children:g?u.jsxs(Ce,{onClick:O,variant:"destructive",className:"flex-1",size:"lg",children:[u.jsx(r9,{className:"w-4 h-4 mr-2"}),"Ferma Generazione"]}):u.jsxs(Ce,{onClick:P,disabled:!l||r,className:"flex-1",size:"lg",children:[u.jsx(Hi,{className:"w-4 h-4 mr-2"}),"Genera Report"]})}),r&&u.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Disattiva la modalit privacy per usare l'AI Coach"})]})]}),(_||b)&&u.jsxs(qe,{className:"glass-panel",children:[u.jsxs(et,{className:"flex flex-row items-center justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx(tt,{className:"text-lg",children:"Report AI"}),g&&u.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[u.jsx(Qr,{className:"w-3 h-3 animate-spin"}),u.jsxs("span",{className:"font-mono",children:[j," parole generate"]})]})]}),b&&!g&&u.jsxs(Ce,{variant:"outline",size:"sm",onClick:M,children:[u.jsx(nl,{className:"w-4 h-4 mr-2"}),"Esporta"]})]}),u.jsx(Ve,{children:u.jsx("div",{className:"prose prose-invert prose-sm max-w-none",children:u.jsx(TB,{remarkPlugins:[t6],children:g?_:b})})})]})]}):u.jsxs(Wo,{variant:"destructive",children:[u.jsx(rl,{className:"h-4 w-4"}),u.jsxs(Ho,{children:["Ollama non  attivo. Avvia Ollama con ",u.jsx("code",{className:"bg-black/20 px-2 py-1 rounded",children:"ollama serve"})," e"," ",u.jsx("button",{onClick:A,className:"underline font-semibold",children:"riprova"})]})]})]}):u.jsx("div",{className:"container mx-auto px-4 py-6 max-w-4xl animate-fade-in pb-32",children:u.jsxs("div",{className:"glass-panel rounded-3xl p-12 text-center space-y-4",children:[u.jsx(L5,{className:"w-16 h-16 mx-auto text-muted-foreground opacity-50"}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-display font-semibold text-foreground mb-2",children:"AI Coach Disabilitato"}),u.jsx("p",{className:"text-muted-foreground",children:'Attiva lo switch "AI" nel Protocollo per utilizzare questa funzionalit.'})]})]})})};function Yf(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var cw={exports:{}};var e5;function W2e(){return e5||(e5=1,(function(e,t){(function(n){e.exports=n()})(function(){return(function n(r,i,a){function o(c,d){if(!i[c]){if(!r[c]){var f=typeof Yf=="function"&&Yf;if(!d&&f)return f(c,!0);if(s)return s(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var p=i[c]={exports:{}};r[c][0].call(p.exports,function(y){var m=r[c][1][y];return o(m||y)},p,p.exports,n,r,i,a)}return i[c].exports}for(var s=typeof Yf=="function"&&Yf,l=0;l<a.length;l++)o(a[l]);return o})({1:[function(n,r,i){var a=n("./utils"),o=n("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var c,d,f,h,p,y,m,g=[],v=0,b=l.length,x=b,_=a.getTypeOf(l)!=="string";v<l.length;)x=b-v,f=_?(c=l[v++],d=v<b?l[v++]:0,v<b?l[v++]:0):(c=l.charCodeAt(v++),d=v<b?l.charCodeAt(v++):0,v<b?l.charCodeAt(v++):0),h=c>>2,p=(3&c)<<4|d>>4,y=1<x?(15&d)<<2|f>>6:64,m=2<x?63&f:64,g.push(s.charAt(h)+s.charAt(p)+s.charAt(y)+s.charAt(m));return g.join("")},i.decode=function(l){var c,d,f,h,p,y,m=0,g=0,v="data:";if(l.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");var b,x=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===s.charAt(64)&&x--,l.charAt(l.length-2)===s.charAt(64)&&x--,x%1!=0)throw new Error("Invalid base64 input, bad content length.");for(b=o.uint8array?new Uint8Array(0|x):new Array(0|x);m<l.length;)c=s.indexOf(l.charAt(m++))<<2|(h=s.indexOf(l.charAt(m++)))>>4,d=(15&h)<<4|(p=s.indexOf(l.charAt(m++)))>>2,f=(3&p)<<6|(y=s.indexOf(l.charAt(m++))),b[g++]=c,p!==64&&(b[g++]=d),y!==64&&(b[g++]=f);return b}},{"./support":30,"./utils":32}],2:[function(n,r,i){var a=n("./external"),o=n("./stream/DataWorker"),s=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function c(d,f,h,p,y){this.compressedSize=d,this.uncompressedSize=f,this.crc32=h,this.compression=p,this.compressedContent=y}c.prototype={getContentWorker:function(){var d=new o(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),f=this;return d.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new o(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(d,f,h){return d.pipe(new s).pipe(new l("uncompressedSize")).pipe(f.compressWorker(h)).pipe(new l("compressedSize")).withStreamInfo("compression",f)},r.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var a=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var a=n("./utils"),o=(function(){for(var s,l=[],c=0;c<256;c++){s=c;for(var d=0;d<8;d++)s=1&s?3988292384^s>>>1:s>>>1;l[c]=s}return l})();r.exports=function(s,l){return s!==void 0&&s.length?a.getTypeOf(s)!=="string"?(function(c,d,f,h){var p=o,y=h+f;c^=-1;for(var m=h;m<y;m++)c=c>>>8^p[255&(c^d[m])];return-1^c})(0|l,s,s.length,0):(function(c,d,f,h){var p=o,y=h+f;c^=-1;for(var m=h;m<y;m++)c=c>>>8^p[255&(c^d.charCodeAt(m))];return-1^c})(0|l,s,s.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var a=null;a=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:a}},{lie:37}],7:[function(n,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=n("pako"),s=n("./utils"),l=n("./stream/GenericWorker"),c=a?"uint8array":"array";function d(f,h){l.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=h,this.meta={}}i.magic="\b\0",s.inherits(d,l),d.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(s.transformTo(c,f.data),!1)},d.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(h){f.push({data:h,meta:f.meta})}},i.compressWorker=function(f){return new d("Deflate",f)},i.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function a(p,y){var m,g="";for(m=0;m<y;m++)g+=String.fromCharCode(255&p),p>>>=8;return g}function o(p,y,m,g,v,b){var x,_,w=p.file,j=p.compression,k=b!==c.utf8encode,A=s.transformTo("string",b(w.name)),P=s.transformTo("string",c.utf8encode(w.name)),O=w.comment,T=s.transformTo("string",b(O)),N=s.transformTo("string",c.utf8encode(O)),M=P.length!==w.name.length,E=N.length!==O.length,R="",F="",z="",q=w.dir,L=w.date,D={crc32:0,compressedSize:0,uncompressedSize:0};y&&!m||(D.crc32=p.crc32,D.compressedSize=p.compressedSize,D.uncompressedSize=p.uncompressedSize);var W=0;y&&(W|=8),k||!M&&!E||(W|=2048);var B=0,$=0;q&&(B|=16),v==="UNIX"?($=798,B|=(function(Z,fe){var le=Z;return Z||(le=fe?16893:33204),(65535&le)<<16})(w.unixPermissions,q)):($=20,B|=(function(Z){return 63&(Z||0)})(w.dosPermissions)),x=L.getUTCHours(),x<<=6,x|=L.getUTCMinutes(),x<<=5,x|=L.getUTCSeconds()/2,_=L.getUTCFullYear()-1980,_<<=4,_|=L.getUTCMonth()+1,_<<=5,_|=L.getUTCDate(),M&&(F=a(1,1)+a(d(A),4)+P,R+="up"+a(F.length,2)+F),E&&(z=a(1,1)+a(d(T),4)+N,R+="uc"+a(z.length,2)+z);var Q="";return Q+=`
\0`,Q+=a(W,2),Q+=j.magic,Q+=a(x,2),Q+=a(_,2),Q+=a(D.crc32,4),Q+=a(D.compressedSize,4),Q+=a(D.uncompressedSize,4),Q+=a(A.length,2),Q+=a(R.length,2),{fileRecord:f.LOCAL_FILE_HEADER+Q+A+R,dirRecord:f.CENTRAL_FILE_HEADER+a($,2)+Q+a(T.length,2)+"\0\0\0\0"+a(B,4)+a(g,4)+A+R+T}}var s=n("../utils"),l=n("../stream/GenericWorker"),c=n("../utf8"),d=n("../crc32"),f=n("../signature");function h(p,y,m,g){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=y,this.zipPlatform=m,this.encodeFileName=g,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(h,l),h.prototype.push=function(p){var y=p.meta.percent||0,m=this.entriesCount,g=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,l.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:m?(y+100*(m-g-1))/m:100}}))},h.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var y=this.streamFiles&&!p.file.dir;if(y){var m=o(p,y,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(p){this.accumulate=!1;var y=this.streamFiles&&!p.file.dir,m=o(p,y,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),y)this.push({data:(function(g){return f.DATA_DESCRIPTOR+a(g.crc32,4)+a(g.compressedSize,4)+a(g.uncompressedSize,4)})(p),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var p=this.bytesWritten,y=0;y<this.dirRecords.length;y++)this.push({data:this.dirRecords[y],meta:{percent:100}});var m=this.bytesWritten-p,g=(function(v,b,x,_,w){var j=s.transformTo("string",w(_));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(v,2)+a(v,2)+a(b,4)+a(x,4)+a(j.length,2)+j})(this.dirRecords.length,m,p,this.zipComment,this.encodeFileName);this.push({data:g,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(p){this._sources.push(p);var y=this;return p.on("data",function(m){y.processChunk(m)}),p.on("end",function(){y.closedSource(y.previous.streamInfo),y._sources.length?y.prepareNextSource():y.end()}),p.on("error",function(m){y.error(m)}),this},h.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(p){var y=this._sources;if(!l.prototype.error.call(this,p))return!1;for(var m=0;m<y.length;m++)try{y[m].error(p)}catch{}return!0},h.prototype.lock=function(){l.prototype.lock.call(this);for(var p=this._sources,y=0;y<p.length;y++)p[y].lock()},r.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var a=n("../compressions"),o=n("./ZipFileWorker");i.generateWorker=function(s,l,c){var d=new o(l.streamFiles,c,l.platform,l.encodeFileName),f=0;try{s.forEach(function(h,p){f++;var y=(function(b,x){var _=b||x,w=a[_];if(!w)throw new Error(_+" is not a valid compression method !");return w})(p.options.compression,l.compression),m=p.options.compressionOptions||l.compressionOptions||{},g=p.dir,v=p.date;p._compressWorker(y,m).withStreamInfo("file",{name:h,dir:g,date:v,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(d)}),d.entriesCount=f}catch(h){d.error(h)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new a;for(var s in this)typeof this[s]!="function"&&(o[s]=this[s]);return o}}(a.prototype=n("./object")).loadAsync=n("./load"),a.support=n("./support"),a.defaults=n("./defaults"),a.version="3.10.1",a.loadAsync=function(o,s){return new a().loadAsync(o,s)},a.external=n("./external"),r.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var a=n("./utils"),o=n("./external"),s=n("./utf8"),l=n("./zipEntries"),c=n("./stream/Crc32Probe"),d=n("./nodejsUtils");function f(h){return new o.Promise(function(p,y){var m=h.decompressed.getContentWorker().pipe(new c);m.on("error",function(g){y(g)}).on("end",function(){m.streamInfo.crc32!==h.decompressed.crc32?y(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}r.exports=function(h,p){var y=this;return p=a.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),d.isNode&&d.isStream(h)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",h,!0,p.optimizedBinaryString,p.base64).then(function(m){var g=new l(p);return g.load(m),g}).then(function(m){var g=[o.Promise.resolve(m)],v=m.files;if(p.checkCRC32)for(var b=0;b<v.length;b++)g.push(f(v[b]));return o.Promise.all(g)}).then(function(m){for(var g=m.shift(),v=g.files,b=0;b<v.length;b++){var x=v[b],_=x.fileNameStr,w=a.resolve(x.fileNameStr);y.file(w,x.decompressed,{binary:!0,optimizedBinaryString:!0,date:x.date,dir:x.dir,comment:x.fileCommentStr.length?x.fileCommentStr:null,unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions,createFolders:p.createFolders}),x.dir||(y.file(w).unsafeOriginalName=_)}return g.zipComment.length&&(y.comment=g.zipComment),y})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var a=n("../utils"),o=n("../stream/GenericWorker");function s(l,c){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}a.inherits(s,o),s.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(d){c.push({data:d,meta:{percent:0}})}).on("error",function(d){c.isPaused?this.generatedError=d:c.error(d)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},s.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var a=n("readable-stream").Readable;function o(s,l,c){a.call(this,l),this._helper=s;var d=this;s.on("data",function(f,h){d.push(f)||d._helper.pause(),c&&c(h)}).on("error",function(f){d.emit("error",f)}).on("end",function(){d.push(null)})}n("../utils").inherits(o,a),o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,o);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,o)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var o=new Buffer(a);return o.fill(0),o},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(n,r,i){function a(w,j,k){var A,P=s.getTypeOf(j),O=s.extend(k||{},d);O.date=O.date||new Date,O.compression!==null&&(O.compression=O.compression.toUpperCase()),typeof O.unixPermissions=="string"&&(O.unixPermissions=parseInt(O.unixPermissions,8)),O.unixPermissions&&16384&O.unixPermissions&&(O.dir=!0),O.dosPermissions&&16&O.dosPermissions&&(O.dir=!0),O.dir&&(w=v(w)),O.createFolders&&(A=g(w))&&b.call(this,A,!0);var T=P==="string"&&O.binary===!1&&O.base64===!1;k&&k.binary!==void 0||(O.binary=!T),(j instanceof f&&j.uncompressedSize===0||O.dir||!j||j.length===0)&&(O.base64=!1,O.binary=!0,j="",O.compression="STORE",P="string");var N=null;N=j instanceof f||j instanceof l?j:y.isNode&&y.isStream(j)?new m(w,j):s.prepareContent(w,j,O.binary,O.optimizedBinaryString,O.base64);var M=new h(w,N,O);this.files[w]=M}var o=n("./utf8"),s=n("./utils"),l=n("./stream/GenericWorker"),c=n("./stream/StreamHelper"),d=n("./defaults"),f=n("./compressedObject"),h=n("./zipObject"),p=n("./generate"),y=n("./nodejsUtils"),m=n("./nodejs/NodejsStreamInputAdapter"),g=function(w){w.slice(-1)==="/"&&(w=w.substring(0,w.length-1));var j=w.lastIndexOf("/");return 0<j?w.substring(0,j):""},v=function(w){return w.slice(-1)!=="/"&&(w+="/"),w},b=function(w,j){return j=j!==void 0?j:d.createFolders,w=v(w),this.files[w]||a.call(this,w,null,{dir:!0,createFolders:j}),this.files[w]};function x(w){return Object.prototype.toString.call(w)==="[object RegExp]"}var _={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(w){var j,k,A;for(j in this.files)A=this.files[j],(k=j.slice(this.root.length,j.length))&&j.slice(0,this.root.length)===this.root&&w(k,A)},filter:function(w){var j=[];return this.forEach(function(k,A){w(k,A)&&j.push(A)}),j},file:function(w,j,k){if(arguments.length!==1)return w=this.root+w,a.call(this,w,j,k),this;if(x(w)){var A=w;return this.filter(function(O,T){return!T.dir&&A.test(O)})}var P=this.files[this.root+w];return P&&!P.dir?P:null},folder:function(w){if(!w)return this;if(x(w))return this.filter(function(P,O){return O.dir&&w.test(P)});var j=this.root+w,k=b.call(this,j),A=this.clone();return A.root=k.name,A},remove:function(w){w=this.root+w;var j=this.files[w];if(j||(w.slice(-1)!=="/"&&(w+="/"),j=this.files[w]),j&&!j.dir)delete this.files[w];else for(var k=this.filter(function(P,O){return O.name.slice(0,w.length)===w}),A=0;A<k.length;A++)delete this.files[k[A].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(w){var j,k={};try{if((k=s.extend(w||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=k.type.toLowerCase(),k.compression=k.compression.toUpperCase(),k.type==="binarystring"&&(k.type="string"),!k.type)throw new Error("No output type specified.");s.checkSupport(k.type),k.platform!=="darwin"&&k.platform!=="freebsd"&&k.platform!=="linux"&&k.platform!=="sunos"||(k.platform="UNIX"),k.platform==="win32"&&(k.platform="DOS");var A=k.comment||this.comment||"";j=p.generateWorker(this,k,A)}catch(P){(j=new l("error")).error(P)}return new c(j,k.type||"string",k.mimeType)},generateAsync:function(w,j){return this.generateInternalStream(w).accumulate(j)},generateNodeStream:function(w,j){return(w=w||{}).type||(w.type="nodebuffer"),this.generateInternalStream(w).toNodejsStream(j)}};r.exports=_},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var a=n("./DataReader");function o(s){a.call(this,s);for(var l=0;l<this.data.length;l++)s[l]=255&s[l]}n("../utils").inherits(o,a),o.prototype.byteAt=function(s){return this.data[this.zero+s]},o.prototype.lastIndexOfSignature=function(s){for(var l=s.charCodeAt(0),c=s.charCodeAt(1),d=s.charCodeAt(2),f=s.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===l&&this.data[h+1]===c&&this.data[h+2]===d&&this.data[h+3]===f)return h-this.zero;return-1},o.prototype.readAndCheckSignature=function(s){var l=s.charCodeAt(0),c=s.charCodeAt(1),d=s.charCodeAt(2),f=s.charCodeAt(3),h=this.readData(4);return l===h[0]&&c===h[1]&&d===h[2]&&f===h[3]},o.prototype.readData=function(s){if(this.checkOffset(s),s===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var a=n("../utils");function o(s){this.data=s,this.length=s.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(s){this.checkIndex(this.index+s)},checkIndex:function(s){if(this.length<this.zero+s||s<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+s+"). Corrupted zip ?")},setIndex:function(s){this.checkIndex(s),this.index=s},skip:function(s){this.setIndex(this.index+s)},byteAt:function(){},readInt:function(s){var l,c=0;for(this.checkOffset(s),l=this.index+s-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=s,c},readString:function(s){return a.transformTo("string",this.readData(s))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var s=this.readInt(4);return new Date(Date.UTC(1980+(s>>25&127),(s>>21&15)-1,s>>16&31,s>>11&31,s>>5&63,(31&s)<<1))}},r.exports=o},{"../utils":32}],19:[function(n,r,i){var a=n("./Uint8ArrayReader");function o(s){a.call(this,s)}n("../utils").inherits(o,a),o.prototype.readData=function(s){this.checkOffset(s);var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var a=n("./DataReader");function o(s){a.call(this,s)}n("../utils").inherits(o,a),o.prototype.byteAt=function(s){return this.data.charCodeAt(this.zero+s)},o.prototype.lastIndexOfSignature=function(s){return this.data.lastIndexOf(s)-this.zero},o.prototype.readAndCheckSignature=function(s){return s===this.readData(4)},o.prototype.readData=function(s){this.checkOffset(s);var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var a=n("./ArrayReader");function o(s){a.call(this,s)}n("../utils").inherits(o,a),o.prototype.readData=function(s){if(this.checkOffset(s),s===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var a=n("../utils"),o=n("../support"),s=n("./ArrayReader"),l=n("./StringReader"),c=n("./NodeBufferReader"),d=n("./Uint8ArrayReader");r.exports=function(f){var h=a.getTypeOf(f);return a.checkSupport(h),h!=="string"||o.uint8array?h==="nodebuffer"?new c(f):o.uint8array?new d(a.transformTo("uint8array",f)):new s(a.transformTo("array",f)):new l(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var a=n("./GenericWorker"),o=n("../utils");function s(l){a.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(s,a),s.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},r.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var a=n("./GenericWorker"),o=n("../crc32");function s(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(s,a),s.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var a=n("../utils"),o=n("./GenericWorker");function s(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}a.inherits(s,o),s.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}o.prototype.processChunk.call(this,l)},r.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var a=n("../utils"),o=n("./GenericWorker");function s(l){o.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(d){c.dataIsReady=!0,c.data=d,c.max=d&&d.length||0,c.type=a.getTypeOf(d),c.isPaused||c._tickAndRepeat()},function(d){c.error(d)})}a.inherits(s,o),s.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function a(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,s){return this._listeners[o].push(s),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,s){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,s)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var s=this;return o.on("data",function(l){s.processChunk(l)}),o.on("end",function(){s.end()}),o.on("error",function(l){s.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,s){return this.extraStreamInfo[o]=s,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=a},{}],29:[function(n,r,i){var a=n("../utils"),o=n("./ConvertWorker"),s=n("./GenericWorker"),l=n("../base64"),c=n("../support"),d=n("../external"),f=null;if(c.nodestream)try{f=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(y,m){return new d.Promise(function(g,v){var b=[],x=y._internalType,_=y._outputType,w=y._mimeType;y.on("data",function(j,k){b.push(j),m&&m(k)}).on("error",function(j){b=[],v(j)}).on("end",function(){try{var j=(function(k,A,P){switch(k){case"blob":return a.newBlob(a.transformTo("arraybuffer",A),P);case"base64":return l.encode(A);default:return a.transformTo(k,A)}})(_,(function(k,A){var P,O=0,T=null,N=0;for(P=0;P<A.length;P++)N+=A[P].length;switch(k){case"string":return A.join("");case"array":return Array.prototype.concat.apply([],A);case"uint8array":for(T=new Uint8Array(N),P=0;P<A.length;P++)T.set(A[P],O),O+=A[P].length;return T;case"nodebuffer":return Buffer.concat(A);default:throw new Error("concat : unsupported type '"+k+"'")}})(x,b),w);g(j)}catch(k){v(k)}b=[]}).resume()})}function p(y,m,g){var v=m;switch(m){case"blob":case"arraybuffer":v="uint8array";break;case"base64":v="string"}try{this._internalType=v,this._outputType=m,this._mimeType=g,a.checkSupport(v),this._worker=y.pipe(new o(v)),y.lock()}catch(b){this._worker=new s("error"),this._worker.error(b)}}p.prototype={accumulate:function(y){return h(this,y)},on:function(y,m){var g=this;return y==="data"?this._worker.on(y,function(v){m.call(g,v.data,v.meta)}):this._worker.on(y,function(){a.delay(m,arguments,g)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(y){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},y)}},r.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(a),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var a=n("./utils"),o=n("./support"),s=n("./nodejsUtils"),l=n("./stream/GenericWorker"),c=new Array(256),d=0;d<256;d++)c[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;c[254]=c[254]=1;function f(){l.call(this,"utf-8 decode"),this.leftOver=null}function h(){l.call(this,"utf-8 encode")}i.utf8encode=function(p){return o.nodebuffer?s.newBufferFrom(p,"utf-8"):(function(y){var m,g,v,b,x,_=y.length,w=0;for(b=0;b<_;b++)(64512&(g=y.charCodeAt(b)))==55296&&b+1<_&&(64512&(v=y.charCodeAt(b+1)))==56320&&(g=65536+(g-55296<<10)+(v-56320),b++),w+=g<128?1:g<2048?2:g<65536?3:4;for(m=o.uint8array?new Uint8Array(w):new Array(w),b=x=0;x<w;b++)(64512&(g=y.charCodeAt(b)))==55296&&b+1<_&&(64512&(v=y.charCodeAt(b+1)))==56320&&(g=65536+(g-55296<<10)+(v-56320),b++),g<128?m[x++]=g:(g<2048?m[x++]=192|g>>>6:(g<65536?m[x++]=224|g>>>12:(m[x++]=240|g>>>18,m[x++]=128|g>>>12&63),m[x++]=128|g>>>6&63),m[x++]=128|63&g);return m})(p)},i.utf8decode=function(p){return o.nodebuffer?a.transformTo("nodebuffer",p).toString("utf-8"):(function(y){var m,g,v,b,x=y.length,_=new Array(2*x);for(m=g=0;m<x;)if((v=y[m++])<128)_[g++]=v;else if(4<(b=c[v]))_[g++]=65533,m+=b-1;else{for(v&=b===2?31:b===3?15:7;1<b&&m<x;)v=v<<6|63&y[m++],b--;1<b?_[g++]=65533:v<65536?_[g++]=v:(v-=65536,_[g++]=55296|v>>10&1023,_[g++]=56320|1023&v)}return _.length!==g&&(_.subarray?_=_.subarray(0,g):_.length=g),a.applyFromCharCode(_)})(p=a.transformTo(o.uint8array?"uint8array":"array",p))},a.inherits(f,l),f.prototype.processChunk=function(p){var y=a.transformTo(o.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var m=y;(y=new Uint8Array(m.length+this.leftOver.length)).set(this.leftOver,0),y.set(m,this.leftOver.length)}else y=this.leftOver.concat(y);this.leftOver=null}var g=(function(b,x){var _;for((x=x||b.length)>b.length&&(x=b.length),_=x-1;0<=_&&(192&b[_])==128;)_--;return _<0||_===0?x:_+c[b[_]]>x?_:x})(y),v=y;g!==y.length&&(o.uint8array?(v=y.subarray(0,g),this.leftOver=y.subarray(g,y.length)):(v=y.slice(0,g),this.leftOver=y.slice(g,y.length))),this.push({data:i.utf8decode(v),meta:p.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=f,a.inherits(h,l),h.prototype.processChunk=function(p){this.push({data:i.utf8encode(p.data),meta:p.meta})},i.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var a=n("./support"),o=n("./base64"),s=n("./nodejsUtils"),l=n("./external");function c(m){return m}function d(m,g){for(var v=0;v<m.length;++v)g[v]=255&m.charCodeAt(v);return g}n("setimmediate"),i.newBlob=function(m,g){i.checkSupport("blob");try{return new Blob([m],{type:g})}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return v.append(m),v.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(m,g,v){var b=[],x=0,_=m.length;if(_<=v)return String.fromCharCode.apply(null,m);for(;x<_;)g==="array"||g==="nodebuffer"?b.push(String.fromCharCode.apply(null,m.slice(x,Math.min(x+v,_)))):b.push(String.fromCharCode.apply(null,m.subarray(x,Math.min(x+v,_)))),x+=v;return b.join("")},stringifyByChar:function(m){for(var g="",v=0;v<m.length;v++)g+=String.fromCharCode(m[v]);return g},applyCanBeUsed:{uint8array:(function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,s.allocBuffer(1)).length===1}catch{return!1}})()}};function h(m){var g=65536,v=i.getTypeOf(m),b=!0;if(v==="uint8array"?b=f.applyCanBeUsed.uint8array:v==="nodebuffer"&&(b=f.applyCanBeUsed.nodebuffer),b)for(;1<g;)try{return f.stringifyByChunk(m,v,g)}catch{g=Math.floor(g/2)}return f.stringifyByChar(m)}function p(m,g){for(var v=0;v<m.length;v++)g[v]=m[v];return g}i.applyFromCharCode=h;var y={};y.string={string:c,array:function(m){return d(m,new Array(m.length))},arraybuffer:function(m){return y.string.uint8array(m).buffer},uint8array:function(m){return d(m,new Uint8Array(m.length))},nodebuffer:function(m){return d(m,s.allocBuffer(m.length))}},y.array={string:h,array:c,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return s.newBufferFrom(m)}},y.arraybuffer={string:function(m){return h(new Uint8Array(m))},array:function(m){return p(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:c,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return s.newBufferFrom(new Uint8Array(m))}},y.uint8array={string:h,array:function(m){return p(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:c,nodebuffer:function(m){return s.newBufferFrom(m)}},y.nodebuffer={string:h,array:function(m){return p(m,new Array(m.length))},arraybuffer:function(m){return y.nodebuffer.uint8array(m).buffer},uint8array:function(m){return p(m,new Uint8Array(m.length))},nodebuffer:c},i.transformTo=function(m,g){if(g=g||"",!m)return g;i.checkSupport(m);var v=i.getTypeOf(g);return y[v][m](g)},i.resolve=function(m){for(var g=m.split("/"),v=[],b=0;b<g.length;b++){var x=g[b];x==="."||x===""&&b!==0&&b!==g.length-1||(x===".."?v.pop():v.push(x))}return v.join("/")},i.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":a.nodebuffer&&s.isBuffer(m)?"nodebuffer":a.uint8array&&m instanceof Uint8Array?"uint8array":a.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(m){if(!a[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(m){var g,v,b="";for(v=0;v<(m||"").length;v++)b+="\\x"+((g=m.charCodeAt(v))<16?"0":"")+g.toString(16).toUpperCase();return b},i.delay=function(m,g,v){setImmediate(function(){m.apply(v||null,g||[])})},i.inherits=function(m,g){function v(){}v.prototype=g.prototype,m.prototype=new v},i.extend=function(){var m,g,v={};for(m=0;m<arguments.length;m++)for(g in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],g)&&v[g]===void 0&&(v[g]=arguments[m][g]);return v},i.prepareContent=function(m,g,v,b,x){return l.Promise.resolve(g).then(function(_){return a.blob&&(_ instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(_))!==-1)&&typeof FileReader<"u"?new l.Promise(function(w,j){var k=new FileReader;k.onload=function(A){w(A.target.result)},k.onerror=function(A){j(A.target.error)},k.readAsArrayBuffer(_)}):_}).then(function(_){var w=i.getTypeOf(_);return w?(w==="arraybuffer"?_=i.transformTo("uint8array",_):w==="string"&&(x?_=o.decode(_):v&&b!==!0&&(_=(function(j){return d(j,a.uint8array?new Uint8Array(j.length):new Array(j.length))})(_))),_):l.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var a=n("./reader/readerFor"),o=n("./utils"),s=n("./signature"),l=n("./zipEntry"),c=n("./support");function d(f){this.files=[],this.loadOptions=f}d.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(h)+", expected "+o.pretty(f)+")")}},isSignature:function(f,h){var p=this.reader.index;this.reader.setIndex(f);var y=this.reader.readString(4)===h;return this.reader.setIndex(p),y},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),h=c.uint8array?"uint8array":"array",p=o.transformTo(h,f);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,h,p,y=this.zip64EndOfCentralSize-44;0<y;)f=this.reader.readInt(2),h=this.reader.readInt(4),p=this.reader.readData(h),this.zip64ExtensibleData[f]={id:f,length:h,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,h;for(f=0;f<this.files.length;f++)h=this.files[f],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(f=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var h=f;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var y=h-p;if(0<y)this.isSignature(h,s.CENTRAL_FILE_HEADER)||(this.reader.zero=y);else if(y<0)throw new Error("Corrupted zip: missing "+Math.abs(y)+" bytes.")},prepareReader:function(f){this.reader=a(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var a=n("./reader/readerFor"),o=n("./utils"),s=n("./compressedObject"),l=n("./crc32"),c=n("./utf8"),d=n("./compressions"),f=n("./support");function h(p,y){this.options=p,this.loadOptions=y}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var y,m;if(p.skip(22),this.fileNameLength=p.readInt(2),m=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((y=(function(g){for(var v in d)if(Object.prototype.hasOwnProperty.call(d,v)&&d[v].magic===g)return d[v];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,y,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var y=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(y),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=a(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var y,m,g,v=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<v;)y=p.readInt(2),m=p.readInt(2),g=p.readData(m),this.extraFields[y]={id:y,length:m,value:g};p.setIndex(v)},handleUTF8:function(){var p=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var y=this.findExtraFieldUnicodePath();if(y!==null)this.fileNameStr=y;else{var m=o.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var g=this.findExtraFieldUnicodeComment();if(g!==null)this.fileCommentStr=g;else{var v=o.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var y=a(p.value);return y.readInt(1)!==1||l(this.fileName)!==y.readInt(4)?null:c.utf8decode(y.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var y=a(p.value);return y.readInt(1)!==1||l(this.fileComment)!==y.readInt(4)?null:c.utf8decode(y.readData(p.length-5))}return null}},r.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function a(y,m,g){this.name=y,this.dir=g.dir,this.date=g.date,this.comment=g.comment,this.unixPermissions=g.unixPermissions,this.dosPermissions=g.dosPermissions,this._data=m,this._dataBinary=g.binary,this.options={compression:g.compression,compressionOptions:g.compressionOptions}}var o=n("./stream/StreamHelper"),s=n("./stream/DataWorker"),l=n("./utf8"),c=n("./compressedObject"),d=n("./stream/GenericWorker");a.prototype={internalStream:function(y){var m=null,g="string";try{if(!y)throw new Error("No output type specified.");var v=(g=y.toLowerCase())==="string"||g==="text";g!=="binarystring"&&g!=="text"||(g="string"),m=this._decompressWorker();var b=!this._dataBinary;b&&!v&&(m=m.pipe(new l.Utf8EncodeWorker)),!b&&v&&(m=m.pipe(new l.Utf8DecodeWorker))}catch(x){(m=new d("error")).error(x)}return new o(m,g,"")},async:function(y,m){return this.internalStream(y).accumulate(m)},nodeStream:function(y,m){return this.internalStream(y||"nodebuffer").toNodejsStream(m)},_compressWorker:function(y,m){if(this._data instanceof c&&this._data.compression.magic===y.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(g,y,m)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof d?this._data:new s(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<f.length;p++)a.prototype[f[p]]=h;r.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(a){var o,s,l=a.MutationObserver||a.WebKitMutationObserver;if(l){var c=0,d=new l(y),f=a.document.createTextNode("");d.observe(f,{characterData:!0}),o=function(){f.data=c=++c%2}}else if(a.setImmediate||a.MessageChannel===void 0)o="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var m=a.document.createElement("script");m.onreadystatechange=function(){y(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},a.document.documentElement.appendChild(m)}:function(){setTimeout(y,0)};else{var h=new a.MessageChannel;h.port1.onmessage=y,o=function(){h.port2.postMessage(0)}}var p=[];function y(){var m,g;s=!0;for(var v=p.length;v;){for(g=p,p=[],m=-1;++m<v;)g[m]();v=p.length}s=!1}r.exports=function(m){p.push(m)!==1||s||o()}}).call(this,typeof kr<"u"?kr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var a=n("immediate");function o(){}var s={},l=["REJECTED"],c=["FULFILLED"],d=["PENDING"];function f(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,v!==o&&m(this,v)}function h(v,b,x){this.promise=v,typeof b=="function"&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}function p(v,b,x){a(function(){var _;try{_=b(x)}catch(w){return s.reject(v,w)}_===v?s.reject(v,new TypeError("Cannot resolve promise with itself")):s.resolve(v,_)})}function y(v){var b=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof b=="function")return function(){b.apply(v,arguments)}}function m(v,b){var x=!1;function _(k){x||(x=!0,s.reject(v,k))}function w(k){x||(x=!0,s.resolve(v,k))}var j=g(function(){b(w,_)});j.status==="error"&&_(j.value)}function g(v,b){var x={};try{x.value=v(b),x.status="success"}catch(_){x.status="error",x.value=_}return x}(r.exports=f).prototype.finally=function(v){if(typeof v!="function")return this;var b=this.constructor;return this.then(function(x){return b.resolve(v()).then(function(){return x})},function(x){return b.resolve(v()).then(function(){throw x})})},f.prototype.catch=function(v){return this.then(null,v)},f.prototype.then=function(v,b){if(typeof v!="function"&&this.state===c||typeof b!="function"&&this.state===l)return this;var x=new this.constructor(o);return this.state!==d?p(x,this.state===c?v:b,this.outcome):this.queue.push(new h(x,v,b)),x},h.prototype.callFulfilled=function(v){s.resolve(this.promise,v)},h.prototype.otherCallFulfilled=function(v){p(this.promise,this.onFulfilled,v)},h.prototype.callRejected=function(v){s.reject(this.promise,v)},h.prototype.otherCallRejected=function(v){p(this.promise,this.onRejected,v)},s.resolve=function(v,b){var x=g(y,b);if(x.status==="error")return s.reject(v,x.value);var _=x.value;if(_)m(v,_);else{v.state=c,v.outcome=b;for(var w=-1,j=v.queue.length;++w<j;)v.queue[w].callFulfilled(b)}return v},s.reject=function(v,b){v.state=l,v.outcome=b;for(var x=-1,_=v.queue.length;++x<_;)v.queue[x].callRejected(b);return v},f.resolve=function(v){return v instanceof this?v:s.resolve(new this(o),v)},f.reject=function(v){var b=new this(o);return s.reject(b,v)},f.all=function(v){var b=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=v.length,_=!1;if(!x)return this.resolve([]);for(var w=new Array(x),j=0,k=-1,A=new this(o);++k<x;)P(v[k],k);return A;function P(O,T){b.resolve(O).then(function(N){w[T]=N,++j!==x||_||(_=!0,s.resolve(A,w))},function(N){_||(_=!0,s.reject(A,N))})}},f.race=function(v){var b=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=v.length,_=!1;if(!x)return this.resolve([]);for(var w=-1,j=new this(o);++w<x;)k=v[w],b.resolve(k).then(function(A){_||(_=!0,s.resolve(j,A))},function(A){_||(_=!0,s.reject(j,A))});var k;return j}},{immediate:36}],38:[function(n,r,i){var a={};(0,n("./lib/utils/common").assign)(a,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var a=n("./zlib/deflate"),o=n("./utils/common"),s=n("./utils/strings"),l=n("./zlib/messages"),c=n("./zlib/zstream"),d=Object.prototype.toString,f=0,h=-1,p=0,y=8;function m(v){if(!(this instanceof m))return new m(v);this.options=o.assign({level:h,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},v||{});var b=this.options;b.raw&&0<b.windowBits?b.windowBits=-b.windowBits:b.gzip&&0<b.windowBits&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var x=a.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(x!==f)throw new Error(l[x]);if(b.header&&a.deflateSetHeader(this.strm,b.header),b.dictionary){var _;if(_=typeof b.dictionary=="string"?s.string2buf(b.dictionary):d.call(b.dictionary)==="[object ArrayBuffer]"?new Uint8Array(b.dictionary):b.dictionary,(x=a.deflateSetDictionary(this.strm,_))!==f)throw new Error(l[x]);this._dict_set=!0}}function g(v,b){var x=new m(b);if(x.push(v,!0),x.err)throw x.msg||l[x.err];return x.result}m.prototype.push=function(v,b){var x,_,w=this.strm,j=this.options.chunkSize;if(this.ended)return!1;_=b===~~b?b:b===!0?4:0,typeof v=="string"?w.input=s.string2buf(v):d.call(v)==="[object ArrayBuffer]"?w.input=new Uint8Array(v):w.input=v,w.next_in=0,w.avail_in=w.input.length;do{if(w.avail_out===0&&(w.output=new o.Buf8(j),w.next_out=0,w.avail_out=j),(x=a.deflate(w,_))!==1&&x!==f)return this.onEnd(x),!(this.ended=!0);w.avail_out!==0&&(w.avail_in!==0||_!==4&&_!==2)||(this.options.to==="string"?this.onData(s.buf2binstring(o.shrinkBuf(w.output,w.next_out))):this.onData(o.shrinkBuf(w.output,w.next_out)))}while((0<w.avail_in||w.avail_out===0)&&x!==1);return _===4?(x=a.deflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===f):_!==2||(this.onEnd(f),!(w.avail_out=0))},m.prototype.onData=function(v){this.chunks.push(v)},m.prototype.onEnd=function(v){v===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Deflate=m,i.deflate=g,i.deflateRaw=function(v,b){return(b=b||{}).raw=!0,g(v,b)},i.gzip=function(v,b){return(b=b||{}).gzip=!0,g(v,b)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var a=n("./zlib/inflate"),o=n("./utils/common"),s=n("./utils/strings"),l=n("./zlib/constants"),c=n("./zlib/messages"),d=n("./zlib/zstream"),f=n("./zlib/gzheader"),h=Object.prototype.toString;function p(m){if(!(this instanceof p))return new p(m);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},m||{});var g=this.options;g.raw&&0<=g.windowBits&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),!(0<=g.windowBits&&g.windowBits<16)||m&&m.windowBits||(g.windowBits+=32),15<g.windowBits&&g.windowBits<48&&(15&g.windowBits)==0&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var v=a.inflateInit2(this.strm,g.windowBits);if(v!==l.Z_OK)throw new Error(c[v]);this.header=new f,a.inflateGetHeader(this.strm,this.header)}function y(m,g){var v=new p(g);if(v.push(m,!0),v.err)throw v.msg||c[v.err];return v.result}p.prototype.push=function(m,g){var v,b,x,_,w,j,k=this.strm,A=this.options.chunkSize,P=this.options.dictionary,O=!1;if(this.ended)return!1;b=g===~~g?g:g===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof m=="string"?k.input=s.binstring2buf(m):h.call(m)==="[object ArrayBuffer]"?k.input=new Uint8Array(m):k.input=m,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new o.Buf8(A),k.next_out=0,k.avail_out=A),(v=a.inflate(k,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&P&&(j=typeof P=="string"?s.string2buf(P):h.call(P)==="[object ArrayBuffer]"?new Uint8Array(P):P,v=a.inflateSetDictionary(this.strm,j)),v===l.Z_BUF_ERROR&&O===!0&&(v=l.Z_OK,O=!1),v!==l.Z_STREAM_END&&v!==l.Z_OK)return this.onEnd(v),!(this.ended=!0);k.next_out&&(k.avail_out!==0&&v!==l.Z_STREAM_END&&(k.avail_in!==0||b!==l.Z_FINISH&&b!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(x=s.utf8border(k.output,k.next_out),_=k.next_out-x,w=s.buf2string(k.output,x),k.next_out=_,k.avail_out=A-_,_&&o.arraySet(k.output,k.output,x,_,0),this.onData(w)):this.onData(o.shrinkBuf(k.output,k.next_out)))),k.avail_in===0&&k.avail_out===0&&(O=!0)}while((0<k.avail_in||k.avail_out===0)&&v!==l.Z_STREAM_END);return v===l.Z_STREAM_END&&(b=l.Z_FINISH),b===l.Z_FINISH?(v=a.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===l.Z_OK):b!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(k.avail_out=0))},p.prototype.onData=function(m){this.chunks.push(m)},p.prototype.onEnd=function(m){m===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},i.Inflate=p,i.inflate=y,i.inflateRaw=function(m,g){return(g=g||{}).raw=!0,y(m,g)},i.ungzip=y},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var d=c.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var f in d)d.hasOwnProperty(f)&&(l[f]=d[f])}}return l},i.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var o={arraySet:function(l,c,d,f,h){if(c.subarray&&l.subarray)l.set(c.subarray(d,d+f),h);else for(var p=0;p<f;p++)l[h+p]=c[d+p]},flattenChunks:function(l){var c,d,f,h,p,y;for(c=f=0,d=l.length;c<d;c++)f+=l[c].length;for(y=new Uint8Array(f),c=h=0,d=l.length;c<d;c++)p=l[c],y.set(p,h),h+=p.length;return y}},s={arraySet:function(l,c,d,f,h){for(var p=0;p<f;p++)l[h+p]=c[d+p]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,s))},i.setTyped(a)},{}],42:[function(n,r,i){var a=n("./common"),o=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{s=!1}for(var l=new a.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function d(f,h){if(h<65537&&(f.subarray&&s||!f.subarray&&o))return String.fromCharCode.apply(null,a.shrinkBuf(f,h));for(var p="",y=0;y<h;y++)p+=String.fromCharCode(f[y]);return p}l[254]=l[254]=1,i.string2buf=function(f){var h,p,y,m,g,v=f.length,b=0;for(m=0;m<v;m++)(64512&(p=f.charCodeAt(m)))==55296&&m+1<v&&(64512&(y=f.charCodeAt(m+1)))==56320&&(p=65536+(p-55296<<10)+(y-56320),m++),b+=p<128?1:p<2048?2:p<65536?3:4;for(h=new a.Buf8(b),m=g=0;g<b;m++)(64512&(p=f.charCodeAt(m)))==55296&&m+1<v&&(64512&(y=f.charCodeAt(m+1)))==56320&&(p=65536+(p-55296<<10)+(y-56320),m++),p<128?h[g++]=p:(p<2048?h[g++]=192|p>>>6:(p<65536?h[g++]=224|p>>>12:(h[g++]=240|p>>>18,h[g++]=128|p>>>12&63),h[g++]=128|p>>>6&63),h[g++]=128|63&p);return h},i.buf2binstring=function(f){return d(f,f.length)},i.binstring2buf=function(f){for(var h=new a.Buf8(f.length),p=0,y=h.length;p<y;p++)h[p]=f.charCodeAt(p);return h},i.buf2string=function(f,h){var p,y,m,g,v=h||f.length,b=new Array(2*v);for(p=y=0;p<v;)if((m=f[p++])<128)b[y++]=m;else if(4<(g=l[m]))b[y++]=65533,p+=g-1;else{for(m&=g===2?31:g===3?15:7;1<g&&p<v;)m=m<<6|63&f[p++],g--;1<g?b[y++]=65533:m<65536?b[y++]=m:(m-=65536,b[y++]=55296|m>>10&1023,b[y++]=56320|1023&m)}return d(b,y)},i.utf8border=function(f,h){var p;for((h=h||f.length)>f.length&&(h=f.length),p=h-1;0<=p&&(192&f[p])==128;)p--;return p<0||p===0?h:p+l[f[p]]>h?p:h}},{"./common":41}],43:[function(n,r,i){r.exports=function(a,o,s,l){for(var c=65535&a|0,d=a>>>16&65535|0,f=0;s!==0;){for(s-=f=2e3<s?2e3:s;d=d+(c=c+o[l++]|0)|0,--f;);c%=65521,d%=65521}return c|d<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var a=(function(){for(var o,s=[],l=0;l<256;l++){o=l;for(var c=0;c<8;c++)o=1&o?3988292384^o>>>1:o>>>1;s[l]=o}return s})();r.exports=function(o,s,l,c){var d=a,f=c+l;o^=-1;for(var h=c;h<f;h++)o=o>>>8^d[255&(o^s[h])];return-1^o}},{}],46:[function(n,r,i){var a,o=n("../utils/common"),s=n("./trees"),l=n("./adler32"),c=n("./crc32"),d=n("./messages"),f=0,h=4,p=0,y=-2,m=-1,g=4,v=2,b=8,x=9,_=286,w=30,j=19,k=2*_+1,A=15,P=3,O=258,T=O+P+1,N=42,M=113,E=1,R=2,F=3,z=4;function q(C,G){return C.msg=d[G],G}function L(C){return(C<<1)-(4<C?9:0)}function D(C){for(var G=C.length;0<=--G;)C[G]=0}function W(C){var G=C.state,H=G.pending;H>C.avail_out&&(H=C.avail_out),H!==0&&(o.arraySet(C.output,G.pending_buf,G.pending_out,H,C.next_out),C.next_out+=H,G.pending_out+=H,C.total_out+=H,C.avail_out-=H,G.pending-=H,G.pending===0&&(G.pending_out=0))}function B(C,G){s._tr_flush_block(C,0<=C.block_start?C.block_start:-1,C.strstart-C.block_start,G),C.block_start=C.strstart,W(C.strm)}function $(C,G){C.pending_buf[C.pending++]=G}function Q(C,G){C.pending_buf[C.pending++]=G>>>8&255,C.pending_buf[C.pending++]=255&G}function Z(C,G){var H,V,U=C.max_chain_length,K=C.strstart,ie=C.prev_length,ne=C.nice_match,X=C.strstart>C.w_size-T?C.strstart-(C.w_size-T):0,de=C.window,ve=C.w_mask,he=C.prev,Y=C.strstart+O,oe=de[K+ie-1],ye=de[K+ie];C.prev_length>=C.good_match&&(U>>=2),ne>C.lookahead&&(ne=C.lookahead);do if(de[(H=G)+ie]===ye&&de[H+ie-1]===oe&&de[H]===de[K]&&de[++H]===de[K+1]){K+=2,H++;do;while(de[++K]===de[++H]&&de[++K]===de[++H]&&de[++K]===de[++H]&&de[++K]===de[++H]&&de[++K]===de[++H]&&de[++K]===de[++H]&&de[++K]===de[++H]&&de[++K]===de[++H]&&K<Y);if(V=O-(Y-K),K=Y-O,ie<V){if(C.match_start=G,ne<=(ie=V))break;oe=de[K+ie-1],ye=de[K+ie]}}while((G=he[G&ve])>X&&--U!=0);return ie<=C.lookahead?ie:C.lookahead}function fe(C){var G,H,V,U,K,ie,ne,X,de,ve,he=C.w_size;do{if(U=C.window_size-C.lookahead-C.strstart,C.strstart>=he+(he-T)){for(o.arraySet(C.window,C.window,he,he,0),C.match_start-=he,C.strstart-=he,C.block_start-=he,G=H=C.hash_size;V=C.head[--G],C.head[G]=he<=V?V-he:0,--H;);for(G=H=he;V=C.prev[--G],C.prev[G]=he<=V?V-he:0,--H;);U+=he}if(C.strm.avail_in===0)break;if(ie=C.strm,ne=C.window,X=C.strstart+C.lookahead,de=U,ve=void 0,ve=ie.avail_in,de<ve&&(ve=de),H=ve===0?0:(ie.avail_in-=ve,o.arraySet(ne,ie.input,ie.next_in,ve,X),ie.state.wrap===1?ie.adler=l(ie.adler,ne,ve,X):ie.state.wrap===2&&(ie.adler=c(ie.adler,ne,ve,X)),ie.next_in+=ve,ie.total_in+=ve,ve),C.lookahead+=H,C.lookahead+C.insert>=P)for(K=C.strstart-C.insert,C.ins_h=C.window[K],C.ins_h=(C.ins_h<<C.hash_shift^C.window[K+1])&C.hash_mask;C.insert&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[K+P-1])&C.hash_mask,C.prev[K&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=K,K++,C.insert--,!(C.lookahead+C.insert<P)););}while(C.lookahead<T&&C.strm.avail_in!==0)}function le(C,G){for(var H,V;;){if(C.lookahead<T){if(fe(C),C.lookahead<T&&G===f)return E;if(C.lookahead===0)break}if(H=0,C.lookahead>=P&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+P-1])&C.hash_mask,H=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),H!==0&&C.strstart-H<=C.w_size-T&&(C.match_length=Z(C,H)),C.match_length>=P)if(V=s._tr_tally(C,C.strstart-C.match_start,C.match_length-P),C.lookahead-=C.match_length,C.match_length<=C.max_lazy_match&&C.lookahead>=P){for(C.match_length--;C.strstart++,C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+P-1])&C.hash_mask,H=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart,--C.match_length!=0;);C.strstart++}else C.strstart+=C.match_length,C.match_length=0,C.ins_h=C.window[C.strstart],C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+1])&C.hash_mask;else V=s._tr_tally(C,0,C.window[C.strstart]),C.lookahead--,C.strstart++;if(V&&(B(C,!1),C.strm.avail_out===0))return E}return C.insert=C.strstart<P-1?C.strstart:P-1,G===h?(B(C,!0),C.strm.avail_out===0?F:z):C.last_lit&&(B(C,!1),C.strm.avail_out===0)?E:R}function ue(C,G){for(var H,V,U;;){if(C.lookahead<T){if(fe(C),C.lookahead<T&&G===f)return E;if(C.lookahead===0)break}if(H=0,C.lookahead>=P&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+P-1])&C.hash_mask,H=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),C.prev_length=C.match_length,C.prev_match=C.match_start,C.match_length=P-1,H!==0&&C.prev_length<C.max_lazy_match&&C.strstart-H<=C.w_size-T&&(C.match_length=Z(C,H),C.match_length<=5&&(C.strategy===1||C.match_length===P&&4096<C.strstart-C.match_start)&&(C.match_length=P-1)),C.prev_length>=P&&C.match_length<=C.prev_length){for(U=C.strstart+C.lookahead-P,V=s._tr_tally(C,C.strstart-1-C.prev_match,C.prev_length-P),C.lookahead-=C.prev_length-1,C.prev_length-=2;++C.strstart<=U&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+P-1])&C.hash_mask,H=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),--C.prev_length!=0;);if(C.match_available=0,C.match_length=P-1,C.strstart++,V&&(B(C,!1),C.strm.avail_out===0))return E}else if(C.match_available){if((V=s._tr_tally(C,0,C.window[C.strstart-1]))&&B(C,!1),C.strstart++,C.lookahead--,C.strm.avail_out===0)return E}else C.match_available=1,C.strstart++,C.lookahead--}return C.match_available&&(V=s._tr_tally(C,0,C.window[C.strstart-1]),C.match_available=0),C.insert=C.strstart<P-1?C.strstart:P-1,G===h?(B(C,!0),C.strm.avail_out===0?F:z):C.last_lit&&(B(C,!1),C.strm.avail_out===0)?E:R}function ee(C,G,H,V,U){this.good_length=C,this.max_lazy=G,this.nice_length=H,this.max_chain=V,this.func=U}function te(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*k),this.dyn_dtree=new o.Buf16(2*(2*w+1)),this.bl_tree=new o.Buf16(2*(2*j+1)),D(this.dyn_ltree),D(this.dyn_dtree),D(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(A+1),this.heap=new o.Buf16(2*_+1),D(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*_+1),D(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ce(C){var G;return C&&C.state?(C.total_in=C.total_out=0,C.data_type=v,(G=C.state).pending=0,G.pending_out=0,G.wrap<0&&(G.wrap=-G.wrap),G.status=G.wrap?N:M,C.adler=G.wrap===2?0:1,G.last_flush=f,s._tr_init(G),p):q(C,y)}function J(C){var G=ce(C);return G===p&&(function(H){H.window_size=2*H.w_size,D(H.head),H.max_lazy_match=a[H.level].max_lazy,H.good_match=a[H.level].good_length,H.nice_match=a[H.level].nice_length,H.max_chain_length=a[H.level].max_chain,H.strstart=0,H.block_start=0,H.lookahead=0,H.insert=0,H.match_length=H.prev_length=P-1,H.match_available=0,H.ins_h=0})(C.state),G}function re(C,G,H,V,U,K){if(!C)return y;var ie=1;if(G===m&&(G=6),V<0?(ie=0,V=-V):15<V&&(ie=2,V-=16),U<1||x<U||H!==b||V<8||15<V||G<0||9<G||K<0||g<K)return q(C,y);V===8&&(V=9);var ne=new te;return(C.state=ne).strm=C,ne.wrap=ie,ne.gzhead=null,ne.w_bits=V,ne.w_size=1<<ne.w_bits,ne.w_mask=ne.w_size-1,ne.hash_bits=U+7,ne.hash_size=1<<ne.hash_bits,ne.hash_mask=ne.hash_size-1,ne.hash_shift=~~((ne.hash_bits+P-1)/P),ne.window=new o.Buf8(2*ne.w_size),ne.head=new o.Buf16(ne.hash_size),ne.prev=new o.Buf16(ne.w_size),ne.lit_bufsize=1<<U+6,ne.pending_buf_size=4*ne.lit_bufsize,ne.pending_buf=new o.Buf8(ne.pending_buf_size),ne.d_buf=1*ne.lit_bufsize,ne.l_buf=3*ne.lit_bufsize,ne.level=G,ne.strategy=K,ne.method=H,J(C)}a=[new ee(0,0,0,0,function(C,G){var H=65535;for(H>C.pending_buf_size-5&&(H=C.pending_buf_size-5);;){if(C.lookahead<=1){if(fe(C),C.lookahead===0&&G===f)return E;if(C.lookahead===0)break}C.strstart+=C.lookahead,C.lookahead=0;var V=C.block_start+H;if((C.strstart===0||C.strstart>=V)&&(C.lookahead=C.strstart-V,C.strstart=V,B(C,!1),C.strm.avail_out===0)||C.strstart-C.block_start>=C.w_size-T&&(B(C,!1),C.strm.avail_out===0))return E}return C.insert=0,G===h?(B(C,!0),C.strm.avail_out===0?F:z):(C.strstart>C.block_start&&(B(C,!1),C.strm.avail_out),E)}),new ee(4,4,8,4,le),new ee(4,5,16,8,le),new ee(4,6,32,32,le),new ee(4,4,16,16,ue),new ee(8,16,32,32,ue),new ee(8,16,128,128,ue),new ee(8,32,128,256,ue),new ee(32,128,258,1024,ue),new ee(32,258,258,4096,ue)],i.deflateInit=function(C,G){return re(C,G,b,15,8,0)},i.deflateInit2=re,i.deflateReset=J,i.deflateResetKeep=ce,i.deflateSetHeader=function(C,G){return C&&C.state?C.state.wrap!==2?y:(C.state.gzhead=G,p):y},i.deflate=function(C,G){var H,V,U,K;if(!C||!C.state||5<G||G<0)return C?q(C,y):y;if(V=C.state,!C.output||!C.input&&C.avail_in!==0||V.status===666&&G!==h)return q(C,C.avail_out===0?-5:y);if(V.strm=C,H=V.last_flush,V.last_flush=G,V.status===N)if(V.wrap===2)C.adler=0,$(V,31),$(V,139),$(V,8),V.gzhead?($(V,(V.gzhead.text?1:0)+(V.gzhead.hcrc?2:0)+(V.gzhead.extra?4:0)+(V.gzhead.name?8:0)+(V.gzhead.comment?16:0)),$(V,255&V.gzhead.time),$(V,V.gzhead.time>>8&255),$(V,V.gzhead.time>>16&255),$(V,V.gzhead.time>>24&255),$(V,V.level===9?2:2<=V.strategy||V.level<2?4:0),$(V,255&V.gzhead.os),V.gzhead.extra&&V.gzhead.extra.length&&($(V,255&V.gzhead.extra.length),$(V,V.gzhead.extra.length>>8&255)),V.gzhead.hcrc&&(C.adler=c(C.adler,V.pending_buf,V.pending,0)),V.gzindex=0,V.status=69):($(V,0),$(V,0),$(V,0),$(V,0),$(V,0),$(V,V.level===9?2:2<=V.strategy||V.level<2?4:0),$(V,3),V.status=M);else{var ie=b+(V.w_bits-8<<4)<<8;ie|=(2<=V.strategy||V.level<2?0:V.level<6?1:V.level===6?2:3)<<6,V.strstart!==0&&(ie|=32),ie+=31-ie%31,V.status=M,Q(V,ie),V.strstart!==0&&(Q(V,C.adler>>>16),Q(V,65535&C.adler)),C.adler=1}if(V.status===69)if(V.gzhead.extra){for(U=V.pending;V.gzindex<(65535&V.gzhead.extra.length)&&(V.pending!==V.pending_buf_size||(V.gzhead.hcrc&&V.pending>U&&(C.adler=c(C.adler,V.pending_buf,V.pending-U,U)),W(C),U=V.pending,V.pending!==V.pending_buf_size));)$(V,255&V.gzhead.extra[V.gzindex]),V.gzindex++;V.gzhead.hcrc&&V.pending>U&&(C.adler=c(C.adler,V.pending_buf,V.pending-U,U)),V.gzindex===V.gzhead.extra.length&&(V.gzindex=0,V.status=73)}else V.status=73;if(V.status===73)if(V.gzhead.name){U=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>U&&(C.adler=c(C.adler,V.pending_buf,V.pending-U,U)),W(C),U=V.pending,V.pending===V.pending_buf_size)){K=1;break}K=V.gzindex<V.gzhead.name.length?255&V.gzhead.name.charCodeAt(V.gzindex++):0,$(V,K)}while(K!==0);V.gzhead.hcrc&&V.pending>U&&(C.adler=c(C.adler,V.pending_buf,V.pending-U,U)),K===0&&(V.gzindex=0,V.status=91)}else V.status=91;if(V.status===91)if(V.gzhead.comment){U=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>U&&(C.adler=c(C.adler,V.pending_buf,V.pending-U,U)),W(C),U=V.pending,V.pending===V.pending_buf_size)){K=1;break}K=V.gzindex<V.gzhead.comment.length?255&V.gzhead.comment.charCodeAt(V.gzindex++):0,$(V,K)}while(K!==0);V.gzhead.hcrc&&V.pending>U&&(C.adler=c(C.adler,V.pending_buf,V.pending-U,U)),K===0&&(V.status=103)}else V.status=103;if(V.status===103&&(V.gzhead.hcrc?(V.pending+2>V.pending_buf_size&&W(C),V.pending+2<=V.pending_buf_size&&($(V,255&C.adler),$(V,C.adler>>8&255),C.adler=0,V.status=M)):V.status=M),V.pending!==0){if(W(C),C.avail_out===0)return V.last_flush=-1,p}else if(C.avail_in===0&&L(G)<=L(H)&&G!==h)return q(C,-5);if(V.status===666&&C.avail_in!==0)return q(C,-5);if(C.avail_in!==0||V.lookahead!==0||G!==f&&V.status!==666){var ne=V.strategy===2?(function(X,de){for(var ve;;){if(X.lookahead===0&&(fe(X),X.lookahead===0)){if(de===f)return E;break}if(X.match_length=0,ve=s._tr_tally(X,0,X.window[X.strstart]),X.lookahead--,X.strstart++,ve&&(B(X,!1),X.strm.avail_out===0))return E}return X.insert=0,de===h?(B(X,!0),X.strm.avail_out===0?F:z):X.last_lit&&(B(X,!1),X.strm.avail_out===0)?E:R})(V,G):V.strategy===3?(function(X,de){for(var ve,he,Y,oe,ye=X.window;;){if(X.lookahead<=O){if(fe(X),X.lookahead<=O&&de===f)return E;if(X.lookahead===0)break}if(X.match_length=0,X.lookahead>=P&&0<X.strstart&&(he=ye[Y=X.strstart-1])===ye[++Y]&&he===ye[++Y]&&he===ye[++Y]){oe=X.strstart+O;do;while(he===ye[++Y]&&he===ye[++Y]&&he===ye[++Y]&&he===ye[++Y]&&he===ye[++Y]&&he===ye[++Y]&&he===ye[++Y]&&he===ye[++Y]&&Y<oe);X.match_length=O-(oe-Y),X.match_length>X.lookahead&&(X.match_length=X.lookahead)}if(X.match_length>=P?(ve=s._tr_tally(X,1,X.match_length-P),X.lookahead-=X.match_length,X.strstart+=X.match_length,X.match_length=0):(ve=s._tr_tally(X,0,X.window[X.strstart]),X.lookahead--,X.strstart++),ve&&(B(X,!1),X.strm.avail_out===0))return E}return X.insert=0,de===h?(B(X,!0),X.strm.avail_out===0?F:z):X.last_lit&&(B(X,!1),X.strm.avail_out===0)?E:R})(V,G):a[V.level].func(V,G);if(ne!==F&&ne!==z||(V.status=666),ne===E||ne===F)return C.avail_out===0&&(V.last_flush=-1),p;if(ne===R&&(G===1?s._tr_align(V):G!==5&&(s._tr_stored_block(V,0,0,!1),G===3&&(D(V.head),V.lookahead===0&&(V.strstart=0,V.block_start=0,V.insert=0))),W(C),C.avail_out===0))return V.last_flush=-1,p}return G!==h?p:V.wrap<=0?1:(V.wrap===2?($(V,255&C.adler),$(V,C.adler>>8&255),$(V,C.adler>>16&255),$(V,C.adler>>24&255),$(V,255&C.total_in),$(V,C.total_in>>8&255),$(V,C.total_in>>16&255),$(V,C.total_in>>24&255)):(Q(V,C.adler>>>16),Q(V,65535&C.adler)),W(C),0<V.wrap&&(V.wrap=-V.wrap),V.pending!==0?p:1)},i.deflateEnd=function(C){var G;return C&&C.state?(G=C.state.status)!==N&&G!==69&&G!==73&&G!==91&&G!==103&&G!==M&&G!==666?q(C,y):(C.state=null,G===M?q(C,-3):p):y},i.deflateSetDictionary=function(C,G){var H,V,U,K,ie,ne,X,de,ve=G.length;if(!C||!C.state||(K=(H=C.state).wrap)===2||K===1&&H.status!==N||H.lookahead)return y;for(K===1&&(C.adler=l(C.adler,G,ve,0)),H.wrap=0,ve>=H.w_size&&(K===0&&(D(H.head),H.strstart=0,H.block_start=0,H.insert=0),de=new o.Buf8(H.w_size),o.arraySet(de,G,ve-H.w_size,H.w_size,0),G=de,ve=H.w_size),ie=C.avail_in,ne=C.next_in,X=C.input,C.avail_in=ve,C.next_in=0,C.input=G,fe(H);H.lookahead>=P;){for(V=H.strstart,U=H.lookahead-(P-1);H.ins_h=(H.ins_h<<H.hash_shift^H.window[V+P-1])&H.hash_mask,H.prev[V&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=V,V++,--U;);H.strstart=V,H.lookahead=P-1,fe(H)}return H.strstart+=H.lookahead,H.block_start=H.strstart,H.insert=H.lookahead,H.lookahead=0,H.match_length=H.prev_length=P-1,H.match_available=0,C.next_in=ne,C.input=X,C.avail_in=ie,H.wrap=K,p},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(a,o){var s,l,c,d,f,h,p,y,m,g,v,b,x,_,w,j,k,A,P,O,T,N,M,E,R;s=a.state,l=a.next_in,E=a.input,c=l+(a.avail_in-5),d=a.next_out,R=a.output,f=d-(o-a.avail_out),h=d+(a.avail_out-257),p=s.dmax,y=s.wsize,m=s.whave,g=s.wnext,v=s.window,b=s.hold,x=s.bits,_=s.lencode,w=s.distcode,j=(1<<s.lenbits)-1,k=(1<<s.distbits)-1;e:do{x<15&&(b+=E[l++]<<x,x+=8,b+=E[l++]<<x,x+=8),A=_[b&j];t:for(;;){if(b>>>=P=A>>>24,x-=P,(P=A>>>16&255)===0)R[d++]=65535&A;else{if(!(16&P)){if((64&P)==0){A=_[(65535&A)+(b&(1<<P)-1)];continue t}if(32&P){s.mode=12;break e}a.msg="invalid literal/length code",s.mode=30;break e}O=65535&A,(P&=15)&&(x<P&&(b+=E[l++]<<x,x+=8),O+=b&(1<<P)-1,b>>>=P,x-=P),x<15&&(b+=E[l++]<<x,x+=8,b+=E[l++]<<x,x+=8),A=w[b&k];n:for(;;){if(b>>>=P=A>>>24,x-=P,!(16&(P=A>>>16&255))){if((64&P)==0){A=w[(65535&A)+(b&(1<<P)-1)];continue n}a.msg="invalid distance code",s.mode=30;break e}if(T=65535&A,x<(P&=15)&&(b+=E[l++]<<x,(x+=8)<P&&(b+=E[l++]<<x,x+=8)),p<(T+=b&(1<<P)-1)){a.msg="invalid distance too far back",s.mode=30;break e}if(b>>>=P,x-=P,(P=d-f)<T){if(m<(P=T-P)&&s.sane){a.msg="invalid distance too far back",s.mode=30;break e}if(M=v,(N=0)===g){if(N+=y-P,P<O){for(O-=P;R[d++]=v[N++],--P;);N=d-T,M=R}}else if(g<P){if(N+=y+g-P,(P-=g)<O){for(O-=P;R[d++]=v[N++],--P;);if(N=0,g<O){for(O-=P=g;R[d++]=v[N++],--P;);N=d-T,M=R}}}else if(N+=g-P,P<O){for(O-=P;R[d++]=v[N++],--P;);N=d-T,M=R}for(;2<O;)R[d++]=M[N++],R[d++]=M[N++],R[d++]=M[N++],O-=3;O&&(R[d++]=M[N++],1<O&&(R[d++]=M[N++]))}else{for(N=d-T;R[d++]=R[N++],R[d++]=R[N++],R[d++]=R[N++],2<(O-=3););O&&(R[d++]=R[N++],1<O&&(R[d++]=R[N++]))}break}}break}}while(l<c&&d<h);l-=O=x>>3,b&=(1<<(x-=O<<3))-1,a.next_in=l,a.next_out=d,a.avail_in=l<c?c-l+5:5-(l-c),a.avail_out=d<h?h-d+257:257-(d-h),s.hold=b,s.bits=x}},{}],49:[function(n,r,i){var a=n("../utils/common"),o=n("./adler32"),s=n("./crc32"),l=n("./inffast"),c=n("./inftrees"),d=1,f=2,h=0,p=-2,y=1,m=852,g=592;function v(N){return(N>>>24&255)+(N>>>8&65280)+((65280&N)<<8)+((255&N)<<24)}function b(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(N){var M;return N&&N.state?(M=N.state,N.total_in=N.total_out=M.total=0,N.msg="",M.wrap&&(N.adler=1&M.wrap),M.mode=y,M.last=0,M.havedict=0,M.dmax=32768,M.head=null,M.hold=0,M.bits=0,M.lencode=M.lendyn=new a.Buf32(m),M.distcode=M.distdyn=new a.Buf32(g),M.sane=1,M.back=-1,h):p}function _(N){var M;return N&&N.state?((M=N.state).wsize=0,M.whave=0,M.wnext=0,x(N)):p}function w(N,M){var E,R;return N&&N.state?(R=N.state,M<0?(E=0,M=-M):(E=1+(M>>4),M<48&&(M&=15)),M&&(M<8||15<M)?p:(R.window!==null&&R.wbits!==M&&(R.window=null),R.wrap=E,R.wbits=M,_(N))):p}function j(N,M){var E,R;return N?(R=new b,(N.state=R).window=null,(E=w(N,M))!==h&&(N.state=null),E):p}var k,A,P=!0;function O(N){if(P){var M;for(k=new a.Buf32(512),A=new a.Buf32(32),M=0;M<144;)N.lens[M++]=8;for(;M<256;)N.lens[M++]=9;for(;M<280;)N.lens[M++]=7;for(;M<288;)N.lens[M++]=8;for(c(d,N.lens,0,288,k,0,N.work,{bits:9}),M=0;M<32;)N.lens[M++]=5;c(f,N.lens,0,32,A,0,N.work,{bits:5}),P=!1}N.lencode=k,N.lenbits=9,N.distcode=A,N.distbits=5}function T(N,M,E,R){var F,z=N.state;return z.window===null&&(z.wsize=1<<z.wbits,z.wnext=0,z.whave=0,z.window=new a.Buf8(z.wsize)),R>=z.wsize?(a.arraySet(z.window,M,E-z.wsize,z.wsize,0),z.wnext=0,z.whave=z.wsize):(R<(F=z.wsize-z.wnext)&&(F=R),a.arraySet(z.window,M,E-R,F,z.wnext),(R-=F)?(a.arraySet(z.window,M,E-R,R,0),z.wnext=R,z.whave=z.wsize):(z.wnext+=F,z.wnext===z.wsize&&(z.wnext=0),z.whave<z.wsize&&(z.whave+=F))),0}i.inflateReset=_,i.inflateReset2=w,i.inflateResetKeep=x,i.inflateInit=function(N){return j(N,15)},i.inflateInit2=j,i.inflate=function(N,M){var E,R,F,z,q,L,D,W,B,$,Q,Z,fe,le,ue,ee,te,ce,J,re,C,G,H,V,U=0,K=new a.Buf8(4),ie=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!N||!N.state||!N.output||!N.input&&N.avail_in!==0)return p;(E=N.state).mode===12&&(E.mode=13),q=N.next_out,F=N.output,D=N.avail_out,z=N.next_in,R=N.input,L=N.avail_in,W=E.hold,B=E.bits,$=L,Q=D,G=h;e:for(;;)switch(E.mode){case y:if(E.wrap===0){E.mode=13;break}for(;B<16;){if(L===0)break e;L--,W+=R[z++]<<B,B+=8}if(2&E.wrap&&W===35615){K[E.check=0]=255&W,K[1]=W>>>8&255,E.check=s(E.check,K,2,0),B=W=0,E.mode=2;break}if(E.flags=0,E.head&&(E.head.done=!1),!(1&E.wrap)||(((255&W)<<8)+(W>>8))%31){N.msg="incorrect header check",E.mode=30;break}if((15&W)!=8){N.msg="unknown compression method",E.mode=30;break}if(B-=4,C=8+(15&(W>>>=4)),E.wbits===0)E.wbits=C;else if(C>E.wbits){N.msg="invalid window size",E.mode=30;break}E.dmax=1<<C,N.adler=E.check=1,E.mode=512&W?10:12,B=W=0;break;case 2:for(;B<16;){if(L===0)break e;L--,W+=R[z++]<<B,B+=8}if(E.flags=W,(255&E.flags)!=8){N.msg="unknown compression method",E.mode=30;break}if(57344&E.flags){N.msg="unknown header flags set",E.mode=30;break}E.head&&(E.head.text=W>>8&1),512&E.flags&&(K[0]=255&W,K[1]=W>>>8&255,E.check=s(E.check,K,2,0)),B=W=0,E.mode=3;case 3:for(;B<32;){if(L===0)break e;L--,W+=R[z++]<<B,B+=8}E.head&&(E.head.time=W),512&E.flags&&(K[0]=255&W,K[1]=W>>>8&255,K[2]=W>>>16&255,K[3]=W>>>24&255,E.check=s(E.check,K,4,0)),B=W=0,E.mode=4;case 4:for(;B<16;){if(L===0)break e;L--,W+=R[z++]<<B,B+=8}E.head&&(E.head.xflags=255&W,E.head.os=W>>8),512&E.flags&&(K[0]=255&W,K[1]=W>>>8&255,E.check=s(E.check,K,2,0)),B=W=0,E.mode=5;case 5:if(1024&E.flags){for(;B<16;){if(L===0)break e;L--,W+=R[z++]<<B,B+=8}E.length=W,E.head&&(E.head.extra_len=W),512&E.flags&&(K[0]=255&W,K[1]=W>>>8&255,E.check=s(E.check,K,2,0)),B=W=0}else E.head&&(E.head.extra=null);E.mode=6;case 6:if(1024&E.flags&&(L<(Z=E.length)&&(Z=L),Z&&(E.head&&(C=E.head.extra_len-E.length,E.head.extra||(E.head.extra=new Array(E.head.extra_len)),a.arraySet(E.head.extra,R,z,Z,C)),512&E.flags&&(E.check=s(E.check,R,Z,z)),L-=Z,z+=Z,E.length-=Z),E.length))break e;E.length=0,E.mode=7;case 7:if(2048&E.flags){if(L===0)break e;for(Z=0;C=R[z+Z++],E.head&&C&&E.length<65536&&(E.head.name+=String.fromCharCode(C)),C&&Z<L;);if(512&E.flags&&(E.check=s(E.check,R,Z,z)),L-=Z,z+=Z,C)break e}else E.head&&(E.head.name=null);E.length=0,E.mode=8;case 8:if(4096&E.flags){if(L===0)break e;for(Z=0;C=R[z+Z++],E.head&&C&&E.length<65536&&(E.head.comment+=String.fromCharCode(C)),C&&Z<L;);if(512&E.flags&&(E.check=s(E.check,R,Z,z)),L-=Z,z+=Z,C)break e}else E.head&&(E.head.comment=null);E.mode=9;case 9:if(512&E.flags){for(;B<16;){if(L===0)break e;L--,W+=R[z++]<<B,B+=8}if(W!==(65535&E.check)){N.msg="header crc mismatch",E.mode=30;break}B=W=0}E.head&&(E.head.hcrc=E.flags>>9&1,E.head.done=!0),N.adler=E.check=0,E.mode=12;break;case 10:for(;B<32;){if(L===0)break e;L--,W+=R[z++]<<B,B+=8}N.adler=E.check=v(W),B=W=0,E.mode=11;case 11:if(E.havedict===0)return N.next_out=q,N.avail_out=D,N.next_in=z,N.avail_in=L,E.hold=W,E.bits=B,2;N.adler=E.check=1,E.mode=12;case 12:if(M===5||M===6)break e;case 13:if(E.last){W>>>=7&B,B-=7&B,E.mode=27;break}for(;B<3;){if(L===0)break e;L--,W+=R[z++]<<B,B+=8}switch(E.last=1&W,B-=1,3&(W>>>=1)){case 0:E.mode=14;break;case 1:if(O(E),E.mode=20,M!==6)break;W>>>=2,B-=2;break e;case 2:E.mode=17;break;case 3:N.msg="invalid block type",E.mode=30}W>>>=2,B-=2;break;case 14:for(W>>>=7&B,B-=7&B;B<32;){if(L===0)break e;L--,W+=R[z++]<<B,B+=8}if((65535&W)!=(W>>>16^65535)){N.msg="invalid stored block lengths",E.mode=30;break}if(E.length=65535&W,B=W=0,E.mode=15,M===6)break e;case 15:E.mode=16;case 16:if(Z=E.length){if(L<Z&&(Z=L),D<Z&&(Z=D),Z===0)break e;a.arraySet(F,R,z,Z,q),L-=Z,z+=Z,D-=Z,q+=Z,E.length-=Z;break}E.mode=12;break;case 17:for(;B<14;){if(L===0)break e;L--,W+=R[z++]<<B,B+=8}if(E.nlen=257+(31&W),W>>>=5,B-=5,E.ndist=1+(31&W),W>>>=5,B-=5,E.ncode=4+(15&W),W>>>=4,B-=4,286<E.nlen||30<E.ndist){N.msg="too many length or distance symbols",E.mode=30;break}E.have=0,E.mode=18;case 18:for(;E.have<E.ncode;){for(;B<3;){if(L===0)break e;L--,W+=R[z++]<<B,B+=8}E.lens[ie[E.have++]]=7&W,W>>>=3,B-=3}for(;E.have<19;)E.lens[ie[E.have++]]=0;if(E.lencode=E.lendyn,E.lenbits=7,H={bits:E.lenbits},G=c(0,E.lens,0,19,E.lencode,0,E.work,H),E.lenbits=H.bits,G){N.msg="invalid code lengths set",E.mode=30;break}E.have=0,E.mode=19;case 19:for(;E.have<E.nlen+E.ndist;){for(;ee=(U=E.lencode[W&(1<<E.lenbits)-1])>>>16&255,te=65535&U,!((ue=U>>>24)<=B);){if(L===0)break e;L--,W+=R[z++]<<B,B+=8}if(te<16)W>>>=ue,B-=ue,E.lens[E.have++]=te;else{if(te===16){for(V=ue+2;B<V;){if(L===0)break e;L--,W+=R[z++]<<B,B+=8}if(W>>>=ue,B-=ue,E.have===0){N.msg="invalid bit length repeat",E.mode=30;break}C=E.lens[E.have-1],Z=3+(3&W),W>>>=2,B-=2}else if(te===17){for(V=ue+3;B<V;){if(L===0)break e;L--,W+=R[z++]<<B,B+=8}B-=ue,C=0,Z=3+(7&(W>>>=ue)),W>>>=3,B-=3}else{for(V=ue+7;B<V;){if(L===0)break e;L--,W+=R[z++]<<B,B+=8}B-=ue,C=0,Z=11+(127&(W>>>=ue)),W>>>=7,B-=7}if(E.have+Z>E.nlen+E.ndist){N.msg="invalid bit length repeat",E.mode=30;break}for(;Z--;)E.lens[E.have++]=C}}if(E.mode===30)break;if(E.lens[256]===0){N.msg="invalid code -- missing end-of-block",E.mode=30;break}if(E.lenbits=9,H={bits:E.lenbits},G=c(d,E.lens,0,E.nlen,E.lencode,0,E.work,H),E.lenbits=H.bits,G){N.msg="invalid literal/lengths set",E.mode=30;break}if(E.distbits=6,E.distcode=E.distdyn,H={bits:E.distbits},G=c(f,E.lens,E.nlen,E.ndist,E.distcode,0,E.work,H),E.distbits=H.bits,G){N.msg="invalid distances set",E.mode=30;break}if(E.mode=20,M===6)break e;case 20:E.mode=21;case 21:if(6<=L&&258<=D){N.next_out=q,N.avail_out=D,N.next_in=z,N.avail_in=L,E.hold=W,E.bits=B,l(N,Q),q=N.next_out,F=N.output,D=N.avail_out,z=N.next_in,R=N.input,L=N.avail_in,W=E.hold,B=E.bits,E.mode===12&&(E.back=-1);break}for(E.back=0;ee=(U=E.lencode[W&(1<<E.lenbits)-1])>>>16&255,te=65535&U,!((ue=U>>>24)<=B);){if(L===0)break e;L--,W+=R[z++]<<B,B+=8}if(ee&&(240&ee)==0){for(ce=ue,J=ee,re=te;ee=(U=E.lencode[re+((W&(1<<ce+J)-1)>>ce)])>>>16&255,te=65535&U,!(ce+(ue=U>>>24)<=B);){if(L===0)break e;L--,W+=R[z++]<<B,B+=8}W>>>=ce,B-=ce,E.back+=ce}if(W>>>=ue,B-=ue,E.back+=ue,E.length=te,ee===0){E.mode=26;break}if(32&ee){E.back=-1,E.mode=12;break}if(64&ee){N.msg="invalid literal/length code",E.mode=30;break}E.extra=15&ee,E.mode=22;case 22:if(E.extra){for(V=E.extra;B<V;){if(L===0)break e;L--,W+=R[z++]<<B,B+=8}E.length+=W&(1<<E.extra)-1,W>>>=E.extra,B-=E.extra,E.back+=E.extra}E.was=E.length,E.mode=23;case 23:for(;ee=(U=E.distcode[W&(1<<E.distbits)-1])>>>16&255,te=65535&U,!((ue=U>>>24)<=B);){if(L===0)break e;L--,W+=R[z++]<<B,B+=8}if((240&ee)==0){for(ce=ue,J=ee,re=te;ee=(U=E.distcode[re+((W&(1<<ce+J)-1)>>ce)])>>>16&255,te=65535&U,!(ce+(ue=U>>>24)<=B);){if(L===0)break e;L--,W+=R[z++]<<B,B+=8}W>>>=ce,B-=ce,E.back+=ce}if(W>>>=ue,B-=ue,E.back+=ue,64&ee){N.msg="invalid distance code",E.mode=30;break}E.offset=te,E.extra=15&ee,E.mode=24;case 24:if(E.extra){for(V=E.extra;B<V;){if(L===0)break e;L--,W+=R[z++]<<B,B+=8}E.offset+=W&(1<<E.extra)-1,W>>>=E.extra,B-=E.extra,E.back+=E.extra}if(E.offset>E.dmax){N.msg="invalid distance too far back",E.mode=30;break}E.mode=25;case 25:if(D===0)break e;if(Z=Q-D,E.offset>Z){if((Z=E.offset-Z)>E.whave&&E.sane){N.msg="invalid distance too far back",E.mode=30;break}fe=Z>E.wnext?(Z-=E.wnext,E.wsize-Z):E.wnext-Z,Z>E.length&&(Z=E.length),le=E.window}else le=F,fe=q-E.offset,Z=E.length;for(D<Z&&(Z=D),D-=Z,E.length-=Z;F[q++]=le[fe++],--Z;);E.length===0&&(E.mode=21);break;case 26:if(D===0)break e;F[q++]=E.length,D--,E.mode=21;break;case 27:if(E.wrap){for(;B<32;){if(L===0)break e;L--,W|=R[z++]<<B,B+=8}if(Q-=D,N.total_out+=Q,E.total+=Q,Q&&(N.adler=E.check=E.flags?s(E.check,F,Q,q-Q):o(E.check,F,Q,q-Q)),Q=D,(E.flags?W:v(W))!==E.check){N.msg="incorrect data check",E.mode=30;break}B=W=0}E.mode=28;case 28:if(E.wrap&&E.flags){for(;B<32;){if(L===0)break e;L--,W+=R[z++]<<B,B+=8}if(W!==(4294967295&E.total)){N.msg="incorrect length check",E.mode=30;break}B=W=0}E.mode=29;case 29:G=1;break e;case 30:G=-3;break e;case 31:return-4;default:return p}return N.next_out=q,N.avail_out=D,N.next_in=z,N.avail_in=L,E.hold=W,E.bits=B,(E.wsize||Q!==N.avail_out&&E.mode<30&&(E.mode<27||M!==4))&&T(N,N.output,N.next_out,Q-N.avail_out)?(E.mode=31,-4):($-=N.avail_in,Q-=N.avail_out,N.total_in+=$,N.total_out+=Q,E.total+=Q,E.wrap&&Q&&(N.adler=E.check=E.flags?s(E.check,F,Q,N.next_out-Q):o(E.check,F,Q,N.next_out-Q)),N.data_type=E.bits+(E.last?64:0)+(E.mode===12?128:0)+(E.mode===20||E.mode===15?256:0),($==0&&Q===0||M===4)&&G===h&&(G=-5),G)},i.inflateEnd=function(N){if(!N||!N.state)return p;var M=N.state;return M.window&&(M.window=null),N.state=null,h},i.inflateGetHeader=function(N,M){var E;return N&&N.state?(2&(E=N.state).wrap)==0?p:((E.head=M).done=!1,h):p},i.inflateSetDictionary=function(N,M){var E,R=M.length;return N&&N.state?(E=N.state).wrap!==0&&E.mode!==11?p:E.mode===11&&o(1,M,R,0)!==E.check?-3:T(N,M,R,R)?(E.mode=31,-4):(E.havedict=1,h):p},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var a=n("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(d,f,h,p,y,m,g,v){var b,x,_,w,j,k,A,P,O,T=v.bits,N=0,M=0,E=0,R=0,F=0,z=0,q=0,L=0,D=0,W=0,B=null,$=0,Q=new a.Buf16(16),Z=new a.Buf16(16),fe=null,le=0;for(N=0;N<=15;N++)Q[N]=0;for(M=0;M<p;M++)Q[f[h+M]]++;for(F=T,R=15;1<=R&&Q[R]===0;R--);if(R<F&&(F=R),R===0)return y[m++]=20971520,y[m++]=20971520,v.bits=1,0;for(E=1;E<R&&Q[E]===0;E++);for(F<E&&(F=E),N=L=1;N<=15;N++)if(L<<=1,(L-=Q[N])<0)return-1;if(0<L&&(d===0||R!==1))return-1;for(Z[1]=0,N=1;N<15;N++)Z[N+1]=Z[N]+Q[N];for(M=0;M<p;M++)f[h+M]!==0&&(g[Z[f[h+M]]++]=M);if(k=d===0?(B=fe=g,19):d===1?(B=o,$-=257,fe=s,le-=257,256):(B=l,fe=c,-1),N=E,j=m,q=M=W=0,_=-1,w=(D=1<<(z=F))-1,d===1&&852<D||d===2&&592<D)return 1;for(;;){for(A=N-q,O=g[M]<k?(P=0,g[M]):g[M]>k?(P=fe[le+g[M]],B[$+g[M]]):(P=96,0),b=1<<N-q,E=x=1<<z;y[j+(W>>q)+(x-=b)]=A<<24|P<<16|O|0,x!==0;);for(b=1<<N-1;W&b;)b>>=1;if(b!==0?(W&=b-1,W+=b):W=0,M++,--Q[N]==0){if(N===R)break;N=f[h+g[M]]}if(F<N&&(W&w)!==_){for(q===0&&(q=F),j+=E,L=1<<(z=N-q);z+q<R&&!((L-=Q[z+q])<=0);)z++,L<<=1;if(D+=1<<z,d===1&&852<D||d===2&&592<D)return 1;y[_=W&w]=F<<24|z<<16|j-m|0}}return W!==0&&(y[j+W]=N-q<<24|64<<16|0),v.bits=F,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var a=n("../utils/common"),o=0,s=1;function l(U){for(var K=U.length;0<=--K;)U[K]=0}var c=0,d=29,f=256,h=f+1+d,p=30,y=19,m=2*h+1,g=15,v=16,b=7,x=256,_=16,w=17,j=18,k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],A=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],T=new Array(2*(h+2));l(T);var N=new Array(2*p);l(N);var M=new Array(512);l(M);var E=new Array(256);l(E);var R=new Array(d);l(R);var F,z,q,L=new Array(p);function D(U,K,ie,ne,X){this.static_tree=U,this.extra_bits=K,this.extra_base=ie,this.elems=ne,this.max_length=X,this.has_stree=U&&U.length}function W(U,K){this.dyn_tree=U,this.max_code=0,this.stat_desc=K}function B(U){return U<256?M[U]:M[256+(U>>>7)]}function $(U,K){U.pending_buf[U.pending++]=255&K,U.pending_buf[U.pending++]=K>>>8&255}function Q(U,K,ie){U.bi_valid>v-ie?(U.bi_buf|=K<<U.bi_valid&65535,$(U,U.bi_buf),U.bi_buf=K>>v-U.bi_valid,U.bi_valid+=ie-v):(U.bi_buf|=K<<U.bi_valid&65535,U.bi_valid+=ie)}function Z(U,K,ie){Q(U,ie[2*K],ie[2*K+1])}function fe(U,K){for(var ie=0;ie|=1&U,U>>>=1,ie<<=1,0<--K;);return ie>>>1}function le(U,K,ie){var ne,X,de=new Array(g+1),ve=0;for(ne=1;ne<=g;ne++)de[ne]=ve=ve+ie[ne-1]<<1;for(X=0;X<=K;X++){var he=U[2*X+1];he!==0&&(U[2*X]=fe(de[he]++,he))}}function ue(U){var K;for(K=0;K<h;K++)U.dyn_ltree[2*K]=0;for(K=0;K<p;K++)U.dyn_dtree[2*K]=0;for(K=0;K<y;K++)U.bl_tree[2*K]=0;U.dyn_ltree[2*x]=1,U.opt_len=U.static_len=0,U.last_lit=U.matches=0}function ee(U){8<U.bi_valid?$(U,U.bi_buf):0<U.bi_valid&&(U.pending_buf[U.pending++]=U.bi_buf),U.bi_buf=0,U.bi_valid=0}function te(U,K,ie,ne){var X=2*K,de=2*ie;return U[X]<U[de]||U[X]===U[de]&&ne[K]<=ne[ie]}function ce(U,K,ie){for(var ne=U.heap[ie],X=ie<<1;X<=U.heap_len&&(X<U.heap_len&&te(K,U.heap[X+1],U.heap[X],U.depth)&&X++,!te(K,ne,U.heap[X],U.depth));)U.heap[ie]=U.heap[X],ie=X,X<<=1;U.heap[ie]=ne}function J(U,K,ie){var ne,X,de,ve,he=0;if(U.last_lit!==0)for(;ne=U.pending_buf[U.d_buf+2*he]<<8|U.pending_buf[U.d_buf+2*he+1],X=U.pending_buf[U.l_buf+he],he++,ne===0?Z(U,X,K):(Z(U,(de=E[X])+f+1,K),(ve=k[de])!==0&&Q(U,X-=R[de],ve),Z(U,de=B(--ne),ie),(ve=A[de])!==0&&Q(U,ne-=L[de],ve)),he<U.last_lit;);Z(U,x,K)}function re(U,K){var ie,ne,X,de=K.dyn_tree,ve=K.stat_desc.static_tree,he=K.stat_desc.has_stree,Y=K.stat_desc.elems,oe=-1;for(U.heap_len=0,U.heap_max=m,ie=0;ie<Y;ie++)de[2*ie]!==0?(U.heap[++U.heap_len]=oe=ie,U.depth[ie]=0):de[2*ie+1]=0;for(;U.heap_len<2;)de[2*(X=U.heap[++U.heap_len]=oe<2?++oe:0)]=1,U.depth[X]=0,U.opt_len--,he&&(U.static_len-=ve[2*X+1]);for(K.max_code=oe,ie=U.heap_len>>1;1<=ie;ie--)ce(U,de,ie);for(X=Y;ie=U.heap[1],U.heap[1]=U.heap[U.heap_len--],ce(U,de,1),ne=U.heap[1],U.heap[--U.heap_max]=ie,U.heap[--U.heap_max]=ne,de[2*X]=de[2*ie]+de[2*ne],U.depth[X]=(U.depth[ie]>=U.depth[ne]?U.depth[ie]:U.depth[ne])+1,de[2*ie+1]=de[2*ne+1]=X,U.heap[1]=X++,ce(U,de,1),2<=U.heap_len;);U.heap[--U.heap_max]=U.heap[1],(function(ye,Pe){var Ue,Ke,Mt,Ye,zt,un,nt=Pe.dyn_tree,Cn=Pe.max_code,ke=Pe.stat_desc.static_tree,rt=Pe.stat_desc.has_stree,st=Pe.stat_desc.extra_bits,ct=Pe.stat_desc.extra_base,Te=Pe.stat_desc.max_length,Ge=0;for(Ye=0;Ye<=g;Ye++)ye.bl_count[Ye]=0;for(nt[2*ye.heap[ye.heap_max]+1]=0,Ue=ye.heap_max+1;Ue<m;Ue++)Te<(Ye=nt[2*nt[2*(Ke=ye.heap[Ue])+1]+1]+1)&&(Ye=Te,Ge++),nt[2*Ke+1]=Ye,Cn<Ke||(ye.bl_count[Ye]++,zt=0,ct<=Ke&&(zt=st[Ke-ct]),un=nt[2*Ke],ye.opt_len+=un*(Ye+zt),rt&&(ye.static_len+=un*(ke[2*Ke+1]+zt)));if(Ge!==0){do{for(Ye=Te-1;ye.bl_count[Ye]===0;)Ye--;ye.bl_count[Ye]--,ye.bl_count[Ye+1]+=2,ye.bl_count[Te]--,Ge-=2}while(0<Ge);for(Ye=Te;Ye!==0;Ye--)for(Ke=ye.bl_count[Ye];Ke!==0;)Cn<(Mt=ye.heap[--Ue])||(nt[2*Mt+1]!==Ye&&(ye.opt_len+=(Ye-nt[2*Mt+1])*nt[2*Mt],nt[2*Mt+1]=Ye),Ke--)}})(U,K),le(de,oe,U.bl_count)}function C(U,K,ie){var ne,X,de=-1,ve=K[1],he=0,Y=7,oe=4;for(ve===0&&(Y=138,oe=3),K[2*(ie+1)+1]=65535,ne=0;ne<=ie;ne++)X=ve,ve=K[2*(ne+1)+1],++he<Y&&X===ve||(he<oe?U.bl_tree[2*X]+=he:X!==0?(X!==de&&U.bl_tree[2*X]++,U.bl_tree[2*_]++):he<=10?U.bl_tree[2*w]++:U.bl_tree[2*j]++,de=X,oe=(he=0)===ve?(Y=138,3):X===ve?(Y=6,3):(Y=7,4))}function G(U,K,ie){var ne,X,de=-1,ve=K[1],he=0,Y=7,oe=4;for(ve===0&&(Y=138,oe=3),ne=0;ne<=ie;ne++)if(X=ve,ve=K[2*(ne+1)+1],!(++he<Y&&X===ve)){if(he<oe)for(;Z(U,X,U.bl_tree),--he!=0;);else X!==0?(X!==de&&(Z(U,X,U.bl_tree),he--),Z(U,_,U.bl_tree),Q(U,he-3,2)):he<=10?(Z(U,w,U.bl_tree),Q(U,he-3,3)):(Z(U,j,U.bl_tree),Q(U,he-11,7));de=X,oe=(he=0)===ve?(Y=138,3):X===ve?(Y=6,3):(Y=7,4)}}l(L);var H=!1;function V(U,K,ie,ne){Q(U,(c<<1)+(ne?1:0),3),(function(X,de,ve,he){ee(X),$(X,ve),$(X,~ve),a.arraySet(X.pending_buf,X.window,de,ve,X.pending),X.pending+=ve})(U,K,ie)}i._tr_init=function(U){H||((function(){var K,ie,ne,X,de,ve=new Array(g+1);for(X=ne=0;X<d-1;X++)for(R[X]=ne,K=0;K<1<<k[X];K++)E[ne++]=X;for(E[ne-1]=X,X=de=0;X<16;X++)for(L[X]=de,K=0;K<1<<A[X];K++)M[de++]=X;for(de>>=7;X<p;X++)for(L[X]=de<<7,K=0;K<1<<A[X]-7;K++)M[256+de++]=X;for(ie=0;ie<=g;ie++)ve[ie]=0;for(K=0;K<=143;)T[2*K+1]=8,K++,ve[8]++;for(;K<=255;)T[2*K+1]=9,K++,ve[9]++;for(;K<=279;)T[2*K+1]=7,K++,ve[7]++;for(;K<=287;)T[2*K+1]=8,K++,ve[8]++;for(le(T,h+1,ve),K=0;K<p;K++)N[2*K+1]=5,N[2*K]=fe(K,5);F=new D(T,k,f+1,h,g),z=new D(N,A,0,p,g),q=new D(new Array(0),P,0,y,b)})(),H=!0),U.l_desc=new W(U.dyn_ltree,F),U.d_desc=new W(U.dyn_dtree,z),U.bl_desc=new W(U.bl_tree,q),U.bi_buf=0,U.bi_valid=0,ue(U)},i._tr_stored_block=V,i._tr_flush_block=function(U,K,ie,ne){var X,de,ve=0;0<U.level?(U.strm.data_type===2&&(U.strm.data_type=(function(he){var Y,oe=4093624447;for(Y=0;Y<=31;Y++,oe>>>=1)if(1&oe&&he.dyn_ltree[2*Y]!==0)return o;if(he.dyn_ltree[18]!==0||he.dyn_ltree[20]!==0||he.dyn_ltree[26]!==0)return s;for(Y=32;Y<f;Y++)if(he.dyn_ltree[2*Y]!==0)return s;return o})(U)),re(U,U.l_desc),re(U,U.d_desc),ve=(function(he){var Y;for(C(he,he.dyn_ltree,he.l_desc.max_code),C(he,he.dyn_dtree,he.d_desc.max_code),re(he,he.bl_desc),Y=y-1;3<=Y&&he.bl_tree[2*O[Y]+1]===0;Y--);return he.opt_len+=3*(Y+1)+5+5+4,Y})(U),X=U.opt_len+3+7>>>3,(de=U.static_len+3+7>>>3)<=X&&(X=de)):X=de=ie+5,ie+4<=X&&K!==-1?V(U,K,ie,ne):U.strategy===4||de===X?(Q(U,2+(ne?1:0),3),J(U,T,N)):(Q(U,4+(ne?1:0),3),(function(he,Y,oe,ye){var Pe;for(Q(he,Y-257,5),Q(he,oe-1,5),Q(he,ye-4,4),Pe=0;Pe<ye;Pe++)Q(he,he.bl_tree[2*O[Pe]+1],3);G(he,he.dyn_ltree,Y-1),G(he,he.dyn_dtree,oe-1)})(U,U.l_desc.max_code+1,U.d_desc.max_code+1,ve+1),J(U,U.dyn_ltree,U.dyn_dtree)),ue(U),ne&&ee(U)},i._tr_tally=function(U,K,ie){return U.pending_buf[U.d_buf+2*U.last_lit]=K>>>8&255,U.pending_buf[U.d_buf+2*U.last_lit+1]=255&K,U.pending_buf[U.l_buf+U.last_lit]=255&ie,U.last_lit++,K===0?U.dyn_ltree[2*ie]++:(U.matches++,K--,U.dyn_ltree[2*(E[ie]+f+1)]++,U.dyn_dtree[2*B(K)]++),U.last_lit===U.lit_bufsize-1},i._tr_align=function(U){Q(U,2,3),Z(U,x,T),(function(K){K.bi_valid===16?($(K,K.bi_buf),K.bi_buf=0,K.bi_valid=0):8<=K.bi_valid&&(K.pending_buf[K.pending++]=255&K.bi_buf,K.bi_buf>>=8,K.bi_valid-=8)})(U)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(a){(function(o,s){if(!o.setImmediate){var l,c,d,f,h=1,p={},y=!1,m=o.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(o);g=g&&g.setTimeout?g:o,l={}.toString.call(o.process)==="[object process]"?function(_){process.nextTick(function(){b(_)})}:(function(){if(o.postMessage&&!o.importScripts){var _=!0,w=o.onmessage;return o.onmessage=function(){_=!1},o.postMessage("","*"),o.onmessage=w,_}})()?(f="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",x,!1):o.attachEvent("onmessage",x),function(_){o.postMessage(f+_,"*")}):o.MessageChannel?((d=new MessageChannel).port1.onmessage=function(_){b(_.data)},function(_){d.port2.postMessage(_)}):m&&"onreadystatechange"in m.createElement("script")?(c=m.documentElement,function(_){var w=m.createElement("script");w.onreadystatechange=function(){b(_),w.onreadystatechange=null,c.removeChild(w),w=null},c.appendChild(w)}):function(_){setTimeout(b,0,_)},g.setImmediate=function(_){typeof _!="function"&&(_=new Function(""+_));for(var w=new Array(arguments.length-1),j=0;j<w.length;j++)w[j]=arguments[j+1];var k={callback:_,args:w};return p[h]=k,l(h),h++},g.clearImmediate=v}function v(_){delete p[_]}function b(_){if(y)setTimeout(b,0,_);else{var w=p[_];if(w){y=!0;try{(function(j){var k=j.callback,A=j.args;switch(A.length){case 0:k();break;case 1:k(A[0]);break;case 2:k(A[0],A[1]);break;case 3:k(A[0],A[1],A[2]);break;default:k.apply(s,A)}})(w)}finally{v(_),y=!1}}}}function x(_){_.source===o&&typeof _.data=="string"&&_.data.indexOf(f)===0&&b(+_.data.slice(f.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof kr<"u"?kr:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(cw)),cw.exports}var H2e=W2e();const FW=ot(H2e);var ph={exports:{}},G2e=ph.exports,t5;function K2e(){return t5||(t5=1,(function(e,t){(function(n,r){r()})(G2e,function(){function n(c,d){return typeof d>"u"?d={autoBom:!1}:typeof d!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),d={autoBom:!d}),d.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function r(c,d,f){var h=new XMLHttpRequest;h.open("GET",c),h.responseType="blob",h.onload=function(){l(h.response,d,f)},h.onerror=function(){console.error("could not download file")},h.send()}function i(c){var d=new XMLHttpRequest;d.open("HEAD",c,!1);try{d.send()}catch{}return 200<=d.status&&299>=d.status}function a(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(d)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof kr=="object"&&kr.global===kr?kr:void 0,s=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(c,d,f){var h=o.URL||o.webkitURL,p=document.createElement("a");d=d||c.name||"download",p.download=d,p.rel="noopener",typeof c=="string"?(p.href=c,p.origin===location.origin?a(p):i(p.href)?r(c,d,f):a(p,p.target="_blank")):(p.href=h.createObjectURL(c),setTimeout(function(){h.revokeObjectURL(p.href)},4e4),setTimeout(function(){a(p)},0))}:"msSaveOrOpenBlob"in navigator?function(c,d,f){if(d=d||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(n(c,f),d);else if(i(c))r(c,d,f);else{var h=document.createElement("a");h.href=c,h.target="_blank",setTimeout(function(){a(h)})}}:function(c,d,f,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof c=="string")return r(c,d,f);var p=c.type==="application/octet-stream",y=/constructor/i.test(o.HTMLElement)||o.safari,m=/CriOS\/[\d]+/.test(navigator.userAgent);if((m||p&&y||s)&&typeof FileReader<"u"){var g=new FileReader;g.onloadend=function(){var x=g.result;x=m?x:x.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=x:location=x,h=null},g.readAsDataURL(c)}else{var v=o.URL||o.webkitURL,b=v.createObjectURL(c);h?h.location=b:location.href=b,h=null,setTimeout(function(){v.revokeObjectURL(b)},4e4)}});o.saveAs=l.saveAs=l,e.exports=l})})(ph)),ph.exports}var Y2e=K2e();async function X2e(e,t){const n=new FW,r=`mattioli-os-backup-${t.split("T")[0]}`,i=n.folder(r);if(!i)throw new Error("Failed to create root folder");i.file("backup.json",JSON.stringify(e,null,2)),i.file("README.txt",Q2e(e));const a=i.folder("data");if(!a)throw new Error("Failed to create data folder");const o=a.folder("habits");o&&(o.file("goals.json",JSON.stringify(e.goals||[],null,2)),o.file("logs.json",JSON.stringify(e.goal_logs||[],null,2)));const s=a.folder("macro-goals");s&&s.file("long_term_goals.json",JSON.stringify(e.long_term_goals||[],null,2));const l=a.folder("categories");l&&l.file("settings.json",JSON.stringify(e.goal_category_settings||null,null,2));const c=a.folder("tracking");c&&(c.file("reading.json",JSON.stringify(e.reading_logs||[],null,2)),c.file("moods.json",JSON.stringify(e.daily_moods||[],null,2)));const d=a.folder("settings");d&&(d.file("user_settings.json",JSON.stringify(e.user_settings||[],null,2)),d.file("app_settings.json",JSON.stringify(e.app_settings||{},null,2)));const f=a.folder("notes");f&&e.user_memos&&f.file("memo.md",e.user_memos.content||`# Note

Nessuna nota salvata.`);const h=i.folder("database-schema");h&&(e.database_schema?.sql&&h.file("schema.sql",e.database_schema.sql),e.database_schema?.metadata&&h.file("database_info.json",JSON.stringify(e.database_schema.metadata,null,2)),e.database_schema?.tables_summary&&h.file("tables_summary.json",JSON.stringify(e.database_schema.tables_summary,null,2))),i.file("RESTORE_INSTRUCTIONS_IT.md",eRe(e)),i.file("RESTORE_INSTRUCTIONS_EN.md",tRe(e));const p=await n.generateAsync({type:"blob"});Y2e.saveAs(p,`${r}.zip`)}function Q2e(e){const t=$E(e);return`HABIT TRACKER - BACKUP COMPLETO
================================

Data Backup: ${e.timestamp}
Versione: ${e.version}

CONTENUTO DEL BACKUP
--------------------
Questo backup contiene TUTTI i tuoi dati dell'applicazione:

 ${t.goals} Abitudini giornaliere (daily habits)
 ${t.goalLogs} Log di completamento abitudini
 ${t.longTermGoals} Obiettivi macro (annuali, mensili, settimanali, etc.)
 Impostazioni colori e categorie personalizzate
 ${t.readingLogs} Log di lettura
 ${t.moods} Registrazioni mood & energy
 ${t.userSettings} Impostazioni utente
 Note personali (memo)

TOTALE RECORD: ${t.total}

COME RIPRISTINARE
-----------------
1. Apri l'applicazione Habit Tracker
2. Vai alla pagina Backup Completo (/complete-backup)
3. Trascina questo file ZIP nell'area di importazione
4. Conferma il ripristino
5. Attendi il completamento dell'operazione

NOTA: Il ripristino sovrascriver i dati esistenti.
Si consiglia di fare un backup prima di importare.

STRUTTURA FILE
--------------
- backup.json: File completo con tutti i dati
- README.txt: Questo file
- database-schema/: Schema del database Supabase
  - schema.sql: Script SQL completo per ricreare il database
  - database_info.json: Metadata e informazioni del database  - tables_summary.json: Riepilogo struttura tabelle
- data/: Cartella con dati organizzati per tipologia
  - habits/: Abitudini giornaliere e log
  - macro-goals/: Obiettivi a lungo termine
  - categories/: Impostazioni categorie
  - tracking/: Dati di tracking (lettura, mood)
  - settings/: Impostazioni utente e app
  - notes/: Note personali

Per assistenza o segnalazioni: https://github.com/simo-hue/mattioli.OS/issues
`}function $E(e){return{goals:Array.isArray(e.goals)?e.goals.length:0,goalLogs:Array.isArray(e.goal_logs)?e.goal_logs.length:0,longTermGoals:Array.isArray(e.long_term_goals)?e.long_term_goals.length:0,readingLogs:Array.isArray(e.reading_logs)?e.reading_logs.length:0,moods:Array.isArray(e.daily_moods)?e.daily_moods.length:0,userSettings:Array.isArray(e.user_settings)?e.user_settings.length:0,total:(Array.isArray(e.goals)?e.goals.length:0)+(Array.isArray(e.goal_logs)?e.goal_logs.length:0)+(Array.isArray(e.long_term_goals)?e.long_term_goals.length:0)+(Array.isArray(e.reading_logs)?e.reading_logs.length:0)+(Array.isArray(e.daily_moods)?e.daily_moods.length:0)+(Array.isArray(e.user_settings)?e.user_settings.length:0)+(e.goal_category_settings?1:0)+(e.user_memos?1:0)}}function J2e(e){const t=[];return e.version||t.push("Missing backup version"),e.timestamp||t.push("Missing backup timestamp"),Array.isArray(e.goals)&&e.goals.length>0||Array.isArray(e.long_term_goals)&&e.long_term_goals.length>0||Array.isArray(e.goal_logs)&&e.goal_logs.length>0||Array.isArray(e.reading_logs)&&e.reading_logs.length>0||Array.isArray(e.daily_moods)&&e.daily_moods.length>0||e.user_memos||t.push("Backup appears to be empty - no data found"),{valid:t.length===0,errors:t}}async function Z2e(e){if(e.name.endsWith(".zip")){const t=await FW.loadAsync(e);let n=t.file("backup.json");if(!n){const a=Object.keys(t.files).find(o=>o.endsWith("backup.json"));a&&(n=t.file(a))}if(!n)throw new Error("File backup.json non trovato nel ZIP");const r=await n.async("text");return JSON.parse(r)}else{if(e.name.endsWith(".json"))return new Promise((t,n)=>{const r=new FileReader;r.onload=i=>{try{const a=i.target?.result;t(JSON.parse(a))}catch{n(new Error("File JSON non valido"))}},r.onerror=()=>n(new Error("Errore lettura file")),r.readAsText(e)});throw new Error("Formato file non supportato. Usa .zip o .json")}}function eRe(e){const t=$E(e);return e.metadata?.exportDate,`# ISTRUZIONI DI RIPRISTINO COMPLETO
# Habit Tracker - Full Disaster Recovery

**Data Backup:** ${e.timestamp}  
**Record Totali:** ${t.total}

---

##  SCENARIO 1: Ripristino Dati su App Esistente

### Prerequisiti
- Applicazione Habit Tracker gi installata e funzionante
- Account Supabase configurato
- File di backup ( mattioli.OS-backup-*.zip)

### Passaggi

**1. Accedi all'Applicazione**
- Apri il browser e vai all'app Habit Tracker
- Effettua il login con le tue credenziali

**2. Naviga alla Pagina Backup**
- Menu  Backup Completo
- Oppure vai direttamente a: \`/#/complete-backup\`

**3. Importa il Backup**
- Trascina il file ZIP nell'area di drop
- Oppure clicca "Seleziona file" e scegli il ZIP
- Attendi il completamento (potrebbero volerci alcuni secondi per ${t.total} record)

**4. Verifica il Ripristino**
- Controlla che le abitudini siano visibili nella home
- Verifica i macro obiettivi in "Macro Goals"
- Controlla le statistiche in "Stats"

 **Fatto!** I tuoi dati sono stati ripristinati.

---

##  SCENARIO 2: Ripristino Completo da Zero (Disaster Recovery)

### Prerequisiti
- Niente! Partirai da zero
- File di backup (mattioli.OS-backup-*.zip)
- Account GitHub (opzionale, per deploy)

### FASE 1: Crea Nuovo Progetto Supabase

**1.1 Crea Account / Progetto**
- Vai su https://supabase.com
- Clicca "Start your project"
- Crea una nuova organization (se necessario)
- Crea un nuovo progetto:
  - Nome: \`mattioli.OS-restore\` (o quello che preferisci)
  - Database Password: **SALVALA!** Ti servir
  - Region: Scegli la pi vicina a te

**1.2 Attendi Provisioning**
- Supabase creer il database (1-2 minuti)
- Vedrai "Project is ready" quando completato

**1.3 Configura il Database**
- Vai su: SQL Editor (icona </> nella sidebar)
- Apri il file \`database-schema/schema.sql\` dal backup ZIP
- Copia **TUTTO** il contenuto
- Incollalo nel SQL Editor di Supabase
- Clicca "RUN" (o premi Ctrl+Enter)
- Vedrai "Success. No rows returned"   Schema creato!

**1.4 Salva le Credenziali Supabase**
- Vai su: Settings  API ( Settings in basso)
- Copia e salva:
  - **Project URL**: \`https://xxxxx.supabase.co\`
  - **anon/public API key**: \`eyJhbG....\`

### FASE 2: Clona e Configura l'Applicazione

**2.1 Clona Repository**
\`\`\`bash
git clone https://github.com/simo-hue/mattioli.OS.git
cd mattioli.OS
\`\`\`

**2.2 Installa Dipendenze**
\`\`\`bash
npm install
\`\`\`

**2.3 Configura Variabili d'Ambiente**
Crea file \`.env.local\` con:
\`\`\`
VITE_SUPABASE_URL=https://tuo-progetto.supabase.co
VITE_SUPABASE_ANON_KEY=tua-anon-key
\`\`\`

Sostituisci con i valori salvati al punto 1.4

**2.4 Testa in Locale**
\`\`\`bash
npm run dev
\`\`\`
Apri http://localhost:8080/mattioli.OS/

### FASE 3: Ripristina i Dati

**3.1 Crea Account**
- Nell'app locale, clicca "Registrati"
- Usa una email valida
- Conferma l'email (controlla inbox)

**3.2 Importa il Backup**
- Login nell'app
- Vai a: Menu  Backup Completo
- Trascina il file ZIP
- Attendi completamento

**3.3 Verifica Dati**
-  ${t.goals} abitudini
-  ${t.longTermGoals} macro obiettivi
-  ${t.moods} registrazioni mood
-  Note personali

### FASE 4: Deploy (Opzionale)

**4.1 Deploy su GitHub Pages**
\`\`\`bash
npm run deploy
\`\`\`

**4.2 Configura GitHub Pages**
- Vai su GitHub  Repository Settings  Pages
- Source: \`gh-pages\` branch
- Salva

La tua app sar online su:  
\`https://tuo-username.github.io/mattioli.OS/\`

---

##  RISOLUZIONE PROBLEMI

### Errore: "Non autenticato"
- Verifica di aver fatto login
- Controlla che le credenziali Supabase siano corrette nel file .env.local

### Errore: "Backup non valido"
- Verifica che il file sia .zip o .json
- Controlla che il file non sia corrotto
- Prova a estrarre manualmente il ZIP e usa backup.json

### Schema SQL Error
- Assicurati di aver copiato TUTTO il contenuto di schema.sql
- Verifica che non ci siano caratteri strani
- Esegui lo script una riga alla volta se necessario

### Import Parziale
- Controlla la console del browser (F12) per errori
- Prova a importare il backup.json manualmente
- Verifica le policy RLS su Supabase

---

##  SUPPORTO

- GitHub Issues: https://github.com/simo-hue/mattioli.OS/issues
- Documentazione: https://github.com/simo-hue/mattioli.OS

---

**Nota Importante sullo Schema:**  
Lo schema SQL incluso potrebbe non essere aggiornato all'ultima versione.
Per ottenere lo schema pi recente:
1. Vai su Supabase Dashboard
2. SQL Editor  Schema tab
3. Copia lo schema completo
4. Sostituisci il contenuto di \`database-schema/schema.sql\`
`}function tRe(e){const t=$E(e);return`# COMPLETE RESTORE INSTRUCTIONS
# Habit Tracker - Full Disaster Recovery

**Backup Date:** ${e.timestamp}  
**Total Records:** ${t.total}

---

##  SCENARIO 1: Restore Data on Existing App

### Prerequisites
- Habit Tracker app already installed and running
- Supabase account configured
- Backup file (mattioli.OS-backup-*.zip)

### Steps

**1. Access the Application**
- Open browser and go to Habit Tracker app
- Login with your credentials

**2. Navigate to Backup Page**
- Menu  Complete Backup
- Or go directly to: \`/#/complete-backup\`

**3. Import Backup**
- Drag and drop the ZIP file into the drop area
- Or click "Browse file" and select the ZIP
- Wait for completion (may take a few seconds for ${t.total} records)

**4. Verify Restore**
- Check that habits are visible on home page
- Verify macro goals in "Macro Goals"
- Check statistics in "Stats"

 **Done!** Your data has been restored.

---

##  SCENARIO 2: Complete Restore from Scratch (Disaster Recovery)

### Prerequisites
- Nothing! You'll start from zero
- Backup file (mattioli.OS-backup-*.zip)
- GitHub account (optional, for deployment)

### PHASE 1: Create New Supabase Project

**1.1 Create Account / Project**
- Go to https://supabase.com
- Click "Start your project"
- Create a new organization (if needed)
- Create a new project:
  - Name: \`mattioli.OS-restore\` (or whatever you prefer)
  - Database Password: **SAVE IT!** You'll need it
  - Region: Choose closest to you

**1.2 Wait for Provisioning**
- Supabase will create the database (1-2 minutes)
- You'll see "Project is ready" when completed

**1.3 Configure Database**
- Go to: SQL Editor (</> icon in sidebar)
- Open the \`database-schema/schema.sql\` file from backup ZIP
- Copy **ALL** the content
- Paste it into Supabase SQL Editor
- Click "RUN" (or press Ctrl+Enter)
- You'll see "Success. No rows returned"   Schema created!

**1.4 Save Supabase Credentials**
- Go to: Settings  API ( Settings at bottom)
- Copy and save:
  - **Project URL**: \`https://xxxxx.supabase.co\`
  - **anon/public API key**: \`eyJhbG....\`

### PHASE 2: Clone and Configure Application

**2.1 Clone Repository**
\`\`\`bash
git clone https://github.com/simo-hue/mattioli.OS.git
cd mattioli.OS
\`\`\`

**2.2 Install Dependencies**
\`\`\`bash
npm install
\`\`\`

**2.3 Configure Environment Variables**
Create \`.env.local\` file with:
\`\`\`
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key
\`\`\`

Replace with values saved in step 1.4

**2.4 Test Locally**
\`\`\`bash
npm run dev
\`\`\`
Open http://localhost:8080/mattioli.OS/

### PHASE 3: Restore Data

**3.1 Create Account**
- In the local app, click "Sign Up"
- Use a valid email
- Confirm email (check inbox)

**3.2 Import Backup**
- Login to the app
- Go to: Menu  Complete Backup
- Drag and drop the ZIP file
- Wait for completion

**3.3 Verify Data**
-  ${t.goals} habits
-  ${t.longTermGoals} macro goals
-  ${t.moods} mood records
-  Personal notes

### PHASE 4: Deploy (Optional)

**4.1 Deploy to GitHub Pages**
\`\`\`bash
npm run deploy
\`\`\`

**4.2 Configure GitHub Pages**
- Go to GitHub  Repository Settings  Pages
- Source: \`gh-pages\` branch
- Save

Your app will be live at:  
\`https://your-username.github.io/mattioli.OS/\`

---

##  TROUBLESHOOTING

### Error: "Not authenticated"
- Verify you're logged in
- Check that Supabase credentials are correct in .env.local file

### Error: "Invalid backup"
- Verify file is .zip or .json
- Check that file is not corrupted
- Try manually extracting ZIP and using backup.json

### Schema SQL Error
- Make sure you copied ALL content from schema.sql
- Verify there are no strange characters
- Run script one line at a time if necessary

### Partial Import
- Check browser console (F12) for errors
- Try importing backup.json manually
- Verify RLS policies on Supabase

---

##  SUPPORT

- GitHub Issues: https://github.com/simo-hue/mattioli.OS/issues
- Documentation: https://github.com/simo-hue/mattioli.OS

---

**Important Note about Schema:**  
The included SQL schema may not be updated to the latest version.
To get the most recent schema:
1. Go to Supabase Dashboard
2. SQL Editor  Schema tab
3. Copy the complete schema
4. Replace content of \`database-schema/schema.sql\`
`}function nRe(){const e=eo(),[t,n]=S.useState(!1),[r,i]=S.useState(!1);return{exportCompleteBackup:async()=>{n(!0);try{const{data:{user:s}}=await be.auth.getUser();if(!s)throw new Error("Non autenticato");const l=new Date().toISOString(),c=async(k,A=!0)=>{let P=[],O=0;const T=1e3;let N=!0,M=0;for(;N;){let E=be.from(k).select("*").range(O,O+T-1);A&&(E=E.eq("user_id",s.id));const{data:R,error:F}=await E;if(F)throw F;R&&R.length>0?(M++,P=[...P,...R],R.length===T&&console.log(` Fetching ${k}: batch ${M} (${P.length} records so far...)`),R.length<T?(N=!1,console.log(` ${k}: ${P.length} records fetched in ${M} batch(es)`)):O+=T):(N=!1,P.length>0&&console.log(` ${k}: ${P.length} records fetched in ${M} batch(es)`))}return P},[d,f,h,p,y,m,g,v]=await Promise.all([c("goals",!0),c("goal_logs",!0),c("long_term_goals",!0),be.from("goal_category_settings").select("*").eq("user_id",s.id).single(),c("reading_logs",!1),c("user_settings",!1),be.from("user_memos").select("*").eq("user_id",s.id).single(),c("daily_moods",!0)]);if(p.error&&p.error.code!=="PGRST116")throw p.error;if(g.error&&g.error.code!=="PGRST116")throw g.error;const b={ollama_preferred_model:localStorage.getItem("ollama_preferred_model")||void 0,ollama_report_type:localStorage.getItem("ollama_report_type")||void 0};let x="";try{const k=await fetch("/schema.sql");k.ok?x=await k.text():console.warn("schema.sql not found in public folder")}catch(k){console.warn("Could not load schema.sql:",k)}x?x=`-- HABIT TRACKER DATABASE SCHEMA
-- Exported: ${new Date().toISOString()}
-- Source: /public/schema.sql
-- 
-- This schema includes all 8 tables with RLS policies and triggers.
-- For the most up-to-date schema, export from Supabase Dashboard.
--
${x}`:x=`-- Database Schema not available
-- 
-- To get the current database schema:
-- 1. Go to Supabase Dashboard > SQL Editor
-- 2. Copy the complete schema
-- 3. Or manually export via Supabase CLI: supabase db dump -f schema.sql
`;const _={sql:x,metadata:{supabase_version:"2.87.1",postgrest_version:"13.0.5",exported_at:l,tables_count:8,total_records:0},tables_summary:{goals:{description:"Daily habits tracking",key_columns:["id","user_id","title","color","frequency_days"],has_rls:!0},goal_logs:{description:"Habit completion logs",key_columns:["id","user_id","goal_id","date","status"],has_rls:!0},long_term_goals:{description:"Macro goals (annual, monthly, weekly, quarterly, lifetime)",key_columns:["id","user_id","title","type","year","month"],has_rls:!0},goal_category_settings:{description:"Category colors and labels settings",key_columns:["id","user_id","mappings"],has_rls:!0,note:"Single record per user"},reading_logs:{description:"Daily reading tracking",key_columns:["id","date","status"],has_rls:!0},user_settings:{description:"Generic user settings (key-value)",key_columns:["id","key","value"],has_rls:!0},user_memos:{description:"User personal notes in markdown",key_columns:["id","user_id","content"],has_rls:!0,note:"Single record per user"},daily_moods:{description:"Daily mood and energy tracking",key_columns:["id","user_id","date","mood_score","energy_score"],has_rls:!0}}},w=(d?.length||0)+(f?.length||0)+(h?.length||0)+(p.data?1:0)+(y?.length||0)+(m?.length||0)+(g.data?1:0)+(v?.length||0);_.metadata.total_records=w;const j={version:1,timestamp:l,metadata:{appVersion:"1.0.0",exportDate:new Date().toLocaleDateString("it-IT"),totalRecords:w},goals:d||[],goal_logs:f||[],long_term_goals:h||[],goal_category_settings:p.data||null,reading_logs:y||[],user_settings:m||[],user_memos:g.data||null,daily_moods:v||[],app_settings:b,database_schema:_};We.info(`Preparazione backup: ${w} record trovati...`),await X2e(j,l),We.success(`Backup completo creato con successo! (${w} record)`)}catch(s){console.error("Export failed:",s),We.error(`Errore durante l'export: ${s.message}`)}finally{n(!1)}},importCompleteBackup:async s=>{i(!0);try{const l=await Z2e(s),c=J2e(l);if(!c.valid)throw new Error(`Backup non valido: ${c.errors.join(", ")}`);const{data:{user:d}}=await be.auth.getUser();if(!d)throw new Error("Non autenticato");const f={totalProcessed:0,byTable:{},settingsRestored:[],timestamp:new Date().toISOString()},h=async(p,y,m="id")=>{if(!Array.isArray(y)||y.length===0){f.byTable[p]={inserted:0,updated:0,unchanged:0,errors:[]};return}try{const{data:g,error:v}=await be.from(p).select("*").eq("user_id",d.id);if(v)throw v;const b=new Map((g||[]).map(k=>[k[m],k])),x=[];let _=0,w=0,j=0;for(const k of y){const A={...k,user_id:d.id},P=b.get(k[m]);P?JSON.stringify(P)!==JSON.stringify(A)?(w++,x.push(A)):j++:(_++,x.push(A))}if(x.length>0){const{error:k}=await be.from(p).upsert(x);if(k)throw k}f.byTable[p]={inserted:_,updated:w,unchanged:j,errors:[]},f.totalProcessed+=y.length}catch(g){f.byTable[p]={inserted:0,updated:0,unchanged:0,errors:[g.message]}}};if(await h("goals",l.goals),await h("goal_logs",l.goal_logs),await h("long_term_goals",l.long_term_goals),await h("reading_logs",l.reading_logs),await h("user_settings",l.user_settings,"key"),await h("daily_moods",l.daily_moods),l.goal_category_settings)try{const{data:p}=await be.from("goal_category_settings").select("*").eq("user_id",d.id).single(),y={user_id:d.id,mappings:l.goal_category_settings.mappings};p?(await be.from("goal_category_settings").update({mappings:y.mappings}).eq("id",p.id),f.byTable.goal_category_settings={inserted:0,updated:1,unchanged:0,errors:[]}):(await be.from("goal_category_settings").insert(y),f.byTable.goal_category_settings={inserted:1,updated:0,unchanged:0,errors:[]}),f.totalProcessed++}catch(p){f.byTable.goal_category_settings={inserted:0,updated:0,unchanged:0,errors:[p.message]}}if(l.user_memos)try{const{error:p}=await be.from("user_memos").upsert({user_id:d.id,content:l.user_memos.content||"",updated_at:new Date().toISOString()},{onConflict:"user_id"});if(p)throw p;f.byTable.user_memos={inserted:0,updated:1,unchanged:0,errors:[]},f.totalProcessed++}catch(p){f.byTable.user_memos={inserted:0,updated:0,unchanged:0,errors:[p.message]}}return l.app_settings&&(l.app_settings.ollama_preferred_model&&(localStorage.setItem("ollama_preferred_model",l.app_settings.ollama_preferred_model),f.settingsRestored.push("ollama_preferred_model")),l.app_settings.ollama_report_type&&(localStorage.setItem("ollama_report_type",l.app_settings.ollama_report_type),f.settingsRestored.push("ollama_report_type"))),await e.invalidateQueries({queryKey:["goals"]}),await e.invalidateQueries({queryKey:["goal_logs"]}),await e.invalidateQueries({queryKey:["longTermGoals"]}),await e.invalidateQueries({queryKey:["goalCategorySettings"]}),await e.invalidateQueries({queryKey:["moods"]}),We.success(`Backup importato con successo! (${f.totalProcessed} record ripristinati)`),f}catch(l){return console.error("Import failed:",l),We.error(`Errore durante l'importazione: ${l.message}`),null}finally{i(!1)}},isExporting:t,isImporting:r}}var LE="Progress",zE=100,[rRe]=Bn(LE),[iRe,aRe]=rRe(LE),BW=S.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:a=oRe,...o}=e;(i||i===0)&&!n5(i)&&console.error(sRe(`${i}`,"Progress"));const s=n5(i)?i:zE;r!==null&&!r5(r,s)&&console.error(lRe(`${r}`,"Progress"));const l=r5(r,s)?r:null,c=nm(l)?a(l,s):void 0;return u.jsx(iRe,{scope:n,value:l,max:s,children:u.jsx(Ae.div,{"aria-valuemax":s,"aria-valuemin":0,"aria-valuenow":nm(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":VW(l,s),"data-value":l??void 0,"data-max":s,...o,ref:t})})});BW.displayName=LE;var qW="ProgressIndicator",UW=S.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,i=aRe(qW,n);return u.jsx(Ae.div,{"data-state":VW(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});UW.displayName=qW;function oRe(e,t){return`${Math.round(e/t*100)}%`}function VW(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function nm(e){return typeof e=="number"}function n5(e){return nm(e)&&!isNaN(e)&&e>0}function r5(e,t){return nm(e)&&!isNaN(e)&&e<=t&&e>=0}function sRe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${zE}\`.`}function lRe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${zE} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var WW=BW,cRe=UW;const HW=S.forwardRef(({className:e,value:t,...n},r)=>u.jsx(WW,{ref:r,className:ae("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:u.jsx(cRe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));HW.displayName=WW.displayName;var uRe="Separator",i5="horizontal",dRe=["horizontal","vertical"],GW=S.forwardRef((e,t)=>{const{decorative:n,orientation:r=i5,...i}=e,a=fRe(r)?r:i5,s=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return u.jsx(Ae.div,{"data-orientation":a,...s,...i,ref:t})});GW.displayName=uRe;function fRe(e){return dRe.includes(e)}var KW=GW;const mh=S.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},i)=>u.jsx(KW,{ref:i,decorative:n,orientation:t,className:ae("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));mh.displayName=KW.displayName;function hRe(){const{exportCompleteBackup:e,importCompleteBackup:t,isExporting:n,isImporting:r}=nRe(),[i,a]=S.useState(null),[o,s]=S.useState(!1),l=async()=>{await e()},c=async m=>{const g=await t(m);a(g)},d=S.useCallback(m=>{m.preventDefault(),s(!1);const g=Array.from(m.dataTransfer.files);g.length>0&&c(g[0])},[]),f=S.useCallback(m=>{m.preventDefault(),s(!0)},[]),h=S.useCallback(m=>{m.preventDefault(),s(!1)},[]),p=S.useCallback(m=>{const g=m.target.files;g&&g.length>0&&c(g[0])},[]),y=[{icon:Gn,label:"Abitudini giornaliere",key:"goals",color:"text-blue-500"},{icon:Ia,label:"Log completamento abitudini",key:"goal_logs",color:"text-green-500"},{icon:Ha,label:"Obiettivi macro (annuali, mensili, etc.)",key:"long_term_goals",color:"text-purple-500"},{icon:w9,label:"Categorie e colori personalizzati",key:"goal_category_settings",color:"text-pink-500"},{icon:t9,label:"Log di lettura",key:"reading_logs",color:"text-amber-500"},{icon:Q5,label:"Registrazioni Mood & Energy",key:"daily_moods",color:"text-cyan-500"},{icon:K5,label:"Impostazioni utente",key:"user_settings",color:"text-slate-500"},{icon:O_,label:"Note personali (memo)",key:"user_memos",color:"text-orange-500"}];return u.jsx("div",{className:"container mx-auto p-4 sm:p-6 max-w-4xl",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[u.jsx(Go,{className:"h-8 w-8 text-primary"}),"Backup Completo"]}),u.jsx("p",{className:"text-muted-foreground",children:"Esporta o importa tutti i dati dell'applicazione in un unico archivio organizzato"})]}),u.jsxs(Wo,{children:[u.jsx(qs,{className:"h-4 w-4"}),u.jsx(hh,{children:"Cosa viene salvato nel backup?"}),u.jsxs(Ho,{children:["Il backup include ",u.jsx("strong",{children:"tutti i tuoi dati"}),": abitudini, obiettivi, log, impostazioni, categorie personalizzate, note e registrazioni mood. Il file sar scaricato come archivio ZIP ben organizzato."]})]}),u.jsxs(qe,{children:[u.jsxs(et,{children:[u.jsxs(tt,{className:"flex items-center gap-2",children:[u.jsx(nl,{className:"h-5 w-5"}),"Esporta Backup"]}),u.jsx(Vr,{children:"Scarica un backup completo di tutti i tuoi dati in formato ZIP"})]}),u.jsxs(Ve,{className:"space-y-4",children:[u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:y.map(m=>u.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50 hover:bg-muted transition-colors",children:[u.jsx(m.icon,{className:`h-5 w-5 ${m.color}`}),u.jsx("span",{className:"text-sm font-medium",children:m.label})]},m.key))}),u.jsx(mh,{}),u.jsx(Ce,{onClick:l,disabled:n,className:"w-full sm:w-auto",size:"lg",children:n?u.jsxs(u.Fragment,{children:[u.jsx(Qr,{className:"mr-2 h-4 w-4 animate-spin"}),"Creazione backup..."]}):u.jsxs(u.Fragment,{children:[u.jsx(KE,{className:"mr-2 h-4 w-4"}),"Esporta Backup Completo"]})})]})]}),u.jsxs(qe,{children:[u.jsxs(et,{children:[u.jsxs(tt,{className:"flex items-center gap-2",children:[u.jsx(Z5,{className:"h-5 w-5"}),"Importa Backup"]}),u.jsx(Vr,{children:"Ripristina i tuoi dati da un file di backup precedente (ZIP o JSON)"})]}),u.jsxs(Ve,{className:"space-y-4",children:[u.jsxs("div",{onDrop:d,onDragOver:f,onDragLeave:h,className:`
                                border-2 border-dashed rounded-lg p-8 text-center transition-all
                                ${o?"border-primary bg-primary/5 scale-105":"border-muted-foreground/25 hover:border-muted-foreground/50"}
                            `,children:[u.jsx(KE,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),u.jsx("p",{className:"text-sm font-medium mb-2",children:"Trascina qui il file di backup"}),u.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Supporta file .zip e .json"}),u.jsx("label",{htmlFor:"backup-file-input",children:u.jsx(Ce,{variant:"outline",size:"sm",asChild:!0,disabled:r,children:u.jsx("span",{className:"cursor-pointer",children:r?u.jsxs(u.Fragment,{children:[u.jsx(Qr,{className:"mr-2 h-4 w-4 animate-spin"}),"Importazione..."]}):"Oppure clicca per selezionare"})})}),u.jsx("input",{id:"backup-file-input",type:"file",accept:".zip,.json",onChange:p,className:"hidden",disabled:r})]}),r&&u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"flex items-center justify-between text-sm",children:u.jsx("span",{className:"text-muted-foreground",children:"Ripristino in corso..."})}),u.jsx(HW,{value:void 0,className:"h-2"})]}),i&&u.jsxs(Wo,{className:"border-green-500/50 bg-green-500/10",children:[u.jsx(Ia,{className:"h-4 w-4 text-green-500"}),u.jsx(hh,{className:"text-green-500",children:"Backup importato con successo!"}),u.jsx(Ho,{className:"mt-2",children:u.jsx(ck,{className:"h-48 w-full rounded-md border p-4 bg-background/50",children:u.jsxs("div",{className:"space-y-3 text-sm",children:[u.jsxs("div",{className:"font-semibold",children:["Record totali processati: ",i.totalProcessed]}),u.jsx(mh,{}),u.jsx("div",{className:"space-y-2",children:Object.entries(i.byTable).map(([m,g])=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:"font-medium capitalize",children:m.replace(/_/g," ")}),u.jsxs("div",{className:"pl-4 text-xs space-y-0.5 text-muted-foreground",children:[g.inserted>0&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ia,{className:"h-3 w-3 text-green-500"}),u.jsxs("span",{children:[g.inserted," nuovi record"]})]}),g.updated>0&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(qs,{className:"h-3 w-3 text-blue-500"}),u.jsxs("span",{children:[g.updated," aggiornati"]})]}),g.unchanged>0&&u.jsx("div",{className:"flex items-center gap-2",children:u.jsxs("span",{className:"text-muted-foreground",children:[g.unchanged," invariati"]})}),g.errors.length>0&&u.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[u.jsx(i9,{className:"h-3 w-3"}),u.jsx("span",{children:g.errors.join(", ")})]})]})]},m))}),i.settingsRestored.length>0&&u.jsxs(u.Fragment,{children:[u.jsx(mh,{}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:"Impostazioni ripristinate:"}),u.jsx("div",{className:"pl-4 text-xs text-muted-foreground",children:i.settingsRestored.join(", ")})]})]})]})})})]})]})]}),u.jsxs(Wo,{variant:"destructive",children:[u.jsx(qs,{className:"h-4 w-4"}),u.jsx(hh,{children:"Attenzione"}),u.jsxs(Ho,{children:["L'importazione di un backup ",u.jsx("strong",{children:"sovrascriver i dati esistenti"}),". Assicurati di aver effettuato un backup prima di procedere se hai dati da conservare."]})]})]})})}const pRe=()=>{const[e,t]=S.useState(!1),[n,r]=S.useState(""),[i,a]=S.useState(""),[o,s]=S.useState(!1),l=u5();S.useEffect(()=>{be.auth.getSession().then(({data:{session:d}})=>{d&&l("/sw/dashboard")})},[l]);const c=async d=>{d.preventDefault(),t(!0);try{if(o){We.error("Non sei autorizzato, prova scrivi su linkedin a mattioli simone");return}else{const{error:f}=await be.auth.signInWithPassword({email:n,password:i});if(f)throw f;We.success("Accesso effettuato"),l("/sw/dashboard")}}catch(f){We.error(f.message)}finally{t(!1)}};return u.jsxs("div",{className:"min-h-dvh flex items-center justify-center p-4 relative overflow-hidden bg-background",children:[u.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-primary/20 blur-[100px] rounded-full opacity-50 animate-pulse"}),u.jsx("div",{className:"absolute top-0 right-0 w-[400px] h-[400px] bg-secondary/10 blur-[80px] rounded-full"})]}),u.jsxs("div",{className:"glass-panel w-full max-w-md p-8 rounded-3xl relative z-10 border-white/10 shadow-2xl animate-scale-in",children:[u.jsxs("div",{className:"text-center mb-8 space-y-2",children:[u.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-xl bg-primary/10 border border-primary/20 mb-4 shadow-[0_0_15px_rgba(255,255,255,0.1)]",children:u.jsx(P9,{className:"w-6 h-6 text-primary"})}),u.jsx("h1",{className:"text-3xl font-display font-bold tracking-tight bg-gradient-to-br from-white to-white/60 bg-clip-text text-transparent",children:"Mattioli.OS"}),u.jsx("p",{className:"text-sm text-muted-foreground font-light",children:"Sistema di tracciamento abitudini personale"})]}),u.jsxs("form",{onSubmit:c,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"relative group",children:[u.jsx(g9,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground transition-colors group-focus-within:text-primary"}),u.jsx(ta,{type:"email",placeholder:"Email",value:n,onChange:d=>r(d.target.value),className:"pl-10 h-11 bg-black/20 border-white/10 focus:border-primary/50 focus:bg-black/40 transition-all rounded-xl",required:!0})]}),u.jsxs("div",{className:"relative group",children:[u.jsx(T_,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground transition-colors group-focus-within:text-primary"}),u.jsx(ta,{type:"password",placeholder:"Password",value:i,onChange:d=>a(d.target.value),className:"pl-10 h-11 bg-black/20 border-white/10 focus:border-primary/50 focus:bg-black/40 transition-all rounded-xl",required:!0})]})]}),u.jsx(Ce,{type:"submit",className:"w-full h-11 text-base font-medium mt-6 bg-primary hover:bg-primary/90 text-primary-foreground shadow-[0_0_20px_rgba(255,255,255,0.1)] hover:shadow-[0_0_25px_rgba(255,255,255,0.2)] transition-all duration-300",disabled:e,children:e?u.jsx(Qr,{className:"w-5 h-5 animate-spin"}):u.jsxs("span",{className:"flex items-center gap-2",children:[o?"Registrati":"Accedi al Sistema",u.jsx($5,{className:"w-4 h-4"})]})})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsx("button",{onClick:()=>s(!o),className:"text-xs text-muted-foreground hover:text-primary transition-colors hover:underline underline-offset-4",children:o?"Hai gi un account? Accedi":"Prima volta? Inizializza Protocollo (Registrati)"})})]})]})},mRe=()=>{const e=c5();return S.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),u.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),u.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),u.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},gRe=new m7,yRe=({children:e})=>{const[t,n]=S.useState(null);return S.useEffect(()=>{be.auth.getSession().then(({data:{session:i}})=>{n(!!i)});const{data:{subscription:r}}=be.auth.onAuthStateChange((i,a)=>{n(!!a)});return()=>r.unsubscribe()},[]),t===null?null:t?u.jsx(u.Fragment,{children:e}):u.jsx(tH,{to:"/auth",replace:!0})},vRe=()=>u.jsx(x7,{client:gRe,children:u.jsx(jre,{children:u.jsx(N7,{children:u.jsxs(ja,{children:[u.jsx($9,{}),u.jsx(pG,{}),u.jsx(ZW,{basename:"/mattioli.OS",future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:u.jsxs(eH,{children:[u.jsx(Pn,{path:"/auth",element:u.jsx(pRe,{})}),u.jsx(Pn,{path:"/",element:u.jsx(xZ,{})}),u.jsx(Pn,{path:"/faq",element:u.jsx(wZ,{})}),u.jsx(Pn,{path:"/tech",element:u.jsx(SZ,{})}),u.jsx(Pn,{path:"/philosophy",element:u.jsx(_Z,{})}),u.jsx(Pn,{path:"/features",element:u.jsx(jZ,{})}),u.jsx(Pn,{path:"/get-started",element:u.jsx(kZ,{})}),u.jsx(Pn,{path:"/creator",element:u.jsx(EZ,{})}),u.jsxs(Pn,{path:"sw",element:u.jsx(yRe,{children:u.jsx($7,{})}),children:[u.jsx(Pn,{path:"dashboard",element:u.jsx(Hme,{})}),u.jsx(Pn,{path:"stats",element:u.jsx(_2e,{})}),u.jsx(Pn,{path:"macro-goals",element:u.jsx(L2e,{})}),u.jsx(Pn,{path:"ai-coach",element:u.jsx(V2e,{})}),u.jsx(Pn,{path:"complete-backup",element:u.jsx(hRe,{})})]}),u.jsx(Pn,{path:"*",element:u.jsx(mRe,{})})]})})]})})})});try{const e=document.getElementById("root");if(!e)throw new Error("Root element not found");iH.createRoot(e).render(u.jsx(vRe,{}))}catch(e){console.error("Error in main.tsx:",e)}
