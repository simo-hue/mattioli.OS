import{j as u,u as ze,c as Su,t as XW,a as Le,b as Cd,d as o5,S as QW}from"./ui-NAIPmtYO.js";import{b as JW,a as S,R as I,c as Xn,d as s5,e as l5,N as c5,L as xr,O as ZW,u as u5,g as Td,f as ot,h as d5,i as kn,B as eH,j as tH,k as Tr,l as rH}from"./vendor-Bbrlq4ga.js";function nH(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var rf={},BE;function iH(){if(BE)return rf;BE=1;var e=JW();return rf.createRoot=e.createRoot,rf.hydrateRoot=e.hydrateRoot,rf}var aH=iH();const oH=1,sH=1e6;let Vg=0;function lH(){return Vg=(Vg+1)%Number.MAX_SAFE_INTEGER,Vg.toString()}const Wg=new Map,qE=e=>{if(Wg.has(e))return;const t=setTimeout(()=>{Wg.delete(e),tu({type:"REMOVE_TOAST",toastId:e})},sH);Wg.set(e,t)},cH=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,oH)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?qE(r):e.toasts.forEach(n=>{qE(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Qf=[];let Jf={toasts:[]};function tu(e){Jf=cH(Jf,e),Qf.forEach(t=>{t(Jf)})}function uH({...e}){const t=lH(),r=i=>tu({type:"UPDATE_TOAST",toast:{...i,id:t}}),n=()=>tu({type:"DISMISS_TOAST",toastId:t});return tu({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||n()}}}),{id:t,dismiss:n,update:r}}function f5(){const[e,t]=S.useState(Jf);return S.useEffect(()=>(Qf.push(t),()=>{const r=Qf.indexOf(t);r>-1&&Qf.splice(r,1)}),[e]),{...e,toast:uH,dismiss:r=>tu({type:"DISMISS_TOAST",toastId:r})}}function Ee(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e?.(i),r===!1||!i.defaultPrevented)return t?.(i)}}function dH(e,t){const r=S.createContext(t),n=a=>{const{children:o,...s}=a,l=S.useMemo(()=>s,Object.values(s));return u.jsx(r.Provider,{value:l,children:o})};n.displayName=e+"Provider";function i(a){const o=S.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,i]}function Br(e,t=[]){let r=[];function n(a,o){const s=S.createContext(o),l=r.length;r=[...r,o];const c=f=>{const{scope:h,children:p,...v}=f,m=h?.[e]?.[l]||s,g=S.useMemo(()=>v,Object.values(v));return u.jsx(m.Provider,{value:g,children:p})};c.displayName=a+"Provider";function d(f,h){const p=h?.[e]?.[l]||s,v=S.useContext(p);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[c,d]}const i=()=>{const a=r.map(o=>S.createContext(o));return function(s){const l=s?.[e]||a;return S.useMemo(()=>({[`__scope${e}`]:{...s,[e]:l}}),[s,l])}};return i.scopeName=e,[n,fH(i,...t)]}function fH(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((s,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...s,...f}},{});return S.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function im(e){const t=e+"CollectionProvider",[r,n]=Br(t),[i,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:g,children:y}=m,b=I.useRef(null),x=I.useRef(new Map).current;return u.jsx(i,{scope:g,itemMap:x,collectionRef:b,children:y})};o.displayName=t;const s=e+"CollectionSlot",l=Su(s),c=I.forwardRef((m,g)=>{const{scope:y,children:b}=m,x=a(s,y),_=ze(g,x.collectionRef);return u.jsx(l,{ref:_,children:b})});c.displayName=s;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Su(d),p=I.forwardRef((m,g)=>{const{scope:y,children:b,...x}=m,_=I.useRef(null),w=ze(g,_),j=a(d,y);return I.useEffect(()=>(j.itemMap.set(_,{ref:_,...x}),()=>{j.itemMap.delete(_)})),u.jsx(h,{[f]:"",ref:w,children:b})});p.displayName=d;function v(m){const g=a(e+"CollectionConsumer",m);return I.useCallback(()=>{const b=g.collectionRef.current;if(!b)return[];const x=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(g.itemMap.values()).sort((j,k)=>x.indexOf(j.ref.current)-x.indexOf(k.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:c,ItemSlot:p},v,n]}var hH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ae=hH.reduce((e,t)=>{const r=Su(`Primitive.${t}`),n=S.forwardRef((i,a)=>{const{asChild:o,...s}=i,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...s,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function S_(e,t){e&&Xn.flushSync(()=>e.dispatchEvent(t))}function Ut(e){const t=S.useRef(e);return S.useEffect(()=>{t.current=e}),S.useMemo(()=>(...r)=>t.current?.(...r),[])}function h5(e,t=globalThis?.document){const r=Ut(e);S.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var pH="DismissableLayer",dw="dismissableLayer.update",mH="dismissableLayer.pointerDownOutside",gH="dismissableLayer.focusOutside",UE,p5=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),am=S.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:s,...l}=e,c=S.useContext(p5),[d,f]=S.useState(null),h=d?.ownerDocument??globalThis?.document,[,p]=S.useState({}),v=ze(t,k=>f(k)),m=Array.from(c.layers),[g]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(g),b=d?m.indexOf(d):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,_=b>=y,w=yH(k=>{const A=k.target,T=[...c.branches].some(O=>O.contains(A));!_||T||(i?.(k),o?.(k),k.defaultPrevented||s?.())},h),j=bH(k=>{const A=k.target;[...c.branches].some(O=>O.contains(A))||(a?.(k),o?.(k),k.defaultPrevented||s?.())},h);return h5(k=>{b===c.layers.size-1&&(n?.(k),!k.defaultPrevented&&s&&(k.preventDefault(),s()))},h),S.useEffect(()=>{if(d)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(UE=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),VE(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=UE)}},[d,h,r,c]),S.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),VE())},[d,c]),S.useEffect(()=>{const k=()=>p({});return document.addEventListener(dw,k),()=>document.removeEventListener(dw,k)},[]),u.jsx(Ae.div,{...l,ref:v,style:{pointerEvents:x?_?"auto":"none":void 0,...e.style},onFocusCapture:Ee(e.onFocusCapture,j.onFocusCapture),onBlurCapture:Ee(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:Ee(e.onPointerDownCapture,w.onPointerDownCapture)})});am.displayName=pH;var vH="DismissableLayerBranch",m5=S.forwardRef((e,t)=>{const r=S.useContext(p5),n=S.useRef(null),i=ze(t,n);return S.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),u.jsx(Ae.div,{...e,ref:i})});m5.displayName=vH;function yH(e,t=globalThis?.document){const r=Ut(e),n=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{const a=s=>{if(s.target&&!n.current){let l=function(){g5(mH,r,c,{discrete:!0})};const c={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function bH(e,t=globalThis?.document){const r=Ut(e),n=S.useRef(!1);return S.useEffect(()=>{const i=a=>{a.target&&!n.current&&g5(gH,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function VE(){const e=new CustomEvent(dw);document.dispatchEvent(e)}function g5(e,t,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?S_(i,a):i.dispatchEvent(a)}var xH=am,wH=m5,Qt=globalThis?.document?S.useLayoutEffect:()=>{},SH="Portal",om=S.forwardRef((e,t)=>{const{container:r,...n}=e,[i,a]=S.useState(!1);Qt(()=>a(!0),[]);const o=r||i&&globalThis?.document?.body;return o?s5.createPortal(u.jsx(Ae.div,{...n,ref:t}),o):null});om.displayName=SH;function _H(e,t){return S.useReducer((r,n)=>t[r][n]??r,e)}var sa=e=>{const{present:t,children:r}=e,n=jH(t),i=typeof r=="function"?r({present:n.isPresent}):S.Children.only(r),a=ze(n.ref,kH(i));return typeof r=="function"||n.isPresent?S.cloneElement(i,{ref:a}):null};sa.displayName="Presence";function jH(e){const[t,r]=S.useState(),n=S.useRef(null),i=S.useRef(e),a=S.useRef("none"),o=e?"mounted":"unmounted",[s,l]=_H(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const c=nf(n.current);a.current=s==="mounted"?c:"none"},[s]),Qt(()=>{const c=n.current,d=i.current;if(d!==e){const h=a.current,p=nf(c);e?l("MOUNT"):p==="none"||c?.display==="none"?l("UNMOUNT"):l(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),Qt(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,f=p=>{const m=nf(n.current).includes(p.animationName);if(p.target===t&&m&&(l("ANIMATION_END"),!i.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},h=p=>{p.target===t&&(a.current=nf(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:S.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function nf(e){return e?.animationName||"none"}function kH(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var EH=l5[" useInsertionEffect ".trim().toString()]||Qt;function Si({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,a,o]=AH({defaultProp:t,onChange:r}),s=e!==void 0,l=s?e:i;{const d=S.useRef(e!==void 0);S.useEffect(()=>{const f=d.current;f!==s&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=s},[s,n])}const c=S.useCallback(d=>{if(s){const f=OH(d)?d(e):d;f!==e&&o.current?.(f)}else a(d)},[s,e,a,o]);return[l,c]}function AH({defaultProp:e,onChange:t}){const[r,n]=S.useState(e),i=S.useRef(r),a=S.useRef(t);return EH(()=>{a.current=t},[t]),S.useEffect(()=>{i.current!==r&&(a.current?.(r),i.current=r)},[r,i]),[r,n,a]}function OH(e){return typeof e=="function"}var v5=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),CH="VisuallyHidden",sm=S.forwardRef((e,t)=>u.jsx(Ae.span,{...e,ref:t,style:{...v5,...e.style}}));sm.displayName=CH;var TH=sm,__="ToastProvider",[j_,PH,NH]=im("Toast"),[y5]=Br("Toast",[NH]),[RH,lm]=y5(__),b5=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=e,[s,l]=S.useState(null),[c,d]=S.useState(0),f=S.useRef(!1),h=S.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${__}\`. Expected non-empty \`string\`.`),u.jsx(j_.Provider,{scope:t,children:u.jsx(RH,{scope:t,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:c,viewport:s,onViewportChange:l,onToastAdd:S.useCallback(()=>d(p=>p+1),[]),onToastRemove:S.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};b5.displayName=__;var x5="ToastViewport",IH=["F8"],fw="toast.viewportPause",hw="toast.viewportResume",w5=S.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=IH,label:i="Notifications ({hotkey})",...a}=e,o=lm(x5,r),s=PH(r),l=S.useRef(null),c=S.useRef(null),d=S.useRef(null),f=S.useRef(null),h=ze(t,f,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;S.useEffect(()=>{const g=y=>{n.length!==0&&n.every(x=>y[x]||y.code===x)&&f.current?.focus()};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[n]),S.useEffect(()=>{const g=l.current,y=f.current;if(v&&g&&y){const b=()=>{if(!o.isClosePausedRef.current){const j=new CustomEvent(fw);y.dispatchEvent(j),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const j=new CustomEvent(hw);y.dispatchEvent(j),o.isClosePausedRef.current=!1}},_=j=>{!g.contains(j.relatedTarget)&&x()},w=()=>{g.contains(document.activeElement)||x()};return g.addEventListener("focusin",b),g.addEventListener("focusout",_),g.addEventListener("pointermove",b),g.addEventListener("pointerleave",w),window.addEventListener("blur",b),window.addEventListener("focus",x),()=>{g.removeEventListener("focusin",b),g.removeEventListener("focusout",_),g.removeEventListener("pointermove",b),g.removeEventListener("pointerleave",w),window.removeEventListener("blur",b),window.removeEventListener("focus",x)}}},[v,o.isClosePausedRef]);const m=S.useCallback(({tabbingDirection:g})=>{const b=s().map(x=>{const _=x.ref.current,w=[_,...GH(_)];return g==="forwards"?w:w.reverse()});return(g==="forwards"?b.reverse():b).flat()},[s]);return S.useEffect(()=>{const g=f.current;if(g){const y=b=>{const x=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!x){const w=document.activeElement,j=b.shiftKey;if(b.target===g&&j){c.current?.focus();return}const T=m({tabbingDirection:j?"backwards":"forwards"}),O=T.findIndex(P=>P===w);Hg(T.slice(O+1))?b.preventDefault():j?c.current?.focus():d.current?.focus()}};return g.addEventListener("keydown",y),()=>g.removeEventListener("keydown",y)}},[s,m]),u.jsxs(wH,{ref:l,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&u.jsx(pw,{ref:c,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"forwards"});Hg(g)}}),u.jsx(j_.Slot,{scope:r,children:u.jsx(Ae.ol,{tabIndex:-1,...a,ref:h})}),v&&u.jsx(pw,{ref:d,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"backwards"});Hg(g)}})]})});w5.displayName=x5;var S5="ToastFocusProxy",pw=S.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=e,a=lm(S5,r);return u.jsx(sm,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{const s=o.relatedTarget;!a.viewport?.contains(s)&&n()}})});pw.displayName=S5;var Pd="Toast",MH="toast.swipeStart",DH="toast.swipeMove",$H="toast.swipeCancel",LH="toast.swipeEnd",_5=S.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...o}=e,[s,l]=Si({prop:n,defaultProp:i??!0,onChange:a,caller:Pd});return u.jsx(sa,{present:r||s,children:u.jsx(BH,{open:s,...o,ref:t,onClose:()=>l(!1),onPause:Ut(e.onPause),onResume:Ut(e.onResume),onSwipeStart:Ee(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ee(e.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ee(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ee(e.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});_5.displayName=Pd;var[zH,FH]=y5(Pd,{onClose(){}}),BH=S.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:s,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...v}=e,m=lm(Pd,r),[g,y]=S.useState(null),b=ze(t,E=>y(E)),x=S.useRef(null),_=S.useRef(null),w=i||m.duration,j=S.useRef(0),k=S.useRef(w),A=S.useRef(0),{onToastAdd:T,onToastRemove:O}=m,P=Ut(()=>{g?.contains(document.activeElement)&&m.viewport?.focus(),o()}),N=S.useCallback(E=>{!E||E===1/0||(window.clearTimeout(A.current),j.current=new Date().getTime(),A.current=window.setTimeout(P,E))},[P]);S.useEffect(()=>{const E=m.viewport;if(E){const R=()=>{N(k.current),c?.()},F=()=>{const z=new Date().getTime()-j.current;k.current=k.current-z,window.clearTimeout(A.current),l?.()};return E.addEventListener(fw,F),E.addEventListener(hw,R),()=>{E.removeEventListener(fw,F),E.removeEventListener(hw,R)}}},[m.viewport,w,l,c,N]),S.useEffect(()=>{a&&!m.isClosePausedRef.current&&N(w)},[a,w,m.isClosePausedRef,N]),S.useEffect(()=>(T(),()=>O()),[T,O]);const M=S.useMemo(()=>g?T5(g):null,[g]);return m.viewport?u.jsxs(u.Fragment,{children:[M&&u.jsx(qH,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:M}),u.jsx(zH,{scope:r,onClose:P,children:Xn.createPortal(u.jsx(j_.ItemSlot,{scope:r,children:u.jsx(xH,{asChild:!0,onEscapeKeyDown:Ee(s,()=>{m.isFocusedToastEscapeKeyDownRef.current||P(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(Ae.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":m.swipeDirection,...v,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ee(e.onKeyDown,E=>{E.key==="Escape"&&(s?.(E.nativeEvent),E.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:Ee(e.onPointerDown,E=>{E.button===0&&(x.current={x:E.clientX,y:E.clientY})}),onPointerMove:Ee(e.onPointerMove,E=>{if(!x.current)return;const R=E.clientX-x.current.x,F=E.clientY-x.current.y,z=!!_.current,q=["left","right"].includes(m.swipeDirection),L=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,D=q?L(0,R):0,W=q?0:L(0,F),B=E.pointerType==="touch"?10:2,$={x:D,y:W},Q={originalEvent:E,delta:$};z?(_.current=$,af(DH,f,Q,{discrete:!1})):WE($,m.swipeDirection,B)?(_.current=$,af(MH,d,Q,{discrete:!1}),E.target.setPointerCapture(E.pointerId)):(Math.abs(R)>B||Math.abs(F)>B)&&(x.current=null)}),onPointerUp:Ee(e.onPointerUp,E=>{const R=_.current,F=E.target;if(F.hasPointerCapture(E.pointerId)&&F.releasePointerCapture(E.pointerId),_.current=null,x.current=null,R){const z=E.currentTarget,q={originalEvent:E,delta:R};WE(R,m.swipeDirection,m.swipeThreshold)?af(LH,p,q,{discrete:!0}):af($H,h,q,{discrete:!0}),z.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),qH=e=>{const{__scopeToast:t,children:r,...n}=e,i=lm(Pd,t),[a,o]=S.useState(!1),[s,l]=S.useState(!1);return WH(()=>o(!0)),S.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),s?null:u.jsx(om,{asChild:!0,children:u.jsx(sm,{...n,children:a&&u.jsxs(u.Fragment,{children:[i.label," ",r]})})})},UH="ToastTitle",j5=S.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return u.jsx(Ae.div,{...n,ref:t})});j5.displayName=UH;var VH="ToastDescription",k5=S.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return u.jsx(Ae.div,{...n,ref:t})});k5.displayName=VH;var E5="ToastAction",A5=S.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?u.jsx(C5,{altText:r,asChild:!0,children:u.jsx(k_,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${E5}\`. Expected non-empty \`string\`.`),null)});A5.displayName=E5;var O5="ToastClose",k_=S.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,i=FH(O5,r);return u.jsx(C5,{asChild:!0,children:u.jsx(Ae.button,{type:"button",...n,ref:t,onClick:Ee(e.onClick,i.onClose)})})});k_.displayName=O5;var C5=S.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...i}=e;return u.jsx(Ae.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:t})});function T5(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),HH(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...T5(n))}}),t}function af(e,t,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?S_(i,a):i.dispatchEvent(a)}var WE=(e,t,r=0)=>{const n=Math.abs(e.x),i=Math.abs(e.y),a=n>i;return t==="left"||t==="right"?a&&n>r:!a&&i>r};function WH(e=()=>{}){const t=Ut(e);Qt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function HH(e){return e.nodeType===e.ELEMENT_NODE}function GH(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Hg(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var KH=b5,P5=w5,N5=_5,R5=j5,I5=k5,M5=A5,D5=k_;const YH=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$5=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();var XH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const QH=S.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...s},l)=>S.createElement("svg",{ref:l,...XH,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:$5("lucide",i),...s},[...o.map(([c,d])=>S.createElement(c,d)),...Array.isArray(a)?a:[a]]));const me=(e,t)=>{const r=S.forwardRef(({className:n,...i},a)=>S.createElement(QH,{ref:a,iconNode:t,className:$5(`lucide-${YH(e)}`,n),...i}));return r.displayName=`${e}`,r};const _u=me("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);const JH=me("AlignLeft",[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);const ZH=me("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);const ql=me("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const L5=me("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const e9=me("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);const HE=me("BatteryLow",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}],["line",{x1:"6",x2:"6",y1:"11",y2:"13",key:"1wd6dw"}]]);const t9=me("Battery",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);const r9=me("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const z5=me("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);const ju=me("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);const Ha=me("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const F5=me("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const B5=me("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);const E_=me("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);const ci=me("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const A_=me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const O_=me("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const cm=me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const n9=me("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const qs=me("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Ia=me("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const _c=me("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const i9=me("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);const a9=me("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const o9=me("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const GE=me("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);const mw=me("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);const s9=me("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]);const Gg=me("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const q5=me("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);const KE=me("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);const Go=me("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const rl=me("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const l9=me("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const U5=me("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const YE=me("FileArchive",[["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01",key:"gkbcor"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}]]);const C_=me("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const gw=me("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);const XE=me("Frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);const T_=me("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);const P_=me("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const c9=me("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);const V5=me("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]);const W5=me("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);const u9=me("Hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]);const d9=me("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);const f9=me("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const h9=me("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);const p9=me("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);const H5=me("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);const G5=me("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);const m9=me("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);const g9=me("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);const Qn=me("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const N_=me("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const v9=me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const y9=me("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);const b9=me("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const x9=me("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);const Zf=me("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);const w9=me("Mountain",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]]);const QE=me("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);const S9=me("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);const _9=me("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);const j9=me("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const k9=me("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const vw=me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const E9=me("Puzzle",[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]]);const A9=me("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);const K5=me("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const O9=me("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const C9=me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const T9=me("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);const Y5=me("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const P9=me("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const X5=me("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const Q5=me("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);const J5=me("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);const Hi=me("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const Gr=me("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const Z5=me("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);const R_=me("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const N9=me("Trees",[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16H5a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"1l6gj6"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]]);const pi=me("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);const Ar=me("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const nl=me("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const Ma=me("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);const e$=me("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const R9=me("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const I9=me("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);const Ga=me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const Gi=me("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function ae(...e){return XW(Le(e))}const M9=KH,t$=S.forwardRef(({className:e,...t},r)=>u.jsx(P5,{ref:r,className:ae("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));t$.displayName=P5.displayName;const D9=Cd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),r$=S.forwardRef(({className:e,variant:t,...r},n)=>u.jsx(N5,{ref:n,className:ae(D9({variant:t}),e),...r}));r$.displayName=N5.displayName;const $9=S.forwardRef(({className:e,...t},r)=>u.jsx(M5,{ref:r,className:ae("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));$9.displayName=M5.displayName;const n$=S.forwardRef(({className:e,...t},r)=>u.jsx(D5,{ref:r,className:ae("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:u.jsx(Ga,{className:"h-4 w-4"})}));n$.displayName=D5.displayName;const i$=S.forwardRef(({className:e,...t},r)=>u.jsx(R5,{ref:r,className:ae("text-sm font-semibold",e),...t}));i$.displayName=R5.displayName;const a$=S.forwardRef(({className:e,...t},r)=>u.jsx(I5,{ref:r,className:ae("text-sm opacity-90",e),...t}));a$.displayName=I5.displayName;function L9(){const{toasts:e}=f5();return u.jsxs(M9,{children:[e.map(function({id:t,title:r,description:n,action:i,...a}){return u.jsxs(r$,{...a,children:[u.jsxs("div",{className:"grid gap-1",children:[r&&u.jsx(i$,{children:r}),n&&u.jsx(a$,{children:n})]}),i,u.jsx(n$,{})]},t)}),u.jsx(t$,{})]})}var JE=["light","dark"],z9="(prefers-color-scheme: dark)",F9=S.createContext(void 0),B9={setTheme:e=>{},themes:[]},I_=()=>{var e;return(e=S.useContext(F9))!=null?e:B9};S.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:a,value:o,attrs:s,nonce:l})=>{let c=a==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${s.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=i?JE.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(v,m=!1,g=!0)=>{let y=o?o[v]:v,b=m?v+"|| ''":`'${y}'`,x="";return i&&g&&!m&&JE.includes(v)&&(x+=`d.style.colorScheme = '${v}';`),r==="class"?m||y?x+=`c.add(${b})`:x+="null":y&&(x+=`d[s](n,${b})`),x},p=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${c})){var t='${z9}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${c?"":"else{"+h(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(a,!1,!1)};}${f}}catch(t){}}();`;return S.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})});var q9=e=>{switch(e){case"success":return W9;case"info":return G9;case"warning":return H9;case"error":return K9;default:return null}},U9=Array(12).fill(0),V9=({visible:e,className:t})=>I.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},I.createElement("div",{className:"sonner-spinner"},U9.map((r,n)=>I.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),W9=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),H9=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),G9=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),K9=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Y9=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},I.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),I.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),X9=()=>{let[e,t]=I.useState(document.hidden);return I.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},yw=1,Q9=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,i=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:yw++,a=this.toasts.find(s=>s.id===i),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(s=>s.id===i?(this.publish({...s,...e,id:i,title:r}),{...s,...e,id:i,dismissible:o,title:r}):s):this.addToast({title:r,...n,dismissible:o,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),i=r!==void 0,a,o=n.then(async l=>{if(a=["resolve",l],I.isValidElement(l))i=!1,this.create({id:r,type:"default",message:l});else if(Z9(l)&&!l.ok){i=!1;let c=typeof t.error=="function"?await t.error(`HTTP error! status: ${l.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${l.status}`):t.description;this.create({id:r,type:"error",message:c,description:d})}else if(t.success!==void 0){i=!1;let c=typeof t.success=="function"?await t.success(l):t.success,d=typeof t.description=="function"?await t.description(l):t.description;this.create({id:r,type:"success",message:c,description:d})}}).catch(async l=>{if(a=["reject",l],t.error!==void 0){i=!1;let c=typeof t.error=="function"?await t.error(l):t.error,d=typeof t.description=="function"?await t.description(l):t.description;this.create({id:r,type:"error",message:c,description:d})}}).finally(()=>{var l;i&&(this.dismiss(r),r=void 0),(l=t.finally)==null||l.call(t)}),s=()=>new Promise((l,c)=>o.then(()=>a[0]==="reject"?c(a[1]):l(a[1])).catch(c));return typeof r!="string"&&typeof r!="number"?{unwrap:s}:Object.assign(r,{unwrap:s})},this.custom=(e,t)=>{let r=t?.id||yw++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Vr=new Q9,J9=(e,t)=>{let r=t?.id||yw++;return Vr.addToast({title:e,...t,id:r}),r},Z9=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",eG=J9,tG=()=>Vr.toasts,rG=()=>Vr.getActiveToasts(),We=Object.assign(eG,{success:Vr.success,info:Vr.info,warning:Vr.warning,error:Vr.error,custom:Vr.custom,message:Vr.message,promise:Vr.promise,dismiss:Vr.dismiss,loading:Vr.loading},{getHistory:tG,getToasts:rG});function nG(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}nG(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function of(e){return e.label!==void 0}var iG=3,aG="32px",oG="16px",ZE=4e3,sG=356,lG=14,cG=20,uG=200;function Dn(...e){return e.filter(Boolean).join(" ")}function dG(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var fG=e=>{var t,r,n,i,a,o,s,l,c,d,f;let{invert:h,toast:p,unstyled:v,interacting:m,setHeights:g,visibleToasts:y,heights:b,index:x,toasts:_,expanded:w,removeToast:j,defaultRichColors:k,closeButton:A,style:T,cancelButtonStyle:O,actionButtonStyle:P,className:N="",descriptionClassName:M="",duration:E,position:R,gap:F,loadingIcon:z,expandByDefault:q,classNames:L,icons:D,closeButtonAriaLabel:W="Close toast",pauseWhenPageIsHidden:B}=e,[$,Q]=I.useState(null),[Z,fe]=I.useState(null),[le,ue]=I.useState(!1),[ee,te]=I.useState(!1),[ce,J]=I.useState(!1),[ne,C]=I.useState(!1),[G,H]=I.useState(!1),[V,U]=I.useState(0),[K,ie]=I.useState(0),re=I.useRef(p.duration||E||ZE),X=I.useRef(null),de=I.useRef(null),ye=x===0,he=x+1<=y,Y=p.type,oe=p.dismissible!==!1,ve=p.className||"",Te=p.descriptionClassName||"",Ue=I.useMemo(()=>b.findIndex(Se=>Se.toastId===p.id)||0,[b,p.id]),Ke=I.useMemo(()=>{var Se;return(Se=p.closeButton)!=null?Se:A},[p.closeButton,A]),Mt=I.useMemo(()=>p.duration||E||ZE,[p.duration,E]),Ye=I.useRef(0),zt=I.useRef(0),cr=I.useRef(0),rt=I.useRef(null),[Cr,ke]=R.split("-"),nt=I.useMemo(()=>b.reduce((Se,Ie,Fe)=>Fe>=Ue?Se:Se+Ie.height,0),[b,Ue]),st=X9(),ct=p.invert||h,Pe=Y==="loading";zt.current=I.useMemo(()=>Ue*F+nt,[Ue,nt]),I.useEffect(()=>{re.current=Mt},[Mt]),I.useEffect(()=>{ue(!0)},[]),I.useEffect(()=>{let Se=de.current;if(Se){let Ie=Se.getBoundingClientRect().height;return ie(Ie),g(Fe=>[{toastId:p.id,height:Ie,position:p.position},...Fe]),()=>g(Fe=>Fe.filter(dt=>dt.toastId!==p.id))}},[g,p.id]),I.useLayoutEffect(()=>{if(!le)return;let Se=de.current,Ie=Se.style.height;Se.style.height="auto";let Fe=Se.getBoundingClientRect().height;Se.style.height=Ie,ie(Fe),g(dt=>dt.find(gt=>gt.toastId===p.id)?dt.map(gt=>gt.toastId===p.id?{...gt,height:Fe}:gt):[{toastId:p.id,height:Fe,position:p.position},...dt])},[le,p.title,p.description,g,p.id]);let Ge=I.useCallback(()=>{te(!0),U(zt.current),g(Se=>Se.filter(Ie=>Ie.toastId!==p.id)),setTimeout(()=>{j(p)},uG)},[p,j,g,zt]);I.useEffect(()=>{if(p.promise&&Y==="loading"||p.duration===1/0||p.type==="loading")return;let Se;return w||m||B&&st?(()=>{if(cr.current<Ye.current){let Ie=new Date().getTime()-Ye.current;re.current=re.current-Ie}cr.current=new Date().getTime()})():re.current!==1/0&&(Ye.current=new Date().getTime(),Se=setTimeout(()=>{var Ie;(Ie=p.onAutoClose)==null||Ie.call(p,p),Ge()},re.current)),()=>clearTimeout(Se)},[w,m,p,Y,B,st,Ge]),I.useEffect(()=>{p.delete&&Ge()},[Ge,p.delete]);function ut(){var Se,Ie,Fe;return D!=null&&D.loading?I.createElement("div",{className:Dn(L?.loader,(Se=p?.classNames)==null?void 0:Se.loader,"sonner-loader"),"data-visible":Y==="loading"},D.loading):z?I.createElement("div",{className:Dn(L?.loader,(Ie=p?.classNames)==null?void 0:Ie.loader,"sonner-loader"),"data-visible":Y==="loading"},z):I.createElement(V9,{className:Dn(L?.loader,(Fe=p?.classNames)==null?void 0:Fe.loader),visible:Y==="loading"})}return I.createElement("li",{tabIndex:0,ref:de,className:Dn(N,ve,L?.toast,(t=p?.classNames)==null?void 0:t.toast,L?.default,L?.[Y],(r=p?.classNames)==null?void 0:r[Y]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:k,"data-styled":!(p.jsx||p.unstyled||v),"data-mounted":le,"data-promise":!!p.promise,"data-swiped":G,"data-removed":ee,"data-visible":he,"data-y-position":Cr,"data-x-position":ke,"data-index":x,"data-front":ye,"data-swiping":ce,"data-dismissible":oe,"data-type":Y,"data-invert":ct,"data-swipe-out":ne,"data-swipe-direction":Z,"data-expanded":!!(w||q&&le),style:{"--index":x,"--toasts-before":x,"--z-index":_.length-x,"--offset":`${ee?V:zt.current}px`,"--initial-height":q?"auto":`${K}px`,...T,...p.style},onDragEnd:()=>{J(!1),Q(null),rt.current=null},onPointerDown:Se=>{Pe||!oe||(X.current=new Date,U(zt.current),Se.target.setPointerCapture(Se.pointerId),Se.target.tagName!=="BUTTON"&&(J(!0),rt.current={x:Se.clientX,y:Se.clientY}))},onPointerUp:()=>{var Se,Ie,Fe,dt;if(ne||!oe)return;rt.current=null;let gt=Number(((Se=de.current)==null?void 0:Se.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ft=Number(((Ie=de.current)==null?void 0:Ie.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Jt=new Date().getTime()-((Fe=X.current)==null?void 0:Fe.getTime()),Dt=$==="x"?gt:ft,ur=Math.abs(Dt)/Jt;if(Math.abs(Dt)>=cG||ur>.11){U(zt.current),(dt=p.onDismiss)==null||dt.call(p,p),fe($==="x"?gt>0?"right":"left":ft>0?"down":"up"),Ge(),C(!0),H(!1);return}J(!1),Q(null)},onPointerMove:Se=>{var Ie,Fe,dt,gt;if(!rt.current||!oe||((Ie=window.getSelection())==null?void 0:Ie.toString().length)>0)return;let ft=Se.clientY-rt.current.y,Jt=Se.clientX-rt.current.x,Dt=(Fe=e.swipeDirections)!=null?Fe:dG(R);!$&&(Math.abs(Jt)>1||Math.abs(ft)>1)&&Q(Math.abs(Jt)>Math.abs(ft)?"x":"y");let ur={x:0,y:0};$==="y"?(Dt.includes("top")||Dt.includes("bottom"))&&(Dt.includes("top")&&ft<0||Dt.includes("bottom")&&ft>0)&&(ur.y=ft):$==="x"&&(Dt.includes("left")||Dt.includes("right"))&&(Dt.includes("left")&&Jt<0||Dt.includes("right")&&Jt>0)&&(ur.x=Jt),(Math.abs(ur.x)>0||Math.abs(ur.y)>0)&&H(!0),(dt=de.current)==null||dt.style.setProperty("--swipe-amount-x",`${ur.x}px`),(gt=de.current)==null||gt.style.setProperty("--swipe-amount-y",`${ur.y}px`)}},Ke&&!p.jsx?I.createElement("button",{"aria-label":W,"data-disabled":Pe,"data-close-button":!0,onClick:Pe||!oe?()=>{}:()=>{var Se;Ge(),(Se=p.onDismiss)==null||Se.call(p,p)},className:Dn(L?.closeButton,(i=p?.classNames)==null?void 0:i.closeButton)},(a=D?.close)!=null?a:Y9):null,p.jsx||S.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:I.createElement(I.Fragment,null,Y||p.icon||p.promise?I.createElement("div",{"data-icon":"",className:Dn(L?.icon,(o=p?.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||ut():null,p.type!=="loading"?p.icon||D?.[Y]||q9(Y):null):null,I.createElement("div",{"data-content":"",className:Dn(L?.content,(s=p?.classNames)==null?void 0:s.content)},I.createElement("div",{"data-title":"",className:Dn(L?.title,(l=p?.classNames)==null?void 0:l.title)},typeof p.title=="function"?p.title():p.title),p.description?I.createElement("div",{"data-description":"",className:Dn(M,Te,L?.description,(c=p?.classNames)==null?void 0:c.description)},typeof p.description=="function"?p.description():p.description):null),S.isValidElement(p.cancel)?p.cancel:p.cancel&&of(p.cancel)?I.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||O,onClick:Se=>{var Ie,Fe;of(p.cancel)&&oe&&((Fe=(Ie=p.cancel).onClick)==null||Fe.call(Ie,Se),Ge())},className:Dn(L?.cancelButton,(d=p?.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,S.isValidElement(p.action)?p.action:p.action&&of(p.action)?I.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||P,onClick:Se=>{var Ie,Fe;of(p.action)&&((Fe=(Ie=p.action).onClick)==null||Fe.call(Ie,Se),!Se.defaultPrevented&&Ge())},className:Dn(L?.actionButton,(f=p?.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function eA(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function hG(e,t){let r={};return[e,t].forEach((n,i)=>{let a=i===1,o=a?"--mobile-offset":"--offset",s=a?oG:aG;function l(c){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(c=>{n[c]===void 0?r[`${o}-${c}`]=s:r[`${o}-${c}`]=typeof n[c]=="number"?`${n[c]}px`:n[c]}):l(s)}),r}var pG=S.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:o,className:s,offset:l,mobileOffset:c,theme:d="light",richColors:f,duration:h,style:p,visibleToasts:v=iG,toastOptions:m,dir:g=eA(),gap:y=lG,loadingIcon:b,icons:x,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:w}=e,[j,k]=I.useState([]),A=I.useMemo(()=>Array.from(new Set([n].concat(j.filter(B=>B.position).map(B=>B.position)))),[j,n]),[T,O]=I.useState([]),[P,N]=I.useState(!1),[M,E]=I.useState(!1),[R,F]=I.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),z=I.useRef(null),q=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=I.useRef(null),D=I.useRef(!1),W=I.useCallback(B=>{k($=>{var Q;return(Q=$.find(Z=>Z.id===B.id))!=null&&Q.delete||Vr.dismiss(B.id),$.filter(({id:Z})=>Z!==B.id)})},[]);return I.useEffect(()=>Vr.subscribe(B=>{if(B.dismiss){k($=>$.map(Q=>Q.id===B.id?{...Q,delete:!0}:Q));return}setTimeout(()=>{s5.flushSync(()=>{k($=>{let Q=$.findIndex(Z=>Z.id===B.id);return Q!==-1?[...$.slice(0,Q),{...$[Q],...B},...$.slice(Q+1)]:[B,...$]})})})}),[]),I.useEffect(()=>{if(d!=="system"){F(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?F("dark"):F("light")),typeof window>"u")return;let B=window.matchMedia("(prefers-color-scheme: dark)");try{B.addEventListener("change",({matches:$})=>{F($?"dark":"light")})}catch{B.addListener(({matches:Q})=>{try{F(Q?"dark":"light")}catch(Z){console.error(Z)}})}},[d]),I.useEffect(()=>{j.length<=1&&N(!1)},[j]),I.useEffect(()=>{let B=$=>{var Q,Z;i.every(fe=>$[fe]||$.code===fe)&&(N(!0),(Q=z.current)==null||Q.focus()),$.code==="Escape"&&(document.activeElement===z.current||(Z=z.current)!=null&&Z.contains(document.activeElement))&&N(!1)};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[i]),I.useEffect(()=>{if(z.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,D.current=!1)}},[z.current]),I.createElement("section",{ref:t,"aria-label":`${_} ${q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},A.map((B,$)=>{var Q;let[Z,fe]=B.split("-");return j.length?I.createElement("ol",{key:B,dir:g==="auto"?eA():g,tabIndex:-1,ref:z,className:s,"data-sonner-toaster":!0,"data-theme":R,"data-y-position":Z,"data-lifted":P&&j.length>1&&!a,"data-x-position":fe,style:{"--front-toast-height":`${((Q=T[0])==null?void 0:Q.height)||0}px`,"--width":`${sG}px`,"--gap":`${y}px`,...p,...hG(l,c)},onBlur:le=>{D.current&&!le.currentTarget.contains(le.relatedTarget)&&(D.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||D.current||(D.current=!0,L.current=le.relatedTarget)},onMouseEnter:()=>N(!0),onMouseMove:()=>N(!0),onMouseLeave:()=>{M||N(!1)},onDragEnd:()=>N(!1),onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||E(!0)},onPointerUp:()=>E(!1)},j.filter(le=>!le.position&&$===0||le.position===B).map((le,ue)=>{var ee,te;return I.createElement(fG,{key:le.id,icons:x,index:ue,toast:le,defaultRichColors:f,duration:(ee=m?.duration)!=null?ee:h,className:m?.className,descriptionClassName:m?.descriptionClassName,invert:r,visibleToasts:v,closeButton:(te=m?.closeButton)!=null?te:o,interacting:M,position:B,style:m?.style,unstyled:m?.unstyled,classNames:m?.classNames,cancelButtonStyle:m?.cancelButtonStyle,actionButtonStyle:m?.actionButtonStyle,removeToast:W,toasts:j.filter(ce=>ce.position==le.position),heights:T.filter(ce=>ce.position==le.position),setHeights:O,expandByDefault:a,gap:y,loadingIcon:b,expanded:P,pauseWhenPageIsHidden:w,swipeDirections:e.swipeDirections})})):null}))});const mG=({...e})=>{const{theme:t="system"}=I_();return u.jsx(pG,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var gG=l5[" useId ".trim().toString()]||(()=>{}),vG=0;function Ki(e){const[t,r]=S.useState(gG());return Qt(()=>{r(n=>n??String(vG++))},[e]),t?`radix-${t}`:""}const yG=["top","right","bottom","left"],Ka=Math.min,rn=Math.max,vh=Math.round,sf=Math.floor,yi=e=>({x:e,y:e}),bG={left:"right",right:"left",bottom:"top",top:"bottom"},xG={start:"end",end:"start"};function bw(e,t,r){return rn(e,Ka(t,r))}function Ji(e,t){return typeof e=="function"?e(t):e}function Zi(e){return e.split("-")[0]}function Ul(e){return e.split("-")[1]}function M_(e){return e==="x"?"y":"x"}function D_(e){return e==="y"?"height":"width"}const wG=new Set(["top","bottom"]);function mi(e){return wG.has(Zi(e))?"y":"x"}function $_(e){return M_(mi(e))}function SG(e,t,r){r===void 0&&(r=!1);const n=Ul(e),i=$_(e),a=D_(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=yh(o)),[o,yh(o)]}function _G(e){const t=yh(e);return[xw(e),t,xw(t)]}function xw(e){return e.replace(/start|end/g,t=>xG[t])}const tA=["left","right"],rA=["right","left"],jG=["top","bottom"],kG=["bottom","top"];function EG(e,t,r){switch(e){case"top":case"bottom":return r?t?rA:tA:t?tA:rA;case"left":case"right":return t?jG:kG;default:return[]}}function AG(e,t,r,n){const i=Ul(e);let a=EG(Zi(e),r==="start",n);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(xw)))),a}function yh(e){return e.replace(/left|right|bottom|top/g,t=>bG[t])}function OG(e){return{top:0,right:0,bottom:0,left:0,...e}}function o$(e){return typeof e!="number"?OG(e):{top:e,right:e,bottom:e,left:e}}function bh(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function nA(e,t,r){let{reference:n,floating:i}=e;const a=mi(t),o=$_(t),s=D_(o),l=Zi(t),c=a==="y",d=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,h=n[s]/2-i[s]/2;let p;switch(l){case"top":p={x:d,y:n.y-i.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-i.width,y:f};break;default:p={x:n.x,y:n.y}}switch(Ul(t)){case"start":p[o]-=h*(r&&c?-1:1);break;case"end":p[o]+=h*(r&&c?-1:1);break}return p}const CG=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:o}=r,s=a.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:f}=nA(c,n,l),h=n,p={},v=0;for(let m=0;m<s.length;m++){const{name:g,fn:y}=s[m],{x:b,y:x,data:_,reset:w}=await y({x:d,y:f,initialPlacement:n,placement:h,strategy:i,middlewareData:p,rects:c,platform:o,elements:{reference:e,floating:t}});d=b??d,f=x??f,p={...p,[g]:{...p[g],..._}},w&&v<=50&&(v++,typeof w=="object"&&(w.placement&&(h=w.placement),w.rects&&(c=w.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):w.rects),{x:d,y:f}=nA(c,h,l)),m=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:p}};async function ku(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:a,rects:o,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Ji(t,e),v=o$(p),g=s[h?f==="floating"?"reference":"floating":f],y=bh(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(g)))==null||r?g:g.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(s.floating)),boundary:c,rootBoundary:d,strategy:l})),b=f==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,x=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s.floating)),_=await(a.isElement==null?void 0:a.isElement(x))?await(a.getScale==null?void 0:a.getScale(x))||{x:1,y:1}:{x:1,y:1},w=bh(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:b,offsetParent:x,strategy:l}):b);return{top:(y.top-w.top+v.top)/_.y,bottom:(w.bottom-y.bottom+v.bottom)/_.y,left:(y.left-w.left+v.left)/_.x,right:(w.right-y.right+v.right)/_.x}}const TG=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:a,platform:o,elements:s,middlewareData:l}=t,{element:c,padding:d=0}=Ji(e,t)||{};if(c==null)return{};const f=o$(d),h={x:r,y:n},p=$_(i),v=D_(p),m=await o.getDimensions(c),g=p==="y",y=g?"top":"left",b=g?"bottom":"right",x=g?"clientHeight":"clientWidth",_=a.reference[v]+a.reference[p]-h[p]-a.floating[v],w=h[p]-a.reference[p],j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let k=j?j[x]:0;(!k||!await(o.isElement==null?void 0:o.isElement(j)))&&(k=s.floating[x]||a.floating[v]);const A=_/2-w/2,T=k/2-m[v]/2-1,O=Ka(f[y],T),P=Ka(f[b],T),N=O,M=k-m[v]-P,E=k/2-m[v]/2+A,R=bw(N,E,M),F=!l.arrow&&Ul(i)!=null&&E!==R&&a.reference[v]/2-(E<N?O:P)-m[v]/2<0,z=F?E<N?E-N:E-M:0;return{[p]:h[p]+z,data:{[p]:R,centerOffset:E-R-z,...F&&{alignmentOffset:z}},reset:F}}}),PG=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:a,rects:o,initialPlacement:s,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:m=!0,...g}=Ji(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const y=Zi(i),b=mi(s),x=Zi(s)===s,_=await(l.isRTL==null?void 0:l.isRTL(c.floating)),w=h||(x||!m?[yh(s)]:_G(s)),j=v!=="none";!h&&j&&w.push(...AG(s,m,v,_));const k=[s,...w],A=await ku(t,g),T=[];let O=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&T.push(A[y]),f){const E=SG(i,o,_);T.push(A[E[0]],A[E[1]])}if(O=[...O,{placement:i,overflows:T}],!T.every(E=>E<=0)){var P,N;const E=(((P=a.flip)==null?void 0:P.index)||0)+1,R=k[E];if(R&&(!(f==="alignment"?b!==mi(R):!1)||O.every(q=>q.overflows[0]>0&&mi(q.placement)===b)))return{data:{index:E,overflows:O},reset:{placement:R}};let F=(N=O.filter(z=>z.overflows[0]<=0).sort((z,q)=>z.overflows[1]-q.overflows[1])[0])==null?void 0:N.placement;if(!F)switch(p){case"bestFit":{var M;const z=(M=O.filter(q=>{if(j){const L=mi(q.placement);return L===b||L==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(L=>L>0).reduce((L,D)=>L+D,0)]).sort((q,L)=>q[1]-L[1])[0])==null?void 0:M[0];z&&(F=z);break}case"initialPlacement":F=s;break}if(i!==F)return{reset:{placement:F}}}return{}}}};function iA(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function aA(e){return yG.some(t=>e[t]>=0)}const NG=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=Ji(e,t);switch(n){case"referenceHidden":{const a=await ku(t,{...i,elementContext:"reference"}),o=iA(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:aA(o)}}}case"escaped":{const a=await ku(t,{...i,altBoundary:!0}),o=iA(a,r.floating);return{data:{escapedOffsets:o,escaped:aA(o)}}}default:return{}}}}},s$=new Set(["left","top"]);async function RG(e,t){const{placement:r,platform:n,elements:i}=e,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=Zi(r),s=Ul(r),l=mi(r)==="y",c=s$.has(o)?-1:1,d=a&&l?-1:1,f=Ji(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof v=="number"&&(p=s==="end"?v*-1:v),l?{x:p*d,y:h*c}:{x:h*c,y:p*d}}const IG=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:a,placement:o,middlewareData:s}=t,l=await RG(t,e);return o===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:o}}}}},MG=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:g=>{let{x:y,y:b}=g;return{x:y,y:b}}},...l}=Ji(e,t),c={x:r,y:n},d=await ku(t,l),f=mi(Zi(i)),h=M_(f);let p=c[h],v=c[f];if(a){const g=h==="y"?"top":"left",y=h==="y"?"bottom":"right",b=p+d[g],x=p-d[y];p=bw(b,p,x)}if(o){const g=f==="y"?"top":"left",y=f==="y"?"bottom":"right",b=v+d[g],x=v-d[y];v=bw(b,v,x)}const m=s.fn({...t,[h]:p,[f]:v});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:a,[f]:o}}}}}},DG=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:a,middlewareData:o}=t,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=Ji(e,t),d={x:r,y:n},f=mi(i),h=M_(f);let p=d[h],v=d[f];const m=Ji(s,t),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const x=h==="y"?"height":"width",_=a.reference[h]-a.floating[x]+g.mainAxis,w=a.reference[h]+a.reference[x]-g.mainAxis;p<_?p=_:p>w&&(p=w)}if(c){var y,b;const x=h==="y"?"width":"height",_=s$.has(Zi(i)),w=a.reference[f]-a.floating[x]+(_&&((y=o.offset)==null?void 0:y[f])||0)+(_?0:g.crossAxis),j=a.reference[f]+a.reference[x]+(_?0:((b=o.offset)==null?void 0:b[f])||0)-(_?g.crossAxis:0);v<w?v=w:v>j&&(v=j)}return{[h]:p,[f]:v}}}},$G=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:a,platform:o,elements:s}=t,{apply:l=()=>{},...c}=Ji(e,t),d=await ku(t,c),f=Zi(i),h=Ul(i),p=mi(i)==="y",{width:v,height:m}=a.floating;let g,y;f==="top"||f==="bottom"?(g=f,y=h===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(y=f,g=h==="end"?"top":"bottom");const b=m-d.top-d.bottom,x=v-d.left-d.right,_=Ka(m-d[g],b),w=Ka(v-d[y],x),j=!t.middlewareData.shift;let k=_,A=w;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(A=x),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=b),j&&!h){const O=rn(d.left,0),P=rn(d.right,0),N=rn(d.top,0),M=rn(d.bottom,0);p?A=v-2*(O!==0||P!==0?O+P:rn(d.left,d.right)):k=m-2*(N!==0||M!==0?N+M:rn(d.top,d.bottom))}await l({...t,availableWidth:A,availableHeight:k});const T=await o.getDimensions(s.floating);return v!==T.width||m!==T.height?{reset:{rects:!0}}:{}}}};function um(){return typeof window<"u"}function Vl(e){return l$(e)?(e.nodeName||"").toLowerCase():"#document"}function ln(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ci(e){var t;return(t=(l$(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function l$(e){return um()?e instanceof Node||e instanceof ln(e).Node:!1}function ei(e){return um()?e instanceof Element||e instanceof ln(e).Element:!1}function _i(e){return um()?e instanceof HTMLElement||e instanceof ln(e).HTMLElement:!1}function oA(e){return!um()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ln(e).ShadowRoot}const LG=new Set(["inline","contents"]);function Nd(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=ti(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!LG.has(i)}const zG=new Set(["table","td","th"]);function FG(e){return zG.has(Vl(e))}const BG=[":popover-open",":modal"];function dm(e){return BG.some(t=>{try{return e.matches(t)}catch{return!1}})}const qG=["transform","translate","scale","rotate","perspective"],UG=["transform","translate","scale","rotate","perspective","filter"],VG=["paint","layout","strict","content"];function L_(e){const t=z_(),r=ei(e)?ti(e):e;return qG.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||UG.some(n=>(r.willChange||"").includes(n))||VG.some(n=>(r.contain||"").includes(n))}function WG(e){let t=Ya(e);for(;_i(t)&&!il(t);){if(L_(t))return t;if(dm(t))return null;t=Ya(t)}return null}function z_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const HG=new Set(["html","body","#document"]);function il(e){return HG.has(Vl(e))}function ti(e){return ln(e).getComputedStyle(e)}function fm(e){return ei(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ya(e){if(Vl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||oA(e)&&e.host||Ci(e);return oA(t)?t.host:t}function c$(e){const t=Ya(e);return il(t)?e.ownerDocument?e.ownerDocument.body:e.body:_i(t)&&Nd(t)?t:c$(t)}function Eu(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=c$(e),a=i===((n=e.ownerDocument)==null?void 0:n.body),o=ln(i);if(a){const s=ww(o);return t.concat(o,o.visualViewport||[],Nd(i)?i:[],s&&r?Eu(s):[])}return t.concat(i,Eu(i,[],r))}function ww(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function u$(e){const t=ti(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=_i(e),a=i?e.offsetWidth:r,o=i?e.offsetHeight:n,s=vh(r)!==a||vh(n)!==o;return s&&(r=a,n=o),{width:r,height:n,$:s}}function F_(e){return ei(e)?e:e.contextElement}function Us(e){const t=F_(e);if(!_i(t))return yi(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:a}=u$(t);let o=(a?vh(r.width):r.width)/n,s=(a?vh(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const GG=yi(0);function d$(e){const t=ln(e);return!z_()||!t.visualViewport?GG:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function KG(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ln(e)?!1:t}function Ko(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),a=F_(e);let o=yi(1);t&&(n?ei(n)&&(o=Us(n)):o=Us(e));const s=KG(a,r,n)?d$(a):yi(0);let l=(i.left+s.x)/o.x,c=(i.top+s.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(a){const h=ln(a),p=n&&ei(n)?ln(n):n;let v=h,m=ww(v);for(;m&&n&&p!==v;){const g=Us(m),y=m.getBoundingClientRect(),b=ti(m),x=y.left+(m.clientLeft+parseFloat(b.paddingLeft))*g.x,_=y.top+(m.clientTop+parseFloat(b.paddingTop))*g.y;l*=g.x,c*=g.y,d*=g.x,f*=g.y,l+=x,c+=_,v=ln(m),m=ww(v)}}return bh({width:d,height:f,x:l,y:c})}function B_(e,t){const r=fm(e).scrollLeft;return t?t.left+r:Ko(Ci(e)).left+r}function f$(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(r?0:B_(e,n)),a=n.top+t.scrollTop;return{x:i,y:a}}function YG(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const a=i==="fixed",o=Ci(n),s=t?dm(t.floating):!1;if(n===o||s&&a)return r;let l={scrollLeft:0,scrollTop:0},c=yi(1);const d=yi(0),f=_i(n);if((f||!f&&!a)&&((Vl(n)!=="body"||Nd(o))&&(l=fm(n)),_i(n))){const p=Ko(n);c=Us(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=o&&!f&&!a?f$(o,l,!0):yi(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:r.y*c.y-l.scrollTop*c.y+d.y+h.y}}function XG(e){return Array.from(e.getClientRects())}function QG(e){const t=Ci(e),r=fm(e),n=e.ownerDocument.body,i=rn(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=rn(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+B_(e);const s=-r.scrollTop;return ti(n).direction==="rtl"&&(o+=rn(t.clientWidth,n.clientWidth)-i),{width:i,height:a,x:o,y:s}}function JG(e,t){const r=ln(e),n=Ci(e),i=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;const c=z_();(!c||c&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:s,y:l}}const ZG=new Set(["absolute","fixed"]);function eK(e,t){const r=Ko(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,a=_i(e)?Us(e):yi(1),o=e.clientWidth*a.x,s=e.clientHeight*a.y,l=i*a.x,c=n*a.y;return{width:o,height:s,x:l,y:c}}function sA(e,t,r){let n;if(t==="viewport")n=JG(e,r);else if(t==="document")n=QG(Ci(e));else if(ei(t))n=eK(t,r);else{const i=d$(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return bh(n)}function h$(e,t){const r=Ya(e);return r===t||!ei(r)||il(r)?!1:ti(r).position==="fixed"||h$(r,t)}function tK(e,t){const r=t.get(e);if(r)return r;let n=Eu(e,[],!1).filter(s=>ei(s)&&Vl(s)!=="body"),i=null;const a=ti(e).position==="fixed";let o=a?Ya(e):e;for(;ei(o)&&!il(o);){const s=ti(o),l=L_(o);!l&&s.position==="fixed"&&(i=null),(a?!l&&!i:!l&&s.position==="static"&&!!i&&ZG.has(i.position)||Nd(o)&&!l&&h$(e,o))?n=n.filter(d=>d!==o):i=s,o=Ya(o)}return t.set(e,n),n}function rK(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const o=[...r==="clippingAncestors"?dm(t)?[]:tK(t,this._c):[].concat(r),n],s=o[0],l=o.reduce((c,d)=>{const f=sA(t,d,i);return c.top=rn(f.top,c.top),c.right=Ka(f.right,c.right),c.bottom=Ka(f.bottom,c.bottom),c.left=rn(f.left,c.left),c},sA(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function nK(e){const{width:t,height:r}=u$(e);return{width:t,height:r}}function iK(e,t,r){const n=_i(t),i=Ci(t),a=r==="fixed",o=Ko(e,!0,a,t);let s={scrollLeft:0,scrollTop:0};const l=yi(0);function c(){l.x=B_(i)}if(n||!n&&!a)if((Vl(t)!=="body"||Nd(i))&&(s=fm(t)),n){const p=Ko(t,!0,a,t);l.x=p.x+t.clientLeft,l.y=p.y+t.clientTop}else i&&c();a&&!n&&i&&c();const d=i&&!n&&!a?f$(i,s):yi(0),f=o.left+s.scrollLeft-l.x-d.x,h=o.top+s.scrollTop-l.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function Kg(e){return ti(e).position==="static"}function lA(e,t){if(!_i(e)||ti(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Ci(e)===r&&(r=r.ownerDocument.body),r}function p$(e,t){const r=ln(e);if(dm(e))return r;if(!_i(e)){let i=Ya(e);for(;i&&!il(i);){if(ei(i)&&!Kg(i))return i;i=Ya(i)}return r}let n=lA(e,t);for(;n&&FG(n)&&Kg(n);)n=lA(n,t);return n&&il(n)&&Kg(n)&&!L_(n)?r:n||WG(e)||r}const aK=async function(e){const t=this.getOffsetParent||p$,r=this.getDimensions,n=await r(e.floating);return{reference:iK(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function oK(e){return ti(e).direction==="rtl"}const sK={convertOffsetParentRelativeRectToViewportRelativeRect:YG,getDocumentElement:Ci,getClippingRect:rK,getOffsetParent:p$,getElementRects:aK,getClientRects:XG,getDimensions:nK,getScale:Us,isElement:ei,isRTL:oK};function m$(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function lK(e,t){let r=null,n;const i=Ci(e);function a(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function o(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),a();const c=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=c;if(s||t(),!h||!p)return;const v=sf(f),m=sf(i.clientWidth-(d+h)),g=sf(i.clientHeight-(f+p)),y=sf(d),x={rootMargin:-v+"px "+-m+"px "+-g+"px "+-y+"px",threshold:rn(0,Ka(1,l))||1};let _=!0;function w(j){const k=j[0].intersectionRatio;if(k!==l){if(!_)return o();k?o(!1,k):n=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!m$(c,e.getBoundingClientRect())&&o(),_=!1}try{r=new IntersectionObserver(w,{...x,root:i.ownerDocument})}catch{r=new IntersectionObserver(w,x)}r.observe(e)}return o(!0),a}function cK(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=F_(e),d=i||a?[...c?Eu(c):[],...Eu(t)]:[];d.forEach(y=>{i&&y.addEventListener("scroll",r,{passive:!0}),a&&y.addEventListener("resize",r)});const f=c&&s?lK(c,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(y=>{let[b]=y;b&&b.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(t)})),r()}),c&&!l&&p.observe(c),p.observe(t));let v,m=l?Ko(e):null;l&&g();function g(){const y=Ko(e);m&&!m$(m,y)&&r(),m=y,v=requestAnimationFrame(g)}return r(),()=>{var y;d.forEach(b=>{i&&b.removeEventListener("scroll",r),a&&b.removeEventListener("resize",r)}),f?.(),(y=p)==null||y.disconnect(),p=null,l&&cancelAnimationFrame(v)}}const uK=IG,dK=MG,fK=PG,hK=$G,pK=NG,cA=TG,mK=DG,gK=(e,t,r)=>{const n=new Map,i={platform:sK,...r},a={...i.platform,_c:n};return CG(e,t,{...i,platform:a})};var vK=typeof document<"u",yK=function(){},eh=vK?S.useLayoutEffect:yK;function xh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!xh(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&e.$$typeof)&&!xh(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function g$(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function uA(e,t){const r=g$(e);return Math.round(t*r)/r}function Yg(e){const t=S.useRef(e);return eh(()=>{t.current=e}),t}function bK(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:o}={},transform:s=!0,whileElementsMounted:l,open:c}=e,[d,f]=S.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=S.useState(n);xh(h,n)||p(n);const[v,m]=S.useState(null),[g,y]=S.useState(null),b=S.useCallback(q=>{q!==j.current&&(j.current=q,m(q))},[]),x=S.useCallback(q=>{q!==k.current&&(k.current=q,y(q))},[]),_=a||v,w=o||g,j=S.useRef(null),k=S.useRef(null),A=S.useRef(d),T=l!=null,O=Yg(l),P=Yg(i),N=Yg(c),M=S.useCallback(()=>{if(!j.current||!k.current)return;const q={placement:t,strategy:r,middleware:h};P.current&&(q.platform=P.current),gK(j.current,k.current,q).then(L=>{const D={...L,isPositioned:N.current!==!1};E.current&&!xh(A.current,D)&&(A.current=D,Xn.flushSync(()=>{f(D)}))})},[h,t,r,P,N]);eh(()=>{c===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,f(q=>({...q,isPositioned:!1})))},[c]);const E=S.useRef(!1);eh(()=>(E.current=!0,()=>{E.current=!1}),[]),eh(()=>{if(_&&(j.current=_),w&&(k.current=w),_&&w){if(O.current)return O.current(_,w,M);M()}},[_,w,M,O,T]);const R=S.useMemo(()=>({reference:j,floating:k,setReference:b,setFloating:x}),[b,x]),F=S.useMemo(()=>({reference:_,floating:w}),[_,w]),z=S.useMemo(()=>{const q={position:r,left:0,top:0};if(!F.floating)return q;const L=uA(F.floating,d.x),D=uA(F.floating,d.y);return s?{...q,transform:"translate("+L+"px, "+D+"px)",...g$(F.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:L,top:D}},[r,s,F.floating,d.x,d.y]);return S.useMemo(()=>({...d,update:M,refs:R,elements:F,floatingStyles:z}),[d,M,R,F,z])}const xK=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?cA({element:n.current,padding:i}).fn(r):{}:n?cA({element:n,padding:i}).fn(r):{}}}},wK=(e,t)=>({...uK(e),options:[e,t]}),SK=(e,t)=>({...dK(e),options:[e,t]}),_K=(e,t)=>({...mK(e),options:[e,t]}),jK=(e,t)=>({...fK(e),options:[e,t]}),kK=(e,t)=>({...hK(e),options:[e,t]}),EK=(e,t)=>({...pK(e),options:[e,t]}),AK=(e,t)=>({...xK(e),options:[e,t]});var OK="Arrow",v$=S.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...a}=e;return u.jsx(Ae.svg,{...a,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});v$.displayName=OK;var CK=v$;function hm(e){const[t,r]=S.useState(void 0);return Qt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,s;if("borderBoxSize"in a){const l=a.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,s=c.blockSize}else o=e.offsetWidth,s=e.offsetHeight;r({width:o,height:s})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var q_="Popper",[y$,pm]=Br(q_),[TK,b$]=y$(q_),x$=e=>{const{__scopePopper:t,children:r}=e,[n,i]=S.useState(null);return u.jsx(TK,{scope:t,anchor:n,onAnchorChange:i,children:r})};x$.displayName=q_;var w$="PopperAnchor",S$=S.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,a=b$(w$,r),o=S.useRef(null),s=ze(t,o);return S.useEffect(()=>{a.onAnchorChange(n?.current||o.current)}),n?null:u.jsx(Ae.div,{...i,ref:s})});S$.displayName=w$;var U_="PopperContent",[PK,NK]=y$(U_),_$=S.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:v,...m}=e,g=b$(U_,r),[y,b]=S.useState(null),x=ze(t,le=>b(le)),[_,w]=S.useState(null),j=hm(_),k=j?.width??0,A=j?.height??0,T=n+(a!=="center"?"-"+a:""),O=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},P=Array.isArray(c)?c:[c],N=P.length>0,M={padding:O,boundary:P.filter(IK),altBoundary:N},{refs:E,floatingStyles:R,placement:F,isPositioned:z,middlewareData:q}=bK({strategy:"fixed",placement:T,whileElementsMounted:(...le)=>cK(...le,{animationFrame:p==="always"}),elements:{reference:g.anchor},middleware:[wK({mainAxis:i+A,alignmentAxis:o}),l&&SK({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?_K():void 0,...M}),l&&jK({...M}),kK({...M,apply:({elements:le,rects:ue,availableWidth:ee,availableHeight:te})=>{const{width:ce,height:J}=ue.reference,ne=le.floating.style;ne.setProperty("--radix-popper-available-width",`${ee}px`),ne.setProperty("--radix-popper-available-height",`${te}px`),ne.setProperty("--radix-popper-anchor-width",`${ce}px`),ne.setProperty("--radix-popper-anchor-height",`${J}px`)}}),_&&AK({element:_,padding:s}),MK({arrowWidth:k,arrowHeight:A}),h&&EK({strategy:"referenceHidden",...M})]}),[L,D]=E$(F),W=Ut(v);Qt(()=>{z&&W?.()},[z,W]);const B=q.arrow?.x,$=q.arrow?.y,Q=q.arrow?.centerOffset!==0,[Z,fe]=S.useState();return Qt(()=>{y&&fe(window.getComputedStyle(y).zIndex)},[y]),u.jsx("div",{ref:E.setFloating,"data-radix-popper-content-wrapper":"",style:{...R,transform:z?R.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[q.transformOrigin?.x,q.transformOrigin?.y].join(" "),...q.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:u.jsx(PK,{scope:r,placedSide:L,onArrowChange:w,arrowX:B,arrowY:$,shouldHideArrow:Q,children:u.jsx(Ae.div,{"data-side":L,"data-align":D,...m,ref:x,style:{...m.style,animation:z?void 0:"none"}})})})});_$.displayName=U_;var j$="PopperArrow",RK={top:"bottom",right:"left",bottom:"top",left:"right"},k$=S.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,a=NK(j$,n),o=RK[a.placedSide];return u.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:u.jsx(CK,{...i,ref:r,style:{...i.style,display:"block"}})})});k$.displayName=j$;function IK(e){return e!==null}var MK=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:i}=t,o=i.arrow?.centerOffset!==0,s=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[c,d]=E$(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(i.arrow?.x??0)+s/2,p=(i.arrow?.y??0)+l/2;let v="",m="";return c==="bottom"?(v=o?f:`${h}px`,m=`${-l}px`):c==="top"?(v=o?f:`${h}px`,m=`${n.floating.height+l}px`):c==="right"?(v=`${-l}px`,m=o?f:`${p}px`):c==="left"&&(v=`${n.floating.width+l}px`,m=o?f:`${p}px`),{data:{x:v,y:m}}}});function E$(e){const[t,r="center"]=e.split("-");return[t,r]}var A$=x$,O$=S$,C$=_$,T$=k$,[mm]=Br("Tooltip",[pm]),gm=pm(),P$="TooltipProvider",DK=700,Sw="tooltip.open",[$K,V_]=mm(P$),N$=e=>{const{__scopeTooltip:t,delayDuration:r=DK,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=e,o=S.useRef(!0),s=S.useRef(!1),l=S.useRef(0);return S.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx($K,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:S.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:S.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:s,onPointerInTransitChange:S.useCallback(c=>{s.current=c},[]),disableHoverableContent:i,children:a})};N$.displayName=P$;var Au="Tooltip",[LK,vm]=mm(Au),R$=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:i,onOpenChange:a,disableHoverableContent:o,delayDuration:s}=e,l=V_(Au,e.__scopeTooltip),c=gm(t),[d,f]=S.useState(null),h=Ki(),p=S.useRef(0),v=o??l.disableHoverableContent,m=s??l.delayDuration,g=S.useRef(!1),[y,b]=Si({prop:n,defaultProp:i??!1,onChange:k=>{k?(l.onOpen(),document.dispatchEvent(new CustomEvent(Sw))):l.onClose(),a?.(k)},caller:Au}),x=S.useMemo(()=>y?g.current?"delayed-open":"instant-open":"closed",[y]),_=S.useCallback(()=>{window.clearTimeout(p.current),p.current=0,g.current=!1,b(!0)},[b]),w=S.useCallback(()=>{window.clearTimeout(p.current),p.current=0,b(!1)},[b]),j=S.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{g.current=!0,b(!0),p.current=0},m)},[m,b]);return S.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),u.jsx(A$,{...c,children:u.jsx(LK,{scope:t,contentId:h,open:y,stateAttribute:x,trigger:d,onTriggerChange:f,onTriggerEnter:S.useCallback(()=>{l.isOpenDelayedRef.current?j():_()},[l.isOpenDelayedRef,j,_]),onTriggerLeave:S.useCallback(()=>{v?w():(window.clearTimeout(p.current),p.current=0)},[w,v]),onOpen:_,onClose:w,disableHoverableContent:v,children:r})})};R$.displayName=Au;var _w="TooltipTrigger",I$=S.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=vm(_w,r),a=V_(_w,r),o=gm(r),s=S.useRef(null),l=ze(t,s,i.onTriggerChange),c=S.useRef(!1),d=S.useRef(!1),f=S.useCallback(()=>c.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(O$,{asChild:!0,...o,children:u.jsx(Ae.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:l,onPointerMove:Ee(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ee(e.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:Ee(e.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ee(e.onFocus,()=>{c.current||i.onOpen()}),onBlur:Ee(e.onBlur,i.onClose),onClick:Ee(e.onClick,i.onClose)})})});I$.displayName=_w;var zK="TooltipPortal",[bRe,FK]=mm(zK,{forceMount:void 0}),al="TooltipContent",M$=S.forwardRef((e,t)=>{const r=FK(al,e.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=e,o=vm(al,e.__scopeTooltip);return u.jsx(sa,{present:n||o.open,children:o.disableHoverableContent?u.jsx(D$,{side:i,...a,ref:t}):u.jsx(BK,{side:i,...a,ref:t})})}),BK=S.forwardRef((e,t)=>{const r=vm(al,e.__scopeTooltip),n=V_(al,e.__scopeTooltip),i=S.useRef(null),a=ze(t,i),[o,s]=S.useState(null),{trigger:l,onClose:c}=r,d=i.current,{onPointerInTransitChange:f}=n,h=S.useCallback(()=>{s(null),f(!1)},[f]),p=S.useCallback((v,m)=>{const g=v.currentTarget,y={x:v.clientX,y:v.clientY},b=HK(y,g.getBoundingClientRect()),x=GK(y,b),_=KK(m.getBoundingClientRect()),w=XK([...x,..._]);s(w),f(!0)},[f]);return S.useEffect(()=>()=>h(),[h]),S.useEffect(()=>{if(l&&d){const v=g=>p(g,d),m=g=>p(g,l);return l.addEventListener("pointerleave",v),d.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",m)}}},[l,d,p,h]),S.useEffect(()=>{if(o){const v=m=>{const g=m.target,y={x:m.clientX,y:m.clientY},b=l?.contains(g)||d?.contains(g),x=!YK(y,o);b?h():x&&(h(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,d,o,c,h]),u.jsx(D$,{...e,ref:a})}),[qK,UK]=mm(Au,{isInside:!1}),VK=o5("TooltipContent"),D$=S.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...s}=e,l=vm(al,r),c=gm(r),{onClose:d}=l;return S.useEffect(()=>(document.addEventListener(Sw,d),()=>document.removeEventListener(Sw,d)),[d]),S.useEffect(()=>{if(l.trigger){const f=h=>{h.target?.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),u.jsx(am,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:u.jsxs(C$,{"data-state":l.stateAttribute,...c,...s,ref:t,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(VK,{children:n}),u.jsx(qK,{scope:r,isInside:!0,children:u.jsx(TH,{id:l.contentId,role:"tooltip",children:i||n})})]})})});M$.displayName=al;var $$="TooltipArrow",WK=S.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=gm(r);return UK($$,r).isInside?null:u.jsx(T$,{...i,...n,ref:t})});WK.displayName=$$;function HK(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function GK(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function KK(e){const{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}function YK(e,t){const{x:r,y:n}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const s=t[a],l=t[o],c=s.x,d=s.y,f=l.x,h=l.y;d>n!=h>n&&r<(f-c)*(n-d)/(h-d)+c&&(i=!i)}return i}function XK(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),QK(t)}function QK(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const i=e[n];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const i=e[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var JK=N$,ZK=R$,e7=I$,L$=M$;const ja=JK,Ao=ZK,Oo=e7,ka=S.forwardRef(({className:e,sideOffset:t=4,...r},n)=>u.jsx(L$,{ref:n,sideOffset:t,className:ae("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));ka.displayName=L$.displayName;var Wl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Yo=typeof window>"u"||"Deno"in globalThis;function Rr(){}function t7(e,t){return typeof e=="function"?e(t):e}function jw(e){return typeof e=="number"&&e>=0&&e!==1/0}function z$(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Da(e,t){return typeof e=="function"?e(t):e}function yn(e,t){return typeof e=="function"?e(t):e}function dA(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:o,stale:s}=e;if(o){if(n){if(t.queryHash!==W_(o,t.options))return!1}else if(!Ou(t.queryKey,o))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof s=="boolean"&&t.isStale()!==s||i&&i!==t.state.fetchStatus||a&&!a(t))}function fA(e,t){const{exact:r,status:n,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(Xo(t.options.mutationKey)!==Xo(a))return!1}else if(!Ou(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function W_(e,t){return(t?.queryKeyHashFn||Xo)(e)}function Xo(e){return JSON.stringify(e,(t,r)=>kw(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Ou(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Ou(e[r],t[r])):!1}function F$(e,t){if(e===t)return e;const r=hA(e)&&hA(t);if(r||kw(e)&&kw(t)){const n=r?e:Object.keys(e),i=n.length,a=r?t:Object.keys(t),o=a.length,s=r?[]:{},l=new Set(n);let c=0;for(let d=0;d<o;d++){const f=r?d:a[d];(!r&&l.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(s[f]=void 0,c++):(s[f]=F$(e[f],t[f]),s[f]===e[f]&&e[f]!==void 0&&c++)}return i===o&&c===i?e:s}return t}function wh(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function hA(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function kw(e){if(!pA(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!pA(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function pA(e){return Object.prototype.toString.call(e)==="[object Object]"}function r7(e){return new Promise(t=>{setTimeout(t,e)})}function Ew(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?F$(e,t):t}function n7(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function i7(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var H_=Symbol();function B$(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===H_?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function q$(e,t){return typeof e=="function"?e(...t):!!e}var a7=class extends Wl{#t;#e;#r;constructor(){super(),this.#r=e=>{if(!Yo&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},G_=new a7,o7=class extends Wl{#t=!0;#e;#r;constructor(){super(),this.#r=e=>{if(!Yo&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#t}},Sh=new o7;function Aw(){let e,t;const r=new Promise((i,a)=>{e=i,t=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}function s7(e){return Math.min(1e3*2**e,3e4)}function U$(e){return(e??"online")==="online"?Sh.isOnline():!0}var V$=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Xg(e){return e instanceof V$}function W$(e){let t=!1,r=0,n=!1,i;const a=Aw(),o=m=>{n||(h(new V$(m)),e.abort?.())},s=()=>{t=!0},l=()=>{t=!1},c=()=>G_.isFocused()&&(e.networkMode==="always"||Sh.isOnline())&&e.canRun(),d=()=>U$(e.networkMode)&&e.canRun(),f=m=>{n||(n=!0,e.onSuccess?.(m),i?.(),a.resolve(m))},h=m=>{n||(n=!0,e.onError?.(m),i?.(),a.reject(m))},p=()=>new Promise(m=>{i=g=>{(n||c())&&m(g)},e.onPause?.()}).then(()=>{i=void 0,n||e.onContinue?.()}),v=()=>{if(n)return;let m;const g=r===0?e.initialPromise:void 0;try{m=g??e.fn()}catch(y){m=Promise.reject(y)}Promise.resolve(m).then(f).catch(y=>{if(n)return;const b=e.retry??(Yo?0:3),x=e.retryDelay??s7,_=typeof x=="function"?x(r,y):x,w=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,y);if(t||!w){h(y);return}r++,e.onFail?.(r,y),r7(_).then(()=>c()?void 0:p()).then(()=>{t?h(y):v()})})};return{promise:a,cancel:o,continue:()=>(i?.(),a),cancelRetry:s,continueRetry:l,canStart:d,start:()=>(d()?v():p().then(v),a)}}var l7=e=>setTimeout(e,0);function c7(){let e=[],t=0,r=s=>{s()},n=s=>{s()},i=l7;const a=s=>{t?e.push(s):i(()=>{r(s)})},o=()=>{const s=e;e=[],s.length&&i(()=>{n(()=>{s.forEach(l=>{r(l)})})})};return{batch:s=>{let l;t++;try{l=s()}finally{t--,t||o()}return l},batchCalls:s=>(...l)=>{a(()=>{s(...l)})},schedule:a,setNotifyFunction:s=>{r=s},setBatchNotifyFunction:s=>{n=s},setScheduler:s=>{i=s}}}var or=c7(),H$=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),jw(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Yo?1/0:300*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},u7=class extends H${#t;#e;#r;#n;#i;#o;#s;constructor(e){super(),this.#s=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.client,this.#r=this.#n.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=d7(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(e){this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=Ew(this.state.data,e,this.options);return this.#a({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#a({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#i?.promise;return this.#i?.cancel(e),t?t.then(Rr).catch(Rr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>yn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===H_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Da(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!z$(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#i&&(this.#s?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(e&&this.setOptions(e),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const r=new AbortController,n=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#s=!0,r.signal)})},i=()=>{const l=B$(this.options,t),d=(()=>{const f={client:this.#n,queryKey:this.queryKey,meta:this.meta};return n(f),f})();return this.#s=!1,this.options.persister?this.options.persister(l,d,this):l(d)},o=(()=>{const l={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:i};return n(l),l})();this.options.behavior?.onFetch(o,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#a({type:"fetch",meta:o.fetchOptions?.meta});const s=l=>{Xg(l)&&l.silent||this.#a({type:"error",error:l}),Xg(l)||(this.#r.config.onError?.(l,this),this.#r.config.onSettled?.(this.state.data,l,this)),this.scheduleGc()};return this.#i=W$({initialPromise:t?.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:l=>{if(l===void 0){s(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(c){s(c);return}this.#r.config.onSuccess?.(l,this),this.#r.config.onSettled?.(l,this.state.error,this),this.scheduleGc()},onError:s,onFail:(l,c)=>{this.#a({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#i.start()}#a(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...G$(r.data,this.options),fetchMeta:e.meta??null};case"success":return this.#e=void 0,{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return Xg(n)&&n.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),or.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function G$(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:U$(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function d7(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var f7=class extends Wl{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,r){const n=t.queryKey,i=t.queryHash??W_(n,t);let a=this.get(i);return a||(a=new u7({client:e,queryKey:n,queryHash:i,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(a)),a}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){or.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>dA(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>dA(e,r)):t}notify(e){or.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){or.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){or.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},h7=class extends H${#t;#e;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.mutationCache,this.#t=[],this.state=e.state||K$(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})};this.#r=W$({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(i,a)=>{this.#n({type:"failed",failureCount:i,error:a})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const r=this.state.status==="pending",n=!this.#r.canStart();try{if(r)t();else{this.#n({type:"pending",variables:e,isPaused:n}),await this.#e.config.onMutate?.(e,this);const a=await this.options.onMutate?.(e);a!==this.state.context&&this.#n({type:"pending",context:a,variables:e,isPaused:n})}const i=await this.#r.start();return await this.#e.config.onSuccess?.(i,e,this.state.context,this),await this.options.onSuccess?.(i,e,this.state.context),await this.#e.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,e,this.state.context),this.#n({type:"success",data:i}),i}catch(i){try{throw await this.#e.config.onError?.(i,e,this.state.context,this),await this.options.onError?.(i,e,this.state.context),await this.#e.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,e,this.state.context),i}finally{this.#n({type:"error",error:i})}}finally{this.#e.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),or.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#e.notify({mutation:this,type:"updated",action:e})})}};function K$(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var p7=class extends Wl{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#r=0}#t;#e;#r;build(e,t,r){const n=new h7({mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#t.add(e);const t=lf(e);if(typeof t=="string"){const r=this.#e.get(t);r?r.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=lf(e);if(typeof t=="string"){const r=this.#e.get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=lf(e);if(typeof t=="string"){const n=this.#e.get(t)?.find(i=>i.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=lf(e);return typeof t=="string"?this.#e.get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){or.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>fA(t,r))}findAll(e={}){return this.getAll().filter(t=>fA(e,t))}notify(e){or.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return or.batch(()=>Promise.all(e.map(t=>t.continue().catch(Rr))))}};function lf(e){return e.options.scope?.id}function mA(e){return{onFetch:(t,r)=>{const n=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,a=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let s={pages:[],pageParams:[]},l=0;const c=async()=>{let d=!1;const f=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(t.signal.aborted?d=!0:t.signal.addEventListener("abort",()=>{d=!0}),t.signal)})},h=B$(t.options,t.fetchOptions),p=async(v,m,g)=>{if(d)return Promise.reject();if(m==null&&v.pages.length)return Promise.resolve(v);const b=(()=>{const j={client:t.client,queryKey:t.queryKey,pageParam:m,direction:g?"backward":"forward",meta:t.options.meta};return f(j),j})(),x=await h(b),{maxPages:_}=t.options,w=g?i7:n7;return{pages:w(v.pages,x,_),pageParams:w(v.pageParams,m,_)}};if(i&&a.length){const v=i==="backward",m=v?m7:gA,g={pages:a,pageParams:o},y=m(n,g);s=await p(g,y,v)}else{const v=e??a.length;do{const m=l===0?o[0]??n.initialPageParam:gA(n,s);if(l>0&&m==null)break;s=await p(s,m),l++}while(l<v)}return s};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=c}}}function gA(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function m7(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var g7=class{#t;#e;#r;#n;#i;#o;#s;#a;constructor(e={}){this.#t=e.queryCache||new f7,this.#e=e.mutationCache||new p7,this.#r=e.defaultOptions||{},this.#n=new Map,this.#i=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#s=G_.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#a=Sh.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#s?.(),this.#s=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#t.build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Da(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=this.#t.get(n.queryHash)?.state.data,o=t7(t,a);if(o!==void 0)return this.#t.build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return or.batch(()=>this.#t.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){const t=this.#t;or.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#t;return or.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=or.batch(()=>this.#t.findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(Rr).catch(Rr)}invalidateQueries(e,t={}){return or.batch(()=>(this.#t.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=or.batch(()=>this.#t.findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(Rr)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Rr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#t.build(this,t);return r.isStaleByTime(Da(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Rr).catch(Rr)}fetchInfiniteQuery(e){return e.behavior=mA(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Rr).catch(Rr)}ensureInfiniteQueryData(e){return e.behavior=mA(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Sh.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#n.set(Xo(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()],r={};return t.forEach(n=>{Ou(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){this.#i.set(Xo(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#i.values()],r={};return t.forEach(n=>{Ou(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=W_(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===H_&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},v7=class extends Wl{constructor(e,t){super(),this.options=t,this.#t=e,this.#a=null,this.#s=Aw(),this.options.experimental_prefetchInRender||this.#s.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#r=void 0;#n=void 0;#i;#o;#s;#a;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),vA(this.#e,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ow(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ow(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#w(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,r=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof yn(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#e.setOptions(this.options),t._defaulted&&!wh(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const n=this.hasListeners();n&&yA(this.#e,r,this.options,t)&&this.#d(),this.updateResult(),n&&(this.#e!==r||yn(this.options.enabled,this.#e)!==yn(t.enabled,this.#e)||Da(this.options.staleTime,this.#e)!==Da(t.staleTime,this.#e))&&this.#g();const i=this.#v();n&&(this.#e!==r||yn(this.options.enabled,this.#e)!==yn(t.enabled,this.#e)||i!==this.#l)&&this.#y(i)}getOptimisticResult(e){const t=this.#t.getQueryCache().build(this.#t,e),r=this.createResult(t,e);return b7(this,r)&&(this.#n=r,this.#o=this.options,this.#i=this.#e.state),r}getCurrentResult(){return this.#n}trackResult(e,t){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),t?.(n),Reflect.get(r,n))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#t.defaultQueryOptions(e),r=this.#t.getQueryCache().build(this.#t,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(e){this.#S();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Rr)),t}#g(){this.#x();const e=Da(this.options.staleTime,this.#e);if(Yo||this.#n.isStale||!jw(e))return;const r=z$(this.#n.dataUpdatedAt,e)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},r)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#y(e){this.#w(),this.#l=e,!(Yo||yn(this.options.enabled,this.#e)===!1||!jw(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||G_.isFocused())&&this.#d()},this.#l))}#b(){this.#g(),this.#y(this.#v())}#x(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const r=this.#e,n=this.options,i=this.#n,a=this.#i,o=this.#o,l=e!==r?e.state:this.#r,{state:c}=e;let d={...c},f=!1,h;if(t._optimisticResults){const A=this.hasListeners(),T=!A&&vA(e,t),O=A&&yA(e,r,t,n);(T||O)&&(d={...d,...G$(c.data,e.options)}),t._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:p,errorUpdatedAt:v,status:m}=d;h=d.data;let g=!1;if(t.placeholderData!==void 0&&h===void 0&&m==="pending"){let A;i?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(A=i.data,g=!0):A=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,A!==void 0&&(m="success",h=Ew(i?.data,A,t),f=!0)}if(t.select&&h!==void 0&&!g)if(i&&h===a?.data&&t.select===this.#m)h=this.#f;else try{this.#m=t.select,h=t.select(h),h=Ew(i?.data,h,t),this.#f=h,this.#a=null}catch(A){this.#a=A}this.#a&&(p=this.#a,h=this.#f,v=Date.now(),m="error");const y=d.fetchStatus==="fetching",b=m==="pending",x=m==="error",_=b&&y,w=h!==void 0,k={status:m,fetchStatus:d.fetchStatus,isPending:b,isSuccess:m==="success",isError:x,isInitialLoading:_,isLoading:_,data:h,dataUpdatedAt:d.dataUpdatedAt,error:p,errorUpdatedAt:v,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>l.dataUpdateCount||d.errorUpdateCount>l.errorUpdateCount,isFetching:y,isRefetching:y&&!b,isLoadingError:x&&!w,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:x&&w,isStale:K_(e,t),refetch:this.refetch,promise:this.#s,isEnabled:yn(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const A=P=>{k.status==="error"?P.reject(k.error):k.data!==void 0&&P.resolve(k.data)},T=()=>{const P=this.#s=k.promise=Aw();A(P)},O=this.#s;switch(O.status){case"pending":e.queryHash===r.queryHash&&A(O);break;case"fulfilled":(k.status==="error"||k.data!==O.value)&&T();break;case"rejected":(k.status!=="error"||k.error!==O.reason)&&T();break}}return k}updateResult(){const e=this.#n,t=this.createResult(this.#e,this.options);if(this.#i=this.#e.state,this.#o=this.options,this.#i.data!==void 0&&(this.#h=this.#e),wh(t,e))return;this.#n=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,i=typeof n=="function"?n():n;if(i==="all"||!i&&!this.#p.size)return!0;const a=new Set(i??this.#p);return this.options.throwOnError&&a.add("error"),Object.keys(this.#n).some(o=>{const s=o;return this.#n[s]!==e[s]&&a.has(s)})};this.#_({listeners:r()})}#S(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#_(e){or.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#n)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function y7(e,t){return yn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function vA(e,t){return y7(e,t)||e.state.data!==void 0&&Ow(e,t,t.refetchOnMount)}function Ow(e,t,r){if(yn(t.enabled,e)!==!1&&Da(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&K_(e,t)}return!1}function yA(e,t,r,n){return(e!==t||yn(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&K_(e,r)}function K_(e,t){return yn(t.enabled,e)!==!1&&e.isStaleByTime(Da(t.staleTime,e))}function b7(e,t){return!wh(e.getCurrentResult(),t)}var x7=class extends Wl{#t;#e=void 0;#r;#n;constructor(t,r){super(),this.#t=t,this.setOptions(r),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const r=this.options;this.options=this.#t.defaultMutationOptions(t),wh(this.options,r)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&Xo(r.mutationKey)!==Xo(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#i(),this.#o(t)}getCurrentResult(){return this.#e}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#o()}mutate(t,r){return this.#n=r,this.#r?.removeObserver(this),this.#r=this.#t.getMutationCache().build(this.#t,this.options),this.#r.addObserver(this),this.#r.execute(t)}#i(){const t=this.#r?.state??K$();this.#e={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#o(t){or.batch(()=>{if(this.#n&&this.hasListeners()){const r=this.#e.variables,n=this.#e.context;t?.type==="success"?(this.#n.onSuccess?.(t.data,r,n),this.#n.onSettled?.(t.data,null,r,n)):t?.type==="error"&&(this.#n.onError?.(t.error,r,n),this.#n.onSettled?.(void 0,t.error,r,n))}this.listeners.forEach(r=>{r(this.#e)})})}},Y$=S.createContext(void 0),eo=e=>{const t=S.useContext(Y$);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},w7=({client:e,children:t})=>(S.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),u.jsx(Y$.Provider,{value:e,children:t})),X$=S.createContext(!1),S7=()=>S.useContext(X$);X$.Provider;function _7(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var j7=S.createContext(_7()),k7=()=>S.useContext(j7),E7=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},A7=e=>{S.useEffect(()=>{e.clearReset()},[e])},O7=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(i&&e.data===void 0||q$(r,[e.error,n])),C7=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},T7=(e,t)=>e.isLoading&&e.isFetching&&!t,P7=(e,t)=>e?.suspense&&t.isPending,bA=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function N7(e,t,r){const n=S7(),i=k7(),a=eo(),o=a.defaultQueryOptions(e);a.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=n?"isRestoring":"optimistic",C7(o),E7(o,i),A7(i);const s=!a.getQueryCache().get(o.queryHash),[l]=S.useState(()=>new t(a,o)),c=l.getOptimisticResult(o),d=!n&&e.subscribed!==!1;if(S.useSyncExternalStore(S.useCallback(f=>{const h=d?l.subscribe(or.batchCalls(f)):Rr;return l.updateResult(),h},[l,d]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),S.useEffect(()=>{l.setOptions(o)},[o,l]),P7(o,c))throw bA(o,l,i);if(O7({result:c,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;return a.getDefaultOptions().queries?._experimental_afterQuery?.(o,c),o.experimental_prefetchInRender&&!Yo&&T7(c,n)&&(s?bA(o,l,i):a.getQueryCache().get(o.queryHash)?.promise)?.catch(Rr).finally(()=>{l.updateResult()}),o.notifyOnChangeProps?c:l.trackResult(c)}function ji(e,t){return N7(e,v7)}function xn(e,t){const r=eo(),[n]=S.useState(()=>new x7(r,e));S.useEffect(()=>{n.setOptions(e)},[n,e]);const i=S.useSyncExternalStore(S.useCallback(o=>n.subscribe(or.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=S.useCallback((o,s)=>{n.mutate(o,s).catch(Rr)},[n]);if(i.error&&q$(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}const Q$=S.createContext(void 0),R7=({children:e})=>{const[t,r]=S.useState(!1),n=()=>{r(i=>!i)};return u.jsx(Q$.Provider,{value:{isAIEnabled:t,setIsAIEnabled:r,toggleAI:n},children:e})},ym=()=>{const e=S.useContext(Q$);if(e===void 0)throw new Error("useAI must be used within an AIProvider");return e},I7=[{to:"/stats",label:"Statistiche",icon:B5},{to:"/ai-coach",label:"AI Coach",icon:Hi},{to:"/macro-goals",label:"Macro Obiettivi",icon:E_}];function M7(){const{isAIEnabled:e}=ym(),t=I7.filter(r=>!(r.to==="/ai-coach"&&!e));return u.jsx("nav",{className:"flex items-center justify-center gap-1 sm:gap-2",children:t.map(({to:r,label:n,icon:i})=>u.jsxs(c5,{to:r,className:({isActive:a})=>ae("flex items-center gap-1.5 sm:gap-2 px-2.5 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium transition-all","hover:bg-accent",a?"bg-primary text-primary-foreground hover:bg-primary/90":"text-muted-foreground"),children:[u.jsx(i,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden xs:inline sm:inline",children:n})]},r))})}const D7=[{to:"/dashboard",label:"Home",icon:d9},{to:"/stats",label:"Stats",icon:B5},{to:"/macro-goals",label:"Obiettivi",icon:E_}];function $7(){return u.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-[#0a0a0a]/80 backdrop-blur-xl border-t border-white/10 pb-6 pt-2 px-6 lg:hidden",children:u.jsx("div",{className:"flex items-center justify-around max-w-md mx-auto",children:D7.map(({to:e,label:t,icon:r})=>u.jsx(c5,{to:e,className:({isActive:n})=>ae("flex flex-col items-center justify-center gap-1 p-2 rounded-2xl transition-all duration-300 w-16 group active:scale-95",n?"text-primary":"text-muted-foreground hover:text-foreground"),children:({isActive:n})=>u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:ae("relative p-1.5 rounded-xl transition-all duration-300",n?"bg-primary/20":"group-hover:bg-white/5"),children:[u.jsx(r,{className:ae("w-6 h-6")}),n&&u.jsx("span",{className:"absolute inset-0 rounded-xl ring-2 ring-primary/20 animate-pulse-success"})]}),u.jsx("span",{className:"text-[10px] font-medium tracking-wide",children:t})]})},e))})})}function L7(){return u.jsxs("div",{className:"h-dvh lg:min-h-screen bg-background flex flex-col relative w-full overflow-x-hidden selection:bg-primary/20",children:[u.jsx("header",{className:"border-b border-border bg-background/80 backdrop-blur-md sticky top-0 z-50 transition-all duration-300",children:u.jsxs("div",{className:"h-16 flex items-center justify-between px-4 sm:px-8 max-w-[2400px] mx-auto w-full relative",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 via-transparent to-primary/5 pointer-events-none lg:hidden"}),u.jsxs(xr,{to:"/dashboard",className:"flex items-center gap-2 sm:gap-3 group relative z-10 active:scale-95 transition-transform",children:[u.jsxs("div",{className:"relative",children:[u.jsx(s9,{className:"h-6 w-6 sm:h-6 sm:w-6 text-primary animate-pulse"}),u.jsx("div",{className:"absolute inset-0 bg-primary/20 blur-lg rounded-full opacity-50"})]}),u.jsx("span",{className:"font-display font-bold text-lg sm:text-lg tracking-tight group-hover:text-primary transition-colors",children:"Mattioli.OS"})]}),u.jsx("div",{className:"hidden lg:block",children:u.jsx(M7,{})})]})}),u.jsx("main",{className:"flex-1 min-h-0 pb-28 lg:pb-0",children:u.jsx(ZW,{})}),u.jsx($7,{})]})}const Y_=S.createContext({});function X_(e){const t=S.useRef(null);return t.current===null&&(t.current=e()),t.current}const J$=typeof window<"u",Z$=J$?S.useLayoutEffect:S.useEffect,bm=S.createContext(null);function Q_(e,t){e.indexOf(t)===-1&&e.push(t)}function J_(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const ki=(e,t,r)=>r>t?t:r<e?e:r;let Z_=()=>{};const ea={},eL=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function tL(e){return typeof e=="object"&&e!==null}const rL=e=>/^0[^.\s]+$/u.test(e);function ej(e){let t;return()=>(t===void 0&&(t=e()),t)}const On=e=>e,z7=(e,t)=>r=>t(e(r)),Rd=(...e)=>e.reduce(z7),Cu=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class tj{constructor(){this.subscriptions=[]}add(t){return Q_(this.subscriptions,t),()=>J_(this.subscriptions,t)}notify(t,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,r,n);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Yi=e=>e*1e3,En=e=>e/1e3;function nL(e,t){return t?e*(1e3/t):0}const iL=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,F7=1e-7,B7=12;function q7(e,t,r,n,i){let a,o,s=0;do o=t+(r-t)/2,a=iL(o,n,i)-e,a>0?r=o:t=o;while(Math.abs(a)>F7&&++s<B7);return o}function Id(e,t,r,n){if(e===t&&r===n)return On;const i=a=>q7(a,0,1,e,r);return a=>a===0||a===1?a:iL(i(a),t,n)}const aL=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,oL=e=>t=>1-e(1-t),sL=Id(.33,1.53,.69,.99),rj=oL(sL),lL=aL(rj),cL=e=>(e*=2)<1?.5*rj(e):.5*(2-Math.pow(2,-10*(e-1))),nj=e=>1-Math.sin(Math.acos(e)),uL=oL(nj),dL=aL(nj),U7=Id(.42,0,1,1),V7=Id(0,0,.58,1),fL=Id(.42,0,.58,1),W7=e=>Array.isArray(e)&&typeof e[0]!="number",hL=e=>Array.isArray(e)&&typeof e[0]=="number",H7={linear:On,easeIn:U7,easeInOut:fL,easeOut:V7,circIn:nj,circInOut:dL,circOut:uL,backIn:rj,backInOut:lL,backOut:sL,anticipate:cL},G7=e=>typeof e=="string",xA=e=>{if(hL(e)){Z_(e.length===4);const[t,r,n,i]=e;return Id(t,r,n,i)}else if(G7(e))return H7[e];return e},cf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function K7(e,t){let r=new Set,n=new Set,i=!1,a=!1;const o=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function l(d){o.has(d)&&(c.schedule(d),e()),d(s)}const c={schedule:(d,f=!1,h=!1)=>{const v=h&&i?r:n;return f&&o.add(d),v.has(d)||v.add(d),d},cancel:d=>{n.delete(d),o.delete(d)},process:d=>{if(s=d,i){a=!0;return}i=!0,[r,n]=[n,r],r.forEach(l),r.clear(),i=!1,a&&(a=!1,c.process(d))}};return c}const Y7=40;function pL(e,t){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,o=cf.reduce((x,_)=>(x[_]=K7(a),x),{}),{setup:s,read:l,resolveKeyframes:c,preUpdate:d,update:f,preRender:h,render:p,postRender:v}=o,m=()=>{const x=ea.useManualTiming?i.timestamp:performance.now();r=!1,ea.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(x-i.timestamp,Y7),1)),i.timestamp=x,i.isProcessing=!0,s.process(i),l.process(i),c.process(i),d.process(i),f.process(i),h.process(i),p.process(i),v.process(i),i.isProcessing=!1,r&&t&&(n=!1,e(m))},g=()=>{r=!0,n=!0,i.isProcessing||e(m)};return{schedule:cf.reduce((x,_)=>{const w=o[_];return x[_]=(j,k=!1,A=!1)=>(r||g(),w.schedule(j,k,A)),x},{}),cancel:x=>{for(let _=0;_<cf.length;_++)o[cf[_]].cancel(x)},state:i,steps:o}}const{schedule:Tt,cancel:Xa,state:yr,steps:Qg}=pL(typeof requestAnimationFrame<"u"?requestAnimationFrame:On,!0);let th;function X7(){th=void 0}const Mr={now:()=>(th===void 0&&Mr.set(yr.isProcessing||ea.useManualTiming?yr.timestamp:performance.now()),th),set:e=>{th=e,queueMicrotask(X7)}},mL=e=>t=>typeof t=="string"&&t.startsWith(e),gL=mL("--"),Q7=mL("var(--"),ij=e=>Q7(e)?J7.test(e.split("/*")[0].trim()):!1,J7=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function wA(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const Hl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Tu={...Hl,transform:e=>ki(0,1,e)},uf={...Hl,default:1},ru=e=>Math.round(e*1e5)/1e5,aj=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Z7(e){return e==null}const eY=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,oj=(e,t)=>r=>!!(typeof r=="string"&&eY.test(r)&&r.startsWith(e)||t&&!Z7(r)&&Object.prototype.hasOwnProperty.call(r,t)),vL=(e,t,r)=>n=>{if(typeof n!="string")return n;const[i,a,o,s]=n.match(aj);return{[e]:parseFloat(i),[t]:parseFloat(a),[r]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},tY=e=>ki(0,255,e),Jg={...Hl,transform:e=>Math.round(tY(e))},No={test:oj("rgb","red"),parse:vL("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+Jg.transform(e)+", "+Jg.transform(t)+", "+Jg.transform(r)+", "+ru(Tu.transform(n))+")"};function rY(e){let t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const Cw={test:oj("#"),parse:rY,transform:No.transform},Md=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ya=Md("deg"),bi=Md("%"),xe=Md("px"),nY=Md("vh"),iY=Md("vw"),SA={...bi,parse:e=>bi.parse(e)/100,transform:e=>bi.transform(e*100)},Rs={test:oj("hsl","hue"),parse:vL("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+bi.transform(ru(t))+", "+bi.transform(ru(r))+", "+ru(Tu.transform(n))+")"},Yt={test:e=>No.test(e)||Cw.test(e)||Rs.test(e),parse:e=>No.test(e)?No.parse(e):Rs.test(e)?Rs.parse(e):Cw.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?No.transform(e):Rs.transform(e),getAnimatableNone:e=>{const t=Yt.parse(e);return t.alpha=0,Yt.transform(t)}},aY=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function oY(e){return isNaN(e)&&typeof e=="string"&&(e.match(aj)?.length||0)+(e.match(aY)?.length||0)>0}const yL="number",bL="color",sY="var",lY="var(",_A="${}",cY=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Pu(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},i=[];let a=0;const s=t.replace(cY,l=>(Yt.test(l)?(n.color.push(a),i.push(bL),r.push(Yt.parse(l))):l.startsWith(lY)?(n.var.push(a),i.push(sY),r.push(l)):(n.number.push(a),i.push(yL),r.push(parseFloat(l))),++a,_A)).split(_A);return{values:r,split:s,indexes:n,types:i}}function xL(e){return Pu(e).values}function wL(e){const{split:t,types:r}=Pu(e),n=t.length;return i=>{let a="";for(let o=0;o<n;o++)if(a+=t[o],i[o]!==void 0){const s=r[o];s===yL?a+=ru(i[o]):s===bL?a+=Yt.transform(i[o]):a+=i[o]}return a}}const uY=e=>typeof e=="number"?0:Yt.test(e)?Yt.getAnimatableNone(e):e;function dY(e){const t=xL(e);return wL(e)(t.map(uY))}const Qa={test:oY,parse:xL,createTransformer:wL,getAnimatableNone:dY};function Zg(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function fY({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let i=0,a=0,o=0;if(!t)i=a=o=r;else{const s=r<.5?r*(1+t):r+t-r*t,l=2*r-s;i=Zg(l,s,e+1/3),a=Zg(l,s,e),o=Zg(l,s,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}function _h(e,t){return r=>r>0?t:e}const It=(e,t,r)=>e+(t-e)*r,ev=(e,t,r)=>{const n=e*e,i=r*(t*t-n)+n;return i<0?0:Math.sqrt(i)},hY=[Cw,No,Rs],pY=e=>hY.find(t=>t.test(e));function jA(e){const t=pY(e);if(!t)return!1;let r=t.parse(e);return t===Rs&&(r=fY(r)),r}const kA=(e,t)=>{const r=jA(e),n=jA(t);if(!r||!n)return _h(e,t);const i={...r};return a=>(i.red=ev(r.red,n.red,a),i.green=ev(r.green,n.green,a),i.blue=ev(r.blue,n.blue,a),i.alpha=It(r.alpha,n.alpha,a),No.transform(i))},Tw=new Set(["none","hidden"]);function mY(e,t){return Tw.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function gY(e,t){return r=>It(e,t,r)}function sj(e){return typeof e=="number"?gY:typeof e=="string"?ij(e)?_h:Yt.test(e)?kA:bY:Array.isArray(e)?SL:typeof e=="object"?Yt.test(e)?kA:vY:_h}function SL(e,t){const r=[...e],n=r.length,i=e.map((a,o)=>sj(a)(a,t[o]));return a=>{for(let o=0;o<n;o++)r[o]=i[o](a);return r}}function vY(e,t){const r={...e,...t},n={};for(const i in r)e[i]!==void 0&&t[i]!==void 0&&(n[i]=sj(e[i])(e[i],t[i]));return i=>{for(const a in n)r[a]=n[a](i);return r}}function yY(e,t){const r=[],n={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],o=e.indexes[a][n[a]],s=e.values[o]??0;r[i]=s,n[a]++}return r}const bY=(e,t)=>{const r=Qa.createTransformer(t),n=Pu(e),i=Pu(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?Tw.has(e)&&!i.values.length||Tw.has(t)&&!n.values.length?mY(e,t):Rd(SL(yY(n,i),i.values),r):_h(e,t)};function _L(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?It(e,t,r):sj(e)(e,t)}const xY=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>Tt.update(t,r),stop:()=>Xa(t),now:()=>yr.isProcessing?yr.timestamp:Mr.now()}},jL=(e,t,r=10)=>{let n="";const i=Math.max(Math.round(t/r),2);for(let a=0;a<i;a++)n+=Math.round(e(a/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},jh=2e4;function lj(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<jh;)t+=r,n=e.next(t);return t>=jh?1/0:t}function wY(e,t=100,r){const n=r({...e,keyframes:[0,t]}),i=Math.min(lj(n),jh);return{type:"keyframes",ease:a=>n.next(i*a).value/t,duration:En(i)}}const SY=5;function kL(e,t,r){const n=Math.max(t-SY,0);return nL(r-e(n),t-n)}const $t={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},tv=.001;function _Y({duration:e=$t.duration,bounce:t=$t.bounce,velocity:r=$t.velocity,mass:n=$t.mass}){let i,a,o=1-t;o=ki($t.minDamping,$t.maxDamping,o),e=ki($t.minDuration,$t.maxDuration,En(e)),o<1?(i=c=>{const d=c*o,f=d*e,h=d-r,p=Pw(c,o),v=Math.exp(-f);return tv-h/p*v},a=c=>{const f=c*o*e,h=f*r+r,p=Math.pow(o,2)*Math.pow(c,2)*e,v=Math.exp(-f),m=Pw(Math.pow(c,2),o);return(-i(c)+tv>0?-1:1)*((h-p)*v)/m}):(i=c=>{const d=Math.exp(-c*e),f=(c-r)*e+1;return-tv+d*f},a=c=>{const d=Math.exp(-c*e),f=(r-c)*(e*e);return d*f});const s=5/e,l=kY(i,a,s);if(e=Yi(e),isNaN(l))return{stiffness:$t.stiffness,damping:$t.damping,duration:e};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:o*2*Math.sqrt(n*c),duration:e}}}const jY=12;function kY(e,t,r){let n=r;for(let i=1;i<jY;i++)n=n-e(n)/t(n);return n}function Pw(e,t){return e*Math.sqrt(1-t*t)}const EY=["duration","bounce"],AY=["stiffness","damping","mass"];function EA(e,t){return t.some(r=>e[r]!==void 0)}function OY(e){let t={velocity:$t.velocity,stiffness:$t.stiffness,damping:$t.damping,mass:$t.mass,isResolvedFromDuration:!1,...e};if(!EA(e,AY)&&EA(e,EY))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,a=2*ki(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:$t.mass,stiffness:i,damping:a}}else{const r=_Y(e);t={...t,...r,mass:$t.mass},t.isResolvedFromDuration=!0}return t}function kh(e=$t.visualDuration,t=$t.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:i}=r;const a=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],s={done:!1,value:a},{stiffness:l,damping:c,mass:d,duration:f,velocity:h,isResolvedFromDuration:p}=OY({...r,velocity:-En(r.velocity||0)}),v=h||0,m=c/(2*Math.sqrt(l*d)),g=o-a,y=En(Math.sqrt(l/d)),b=Math.abs(g)<5;n||(n=b?$t.restSpeed.granular:$t.restSpeed.default),i||(i=b?$t.restDelta.granular:$t.restDelta.default);let x;if(m<1){const w=Pw(y,m);x=j=>{const k=Math.exp(-m*y*j);return o-k*((v+m*y*g)/w*Math.sin(w*j)+g*Math.cos(w*j))}}else if(m===1)x=w=>o-Math.exp(-y*w)*(g+(v+y*g)*w);else{const w=y*Math.sqrt(m*m-1);x=j=>{const k=Math.exp(-m*y*j),A=Math.min(w*j,300);return o-k*((v+m*y*g)*Math.sinh(A)+w*g*Math.cosh(A))/w}}const _={calculatedDuration:p&&f||null,next:w=>{const j=x(w);if(p)s.done=w>=f;else{let k=w===0?v:0;m<1&&(k=w===0?Yi(v):kL(x,w,j));const A=Math.abs(k)<=n,T=Math.abs(o-j)<=i;s.done=A&&T}return s.value=s.done?o:j,s},toString:()=>{const w=Math.min(lj(_),jh),j=jL(k=>_.next(w*k).value,w,30);return w+"ms "+j},toTransition:()=>{}};return _}kh.applyToOptions=e=>{const t=wY(e,100,kh);return e.ease=t.ease,e.duration=Yi(t.duration),e.type="keyframes",e};function Nw({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:s,max:l,restDelta:c=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},p=A=>s!==void 0&&A<s||l!==void 0&&A>l,v=A=>s===void 0?l:l===void 0||Math.abs(s-A)<Math.abs(l-A)?s:l;let m=r*t;const g=f+m,y=o===void 0?g:o(g);y!==g&&(m=y-f);const b=A=>-m*Math.exp(-A/n),x=A=>y+b(A),_=A=>{const T=b(A),O=x(A);h.done=Math.abs(T)<=c,h.value=h.done?y:O};let w,j;const k=A=>{p(h.value)&&(w=A,j=kh({keyframes:[h.value,v(h.value)],velocity:kL(x,A,h.value),damping:i,stiffness:a,restDelta:c,restSpeed:d}))};return k(0),{calculatedDuration:null,next:A=>{let T=!1;return!j&&w===void 0&&(T=!0,_(A),k(A)),w!==void 0&&A>=w?j.next(A-w):(!T&&_(A),h)}}}function CY(e,t,r){const n=[],i=r||ea.mix||_L,a=e.length-1;for(let o=0;o<a;o++){let s=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||On:t;s=Rd(l,s)}n.push(s)}return n}function TY(e,t,{clamp:r=!0,ease:n,mixer:i}={}){const a=e.length;if(Z_(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=CY(t,n,i),l=s.length,c=d=>{if(o&&d<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=Cu(e[f],e[f+1],d);return s[f](h)};return r?d=>c(ki(e[0],e[a-1],d)):c}function PY(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const i=Cu(0,t,n);e.push(It(r,1,i))}}function NY(e){const t=[0];return PY(t,e.length-1),t}function RY(e,t){return e.map(r=>r*t)}function IY(e,t){return e.map(()=>t||fL).splice(0,e.length-1)}function nu({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const i=W7(n)?n.map(xA):xA(n),a={done:!1,value:t[0]},o=RY(r&&r.length===t.length?r:NY(t),e),s=TY(o,t,{ease:Array.isArray(i)?i:IY(t,i)});return{calculatedDuration:e,next:l=>(a.value=s(l),a.done=l>=e,a)}}const MY=e=>e!==null;function cj(e,{repeat:t,repeatType:r="loop"},n,i=1){const a=e.filter(MY),s=i<0||t&&r!=="loop"&&t%2===1?0:a.length-1;return!s||n===void 0?a[s]:n}const DY={decay:Nw,inertia:Nw,tween:nu,keyframes:nu,spring:kh};function EL(e){typeof e.type=="string"&&(e.type=DY[e.type])}class uj{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const $Y=e=>e/100;class dj extends uj{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==Mr.now()&&this.tick(Mr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;EL(t);const{type:r=nu,repeat:n=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=t;let{keyframes:s}=t;const l=r||nu;l!==nu&&typeof s[0]!="number"&&(this.mixKeyframes=Rd($Y,_L(s[0],s[1])),s=[0,100]);const c=l({...t,keyframes:s});a==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...s].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=lj(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=c}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:i,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:s,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:c=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:p,type:v,onUpdate:m,finalKeyframe:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const y=this.currentTime-c*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?y<0:y>i;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let x=this.currentTime,_=n;if(f){const A=Math.min(this.currentTime,i)/s;let T=Math.floor(A),O=A%1;!O&&A>=1&&(O=1),O===1&&T--,T=Math.min(T,f+1),T%2&&(h==="reverse"?(O=1-O,p&&(O-=p/s)):h==="mirror"&&(_=o)),x=ki(0,1,O)*s}const w=b?{done:!1,value:d[0]}:_.next(x);a&&(w.value=a(w.value));let{done:j}=w;!b&&l!==null&&(j=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return k&&v!==Nw&&(w.value=cj(d,this.options,g,this.speed)),m&&m(w.value),k&&this.finish(),w}then(t,r){return this.finished.then(t,r)}get duration(){return En(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+En(t)}get time(){return En(this.currentTime)}set time(t){t=Yi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Mr.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=En(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=xY,startTime:r}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Mr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function LY(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ro=e=>e*180/Math.PI,Rw=e=>{const t=Ro(Math.atan2(e[1],e[0]));return Iw(t)},zY={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Rw,rotateZ:Rw,skewX:e=>Ro(Math.atan(e[1])),skewY:e=>Ro(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Iw=e=>(e=e%360,e<0&&(e+=360),e),AA=Rw,OA=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),CA=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),FY={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:OA,scaleY:CA,scale:e=>(OA(e)+CA(e))/2,rotateX:e=>Iw(Ro(Math.atan2(e[6],e[5]))),rotateY:e=>Iw(Ro(Math.atan2(-e[2],e[0]))),rotateZ:AA,rotate:AA,skewX:e=>Ro(Math.atan(e[4])),skewY:e=>Ro(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Mw(e){return e.includes("scale")?1:0}function Dw(e,t){if(!e||e==="none")return Mw(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=FY,i=r;else{const s=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=zY,i=s}if(!i)return Mw(t);const a=n[t],o=i[1].split(",").map(qY);return typeof a=="function"?a(o):o[a]}const BY=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return Dw(r,t)};function qY(e){return parseFloat(e.trim())}const Gl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Kl=new Set(Gl),TA=e=>e===Hl||e===xe,UY=new Set(["x","y","z"]),VY=Gl.filter(e=>!UY.has(e));function WY(e){const t=[];return VY.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Ca={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Dw(t,"x"),y:(e,{transform:t})=>Dw(t,"y")};Ca.translateX=Ca.x;Ca.translateY=Ca.y;const Fo=new Set;let $w=!1,Lw=!1,zw=!1;function AL(){if(Lw){const e=Array.from(Fo).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const i=WY(n);i.length&&(r.set(n,i),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([a,o])=>{n.getValue(a)?.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Lw=!1,$w=!1,Fo.forEach(e=>e.complete(zw)),Fo.clear()}function OL(){Fo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Lw=!0)})}function HY(){zw=!0,OL(),AL(),zw=!1}class fj{constructor(t,r,n,i,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Fo.add(this),$w||($w=!0,Tt.read(OL),Tt.resolveKeyframes(AL))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:i}=this;if(t[0]===null){const a=i?.get(),o=t[t.length-1];if(a!==void 0)t[0]=a;else if(n&&r){const s=n.readValue(r,o);s!=null&&(t[0]=s)}t[0]===void 0&&(t[0]=o),i&&a===void 0&&i.set(t[0])}LY(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Fo.delete(this)}cancel(){this.state==="scheduled"&&(Fo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const GY=e=>e.startsWith("--");function KY(e,t,r){GY(t)?e.style.setProperty(t,r):e.style[t]=r}const YY=ej(()=>window.ScrollTimeline!==void 0),XY={};function QY(e,t){const r=ej(e);return()=>XY[t]??r()}const CL=QY(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Vc=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,PA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vc([0,.65,.55,1]),circOut:Vc([.55,0,1,.45]),backIn:Vc([.31,.01,.66,-.59]),backOut:Vc([.33,1.53,.69,.99])};function TL(e,t){if(e)return typeof e=="function"?CL()?jL(e,t):"ease-out":hL(e)?Vc(e):Array.isArray(e)?e.map(r=>TL(r,t)||PA.easeOut):PA[e]}function JY(e,t,r,{delay:n=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:s="easeOut",times:l}={},c=void 0){const d={[t]:r};l&&(d.offset=l);const f=TL(s,i);Array.isArray(f)&&(d.easing=f);const h={delay:n,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),e.animate(d,h)}function PL(e){return typeof e=="function"&&"applyToOptions"in e}function ZY({type:e,...t}){return PL(e)&&CL()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class eX extends uj{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:r,name:n,keyframes:i,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:s,onComplete:l}=t;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=t,Z_(typeof t.type!="string");const c=ZY(t);this.animation=JY(r,n,i,c,a),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const d=cj(i,this.options,s,this.speed);this.updateMotionValue?this.updateMotionValue(d):KY(r,n,d),this.animation.cancel()}l?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return En(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+En(t)}get time(){return En(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Yi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&YY()?(this.animation.timeline=t,On):r(this)}}const NL={anticipate:cL,backInOut:lL,circInOut:dL};function tX(e){return e in NL}function rX(e){typeof e.ease=="string"&&tX(e.ease)&&(e.ease=NL[e.ease])}const rv=10;class nX extends eX{constructor(t){rX(t),EL(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:i,element:a,...o}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const s=new dj({...o,autoplay:!1}),l=Math.max(rv,Mr.now()-this.startTime),c=ki(0,rv,l-rv);r.setWithVelocity(s.sample(Math.max(0,l-c)).value,s.sample(l).value,c),s.stop()}}const NA=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Qa.test(e)||e==="0")&&!e.startsWith("url("));function iX(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function aX(e,t,r,n){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=NA(i,t),s=NA(a,t);return!o||!s?!1:iX(e)||(r==="spring"||PL(r))&&n}function Fw(e){e.duration=0,e.type="keyframes"}const oX=new Set(["opacity","clipPath","filter","transform"]),sX=ej(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function lX(e){const{motionValue:t,name:r,repeatDelay:n,repeatType:i,damping:a,type:o}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return sX()&&r&&oX.has(r)&&(r!=="transform"||!c)&&!l&&!n&&i!=="mirror"&&a!==0&&o!=="inertia"}const cX=40;class uX extends uj{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",keyframes:s,name:l,motionValue:c,element:d,...f}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Mr.now();const h={autoplay:t,delay:r,type:n,repeat:i,repeatDelay:a,repeatType:o,name:l,motionValue:c,element:d,...f},p=d?.KeyframeResolver||fj;this.keyframeResolver=new p(s,(v,m,g)=>this.onKeyframesResolved(v,m,h,!g),l,c,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,r,n,i){this.keyframeResolver=void 0;const{name:a,type:o,velocity:s,delay:l,isHandoff:c,onUpdate:d}=n;this.resolvedAt=Mr.now(),aX(t,a,o,s)||((ea.instantAnimations||!l)&&d?.(cj(t,n,r)),t[0]=t[t.length-1],Fw(n),n.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>cX?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},p=!c&&lX(h)?new nX({...h,element:h.motionValue.owner.current}):new dj(h);p.finished.then(()=>this.notifyFinished()).catch(On),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),HY()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const dX=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function fX(e){const t=dX.exec(e);if(!t)return[,];const[,r,n,i]=t;return[`--${r??n}`,i]}function RL(e,t,r=1){const[n,i]=fX(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const o=a.trim();return eL(o)?parseFloat(o):o}return ij(i)?RL(i,t,r+1):i}function hj(e,t){return e?.[t]??e?.default??e}const hX={type:"spring",stiffness:500,damping:25,restSpeed:10},pX=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),mX={type:"keyframes",duration:.8},gX={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},vX=(e,{keyframes:t})=>t.length>2?mX:Kl.has(e)?e.startsWith("scale")?pX(t[1]):hX:gX;function yX({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:s,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const bX=e=>e!==null;function xX(e,{repeat:t,repeatType:r="loop"},n){const i=e.filter(bX),a=t&&r!=="loop"&&t%2===1?0:i.length-1;return i[a]}function IL(e,t,r,n=0,i=1){const a=Array.from(e).sort((c,d)=>c.sortNodePosition(d)).indexOf(t),o=e.size,s=(o-1)*n;return typeof r=="function"?r(a,o):i===1?a*n:s-a*n}const pj=(e,t,r,n={},i,a)=>o=>{const s=hj(n,e)||{},l=s.delay||n.delay||0;let{elapsed:c=0}=n;c=c-Yi(l);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...s,delay:-c,onUpdate:h=>{t.set(h),s.onUpdate&&s.onUpdate(h)},onComplete:()=>{o(),s.onComplete&&s.onComplete()},name:e,motionValue:t,element:a?void 0:i};yX(s)||Object.assign(d,vX(e,d)),d.duration&&(d.duration=Yi(d.duration)),d.repeatDelay&&(d.repeatDelay=Yi(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(Fw(d),d.delay===0&&(f=!0)),(ea.instantAnimations||ea.skipAnimations)&&(f=!0,Fw(d),d.delay=0),d.allowFlatten=!s.type&&!s.ease,f&&!a&&t.get()!==void 0){const h=xX(d.keyframes,s);if(h!==void 0){Tt.update(()=>{d.onUpdate(h),d.onComplete()});return}}return s.isSync?new dj(d):new uX(d)},ML=new Set(["width","height","top","left","right","bottom",...Gl]),RA=30,wX=e=>!isNaN(parseFloat(e));class SX{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const i=Mr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Mr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=wX(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new tj);const n=this.events[t].add(r);return t==="change"?()=>{n(),Tt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Mr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>RA)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,RA);return nL(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ol(e,t){return new SX(e,t)}function IA(e){const t=[{},{}];return e?.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function mj(e,t,r,n){if(typeof t=="function"){const[i,a]=IA(n);t=t(r!==void 0?r:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=IA(n);t=t(r!==void 0?r:e.custom,i,a)}return t}function Vs(e,t,r){const n=e.getProps();return mj(n,t,r!==void 0?r:n.custom,e)}const Bw=e=>Array.isArray(e);function _X(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,ol(r))}function jX(e){return Bw(e)?e[e.length-1]||0:e}function kX(e,t){const r=Vs(e,t);let{transitionEnd:n={},transition:i={},...a}=r||{};a={...a,...n};for(const o in a){const s=jX(a[o]);_X(e,o,s)}}const kr=e=>!!(e&&e.getVelocity);function EX(e){return!!(kr(e)&&e.add)}function qw(e,t){const r=e.getValue("willChange");if(EX(r))return r.add(t);if(!r&&ea.WillChange){const n=new ea.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function gj(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const AX="framerAppearId",DL="data-"+gj(AX);function $L(e){return e.props[DL]}function OX({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function LL(e,t,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...s}=t;n&&(a=n);const l=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const d in s){const f=e.getValue(d,e.latestValues[d]??null),h=s[d];if(h===void 0||c&&OX(c,d))continue;const p={delay:r,...hj(a||{},d)},v=f.get();if(v!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===v&&!p.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const y=$L(e);if(y){const b=window.MotionHandoffAnimation(y,d,Tt);b!==null&&(p.startTime=b,m=!0)}}qw(e,d),f.start(pj(d,f,h,e.shouldReduceMotion&&ML.has(d)?{type:!1}:p,e,m));const g=f.animation;g&&l.push(g)}return o&&Promise.all(l).then(()=>{Tt.update(()=>{o&&kX(e,o)})}),l}function Uw(e,t,r={}){const n=Vs(e,t,r.type==="exit"?e.presenceContext?.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const a=n?()=>Promise.all(LL(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=i;return CX(e,t,l,c,d,f,r)}:()=>Promise.resolve(),{when:s}=i;if(s){const[l,c]=s==="beforeChildren"?[a,o]:[o,a];return l().then(()=>c())}else return Promise.all([a(),o(r.delay)])}function CX(e,t,r=0,n=0,i=0,a=1,o){const s=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),s.push(Uw(l,t,{...o,delay:r+(typeof n=="function"?0:n)+IL(e.variantChildren,l,n,i,a)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(s)}function TX(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(a=>Uw(e,a,r));n=Promise.all(i)}else if(typeof t=="string")n=Uw(e,t,r);else{const i=typeof t=="function"?Vs(e,t,r.custom):t;n=Promise.all(LL(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const PX={test:e=>e==="auto",parse:e=>e},zL=e=>t=>t.test(e),FL=[Hl,xe,bi,ya,iY,nY,PX],MA=e=>FL.find(zL(e));function NX(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||rL(e):!0}const RX=new Set(["brightness","contrast","saturate","opacity"]);function IX(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(aj)||[];if(!n)return e;const i=r.replace(n,"");let a=RX.has(t)?1:0;return n!==r&&(a*=100),t+"("+a+i+")"}const MX=/\b([a-z-]*)\(.*?\)/gu,Vw={...Qa,getAnimatableNone:e=>{const t=e.match(MX);return t?t.map(IX).join(" "):e}},DA={...Hl,transform:Math.round},DX={rotate:ya,rotateX:ya,rotateY:ya,rotateZ:ya,scale:uf,scaleX:uf,scaleY:uf,scaleZ:uf,skew:ya,skewX:ya,skewY:ya,distance:xe,translateX:xe,translateY:xe,translateZ:xe,x:xe,y:xe,z:xe,perspective:xe,transformPerspective:xe,opacity:Tu,originX:SA,originY:SA,originZ:xe},vj={borderWidth:xe,borderTopWidth:xe,borderRightWidth:xe,borderBottomWidth:xe,borderLeftWidth:xe,borderRadius:xe,radius:xe,borderTopLeftRadius:xe,borderTopRightRadius:xe,borderBottomRightRadius:xe,borderBottomLeftRadius:xe,width:xe,maxWidth:xe,height:xe,maxHeight:xe,top:xe,right:xe,bottom:xe,left:xe,inset:xe,insetBlock:xe,insetBlockStart:xe,insetBlockEnd:xe,insetInline:xe,insetInlineStart:xe,insetInlineEnd:xe,padding:xe,paddingTop:xe,paddingRight:xe,paddingBottom:xe,paddingLeft:xe,paddingBlock:xe,paddingBlockStart:xe,paddingBlockEnd:xe,paddingInline:xe,paddingInlineStart:xe,paddingInlineEnd:xe,margin:xe,marginTop:xe,marginRight:xe,marginBottom:xe,marginLeft:xe,marginBlock:xe,marginBlockStart:xe,marginBlockEnd:xe,marginInline:xe,marginInlineStart:xe,marginInlineEnd:xe,backgroundPositionX:xe,backgroundPositionY:xe,...DX,zIndex:DA,fillOpacity:Tu,strokeOpacity:Tu,numOctaves:DA},$X={...vj,color:Yt,backgroundColor:Yt,outlineColor:Yt,fill:Yt,stroke:Yt,borderColor:Yt,borderTopColor:Yt,borderRightColor:Yt,borderBottomColor:Yt,borderLeftColor:Yt,filter:Vw,WebkitFilter:Vw},BL=e=>$X[e];function qL(e,t){let r=BL(e);return r!==Vw&&(r=Qa),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const LX=new Set(["auto","none","0"]);function zX(e,t,r){let n=0,i;for(;n<e.length&&!i;){const a=e[n];typeof a=="string"&&!LX.has(a)&&Pu(a).values.length&&(i=e[n]),n++}if(i&&r)for(const a of t)e[a]=qL(r,i)}class FX extends fj{constructor(t,r,n,i,a){super(t,r,n,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let f=t[d];if(typeof f=="string"&&(f=f.trim(),ij(f))){const h=RL(f,r.current);h!==void 0&&(t[d]=h),d===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!ML.has(n)||t.length!==2)return;const[i,a]=t,o=MA(i),s=MA(a),l=wA(i),c=wA(a);if(l!==c&&Ca[n]){this.needsMeasurement=!0;return}if(o!==s)if(TA(o)&&TA(s))for(let d=0;d<t.length;d++){const f=t[d];typeof f=="string"&&(t[d]=parseFloat(f))}else Ca[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let i=0;i<t.length;i++)(t[i]===null||NX(t[i]))&&n.push(i);n.length&&zX(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ca[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const i=t.getValue(r);i&&i.jump(this.measuredOrigin,!1);const a=n.length-1,o=n[a];n[a]=Ca[r](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([s,l])=>{t.getValue(s).set(l)}),this.resolveNoneKeyframes()}}function BX(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const i=r?.[e]??n.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const UL=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function VL(e){return tL(e)&&"offsetHeight"in e}const{schedule:yj}=pL(queueMicrotask,!1),Fn={x:!1,y:!1};function WL(){return Fn.x||Fn.y}function qX(e){return e==="x"||e==="y"?Fn[e]?null:(Fn[e]=!0,()=>{Fn[e]=!1}):Fn.x||Fn.y?null:(Fn.x=Fn.y=!0,()=>{Fn.x=Fn.y=!1})}function HL(e,t){const r=BX(e),n=new AbortController,i={passive:!0,...t,signal:n.signal};return[r,i,()=>n.abort()]}function $A(e){return!(e.pointerType==="touch"||WL())}function UX(e,t,r={}){const[n,i,a]=HL(e,r),o=s=>{if(!$A(s))return;const{target:l}=s,c=t(l,s);if(typeof c!="function"||!l)return;const d=f=>{$A(f)&&(c(f),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,i)};return n.forEach(s=>{s.addEventListener("pointerenter",o,i)}),a}const GL=(e,t)=>t?e===t?!0:GL(e,t.parentElement):!1,bj=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,VX=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function KL(e){return VX.has(e.tagName)||e.isContentEditable===!0}const rh=new WeakSet;function LA(e){return t=>{t.key==="Enter"&&e(t)}}function nv(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const WX=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=LA(()=>{if(rh.has(r))return;nv(r,"down");const i=LA(()=>{nv(r,"up")}),a=()=>nv(r,"cancel");r.addEventListener("keyup",i,t),r.addEventListener("blur",a,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function zA(e){return bj(e)&&!WL()}function HX(e,t,r={}){const[n,i,a]=HL(e,r),o=s=>{const l=s.currentTarget;if(!zA(s))return;rh.add(l);const c=t(l,s),d=(p,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),rh.has(l)&&rh.delete(l),zA(p)&&typeof c=="function"&&c(p,{success:v})},f=p=>{d(p,l===window||l===document||r.useGlobalTarget||GL(l,p.target))},h=p=>{d(p,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return n.forEach(s=>{(r.useGlobalTarget?window:s).addEventListener("pointerdown",o,i),VL(s)&&(s.addEventListener("focus",c=>WX(c,i)),!KL(s)&&!s.hasAttribute("tabindex")&&(s.tabIndex=0))}),a}function YL(e){return tL(e)&&"ownerSVGElement"in e}function GX(e){return YL(e)&&e.tagName==="svg"}const KX=[...FL,Yt,Qa],YX=e=>KX.find(zL(e)),FA=()=>({translate:0,scale:1,origin:0,originPoint:0}),Is=()=>({x:FA(),y:FA()}),BA=()=>({min:0,max:0}),tr=()=>({x:BA(),y:BA()}),Ww={current:null},XL={current:!1},XX=typeof window<"u";function QX(){if(XL.current=!0,!!XX)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ww.current=e.matches;e.addEventListener("change",t),t()}else Ww.current=!1}const JX=new WeakMap;function xm(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Nu(e){return typeof e=="string"||Array.isArray(e)}const xj=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],wj=["initial",...xj];function wm(e){return xm(e.animate)||wj.some(t=>Nu(e[t]))}function QL(e){return!!(wm(e)||e.variants)}function ZX(e,t,r){for(const n in t){const i=t[n],a=r[n];if(kr(i))e.addValue(n,i);else if(kr(a))e.addValue(n,ol(i,{owner:e}));else if(a!==i)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(n);e.addValue(n,ol(o!==void 0?o:i,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const qA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Eh={};function JL(e){Eh=e}function eQ(){return Eh}class tQ{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=fj,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Mr.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Tt.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.blockInitialAnimation=!!a,this.isControllingVariants=wm(r),this.isVariantNode=QL(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const p=f[h];l[h]!==void 0&&kr(p)&&p.set(l[h])}}mount(t){this.current=t,JX.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(XL.current||QX(),this.shouldReduceMotion=Ww.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Xa(this.notifyUpdate),Xa(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Kl.has(t);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Tt.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;typeof window<"u"&&window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{i(),a&&a(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Eh){const r=Eh[t];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):tr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<qA.length;n++){const i=qA[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=t[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=ZX(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=ol(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(eL(n)||rL(n))?n=parseFloat(n):!YX(n)&&Qa.test(r)&&(n=qL(t,r)),this.setBaseTarget(t,kr(n)?n.get():n)),kr(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const a=mj(this.props,r,this.presenceContext?.custom);a&&(n=a[t])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!kr(i)?i:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new tj),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){yj.render(this.render)}}class to{constructor(t){this.isMounted=!1,this.node=t}update(){}}class ZL extends tQ{constructor(){super(...arguments),this.KeyframeResolver=FX}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){const n=t.style;return n?n[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;kr(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function e3({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function rQ({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function nQ(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function iv(e){return e===void 0||e===1}function Hw({scale:e,scaleX:t,scaleY:r}){return!iv(e)||!iv(t)||!iv(r)}function xo(e){return Hw(e)||t3(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function t3(e){return UA(e.x)||UA(e.y)}function UA(e){return e&&e!=="0%"}function Ah(e,t,r){const n=e-r,i=t*n;return r+i}function VA(e,t,r,n,i){return i!==void 0&&(e=Ah(e,i,n)),Ah(e,r,n)+t}function Gw(e,t=0,r=1,n,i){e.min=VA(e.min,t,r,n,i),e.max=VA(e.max,t,r,n,i)}function r3(e,{x:t,y:r}){Gw(e.x,t.translate,t.scale,t.originPoint),Gw(e.y,r.translate,r.scale,r.originPoint)}const WA=.999999999999,HA=1.0000000000001;function iQ(e,t,r,n=!1){const i=r.length;if(!i)return;t.x=t.y=1;let a,o;for(let s=0;s<i;s++){a=r[s],o=a.projectionDelta;const{visualElement:l}=a.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ds(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,r3(e,o)),n&&xo(a.latestValues)&&Ds(e,a.latestValues))}t.x<HA&&t.x>WA&&(t.x=1),t.y<HA&&t.y>WA&&(t.y=1)}function Ms(e,t){e.min=e.min+t,e.max=e.max+t}function GA(e,t,r,n,i=.5){const a=It(e.min,e.max,i);Gw(e,t,r,a,n)}function Ds(e,t){GA(e.x,t.x,t.scaleX,t.scale,t.originX),GA(e.y,t.y,t.scaleY,t.scale,t.originY)}function n3(e,t){return e3(nQ(e.getBoundingClientRect(),t))}function aQ(e,t,r){const n=n3(e,r),{scroll:i}=t;return i&&(Ms(n.x,i.offset.x),Ms(n.y,i.offset.y)),n}const oQ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},sQ=Gl.length;function lQ(e,t,r){let n="",i=!0;for(let a=0;a<sQ;a++){const o=Gl[a],s=e[o];if(s===void 0)continue;let l=!0;if(typeof s=="number"?l=s===(o.startsWith("scale")?1:0):l=parseFloat(s)===0,!l||r){const c=UL(s,vj[o]);if(!l){i=!1;const d=oQ[o]||o;n+=`${d}(${c}) `}r&&(t[o]=c)}}return n=n.trim(),r?n=r(t,i?"":n):i&&(n="none"),n}function Sj(e,t,r){const{style:n,vars:i,transformOrigin:a}=e;let o=!1,s=!1;for(const l in t){const c=t[l];if(Kl.has(l)){o=!0;continue}else if(gL(l)){i[l]=c;continue}else{const d=UL(c,vj[l]);l.startsWith("origin")?(s=!0,a[l]=d):n[l]=d}}if(t.transform||(o||r?n.transform=lQ(t,e.transform,r):n.transform&&(n.transform="none")),s){const{originX:l="50%",originY:c="50%",originZ:d=0}=a;n.transformOrigin=`${l} ${c} ${d}`}}function i3(e,{style:t,vars:r},n,i){const a=e.style;let o;for(o in t)a[o]=t[o];i?.applyProjectionStyles(a,n);for(o in r)a.setProperty(o,r[o])}function KA(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const jc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(xe.test(e))e=parseFloat(e);else return e;const r=KA(e,t.target.x),n=KA(e,t.target.y);return`${r}% ${n}%`}},cQ={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,i=Qa.parse(e);if(i.length>5)return n;const a=Qa.createTransformer(e),o=typeof i[0]!="number"?1:0,s=r.x.scale*t.x,l=r.y.scale*t.y;i[0+o]/=s,i[1+o]/=l;const c=It(s,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),a(i)}},Kw={borderRadius:{...jc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:jc,borderTopRightRadius:jc,borderBottomLeftRadius:jc,borderBottomRightRadius:jc,boxShadow:cQ};function a3(e,{layout:t,layoutId:r}){return Kl.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Kw[e]||e==="opacity")}function _j(e,t,r){const n=e.style,i=t?.style,a={};if(!n)return a;for(const o in n)(kr(n[o])||i&&kr(i[o])||a3(o,e)||r?.getValue(o)?.liveStyle!==void 0)&&(a[o]=n[o]);return a}function uQ(e){return window.getComputedStyle(e)}class dQ extends ZL{constructor(){super(...arguments),this.type="html",this.renderInstance=i3}readValueFromInstance(t,r){if(Kl.has(r))return this.projection?.isProjecting?Mw(r):BY(t,r);{const n=uQ(t),i=(gL(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return n3(t,r)}build(t,r,n){Sj(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return _j(t,r,n)}}const fQ={offset:"stroke-dashoffset",array:"stroke-dasharray"},hQ={offset:"strokeDashoffset",array:"strokeDasharray"};function pQ(e,t,r=1,n=0,i=!0){e.pathLength=1;const a=i?fQ:hQ;e[a.offset]=xe.transform(-n);const o=xe.transform(t),s=xe.transform(r);e[a.array]=`${o} ${s}`}const mQ=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function o3(e,{attrX:t,attrY:r,attrScale:n,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...s},l,c,d){if(Sj(e,s,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=d?.transformBox??"fill-box",delete f.transformBox);for(const p of mQ)f[p]!==void 0&&(h[p]=f[p],delete f[p]);t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),i!==void 0&&pQ(f,i,a,o,!1)}const s3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),l3=e=>typeof e=="string"&&e.toLowerCase()==="svg";function gQ(e,t,r,n){i3(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(s3.has(i)?i:gj(i),t.attrs[i])}function c3(e,t,r){const n=_j(e,t,r);for(const i in e)if(kr(e[i])||kr(t[i])){const a=Gl.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[a]=e[i]}return n}class vQ extends ZL{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=tr}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Kl.has(r)){const n=BL(r);return n&&n.default||0}return r=s3.has(r)?r:gj(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return c3(t,r,n)}build(t,r,n){o3(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,i){gQ(t,r,n,i)}mount(t){this.isSVGTag=l3(t.tagName),super.mount(t)}}const yQ=wj.length;function u3(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?u3(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<yQ;r++){const n=wj[r],i=e.props[n];(Nu(i)||i===!1)&&(t[n]=i)}return t}function d3(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const bQ=[...xj].reverse(),xQ=xj.length;function wQ(e){return t=>Promise.all(t.map(({animation:r,options:n})=>TX(e,r,n)))}function SQ(e){let t=wQ(e),r=YA(),n=!0;const i=l=>(c,d)=>{const f=Vs(e,d,l==="exit"?e.presenceContext?.custom:void 0);if(f){const{transition:h,transitionEnd:p,...v}=f;c={...c,...v,...p}}return c};function a(l){t=l(e)}function o(l){const{props:c}=e,d=u3(e.parent)||{},f=[],h=new Set;let p={},v=1/0;for(let g=0;g<xQ;g++){const y=bQ[g],b=r[y],x=c[y]!==void 0?c[y]:d[y],_=Nu(x),w=y===l?b.isActive:null;w===!1&&(v=g);let j=x===d[y]&&x!==c[y]&&_;if(j&&n&&e.manuallyAnimateOnMount&&(j=!1),b.protectedKeys={...p},!b.isActive&&w===null||!x&&!b.prevProp||xm(x)||typeof x=="boolean")continue;const k=_Q(b.prevProp,x);let A=k||y===l&&b.isActive&&!j&&_||g>v&&_,T=!1;const O=Array.isArray(x)?x:[x];let P=O.reduce(i(y),{});w===!1&&(P={});const{prevResolvedValues:N={}}=b,M={...N,...P},E=z=>{A=!0,h.has(z)&&(T=!0,h.delete(z)),b.needsAnimating[z]=!0;const q=e.getValue(z);q&&(q.liveStyle=!1)};for(const z in M){const q=P[z],L=N[z];if(p.hasOwnProperty(z))continue;let D=!1;Bw(q)&&Bw(L)?D=!d3(q,L):D=q!==L,D?q!=null?E(z):h.add(z):q!==void 0&&h.has(z)?E(z):b.protectedKeys[z]=!0}b.prevProp=x,b.prevResolvedValues=P,b.isActive&&(p={...p,...P}),n&&e.blockInitialAnimation&&(A=!1);const R=j&&k;A&&(!R||T)&&f.push(...O.map(z=>{const q={type:y};if(typeof z=="string"&&n&&!R&&e.manuallyAnimateOnMount&&e.parent){const{parent:L}=e,D=Vs(L,z);if(L.enteringChildren&&D){const{delayChildren:W}=D.transition||{};q.delay=IL(L.enteringChildren,e,W)}}return{animation:z,options:q}}))}if(h.size){const g={};if(typeof c.initial!="boolean"){const y=Vs(e,Array.isArray(c.initial)?c.initial[0]:c.initial);y&&y.transition&&(g.transition=y.transition)}h.forEach(y=>{const b=e.getBaseTarget(y),x=e.getValue(y);x&&(x.liveStyle=!0),g[y]=b??null}),f.push({animation:g})}let m=!!f.length;return n&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(m=!1),n=!1,m?t(f):Promise.resolve()}function s(l,c){if(r[l].isActive===c)return Promise.resolve();e.variantChildren?.forEach(f=>f.animationState?.setActive(l,c)),r[l].isActive=c;const d=o(l);for(const f in r)r[f].protectedKeys={};return d}return{animateChanges:o,setActive:s,setAnimateFunction:a,getState:()=>r,reset:()=>{r=YA()}}}function _Q(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!d3(t,e):!1}function fo(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function YA(){return{animate:fo(!0),whileInView:fo(),whileHover:fo(),whileTap:fo(),whileDrag:fo(),whileFocus:fo(),exit:fo()}}const f3=1e-4,jQ=1-f3,kQ=1+f3,h3=.01,EQ=0-h3,AQ=0+h3;function Dr(e){return e.max-e.min}function OQ(e,t,r){return Math.abs(e-t)<=r}function XA(e,t,r,n=.5){e.origin=n,e.originPoint=It(t.min,t.max,e.origin),e.scale=Dr(r)/Dr(t),e.translate=It(r.min,r.max,e.origin)-e.originPoint,(e.scale>=jQ&&e.scale<=kQ||isNaN(e.scale))&&(e.scale=1),(e.translate>=EQ&&e.translate<=AQ||isNaN(e.translate))&&(e.translate=0)}function iu(e,t,r,n){XA(e.x,t.x,r.x,n?n.originX:void 0),XA(e.y,t.y,r.y,n?n.originY:void 0)}function QA(e,t,r){e.min=r.min+t.min,e.max=e.min+Dr(t)}function CQ(e,t,r){QA(e.x,t.x,r.x),QA(e.y,t.y,r.y)}function JA(e,t,r){e.min=t.min-r.min,e.max=e.min+Dr(t)}function Oh(e,t,r){JA(e.x,t.x,r.x),JA(e.y,t.y,r.y)}function ZA(e,t,r,n,i){return e-=t,e=Ah(e,1/r,n),i!==void 0&&(e=Ah(e,1/i,n)),e}function TQ(e,t=0,r=1,n=.5,i,a=e,o=e){if(bi.test(t)&&(t=parseFloat(t),t=It(o.min,o.max,t/100)-o.min),typeof t!="number")return;let s=It(a.min,a.max,n);e===a&&(s-=t),e.min=ZA(e.min,t,r,s,i),e.max=ZA(e.max,t,r,s,i)}function eO(e,t,[r,n,i],a,o){TQ(e,t[r],t[n],t[i],t.scale,a,o)}const PQ=["x","scaleX","originX"],NQ=["y","scaleY","originY"];function tO(e,t,r,n){eO(e.x,t,PQ,r?r.x:void 0,n?n.x:void 0),eO(e.y,t,NQ,r?r.y:void 0,n?n.y:void 0)}function rO(e,t){e.min=t.min,e.max=t.max}function $n(e,t){rO(e.x,t.x),rO(e.y,t.y)}function nO(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function iO(e){return e.translate===0&&e.scale===1}function p3(e){return iO(e.x)&&iO(e.y)}function aO(e,t){return e.min===t.min&&e.max===t.max}function RQ(e,t){return aO(e.x,t.x)&&aO(e.y,t.y)}function oO(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function m3(e,t){return oO(e.x,t.x)&&oO(e.y,t.y)}function sO(e){return Dr(e.x)/Dr(e.y)}function lO(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function mn(e){return[e("x"),e("y")]}function IQ(e,t,r){let n="";const i=e.x.translate/t.x,a=e.y.translate/t.y,o=r?.z||0;if((i||a||o)&&(n=`translate3d(${i}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:c,rotate:d,rotateX:f,rotateY:h,skewX:p,skewY:v}=r;c&&(n=`perspective(${c}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),p&&(n+=`skewX(${p}deg) `),v&&(n+=`skewY(${v}deg) `)}const s=e.x.scale*t.x,l=e.y.scale*t.y;return(s!==1||l!==1)&&(n+=`scale(${s}, ${l})`),n||"none"}const g3=["TopLeft","TopRight","BottomLeft","BottomRight"],MQ=g3.length,cO=e=>typeof e=="string"?parseFloat(e):e,uO=e=>typeof e=="number"||xe.test(e);function DQ(e,t,r,n,i,a){i?(e.opacity=It(0,r.opacity??1,$Q(n)),e.opacityExit=It(t.opacity??1,0,LQ(n))):a&&(e.opacity=It(t.opacity??1,r.opacity??1,n));for(let o=0;o<MQ;o++){const s=`border${g3[o]}Radius`;let l=dO(t,s),c=dO(r,s);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||uO(l)===uO(c)?(e[s]=Math.max(It(cO(l),cO(c),n),0),(bi.test(c)||bi.test(l))&&(e[s]+="%")):e[s]=c}(t.rotate||r.rotate)&&(e.rotate=It(t.rotate||0,r.rotate||0,n))}function dO(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const $Q=v3(0,.5,uL),LQ=v3(.5,.95,On);function v3(e,t,r){return n=>n<e?0:n>t?1:r(Cu(e,t,n))}function zQ(e,t){const r=Mr.now(),n=({timestamp:i})=>{const a=i-r;a>=t&&(Xa(n),e(a-t))};return Tt.setup(n,!0),()=>Xa(n)}function Ru(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function nh(e){return kr(e)?e.get():e}function FQ(e,t,r){const n=kr(e)?e:ol(e);return n.start(pj("",n,t,r)),n.animation}const BQ=(e,t)=>e.depth-t.depth;class qQ{constructor(){this.children=[],this.isDirty=!1}add(t){Q_(this.children,t),this.isDirty=!0}remove(t){J_(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(BQ),this.isDirty=!1,this.children.forEach(t)}}class UQ{constructor(){this.members=[]}add(t){Q_(this.members,t),t.scheduleRender()}remove(t){if(J_(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(i=>t===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const ih={hasAnimatedSinceResize:!0,hasEverUpdated:!1},av=["","X","Y","Z"],VQ=1e3;let WQ=0;function ov(e,t,r,n){const{latestValues:i}=t;i[e]&&(r[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function y3(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=$L(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Tt,!(i||a))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&y3(n)}function b3({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},s=t?.()){this.id=WQ++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(KQ),this.nodes.forEach(JQ),this.nodes.forEach(ZQ),this.nodes.forEach(YQ)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new qQ)}addEventListener(o,s){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new tj),this.eventHandlers.get(o).add(s)}notifyListeners(o,...s){const l=this.eventHandlers.get(o);l&&l.notify(...s)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=YL(o)&&!GX(o),this.instance=o;const{layoutId:s,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||s)&&(this.isLayoutDirty=!0),e){let d,f=0;const h=()=>this.root.updateBlockedByResize=!1;Tt.read(()=>{f=window.innerWidth}),e(o,()=>{const p=window.innerWidth;p!==f&&(f=p,this.root.updateBlockedByResize=!0,d&&d(),d=zQ(h,250),ih.hasAnimatedSinceResize&&(ih.hasAnimatedSinceResize=!1,this.nodes.forEach(pO)))})}s&&this.root.registerSharedNode(s,this),this.options.animate!==!1&&c&&(s||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||c.getDefaultTransition()||iJ,{onLayoutAnimationStart:m,onLayoutAnimationComplete:g}=c.getProps(),y=!this.targetLayout||!m3(this.targetLayout,p),b=!f&&h;if(this.options.layoutRoot||this.resumeFrom||b||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const x={...hj(v,"layout"),onPlay:m,onComplete:g};(c.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x),this.setAnimationOrigin(d,b)}else f||pO(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Xa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(eJ),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&y3(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:s,layout:l}=this.options;if(s===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(fO);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(hO);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(QQ),this.nodes.forEach(HQ),this.nodes.forEach(GQ)):this.nodes.forEach(hO),this.clearAllSnapshots();const s=Mr.now();yr.delta=ki(0,1e3/60,s-yr.timestamp),yr.timestamp=s,yr.isProcessing=!0,Qg.update.process(yr),Qg.preRender.process(yr),Qg.render.process(yr),yr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,yj.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(XQ),this.sharedNodes.forEach(tJ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Tt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Tt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Dr(this.snapshot.measuredBox.x)&&!Dr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=tr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let s=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(s=!1),s&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,s=this.projectionDelta&&!p3(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&this.instance&&(s||xo(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const s=this.measurePageBox();let l=this.removeElementScroll(s);return o&&(l=this.removeTransform(l)),aJ(l),{animationId:this.root.animationId,measuredBox:s,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return tr();const s=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(oJ))){const{scroll:c}=this.root;c&&(Ms(s.x,c.offset.x),Ms(s.y,c.offset.y))}return s}removeElementScroll(o){const s=tr();if($n(s,o),this.scroll?.wasRoot)return s;for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:f}=c;c!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&$n(s,o),Ms(s.x,d.offset.x),Ms(s.y,d.offset.y))}return s}applyTransform(o,s=!1){const l=tr();$n(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!s&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ds(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),xo(d.latestValues)&&Ds(l,d.latestValues)}return xo(this.latestValues)&&Ds(l,this.latestValues),l}removeTransform(o){const s=tr();$n(s,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!xo(c.latestValues))continue;Hw(c.latestValues)&&c.updateSnapshot();const d=tr(),f=c.measurePageBox();$n(d,f),tO(s,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return xo(this.latestValues)&&tO(s,this.latestValues),s}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==s;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!this.layout||!(d||f))return;this.resolvedRelativeTargetAt=yr.timestamp;const h=this.getClosestProjectingParent();h&&this.linkedParentVersion!==h.layoutVersion&&!h.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(h&&h.layout?this.createRelativeTarget(h,this.layout.layoutBox,h.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=tr(),this.targetWithTransforms=tr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),CQ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$n(this.target,this.layout.layoutBox),r3(this.target,this.targetDelta)):$n(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?this.createRelativeTarget(h,this.target,h.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Hw(this.parent.latestValues)||t3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,s,l){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tr(),this.relativeTargetOrigin=tr(),Oh(this.relativeTargetOrigin,s,l),$n(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const o=this.getLead(),s=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(l=!1),s&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===yr.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;$n(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;iQ(this.layoutCorrected,this.treeScale,this.path,s),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=tr());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(nO(this.prevProjectionDelta.x,this.projectionDelta.x),nO(this.prevProjectionDelta.y,this.projectionDelta.y)),iu(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!lO(this.projectionDelta.x,this.prevProjectionDelta.x)||!lO(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const s=this.getStack();s&&s.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Is(),this.projectionDelta=Is(),this.projectionDeltaWithTransform=Is()}setAnimationOrigin(o,s=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=Is();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;const h=tr(),p=l?l.source:void 0,v=this.layout?this.layout.source:void 0,m=p!==v,g=this.getStack(),y=!g||g.members.length<=1,b=!!(m&&!y&&this.options.crossfade===!0&&!this.path.some(nJ));this.animationProgress=0;let x;this.mixTargetDelta=_=>{const w=_/1e3;mO(f.x,o.x,w),mO(f.y,o.y,w),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Oh(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),rJ(this.relativeTarget,this.relativeTargetOrigin,h,w),x&&RQ(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=tr()),$n(x,this.relativeTarget)),m&&(this.animationValues=d,DQ(d,c,this.latestValues,w,b,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Xa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Tt.update(()=>{ih.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ol(0)),this.currentAnimation=FQ(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:s=>{this.mixTargetDelta(s),o.onUpdate&&o.onUpdate(s)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(VQ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:s,target:l,layout:c,latestValues:d}=o;if(!(!s||!l||!c)){if(this!==o&&this.layout&&c&&x3(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||tr();const f=Dr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const h=Dr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}$n(s,l),Ds(s,d),iu(this.projectionDeltaWithTransform,this.layoutCorrected,s,d)}}registerSharedNode(o,s){this.sharedNodes.has(o)||this.sharedNodes.set(o,new UQ),this.sharedNodes.get(o).add(s);const c=s.options.initialPromotionConfig;s.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(s):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:s,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let s=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(s=!0),!s)return;const c={};l.z&&ov("z",o,c,this.animationValues);for(let d=0;d<av.length;d++)ov(`rotate${av[d]}`,o,c,this.animationValues),ov(`skew${av[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}applyProjectionStyles(o,s){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=nh(s?.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=nh(s?.pointerEvents)||""),this.hasProjected&&!xo(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=c.animationValues||c.latestValues;this.applyTransformsToTarget();let f=IQ(this.projectionDeltaWithTransform,this.treeScale,d);l&&(f=l(d,f)),o.transform=f;const{x:h,y:p}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,c.animationValues?o.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const v in Kw){if(d[v]===void 0)continue;const{correct:m,applyTo:g,isCSSVariable:y}=Kw[v],b=f==="none"?d[v]:m(d[v],c);if(g){const x=g.length;for(let _=0;_<x;_++)o[g[_]]=b}else y?this.options.visualElement.renderState.vars[v]=b:o[v]=b}this.options.layoutId&&(o.pointerEvents=c===this?nh(s?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(fO),this.root.sharedNodes.clear()}}}function HQ(e){e.updateLayout()}function GQ(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=e.layout,{animationType:i}=e.options,a=t.source!==e.layout.source;i==="size"?mn(d=>{const f=a?t.measuredBox[d]:t.layoutBox[d],h=Dr(f);f.min=r[d].min,f.max=f.min+h}):x3(i,t.layoutBox,r)&&mn(d=>{const f=a?t.measuredBox[d]:t.layoutBox[d],h=Dr(r[d]);f.max=f.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+h)});const o=Is();iu(o,r,t.layoutBox);const s=Is();a?iu(s,e.applyTransform(n,!0),t.measuredBox):iu(s,r,t.layoutBox);const l=!p3(o);let c=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:h}=d;if(f&&h){const p=tr();Oh(p,t.layoutBox,f.layoutBox);const v=tr();Oh(v,r,h.layoutBox),m3(p,v)||(c=!0),d.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=p,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:s,layoutDelta:o,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function KQ(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function YQ(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function XQ(e){e.clearSnapshot()}function fO(e){e.clearMeasurements()}function hO(e){e.isLayoutDirty=!1}function QQ(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function pO(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function JQ(e){e.resolveTargetDelta()}function ZQ(e){e.calcProjection()}function eJ(e){e.resetSkewAndRotation()}function tJ(e){e.removeLeadSnapshot()}function mO(e,t,r){e.translate=It(t.translate,0,r),e.scale=It(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function gO(e,t,r,n){e.min=It(t.min,r.min,n),e.max=It(t.max,r.max,n)}function rJ(e,t,r,n){gO(e.x,t.x,r.x,n),gO(e.y,t.y,r.y,n)}function nJ(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const iJ={duration:.45,ease:[.4,0,.1,1]},vO=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),yO=vO("applewebkit/")&&!vO("chrome/")?Math.round:On;function bO(e){e.min=yO(e.min),e.max=yO(e.max)}function aJ(e){bO(e.x),bO(e.y)}function x3(e,t,r){return e==="position"||e==="preserve-aspect"&&!OQ(sO(t),sO(r),.2)}function oJ(e){return e!==e.root&&e.scroll?.wasRoot}const sJ=b3({attachResizeListener:(e,t)=>Ru(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),sv={current:void 0},w3=b3({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!sv.current){const e=new sJ({});e.mount(window),e.setOptions({layoutScroll:!0}),sv.current=e}return sv.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),jj=S.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function xO(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function lJ(...e){return t=>{let r=!1;const n=e.map(i=>{const a=xO(i,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():xO(e[i],null)}}}}function cJ(...e){return S.useCallback(lJ(...e),e)}class uJ extends S.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,i=VL(n)&&n.offsetWidth||0,a=this.props.sizeRef.current;a.height=r.offsetHeight||0,a.width=r.offsetWidth||0,a.top=r.offsetTop,a.left=r.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function dJ({children:e,isPresent:t,anchorX:r,root:n}){const i=S.useId(),a=S.useRef(null),o=S.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:s}=S.useContext(jj),l=e.props?.ref??e?.ref,c=cJ(a,l);return S.useInsertionEffect(()=>{const{width:d,height:f,top:h,left:p,right:v}=o.current;if(t||!a.current||!d||!f)return;const m=r==="left"?`left: ${p}`:`right: ${v}`;a.current.dataset.motionPopId=i;const g=document.createElement("style");s&&(g.nonce=s);const y=n??document.head;return y.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${f}px !important;
            ${m}px !important;
            top: ${h}px !important;
          }
        `),()=>{y.contains(g)&&y.removeChild(g)}},[t]),u.jsx(uJ,{isPresent:t,childRef:a,sizeRef:o,children:S.cloneElement(e,{ref:c})})}const fJ=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:a,mode:o,anchorX:s,root:l})=>{const c=X_(hJ),d=S.useId();let f=!0,h=S.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:r,custom:i,onExitComplete:p=>{c.set(p,!0);for(const v of c.values())if(!v)return;n&&n()},register:p=>(c.set(p,!1),()=>c.delete(p))}),[r,c,n]);return a&&f&&(h={...h}),S.useMemo(()=>{c.forEach((p,v)=>c.set(v,!1))},[r]),S.useEffect(()=>{!r&&!c.size&&n&&n()},[r]),o==="popLayout"&&(e=u.jsx(dJ,{isPresent:r,anchorX:s,root:l,children:e})),u.jsx(bm.Provider,{value:h,children:e})};function hJ(){return new Map}function S3(e=!0){const t=S.useContext(bm);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=t,a=S.useId();S.useEffect(()=>{if(e)return i(a)},[e]);const o=S.useCallback(()=>e&&n&&n(a),[a,n,e]);return!r&&n?[!1,o]:[!0]}const df=e=>e.key||"";function wO(e){const t=[];return S.Children.forEach(e,r=>{S.isValidElement(r)&&t.push(r)}),t}const _3=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1,anchorX:s="left",root:l})=>{const[c,d]=S3(o),f=S.useMemo(()=>wO(e),[e]),h=o&&!c?[]:f.map(df),p=S.useRef(!0),v=S.useRef(f),m=X_(()=>new Map),g=S.useRef(new Set),[y,b]=S.useState(f),[x,_]=S.useState(f);Z$(()=>{p.current=!1,v.current=f;for(let k=0;k<x.length;k++){const A=df(x[k]);h.includes(A)?(m.delete(A),g.current.delete(A)):m.get(A)!==!0&&m.set(A,!1)}},[x,h.length,h.join("-")]);const w=[];if(f!==y){let k=[...f];for(let A=0;A<x.length;A++){const T=x[A],O=df(T);h.includes(O)||(k.splice(A,0,T),w.push(T))}return a==="wait"&&w.length&&(k=w),_(wO(k)),b(f),null}const{forceRender:j}=S.useContext(Y_);return u.jsx(u.Fragment,{children:x.map(k=>{const A=df(k),T=o&&!c?!1:f===x||h.includes(A),O=()=>{if(g.current.has(A))return;if(g.current.add(A),m.has(A))m.set(A,!0);else return;let P=!0;m.forEach(N=>{N||(P=!1)}),P&&(j?.(),_(v.current),o&&d?.(),n&&n())};return u.jsx(fJ,{isPresent:T,initial:!p.current||r?void 0:!1,custom:t,presenceAffectsLayout:i,mode:a,root:l,onExitComplete:T?void 0:O,anchorX:s,children:k},A)})})},j3=S.createContext({strict:!1}),SO={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let _O=!1;function pJ(){if(_O)return;const e={};for(const t in SO)e[t]={isEnabled:r=>SO[t].some(n=>!!r[n])};JL(e),_O=!0}function k3(){return pJ(),eQ()}function mJ(e){const t=k3();for(const r in e)t[r]={...t[r],...e[r]};JL(t)}const gJ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ch(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||gJ.has(e)}let E3=e=>!Ch(e);function vJ(e){typeof e=="function"&&(E3=t=>t.startsWith("on")?!Ch(t):e(t))}try{vJ(require("@emotion/is-prop-valid").default)}catch{}function yJ(e,t,r){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(E3(i)||r===!0&&Ch(i)||!t&&!Ch(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}const Sm=S.createContext({});function bJ(e,t){if(wm(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Nu(r)?r:void 0,animate:Nu(n)?n:void 0}}return e.inherit!==!1?t:{}}function xJ(e){const{initial:t,animate:r}=bJ(e,S.useContext(Sm));return S.useMemo(()=>({initial:t,animate:r}),[jO(t),jO(r)])}function jO(e){return Array.isArray(e)?e.join(" "):e}const kj=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function A3(e,t,r){for(const n in t)!kr(t[n])&&!a3(n,r)&&(e[n]=t[n])}function wJ({transformTemplate:e},t){return S.useMemo(()=>{const r=kj();return Sj(r,t,e),Object.assign({},r.vars,r.style)},[t])}function SJ(e,t){const r=e.style||{},n={};return A3(n,r,e),Object.assign(n,wJ(e,t)),n}function _J(e,t){const r={},n=SJ(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const O3=()=>({...kj(),attrs:{}});function jJ(e,t,r,n){const i=S.useMemo(()=>{const a=O3();return o3(a,t,l3(n),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};A3(a,e.style,e),i.style={...a,...i.style}}return i}const kJ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ej(e){return typeof e!="string"||e.includes("-")?!1:!!(kJ.indexOf(e)>-1||/[A-Z]/u.test(e))}function EJ(e,t,r,{latestValues:n},i,a=!1,o){const l=(o??Ej(e)?jJ:_J)(t,n,i,e),c=yJ(t,typeof e=="string",a),d=e!==S.Fragment?{...c,...l,ref:r}:{},{children:f}=t,h=S.useMemo(()=>kr(f)?f.get():f,[f]);return S.createElement(e,{...d,children:h})}function AJ({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,i){return{latestValues:OJ(r,n,i,e),renderState:t()}}function OJ(e,t,r,n){const i={},a=n(e,{});for(const h in a)i[h]=nh(a[h]);let{initial:o,animate:s}=e;const l=wm(e),c=QL(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),s===void 0&&(s=t.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const f=d?s:o;if(f&&typeof f!="boolean"&&!xm(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const v=mj(e,h[p]);if(v){const{transitionEnd:m,transition:g,...y}=v;for(const b in y){let x=y[b];if(Array.isArray(x)){const _=d?x.length-1:0;x=x[_]}x!==null&&(i[b]=x)}for(const b in m)i[b]=m[b]}}}return i}const C3=e=>(t,r)=>{const n=S.useContext(Sm),i=S.useContext(bm),a=()=>AJ(e,t,n,i);return r?a():X_(a)},CJ=C3({scrapeMotionValuesFromProps:_j,createRenderState:kj}),TJ=C3({scrapeMotionValuesFromProps:c3,createRenderState:O3}),PJ=Symbol.for("motionComponentSymbol");function NJ(e,t,r){const n=S.useRef(r);S.useInsertionEffect(()=>{n.current=r});const i=S.useRef(null);return S.useCallback(a=>{a&&e.onMount?.(a),t&&(a?t.mount(a):t.unmount());const o=n.current;if(typeof o=="function")if(a){const s=o(a);typeof s=="function"&&(i.current=s)}else i.current?(i.current(),i.current=null):o(a);else o&&(o.current=a)},[t])}const T3=S.createContext({});function Wc(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function RJ(e,t,r,n,i,a){const{visualElement:o}=S.useContext(Sm),s=S.useContext(j3),l=S.useContext(bm),c=S.useContext(jj).reducedMotion,d=S.useRef(null);n=n||s.renderer,!d.current&&n&&(d.current=n(e,{visualState:t,parent:o,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c,isSVG:a}));const f=d.current,h=S.useContext(T3);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&IJ(d.current,r,i,h);const p=S.useRef(!1);S.useInsertionEffect(()=>{f&&p.current&&f.update(r,l)});const v=r[DL],m=S.useRef(!!v&&!window.MotionHandoffIsComplete?.(v)&&window.MotionHasOptimisedAnimation?.(v));return Z$(()=>{f&&(p.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),m.current&&f.animationState&&f.animationState.animateChanges())}),S.useEffect(()=>{f&&(!m.current&&f.animationState&&f.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(v)}),m.current=!1),f.enteringChildren=void 0)}),f}function IJ(e,t,r,n){const{layoutId:i,layout:a,drag:o,dragConstraints:s,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:P3(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||s&&Wc(s),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:l,layoutRoot:c})}function P3(e){if(e)return e.options.allowProjection!==!1?e.projection:P3(e.parent)}function lv(e,{forwardMotionProps:t=!1,type:r}={},n,i){n&&mJ(n);const a=r?r==="svg":Ej(e),o=a?TJ:CJ;function s(c,d){let f;const h={...S.useContext(jj),...c,layoutId:MJ(c)},{isStatic:p}=h,v=xJ(c),m=o(c,p);if(!p&&J$){DJ();const g=$J(h);f=g.MeasureLayout,v.visualElement=RJ(e,m,h,i,g.ProjectionNode,a)}return u.jsxs(Sm.Provider,{value:v,children:[f&&v.visualElement?u.jsx(f,{visualElement:v.visualElement,...h}):null,EJ(e,c,NJ(m,v.visualElement,d),m,p,t,a)]})}s.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const l=S.forwardRef(s);return l[PJ]=e,l}function MJ({layoutId:e}){const t=S.useContext(Y_).id;return t&&e!==void 0?t+"-"+e:e}function DJ(e,t){S.useContext(j3).strict}function $J(e){const t=k3(),{drag:r,layout:n}=t;if(!r&&!n)return{};const i={...r,...n};return{MeasureLayout:r?.isEnabled(e)||n?.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function LJ(e,t){if(typeof Proxy>"u")return lv;const r=new Map,n=(a,o)=>lv(a,o,e,t),i=(a,o)=>n(a,o);return new Proxy(i,{get:(a,o)=>o==="create"?n:(r.has(o)||r.set(o,lv(o,void 0,e,t)),r.get(o))})}const zJ=(e,t)=>t.isSVG??Ej(e)?new vQ(t):new dQ(t,{allowProjection:e!==S.Fragment});class FJ extends to{constructor(t){super(t),t.animationState||(t.animationState=SQ(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();xm(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let BJ=0;class qJ extends to{constructor(){super(...arguments),this.id=BJ++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);r&&!t&&i.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const UJ={animation:{Feature:FJ},exit:{Feature:qJ}};function Dd(e){return{point:{x:e.pageX,y:e.pageY}}}const VJ=e=>t=>bj(t)&&e(t,Dd(t));function au(e,t,r,n){return Ru(e,t,VJ(r),n)}const N3=({current:e})=>e?e.ownerDocument.defaultView:null,kO=(e,t)=>Math.abs(e-t);function WJ(e,t){const r=kO(e.x,t.x),n=kO(e.y,t.y);return Math.sqrt(r**2+n**2)}const EO=new Set(["auto","scroll"]);class R3{constructor(t,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3,element:s}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=p=>{this.handleScroll(p.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=uv(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,m=WJ(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!m)return;const{point:g}=p,{timestamp:y}=yr;this.history.push({...g,timestamp:y});const{onStart:b,onMove:x}=this.handlers;v||(b&&b(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,p)},this.handlePointerMove=(p,v)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=cv(v,this.transformPagePoint),Tt.update(this.updatePoint,!0)},this.handlePointerUp=(p,v)=>{this.end();const{onEnd:m,onSessionEnd:g,resumeAnimation:y}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=uv(p.type==="pointercancel"?this.lastMoveEventInfo:cv(v,this.transformPagePoint),this.history);this.startEvent&&m&&m(p,b),g&&g(p,b)},!bj(t))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=i||window;const l=Dd(t),c=cv(l,this.transformPagePoint),{point:d}=c,{timestamp:f}=yr;this.history=[{...d,timestamp:f}];const{onSessionStart:h}=r;h&&h(t,uv(c,this.history)),this.removeListeners=Rd(au(this.contextWindow,"pointermove",this.handlePointerMove),au(this.contextWindow,"pointerup",this.handlePointerUp),au(this.contextWindow,"pointercancel",this.handlePointerUp)),s&&this.startScrollTracking(s)}startScrollTracking(t){let r=t.parentElement;for(;r;){const n=getComputedStyle(r);(EO.has(n.overflowX)||EO.has(n.overflowY))&&this.scrollPositions.set(r,{x:r.scrollLeft,y:r.scrollTop}),r=r.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const r=this.scrollPositions.get(t);if(!r)return;const n=t===window,i=n?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},a={x:i.x-r.x,y:i.y-r.y};a.x===0&&a.y===0||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=a.x,this.lastMoveEventInfo.point.y+=a.y):this.history.length>0&&(this.history[0].x-=a.x,this.history[0].y-=a.y),this.scrollPositions.set(t,i),Tt.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Xa(this.updatePoint)}}function cv(e,t){return t?{point:t(e.point)}:e}function AO(e,t){return{x:e.x-t.x,y:e.y-t.y}}function uv({point:e},t){return{point:e,delta:AO(e,I3(t)),offset:AO(e,HJ(t)),velocity:GJ(t,.1)}}function HJ(e){return e[0]}function I3(e){return e[e.length-1]}function GJ(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const i=I3(e);for(;r>=0&&(n=e[r],!(i.timestamp-n.timestamp>Yi(t)));)r--;if(!n)return{x:0,y:0};const a=En(i.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function KJ(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?It(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?It(r,e,n.max):Math.min(e,r)),e}function OO(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function YJ(e,{top:t,left:r,bottom:n,right:i}){return{x:OO(e.x,r,i),y:OO(e.y,t,n)}}function CO(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function XJ(e,t){return{x:CO(e.x,t.x),y:CO(e.y,t.y)}}function QJ(e,t){let r=.5;const n=Dr(e),i=Dr(t);return i>n?r=Cu(t.min,t.max-n,e.min):n>i&&(r=Cu(e.min,e.max-i,t.min)),ki(0,1,r)}function JJ(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Yw=.35;function ZJ(e=Yw){return e===!1?e=0:e===!0&&(e=Yw),{x:TO(e,"left","right"),y:TO(e,"top","bottom")}}function TO(e,t,r){return{min:PO(e,t),max:PO(e,r)}}function PO(e,t){return typeof e=="number"?e:e[t]||0}const eZ=new WeakMap;class tZ{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=tr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=f=>{r?(this.stopAnimation(),this.snapToCursor(Dd(f).point)):this.pauseAnimation()},o=(f,h)=>{this.stopAnimation();const{drag:p,dragPropagation:v,onDragStart:m}=this.getProps();if(p&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=qX(p),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),mn(y=>{let b=this.getAxisMotionValue(y).get()||0;if(bi.test(b)){const{projection:x}=this.visualElement;if(x&&x.layout){const _=x.layout.layoutBox[y];_&&(b=Dr(_)*(parseFloat(b)/100))}}this.originPoint[y]=b}),m&&Tt.postRender(()=>m(f,h)),qw(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},s=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:p,dragDirectionLock:v,onDirectionLock:m,onDrag:g}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:y}=h;if(v&&this.currentDirection===null){this.currentDirection=rZ(y),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",h.point,y),this.updateAxis("y",h.point,y),this.visualElement.render(),g&&g(f,h)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>mn(f=>this.getAnimationState(f)==="paused"&&this.getAxisMotionValue(f).animation?.play()),{dragSnapToOrigin:d}=this.getProps();this.panSession=new R3(t,{onSessionStart:a,onStart:o,onMove:s,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:N3(this.visualElement),element:this.visualElement.current})}stop(t,r){const n=t||this.latestPointerEvent,i=r||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!n)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:s}=this.getProps();s&&Tt.postRender(()=>s(n,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:i}=this.getProps();if(!n||!ff(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=KJ(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;t&&Wc(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=YJ(n.layoutBox,t):this.constraints=!1,this.elastic=ZJ(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&mn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=JJ(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Wc(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=aQ(n,i.root,this.visualElement.getTransformPagePoint());let o=XJ(i.layout.layoutBox,a);if(r){const s=r(rQ(o));this.hasMutatedConstraints=!!s,s&&(o=e3(s))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},c=mn(d=>{if(!ff(d,r,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const h=i?200:1e6,p=i?40:1e7,v={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(d,v)});return Promise.all(c).then(s)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return qw(this.visualElement,t),n.start(pj(t,n,0,r,this.visualElement,!1))}stopAnimation(){mn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){mn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){mn(r=>{const{drag:n}=this.getProps();if(!ff(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:s}=i.layout.layoutBox[r],l=a.get()||0;a.set(t[r]-It(o,s,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Wc(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};mn(o=>{const s=this.getAxisMotionValue(o);if(s&&this.constraints!==!1){const l=s.get();i[o]=QJ({min:l,max:l},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),mn(o=>{if(!ff(o,t,null))return;const s=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];s.set(It(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;eZ.set(this.visualElement,this);const t=this.visualElement.current,r=au(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&!KL(l.target)&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();Wc(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Tt.read(n);const o=Ru(window,"resize",()=>this.scalePositionWithinConstraints()),s=i.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(mn(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())}));return()=>{o(),r(),a(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=Yw,dragMomentum:s=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:s}}}function ff(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function rZ(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class nZ extends to{constructor(t){super(t),this.removeGroupControls=On,this.removeListeners=On,this.controls=new tZ(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||On}update(){const{dragControls:t}=this.node.getProps(),{dragControls:r}=this.node.prevProps||{};t!==r&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const NO=e=>(t,r)=>{e&&Tt.postRender(()=>e(t,r))};class iZ extends to{constructor(){super(...arguments),this.removePointerDownListener=On}onPointerDown(t){this.session=new R3(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:N3(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:NO(t),onStart:NO(r),onMove:n,onEnd:(a,o)=>{delete this.session,i&&Tt.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=au(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let dv=!1;class aZ extends S.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:a}=t;a&&(r.group&&r.group.add(a),n&&n.register&&i&&n.register(a),dv&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),ih.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:i,isPresent:a}=this.props,{projection:o}=n;return o&&(o.isPresent=a,dv=!0,i||t.layoutDependency!==r||r===void 0||t.isPresent!==a?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||Tt.postRender(()=>{const s=o.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),yj.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=t;dv=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function M3(e){const[t,r]=S3(),n=S.useContext(Y_);return u.jsx(aZ,{...e,layoutGroup:n,switchLayoutGroup:S.useContext(T3),isPresent:t,safeToRemove:r})}const oZ={pan:{Feature:iZ},drag:{Feature:nZ,ProjectionNode:w3,MeasureLayout:M3}};function RO(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,a=n[i];a&&Tt.postRender(()=>a(t,Dd(t)))}class sZ extends to{mount(){const{current:t}=this.node;t&&(this.unmount=UX(t,(r,n)=>(RO(this.node,n,"Start"),i=>RO(this.node,i,"End"))))}unmount(){}}class lZ extends to{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Rd(Ru(this.node.current,"focus",()=>this.onFocus()),Ru(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function IO(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),a=n[i];a&&Tt.postRender(()=>a(t,Dd(t)))}class cZ extends to{mount(){const{current:t}=this.node;t&&(this.unmount=HX(t,(r,n)=>(IO(this.node,n,"Start"),(i,{success:a})=>IO(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Xw=new WeakMap,fv=new WeakMap,uZ=e=>{const t=Xw.get(e.target);t&&t(e)},dZ=e=>{e.forEach(uZ)};function fZ({root:e,...t}){const r=e||document;fv.has(r)||fv.set(r,{});const n=fv.get(r),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(dZ,{root:e,...t})),n[i]}function hZ(e,t,r){const n=fZ(t);return Xw.set(e,r),n.observe(e),()=>{Xw.delete(e),n.unobserve(e)}}const pZ={some:0,all:1};class mZ extends to{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:a}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:pZ[i]},s=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,a&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=c?d:f;h&&h(l)};return hZ(this.node.current,o,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(gZ(t,r))&&this.startObserver()}unmount(){}}function gZ({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const vZ={inView:{Feature:mZ},tap:{Feature:cZ},focus:{Feature:lZ},hover:{Feature:sZ}},yZ={layout:{ProjectionNode:w3,MeasureLayout:M3}},bZ={...UJ,...vZ,...oZ,...yZ},Qe=LJ(bZ,zJ),Aj=Cd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ce=S.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},a)=>{const o=n?QW:"button";return u.jsx(o,{className:ae(Aj({variant:t,size:r,className:e})),ref:a,...i})});Ce.displayName="Button";const cs=()=>{const[e,t]=S.useState(!1),r=u5();S.useEffect(()=>{t(!1)},[r]),S.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]);const n=[{path:"/features",label:"Funzionalit"},{path:"/philosophy",label:"Filosofia"},{path:"/tech",label:"Tech"},{path:"/creator",label:"Il Founder"},{path:"/faq",label:"FAQ"}];return u.jsxs("div",{className:"md:hidden",children:[u.jsx(Ce,{variant:"ghost",size:"icon",className:"relative z-[10000] text-white hover:bg-white/10",onClick:()=>t(!e),children:e?u.jsx(Ga,{}):u.jsx(b9,{})}),Xn.createPortal(u.jsx(_3,{children:e&&u.jsxs(Qe.div,{initial:{opacity:0,x:"100%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed inset-0 z-[9999] bg-black/80 backdrop-blur-xl pt-24 px-6",children:[u.jsx(Ce,{variant:"ghost",size:"icon",className:"absolute top-4 right-6 text-white hover:bg-white/10",onClick:()=>t(!1),children:u.jsx(Ga,{})}),u.jsxs("nav",{className:"flex flex-col gap-6",children:[n.map((i,a)=>u.jsx(Qe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:a*.1},children:u.jsxs(xr,{to:i.path,className:"text-2xl font-medium text-white/80 hover:text-white flex items-center justify-between group py-2 border-b border-white/5",children:[i.label,u.jsx(L5,{size:20,className:"opacity-0 group-hover:opacity-100 -translate-x-4 group-hover:translate-x-0 transition-all text-purple-400"})]})},i.path)),u.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-8 grid grid-cols-2 gap-4",children:[u.jsx(xr,{to:"/get-started",children:u.jsx(Ce,{className:"w-full h-12 text-sm md:text-lg rounded-xl bg-white text-black hover:bg-zinc-200",children:"Guida"})}),u.jsx("a",{href:"https://github.com/simo-hue/habit-tracker",target:"_blank",rel:"noreferrer",children:u.jsx(Ce,{className:"w-full h-12 bg-white/10 border border-white/10 text-white hover:bg-white/20 rounded-xl px-8 text-sm md:text-lg",children:"GitHub"})})]})]})]})}),document.body)]})},xZ=()=>{const e={initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5}},t={animate:{transition:{staggerChildren:.1}}};return u.jsxs("div",{className:"min-h-screen bg-black text-white selection:bg-purple-900 selection:text-white overflow-x-hidden",children:[u.jsx("nav",{className:"fixed top-0 w-full z-50 border-b border-white/10 bg-black/50 backdrop-blur-md",children:u.jsxs("div",{className:"container mx-auto px-6 h-16 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-xl font-bold tracking-tight bg-gradient-to-r from-white to-white/60 bg-clip-text text-transparent",children:"Mattioli.OS"}),u.jsx("span",{className:"px-2 py-0.5 rounded-full bg-white/5 text-[10px] font-medium border border-white/10 text-white/60",children:"v4.1"})]}),u.jsxs("div",{className:"hidden md:flex items-center gap-8 text-sm text-zinc-400",children:[u.jsx(xr,{to:"/features",className:"hover:text-white transition-colors",children:"Funzionalit"}),u.jsx(xr,{to:"/philosophy",className:"hover:text-white transition-colors",children:"Filosofia"}),u.jsx(xr,{to:"/tech",className:"hover:text-white transition-colors",children:"Tech"}),u.jsx(xr,{to:"/creator",className:"hover:text-white transition-colors",children:"Il Founder"}),u.jsx(xr,{to:"/faq",className:"hover:text-white transition-colors font-medium text-purple-400",children:"FAQ"})]}),u.jsx("div",{className:"hidden md:flex items-center gap-4",children:u.jsx(xr,{to:"/get-started",children:u.jsx(Ce,{size:"sm",className:"rounded-full px-4 bg-white text-black hover:bg-zinc-200 transition-colors",children:"Guida Installazione"})})}),u.jsx(cs,{})]})}),u.jsxs("section",{className:"relative pt-32 pb-20 md:pt-48 md:pb-32 px-6",children:[u.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-purple-900/20 via-black to-black -z-10"}),u.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3 mb-8",children:[u.jsxs(Qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/5 border border-white/10 text-xs font-medium text-purple-300",children:[u.jsxs("span",{className:"relative flex h-2 w-2",children:[u.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-purple-400 opacity-75"}),u.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-purple-500"})]}),"System Operational"]}),u.jsxs(Qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.1},className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-green-500/10 border border-green-500/20 text-xs font-medium text-green-300",children:[u.jsx("span",{className:"text-[10px]",children:""}),"Open Source & Free Forever"]})]}),u.jsxs(Qe.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-4xl md:text-7xl font-bold tracking-tight mb-6 bg-gradient-to-b from-white via-white/90 to-white/50 bg-clip-text text-transparent",children:["Il Sistema Operativo ",u.jsx("br",{}),"Per la Tua ",u.jsx("span",{className:"text-white",children:"Produttivit."})]}),u.jsxs(Qe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-lg md:text-xl text-zinc-400 mb-10 max-w-2xl mx-auto leading-relaxed",children:["Una suite completa ",u.jsx("span",{className:"text-white font-medium",children:"Open Source"})," e ",u.jsx("span",{className:"text-white font-medium",children:"totalmente gratuita"})," per tracciare abitudini, definire macro obiettivi e monitorare la tua crescita personale con precisione chirurgica."]})]})]}),u.jsx("section",{id:"features",className:"py-24 px-6 border-t border-white/5",children:u.jsx("div",{className:"container mx-auto max-w-6xl",children:u.jsxs(Qe.div,{variants:t,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[u.jsxs(Qe.div,{variants:e,className:"group p-8 rounded-2xl bg-zinc-900/50 border border-white/5 hover:border-purple-500/30 transition-all duration-300 hover:bg-zinc-900/80",children:[u.jsx("div",{className:"h-12 w-12 rounded-lg bg-purple-500/10 flex items-center justify-center mb-6 text-purple-400 group-hover:scale-110 transition-transform",children:u.jsx(Ia,{size:24})}),u.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Daily Protocol"}),u.jsx("p",{className:"text-zinc-400 leading-relaxed",children:"Traccia le tue abitudini giornaliere con un sistema tri-state (Done, Missed, Skipped). Analisi visiva della costanza."})]}),u.jsxs(Qe.div,{variants:e,className:"group p-8 rounded-2xl bg-zinc-900/50 border border-white/5 hover:border-amber-500/30 transition-all duration-300 hover:bg-zinc-900/80",children:[u.jsx("div",{className:"h-12 w-12 rounded-lg bg-amber-500/10 flex items-center justify-center mb-6 text-amber-400 group-hover:scale-110 transition-transform",children:u.jsx(Gr,{size:24})}),u.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Macro Goals System"}),u.jsx("p",{className:"text-zinc-400 leading-relaxed",children:"Pianificazione strutturata a livelli: Settimanale, Mensile, Trimestrale e Annuale. Allinea la visione a lungo termine con l'azione quotidiana."})]}),u.jsxs(Qe.div,{variants:e,className:"group p-8 rounded-2xl bg-zinc-900/50 border border-white/5 hover:border-blue-500/30 transition-all duration-300 hover:bg-zinc-900/80",children:[u.jsx("div",{className:"h-12 w-12 rounded-lg bg-blue-500/10 flex items-center justify-center mb-6 text-blue-400 group-hover:scale-110 transition-transform",children:u.jsx(ju,{size:24})}),u.jsx("h3",{className:"text-xl font-semibold mb-3",children:"AI Neural Coach"}),u.jsx("p",{className:"text-zinc-400 leading-relaxed",children:"Analisi intelligente dei tuoi progressi generata da LLM locali. Report settimanali e suggerimenti di ottimizzazione personalizzati."})]}),u.jsxs(Qe.div,{variants:e,className:"group p-8 rounded-2xl bg-zinc-900/50 border border-white/5 hover:border-green-500/30 transition-all duration-300 hover:bg-zinc-900/80",children:[u.jsx("div",{className:"h-12 w-12 rounded-lg bg-green-500/10 flex items-center justify-center mb-6 text-green-400 group-hover:scale-110 transition-transform",children:u.jsx(F5,{size:24})}),u.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Deep Analytics"}),u.jsx("p",{className:"text-zinc-400 leading-relaxed",children:"Visualizza i tuoi dati attraverso grafici avanzati, heatmaps e radar charts per identificare pattern e aree di miglioramento."})]}),u.jsxs(Qe.div,{variants:e,className:"group p-8 rounded-2xl bg-zinc-900/50 border border-white/5 hover:border-pink-500/30 transition-all duration-300 hover:bg-zinc-900/80",children:[u.jsx("div",{className:"h-12 w-12 rounded-lg bg-pink-500/10 flex items-center justify-center mb-6 text-pink-400 group-hover:scale-110 transition-transform",children:u.jsx(Ha,{size:24})}),u.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Life Calendar"}),u.jsx("p",{className:"text-zinc-400 leading-relaxed",children:`Una visione d'insieme della tua vita in settimane. "Memento Mori" visualization per mantenere alta l'urgenza e il focus.`})]}),u.jsxs(Qe.div,{variants:e,className:"group p-8 rounded-2xl bg-zinc-900/50 border border-white/5 hover:border-zinc-500/30 transition-all duration-300 hover:bg-zinc-900/80",children:[u.jsx("div",{className:"h-12 w-12 rounded-lg bg-zinc-500/10 flex items-center justify-center mb-6 text-zinc-400 group-hover:scale-110 transition-transform",children:u.jsx(X5,{size:24})}),u.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Private & Secure"}),u.jsx("p",{className:"text-zinc-400 leading-relaxed",children:"I tuoi dati sono tuoi. Architettura Privacy-first con supporto per Local LLM per mantenere le tue informazioni sensibili al sicuro."})]})]})})}),u.jsx("section",{className:"py-24 px-6 bg-zinc-900/20 border-y border-white/5",children:u.jsxs("div",{className:"container mx-auto max-w-5xl text-center",children:[u.jsx("h2",{className:"text-3xl font-bold mb-16",children:"Designed for Peak Performance"}),u.jsxs("div",{className:"relative group",children:[u.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-purple-600 to-blue-600 rounded-lg blur opacity-25 group-hover:opacity-50 transition duration-1000"}),u.jsx("div",{className:"relative bg-black rounded-lg border border-white/10 p-2 md:p-4 shadow-2xl",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-left p-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"text-sm text-zinc-500 uppercase tracking-wider",children:"Completion Rate"}),u.jsx("div",{className:"text-4xl font-mono font-bold text-white",children:"87%"}),u.jsx("div",{className:"text-xs text-green-400 flex items-center gap-1",children:" 12% vs last month"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"text-sm text-zinc-500 uppercase tracking-wider",children:"Active Streak"}),u.jsxs("div",{className:"text-4xl font-mono font-bold text-white",children:["42 ",u.jsx("span",{className:"text-lg text-zinc-600",children:"days"})]}),u.jsx("div",{className:"text-xs text-purple-400",children:"Personal Best"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"text-sm text-zinc-500 uppercase tracking-wider",children:"Focus Time"}),u.jsxs("div",{className:"text-4xl font-mono font-bold text-white",children:["1,240 ",u.jsx("span",{className:"text-lg text-zinc-600",children:"hrs"})]}),u.jsx("div",{className:"text-xs text-zinc-500",children:"Year to Date"})]})]})})]})]})}),u.jsx("footer",{className:"py-12 px-6 border-t border-white/5 bg-black",children:u.jsx("div",{className:"container mx-auto max-w-6xl flex flex-col md:flex-row justify-between items-center text-zinc-500 text-sm",children:u.jsxs("div",{className:"mb-4 md:mb-0",children:[u.jsx("span",{className:"font-semibold text-zinc-300",children:"Mattioli.OS"}),"  2026. Open Source Project."]})})})]})},ta=S.forwardRef(({className:e,type:t,...r},n)=>u.jsx("input",{type:t,className:ae("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));ta.displayName="Input";const MO=[{category:"Philosophy & General",icon:_u,questions:[{q:"Cos' Mattioli.OS?",a:" un sistema operativo completo per la crescita personale. Non  solo un habit tracker, ma una suite integrata per gestire abitudini giornaliere, obiettivi a lungo termine e analisi delle performance."},{q:"Perch 'OS' (Operating System)?",a:"Perch mira a sostituire l'infrastruttura frammentata che usiamo di solito (note sparse, app multiple, fogli excel) con un unico sistema centralizzato e coerente per gestire la propria vita."},{q:" veramente gratuito?",a:"S, al 100%.  un progetto Open Source rilasciato sotto licenza MIT. I tuoi dati sono tuoi, non c' nessun abbonamento premium."},{q:"In cosa differisce da Notion o Todoist?",a:"Mattioli.OS  'opinionated'. Notion  flessibile ma richiede ore per il setup. Todoist  focalizzato sulle liste. Questo sistema  costruito specificamente per la disciplina e l'analisi quantitativa dei dati, pronto all'uso."},{q:"Qual  la filosofia di base?",a:"Si basa su 'Atomic Habits' di James Clear: 'Non ci innalziamo al livello dei nostri obiettivi, scendiamo al livello dei nostri sistemi'. Il focus  sulla riduzione dell'attrito e sulla visualizzazione dei progressi."},{q:"Devo creare un account?",a:"S, il sistema utilizza Supabase Auth per garantire che i tuoi dati siano sicuri, criptati e accessibili solo a te. L'account  gratuito."},{q:"Chi  lo sviluppatore?",a:"Sono Simone Mattioli, uno sviluppatore appassionato di produttivit e data visualization. Ho costruito questo tool inizialmente per me stesso."}]},{category:"Daily Protocol",icon:_u,questions:[{q:"Cos' il 'Daily Protocol'?",a:" la tua lista di abitudini giornaliere non negoziabili. Il cuore del sistema per costruire la consistenza."},{q:"Come funziona la logica 'Tri-State'?",a:"Ogni abitudine pu avere 3 stati: 'Done' (fatto, verde), 'Missed' (mancato, rosso), 'Skipped' (saltato legittimamente, grigio). Questo offre pi sfumature rispetto al semplice s/no."},{q:"Qual  la differenza tra Missed e Skipped?",a:"'Missed' penalizza la tua streak e le statistiche (hai fallito). 'Skipped'  neutro (es. eri malato o in vacanza), non rompe la streak ma non contribuisce al punteggio."},{q:"Come elimino un'abitudine?",a:"Se l'abitudine ha dei dati storici, viene 'archiviata' (Soft Delete) per non perdere le statistiche passate. Se non ha dati, viene eliminata definitivamente."},{q:"Posso personalizzare i colori?",a:"Assolutamente. Ogni abitudine pu avere un colore specifico per aiutarti a raggrupparle visivamente (es. Salute = Verde, Lavoro = Blu)."},{q:"Cos' una 'Streak'?",a:" il numero di giorni consecutivi in cui hai completato un'abitudine senza 'Missed'. Gli 'Skipped' mantengono la streak congelata."},{q:"Posso impostare abitudini solo per certi giorni?",a:"S, puoi definire la frequenza (es. Lun, Mer, Ven). Negli altri giorni l'abitudine non apparir nella tua lista daily."},{q:"Posso tracciare valori numerici?",a:"S, puoi abilitare il tracciamento quantitativo (es. '2 litri d'acqua', '10 pagine lette') oltre allo stato completato."}]},{category:"Macro Goals & Vision",icon:Gr,questions:[{q:"Cosa sono i Macro Goals?",a:"Sono obiettivi a lungo termine strutturati gerarchicamente: Annuali, Trimestrali, Mensili e Settimanali."},{q:"Come visualizzo i miei progressi a lungo termine?",a:"C' una dashboard dedicata ('Mappa') con grafici radar, trend di completamento e analisi delle categorie per vedere se stai bilanciando bene la tua vita."},{q:"Cos' il calendario 'Memento Mori'?",a:"Una visualizzazione della tua vita in settimane (dalla nascita presunta alla morte statistica). Serve a creare urgenza e dare valore al tempo."},{q:"Posso vedere lo storico degli anni passati?",a:"S, la dashboard 'All-Time' ti permette di navigare tra i dati di tutti gli anni in cui hai usato il sistema, con KPI aggregati."},{q:"C' un limite al numero di obiettivi?",a:"Tecnicamente no. Il sistema gestisce paginazione efficiente anche per migliaia di record, ma per la tua sanit mentale consigliamo di focalizzarti su poche priorit."}]},{category:"AI Coach & Privacy",icon:ju,questions:[{q:"Come funziona l'AI Coach?",a:"Analizza i tuoi dati (abitudini, mood, obiettivi) e genera report settimanali con consigli personalizzati. Funziona come un mental coach virtuale."},{q:"I miei dati vengono inviati a OpenAI/Google?",a:"NO. Di default il sistema  progettato per usare 'Local LLM' (Ollama). I dati vengono processati localmente sul tuo machine. Privacy first."},{q:"Cosa significa 'Local LLM'?",a:"Significa che il modello di intelligenza artificiale (es. Llama 3, Mistral) gira sul tuo computer, non su un server remoto. Nessun dato lascia la tua rete."},{q:"Come configuro Ollama?",a:"Devi scaricare Ollama dal sito ufficiale, installare un modello (es. `ollama run llama3`) e assicurarti che il server sia attivo sulla porta 11434."},{q:"Posso usare il sistema senza AI?",a:"Certamente. L'AI Coach  un modulo opzionale. Se non lo configuri o lo disabiliti nelle impostazioni, il resto dell'app funziona perfettamente."},{q:"L'AI legge le mie note personali?",a:"Solo se glielo permetti esplicitamente per generare correlazioni tra il tuo stato d'animo e le tue performance."}]},{category:"Tech & Data",icon:Go,questions:[{q:"Dove sono salvati i dati?",a:"Su Supabase, un database PostgreSQL open source e sicuro. Tu sei l'unico proprietario dei tuoi dati tramite autenticazione."},{q:"Posso fare un backup?",a:"S. C' una funzione 'Complete Backup' che scarica un archivio ZIP contenente tutti i tuoi dati in formato JSON, organizzati per tabelle."},{q:"Posso importare/esportare i dati?",a:"S, il sistema di backup supporta sia l'export che l'import completo, utile per migrare o mettere al sicuro le informazioni."},{q:"Esiste un'app mobile?",a:"Mattioli.OS  una PWA (Progressive Web App). Puoi installarla sulla home del tuo telefono (iOS/Android) e funziona quasi come un'app nativa."},{q:"Qual  lo stack tecnologico?",a:"React 18, Vite, TypeScript, Tailwind CSS, shadcn/ui, Supabase, TanStack Query, Recharts."},{q:"Posso self-hostare il database?",a:"S, essendo Supabase open source, puoi hostare la tua istanza Docker se hai le competenze tecniche per farlo."}]},{category:"Troubleshooting & Support",icon:mw,questions:[{q:"Ho trovato un bug, cosa faccio?",a:"Apri una issue su GitHub. Il progetto  attivamente mantenuto e i contributi della community sono benvenuti."},{q:"Perch l'AI non risponde?",a:"Verifica che Ollama sia in esecuzione (`ollama serve`) e che il modello selezionato sia scaricato. Controlla anche che il browser non blocchi le chiamate a localhost (CORS)."},{q:"Il sito sembra lento con molti dati?",a:"Abbiamo implementato la paginazione ricorsiva e il virtual scrolling. Se noti rallentamenti sopra i 100k record, faccelo sapere."},{q:"Come aggiorno alla nuova versione?",a:"Se usi la versione web, aggiorna semplicemente la pagina. Se hai clonato la repo, fai `git pull` e `npm run build`."}]}],wZ=()=>{const[e,t]=S.useState(""),[r,n]=S.useState(null),[i,a]=S.useState("All"),o=MO.map(l=>({...l,questions:l.questions.filter(c=>c.q.toLowerCase().includes(e.toLowerCase())||c.a.toLowerCase().includes(e.toLowerCase()))})).filter(l=>l.questions.length>0&&(i==="All"||l.category===i)),s=l=>{n(r===l?null:l)};return u.jsxs("div",{className:"min-h-screen bg-black text-white selection:bg-purple-900 selection:text-white",children:[u.jsx("nav",{className:"fixed top-0 w-full z-50 border-b border-white/10 bg-black/50 backdrop-blur-md",children:u.jsxs("div",{className:"container mx-auto px-6 h-16 flex items-center justify-between",children:[u.jsxs(xr,{to:"/",className:"flex items-center gap-2 text-zinc-400 hover:text-white transition-colors",children:[u.jsx(ql,{size:20}),u.jsx("span",{className:"hidden md:inline text-sm font-medium",children:"Torna alla Home"})]}),u.jsx("span",{className:"font-semibold text-lg tracking-tight",children:"Q&A Knowledge Base"}),u.jsx(cs,{})]})}),u.jsx("section",{className:"pt-32 pb-12 px-6 bg-zinc-900/20",children:u.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[u.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-br from-white to-zinc-500 bg-clip-text text-transparent",children:"Domande Frequenti"}),u.jsx("p",{className:"text-zinc-400 mb-8 max-w-2xl mx-auto",children:"Tutto quello che devi sapere su Mattioli.OS. Dalla filosofia di base ai dettagli tecnici pi profondi."}),u.jsxs("div",{className:"relative max-w-xl mx-auto",children:[u.jsx(C9,{className:"absolute left-4 top-3.5 h-5 w-5 text-zinc-500"}),u.jsx(ta,{type:"text",placeholder:"Cerca una domanda...",value:e,onChange:l=>t(l.target.value),className:"pl-12 h-12 bg-white/5 border-white/10 rounded-full focus:ring-purple-500/50 text-lg"})]})]})}),u.jsx("section",{className:"py-12 px-6",children:u.jsxs("div",{className:"container mx-auto max-w-4xl",children:[u.jsxs("div",{className:"flex flex-wrap gap-2 justify-center mb-12",children:[u.jsx(Ce,{variant:i==="All"?"secondary":"ghost",onClick:()=>a("All"),className:"rounded-full",children:"Tutte"}),MO.map((l,c)=>u.jsx(Ce,{variant:i===l.category?"secondary":"ghost",onClick:()=>a(l.category),className:"rounded-full border border-white/5",children:l.category},c))]}),u.jsxs("div",{className:"space-y-12",children:[o.map((l,c)=>u.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-2 border-b border-white/10",children:[u.jsx(l.icon,{className:"text-purple-400",size:24}),u.jsx("h2",{className:"text-2xl font-semibold",children:l.category})]}),u.jsx("div",{className:"space-y-4",children:l.questions.map((d,f)=>{const h=`${c}-${f}`,p=r===h;return u.jsxs("div",{className:`rounded-xl border transition-all duration-200 ${p?"bg-white/5 border-purple-500/30":"bg-transparent border-white/5 hover:bg-white/5"}`,children:[u.jsxs("button",{onClick:()=>s(h),className:"w-full flex items-center justify-between p-5 text-left",children:[u.jsx("span",{className:`font-medium text-lg ${p?"text-purple-300":"text-zinc-200"}`,children:d.q}),u.jsx(A_,{className:`transform transition-transform duration-200 text-zinc-500 ${p?"rotate-180":""}`})]}),u.jsx(_3,{children:p&&u.jsx(Qe.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:u.jsx("div",{className:"p-5 pt-0 text-zinc-400 leading-relaxed border-t border-white/5 mt-2",children:d.a})})})]},f)})})]},c)),o.length===0&&u.jsxs("div",{className:"text-center py-20 text-zinc-500",children:[u.jsxs("p",{children:['Nessuna domanda trovata per "',e,'"']}),u.jsx(Ce,{variant:"link",onClick:()=>t(""),className:"text-purple-400",children:"Cancella ricerca"})]})]})]})}),u.jsxs("section",{className:"py-20 border-t border-white/10 text-center",children:[u.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Hai altre domande?"}),u.jsx("p",{className:"text-zinc-400 mb-8",children:"Unisciti alla community o contattaci direttamente su GitHub."}),u.jsx("a",{href:"https://github.com/simo-hue/habit-tracker",target:"_blank",rel:"noreferrer",children:u.jsx(Ce,{className:"bg-white text-black hover:bg-zinc-200 rounded-full px-8 py-6 text-lg",children:"Vai su GitHub"})})]})]})},SZ=()=>{const e={initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5}},t={animate:{transition:{staggerChildren:.1}}},r=[{name:"React 18",icon:mw,desc:"Component-based UI architecture for maximum modularity."},{name:"TypeScript",icon:mw,desc:"Type-safe code ensuring robustness and maintainability."},{name:"Vite",icon:Gi,desc:"Next-generation frontend tooling for instant builds."},{name:"Supabase",icon:Go,desc:"Open Source Firebase alternative. Postgres engine."},{name:"Tailwind CSS",icon:h9,desc:"Utility-first CSS provided by Shadcn/UI for premium design."},{name:"Framer Motion",icon:Gi,desc:"Production-ready animations and gestures."}];return u.jsxs("div",{className:"min-h-screen bg-black text-white selection:bg-purple-900 selection:text-white overflow-x-hidden",children:[u.jsx("nav",{className:"fixed top-0 w-full z-50 border-b border-white/10 bg-black/50 backdrop-blur-md",children:u.jsxs("div",{className:"container mx-auto px-6 h-16 flex items-center justify-between",children:[u.jsxs(xr,{to:"/",className:"flex items-center gap-2 text-zinc-400 hover:text-white transition-colors",children:[u.jsx(ql,{size:20}),u.jsx("span",{className:"hidden md:inline text-sm font-medium",children:"Torna alla Home"})]}),u.jsx("span",{className:"font-semibold text-lg tracking-tight",children:"Technical Architecture"}),u.jsx(cs,{})]})}),u.jsxs("section",{className:"pt-32 pb-20 px-6 relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[800px] h-[500px] bg-blue-900/20 blur-[120px] rounded-full -z-10"}),u.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[u.jsxs(Qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-blue-500/10 border border-blue-500/20 text-xs font-medium text-blue-300 mb-6",children:[u.jsx(q5,{size:12}),u.jsx("span",{children:"Engineering Excellence"})]}),u.jsxs(Qe.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-5xl md:text-7xl font-bold tracking-tight mb-8",children:["Future-Proof ",u.jsx("br",{}),u.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Tech Stack."})]}),u.jsx(Qe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-lg md:text-xl text-zinc-400 max-w-2xl mx-auto leading-relaxed",children:"Costruito per essere veloce, scalabile e gratuito. Nessun abbonamento, nessun vendor lock-in. Solo puro codice Open Source."})]})]}),u.jsx("section",{className:"py-20 px-6",children:u.jsxs("div",{className:"container mx-auto max-w-6xl",children:[u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-20",children:[u.jsxs(Qe.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"p-8 rounded-3xl bg-zinc-900/50 border border-white/5 hover:border-blue-500/20 transition-all duration-500",children:[u.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-500/10 flex items-center justify-center mb-6 text-blue-400",children:u.jsx(GE,{size:24})}),u.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Zero-Cost Deployment"}),u.jsx("p",{className:"text-zinc-400 mb-6 leading-relaxed",children:"L'intera applicazione  architettata per essere ospitata gratuitamente. Non serve un server dedicato."}),u.jsxs("ul",{className:"space-y-3 mb-8",children:[u.jsxs("li",{className:"flex items-center gap-3 text-sm text-zinc-300",children:[u.jsx(T_,{size:16,className:"text-white"}),u.jsxs("span",{children:["Hostato su ",u.jsx("strong",{children:"GitHub Pages"})," o Vercel"]})]}),u.jsxs("li",{className:"flex items-center gap-3 text-sm text-zinc-300",children:[u.jsx(Go,{size:16,className:"text-green-400"}),u.jsxs("span",{children:["Backend su ",u.jsx("strong",{children:"Supabase"})," (Tier Free Generoso)"]})]}),u.jsxs("li",{className:"flex items-center gap-3 text-sm text-zinc-300",children:[u.jsx(P_,{size:16,className:"text-blue-400"}),u.jsx("span",{children:"Accessibile ovunque via Browser"})]})]}),u.jsx("div",{className:"p-4 rounded-xl bg-black/40 border border-white/5",children:u.jsxs("code",{className:"text-xs text-zinc-500 font-mono",children:["git push origin main",u.jsx("br",{}),"# Deploy automatico attivo"]})})]}),u.jsxs(Qe.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"p-8 rounded-3xl bg-zinc-900/50 border border-white/5 hover:border-purple-500/20 transition-all duration-500",children:[u.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-500/10 flex items-center justify-center mb-6 text-purple-400",children:u.jsx(Q5,{size:24})}),u.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Mobile Experience, App-Free"}),u.jsxs("p",{className:"text-zinc-400 mb-6 leading-relaxed",children:["Non devi scaricare nulla dall'App Store. Mattioli.OS  una ",u.jsx("strong",{children:"Progressive Web App (PWA)"}),"."]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[u.jsxs("div",{className:"p-4 rounded-2xl bg-white/5",children:[u.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:"100%"}),u.jsx("div",{className:"text-xs text-zinc-500",children:"Responsive"})]}),u.jsxs("div",{className:"p-4 rounded-2xl bg-white/5",children:[u.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:"0mb"}),u.jsx("div",{className:"text-xs text-zinc-500",children:" spazio richiesto"})]})]}),u.jsx("p",{className:"text-sm text-zinc-500 border-l-2 border-purple-500 pl-4",children:`"Aggiungi alla Home" su iOS e Android per avere un'esperienza identica a un'app nativa, a schermo intero e senza distrazioni.`})]})]}),u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Core Technologies"}),u.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-blue-500 to-purple-500 mx-auto rounded-full"})]}),u.jsx(Qe.div,{variants:t,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map((n,i)=>u.jsxs(Qe.div,{variants:e,className:"p-6 rounded-2xl bg-zinc-900/30 border border-white/5 hover:bg-zinc-800/50 transition-colors group",children:[u.jsx("div",{className:"mb-4 text-zinc-400 group-hover:text-white transition-colors",children:u.jsx(n.icon,{size:28})}),u.jsx("h4",{className:"text-lg font-bold mb-2",children:n.name}),u.jsx("p",{className:"text-sm text-zinc-500",children:n.desc})]},i))})]})}),u.jsx("section",{className:"py-24 px-6 bg-zinc-900/20 border-t border-white/5",children:u.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[u.jsx("div",{className:"inline-flex items-center justify-center p-3 rounded-full bg-green-500/10 text-green-400 mb-6",children:u.jsx(GE,{size:24})}),u.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Always Connected"}),u.jsx("p",{className:"text-xl text-zinc-400 mb-8 max-w-2xl mx-auto",children:"Inizia sul portatile, continua sul telefono. Grazie a Supabase, i tuoi dati sono istantaneamente sincronizzati su tutti i tuoi dispositivi in tempo reale."}),u.jsxs("div",{className:"flex justify-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-black/50 border border-white/10 text-zinc-400",children:[u.jsx(N_,{size:14}),u.jsx("span",{className:"text-sm",children:"End-to-End Encrypted"})]}),u.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-black/50 border border-white/10 text-zinc-400",children:[u.jsx(Gi,{size:14}),u.jsx("span",{className:"text-sm",children:"Real-time Sync"})]})]})]})}),u.jsx("footer",{className:"py-12 border-t border-white/10 bg-black text-center",children:u.jsx("div",{className:"container mx-auto px-6",children:u.jsxs("p",{className:"text-zinc-500 text-sm",children:["Designed & Engineered by ",u.jsx("span",{className:"text-white",children:"Simone Mattioli"})]})})})]})},_Z=()=>{const e={initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5}},t={animate:{transition:{staggerChildren:.1}}};return u.jsxs("div",{className:"min-h-screen bg-black text-white selection:bg-amber-900 selection:text-white overflow-x-hidden",children:[u.jsx("nav",{className:"fixed top-0 w-full z-50 border-b border-white/10 bg-black/50 backdrop-blur-md",children:u.jsxs("div",{className:"container mx-auto px-6 h-16 flex items-center justify-between",children:[u.jsxs(xr,{to:"/",className:"flex items-center gap-2 text-zinc-400 hover:text-white transition-colors",children:[u.jsx(ql,{size:20}),u.jsx("span",{className:"hidden md:inline text-sm font-medium",children:"Torna alla Home"})]}),u.jsx("span",{className:"font-semibold text-lg tracking-tight",children:"Our Philosophy"}),u.jsx(cs,{})]})}),u.jsxs("section",{className:"pt-32 pb-20 px-6 relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-1/2 translate-x-1/2 w-[800px] h-[500px] bg-amber-900/10 blur-[120px] rounded-full -z-10"}),u.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[u.jsxs(Qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-amber-500/10 border border-amber-500/20 text-xs font-medium text-amber-300 mb-6",children:[u.jsx(H5,{size:12}),u.jsx("span",{children:"Origin Story"})]}),u.jsxs(Qe.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-5xl md:text-7xl font-bold tracking-tight mb-8",children:["Built Out of ",u.jsx("br",{}),u.jsx("span",{className:"bg-gradient-to-r from-amber-200 to-amber-500 bg-clip-text text-transparent",children:"Necessity."})]}),u.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-lg md:text-xl text-zinc-300 max-w-3xl mx-auto leading-relaxed space-y-6 text-left",children:[u.jsxs("p",{children:["Per anni ho cercato un software che fosse completo, gratuito e capace di gestire la mia produttivit come volevo io. Ho iniziato utilizzando i ",u.jsx("strong",{children:"Promemoria di Apple"}),", immediati ma limitati. Poi mi sono evoluto, studiando e costruendo interi sistemi complessi su ",u.jsx("strong",{children:"Notion"}),"."]}),u.jsx("p",{children:"Ma mancava sempre qualcosa. Nessuno strumento aveva quella fluidit unita alla visione d'insieme che cercavo. Nulla che assomigliasse a questo tool, che  veramente una cosa unica nel suo genere."}),u.jsx("p",{className:"font-semibold text-white",children:"Non l'ho trovato. E allora l'ho creato io."})]})]})]}),u.jsx("section",{className:"py-20 px-6 bg-zinc-900/20 border-y border-white/5",children:u.jsxs("div",{className:"container mx-auto max-w-6xl",children:[u.jsxs("div",{className:"text-center mb-16",children:[u.jsx("h2",{className:"text-3xl font-bold mb-4",children:"I Tre Pilastri"}),u.jsx("p",{className:"text-zinc-400",children:"La metodologia su cui si fonda Mattioli.OS"})]}),u.jsxs(Qe.div,{variants:t,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[u.jsxs(Qe.div,{variants:e,className:"p-8 rounded-3xl bg-black border border-white/10 hover:border-amber-500/30 transition-colors",children:[u.jsx("div",{className:"w-12 h-12 rounded-xl bg-amber-500/10 flex items-center justify-center mb-6 text-amber-400",children:u.jsx(E9,{size:24})}),u.jsx("h3",{className:"text-xl font-bold mb-3",children:"Micro & Macro Alignment"}),u.jsx("p",{className:"text-zinc-400 leading-relaxed",children:"Le abitudini giornaliere (Micro) non hanno senso senza una visione (Macro). Il sistema collega ogni piccola azione quotidiana ai tuoi obiettivi annuali e trimestrali."})]}),u.jsxs(Qe.div,{variants:e,className:"p-8 rounded-3xl bg-black border border-white/10 hover:border-amber-500/30 transition-colors",children:[u.jsx("div",{className:"w-12 h-12 rounded-xl bg-amber-500/10 flex items-center justify-center mb-6 text-amber-400",children:u.jsx(Ar,{size:24})}),u.jsx("h3",{className:"text-xl font-bold mb-3",children:"Data-Driven Growth"}),u.jsx("p",{className:"text-zinc-400 leading-relaxed",children:'"Non puoi migliorare ci che non misuri." Oltre al semplice "fatto/non fatto", analizziamo le correlazioni tra i tuoi goal e il tuo mood per capire cosa funziona davvero.'})]}),u.jsxs(Qe.div,{variants:e,className:"p-8 rounded-3xl bg-black border border-white/10 hover:border-amber-500/30 transition-colors",children:[u.jsx("div",{className:"w-12 h-12 rounded-xl bg-amber-500/10 flex items-center justify-center mb-6 text-amber-400",children:u.jsx(W5,{size:24})}),u.jsx("h3",{className:"text-xl font-bold mb-3",children:"Extreme Ownership"}),u.jsx("p",{className:"text-zinc-400 leading-relaxed",children:"Nessun dato venduto. Nessun algoritmo nascosto. Il software  open source perch la tua produttivit e i tuoi dati sensibili devono appartenere solo a te."})]})]})]})}),u.jsx("section",{className:"py-24 px-6 relative",children:u.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[u.jsx(Gr,{className:"w-16 h-16 text-amber-500/20 mx-auto mb-8"}),u.jsx("blockquote",{className:"text-3xl md:text-4xl font-serif italic text-zinc-300 mb-8 leading-relaxed",children:`"La vera libert non  l'assenza di impegni, ma la capacit di scegliere le proprie catene. Io ho scelto la disciplina."`}),u.jsx("cite",{className:"text-amber-500 not-italic font-medium",children:" Manifesto Mattioli.OS"})]})}),u.jsx("footer",{className:"py-12 border-t border-white/10 bg-zinc-900/20 text-center",children:u.jsxs("div",{className:"container mx-auto px-6",children:[u.jsx("p",{className:"text-zinc-500 text-sm mb-6",children:"Vuoi vedere il codice che muove tutto questo?"}),u.jsx(xr,{to:"/tech",children:u.jsx(Ce,{variant:"outline",className:"rounded-full border-white/10 hover:bg-white/5 text-zinc-300",children:"Esplora la Tecnologia"})}),u.jsx("a",{href:"https://github.com/simo-hue/habit-tracker",target:"_blank",rel:"noreferrer",children:u.jsx(Ce,{className:"bg-white text-black hover:bg-zinc-200 rounded-full px-8 py-4 text-lg",children:"Vai su GitHub"})})]})})]})},jZ=()=>{const e={initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5}},t={animate:{transition:{staggerChildren:.1}}},r=[{title:"Daily Mastery",description:"Il cuore del sistema. Tracciamento chirurgico delle tue routine.",icon:_u,features:[{name:"Tri-State Logic",desc:"Non solo fatto/non fatto. Gestisci 'Done', 'Missed' e 'Skipped' (legittimo) per statistiche reali."},{name:"Frequency Control",desc:"Imposta abitudini per giorni specifici (es. Lun, Mer, Ven) o quotidiane."},{name:"Quantifiable Goals",desc:"Traccia numeri precisi: '2 litri d'acqua', '10 pagine lette', '45 minuti workout'."},{name:"Streak Freeze",desc:"La modalit 'Skipped' congela la tua streak senza romperla quando sei malato o in ferie."}]},{title:"Long-Term Vision",description:"Perch la disciplina senza direzione  inutile.",icon:Gr,features:[{name:"Macro Goals",desc:"Obiettivi Annuali, Trimestrali e Mensili collegati alle tue azioni quotidiane."},{name:"Life View",desc:"La visualizzazione 'Memento Mori': tutta la tua vita in mesi, dal 2003 al 2088. Impattante."},{name:"Yearly Trends",desc:"Analisi comparative degli anni passati. Scopri qual  stato il tuo anno pi produttivo."},{name:"Category Balance",desc:"Grafico radar per vedere se stai trascurando aree vitali (Salute, Lavoro, Relazioni)."}]},{title:"Intelligence & AI",description:"Il tuo secondo cervello, potenziato dall'AI locale.",icon:ju,features:[{name:"AI Neural Coach",desc:"Utilizza Local LLM (Ollama) per analizzare i tuoi dati e darti consigli settimanali su misura."},{name:"Mood & Energy Matrix",desc:"Traccia Energia e Umore su un piano cartesiano. Scopri quando sei al picco della performance."},{name:"Privacy First AI",desc:"L'AI gira sul TUO computer. Nessun dato viene inviato a server esterni o cloud AI."},{name:"Correlations",desc:"Il sistema impara: 'Quando dormi male (Mood), salti spesso l'allenamento (Habit)'."}]},{title:"Utilities Suite",description:"Tutti gli strumenti che ti servono, in un unico posto.",icon:Go,features:[{name:"Reading Tracker",desc:"Calendario specifico per la lettura. Traccia pagine e consistenza giornaliera."},{name:"Markdown Memos",desc:"Editor di testo integrato con supporto Markdown per note veloci e idee."},{name:"Smart Deletion",desc:"Archiviazione intelligente (Soft Delete) per non perdere lo storico delle abitudini cancellate."},{name:"Full Backup",desc:"Esporta tutti i tuoi dati in JSON con un click. Sei il proprietario delle tue informazioni."}]}];return u.jsxs("div",{className:"min-h-screen bg-black text-white selection:bg-purple-900 selection:text-white overflow-x-hidden",children:[u.jsx("nav",{className:"fixed top-0 w-full z-50 border-b border-white/10 bg-black/50 backdrop-blur-md",children:u.jsxs("div",{className:"container mx-auto px-6 h-16 flex items-center justify-between",children:[u.jsxs(xr,{to:"/",className:"flex items-center gap-2 text-zinc-400 hover:text-white transition-colors",children:[u.jsx(ql,{size:20}),u.jsx("span",{className:"hidden md:inline text-sm font-medium",children:"Torna alla Home"})]}),u.jsx("span",{className:"font-semibold text-lg tracking-tight",children:"System Capabilities"}),u.jsx(cs,{})]})}),u.jsx("section",{className:"pt-32 pb-20 px-6 relative overflow-hidden",children:u.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[u.jsxs(Qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-purple-500/10 border border-purple-500/20 text-xs font-medium text-purple-300 mb-6",children:[u.jsx(Gi,{size:12}),u.jsx("span",{children:"Full Feature List"})]}),u.jsxs(Qe.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-5xl md:text-7xl font-bold tracking-tight mb-8",children:["More Than Just ",u.jsx("br",{}),u.jsx("span",{className:"bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Checkboxes."})]}),u.jsx(Qe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-lg md:text-xl text-zinc-400 max-w-2xl mx-auto leading-relaxed",children:"Un vero sistema operativo per la vita. Ogni modulo  progettato per lavorare in sinergia con gli altri."})]})}),u.jsx("section",{className:"py-12 px-6",children:u.jsx("div",{className:"container mx-auto max-w-6xl space-y-24",children:r.map((n,i)=>u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"flex flex-col md:flex-row items-start md:items-end gap-4 mb-12 pb-6 border-b border-white/10",children:u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx(n.icon,{className:"text-purple-500",size:28}),u.jsx("h2",{className:"text-3xl font-bold",children:n.title})]}),u.jsx("p",{className:"text-zinc-400 text-lg",children:n.description})]})}),u.jsx(Qe.div,{variants:t,initial:"initial",whileInView:"animate",viewport:{once:!0,margin:"-100px"},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:n.features.map((a,o)=>u.jsxs(Qe.div,{variants:e,className:"p-6 rounded-2xl bg-zinc-900/30 border border-white/5 hover:bg-zinc-800/50 hover:border-purple-500/20 transition-all duration-300 group",children:[u.jsx("h3",{className:"font-bold text-lg mb-3 group-hover:text-purple-300 transition-colors",children:a.name}),u.jsx("p",{className:"text-sm text-zinc-500 leading-relaxed",children:a.desc})]},o))})]},i))})}),u.jsx("section",{className:"py-20 px-6 bg-zinc-900/20 mt-20 border-y border-white/5",children:u.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[u.jsx(Q5,{className:"w-12 h-12 text-zinc-500 mx-auto mb-6"}),u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Mobile & Desktop Native"}),u.jsx("p",{className:"text-zinc-400 mb-8 max-w-2xl mx-auto",children:"Tutte queste funzionalit sono accessibili al 100% da qualsiasi dispositivo. L'interfaccia si adatta fluidamente dal monitor 4K del tuo desktop allo schermo del tuo smartphone."}),u.jsxs("div",{className:"flex justify-center gap-4 text-sm text-zinc-500",children:[u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(Ia,{size:16})," iOS Ready"]}),u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(Ia,{size:16})," Android Ready"]}),u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(Ia,{size:16})," MacOS/Windows"]})]})]})}),u.jsx("footer",{className:"py-12 bg-black text-center",children:u.jsxs("div",{className:"container mx-auto px-6",children:[u.jsx("p",{className:"text-zinc-500 text-sm mb-6",children:"Pronto a prendere il controllo?"}),u.jsx("a",{href:"https://github.com/simo-hue/habit-tracker",target:"_blank",rel:"noreferrer",children:u.jsx(Ce,{className:"bg-white text-black hover:bg-zinc-200 rounded-full px-8 py-6 text-lg",children:"Vai su GitHub"})})]})})]})},kZ=()=>{const[e,t]=S.useState(null),{toast:r}=f5(),n=(a,o)=>{navigator.clipboard.writeText(a),t(o),r({title:"Copiato negli appunti!",duration:2e3}),setTimeout(()=>t(null),2e3)},i="https://raw.githubusercontent.com/simo-hue/habit-tracker/main/schema.sql";return u.jsxs("div",{className:"min-h-screen bg-black text-white selection:bg-green-900 selection:text-white overflow-x-hidden",children:[u.jsx("nav",{className:"fixed top-0 w-full z-50 border-b border-white/10 bg-black/50 backdrop-blur-md",children:u.jsxs("div",{className:"container mx-auto px-6 h-16 flex items-center justify-between",children:[u.jsxs(xr,{to:"/",className:"flex items-center gap-2 text-zinc-400 hover:text-white transition-colors",children:[u.jsx(ql,{size:20}),u.jsx("span",{className:"hidden md:inline text-sm font-medium",children:"Torna alla Home"})]}),u.jsx(cs,{})]})}),u.jsx("section",{className:"pt-32 pb-12 px-6",children:u.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[u.jsx(Qe.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-4xl md:text-6xl font-bold tracking-tight mb-6",children:"Il tuo OS in 10 minuti."}),u.jsx(Qe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-lg text-zinc-400 max-w-2xl mx-auto",children:"Non serve essere un programmatore esperto. Segui questa guida passo-passo per installare Mattioli.OS sul tuo computer e diventare operativo oggi stesso."})]})}),u.jsx("section",{className:"py-12 px-6",children:u.jsxs("div",{className:"container mx-auto max-w-3xl space-y-12",children:[u.jsxs("div",{className:"relative pl-8 border-l border-white/10 pb-12",children:[u.jsx("span",{className:"absolute -left-4 top-0 flex h-8 w-8 items-center justify-center rounded-full bg-zinc-900 ring-2 ring-white/10",children:"1"}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("h2",{className:"text-2xl font-bold mb-2 flex items-center gap-2",children:[u.jsx(rl,{className:"text-blue-400"})," Prerequisiti"]}),u.jsx("p",{className:"text-zinc-400",children:"Prima di iniziare, assicurati di avere questi software installati."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("a",{href:"https://code.visualstudio.com/",target:"_blank",rel:"noopener noreferrer",className:"p-4 rounded-xl bg-zinc-900/50 border border-white/5 hover:bg-zinc-800 transition-colors group",children:[u.jsx("div",{className:"font-bold mb-1 group-hover:text-blue-400 transition-colors",children:"VS Code"}),u.jsx("div",{className:"text-xs text-zinc-500",children:"Editor di Codice"})]}),u.jsxs("a",{href:"https://nodejs.org/",target:"_blank",rel:"noopener noreferrer",className:"p-4 rounded-xl bg-zinc-900/50 border border-white/5 hover:bg-zinc-800 transition-colors group",children:[u.jsx("div",{className:"font-bold mb-1 group-hover:text-green-400 transition-colors",children:"Node.js (LTS)"}),u.jsx("div",{className:"text-xs text-zinc-500",children:"Motore JavaScript"})]}),u.jsxs("a",{href:"https://git-scm.com/downloads",target:"_blank",rel:"noopener noreferrer",className:"p-4 rounded-xl bg-zinc-900/50 border border-white/5 hover:bg-zinc-800 transition-colors group",children:[u.jsx("div",{className:"font-bold mb-1 group-hover:text-amber-400 transition-colors",children:"Git"}),u.jsx("div",{className:"text-xs text-zinc-500",children:"Version Control"})]})]})]}),u.jsxs("div",{className:"relative pl-8 border-l border-white/10 pb-12",children:[u.jsx("span",{className:"absolute -left-4 top-0 flex h-8 w-8 items-center justify-center rounded-full bg-zinc-900 ring-2 ring-white/10",children:"2"}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("h2",{className:"text-2xl font-bold mb-2 flex items-center gap-2",children:[u.jsx(Go,{className:"text-green-400"})," Database Setup"]}),u.jsx("p",{className:"text-zinc-400 mb-4",children:"Mattioli.OS utilizza Supabase (gratuito). Creiamo il tuo backend."}),u.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-zinc-300 ml-2 marker:text-zinc-500",children:[u.jsxs("li",{children:["Vai su ",u.jsx("a",{href:"https://supabase.com",target:"_blank",className:"text-green-400 hover:underline",children:"supabase.com"})," e crea un account."]}),u.jsxs("li",{children:["Clicca su ",u.jsx("strong",{children:'"New Project"'}),' e dagli un nome (es. "My Life OS").']}),u.jsxs("li",{children:["Una volta pronto il progetto, vai nella sezione ",u.jsx("strong",{children:"SQL Editor"})," (icona terminale a sinistra)."]}),u.jsxs("li",{children:["Copia il codice qui sotto e incollalo nell'editor, poi clicca ",u.jsx("strong",{children:"Run"}),"."]})]})]}),u.jsxs("div",{className:"bg-black/50 rounded-xl border border-white/10 overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-white/5 border-b border-white/5",children:[u.jsx("span",{className:"text-xs font-mono text-zinc-400",children:"schema.sql"}),u.jsxs(Ce,{variant:"ghost",size:"sm",className:"h-8 gap-2 text-xs",onClick:()=>window.open(i,"_blank"),children:[u.jsx(rl,{size:14})," Scarica SQL completo"]})]}),u.jsx("div",{className:"p-4 overflow-x-auto text-xs font-mono text-zinc-400 bg-black/80 h-32 relative",children:u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/60 backdrop-blur-sm z-10 text-center p-4",children:u.jsxs("p",{children:["Il file  troppo lungo per essere mostrato qui.",u.jsx("br",{}),"Scaricalo cliccando il bottone sopra."]})})})]}),u.jsxs("div",{className:"mt-4 p-4 rounded-xl bg-amber-500/10 border border-amber-500/20 flex gap-3 text-amber-200/80 text-sm",children:[u.jsx(nl,{className:"shrink-0",size:18}),u.jsxs("p",{children:["Dopo aver eseguito l'SQL, vai su ",u.jsx("strong",{children:"Project Settings > API"}),". Ti serviranno ",u.jsx("strong",{children:"Project URL"})," e ",u.jsx("strong",{children:"anon public key"})," per dopo."]})]})]}),u.jsxs("div",{className:"relative pl-8 border-l border-white/10 pb-12",children:[u.jsx("span",{className:"absolute -left-4 top-0 flex h-8 w-8 items-center justify-center rounded-full bg-zinc-900 ring-2 ring-white/10",children:"3"}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("h2",{className:"text-2xl font-bold mb-2 flex items-center gap-2",children:[u.jsx(Z5,{className:"text-purple-400"})," Installazione Codice"]}),u.jsx("p",{className:"text-zinc-400",children:'Scarichiamo il "motore" sul tuo computer.'})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("p",{className:"text-sm text-zinc-300",children:"Apri il terminale (o CMD) e incolla questi comandi uno alla volta:"}),u.jsxs("div",{className:"group relative rounded-xl bg-zinc-900 border border-white/10 p-4",children:[u.jsx("code",{className:"block mb-2 text-sm text-purple-400 font-mono",children:"# 1. Clona il repository"}),u.jsx("code",{className:"font-mono text-sm text-zinc-300",children:"git clone https://github.com/simo-hue/habit-tracker.git"}),u.jsx(Ce,{size:"icon",variant:"ghost",className:"absolute right-2 top-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>n("git clone https://github.com/simo-hue/habit-tracker.git","step3-1"),children:e==="step3-1"?u.jsx(ci,{size:16,className:"text-green-500"}):u.jsx(Gg,{size:16})})]}),u.jsxs("div",{className:"group relative rounded-xl bg-zinc-900 border border-white/10 p-4",children:[u.jsx("code",{className:"block mb-2 text-sm text-purple-400 font-mono",children:"# 2. Entra nella cartella"}),u.jsx("code",{className:"font-mono text-sm text-zinc-300",children:"cd habit-tracker"})]}),u.jsxs("div",{className:"group relative rounded-xl bg-zinc-900 border border-white/10 p-4",children:[u.jsx("code",{className:"block mb-2 text-sm text-purple-400 font-mono",children:"# 3. Installa le dipendenze"}),u.jsx("code",{className:"font-mono text-sm text-zinc-300",children:"npm install"}),u.jsx(Ce,{size:"icon",variant:"ghost",className:"absolute right-2 top-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>n("npm install","step3-3"),children:e==="step3-3"?u.jsx(ci,{size:16,className:"text-green-500"}):u.jsx(Gg,{size:16})})]})]})]}),u.jsxs("div",{className:"relative pl-8 border-l border-white/10 pb-12",children:[u.jsx("span",{className:"absolute -left-4 top-0 flex h-8 w-8 items-center justify-center rounded-full bg-zinc-900 ring-2 ring-white/10",children:"4"}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("h2",{className:"text-2xl font-bold mb-2 flex items-center gap-2",children:[u.jsx(N_,{className:"text-red-400"})," Configurazione Segreta"]}),u.jsx("p",{className:"text-zinc-400",children:"Colleghiamo il codice al tuo database."})]}),u.jsxs("ol",{className:"list-decimal list-inside space-y-3 text-zinc-300 ml-2",children:[u.jsxs("li",{children:["Apri la cartella ",u.jsx("code",{className:"bg-white/10 px-1 py-0.5 rounded text-xs",children:"habit-tracker"})," con ",u.jsx("strong",{children:"VS Code"}),"."]}),u.jsxs("li",{children:["Trova il file chiamato ",u.jsx("code",{className:"bg-white/10 px-1 py-0.5 rounded text-xs",children:".env.example"})," (potrebbe essere nascosto, usa cmd+shift+. su mac)."]}),u.jsxs("li",{children:["Rinominalo in ",u.jsx("code",{className:"bg-white/10 px-1 py-0.5 rounded text-xs",children:".env"}),"."]}),u.jsx("li",{children:"Apri il file e incolla le chiavi che hai preso da Supabase nel passaggio 2."})]}),u.jsxs("div",{className:"mt-4 p-4 rounded-xl bg-zinc-900 border border-white/10 font-mono text-sm overflow-x-auto",children:[u.jsx("div",{className:"text-zinc-500",children:"# .env file content"}),u.jsx("div",{className:"text-zinc-300",children:"VITE_SUPABASE_URL=https://tuo-project.supabase.co"}),u.jsx("div",{className:"text-zinc-300",children:"VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6Ikp..."})]})]}),u.jsxs("div",{className:"relative pl-8",children:[u.jsx("span",{className:"absolute -left-4 top-0 flex h-8 w-8 items-center justify-center rounded-full bg-green-500 ring-4 ring-black",children:u.jsx(k9,{size:14,className:"text-black fill-current ml-0.5"})}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold mb-2 flex items-center gap-2",children:u.jsx("span",{className:"text-green-500",children:"Lancio!"})}),u.jsx("p",{className:"text-zinc-400",children:" il momento della verit."})]}),u.jsxs("div",{className:"group relative rounded-xl bg-zinc-900 border border-green-500/30 p-4 mb-4",children:[u.jsx("code",{className:"font-mono text-sm text-green-400",children:"npm run dev"}),u.jsx(Ce,{size:"icon",variant:"ghost",className:"absolute right-2 top-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>n("npm run dev","step5"),children:e==="step5"?u.jsx(ci,{size:16,className:"text-green-500"}):u.jsx(Gg,{size:16})})]}),u.jsxs("p",{className:"text-zinc-400",children:["Ora apri il browser e vai su ",u.jsx("a",{href:"http://localhost:8080",className:"text-white hover:underline font-mono",children:"http://localhost:8080"})," (o la porta indicata).",u.jsx("br",{}),"Benvenuto nel tuo nuovo Sistema Operativo."]})]})]})}),u.jsx("section",{className:"py-12 px-6 border-t border-white/10 bg-zinc-900/10",children:u.jsxs("div",{className:"container mx-auto max-w-3xl",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("span",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-blue-500/10 text-blue-400 font-bold text-sm ring-1 ring-blue-500/20",children:"Extra"}),u.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[u.jsx(P_,{className:"text-blue-400"})," Pubblica Online"]})]}),u.jsx("p",{className:"text-zinc-400",children:"Vuoi usare Mattioli.OS da telefono o condividerlo? Ecco come metterlo online gratis."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"p-6 rounded-2xl bg-zinc-900 border border-white/10 hover:border-white/20 transition-colors",children:[u.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[u.jsx("div",{className:"p-1.5 rounded bg-white text-black",children:u.jsx("svg",{width:"14",height:"14",viewBox:"0 0 76 65",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M37.5274 0L75.0548 65H0L37.5274 0Z",fill:"currentColor"})})}),"Vercel (Consigliato)"]}),u.jsxs("ul",{className:"space-y-3 text-sm text-zinc-400 mb-6",children:[u.jsxs("li",{className:"flex gap-2",children:[u.jsx(ci,{size:16,className:"text-green-500 shrink-0"})," Configurazione automatica"]}),u.jsxs("li",{className:"flex gap-2",children:[u.jsx(ci,{size:16,className:"text-green-500 shrink-0"})," Aggiornamenti automatici da Git"]})]}),u.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-zinc-300 text-sm mb-6 marker:text-zinc-500",children:[u.jsxs("li",{children:["Carica il progetto su un tuo repository ",u.jsx("strong",{children:"GitHub"}),"."]}),u.jsxs("li",{children:["Vai su ",u.jsx("a",{href:"https://vercel.com/new",target:"_blank",className:"text-white hover:underline",children:"vercel.com/new"})," e importa il repo."]}),u.jsxs("li",{children:["Nelle impostazioni, espandi ",u.jsx("strong",{children:"Environment Variables"}),"."]}),u.jsxs("li",{children:["Copia le variabili dal tuo file ",u.jsx("code",{className:"text-xs bg-white/10 px-1 py-0.5 rounded",children:".env"})," (URL e Key)."]}),u.jsxs("li",{children:["Clicca ",u.jsx("strong",{children:"Deploy"}),"."]})]})]}),u.jsxs("div",{className:"p-6 rounded-2xl bg-zinc-900 border border-white/10 hover:border-white/20 transition-colors",children:[u.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[u.jsx(T_,{size:20}),"GitHub Pages"]}),u.jsxs("ul",{className:"space-y-3 text-sm text-zinc-400 mb-6",children:[u.jsxs("li",{className:"flex gap-2",children:[u.jsx(ci,{size:16,className:"text-green-500 shrink-0"})," Completamente gratuito"]}),u.jsxs("li",{className:"flex gap-2",children:[u.jsx(nl,{size:16,className:"text-amber-500 shrink-0"})," Configurazione manuale path"]})]}),u.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-zinc-300 text-sm mb-6 marker:text-zinc-500",children:[u.jsxs("li",{children:["Nel file ",u.jsx("code",{className:"text-xs bg-white/10 px-1 py-0.5 rounded",children:"vite.config.ts"}),", aggiungi ",u.jsx("code",{className:"text-xs bg-white/10 px-1 py-0.5 rounded",children:"base: '/nome-repo/',"})]}),u.jsxs("li",{children:["Esegui ",u.jsx("code",{className:"text-xs bg-white/10 px-1 py-0.5 rounded",children:"npm run build"})," nel terminale."]}),u.jsxs("li",{children:["Carica la cartella ",u.jsx("code",{className:"text-xs bg-white/10 px-1 py-0.5 rounded",children:"dist"})," su GitHub."]}),u.jsxs("li",{children:["Nelle ",u.jsx("strong",{children:"Settings"})," del repo, vai su ",u.jsx("strong",{children:"Pages"})," e seleziona il branch/folder."]})]})]})]})]})}),u.jsxs("section",{className:"py-20 text-center border-t border-white/10 bg-zinc-900/20",children:[u.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Problemi durante l'installazione?"}),u.jsx("p",{className:"text-zinc-400 mb-8",children:"Nessun problema. Controlla le FAQ o apri una Issue."}),u.jsxs("div",{className:"flex justify-center gap-4",children:[u.jsx(xr,{to:"/faq",children:u.jsx(Ce,{variant:"secondary",children:"Consulta le FAQ"})}),u.jsx("a",{href:"https://github.com/simo-hue/habit-tracker/issues",target:"_blank",rel:"noopener noreferrer",children:u.jsx(Ce,{variant:"outline",children:"Chiedi Aiuto su GitHub"})})]})]})]})},EZ=()=>{const e={initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5}};return u.jsxs("div",{className:"min-h-screen bg-black text-white selection:bg-emerald-900 selection:text-white overflow-x-hidden",children:[u.jsx("nav",{className:"fixed top-0 w-full z-50 border-b border-white/10 bg-black/50 backdrop-blur-md",children:u.jsxs("div",{className:"container mx-auto px-6 h-16 flex items-center justify-between",children:[u.jsxs(xr,{to:"/",className:"flex items-center gap-2 text-zinc-400 hover:text-white transition-colors",children:[u.jsx(ql,{size:20}),u.jsx("span",{className:"text-sm font-medium",children:"Torna alla Home"})]}),u.jsx("span",{className:"font-semibold text-lg tracking-tight hidden md:block",children:"The Founder"}),u.jsx("div",{className:"w-20 hidden md:block"}),u.jsx(cs,{})]})}),u.jsxs("section",{className:"pt-32 pb-20 px-6 relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 w-1/2 h-full bg-emerald-900/10 blur-[120px] -z-10"}),u.jsx("div",{className:"absolute top-0 left-0 w-1/2 h-full bg-purple-900/10 blur-[120px] -z-10"}),u.jsxs("div",{className:"container mx-auto max-w-5xl",children:[u.jsxs(Qe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center mb-16",children:[u.jsxs("h1",{className:"text-4xl md:text-8xl font-bold tracking-tighter mb-6",children:["Simone ",u.jsx("span",{className:"text-zinc-500",children:"Mattioli"})]}),u.jsx("p",{className:"text-lg md:text-2xl text-zinc-400 max-w-2xl mx-auto font-light",children:"Dal codice alla cima. Un viaggio tra byte e natura selvaggia."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-16 items-start",children:[u.jsxs(Qe.div,{variants:e,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"p-8 rounded-3xl bg-zinc-900/30 border border-purple-500/10 hover:border-purple-500/30 transition-all duration-300",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-500/10 flex items-center justify-center mb-6 text-purple-400",children:u.jsx(Z5,{size:24})}),u.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:["Tech & AI ",u.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-purple-500/20 text-purple-300",children:"Developer"})]}),u.jsxs("p",{className:"text-zinc-400 leading-relaxed mb-6",children:["Laureando in Informatica all'Universit di Verona, appassionato di AI. Sono di base una persona molto curiosa, ma soprattutto DISCIPLINATA che vuole raggiungere degli obiettivi grandi.",u.jsx("br",{}),u.jsx("br",{}),"Mattioli.OS nasce da qui: dalla necessit di struttura in un mondo caotico."]})]}),u.jsxs(Qe.div,{variants:e,initial:"initial",whileInView:"animate",viewport:{once:!0},transition:{delay:.2},className:"p-8 rounded-3xl bg-zinc-900/30 border border-emerald-500/10 hover:border-emerald-500/30 transition-all duration-300",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-500/10 flex items-center justify-center mb-6 text-emerald-400",children:u.jsx(w9,{size:24})}),u.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:["Mountain ",u.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-emerald-500/20 text-emerald-300",children:"Explorer"})]}),u.jsxs("p",{className:"text-zinc-400 leading-relaxed mb-6",children:["Quando chiudo l'IDE, apro la mappa della Val di Rabbi. Inseguo cervi col binocolo e scalo vette al tramonto.",u.jsx("br",{}),u.jsx("br",{}),"Ho imparato pi sulla resilienza gestendo imprevisti in montagna che fixando bug. La natura  il mio vero reset."]})]})]})]})]}),u.jsx("section",{className:"py-20 px-6 bg-zinc-900/20 border-y border-white/5",children:u.jsxs("div",{className:"container mx-auto max-w-3xl text-center",children:[u.jsx(W5,{className:"w-12 h-12 text-rose-500 mx-auto mb-6"}),u.jsx("h3",{className:"text-3xl font-bold mb-6",children:'"Vision without action is just a dream."'}),u.jsxs("p",{className:"text-zinc-400 text-lg leading-relaxed mb-8",children:[`Ho fatto volontariato nelle favelas del Brasile, un'esperienza che mi ha insegnato l'importanza dell'empatia e del "restituire". Credo nell'Open Source come forma di condivisione di conoscenza.`,u.jsx("br",{}),u.jsx("br",{}),"Che sia scrivere un algoritmo o tracciare un sentiero, cerco sempre di creare qualcosa che abbia un impatto reale, anche piccolo."]})]})}),u.jsx("section",{className:"py-20 px-6",children:u.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[u.jsx("h2",{className:"text-2xl font-bold mb-12",children:"Connect with me"}),u.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[u.jsx("a",{href:"https://github.com/simo-hue",target:"_blank",rel:"noopener noreferrer",children:u.jsxs(Ce,{variant:"outline",className:"h-14 px-8 rounded-full border-white/10 hover:bg-white hover:text-black gap-2 transition-all",children:[u.jsx(T_,{size:20}),"GitHub"]})}),u.jsx("a",{href:"https://www.linkedin.com/in/simonemattioli2003/",target:"_blank",rel:"noopener noreferrer",children:u.jsxs(Ce,{variant:"outline",className:"h-14 px-8 rounded-full border-white/10 hover:bg-[#0077b5] hover:border-[#0077b5] hover:text-white gap-2 transition-all",children:[u.jsx(m9,{size:20}),"LinkedIn"]})}),u.jsx("a",{href:"https://mountainfaunalover.github.io/",target:"_blank",rel:"noopener noreferrer",children:u.jsxs(Ce,{variant:"outline",className:"h-14 px-8 rounded-full border-white/10 hover:bg-emerald-600 hover:border-emerald-600 hover:text-white gap-2 transition-all",children:[u.jsx(N9,{size:20}),"Mountain Project"]})}),u.jsx("a",{href:"http://simo-hue.github.io",target:"_blank",rel:"noopener noreferrer",children:u.jsxs(Ce,{variant:"outline",className:"h-14 px-8 rounded-full border-white/10 hover:bg-purple-600 hover:border-purple-600 hover:text-white gap-2 transition-all w-full md:w-auto",children:[u.jsx(P_,{size:20}),"Personal Site"]})})]})]})})]})};var Di={},hf={},Qw=function(e,t){return Qw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Qw(e,t)};function D3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Qw(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Sn=function(){return Sn=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Sn.apply(this,arguments)};function ro(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function $3(e,t,r,n){var i=arguments.length,a=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a}function L3(e,t){return function(r,n){t(r,n,e)}}function z3(e,t,r,n,i,a){function o(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var s=n.kind,l=s==="getter"?"get":s==="setter"?"set":"value",c=!t&&e?n.static?e:e.prototype:null,d=t||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),f,h=!1,p=r.length-1;p>=0;p--){var v={};for(var m in n)v[m]=m==="access"?{}:n[m];for(var m in n.access)v.access[m]=n.access[m];v.addInitializer=function(y){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(y||null))};var g=(0,r[p])(s==="accessor"?{get:d.get,set:d.set}:d[l],v);if(s==="accessor"){if(g===void 0)continue;if(g===null||typeof g!="object")throw new TypeError("Object expected");(f=o(g.get))&&(d.get=f),(f=o(g.set))&&(d.set=f),(f=o(g.init))&&i.unshift(f)}else(f=o(g))&&(s==="field"?i.unshift(f):d[l]=f)}c&&Object.defineProperty(c,n.name,d),h=!0}function F3(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function B3(e){return typeof e=="symbol"?e:"".concat(e)}function q3(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function U3(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function _e(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?a(d.value):i(d.value).then(s,l)}c((n=n.apply(e,t||[])).next())})}function V3(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(d){return l([c,d])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(d){c=[6,d],i=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var _m=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});function W3(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&_m(t,e,r)}function Th(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Oj(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function H3(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Oj(arguments[t]));return e}function G3(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}function Cj(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function sl(e){return this instanceof sl?(this.v=e,this):new sl(e)}function K3(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(p){return function(v){return Promise.resolve(v).then(p,f)}}function s(p,v){n[p]&&(i[p]=function(m){return new Promise(function(g,y){a.push([p,m,g,y])>1||l(p,m)})},v&&(i[p]=v(i[p])))}function l(p,v){try{c(n[p](v))}catch(m){h(a[0][3],m)}}function c(p){p.value instanceof sl?Promise.resolve(p.value.v).then(d,f):h(a[0][2],p)}function d(p){l("next",p)}function f(p){l("throw",p)}function h(p,v){p(v),a.shift(),a.length&&l(a[0][0],a[0][1])}}function Y3(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,a){t[i]=e[i]?function(o){return(r=!r)?{value:sl(e[i](o)),done:!1}:a?a(o):o}:a}}function X3(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Th=="function"?Th(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=e[a]&&function(o){return new Promise(function(s,l){o=e[a](o),i(s,l,o.done,o.value)})}}function i(a,o,s,l){Promise.resolve(l).then(function(c){a({value:c,done:s})},o)}}function Q3(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var AZ=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},Jw=function(e){return Jw=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Jw(e)};function J3(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Jw(e),n=0;n<r.length;n++)r[n]!=="default"&&_m(t,e,r[n]);return AZ(t,e),t}function Z3(e){return e&&e.__esModule?e:{default:e}}function e4(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function t4(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}function r4(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function n4(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var OZ=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function i4(e){function t(a){e.error=e.hasError?new OZ(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var r,n=0;function i(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(i,function(o){return t(o),i()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function a4(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,a,o){return n?t?".jsx":".js":i&&(!a||!o)?r:i+a+"."+o.toLowerCase()+"js"}):e}const CZ={__extends:D3,__assign:Sn,__rest:ro,__decorate:$3,__param:L3,__esDecorate:z3,__runInitializers:F3,__propKey:B3,__setFunctionName:q3,__metadata:U3,__awaiter:_e,__generator:V3,__createBinding:_m,__exportStar:W3,__values:Th,__read:Oj,__spread:H3,__spreadArrays:G3,__spreadArray:Cj,__await:sl,__asyncGenerator:K3,__asyncDelegator:Y3,__asyncValues:X3,__makeTemplateObject:Q3,__importStar:J3,__importDefault:Z3,__classPrivateFieldGet:e4,__classPrivateFieldSet:t4,__classPrivateFieldIn:r4,__addDisposableResource:n4,__disposeResources:i4,__rewriteRelativeImportExtension:a4},TZ=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:n4,get __assign(){return Sn},__asyncDelegator:Y3,__asyncGenerator:K3,__asyncValues:X3,__await:sl,__awaiter:_e,__classPrivateFieldGet:e4,__classPrivateFieldIn:r4,__classPrivateFieldSet:t4,__createBinding:_m,__decorate:$3,__disposeResources:i4,__esDecorate:z3,__exportStar:W3,__extends:D3,__generator:V3,__importDefault:Z3,__importStar:J3,__makeTemplateObject:Q3,__metadata:U3,__param:L3,__propKey:B3,__read:Oj,__rest:ro,__rewriteRelativeImportExtension:a4,__runInitializers:F3,__setFunctionName:q3,__spread:H3,__spreadArray:Cj,__spreadArrays:G3,__values:Th,default:CZ},Symbol.toStringTag,{value:"Module"})),PZ=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let jm=class extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}},o4=class extends jm{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Zw=class extends jm{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},e1=class extends jm{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var Ph;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ph||(Ph={}));class NZ{constructor(t,{headers:r={},customFetch:n,region:i=Ph.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=PZ(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return _e(this,arguments,void 0,function*(r,n={}){var i;let a,o;try{const{headers:s,method:l,body:c,signal:d,timeout:f}=n;let h={},{region:p}=n;p||(p=this.region);const v=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,v.searchParams.set("forceFunctionRegion",p));let m;c&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=c):typeof c=="string"?(h["Content-Type"]="text/plain",m=c):typeof FormData<"u"&&c instanceof FormData?m=c:(h["Content-Type"]="application/json",m=JSON.stringify(c)):m=c;let g=d;f&&(o=new AbortController,a=setTimeout(()=>o.abort(),f),d?(g=o.signal,d.addEventListener("abort",()=>o.abort())):g=o.signal);const y=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:m,signal:g}).catch(w=>{throw new o4(w)}),b=y.headers.get("x-relay-error");if(b&&b==="true")throw new Zw(y);if(!y.ok)throw new e1(y);let x=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),_;return x==="application/json"?_=yield y.json():x==="application/octet-stream"||x==="application/pdf"?_=yield y.blob():x==="text/event-stream"?_=y:x==="multipart/form-data"?_=yield y.formData():_=yield y.text(),{data:_,error:null,response:y}}catch(s){return{data:null,error:s,response:s instanceof e1||s instanceof Zw?s.context:void 0}}finally{a&&clearTimeout(a)}})}}const RZ=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Ph},FunctionsClient:NZ,FunctionsError:jm,FunctionsFetchError:o4,FunctionsHttpError:e1,FunctionsRelayError:Zw},Symbol.toStringTag,{value:"Module"})),s4=Td(RZ);var Sr={};const Yl=Td(TZ);var pf={},mf={},gf={},vf={},yf={},bf={},DO;function l4(){if(DO)return bf;DO=1,Object.defineProperty(bf,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return bf.default=e,bf}var $O;function c4(){if($O)return yf;$O=1,Object.defineProperty(yf,"__esModule",{value:!0});const t=Yl.__importDefault(l4());let r=class{constructor(i){var a,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let s=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,d,f,h;let p=null,v=null,m=null,g=l.status,y=l.statusText;if(l.ok){if(this.method!=="HEAD"){const w=await l.text();w===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?v=w:v=JSON.parse(w))}const x=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),_=(f=l.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");x&&_&&_.length>1&&(m=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(p={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,m=null,g=406,y="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const x=await l.text();try{p=JSON.parse(x),Array.isArray(p)&&l.status===404&&(v=[],p=null,g=200,y="OK")}catch{l.status===404&&x===""?(g=204,y="No Content"):p={message:x}}if(p&&this.isMaybeSingle&&(!((h=p?.details)===null||h===void 0)&&h.includes("0 rows"))&&(p=null,g=200,y="OK"),p&&this.shouldThrowOnError)throw new t.default(p)}return{error:p,data:v,count:m,status:g,statusText:y}});return this.shouldThrowOnError||(s=s.catch(l=>{var c,d,f,h,p,v;let m="";const g=l?.cause;if(g){const y=(c=g?.message)!==null&&c!==void 0?c:"",b=(d=g?.code)!==null&&d!==void 0?d:"";m=`${(f=l?.name)!==null&&f!==void 0?f:"FetchError"}: ${l?.message}`,m+=`

Caused by: ${(h=g?.name)!==null&&h!==void 0?h:"Error"}: ${y}`,b&&(m+=` (${b})`),g?.stack&&(m+=`
${g.stack}`)}else m=(p=l?.stack)!==null&&p!==void 0?p:"";return{error:{message:`${(v=l?.name)!==null&&v!==void 0?v:"FetchError"}: ${l?.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(i,a)}returns(){return this}overrideTypes(){return this}};return yf.default=r,yf}var LO;function u4(){if(LO)return vf;LO=1,Object.defineProperty(vf,"__esModule",{value:!0});const t=Yl.__importDefault(c4());let r=class extends t.default{select(i){let a=!1;const o=(i??"*").split("").map(s=>/\s/.test(s)&&!a?"":(s==='"'&&(a=!a),s)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:s,referencedTable:l=s}={}){const c=l?`${l}.order`:"order",d=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${d?`${d},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(s,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:s=o}={}){const l=typeof s>"u"?"offset":`${s}.offset`,c=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(c,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:s=!1,wal:l=!1,format:c="text"}={}){var d;const f=[i?"analyze":null,a?"verbose":null,o?"settings":null,s?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${h}"; options=${f};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return vf.default=r,vf}var zO;function Tj(){if(zO)return gf;zO=1,Object.defineProperty(gf,"__esModule",{value:!0});const t=Yl.__importDefault(u4()),r=new RegExp("[,()]");let n=class extends t.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}regexMatch(a,o){return this.url.searchParams.append(a,`match.${o}`),this}regexIMatch(a,o){return this.url.searchParams.append(a,`imatch.${o}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}isDistinct(a,o){return this.url.searchParams.append(a,`isdistinct.${o}`),this}in(a,o){const s=Array.from(new Set(o)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`in.(${s})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:s,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const d=s===void 0?"":`(${s})`;return this.url.searchParams.append(a,`${c}fts${d}.${o}`),this}match(a){return Object.entries(a).forEach(([o,s])=>{this.url.searchParams.append(o,`eq.${s}`)}),this}not(a,o,s){return this.url.searchParams.append(a,`not.${o}.${s}`),this}or(a,{foreignTable:o,referencedTable:s=o}={}){const l=s?`${s}.or`:"or";return this.url.searchParams.append(l,`(${a})`),this}filter(a,o,s){return this.url.searchParams.append(a,`${o}.${s}`),this}};return gf.default=n,gf}var FO;function d4(){if(FO)return mf;FO=1,Object.defineProperty(mf,"__esModule",{value:!0});const t=Yl.__importDefault(Tj());let r=class{constructor(i,{headers:a={},schema:o,fetch:s}){this.url=i,this.headers=new Headers(a),this.schema=o,this.fetch=s}select(i,a){const{head:o=!1,count:s}=a??{},l=o?"HEAD":"GET";let c=!1;const d=(i??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",d),s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:o=!0}={}){var s;const l="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(c.length>0){const d=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:s,defaultToNull:l=!0}={}){var c;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(f.length>0){const h=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:a}={}){var o;const s="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var a;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};return mf.default=r,mf}var BO;function IZ(){if(BO)return pf;BO=1,Object.defineProperty(pf,"__esModule",{value:!0});const e=Yl,t=e.__importDefault(d4()),r=e.__importDefault(Tj());let n=class f4{constructor(a,{headers:o={},schema:s,fetch:l}={}){this.url=a,this.headers=new Headers(o),this.schemaName=s,this.fetch=l}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${a}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new f4(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:s=!1,get:l=!1,count:c}={}){var d;let f;const h=new URL(`${this.url}/rpc/${a}`);let p;s||l?(f=s?"HEAD":"GET",Object.entries(o).filter(([m,g])=>g!==void 0).map(([m,g])=>[m,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([m,g])=>{h.searchParams.append(m,g)})):(f="POST",p=o);const v=new Headers(this.headers);return c&&v.set("Prefer",`count=${c}`),new r.default({method:f,url:h,headers:v,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};return pf.default=n,pf}var qO;function h4(){if(qO)return Sr;qO=1,Object.defineProperty(Sr,"__esModule",{value:!0}),Sr.PostgrestError=Sr.PostgrestBuilder=Sr.PostgrestTransformBuilder=Sr.PostgrestFilterBuilder=Sr.PostgrestQueryBuilder=Sr.PostgrestClient=void 0;const e=Yl,t=e.__importDefault(IZ());Sr.PostgrestClient=t.default;const r=e.__importDefault(d4());Sr.PostgrestQueryBuilder=r.default;const n=e.__importDefault(Tj());Sr.PostgrestFilterBuilder=n.default;const i=e.__importDefault(u4());Sr.PostgrestTransformBuilder=i.default;const a=e.__importDefault(c4());Sr.PostgrestBuilder=a.default;const o=e.__importDefault(l4());return Sr.PostgrestError=o.default,Sr.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:o.default},Sr}class p4{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const MZ="2.87.1",DZ=`realtime-js/${MZ}`,m4="1.0.0",$Z="2.0.0",UO=m4,t1=1e4,LZ=1e3,zZ=100;var Co;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Co||(Co={}));var Vt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Vt||(Vt={}));var Un;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Un||(Un={}));var r1;(function(e){e.websocket="websocket"})(r1||(r1={}));var To;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(To||(To={}));class FZ{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var i,a;const o=t.topic,s=(i=t.ref)!==null&&i!==void 0?i:"",l=(a=t.join_ref)!==null&&a!==void 0?a:"",c=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+o.length+c.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let v=new DataView(p),m=0;v.setUint8(m++,this.KINDS.userBroadcastPush),v.setUint8(m++,l.length),v.setUint8(m++,s.length),v.setUint8(m++,o.length),v.setUint8(m++,c.length),v.setUint8(m++,f.length),v.setUint8(m++,r),Array.from(l,y=>v.setUint8(m++,y.charCodeAt(0))),Array.from(s,y=>v.setUint8(m++,y.charCodeAt(0))),Array.from(o,y=>v.setUint8(m++,y.charCodeAt(0))),Array.from(c,y=>v.setUint8(m++,y.charCodeAt(0))),Array.from(f,y=>v.setUint8(m++,y.charCodeAt(0)));var g=new Uint8Array(p.byteLength+n.byteLength);return g.set(new Uint8Array(p),0),g.set(new Uint8Array(n),p.byteLength),g.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,a,o,s,l]=n;return r({join_ref:i,ref:a,topic:o,event:s,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;if(n===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,r,i)}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2),o=r.getUint8(3),s=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(t.slice(l,l+i));l=l+i;const d=n.decode(t.slice(l,l+a));l=l+a;const f=n.decode(t.slice(l,l+o));l=l+o;const h=t.slice(l,t.byteLength),p=s===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,v={type:this.BROADCAST_EVENT,event:d,payload:p};return o>0&&(v.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class g4{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var jt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(jt||(jt={}));const VO=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=BZ(o,e,t,i),a),{}):{}},BZ=(e,t,r,n)=>{const i=t.find(s=>s.name===e),a=i?.type,o=r[e];return a&&!n.includes(a)?v4(a,o):n1(o)},v4=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return WZ(t,r)}switch(e){case jt.bool:return qZ(t);case jt.float4:case jt.float8:case jt.int2:case jt.int4:case jt.int8:case jt.numeric:case jt.oid:return UZ(t);case jt.json:case jt.jsonb:return VZ(t);case jt.timestamp:return HZ(t);case jt.abstime:case jt.date:case jt.daterange:case jt.int4range:case jt.int8range:case jt.money:case jt.reltime:case jt.text:case jt.time:case jt.timestamptz:case jt.timetz:case jt.tsrange:case jt.tstzrange:return n1(t);default:return n1(t)}},n1=e=>e,qZ=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},UZ=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},VZ=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},WZ=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(s=>v4(t,s))}return e},HZ=e=>typeof e=="string"?e.replace(" ","T"):e,y4=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class hv{constructor(t,r,n={},i=t1){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var i1;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(i1||(i1={}));let b4=class ah{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ah.syncState(this.state,i,a,o),this.pendingDiffs.forEach(l=>{this.state=ah.syncDiff(this.state,l,a,o)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ah.syncDiff(this.state,i,a,o),s())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),o=this.transformState(r),s={},l={};return this.map(a,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const f=a[c];if(f){const h=d.map(g=>g.presence_ref),p=f.map(g=>g.presence_ref),v=d.filter(g=>p.indexOf(g.presence_ref)<0),m=f.filter(g=>h.indexOf(g.presence_ref)<0);v.length>0&&(s[c]=v),m.length>0&&(l[c]=m)}else s[c]=d}),this.syncDiff(a,{joins:s,leaves:l},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(s,l)=>{var c;const d=(c=t[s])!==null&&c!==void 0?c:[];if(t[s]=this.cloneDeep(l),d.length>0){const f=t[s].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[s].unshift(...h)}n(s,d,l)}),this.map(o,(s,l)=>{let c=t[s];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),t[s]=c,i(s,c,l),c.length===0&&delete t[s]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var a1;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(a1||(a1={}));var Ws;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ws||(Ws={}));var li;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(li||(li={}));const GZ=Vt;let x4=class Hc{constructor(t,r={config:{}},n){var i,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Vt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new hv(this,Un.join,this.params,this.timeout),this.rejoinTimer=new g4(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Vt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Vt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Un.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new b4(this),this.broadcastEndpointURL=y4(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Vt.closed){const{config:{broadcast:o,presence:s,private:l}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Ws.PRESENCE]&&this.bindings[Ws.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t?.(li.CHANNEL_ERROR,p)),this._onClose(()=>t?.(li.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t?.(li.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,g=(v=m?.length)!==null&&v!==void 0?v:0,y=[];for(let b=0;b<g;b++){const x=m[b],{filter:{event:_,schema:w,table:j,filter:k}}=x,A=p&&p[b];if(A&&A.event===_&&Hc.isFilterValueEqual(A.schema,w)&&Hc.isFilterValueEqual(A.table,j)&&Hc.isFilterValueEqual(A.filter,k))y.push(Object.assign(Object.assign({},x),{id:A.id}));else{this.unsubscribe(),this.state=Vt.errored,t?.(li.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(li.SUBSCRIBED);return}}).receive("error",p=>{this.state=Vt.errored,t?.(li.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t?.(li.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Vt.joined&&t===Ws.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const c=await s.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,s,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),c.receive("ok",()=>a("ok")),c.receive("error",()=>a("error")),c.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Vt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Un.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new hv(this,Un.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Vt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new hv(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>zZ){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const o=t.toLocaleLowerCase(),{close:s,error:l,leave:c,join:d}=Un;if(n&&[s,l,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var v,m,g;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((g=(m=p.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(a=this.bindings[o])===null||a===void 0||a.filter(p=>{var v,m,g,y,b,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const _=p.id,w=(v=p.filter)===null||v===void 0?void 0:v.event;return _&&((m=r.ids)===null||m===void 0?void 0:m.includes(_))&&(w==="*"||w?.toLocaleLowerCase()===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const _=(b=(y=p?.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return _==="*"||_===((x=r?.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:m,table:g,commit_timestamp:y,type:b,errors:x}=v;h=Object.assign(Object.assign({},{schema:m,table:g,commit_timestamp:y,eventType:b,new:{},old:{},errors:x}),this._getPayloadRecords(v))}p.callback(h,n)})}_isClosed(){return this.state===Vt.closed}_isJoined(){return this.state===Vt.joined}_isJoining(){return this.state===Vt.joining}_isLeaving(){return this.state===Vt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Hc.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Un.close,{},t)}_onError(t){this._on(Un.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Vt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=VO(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=VO(t.columns,t.old_record)),r}};const pv=()=>{},xf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},KZ=[1e3,2e3,5e3,1e4],YZ=1e4,XZ=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let QZ=class{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=t1,this.transport=null,this.heartbeatIntervalMs=xf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=pv,this.ref=0,this.reconnectTimer=null,this.vsn=UO,this.logger=pv,this.conn=null,this.sendBuffer=[],this.serializer=new FZ,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${r1.websocket}`,this.httpEndpoint=y4(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=p4.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Co.connecting:return To.Connecting;case Co.open:return To.Open;case Co.closing:return To.Closing;default:return To.Closed}}isConnected(){return this.connectionState()===To.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new x4(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,o=()=>{this.encode(t,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(LZ,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},xf.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:o}=r,s=o?`(${o})`:"",l=a.status||"";this.log("receive",`${l} ${n} ${i} ${s}`.trim(),a),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Co.open||this.conn.readyState===Co.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Un.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([XZ],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const a={access_token:r,version:DZ};r&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(Un.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new g4(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},xf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,o,s,l,c,d,f,h,p;switch(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:t1,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:xf.HEARTBEAT_INTERVAL,this.worker=(a=t?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=t?.heartbeatCallback)!==null&&s!==void 0?s:pv,this.vsn=(l=t?.vsn)!==null&&l!==void 0?l:UO,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t?.reconnectAfterMs)!==null&&c!==void 0?c:(v=>KZ[v-1]||YZ),this.vsn){case m4:this.encode=(d=t?.encode)!==null&&d!==void 0?d:((v,m)=>m(JSON.stringify(v))),this.decode=(f=t?.decode)!==null&&f!==void 0?f:((v,m)=>m(JSON.parse(v)));break;case $Z:this.encode=(h=t?.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t?.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};const JZ=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:GZ,get REALTIME_LISTEN_TYPES(){return Ws},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return a1},get REALTIME_PRESENCE_LISTEN_EVENTS(){return i1},get REALTIME_SUBSCRIBE_STATES(){return li},RealtimeChannel:x4,RealtimeClient:QZ,RealtimePresence:b4,WebSocketFactory:p4},Symbol.toStringTag,{value:"Module"})),w4=Td(JZ);class $d extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Pt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class S4 extends $d{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Nh extends $d{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const Pj=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ZZ=()=>Response,o1=e=>{if(Array.isArray(e))return e.map(r=>o1(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=o1(n)}),t},eee=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},tee=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),mv=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},ree=(e,t,r)=>_e(void 0,void 0,void 0,function*(){const n=yield ZZ();e instanceof n&&!r?.noResolveJson?e.json().then(i=>{const a=e.status||500,o=i?.statusCode||a+"";t(new S4(mv(i),a,o))}).catch(i=>{t(new Nh(mv(i),i))}):t(new Nh(mv(e),e))}),nee=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!n?i:(eee(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(n)):i.body=n,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function Ld(e,t,r,n,i,a){return _e(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(r,nee(t,n,i,a)).then(l=>{if(!l.ok)throw l;return n?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>ree(l,s,n))})})}function Iu(e,t,r,n){return _e(this,void 0,void 0,function*(){return Ld(e,"GET",t,r,n)})}function qn(e,t,r,n,i){return _e(this,void 0,void 0,function*(){return Ld(e,"POST",t,n,i,r)})}function s1(e,t,r,n,i){return _e(this,void 0,void 0,function*(){return Ld(e,"PUT",t,n,i,r)})}function iee(e,t,r,n){return _e(this,void 0,void 0,function*(){return Ld(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Nj(e,t,r,n,i){return _e(this,void 0,void 0,function*(){return Ld(e,"DELETE",t,n,i,r)})}class aee{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return _e(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Pt(t))return{data:null,error:t};throw t}})}}var _4;class oee{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[_4]="BlobDownloadBuilder",this.promise=null}asStream(){return new aee(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return _e(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Pt(t))return{data:null,error:t};throw t}})}}_4=Symbol.toStringTag;const see={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},WO={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class lee{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=Pj(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return _e(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},WO),i);let s=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),l&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(l))):(a=n,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),i?.headers&&(s=Object.assign(Object.assign({},s),i.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),f=yield(t=="PUT"?s1:qn)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:s},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Pt(a))return{data:null,error:a};throw a}})}upload(t,r,n){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return _e(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:WO.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield s1(this.fetch,s.toString(),l,{headers:d});return{data:{path:a,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Pt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return _e(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");const a=yield qn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+a.url),s=o.searchParams.get("token");if(!s)throw new $d("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:s},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pt(n))return{data:null,error:n};throw n}})}update(t,r,n){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return _e(this,void 0,void 0,function*(){try{return{data:yield qn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pt(i))return{data:null,error:i};throw i}})}copy(t,r,n){return _e(this,void 0,void 0,function*(){try{return{data:{path:(yield qn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return _e(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield qn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return _e(this,void 0,void 0,function*(){try{const i=yield qn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pt(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof r?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(r?.transform||{}),o=a?`?${a}`:"",s=this._getFinalPath(t),l=()=>Iu(this.fetch,`${this.url}/${i}/${s}${o}`,{headers:this.headers,noResolveJson:!0});return new oee(l,this.shouldThrowOnError)}info(t){return _e(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Iu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:o1(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pt(n))return{data:null,error:n};throw n}})}exists(t){return _e(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield iee(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pt(n)&&n instanceof Nh){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r?.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const s=typeof r?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(r?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${c}`)}}}remove(t){return _e(this,void 0,void 0,function*(){try{return{data:yield Nj(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}})}list(t,r,n){return _e(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},see),r),{prefix:t||""});return{data:yield qn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pt(i))return{data:null,error:i};throw i}})}listV2(t,r){return _e(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield qn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const j4="2.87.1",k4={"X-Client-Info":`storage-js/${j4}`};class cee{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},k4),r),this.fetch=Pj(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return _e(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Iu(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}})}getBucket(t){return _e(this,void 0,void 0,function*(){try{return{data:yield Iu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}})}createBucket(t){return _e(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield qn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pt(i))return{data:null,error:i};throw i}})}updateBucket(t,r){return _e(this,void 0,void 0,function*(){try{return{data:yield s1(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return _e(this,void 0,void 0,function*(){try{return{data:yield qn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return _e(this,void 0,void 0,function*(){try{return{data:yield Nj(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var Mu=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function uee(e,t,r){const n=new URL(t,e);if(r)for(const[i,a]of Object.entries(r))a!==void 0&&n.searchParams.set(i,a);return n.toString()}async function dee(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function fee(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:a,headers:o}){const s=uee(e.baseUrl,n,i),l=await dee(e.auth),c=await t(s,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...l,...o},body:a?JSON.stringify(a):void 0}),d=await c.text(),f=(c.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!c.ok){const p=f?h:void 0,v=p?.error;throw new Mu(v?.message??`Request failed with status ${c.status}`,{status:c.status,icebergType:v?.type,icebergCode:v?.code,details:p})}return{status:c.status,headers:c.headers,data:h}}}}function wf(e){return e.join("")}var hee=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:wf(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${wf(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${wf(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${wf(e.namespace)}`}),!0}catch(t){if(t instanceof Mu&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Mu&&r.status===409)return;throw r}}};function ms(e){return e.join("")}var pee=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ms(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ms(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ms(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ms(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ms(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ms(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Mu&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Mu&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},mee=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=fee({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new hee(this.client,t),this.tableOps=new pee(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class E4{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},k4),r),this.fetch=Pj(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return _e(this,void 0,void 0,function*(){try{return{data:yield qn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}})}listBuckets(t){return _e(this,void 0,void 0,function*(){try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Iu(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return _e(this,void 0,void 0,function*(){try{return{data:yield Nj(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}})}from(t){if(!tee(t))throw new $d("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new mee({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>_e(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,o){const s=a[o];return typeof s!="function"?s:(...l)=>_e(this,void 0,void 0,function*(){try{return{data:yield s.apply(a,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}})}})}}const Rj={"X-Client-Info":`storage-js/${j4}`,"Content-Type":"application/json"};class Ij extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Wr(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class oh extends Ij{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class A4 extends Ij{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var l1;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(l1||(l1={}));const km=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),gee=()=>Response,O4=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},vee=e=>Array.from(new Float32Array(e)),yee=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},HO=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),bee=(e,t,r)=>_e(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!r?.noResolveJson){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(o=>{const s=o?.statusCode||o?.code||i+"";t(new oh(HO(o),i,s))}).catch(()=>{const o=i+"",s=a.statusText||`HTTP ${i} error`;t(new oh(s,i,o))});else{const o=i+"",s=a.statusText||`HTTP ${i} error`;t(new oh(s,i,o))}}else t(new A4(HO(e),e))}),xee=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return n?(O4(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function wee(e,t,r,n,i,a){return _e(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(r,xee(t,n,i,a)).then(l=>{if(!l.ok)throw l;if(n?.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>bee(l,s,n))})})}function an(e,t,r,n,i){return _e(this,void 0,void 0,function*(){return wee(e,"POST",t,n,i,r)})}class C4{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Rj),r),this.fetch=km(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return _e(this,void 0,void 0,function*(){try{return{data:(yield an(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}})}getIndex(t,r){return _e(this,void 0,void 0,function*(){try{return{data:yield an(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wr(n))return{data:null,error:n};throw n}})}listIndexes(t){return _e(this,void 0,void 0,function*(){try{return{data:yield an(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return _e(this,void 0,void 0,function*(){try{return{data:(yield an(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wr(n))return{data:null,error:n};throw n}})}}class T4{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Rj),r),this.fetch=km(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return _e(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield an(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}})}getVectors(t){return _e(this,void 0,void 0,function*(){try{return{data:yield an(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}})}listVectors(t){return _e(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield an(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}})}queryVectors(t){return _e(this,void 0,void 0,function*(){try{return{data:yield an(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}})}deleteVectors(t){return _e(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield an(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}})}}class P4{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Rj),r),this.fetch=km(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return _e(this,void 0,void 0,function*(){try{return{data:(yield an(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}})}getBucket(t){return _e(this,void 0,void 0,function*(){try{return{data:yield an(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}})}listBuckets(){return _e(this,arguments,void 0,function*(t={}){try{return{data:yield an(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return _e(this,void 0,void 0,function*(){try{return{data:(yield an(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}})}}class N4 extends P4{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new R4(this.url,this.headers,t,this.fetch)}createBucket(t){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return _e(this,void 0,void 0,function*(){return r.createBucket.call(this,t)})}getBucket(t){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return _e(this,void 0,void 0,function*(){return r.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return _e(this,arguments,void 0,function*(r={}){return t.listBuckets.call(this,r)})}deleteBucket(t){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return _e(this,void 0,void 0,function*(){return r.deleteBucket.call(this,t)})}}class R4 extends C4{constructor(t,r,n,i){super(t,r,i),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return _e(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return _e(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return _e(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return _e(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new I4(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class I4 extends T4{constructor(t,r,n,i,a){super(t,r,a),this.vectorBucketName=n,this.indexName=i}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return _e(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return _e(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return _e(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return _e(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return _e(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class See extends cee{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new lee(this.url,this.headers,t,this.fetch)}get vectors(){return new N4(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new E4(this.url+"/iceberg",this.headers,this.fetch)}}const _ee=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:E4,StorageApiError:S4,StorageClient:See,StorageError:$d,StorageUnknownError:Nh,StorageVectorsApiError:oh,StorageVectorsClient:N4,StorageVectorsError:Ij,get StorageVectorsErrorCode(){return l1},StorageVectorsUnknownError:A4,VectorBucketApi:P4,VectorBucketScope:R4,VectorDataApi:T4,VectorIndexApi:C4,VectorIndexScope:I4,isPlainObject:O4,isStorageError:Pt,isStorageVectorsError:Wr,normalizeToFloat32:vee,resolveFetch:km,resolveResponse:gee,validateVectorDimension:yee},Symbol.toStringTag,{value:"Module"})),jee=Td(_ee);var gv={},kc={},GO;function kee(){return GO||(GO=1,Object.defineProperty(kc,"__esModule",{value:!0}),kc.version=void 0,kc.version="2.87.1"),kc}var KO;function Eee(){return KO||(KO=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=kee();let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(gv)),gv}var vv={},YO;function Aee(){return YO||(YO=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=i=>i?(...a)=>i(...a):(...a)=>fetch(...a);e.resolveFetch=t;const r=()=>Headers;e.resolveHeadersConstructor=r;const n=(i,a,o)=>{const s=(0,e.resolveFetch)(o),l=(0,e.resolveHeadersConstructor)();return async(c,d)=>{var f;const h=(f=await a())!==null&&f!==void 0?f:i;let p=new l(d?.headers);return p.has("apikey")||p.set("apikey",i),p.has("Authorization")||p.set("Authorization",`Bearer ${h}`),s(c,Object.assign(Object.assign({},d),{headers:p}))}};e.fetchWithAuth=n})(vv)),vv}var $i={},XO;function Oee(){if(XO)return $i;XO=1,Object.defineProperty($i,"__esModule",{value:!0}),$i.isBrowser=void 0,$i.uuid=e,$i.ensureTrailingSlash=t,$i.applySettingDefaults=n,$i.validateSupabaseUrl=i;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var o=Math.random()*16|0,s=a=="x"?o:o&3|8;return s.toString(16)})}function t(a){return a.endsWith("/")?a:a+"/"}const r=()=>typeof window<"u";$i.isBrowser=r;function n(a,o){var s,l;const{db:c,auth:d,realtime:f,global:h}=a,{db:p,auth:v,realtime:m,global:g}=o,y={db:Object.assign(Object.assign({},p),c),auth:Object.assign(Object.assign({},v),d),realtime:Object.assign(Object.assign({},m),f),storage:{},global:Object.assign(Object.assign(Object.assign({},g),h),{headers:Object.assign(Object.assign({},(s=g?.headers)!==null&&s!==void 0?s:{}),(l=h?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return a.accessToken?y.accessToken=a.accessToken:delete y.accessToken,y}function i(a){const o=a?.trim();if(!o)throw new Error("supabaseUrl is required.");if(!o.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(o))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return $i}var Ec={};const M4="2.87.1",Ts=30*1e3,c1=3,yv=c1*Ts,Cee="http://localhost:9999",Tee="supabase.auth.token",Pee={"X-Client-Info":`gotrue-js/${M4}`},u1="X-Supabase-Api-Version",D4={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Nee=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ree=600*1e3;let ll=class extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function Oe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let $4=class extends ll{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}};function L4(e){return Oe(e)&&e.name==="AuthApiError"}let Ea=class extends ll{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}},la=class extends ll{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}},Ur=class extends la{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function z4(e){return Oe(e)&&e.name==="AuthSessionMissingError"}let wo=class extends la{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Gc=class extends la{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Kc=class extends la{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function F4(e){return Oe(e)&&e.name==="AuthImplicitGrantRedirectError"}let d1=class extends la{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Rh=class extends la{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}};function sh(e){return Oe(e)&&e.name==="AuthRetryableFetchError"}let f1=class extends la{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}};function Iee(e){return Oe(e)&&e.name==="AuthWeakPasswordError"}let Ih=class extends la{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const Mh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),QO=` 	
\r=`.split(""),Mee=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<QO.length;t+=1)e[QO[t].charCodeAt(0)]=-2;for(let t=0;t<Mh.length;t+=1)e[Mh[t].charCodeAt(0)]=t;return e})();function JO(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Mh[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Mh[n]),t.queuedBits-=6}}function B4(e,t,r){const n=Mee[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ZO(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{Lee(o,n,r)};for(let o=0;o<e.length;o+=1)B4(e.charCodeAt(o),i,a);return t.join("")}function Dee(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function $ee(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}Dee(n,t)}}function Lee(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Hs(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)B4(e.charCodeAt(i),r,n);return new Uint8Array(t)}function zee(e){const t=[];return $ee(e,r=>t.push(r)),new Uint8Array(t)}function Io(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>JO(i,r,n)),JO(null,r,n),t.join("")}function Fee(e){return Math.round(Date.now()/1e3)+e}function Bee(){return Symbol("auth-callback")}const gr=()=>typeof window<"u"&&typeof document<"u",ho={tested:!1,writable:!1},q4=()=>{if(!gr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ho.tested)return ho.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ho.tested=!0,ho.writable=!0}catch{ho.tested=!0,ho.writable=!1}return ho.writable};function qee(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const U4=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Uee=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ps=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},po=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},mr=async(e,t)=>{await e.removeItem(t)};class Em{constructor(){this.promise=new Em.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Em.promiseConstructor=Promise;function bv(e){const t=e.split(".");if(t.length!==3)throw new Ih("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Nee.test(t[n]))throw new Ih("JWT not in base64url format");return{header:JSON.parse(ZO(t[0])),payload:JSON.parse(ZO(t[1])),signature:Hs(t[2]),raw:{header:t[0],payload:t[1]}}}async function Vee(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Wee(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function Hee(e){return("0"+e.toString(16)).substr(-2)}function Gee(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,Hee).join("")}async function Kee(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function Yee(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Kee(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gs(e,t,r=!1){const n=Gee();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Ps(e,`${t}-code-verifier`,i);const a=await Yee(n);return[a,n===a?"plain":"s256"]}const Xee=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Qee(e){const t=e.headers.get(u1);if(!t||!t.match(Xee))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Jee(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Zee(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ete=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vs(e){if(!ete.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function xv(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function tte(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function eC(e){return JSON.parse(JSON.stringify(e))}const So=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),rte=[502,503,504];async function tC(e){var t;if(!Uee(e))throw new Rh(So(e),0);if(rte.includes(e.status))throw new Rh(So(e),e.status);let r;try{r=await e.json()}catch(a){throw new Ea(So(a),a)}let n;const i=Qee(e);if(i&&i.getTime()>=D4["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new f1(So(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ur}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new f1(So(r),e.status,r.weak_password.reasons);throw new $4(So(r),e.status||500,n)}const nte=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function $e(e,t,r,n){var i;const a=Object.assign({},n?.headers);a[u1]||(a[u1]=D4["2024-01-01"].name),n?.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await ite(e,t,r+s,{headers:a,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(l):{data:Object.assign({},l),error:null}}async function ite(e,t,r,n,i,a){const o=nte(t,n,i,a);let s;try{s=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new Rh(So(l),0)}if(s.ok||await tC(s),n?.noResolveJson)return s;try{return await s.json()}catch(l){await tC(l)}}function zn(e){var t;let r=null;ste(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Fee(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function rC(e){const t=zn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Aa(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function ate(e){return{data:e,error:null}}function ote(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,o=ro(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},l=Object.assign({},o);return{data:{properties:s,user:l},error:null}}function nC(e){return e}function ste(e){return e.access_token&&e.refresh_token&&e.expires_in}const lh=["global","local","others"];let Mj=class{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=U4(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=lh[0]){if(lh.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${lh.join(", ")}`);try{return await $e(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await $e(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Aa})}catch(n){if(Oe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=ro(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await $e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:ote,redirectTo:r?.redirectTo})}catch(r){if(Oe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await $e(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Aa})}catch(r){if(Oe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,o,s,l;try{const c={nextPage:null,lastPage:0,total:0},d=await $e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:nC});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(v.split(";")[1].split("=")[1]);c[`${g}Page`]=m}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Oe(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){vs(t);try{return await $e(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Aa})}catch(r){if(Oe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){vs(t);try{return await $e(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Aa})}catch(n){if(Oe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){vs(t);try{return await $e(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Aa})}catch(n){if(Oe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){vs(t.userId);try{const{data:r,error:n}=await $e(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){vs(t.userId),vs(t.id);try{return{data:await $e(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,a,o,s,l;try{const c={nextPage:null,lastPage:0,total:0},d=await $e(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:nC});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(v.split(";")[1].split("=")[1]);c[`${g}Page`]=m}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Oe(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await $e(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await $e(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await $e(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await $e(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await $e(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Oe(r))return{data:null,error:r};throw r}}};function iC(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const _o={debug:!!(globalThis&&q4()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Dj extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let V4=class extends Dj{};class lte extends Dj{}async function W4(e,t,r){_o.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),_o.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){_o.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{_o.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw _o.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new V4(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(_o.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const aC={};async function cte(e,t,r){var n;const i=(n=aC[e])!==null&&n!==void 0?n:Promise.resolve(),a=Promise.race([i.catch(()=>null),t>=0?new Promise((o,s)=>{setTimeout(()=>{s(new lte(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await r());return aC[e]=a.catch(async o=>{if(o&&o.isAcquireTimeout)return await i,null;throw o}),await a}function ute(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function H4(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function dte(e){return parseInt(e,16)}function fte(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function hte(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:s,requestId:l,resources:c,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=H4(e.address),v=d?`${d}://${n}`:n,m=e.statement?`${e.statement}
`:"",g=`${v} wants you to sign in with your Ethereum account:
${p}

${m}`;let y=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),s&&(y+=`
Not Before: ${s.toISOString()}`),l&&(y+=`
Request ID: ${l}`),c){let b=`
Resources:`;for(const x of c){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);b+=`
- ${x}`}y+=b}return`${g}
${y}`}class Gt extends Error{constructor({message:t,code:r,cause:n,name:i}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class Dh extends Gt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function pte({error:e,options:t}){var r,n,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Gt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Gt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Gt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Gt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Gt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Gt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new Gt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Gt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(G4(o)){if(a.rp.id!==o)return new Gt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Gt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Gt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Gt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Gt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function mte({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Gt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Gt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(G4(n)){if(r.rpId!==n)return new Gt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Gt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Gt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Gt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class gte{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const vte=new gte;function yte(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=ro(e,["challenge","user","excludeCredentials"]),a=Hs(t).buffer,o=Object.assign(Object.assign({},r),{id:Hs(r.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:a,user:o});if(n&&n.length>0){s.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];s.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Hs(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return s}function bte(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=ro(e,["challenge","allowCredentials"]),i=Hs(t).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const s=r[o];a.allowCredentials[o]=Object.assign(Object.assign({},s),{id:Hs(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return a}function xte(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Io(new Uint8Array(e.response.attestationObject)),clientDataJSON:Io(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function wte(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Io(new Uint8Array(i.authenticatorData)),clientDataJSON:Io(new Uint8Array(i.clientDataJSON)),signature:Io(new Uint8Array(i.signature)),userHandle:i.userHandle?Io(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function G4(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function oC(){var e,t;return!!(gr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Ste(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Dh("Browser returned unexpected credential type",t)}:{data:null,error:new Dh("Empty credential response",t)}}catch(t){return{data:null,error:pte({error:t,options:e})}}}async function _te(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Dh("Browser returned unexpected credential type",t)}:{data:null,error:new Dh("Empty credential response",t)}}catch(t){return{data:null,error:mte({error:t,options:e})}}}const jte={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},kte={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function $h(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))n[a]=o;else if(r(o))n[a]=o;else if(t(o)){const s=n[a];t(s)?n[a]=$h(s,o):n[a]=$h(o)}else n[a]=o}return n}function Ete(e,t){return $h(jte,e,t||{})}function Ate(e,t){return $h(kte,e,t||{})}class Ote{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},a){try{const{data:o,error:s}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:s};const l=i??vte.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=Ete(o.webauthn.credential_options.publicKey,a?.create),{data:d,error:f}=await Ste({publicKey:c,signal:l});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const c=Ate(o.webauthn.credential_options.publicKey,a?.request),{data:d,error:f}=await _te(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return Oe(o)?{data:null,error:o}:{data:null,error:new Ea("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new ll("rpId is required for WebAuthn authentication")};try{if(!oC())return{data:null,error:new Ea("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!o)return{data:null,error:s};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return Oe(o)?{data:null,error:o}:{data:null,error:new Ea("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new ll("rpId is required for WebAuthn registration")};try{if(!oC())return{data:null,error:new Ea("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d?.id}):void 0),{data:null,error:s};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return Oe(o)?{data:null,error:o}:{data:null,error:new Ea("Unexpected error in register",o)}}}}ute();const Cte={url:Cee,storageKey:Tee,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Pee,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function sC(e,t,r){return await r()}const ys={};let $j=class h1{get jwks(){var t,r;return(r=(t=ys[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){ys[this.storageKey]=Object.assign(Object.assign({},ys[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=ys[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ys[this.storageKey]=Object.assign(Object.assign({},ys[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},Cte),t);if(this.storageKey=a.storageKey,this.instanceID=(r=h1.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,h1.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&gr()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Mj({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=U4(a.fetch),this.lock=a.lock||sC,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:this.persistSession&&gr()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=W4:this.lock=sC,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Ote(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:q4()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=iC(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=iC(this.memoryStorage)),gr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${M4}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(gr()&&(r=qee(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),gr()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),F4(a)){const l=(t=a.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Oe(r)?this._returnResult({error:r}):this._returnResult({error:new Ea("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:zn}),{data:o,error:s}=a;if(s||!o)return this._returnResult({data:{user:null,session:null},error:s});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(a){if(Oe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await gs(this.storage,this.storageKey)),a=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:d,password:f,data:(r=h?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:p,code_challenge_method:v},xform:zn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;a=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h?.data)!==null&&n!==void 0?n:{},channel:(i=h?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:zn})}else throw new Gc("You must provide either an email or phone number and a password");const{data:o,error:s}=a;if(s||!o)return await mr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(a){if(await mr(this.storage,`${this.storageKey}-code-verifier`),Oe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:o,options:s}=t;r=await $e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:rC})}else if("phone"in t){const{phone:a,password:o,options:s}=t;r=await $e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:rC})}else throw new Gc("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new wo;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Oe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,a,o,s,l,c,d,f,h;let p,v;if("message"in t)p=t.message,v=t.signature;else{const{chain:m,wallet:g,statement:y,options:b}=t;let x;if(gr())if(typeof g=="object")x=g;else{const T=window;if("ethereum"in T&&typeof T.ethereum=="object"&&"request"in T.ethereum&&typeof T.ethereum.request=="function")x=T.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!b?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=g}const _=new URL((r=b?.url)!==null&&r!==void 0?r:window.location.href),w=await x.request({method:"eth_requestAccounts"}).then(T=>T).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!w||w.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=H4(w[0]);let k=(n=b?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!k){const T=await x.request({method:"eth_chainId"});k=dte(T)}const A={domain:_.host,address:j,statement:y,uri:_.href,version:"1",chainId:k,nonce:(i=b?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=b?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=b?.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=b?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=b?.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=b?.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=hte(A),v=await x.request({method:"personal_sign",params:[fte(p),j]})}try{const{data:m,error:g}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:v},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:zn});if(g)throw g;if(!m||!m.session||!m.user){const y=new wo;return this._returnResult({data:{user:null,session:null},error:y})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:g})}catch(m){if(Oe(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(t){var r,n,i,a,o,s,l,c,d,f,h,p;let v,m;if("message"in t)v=t.message,m=t.signature;else{const{chain:g,wallet:y,statement:b,options:x}=t;let _;if(gr())if(typeof y=="object")_=y;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))_=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!x?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const w=new URL((r=x?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const j=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x?.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),b?{statement:b}:null));let k;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")k=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)k=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)v=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),m=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${w.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(i=(n=x?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=x?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((s=x?.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((c=x?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((f=(d=x?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...x.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const j=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=j}}try{const{data:g,error:y}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Io(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:zn});if(y)throw y;if(!g||!g.session||!g.user){const b=new wo;return this._returnResult({data:{user:null,session:null},error:b})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:y})}catch(g){if(Oe(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async _exchangeCodeForSession(t){const r=await po(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:o}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:zn});if(await mr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const s=new wo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(await mr(this.storage,`${this.storageKey}-code-verifier`),Oe(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:o}=t,s=await $e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:zn}),{data:l,error:c}=s;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const d=new wo;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(Oe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,a,o;try{if("email"in t){const{email:s,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await gs(this.storage,this.storageKey));const{error:f}=await $e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(n=l?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:s,options:l}=t,{data:c,error:d}=await $e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(a=l?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:d})}throw new Gc("You must provide either an email or phone number.")}catch(s){if(await mr(this.storage,`${this.storageKey}-code-verifier`),Oe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:s}=await $e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:zn});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(Oe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i,a,o;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await gs(this.storage,this.storageKey));const c=await $e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:ate});return!((a=c.data)===null||a===void 0)&&a.url&&gr()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(s){if(await mr(this.storage,`${this.storageKey}-code-verifier`),Oe(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ur;const{error:i}=await $e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Oe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:o}=await $e(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:o,error:s}=await $e(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:s})}throw new Gc("You must provide either an email or phone number and a type")}catch(r){if(Oe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await po(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<yv:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await po(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=xv()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=tte(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await $e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Aa}):await this._useSession(async r=>{var n,i,a;const{data:o,error:s}=r;if(s)throw s;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ur}:await $e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Aa})})}catch(r){if(Oe(r))return z4(r)&&(await this._removeSession(),await mr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Ur;const o=i.session;let s=null,l=null;this.flowType==="pkce"&&t.email!=null&&([s,l]=await gs(this.storage,this.storageKey));const{data:c,error:d}=await $e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:l}),jwt:o.access_token,xform:Aa});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await mr(this.storage,`${this.storageKey}-code-verifier`),Oe(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ur;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:o}=bv(t.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{data:s,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};a=s}else{const{data:s,error:l}=await this._getUser(t.access_token);if(l)throw l;a={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(Oe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:s}=r;if(s)throw s;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new Ur;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Oe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!gr())throw new Kc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Kc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new d1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Kc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new d1("No code detected.");const{data:b,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:s,expires_at:l,token_type:c}=t;if(!a||!s||!o||!c)throw new Kc("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(s);let h=d+f;l&&(h=parseInt(l));const p=h-d;p*1e3<=Ts&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const v=h-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,d);const{data:m,error:g}=await this._getUser(a);if(g)throw g;const y={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:o,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:t.type},error:null})}catch(n){if(Oe(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await po(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({error:a});const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:s}=await this.admin.signOut(o,t);if(s&&!(L4(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return t!=="others"&&(await this._removeSession(),await mr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=Bee(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await gs(this.storage,this.storageKey,!0));try{return await $e(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await mr(this.storage,`${this.storageKey}-code-verifier`),Oe(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Oe(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var o,s,l,c,d;const{data:f,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await $e(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return gr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:t.provider,url:n?.url},error:null})}catch(n){if(Oe(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:o,provider:s,token:l,access_token:c,nonce:d}=t,f=await $e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:s,id_token:l,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:zn}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new wo}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(i){if(await mr(this.storage,`${this.storageKey}-code-verifier`),Oe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)throw o;return await $e(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Oe(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Wee(async i=>(i>0&&await Vee(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await $e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:zn})),(i,a)=>{const o=200*Math.pow(2,i);return a&&sh(a)&&Date.now()+o-n<Ts})}catch(n){if(this._debug(r,"error",n),Oe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),gr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await po(this.storage,this.storageKey);if(i&&this.userStorage){let o=await po(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Ps(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:xv()}else if(i&&!i.user&&!i.user){const o=await po(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await mr(this.storage,this.storageKey+"-user"),await Ps(this.storage,this.storageKey,i)):i.user=xv()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<yv;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${yv}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),sh(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(i.access_token);!s&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ur;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Em;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new Ur;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const s={data:a.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(i,"error",a),Oe(a)){const o={data:null,error:a};return sh(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,r)}catch(l){a.push(l)}});if(await Promise.all(o),a.length>0){for(let s=0;s<a.length;s+=1)console.error(a[s]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await mr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ps(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=eC(i);await Ps(this.storage,this.storageKey,a)}else{const i=eC(r);await Ps(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await mr(this.storage,this.storageKey),await mr(this.storage,this.storageKey+"-code-verifier"),await mr(this.storage,this.storageKey+"-user"),this.userStorage&&await mr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&gr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ts);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Ts);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ts}ms, refresh threshold is ${c1} ticks`),i<=c1&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Dj)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!gr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await gs(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(s.toString())}if(n?.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await $e(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Oe(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await $e(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&l.type==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(Oe(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?xte(t.webauthn.credential_response):wte(t.webauthn.credential_response)})}:{code:t.code}),{data:s,error:l}=await $e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(r){if(Oe(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=await $e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:s}=o;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:yte(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:bte(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Oe(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r?.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=bv(n.access_token);let o=null;a.aal&&(o=a.aal);let s=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(s="aal2");const c=a.amr||[];return{data:{currentLevel:o,nextLevel:s,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await $e(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Ur})})}catch(r){if(Oe(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Ur});const o=await $e(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&gr()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Oe(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Ur});const o=await $e(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&gr()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Oe(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await $e(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Ur})})}catch(t){if(Oe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await $e(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ur})})}catch(r){if(Oe(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(s=>s.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(s=>s.kid===t),n&&this.jwks_cached_at+Ree>i)return n;const{data:a,error:o}=await $e(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(s=>s.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:v}=await this.getSession();if(v||!p.session)return this._returnResult({data:null,error:v});n=p.session.access_token}const{header:i,payload:a,signature:o,raw:{header:s,payload:l}}=bv(n);r?.allowExpired||Jee(a.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!c){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:a,header:i,signature:o},error:null}}const d=Zee(i.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,zee(`${s}.${l}`)))throw new Ih("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(n){if(Oe(n))return this._returnResult({data:null,error:n});throw n}}};$j.nextInstanceID={};const Tte=Mj,Pte=$j,Nte=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:Tte,AuthApiError:$4,AuthClient:Pte,AuthError:ll,AuthImplicitGrantRedirectError:Kc,AuthInvalidCredentialsError:Gc,AuthInvalidJwtError:Ih,AuthInvalidTokenResponseError:wo,AuthPKCEGrantCodeExchangeError:d1,AuthRetryableFetchError:Rh,AuthSessionMissingError:Ur,AuthUnknownError:Ea,AuthWeakPasswordError:f1,CustomAuthError:la,GoTrueAdminApi:Mj,GoTrueClient:$j,NavigatorLockAcquireTimeoutError:V4,SIGN_OUT_SCOPES:lh,isAuthApiError:L4,isAuthError:Oe,isAuthImplicitGrantRedirectError:F4,isAuthRetryableFetchError:sh,isAuthSessionMissingError:z4,isAuthWeakPasswordError:Iee,lockInternals:_o,navigatorLock:W4,processLock:cte},Symbol.toStringTag,{value:"Module"})),K4=Td(Nte);var lC;function Rte(){if(lC)return Ec;lC=1,Object.defineProperty(Ec,"__esModule",{value:!0}),Ec.SupabaseAuthClient=void 0;const e=K4;let t=class extends e.AuthClient{constructor(n){super(n)}};return Ec.SupabaseAuthClient=t,Ec}var cC;function uC(){if(cC)return hf;cC=1,Object.defineProperty(hf,"__esModule",{value:!0});const e=s4,t=h4(),r=w4,n=jee,i=Eee(),a=Aee(),o=Oee(),s=Rte();class l{constructor(d,f,h){var p,v,m;this.supabaseUrl=d,this.supabaseKey=f;const g=(0,o.validateSupabaseUrl)(d);if(!f)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);const y=`sb-${g.hostname.split(".")[0]}-auth-token`,b={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:y}),global:i.DEFAULT_GLOBAL_OPTIONS},x=(0,o.applySettingDefaults)(h??{},b);this.storageKey=(p=x.auth.storageKey)!==null&&p!==void 0?p:"",this.headers=(v=x.global.headers)!==null&&v!==void 0?v:{},x.accessToken?(this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(_,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((m=x.auth)!==null&&m!==void 0?m:{},this.headers,x.global.fetch),this.fetch=(0,a.fetchWithAuth)(f,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.accessToken&&this.accessToken().then(_=>this.realtime.setAuth(_)).catch(_=>console.warn("Failed to set initial Realtime auth token:",_)),this.rest=new t.PostgrestClient(new URL("rest/v1",g).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),this.storage=new n.StorageClient(this.storageUrl.href,this.headers,this.fetch,h?.storage),x.accessToken||this._listenForAuthEvents()}get functions(){return new e.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(d){return this.rest.from(d)}schema(d){return this.rest.schema(d)}rpc(d,f={},h={head:!1,get:!1,count:void 0}){return this.rest.rpc(d,f,h)}channel(d,f={config:{}}){return this.realtime.channel(d,f)}getChannels(){return this.realtime.getChannels()}removeChannel(d){return this.realtime.removeChannel(d)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var d,f;if(this.accessToken)return await this.accessToken();const{data:h}=await this.auth.getSession();return(f=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&f!==void 0?f:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:d,persistSession:f,detectSessionInUrl:h,storage:p,userStorage:v,storageKey:m,flowType:g,lock:y,debug:b,throwOnError:x},_,w){const j={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new s.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},j),_),storageKey:m,autoRefreshToken:d,persistSession:f,detectSessionInUrl:h,storage:p,userStorage:v,flowType:g,lock:y,debug:b,throwOnError:x,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(k=>k.toLowerCase()==="authorization")})}_initRealtimeClient(d){return new r.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},d),{params:Object.assign({apikey:this.supabaseKey},d?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((f,h)=>{this._handleTokenChanged(f,"CLIENT",h?.access_token)})}_handleTokenChanged(d,f,h){(d==="TOKEN_REFRESHED"||d==="SIGNED_IN")&&this.changedAccessToken!==h?(this.changedAccessToken=h,this.realtime.setAuth(h)):d==="SIGNED_OUT"&&(this.realtime.setAuth(),f=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return hf.default=l,hf}var dC;function Ite(){return dC||(dC=1,(function(e){var t=Di&&Di.__createBinding||(Object.create?(function(d,f,h,p){p===void 0&&(p=h);var v=Object.getOwnPropertyDescriptor(f,h);(!v||("get"in v?!f.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return f[h]}}),Object.defineProperty(d,p,v)}):(function(d,f,h,p){p===void 0&&(p=h),d[p]=f[h]})),r=Di&&Di.__exportStar||function(d,f){for(var h in d)h!=="default"&&!Object.prototype.hasOwnProperty.call(f,h)&&t(f,d,h)},n=Di&&Di.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const i=n(uC());r(K4,e);var a=h4();Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return a.PostgrestError}});var o=s4;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),r(w4,e);var s=uC();Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return n(s).default}});const l=(d,f,h)=>new i.default(d,f,h);e.createClient=l;function c(){if(typeof window<"u"||typeof process>"u")return!1;const d=process.version;if(d==null)return!1;const f=d.match(/^v(\d+)\./);return f?parseInt(f[1],10)<=18:!1}c()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Di)),Di}var Y4=Ite();const X4=ot(Y4),Mte=nH({__proto__:null,default:X4},[Y4]),{PostgrestError:HRe,FunctionsHttpError:GRe,FunctionsFetchError:KRe,FunctionsRelayError:YRe,FunctionsError:XRe,FunctionRegion:QRe,SupabaseClient:JRe,createClient:Dte,GoTrueAdminApi:ZRe,GoTrueClient:eIe,AuthAdminApi:tIe,AuthClient:rIe,navigatorLock:nIe,NavigatorLockAcquireTimeoutError:iIe,lockInternals:aIe,processLock:oIe,SIGN_OUT_SCOPES:sIe,AuthError:lIe,AuthApiError:cIe,AuthUnknownError:uIe,CustomAuthError:dIe,AuthSessionMissingError:fIe,AuthInvalidTokenResponseError:hIe,AuthInvalidCredentialsError:pIe,AuthImplicitGrantRedirectError:mIe,AuthPKCEGrantCodeExchangeError:gIe,AuthRetryableFetchError:vIe,AuthWeakPasswordError:yIe,AuthInvalidJwtError:bIe,isAuthError:xIe,isAuthApiError:wIe,isAuthSessionMissingError:SIe,isAuthImplicitGrantRedirectError:_Ie,isAuthRetryableFetchError:jIe,isAuthWeakPasswordError:kIe,RealtimePresence:EIe,RealtimeChannel:AIe,RealtimeClient:OIe,REALTIME_LISTEN_TYPES:CIe,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:TIe,REALTIME_PRESENCE_LISTEN_EVENTS:PIe,REALTIME_SUBSCRIBE_STATES:NIe,REALTIME_CHANNEL_STATES:RIe}=X4||Mte;console.error("Missing VITE_SUPABASE_URL or VITE_SUPABASE_ANON/VITE_SUPABASE_PUBLISHABLE_KEY in environment variables.");const $te="https://placeholder.supabase.co",Lte="placeholder-key",be=Dte($te,Lte,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}});function Je(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ei(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Lh(e,t){const r=Je(e);return isNaN(t)?Ei(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Lj(e,t){const r=Je(e);if(isNaN(t))return Ei(e,NaN);if(!t)return r;const n=r.getDate(),i=Ei(e,r.getTime());i.setMonth(r.getMonth()+t+1,0);const a=i.getDate();return n>=a?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}const zj=6048e5,zte=864e5,Q4=6e4,J4=36e5;let Fte={};function Am(){return Fte}function Pn(e,t){const r=Am(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=Je(e),a=i.getDay(),o=(a<n?7:0)+a-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function zh(e){return Pn(e,{weekStartsOn:1})}function Z4(e){const t=Je(e),r=t.getFullYear(),n=Ei(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=zh(n),a=Ei(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=zh(a);return t.getTime()>=i.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function ui(e){const t=Je(e);return t.setHours(0,0,0,0),t}function Fh(e){const t=Je(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Du(e,t){const r=ui(e),n=ui(t),i=+r-Fh(r),a=+n-Fh(n);return Math.round((i-a)/zte)}function Bte(e){const t=Z4(e),r=Ei(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),zh(r)}function qte(e,t){const r=t*7;return Lh(e,r)}function Ute(e,t){return Lj(e,t*12)}function wv(e,t){const r=Je(e),n=Je(t),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function Bi(e,t){const r=ui(e),n=ui(t);return+r==+n}function Vte(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Wte(e){if(!Vte(e)&&typeof e!="number")return!1;const t=Je(e);return!isNaN(Number(t))}function Hte(e,t){const r=Je(e),n=Je(t),i=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return i*12+a}function Gte(e){const t=Je(e);return Math.trunc(t.getMonth()/3)+1}function Kte(e,t,r){const n=Pn(e,r),i=Pn(t,r),a=+n-Fh(n),o=+i-Fh(i);return Math.round((a-o)/zj)}function Yte(e,t){const r=Je(e),n=Je(t),i=fC(r,n),a=Math.abs(Du(r,n));r.setDate(r.getDate()-i*a);const o=+(fC(r,n)===-i),s=i*(a-o);return s===0?0:s}function fC(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function Xte(e){const t=Je(e);return t.setHours(23,59,59,999),t}function Om(e){const t=Je(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Qte(e){const t=Je(e);return+Xte(t)==+Om(t)}function Jte(e,t){const r=Je(e),n=Je(t),i=wv(r,n),a=Math.abs(Hte(r,n));let o;if(a<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*a);let s=wv(r,n)===-i;Qte(Je(e))&&a===1&&wv(e,n)===1&&(s=!1),o=i*(a-Number(s))}return o===0?0:o}function _n(e,t){const r=Je(e.start),n=Je(e.end);let i=+r>+n;const a=i?+r:+n,o=i?n:r;o.setHours(0,0,0,0);let s=1;const l=[];for(;+o<=a;)l.push(Je(o)),o.setDate(o.getDate()+s),o.setHours(0,0,0,0);return i?l.reverse():l}function qi(e){const t=Je(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Zte(e){const t=Je(e),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function Cm(e){const t=Je(e),r=Ei(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function ere(e,t){const r=t?.weekStartsOn,n=Je(e),i=n.getDay(),a=(i<r?-7:0)+6-(i-r);return n.setDate(n.getDate()+a),n.setHours(23,59,59,999),n}const tre={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},rre=(e,t,r)=>{let n;const i=tre[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Gs(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const nre={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ire={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},are={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ore={date:Gs({formats:nre,defaultWidth:"full"}),time:Gs({formats:ire,defaultWidth:"full"}),dateTime:Gs({formats:are,defaultWidth:"full"})},sre={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},lre=(e,t,r,n)=>sre[e];function fi(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,s=r?.width?String(r.width):o;i=e.formattingValues[s]||e.formattingValues[o]}else{const o=e.defaultWidth,s=r?.width?String(r.width):e.defaultWidth;i=e.values[s]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const cre={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ure={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},dre={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},fre={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},hre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},pre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},mre=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},gre={ordinalNumber:mre,era:fi({values:cre,defaultWidth:"wide"}),quarter:fi({values:ure,defaultWidth:"wide",argumentCallback:e=>e-1}),month:fi({values:dre,defaultWidth:"wide"}),day:fi({values:fre,defaultWidth:"wide"}),dayPeriod:fi({values:hre,defaultWidth:"wide",formattingValues:pre,defaultFormattingWidth:"wide"})};function hi(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],s=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?yre(s,f=>f.test(o)):vre(s,f=>f.test(o));let c;c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;const d=t.slice(o.length);return{value:c,rest:d}}}function vre(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function yre(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function ez(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const s=t.slice(i.length);return{value:o,rest:s}}}const bre=/^(\d+)(th|st|nd|rd)?/i,xre=/\d+/i,wre={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Sre={any:[/^b/i,/^(a|c)/i]},_re={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},jre={any:[/1/i,/2/i,/3/i,/4/i]},kre={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ere={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Are={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ore={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Cre={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Tre={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Pre={ordinalNumber:ez({matchPattern:bre,parsePattern:xre,valueCallback:e=>parseInt(e,10)}),era:hi({matchPatterns:wre,defaultMatchWidth:"wide",parsePatterns:Sre,defaultParseWidth:"any"}),quarter:hi({matchPatterns:_re,defaultMatchWidth:"wide",parsePatterns:jre,defaultParseWidth:"any",valueCallback:e=>e+1}),month:hi({matchPatterns:kre,defaultMatchWidth:"wide",parsePatterns:Ere,defaultParseWidth:"any"}),day:hi({matchPatterns:Are,defaultMatchWidth:"wide",parsePatterns:Ore,defaultParseWidth:"any"}),dayPeriod:hi({matchPatterns:Cre,defaultMatchWidth:"any",parsePatterns:Tre,defaultParseWidth:"any"})},Nre={code:"en-US",formatDistance:rre,formatLong:ore,formatRelative:lre,localize:gre,match:Pre,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Rre(e){const t=Je(e);return Du(t,Cm(t))+1}function Ire(e){const t=Je(e),r=+zh(t)-+Bte(t);return Math.round(r/zj)+1}function tz(e,t){const r=Je(e),n=r.getFullYear(),i=Am(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=Ei(e,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const s=Pn(o,t),l=Ei(e,0);l.setFullYear(n,0,a),l.setHours(0,0,0,0);const c=Pn(l,t);return r.getTime()>=s.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function Mre(e,t){const r=Am(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=tz(e,t),a=Ei(e,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),Pn(a,t)}function Dre(e,t){const r=Je(e),n=+Pn(r,t)-+Mre(r,t);return Math.round(n/zj)+1}function vt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const ga={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return vt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):vt(r+1,2)},d(e,t){return vt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return r==="am"?"a.m.":"p.m."}},h(e,t){return vt(e.getHours()%12||12,t.length)},H(e,t){return vt(e.getHours(),t.length)},m(e,t){return vt(e.getMinutes(),t.length)},s(e,t){return vt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return vt(i,t.length)}},bs={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},hC={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return ga.y(e,t)},Y:function(e,t,r,n){const i=tz(e,n),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return vt(o,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):vt(a,t.length)},R:function(e,t){const r=Z4(e);return vt(r,t.length)},u:function(e,t){const r=e.getFullYear();return vt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return vt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return vt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return ga.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return vt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=Dre(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):vt(i,t.length)},I:function(e,t,r){const n=Ire(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):vt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):ga.d(e,t)},D:function(e,t,r){const n=Rre(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):vt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return vt(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return vt(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return vt(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=bs.noon:n===0?i=bs.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=bs.evening:n>=12?i=bs.afternoon:n>=4?i=bs.morning:i=bs.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return ga.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):ga.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):vt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):vt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):ga.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):ga.s(e,t)},S:function(e,t){return ga.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return mC(n);case"XXXX":case"XX":return jo(n);default:return jo(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return mC(n);case"xxxx":case"xx":return jo(n);default:return jo(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+pC(n,":");default:return"GMT"+jo(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+pC(n,":");default:return"GMT"+jo(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return vt(n,t.length)},T:function(e,t,r){const n=e.getTime();return vt(n,t.length)}};function pC(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+t+vt(a,2)}function mC(e,t){return e%60===0?(e>0?"-":"+")+vt(Math.abs(e)/60,2):jo(e,t)}function jo(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=vt(Math.trunc(n/60),2),a=vt(n%60,2);return r+i+t+a}const gC=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},rz=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},$re=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return gC(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",gC(n,t)).replace("{{time}}",rz(i,t))},Lre={p:rz,P:$re},zre=/^D+$/,Fre=/^Y+$/,Bre=["D","DD","YY","YYYY"];function qre(e){return zre.test(e)}function Ure(e){return Fre.test(e)}function Vre(e,t,r){const n=Wre(e,t,r);if(console.warn(n),Bre.includes(e))throw new RangeError(n)}function Wre(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Hre=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Gre=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Kre=/^'([^]*?)'?$/,Yre=/''/g,Xre=/[a-zA-Z]/;function Xe(e,t,r){const n=Am(),i=r?.locale??n.locale??Nre,a=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=Je(e);if(!Wte(s))throw new RangeError("Invalid time value");let l=t.match(Gre).map(d=>{const f=d[0];if(f==="p"||f==="P"){const h=Lre[f];return h(d,i.formatLong)}return d}).join("").match(Hre).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const f=d[0];if(f==="'")return{isToken:!1,value:Qre(d)};if(hC[f])return{isToken:!0,value:d};if(f.match(Xre))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:d}});i.localize.preprocessor&&(l=i.localize.preprocessor(s,l));const c={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return l.map(d=>{if(!d.isToken)return d.value;const f=d.value;(!r?.useAdditionalWeekYearTokens&&Ure(f)||!r?.useAdditionalDayOfYearTokens&&qre(f))&&Vre(f,t,String(e));const h=hC[f[0]];return h(s,f,i.localize,c)}).join("")}function Qre(e){const t=e.match(Kre);return t?t[1].replace(Yre,"'"):e}function Jre(e){return Je(e).getDate()}function Zre(e){return Je(e).getDay()}function ene(e,t){const r=t?.weekStartsOn,n=Jre(e);if(isNaN(n))return NaN;const i=Zre(qi(e));let a=r-i;a<=0&&(a+=7);const o=n-a;return Math.ceil(o/7)+1}function tne(e){const t=Je(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function rne(e,t){return Kte(tne(e),qi(e),t)+1}function wa(e,t){const r=Je(e),n=Je(t);return r.getTime()>n.getTime()}function oi(e,t){const r=Je(e),n=Je(t);return+r<+n}function vC(e,t,r){const n=Pn(e,r),i=Pn(t,r);return+n==+i}function Kt(e,t){return Lh(e,-t)}function nne(e,t){const n=sne(e);let i;if(n.date){const l=lne(n.date,2);i=cne(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const a=i.getTime();let o=0,s;if(n.time&&(o=une(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(s=dne(n.timezone),isNaN(s))return new Date(NaN)}else{const l=new Date(a+o),c=new Date(0);return c.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),c.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),c}return new Date(a+o+s)}const Sf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ine=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,ane=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,one=/^([+-])(\d{2})(?::?(\d{2}))?$/;function sne(e){const t={},r=e.split(Sf.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Sf.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Sf.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const i=Sf.timezone.exec(n);i?(t.time=n.replace(i[1],""),t.timezone=i[1]):t.time=n}return t}function lne(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((n[1]||n[2]).length)}}function cne(e,t){if(t===null)return new Date(NaN);const r=e.match(ine);if(!r)return new Date(NaN);const n=!!r[4],i=Ac(r[1]),a=Ac(r[2])-1,o=Ac(r[3]),s=Ac(r[4]),l=Ac(r[5])-1;if(n)return gne(t,s,l)?fne(t,s,l):new Date(NaN);{const c=new Date(0);return!pne(t,a,o)||!mne(t,i)?new Date(NaN):(c.setUTCFullYear(t,a,Math.max(i,o)),c)}}function Ac(e){return e?parseInt(e):1}function une(e){const t=e.match(ane);if(!t)return NaN;const r=Sv(t[1]),n=Sv(t[2]),i=Sv(t[3]);return vne(r,n,i)?r*J4+n*Q4+i*1e3:NaN}function Sv(e){return e&&parseFloat(e.replace(",","."))||0}function dne(e){if(e==="Z")return 0;const t=e.match(one);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return yne(n,i)?r*(n*J4+i*Q4):NaN}function fne(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const i=n.getUTCDay()||7,a=(t-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+a),n}const hne=[31,null,31,30,31,30,31,31,30,31,30,31];function nz(e){return e%400===0||e%4===0&&e%100!==0}function pne(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(hne[t]||(nz(e)?29:28))}function mne(e,t){return t>=1&&t<=(nz(e)?366:365)}function gne(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function vne(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function yne(e,t){return t>=0&&t<=59}function yC(e,t){return Lj(e,-t)}function bne(e,t){return qte(e,-1)}function xne(e,t){return Ute(e,-1)}function xs(e=new Date){return Xe(e,"yyyy-MM-dd")}function wne(e,t,r){return!(e<t||r&&e>r)}function Fj(){const e=eo(),{data:t,isLoading:r,refetch:n}=ji({queryKey:["goals"],queryFn:async()=>{const{data:m,error:g}=await be.from("goals").select("*").order("display_order",{ascending:!0,nullsFirst:!1}).order("created_at",{ascending:!0});if(g)throw We.error("Errore caricamento obiettivi"),g;return m}}),{data:i,isLoading:a}=ji({queryKey:["goal_logs"],queryFn:async()=>{let m=[],g=0;const y=1e3;let b=!0;for(;b;){const{data:x,error:_}=await be.from("goal_logs").select("*").range(g,g+y-1);if(_)throw console.error(_),_;x&&x.length>0?(m=[...m,...x],x.length<y?b=!1:g+=y):b=!1}return m}}),o={};i&&i.forEach(m=>{o[m.date]||(o[m.date]={}),o[m.date][m.goal_id]=m.status});const s=xn({mutationFn:async m=>{const{data:{session:g}}=await be.auth.getSession();if(!g)throw new Error("Non sei autenticato. Effettua il login.");const{data:y}=await be.from("goals").select("display_order").eq("user_id",g.user.id).order("display_order",{ascending:!1,nullsFirst:!1}).limit(1),b=y&&y.length>0&&y[0].display_order?y[0].display_order+1:1,{data:x,error:_}=await be.from("goals").insert([{title:m.title,color:m.color,start_date:m.start_date||xs(new Date),user_id:g.user.id,display_order:b}]).select().single();if(_)throw _;return x},onSuccess:()=>{e.invalidateQueries({queryKey:["goals"]}),We.success("Obiettivo creato")},onError:m=>{We.error("Errore creazione: "+m.message)}}),l=xn({mutationFn:async({id:m,title:g,color:y})=>{const{data:{session:b}}=await be.auth.getSession();if(!b)throw new Error("Non sei autenticato. Effettua il login.");const{error:x}=await be.from("goals").update({title:g,color:y}).eq("id",m).eq("user_id",b.user.id);if(x)throw x},onSuccess:()=>{e.invalidateQueries({queryKey:["goals"]}),We.success("Abitudine aggiornata")},onError:m=>{We.error("Errore aggiornamento: "+m.message)}}),c=async m=>{const g=new Date;g.setDate(g.getDate()-1);const{error:y}=await be.from("goals").update({end_date:xs(g)}).eq("id",m);if(y)throw console.error("Soft delete failed:",y),y},d=xn({mutationFn:async m=>{const{count:g,error:y}=await be.from("goal_logs").select("*",{count:"exact",head:!0}).eq("goal_id",m);if(y)throw y;if(g&&g>0)await c(m);else try{const{error:b}=await be.from("goals").delete().eq("id",m);b&&(console.warn("Hard delete failed, falling back to soft delete",b),await c(m))}catch(b){console.warn("Hard delete exception, falling back to soft delete",b),await c(m)}},onSuccess:()=>{e.invalidateQueries({queryKey:["goals"]}),We.success("Obiettivo eliminato")},onError:m=>{We.error("Errore eliminazione: "+m.message)}}),f=xn({mutationFn:async()=>{const{data:{session:m}}=await be.auth.getSession();if(!m)throw new Error("Not authenticated");const{error:g}=await be.from("goal_logs").delete().eq("user_id",m.user.id);if(g)throw g;const{error:y}=await be.from("goals").delete().eq("user_id",m.user.id);if(y)throw y},onSuccess:()=>{e.invalidateQueries({queryKey:["goals"]}),e.invalidateQueries({queryKey:["goal_logs"]}),We.success("Reset completo effettuato")},onError:m=>{We.error("Errore reset: "+m.message)}}),h=(t||[]).filter(m=>!m.end_date||m.end_date>=xs(new Date)),p=xn({mutationFn:async({goalId:m,date:g,currentStatus:y})=>{const b=xs(g),{data:{session:x}}=await be.auth.getSession(),{data:_,error:w}=await be.from("goals").select("start_date, end_date").eq("id",m).single();if(w||!_)throw w||new Error("Goal not found");const j=_;if(!wne(b,j.start_date,j.end_date))throw new Error("Impossibile modificare un obiettivo fuori dal suo periodo di validit.");let k="done";if(y==="done"?k="missed":y==="missed"&&(k=null),k===null){const{error:A}=await be.from("goal_logs").delete().eq("goal_id",m).eq("date",b);if(A)throw A}else{const{error:A}=await be.from("goal_logs").upsert({goal_id:m,date:b,status:k,user_id:x?.user.id},{onConflict:"goal_id, date"});if(A)throw A}return{goalId:m,dateStr:b,nextStatus:k}},onMutate:async({goalId:m,date:g,currentStatus:y})=>{await e.cancelQueries({queryKey:["goal_logs"]});const b=e.getQueryData(["goal_logs"]),x=xs(g);let _="done";return y==="done"?_="missed":y==="missed"&&(_=null),e.setQueryData(["goal_logs"],w=>{if(!w)return[];const j=w.filter(k=>!(k.goal_id===m&&k.date===x));return _?[...j,{id:"temp-"+Date.now(),goal_id:m,date:x,status:_,created_at:"",updated_at:""}]:j}),{previousLogs:b}},onError:(m,g,y)=>{e.setQueryData(["goal_logs"],y?.previousLogs),We.error("Errore aggiornamento")},onSettled:()=>{e.invalidateQueries({queryKey:["goal_logs"]})}}),v=xn({mutationFn:async m=>{const{data:{session:g}}=await be.auth.getSession();if(!g)throw new Error("Non sei autenticato. Effettua il login.");const y=m.map(async({id:b,display_order:x})=>{const{error:_}=await be.from("goals").update({display_order:x}).eq("id",b).eq("user_id",g.user.id);if(_)throw _;return{id:b,display_order:x}});await Promise.all(y)},onSuccess:async()=>{await e.invalidateQueries({queryKey:["goals"]}),setTimeout(()=>{e.refetchQueries({queryKey:["goals"]})},100),We.success("Ordine salvato")},onError:m=>{We.error("Errore salvataggio ordine: "+m.message)}});return{goals:h,allGoals:t||[],logs:o,rawLogs:i||[],isLoading:r||a,createGoal:s.mutate,updateGoal:l.mutate,isUpdating:l.isPending,updateOrder:v.mutate,isUpdatingOrder:v.isPending,deleteGoal:d.mutate,isDeleting:d.isPending,resetAllData:f.mutate,isResetting:f.isPending,toggleGoal:async(m,g)=>{const y=xs(m),b=o[y]?.[g]||null;p.mutate({goalId:g,date:m,currentStatus:b})}}}const iz=S.createContext(void 0),Sne=({children:e})=>{const[t,r]=S.useState(!1),n=()=>{r(i=>!i)};return u.jsx(iz.Provider,{value:{isPrivacyMode:t,setIsPrivacyMode:r,togglePrivacyMode:n},children:e})},Tm=()=>{const e=S.useContext(iz);if(e===void 0)throw new Error("usePrivacy must be used within a PrivacyProvider");return e},_ne={lessThanXSeconds:{one:"meno di un secondo",other:"meno di {{count}} secondi"},xSeconds:{one:"un secondo",other:"{{count}} secondi"},halfAMinute:"alcuni secondi",lessThanXMinutes:{one:"meno di un minuto",other:"meno di {{count}} minuti"},xMinutes:{one:"un minuto",other:"{{count}} minuti"},aboutXHours:{one:"circa un'ora",other:"circa {{count}} ore"},xHours:{one:"un'ora",other:"{{count}} ore"},xDays:{one:"un giorno",other:"{{count}} giorni"},aboutXWeeks:{one:"circa una settimana",other:"circa {{count}} settimane"},xWeeks:{one:"una settimana",other:"{{count}} settimane"},aboutXMonths:{one:"circa un mese",other:"circa {{count}} mesi"},xMonths:{one:"un mese",other:"{{count}} mesi"},aboutXYears:{one:"circa un anno",other:"circa {{count}} anni"},xYears:{one:"un anno",other:"{{count}} anni"},overXYears:{one:"pi di un anno",other:"pi di {{count}} anni"},almostXYears:{one:"quasi un anno",other:"quasi {{count}} anni"}},jne=(e,t,r)=>{let n;const i=_ne[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"tra "+n:n+" fa":n},kne={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},Ene={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Ane={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},One={date:Gs({formats:kne,defaultWidth:"full"}),time:Gs({formats:Ene,defaultWidth:"full"}),dateTime:Gs({formats:Ane,defaultWidth:"full"})},Bj=["domenica","luned","marted","mercoled","gioved","venerd","sabato"];function Cne(e){return e===0?"'domenica scorsa alle' p":"'"+Bj[e]+" scorso alle' p"}function bC(e){return"'"+Bj[e]+" alle' p"}function Tne(e){return e===0?"'domenica prossima alle' p":"'"+Bj[e]+" prossimo alle' p"}const Pne={lastWeek:(e,t,r)=>{const n=e.getDay();return vC(e,t,r)?bC(n):Cne(n)},yesterday:"'ieri alle' p",today:"'oggi alle' p",tomorrow:"'domani alle' p",nextWeek:(e,t,r)=>{const n=e.getDay();return vC(e,t,r)?bC(n):Tne(n)},other:"P"},Nne=(e,t,r,n)=>{const i=Pne[e];return typeof i=="function"?i(t,r,n):i},Rne={narrow:["aC","dC"],abbreviated:["a.C.","d.C."],wide:["avanti Cristo","dopo Cristo"]},Ine={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},Mne={narrow:["G","F","M","A","M","G","L","A","S","O","N","D"],abbreviated:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],wide:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]},Dne={narrow:["D","L","M","M","G","V","S"],short:["dom","lun","mar","mer","gio","ven","sab"],abbreviated:["dom","lun","mar","mer","gio","ven","sab"],wide:["domenica","luned","marted","mercoled","gioved","venerd","sabato"]},$ne={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"}},Lne={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"}},zne=(e,t)=>{const r=Number(e);return String(r)},Fne={ordinalNumber:zne,era:fi({values:Rne,defaultWidth:"wide"}),quarter:fi({values:Ine,defaultWidth:"wide",argumentCallback:e=>e-1}),month:fi({values:Mne,defaultWidth:"wide"}),day:fi({values:Dne,defaultWidth:"wide"}),dayPeriod:fi({values:$ne,defaultWidth:"wide",formattingValues:Lne,defaultFormattingWidth:"wide"})},Bne=/^(\d+)()?/i,qne=/\d+/i,Une={narrow:/^(aC|dC)/i,abbreviated:/^(a\.?\s?C\.?|a\.?\s?e\.?\s?v\.?|d\.?\s?C\.?|e\.?\s?v\.?)/i,wide:/^(avanti Cristo|avanti Era Volgare|dopo Cristo|Era Volgare)/i},Vne={any:[/^a/i,/^(d|e)/i]},Wne={narrow:/^[1234]/i,abbreviated:/^t[1234]/i,wide:/^[1234]()? trimestre/i},Hne={any:[/1/i,/2/i,/3/i,/4/i]},Gne={narrow:/^[gfmalsond]/i,abbreviated:/^(gen|feb|mar|apr|mag|giu|lug|ago|set|ott|nov|dic)/i,wide:/^(gennaio|febbraio|marzo|aprile|maggio|giugno|luglio|agosto|settembre|ottobre|novembre|dicembre)/i},Kne={narrow:[/^g/i,/^f/i,/^m/i,/^a/i,/^m/i,/^g/i,/^l/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ge/i,/^f/i,/^mar/i,/^ap/i,/^mag/i,/^gi/i,/^l/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},Yne={narrow:/^[dlmgvs]/i,short:/^(do|lu|ma|me|gi|ve|sa)/i,abbreviated:/^(dom|lun|mar|mer|gio|ven|sab)/i,wide:/^(domenica|luned[i|]|marted[i|]|mercoled[i|]|gioved[i|]|venerd[i|]|sabato)/i},Xne={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^g/i,/^v/i,/^s/i],any:[/^d/i,/^l/i,/^ma/i,/^me/i,/^g/i,/^v/i,/^s/i]},Qne={narrow:/^(a|m\.|p|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i,any:/^([ap]\.?\s?m\.?|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i},Jne={any:{am:/^a/i,pm:/^p/i,midnight:/^mezza/i,noon:/^mezzo/i,morning:/mattina/i,afternoon:/pomeriggio/i,evening:/sera/i,night:/notte/i}},Zne={ordinalNumber:ez({matchPattern:Bne,parsePattern:qne,valueCallback:e=>parseInt(e,10)}),era:hi({matchPatterns:Une,defaultMatchWidth:"wide",parsePatterns:Vne,defaultParseWidth:"any"}),quarter:hi({matchPatterns:Wne,defaultMatchWidth:"wide",parsePatterns:Hne,defaultParseWidth:"any",valueCallback:e=>e+1}),month:hi({matchPatterns:Gne,defaultMatchWidth:"wide",parsePatterns:Kne,defaultParseWidth:"any"}),day:hi({matchPatterns:Yne,defaultMatchWidth:"wide",parsePatterns:Xne,defaultParseWidth:"any"}),dayPeriod:hi({matchPatterns:Qne,defaultMatchWidth:"any",parsePatterns:Jne,defaultParseWidth:"any"})},Hr={code:"it",formatDistance:jne,formatLong:One,formatRelative:Nne,localize:Fne,match:Zne,options:{weekStartsOn:1,firstWeekContainsDate:4}};function $a(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e?.(i),r===!1||!i.defaultPrevented)return t?.(i)}}var eie="DismissableLayer",p1="dismissableLayer.update",tie="dismissableLayer.pointerDownOutside",rie="dismissableLayer.focusOutside",xC,az=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),oz=S.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:s,...l}=e,c=S.useContext(az),[d,f]=S.useState(null),h=d?.ownerDocument??globalThis?.document,[,p]=S.useState({}),v=ze(t,k=>f(k)),m=Array.from(c.layers),[g]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(g),b=d?m.indexOf(d):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,_=b>=y,w=aie(k=>{const A=k.target,T=[...c.branches].some(O=>O.contains(A));!_||T||(i?.(k),o?.(k),k.defaultPrevented||s?.())},h),j=oie(k=>{const A=k.target;[...c.branches].some(O=>O.contains(A))||(a?.(k),o?.(k),k.defaultPrevented||s?.())},h);return h5(k=>{b===c.layers.size-1&&(n?.(k),!k.defaultPrevented&&s&&(k.preventDefault(),s()))},h),S.useEffect(()=>{if(d)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(xC=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),wC(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=xC)}},[d,h,r,c]),S.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),wC())},[d,c]),S.useEffect(()=>{const k=()=>p({});return document.addEventListener(p1,k),()=>document.removeEventListener(p1,k)},[]),u.jsx(Ae.div,{...l,ref:v,style:{pointerEvents:x?_?"auto":"none":void 0,...e.style},onFocusCapture:$a(e.onFocusCapture,j.onFocusCapture),onBlurCapture:$a(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:$a(e.onPointerDownCapture,w.onPointerDownCapture)})});oz.displayName=eie;var nie="DismissableLayerBranch",iie=S.forwardRef((e,t)=>{const r=S.useContext(az),n=S.useRef(null),i=ze(t,n);return S.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),u.jsx(Ae.div,{...e,ref:i})});iie.displayName=nie;function aie(e,t=globalThis?.document){const r=Ut(e),n=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{const a=s=>{if(s.target&&!n.current){let l=function(){sz(tie,r,c,{discrete:!0})};const c={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function oie(e,t=globalThis?.document){const r=Ut(e),n=S.useRef(!1);return S.useEffect(()=>{const i=a=>{a.target&&!n.current&&sz(rie,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function wC(){const e=new CustomEvent(p1);document.dispatchEvent(e)}function sz(e,t,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?S_(i,a):i.dispatchEvent(a)}var _v="focusScope.autoFocusOnMount",jv="focusScope.autoFocusOnUnmount",SC={bubbles:!1,cancelable:!0},sie="FocusScope",qj=S.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[s,l]=S.useState(null),c=Ut(i),d=Ut(a),f=S.useRef(null),h=ze(t,m=>l(m)),p=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(n){let m=function(x){if(p.paused||!s)return;const _=x.target;s.contains(_)?f.current=_:ba(f.current,{select:!0})},g=function(x){if(p.paused||!s)return;const _=x.relatedTarget;_!==null&&(s.contains(_)||ba(f.current,{select:!0}))},y=function(x){if(document.activeElement===document.body)for(const w of x)w.removedNodes.length>0&&ba(s)};document.addEventListener("focusin",m),document.addEventListener("focusout",g);const b=new MutationObserver(y);return s&&b.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",g),b.disconnect()}}},[n,s,p.paused]),S.useEffect(()=>{if(s){jC.add(p);const m=document.activeElement;if(!s.contains(m)){const y=new CustomEvent(_v,SC);s.addEventListener(_v,c),s.dispatchEvent(y),y.defaultPrevented||(lie(hie(lz(s)),{select:!0}),document.activeElement===m&&ba(s))}return()=>{s.removeEventListener(_v,c),setTimeout(()=>{const y=new CustomEvent(jv,SC);s.addEventListener(jv,d),s.dispatchEvent(y),y.defaultPrevented||ba(m??document.body,{select:!0}),s.removeEventListener(jv,d),jC.remove(p)},0)}}},[s,c,d,p]);const v=S.useCallback(m=>{if(!r&&!n||p.paused)return;const g=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,y=document.activeElement;if(g&&y){const b=m.currentTarget,[x,_]=cie(b);x&&_?!m.shiftKey&&y===_?(m.preventDefault(),r&&ba(x,{select:!0})):m.shiftKey&&y===x&&(m.preventDefault(),r&&ba(_,{select:!0})):y===b&&m.preventDefault()}},[r,n,p.paused]);return u.jsx(Ae.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});qj.displayName=sie;function lie(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(ba(n,{select:t}),document.activeElement!==r)return}function cie(e){const t=lz(e),r=_C(t,e),n=_C(t.reverse(),e);return[r,n]}function lz(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function _C(e,t){for(const r of e)if(!uie(r,{upTo:t}))return r}function uie(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function die(e){return e instanceof HTMLInputElement&&"select"in e}function ba(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&die(e)&&t&&e.select()}}var jC=fie();function fie(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=kC(e,t),e.unshift(t)},remove(t){e=kC(e,t),e[0]?.resume()}}}function kC(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function hie(e){return e.filter(t=>t.tagName!=="A")}function pie(e,t){return S.useReducer((r,n)=>t[r][n]??r,e)}var Pm=e=>{const{present:t,children:r}=e,n=mie(t),i=typeof r=="function"?r({present:n.isPresent}):S.Children.only(r),a=ze(n.ref,gie(i));return typeof r=="function"||n.isPresent?S.cloneElement(i,{ref:a}):null};Pm.displayName="Presence";function mie(e){const[t,r]=S.useState(),n=S.useRef(null),i=S.useRef(e),a=S.useRef("none"),o=e?"mounted":"unmounted",[s,l]=pie(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const c=_f(n.current);a.current=s==="mounted"?c:"none"},[s]),Qt(()=>{const c=n.current,d=i.current;if(d!==e){const h=a.current,p=_f(c);e?l("MOUNT"):p==="none"||c?.display==="none"?l("UNMOUNT"):l(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),Qt(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,f=p=>{const m=_f(n.current).includes(CSS.escape(p.animationName));if(p.target===t&&m&&(l("ANIMATION_END"),!i.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},h=p=>{p.target===t&&(a.current=_f(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:S.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function _f(e){return e?.animationName||"none"}function gie(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var kv=0;function vie(){S.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??EC()),document.body.insertAdjacentElement("beforeend",e[1]??EC()),kv++,()=>{kv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),kv--}},[])}function EC(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ch="right-scroll-bar-position",uh="width-before-scroll-bar",yie="with-scroll-bars-hidden",bie="--removed-body-scroll-bar-size";function Ev(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function xie(e,t){var r=S.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var wie=typeof window<"u"?S.useLayoutEffect:S.useEffect,AC=new WeakMap;function Sie(e,t){var r=xie(null,function(n){return e.forEach(function(i){return Ev(i,n)})});return wie(function(){var n=AC.get(r);if(n){var i=new Set(n),a=new Set(e),o=r.current;i.forEach(function(s){a.has(s)||Ev(s,null)}),a.forEach(function(s){i.has(s)||Ev(s,o)})}AC.set(r,e)},[e]),r}function _ie(e){return e}function jie(e,t){t===void 0&&(t=_ie);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var o=t(a,n);return r.push(o),function(){r=r.filter(function(s){return s!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(s){return a(s)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var s=r;r=[],s.forEach(a),o=r}var l=function(){var d=o;o=[],d.forEach(a)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),r}}}};return i}function kie(e){e===void 0&&(e={});var t=jie(null);return t.options=Sn({async:!0,ssr:!1},e),t}var cz=function(e){var t=e.sideCar,r=ro(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return S.createElement(n,Sn({},r))};cz.isSideCarExport=!0;function Eie(e,t){return e.useMedium(t),cz}var uz=kie(),Av=function(){},Nm=S.forwardRef(function(e,t){var r=S.useRef(null),n=S.useState({onScrollCapture:Av,onWheelCapture:Av,onTouchMoveCapture:Av}),i=n[0],a=n[1],o=e.forwardProps,s=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,v=e.noIsolation,m=e.inert,g=e.allowPinchZoom,y=e.as,b=y===void 0?"div":y,x=e.gapMode,_=ro(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=h,j=Sie([r,t]),k=Sn(Sn({},_),i);return S.createElement(S.Fragment,null,d&&S.createElement(w,{sideCar:uz,removeScrollBar:c,shards:f,noRelative:p,noIsolation:v,inert:m,setCallbacks:a,allowPinchZoom:!!g,lockRef:r,gapMode:x}),o?S.cloneElement(S.Children.only(s),Sn(Sn({},k),{ref:j})):S.createElement(b,Sn({},k,{className:l,ref:j}),s))});Nm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Nm.classNames={fullWidth:uh,zeroRight:ch};var Aie=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Oie(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Aie();return t&&e.setAttribute("nonce",t),e}function Cie(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Tie(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Pie=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Oie())&&(Cie(t,r),Tie(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Nie=function(){var e=Pie();return function(t,r){S.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},dz=function(){var e=Nie(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},Rie={left:0,top:0,right:0,gap:0},Ov=function(e){return parseInt(e||"",10)||0},Iie=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Ov(r),Ov(n),Ov(i)]},Mie=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Rie;var t=Iie(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Die=dz(),Ks="data-scroll-locked",$ie=function(e,t,r,n){var i=e.left,a=e.top,o=e.right,s=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(yie,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(s,"px ").concat(n,`;
  }
  body[`).concat(Ks,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ch,` {
    right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(uh,` {
    margin-right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(ch," .").concat(ch,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(uh," .").concat(uh,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ks,`] {
    `).concat(bie,": ").concat(s,`px;
  }
`)},OC=function(){var e=parseInt(document.body.getAttribute(Ks)||"0",10);return isFinite(e)?e:0},Lie=function(){S.useEffect(function(){return document.body.setAttribute(Ks,(OC()+1).toString()),function(){var e=OC()-1;e<=0?document.body.removeAttribute(Ks):document.body.setAttribute(Ks,e.toString())}},[])},zie=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;Lie();var a=S.useMemo(function(){return Mie(i)},[i]);return S.createElement(Die,{styles:$ie(a,!t,i,r?"":"!important")})},m1=!1;if(typeof window<"u")try{var jf=Object.defineProperty({},"passive",{get:function(){return m1=!0,!0}});window.addEventListener("test",jf,jf),window.removeEventListener("test",jf,jf)}catch{m1=!1}var ws=m1?{passive:!1}:!1,Fie=function(e){return e.tagName==="TEXTAREA"},fz=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Fie(e)&&r[t]==="visible")},Bie=function(e){return fz(e,"overflowY")},qie=function(e){return fz(e,"overflowX")},CC=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=hz(e,n);if(i){var a=pz(e,n),o=a[1],s=a[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Uie=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Vie=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},hz=function(e,t){return e==="v"?Bie(t):qie(t)},pz=function(e,t){return e==="v"?Uie(t):Vie(t)},Wie=function(e,t){return e==="h"&&t==="rtl"?-1:1},Hie=function(e,t,r,n,i){var a=Wie(e,window.getComputedStyle(t).direction),o=a*n,s=r.target,l=t.contains(s),c=!1,d=o>0,f=0,h=0;do{if(!s)break;var p=pz(e,s),v=p[0],m=p[1],g=p[2],y=m-g-a*v;(v||y)&&hz(e,s)&&(f+=y,h+=v);var b=s.parentNode;s=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(c=!0),c},kf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},TC=function(e){return[e.deltaX,e.deltaY]},PC=function(e){return e&&"current"in e?e.current:e},Gie=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Kie=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Yie=0,Ss=[];function Xie(e){var t=S.useRef([]),r=S.useRef([0,0]),n=S.useRef(),i=S.useState(Yie++)[0],a=S.useState(dz)[0],o=S.useRef(e);S.useEffect(function(){o.current=e},[e]),S.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var m=Cj([e.lockRef.current],(e.shards||[]).map(PC),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var s=S.useCallback(function(m,g){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var y=kf(m),b=r.current,x="deltaX"in m?m.deltaX:b[0]-y[0],_="deltaY"in m?m.deltaY:b[1]-y[1],w,j=m.target,k=Math.abs(x)>Math.abs(_)?"h":"v";if("touches"in m&&k==="h"&&j.type==="range")return!1;var A=CC(k,j);if(!A)return!0;if(A?w=k:(w=k==="v"?"h":"v",A=CC(k,j)),!A)return!1;if(!n.current&&"changedTouches"in m&&(x||_)&&(n.current=w),!w)return!0;var T=n.current||w;return Hie(T,g,m,T==="h"?x:_)},[]),l=S.useCallback(function(m){var g=m;if(!(!Ss.length||Ss[Ss.length-1]!==a)){var y="deltaY"in g?TC(g):kf(g),b=t.current.filter(function(w){return w.name===g.type&&(w.target===g.target||g.target===w.shadowParent)&&Gie(w.delta,y)})[0];if(b&&b.should){g.cancelable&&g.preventDefault();return}if(!b){var x=(o.current.shards||[]).map(PC).filter(Boolean).filter(function(w){return w.contains(g.target)}),_=x.length>0?s(g,x[0]):!o.current.noIsolation;_&&g.cancelable&&g.preventDefault()}}},[]),c=S.useCallback(function(m,g,y,b){var x={name:m,delta:g,target:y,should:b,shadowParent:Qie(y)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(_){return _!==x})},1)},[]),d=S.useCallback(function(m){r.current=kf(m),n.current=void 0},[]),f=S.useCallback(function(m){c(m.type,TC(m),m.target,s(m,e.lockRef.current))},[]),h=S.useCallback(function(m){c(m.type,kf(m),m.target,s(m,e.lockRef.current))},[]);S.useEffect(function(){return Ss.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,ws),document.addEventListener("touchmove",l,ws),document.addEventListener("touchstart",d,ws),function(){Ss=Ss.filter(function(m){return m!==a}),document.removeEventListener("wheel",l,ws),document.removeEventListener("touchmove",l,ws),document.removeEventListener("touchstart",d,ws)}},[]);var p=e.removeScrollBar,v=e.inert;return S.createElement(S.Fragment,null,v?S.createElement(a,{styles:Kie(i)}):null,p?S.createElement(zie,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Qie(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Jie=Eie(uz,Xie);var Uj=S.forwardRef(function(e,t){return S.createElement(Nm,Sn({},e,{ref:t,sideCar:Jie}))});Uj.classNames=Nm.classNames;var Zie=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},_s=new WeakMap,Ef=new WeakMap,Af={},Cv=0,mz=function(e){return e&&(e.host||mz(e.parentNode))},eae=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=mz(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},tae=function(e,t,r,n){var i=eae(t,Array.isArray(e)?e:[e]);Af[r]||(Af[r]=new WeakMap);var a=Af[r],o=[],s=new Set,l=new Set(i),c=function(f){!f||s.has(f)||(s.add(f),c(f.parentNode))};i.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(s.has(h))d(h);else try{var p=h.getAttribute(n),v=p!==null&&p!=="false",m=(_s.get(h)||0)+1,g=(a.get(h)||0)+1;_s.set(h,m),a.set(h,g),o.push(h),m===1&&v&&Ef.set(h,!0),g===1&&h.setAttribute(r,"true"),v||h.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(t),s.clear(),Cv++,function(){o.forEach(function(f){var h=_s.get(f)-1,p=a.get(f)-1;_s.set(f,h),a.set(f,p),h||(Ef.has(f)||f.removeAttribute(n),Ef.delete(f)),p||f.removeAttribute(r)}),Cv--,Cv||(_s=new WeakMap,_s=new WeakMap,Ef=new WeakMap,Af={})}},gz=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=Zie(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),tae(n,i,r,"aria-hidden")):function(){return null}},Rm="Dialog",[vz,yz]=Br(Rm),[rae,ii]=vz(Rm),bz=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,s=S.useRef(null),l=S.useRef(null),[c,d]=Si({prop:n,defaultProp:i??!1,onChange:a,caller:Rm});return u.jsx(rae,{scope:t,triggerRef:s,contentRef:l,contentId:Ki(),titleId:Ki(),descriptionId:Ki(),open:c,onOpenChange:d,onOpenToggle:S.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};bz.displayName=Rm;var xz="DialogTrigger",wz=S.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=ii(xz,r),a=ze(t,i.triggerRef);return u.jsx(Ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Hj(i.open),...n,ref:a,onClick:$a(e.onClick,i.onOpenToggle)})});wz.displayName=xz;var Vj="DialogPortal",[nae,Sz]=vz(Vj,{forceMount:void 0}),_z=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,a=ii(Vj,t);return u.jsx(nae,{scope:t,forceMount:r,children:S.Children.map(n,o=>u.jsx(Pm,{present:r||a.open,children:u.jsx(om,{asChild:!0,container:i,children:o})}))})};_z.displayName=Vj;var Bh="DialogOverlay",jz=S.forwardRef((e,t)=>{const r=Sz(Bh,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=ii(Bh,e.__scopeDialog);return a.modal?u.jsx(Pm,{present:n||a.open,children:u.jsx(aae,{...i,ref:t})}):null});jz.displayName=Bh;var iae=Su("DialogOverlay.RemoveScroll"),aae=S.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=ii(Bh,r);return u.jsx(Uj,{as:iae,allowPinchZoom:!0,shards:[i.contentRef],children:u.jsx(Ae.div,{"data-state":Hj(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Qo="DialogContent",kz=S.forwardRef((e,t)=>{const r=Sz(Qo,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=ii(Qo,e.__scopeDialog);return u.jsx(Pm,{present:n||a.open,children:a.modal?u.jsx(oae,{...i,ref:t}):u.jsx(sae,{...i,ref:t})})});kz.displayName=Qo;var oae=S.forwardRef((e,t)=>{const r=ii(Qo,e.__scopeDialog),n=S.useRef(null),i=ze(t,r.contentRef,n);return S.useEffect(()=>{const a=n.current;if(a)return gz(a)},[]),u.jsx(Ez,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:$a(e.onCloseAutoFocus,a=>{a.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:$a(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,s=o.button===0&&o.ctrlKey===!0;(o.button===2||s)&&a.preventDefault()}),onFocusOutside:$a(e.onFocusOutside,a=>a.preventDefault())})}),sae=S.forwardRef((e,t)=>{const r=ii(Qo,e.__scopeDialog),n=S.useRef(!1),i=S.useRef(!1);return u.jsx(Ez,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(n.current||r.triggerRef.current?.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;r.triggerRef.current?.contains(o)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),Ez=S.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,s=ii(Qo,r),l=S.useRef(null),c=ze(t,l);return vie(),u.jsxs(u.Fragment,{children:[u.jsx(qj,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:u.jsx(oz,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":Hj(s.open),...o,ref:c,onDismiss:()=>s.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(cae,{titleId:s.titleId}),u.jsx(dae,{contentRef:l,descriptionId:s.descriptionId})]})]})}),Wj="DialogTitle",Az=S.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=ii(Wj,r);return u.jsx(Ae.h2,{id:i.titleId,...n,ref:t})});Az.displayName=Wj;var Oz="DialogDescription",Cz=S.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=ii(Oz,r);return u.jsx(Ae.p,{id:i.descriptionId,...n,ref:t})});Cz.displayName=Oz;var Tz="DialogClose",Pz=S.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=ii(Tz,r);return u.jsx(Ae.button,{type:"button",...n,ref:t,onClick:$a(e.onClick,()=>i.onOpenChange(!1))})});Pz.displayName=Tz;function Hj(e){return e?"open":"closed"}var Nz="DialogTitleWarning",[lae,Rz]=dH(Nz,{contentName:Qo,titleName:Wj,docsSlug:"dialog"}),cae=({titleId:e})=>{const t=Rz(Nz),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return S.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},uae="DialogDescriptionWarning",dae=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Rz(uae).contentName}}.`;return S.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Im=bz,Mm=wz,Dm=_z,Xl=jz,Ql=kz,Jl=Az,Zl=Cz,$m=Pz;const Lm=Im,Gj=Mm,fae=Dm,Iz=S.forwardRef(({className:e,...t},r)=>u.jsx(Xl,{ref:r,className:ae("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Iz.displayName=Xl.displayName;const zd=S.forwardRef(({className:e,children:t,...r},n)=>u.jsxs(fae,{children:[u.jsx(Iz,{}),u.jsxs(Ql,{ref:n,className:ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,u.jsxs($m,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[u.jsx(Ga,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));zd.displayName=Ql.displayName;const zm=({className:e,...t})=>u.jsx("div",{className:ae("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});zm.displayName="DialogHeader";const Mz=({className:e,...t})=>u.jsx("div",{className:ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Mz.displayName="DialogFooter";const Fd=S.forwardRef(({className:e,...t},r)=>u.jsx(Jl,{ref:r,className:ae("text-lg font-semibold leading-none tracking-tight",e),...t}));Fd.displayName=Jl.displayName;const Bd=S.forwardRef(({className:e,...t},r)=>u.jsx(Zl,{ref:r,className:ae("text-sm text-muted-foreground",e),...t}));Bd.displayName=Zl.displayName;function Kj({date:e,isOpen:t,onClose:r,habits:n,records:i,onToggleHabit:a,isPrivacyMode:o=!1,readonly:s=!1}){if(!e)return null;const l=Xe(e,"yyyy-MM-dd"),c=n.filter(d=>{const f=d.start_date<=l,h=!d.end_date||d.end_date>=l;return f&&h});return u.jsx(Lm,{open:t,onOpenChange:r,children:u.jsxs(zd,{className:"sm:max-w-[400px]",children:[u.jsxs(zm,{children:[u.jsxs("div",{className:"flex items-center justify-between pr-8",children:[u.jsx(Fd,{className:"text-xl font-display capitalize",children:Xe(e,"EEEE d MMMM",{locale:Hr})}),s?u.jsx("span",{className:"text-xs font-medium px-2 py-1 rounded-full bg-muted text-muted-foreground border border-border",children:"Solo visualizzazione"}):u.jsx("span",{className:"text-xs font-medium px-2 py-1 rounded-full bg-primary/10 text-primary border border-primary/20",children:"Modifica abilitata"})]}),u.jsx(Bd,{className:"sr-only",children:"Dettagli delle attivit giornaliere"})]}),u.jsx("div",{className:"py-2",children:u.jsx("div",{className:"max-h-[60vh] overflow-y-auto",children:u.jsx("div",{className:"space-y-3 pr-4",children:c.map(d=>{const h=(i[l]||{})[d.id],p=h==="done",v=h==="missed";return u.jsxs("div",{onClick:()=>!s&&a(d.id),className:ae("flex items-center justify-between p-3 rounded-xl border transition-all",!s&&"cursor-pointer hover:shadow-md hover:scale-[1.02] active:scale-[0.98]",s&&"opacity-90",p&&"bg-success/15 border-success/30",v&&"bg-destructive/15 border-destructive/30",!h&&"bg-card border-border",!h&&!s&&"hover:bg-accent"),children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"h-3 w-3 rounded-full ring-2 ring-offset-2 ring-offset-background",style:{backgroundColor:d.color}}),u.jsx("span",{className:ae("font-medium transition-colors transition-all duration-300",(p||v)&&"text-foreground",o&&"blur-sm"),children:d.title})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[p&&u.jsx(ci,{className:"h-5 w-5 text-success"}),v&&u.jsx(Ga,{className:"h-5 w-5 text-destructive"}),!h&&u.jsx("div",{className:"h-5 w-5 rounded-full border-2 border-muted-foreground/30"})]})]},d.id)})})})})]})})}const hae=["Lun","Mar","Mer","Gio","Ven","Sab","Dom"],pae=["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"];function mae({habits:e,records:t,onToggleHabit:r,isPrivacyMode:n=!1}){const[i,a]=S.useState(new Date),[o,s]=S.useState(null),l=i.getFullYear(),c=i.getMonth(),d=new Date(l,c,1),f=new Date(l,c+1,0);let h=d.getDay()-1;h<0&&(h=6);const p=f.getDate(),v=new Date,m=()=>a(new Date(l,c-1,1)),g=()=>a(new Date(l,c+1,1)),y=()=>a(new Date),b=k=>v.getDate()===k&&v.getMonth()===c&&v.getFullYear()===l,x=k=>{const A=new Date(l,c,k),T=new Date(v.getFullYear(),v.getMonth(),v.getDate());return A>T},_=h+p,w=Math.ceil(_/7),j=()=>{const k=[];for(let A=0;A<h;A++)k.push(u.jsx("div",{className:"aspect-auto h-full"},`empty-${A}`));for(let A=1;A<=p;A++){const T=new Date(l,c,A),O=Xe(T,"yyyy-MM-dd"),P=t[O]||{},N=x(A),M=e.filter(W=>{const B=W.start_date<=O,$=!W.end_date||W.end_date>=O;return B&&$}),E=M.filter(W=>P[W.id]==="done").length,R=M.filter(W=>P[W.id]==="missed").length,F=E+R,z=M.length;let q=0;z>0&&(q=E/z);let L={};const D=F>0;if(D&&z>0){const W=Math.round(q*142);L={backgroundColor:`hsl(${W}, 70%, 10%, 0.3)`,borderColor:`hsl(${W}, 80%, 40%, 0.5)`,boxShadow:q===1?`0 0 10px hsl(${W}, 80%, 40%, 0.2)`:"none"}}k.push(u.jsxs("button",{onClick:()=>!N&&s(T),disabled:N,style:L,className:ae("w-full h-full rounded-xl flex flex-col items-center justify-start py-[clamp(4px,1vw,8px)] transition-all duration-300 relative border border-white/5 hover:border-white/20 hover:bg-white/5 group",N&&"opacity-30 cursor-not-allowed",b(A)&&!D&&"bg-white/5 ring-1 ring-primary/50",!N&&(Bi(T,new Date)||Bi(T,Kt(new Date,1))&&new Date().getHours()<12)&&"ring-1 ring-primary/30 bg-primary/5"),children:[u.jsx("span",{className:ae("text-[clamp(0.7rem,2.5vw,0.9rem)] font-medium mb-[2px] font-mono-nums transition-all duration-300",b(A)&&"text-primary font-bold",D&&"text-foreground",n&&"blur-[2px]"),children:A}),u.jsx("div",{className:ae("flex flex-wrap items-center justify-center gap-0.5 px-1 w-full max-w-[80%] transition-all duration-300",n&&"blur-[1px]"),children:M.map(W=>{const B=P[W.id];return B?u.jsx("div",{className:ae("w-1 h-1 rounded-sm",B==="done"?"opacity-80":"opacity-0"),style:{backgroundColor:B==="done"?W.color:void 0}},W.id):null})})]},A))}return k};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"w-full h-full p-2 sm:p-4 animate-scale-in flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-6 shrink-0",children:[u.jsx(Ce,{variant:"ghost",size:"icon",onClick:m,children:u.jsx(O_,{className:"h-5 w-5"})}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("h2",{className:"text-xl sm:text-2xl font-display font-bold",children:[pae[c]," ",u.jsx("span",{className:"text-muted-foreground font-light",children:l})]}),u.jsx(Ce,{variant:"ghost",size:"icon",onClick:y,className:"h-8 w-8 ml-2 opacity-0 hover:opacity-100 transition-opacity",children:u.jsx(K5,{className:"h-3 w-3"})})]}),u.jsx(Ce,{variant:"ghost",size:"icon",onClick:g,children:u.jsx(cm,{className:"h-5 w-5"})})]}),u.jsx("div",{className:"grid grid-cols-7 gap-x-[clamp(4px,1.5vw,12px)] mb-2 shrink-0",children:hae.map(k=>u.jsx("div",{className:"text-center text-[10px] sm:text-xs font-semibold text-muted-foreground uppercase tracking-wider py-2",children:k},k))}),u.jsx("div",{className:"grid grid-cols-7 gap-[clamp(2px,1vw,8px)] flex-1 min-h-0",style:{gridTemplateRows:`repeat(${w}, 1fr)`},children:j()})]}),u.jsx(Kj,{isOpen:!!o,onClose:()=>s(null),date:o,habits:e,records:t,onToggleHabit:k=>o&&r(o,k),isPrivacyMode:n,readonly:o?!(Bi(o,new Date)||Bi(o,Kt(new Date,1))&&new Date().getHours()<12):!0})]})}function gae({habits:e,records:t,onToggleHabit:r,isPrivacyMode:n=!1}){const i=S.useMemo(()=>new Date,[]),[a,o]=S.useState(new Date),s=S.useMemo(()=>Pn(a,{weekStartsOn:1}),[a]),l=S.useMemo(()=>ere(a,{weekStartsOn:1}),[a]),[c,d]=S.useState(null),f=S.useMemo(()=>Array.from({length:7}).map((m,g)=>Lh(s,g)),[s]),h=()=>{o(m=>Kt(m,7))},p=()=>{o(m=>Lh(m,7))},v=S.useMemo(()=>{const m=Xe(s,"d",{locale:Hr}),g=Xe(l,"d MMMM",{locale:Hr});return`${m} - ${g}`},[s,l]);return Bi(Pn(i,{weekStartsOn:1}),s),u.jsxs("div",{className:"w-full h-full p-2 sm:p-4 animate-scale-in flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-6",children:[u.jsx("h2",{className:"text-xl font-display font-bold capitalize",children:v}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:h,className:"p-2 rounded-lg hover:bg-white/5 transition-colors active:scale-95",children:u.jsx(O_,{className:"w-5 h-5"})}),u.jsx("button",{onClick:p,className:"p-2 rounded-lg hover:bg-white/5 transition-colors active:scale-95",children:u.jsx(cm,{className:"w-5 h-5"})})]})]}),u.jsx("div",{className:"grid grid-cols-7 gap-2 sm:gap-4 flex-1 h-full overflow-hidden",children:f.map(m=>{const g=Xe(m,"yyyy-MM-dd"),y=t[g]||{},b=Bi(m,i),x=new Date(i);x.setHours(0,0,0,0);const _=m>x;return u.jsxs("div",{className:"flex flex-col gap-2 h-full overflow-hidden",children:[u.jsxs("button",{onClick:()=>!_&&d(m),disabled:_,className:ae("text-center py-2 rounded-xl border border-transparent transition-all w-full shrink-0",b&&"bg-primary/10 border-primary/20 text-primary",!_&&"hover:bg-white/5 hover:border-white/10 cursor-pointer active:scale-95",_&&"opacity-50 cursor-default"),children:[u.jsx("div",{className:"text-[10px] uppercase font-bold opacity-60",children:Xe(m,"EEE",{locale:Hr})}),u.jsx("div",{className:"text-lg font-mono font-bold",children:Xe(m,"d")})]}),u.jsx("div",{className:ae("flex flex-col gap-2 transition-all duration-300 flex-1 h-full",n&&"blur-[2px]"),children:e.map(w=>{const j=w.start_date<=g,k=w.end_date&&w.end_date<g;if(!j||k)return u.jsx("div",{className:"flex-1 rounded-xl invisible"},w.id);const A=y[w.id];return u.jsx("button",{disabled:_,onClick:()=>d(m),className:ae("flex-1 w-full rounded-xl border border-white/5 flex items-center justify-center transition-all hover:border-white/20 min-h-0",_&&"opacity-30 cursor-not-allowed",!_&&"cursor-pointer hover:bg-white/10",A==="done"&&"opacity-100 shadow-[0_0_10px_currentColor]",A==="missed"&&"opacity-50 grayscale",!A&&!_&&"bg-white/5"),style:{backgroundColor:A==="done"?w.color:void 0,color:w.color}},w.id)})})]},g)})}),u.jsx(Kj,{isOpen:!!c,onClose:()=>d(null),date:c,habits:e,records:t,onToggleHabit:m=>c&&r(c,m),isPrivacyMode:n,readonly:!0})]})}const vae=["GEN","FEB","MAR","APR","MAG","GIU","LUG","AGO","SET","OTT","NOV","DIC"];function yae({habits:e,records:t,onToggleHabit:r,isPrivacyMode:n=!1}){const[i,a]=S.useState(new Date),[o,s]=S.useState(null),l=i.getFullYear(),c=new Date,d=()=>a(new Date(l-1,0,1)),f=()=>a(new Date(l+1,0,1)),h=()=>a(new Date),p=y=>Bi(c,y),v=y=>y>c,m=S.useMemo(()=>Array.from({length:12},(y,b)=>{const x=new Date(l,b,1),_=_n({start:qi(x),end:Om(x)});return{monthIndex:b,days:_}}),[l]),g=y=>{const b=Xe(y,"yyyy-MM-dd"),x=t[b]||{},_=v(y),w=Xe(y,"d MMMM yyyy",{locale:Hr}),j=e.filter(E=>{const R=E.start_date<=b,F=!E.end_date||E.end_date>=b;return R&&F}),k=j.filter(E=>x[E.id]==="done").length,A=j.filter(E=>x[E.id]==="missed").length,T=k+A,O=j.length;let P=0;O>0&&(P=k/O);let N={};const M=T>0;if(M&&O>0){const E=Math.round(P*142);N={backgroundColor:`hsl(${E}, 70%, 25%)`,borderColor:`hsl(${E}, 80%, 50%)`}}return u.jsx(ja,{children:u.jsxs(Ao,{delayDuration:0,children:[u.jsx(Oo,{asChild:!0,children:u.jsx("button",{onClick:()=>!_&&s(y),disabled:_,style:N,className:ae("w-full h-full rounded-[2px] flex items-center justify-center transition-all duration-200 relative border border-white/5 hover:border-white/40 hover:scale-110 hover:z-10",_&&"opacity-20 cursor-not-allowed border-none bg-white/5",!_&&!M&&"bg-white/5",p(y)&&!M&&"ring-1 ring-primary/50 bg-primary/10")})}),u.jsxs(ka,{className:"bg-background/90 backdrop-blur border-white/10 text-xs",children:[u.jsx("p",{className:"capitalize font-medium",children:w}),j.length>0&&u.jsxs("p",{className:"text-muted-foreground",children:[k,"/",j.length," completate"]})]})]})},b)};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"w-full h-full p-2 sm:p-6 animate-scale-in flex flex-col overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4 shrink-0",children:[u.jsx(Ce,{variant:"ghost",size:"icon",onClick:d,children:u.jsx(O_,{className:"h-5 w-5"})}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("h2",{className:"text-xl sm:text-2xl font-display font-bold",children:u.jsx("span",{className:"text-foreground",children:l})}),u.jsx(Ce,{variant:"ghost",size:"icon",onClick:h,className:"h-8 w-8 ml-2 opacity-0 hover:opacity-100 transition-opacity",children:u.jsx(K5,{className:"h-3 w-3"})})]}),u.jsx(Ce,{variant:"ghost",size:"icon",onClick:f,children:u.jsx(cm,{className:"h-5 w-5"})})]}),u.jsx("div",{className:"flex-1 min-h-0 grid grid-cols-2 gap-x-6 gap-y-2",children:m.map(({monthIndex:y,days:b})=>u.jsxs("div",{className:"flex items-center gap-2 min-h-0",children:[u.jsx("span",{className:"text-[10px] font-bold text-muted-foreground w-8 shrink-0",children:vae[y]}),u.jsx("div",{className:"flex-1 h-full grid gap-[2px]",style:{gridTemplateColumns:`repeat(${b.length}, 1fr)`},children:b.map(x=>g(x))})]},y))})]}),u.jsx(Kj,{isOpen:!!o,onClose:()=>s(null),date:o,habits:e,records:t,onToggleHabit:y=>o&&r(o,y),isPrivacyMode:n,readonly:o?!(Bi(o,new Date)||Bi(o,Kt(new Date,1))&&new Date().getHours()<12):!0})]})}const Oc=2003,Tv=2088,Pv=29;function bae({habits:e,records:t,isPrivacyMode:r=!1}){const n=new Date,i=n.getFullYear(),a=qi(n),o=S.useMemo(()=>{if(!e||e.length===0)return n;const g=e.reduce((y,b)=>{const x=new Date(b.start_date);return x<y?x:y},n);return qi(g)},[e,n]),s=S.useMemo(()=>{const g=[];for(let y=Oc;y<=Tv;y++){const b=Cm(new Date(y,0,1));for(let x=0;x<12;x++){const _=Lj(b,x);g.push({date:_,year:y})}}return g},[]),l=S.useMemo(()=>{const g=[];for(let y=0;y<s.length;y+=Pv)g.push(s.slice(y,y+Pv));return g},[s]),c=S.useMemo(()=>{const g=new Map;return s.forEach(({date:y})=>{const b=y.getTime(),x=Om(y),_=_n({start:y,end:x});let w=0,j=0;_.forEach(A=>{const T=Xe(A,"yyyy-MM-dd"),O=t[T];if(!O)return;const P=e.filter(M=>{const E=M.start_date<=T,R=!M.end_date||M.end_date>=T;return E&&R}),N=P.filter(M=>O[M.id]==="done").length;w+=N,j+=P.length});const k=j>0?w/j:0;g.set(b,{completed:w,total:j,percentage:k})}),g},[s,t,e]),d=g=>{const y=g.getTime(),b=a.getTime(),x=y===b,_=g>n,w=g<o,j=c.get(y),k=j&&j.total>0;let A="rgba(255, 255, 255, 0.05)";_?A="rgba(255, 255, 255, 0.05)":w?A="hsl(200, 70%, 50%)":k&&(A=`hsl(${Math.round(j.percentage*142)}, 70%, 40%)`);const T=Xe(g,"MMMM yyyy",{locale:Hr});return u.jsx(ja,{children:u.jsxs(Ao,{delayDuration:100,children:[u.jsx(Oo,{asChild:!0,children:u.jsx("div",{style:{backgroundColor:A},className:ae("rounded-sm transition-all duration-150 hover:scale-110 hover:z-10 border border-black/40",x&&"ring-2 ring-primary ring-offset-1 ring-offset-background shadow-[0_0_8px_rgba(255,255,255,0.4)]",!_&&"hover:brightness-125 hover:border-white/30",w&&!_&&"opacity-30",_&&"opacity-20",r&&k&&"blur-[1px]")})}),u.jsx(ka,{className:"bg-background/95 backdrop-blur border-white/10 text-xs",children:u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"font-bold capitalize",children:T}),x&&u.jsx("p",{className:"text-primary font-medium",children:"Mese corrente"}),_&&u.jsx("p",{className:"text-muted-foreground",children:"Futuro"}),w&&!_&&u.jsx("p",{className:"text-blue-400",children:"Pre-tracciamento"}),k&&u.jsxs(u.Fragment,{children:[u.jsxs("p",{className:"text-muted-foreground",children:[j.completed,"/",j.total," completati"]}),u.jsxs("p",{className:"text-muted-foreground",children:["Performance: ",Math.round(j.percentage*100),"%"]})]})]})})]})},y)},h=(Tv-Oc+1)*12,p=i-Oc,v=Jte(n,new Date(Oc,0,1)),m=1020-v;return u.jsxs("div",{className:"w-full h-full p-2 sm:p-4 animate-scale-in flex flex-col",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between mb-2 sm:mb-3 shrink-0 gap-1",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-base sm:text-lg font-display font-bold",children:"La Mia Vita Produttiva"}),u.jsxs("p",{className:"text-[9px] sm:text-[10px] text-muted-foreground",children:[Oc," - ",Tv,"  ",h.toLocaleString()," mesi"]})]}),u.jsxs("div",{className:"flex items-center gap-2 text-[9px] sm:text-[10px]",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-sm",style:{backgroundColor:"hsl(200, 70%, 50%)",opacity:.3}}),u.jsx("span",{className:"text-muted-foreground",children:"Pre-tracking"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-sm ring-1 ring-primary",style:{backgroundColor:"hsl(71, 70%, 40%)"}}),u.jsx("span",{className:"text-muted-foreground",children:"Attuale"})]})]})]}),u.jsx("div",{className:"mb-2 sm:mb-3 shrink-0 glass-card p-2 rounded-lg",children:u.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm sm:text-base font-bold text-primary",children:v.toLocaleString()}),u.jsx("p",{className:"text-[8px] sm:text-[9px] text-muted-foreground uppercase",children:"Mesi Vissuti"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm sm:text-base font-bold text-foreground",children:p}),u.jsx("p",{className:"text-[8px] sm:text-[9px] text-muted-foreground uppercase",children:"Anni"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm sm:text-base font-bold text-muted-foreground/70",children:m.toLocaleString()}),u.jsx("p",{className:"text-[8px] sm:text-[9px] text-muted-foreground uppercase",children:"Mesi Rimanenti"})]})]})}),u.jsx("div",{className:"flex-1 min-h-0 grid gap-1.5 content-start overflow-hidden",style:{gridTemplateRows:`repeat(${l.length}, 1fr)`},children:l.map((g,y)=>{const b=y===0,x=y===l.length-1,_=b?"nato":x?"morto":"";return u.jsxs("div",{className:"flex items-center gap-1 min-h-0",children:[u.jsx("div",{className:"w-6 sm:w-8 shrink-0 text-[8px] sm:text-[9px] font-bold text-right text-muted-foreground",children:_}),u.jsx("div",{className:"flex-1 grid gap-1.5 h-full",style:{gridTemplateColumns:`repeat(${Pv}, 1fr)`},children:g.map(({date:w})=>d(w))})]},y)})})]})}var xae="Label",Dz=S.forwardRef((e,t)=>u.jsx(Ae.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Dz.displayName=xae;var $z=Dz;const wae=Cd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ri=S.forwardRef(({className:e,...t},r)=>u.jsx($z,{ref:r,className:ae(wae(),e),...t}));ri.displayName=$z.displayName;function Fm(){return(Fm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Lz(e,t){if(e==null)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)t.indexOf(r=a[n])>=0||(i[r]=e[r]);return i}function g1(e){var t=S.useRef(e),r=S.useRef(function(n){t.current&&t.current(n)});return t.current=e,r.current}var $u=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=1),e>r?r:e<t?t:e},ou=function(e){return"touches"in e},v1=function(e){return e&&e.ownerDocument.defaultView||self},NC=function(e,t,r){var n=e.getBoundingClientRect(),i=ou(t)?(function(a,o){for(var s=0;s<a.length;s++)if(a[s].identifier===o)return a[s];return a[0]})(t.touches,r):t;return{left:$u((i.pageX-(n.left+v1(e).pageXOffset))/n.width),top:$u((i.pageY-(n.top+v1(e).pageYOffset))/n.height)}},RC=function(e){!ou(e)&&e.preventDefault()},zz=I.memo(function(e){var t=e.onMove,r=e.onKey,n=Lz(e,["onMove","onKey"]),i=S.useRef(null),a=g1(t),o=g1(r),s=S.useRef(null),l=S.useRef(!1),c=S.useMemo(function(){var p=function(g){RC(g),(ou(g)?g.touches.length>0:g.buttons>0)&&i.current?a(NC(i.current,g,s.current)):m(!1)},v=function(){return m(!1)};function m(g){var y=l.current,b=v1(i.current),x=g?b.addEventListener:b.removeEventListener;x(y?"touchmove":"mousemove",p),x(y?"touchend":"mouseup",v)}return[function(g){var y=g.nativeEvent,b=i.current;if(b&&(RC(y),!(function(_,w){return w&&!ou(_)})(y,l.current)&&b)){if(ou(y)){l.current=!0;var x=y.changedTouches||[];x.length&&(s.current=x[0].identifier)}b.focus(),a(NC(b,y,s.current)),m(!0)}},function(g){var y=g.which||g.keyCode;y<37||y>40||(g.preventDefault(),o({left:y===39?.05:y===37?-.05:0,top:y===40?.05:y===38?-.05:0}))},m]},[o,a]),d=c[0],f=c[1],h=c[2];return S.useEffect(function(){return h},[h]),I.createElement("div",Fm({},n,{onTouchStart:d,onMouseDown:d,className:"react-colorful__interactive",ref:i,onKeyDown:f,tabIndex:0,role:"slider"}))}),Yj=function(e){return e.filter(Boolean).join(" ")},Fz=function(e){var t=e.color,r=e.left,n=e.top,i=n===void 0?.5:n,a=Yj(["react-colorful__pointer",e.className]);return I.createElement("div",{className:a,style:{top:100*i+"%",left:100*r+"%"}},I.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},wr=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=Math.pow(10,t)),Math.round(r*e)/r},Sae=function(e){return Aae(y1(e))},y1=function(e){return e[0]==="#"&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?wr(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?wr(parseInt(e.substring(6,8),16)/255,2):1}},_ae=function(e){return Eae(kae(e))},jae=function(e){var t=e.s,r=e.v,n=e.a,i=(200-t)*r/100;return{h:wr(e.h),s:wr(i>0&&i<200?t*r/100/(i<=100?i:200-i)*100:0),l:wr(i/2),a:wr(n,2)}},b1=function(e){var t=jae(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},kae=function(e){var t=e.h,r=e.s,n=e.v,i=e.a;t=t/360*6,r/=100,n/=100;var a=Math.floor(t),o=n*(1-r),s=n*(1-(t-a)*r),l=n*(1-(1-t+a)*r),c=a%6;return{r:wr(255*[n,s,o,o,l,n][c]),g:wr(255*[l,n,n,s,o,o][c]),b:wr(255*[o,o,l,n,n,s][c]),a:wr(i,2)}},Of=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},Eae=function(e){var t=e.r,r=e.g,n=e.b,i=e.a,a=i<1?Of(wr(255*i)):"";return"#"+Of(t)+Of(r)+Of(n)+a},Aae=function(e){var t=e.r,r=e.g,n=e.b,i=e.a,a=Math.max(t,r,n),o=a-Math.min(t,r,n),s=o?a===t?(r-n)/o:a===r?2+(n-t)/o:4+(t-r)/o:0;return{h:wr(60*(s<0?s+6:s)),s:wr(a?o/a*100:0),v:wr(a/255*100),a:i}},Oae=I.memo(function(e){var t=e.hue,r=e.onChange,n=Yj(["react-colorful__hue",e.className]);return I.createElement("div",{className:n},I.createElement(zz,{onMove:function(i){r({h:360*i.left})},onKey:function(i){r({h:$u(t+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":wr(t),"aria-valuemax":"360","aria-valuemin":"0"},I.createElement(Fz,{className:"react-colorful__hue-pointer",left:t/360,color:b1({h:t,s:100,v:100,a:1})})))}),Cae=I.memo(function(e){var t=e.hsva,r=e.onChange,n={backgroundColor:b1({h:t.h,s:100,v:100,a:1})};return I.createElement("div",{className:"react-colorful__saturation",style:n},I.createElement(zz,{onMove:function(i){r({s:100*i.left,v:100-100*i.top})},onKey:function(i){r({s:$u(t.s+100*i.left,0,100),v:$u(t.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+wr(t.s)+"%, Brightness "+wr(t.v)+"%"},I.createElement(Fz,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:b1(t)})))}),Bz=function(e,t){if(e===t)return!0;for(var r in e)if(e[r]!==t[r])return!1;return!0},Tae=function(e,t){return e.toLowerCase()===t.toLowerCase()||Bz(y1(e),y1(t))};function Pae(e,t,r){var n=g1(r),i=S.useState(function(){return e.toHsva(t)}),a=i[0],o=i[1],s=S.useRef({color:t,hsva:a});S.useEffect(function(){if(!e.equal(t,s.current.color)){var c=e.toHsva(t);s.current={hsva:c,color:t},o(c)}},[t,e]),S.useEffect(function(){var c;Bz(a,s.current.hsva)||e.equal(c=e.fromHsva(a),s.current.color)||(s.current={hsva:a,color:c},n(c))},[a,e,n]);var l=S.useCallback(function(c){o(function(d){return Object.assign({},d,c)})},[]);return[a,l]}var Nae=typeof window<"u"?S.useLayoutEffect:S.useEffect,Rae=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},IC=new Map,Iae=function(e){Nae(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!IC.has(t)){var r=t.createElement("style");r.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,IC.set(t,r);var n=Rae();n&&r.setAttribute("nonce",n),t.head.appendChild(r)}},[])},Mae=function(e){var t=e.className,r=e.colorModel,n=e.color,i=n===void 0?r.defaultColor:n,a=e.onChange,o=Lz(e,["className","colorModel","color","onChange"]),s=S.useRef(null);Iae(s);var l=Pae(r,i,a),c=l[0],d=l[1],f=Yj(["react-colorful",t]);return I.createElement("div",Fm({},o,{ref:s,className:f}),I.createElement(Cae,{hsva:c,onChange:d}),I.createElement(Oae,{hue:c.h,onChange:d,className:"react-colorful__last-control"}))},Dae={defaultColor:"000",toHsva:Sae,fromHsva:function(e){return _ae({h:e.h,s:e.s,v:e.v,a:1})},equal:Tae},$ae=function(e){return I.createElement(Mae,Fm({},e,{colorModel:Dae}))};const Lae=Im,zae=Mm,Fae=Dm,qz=S.forwardRef(({className:e,...t},r)=>u.jsx(Xl,{className:ae("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));qz.displayName=Xl.displayName;const Bae=Cd("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Uz=S.forwardRef(({side:e="right",className:t,children:r,...n},i)=>u.jsxs(Fae,{children:[u.jsx(qz,{}),u.jsxs(Ql,{ref:i,className:ae(Bae({side:e}),t),...n,children:[r,u.jsxs($m,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[u.jsx(Ga,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Uz.displayName=Ql.displayName;const Vz=({className:e,...t})=>u.jsx("div",{className:ae("flex flex-col space-y-2 text-center sm:text-left",e),...t});Vz.displayName="SheetHeader";const Wz=S.forwardRef(({className:e,...t},r)=>u.jsx(Jl,{ref:r,className:ae("text-lg font-semibold text-foreground",e),...t}));Wz.displayName=Jl.displayName;const qae=S.forwardRef(({className:e,...t},r)=>u.jsx(Zl,{ref:r,className:ae("text-sm text-muted-foreground",e),...t}));qae.displayName=Zl.displayName;const Uae=[{name:"Green",hex:"#4ade80"},{name:"Blue",hex:"#3b82f6"},{name:"Purple",hex:"#a855f7"},{name:"Red",hex:"#ef4444"},{name:"Orange",hex:"#f97316"},{name:"Pink",hex:"#ec4899"},{name:"Teal",hex:"#14b8a6"},{name:"Yellow",hex:"#eab308"}];function MC(e){const t=e.match(/hsl\((\d+)\s+(\d+)%\s+(\d+)%\)/);if(!t)return e.startsWith("#")?e:"#4ade80";const r=parseInt(t[1])/360,n=parseInt(t[2])/100,i=parseInt(t[3])/100,a=(d,f,h)=>(h<0&&(h+=1),h>1&&(h-=1),h<1/6?d+(f-d)*6*h:h<1/2?f:h<2/3?d+(f-d)*(2/3-h)*6:d);let o,s,l;if(n===0)o=s=l=i;else{const d=i<.5?i*(1+n):i+n-i*n,f=2*i-d;o=a(f,d,r+1/3),s=a(f,d,r),l=a(f,d,r-1/3)}const c=d=>{const f=Math.round(d*255).toString(16);return f.length===1?"0"+f:f};return`#${c(o)}${c(s)}${c(l)}`}function DC(e){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(!t)return e;const r=parseInt(t[1],16)/255,n=parseInt(t[2],16)/255,i=parseInt(t[3],16)/255,a=Math.max(r,n,i),o=Math.min(r,n,i);let s=0,l=0;const c=(a+o)/2;if(a!==o){const d=a-o;switch(l=c>.5?d/(2-a-o):d/(a+o),a){case r:s=((n-i)/d+(n<i?6:0))/6;break;case n:s=((i-r)/d+2)/6;break;case i:s=((r-n)/d+4)/6;break}}return`hsl(${Math.round(s*360)} ${Math.round(l*100)}% ${Math.round(c*100)}%)`}function Xj({value:e,onChange:t,className:r,showValueLabel:n=!0}){const[i,a]=S.useState(()=>MC(e)),[o,s]=S.useState(!1);S.useEffect(()=>{a(MC(e))},[e]);const l=d=>{a(d),t(DC(d))},c=d=>{a(d),t(DC(d))};return u.jsxs(Lae,{open:o,onOpenChange:s,children:[u.jsx(zae,{asChild:!0,children:u.jsxs(Ce,{type:"button",variant:"outline",className:ae("w-full justify-start gap-3 h-10 rounded-xl bg-black/20 border-white/10 hover:bg-white/5",!n&&"justify-center px-0 gap-0",r),children:[u.jsx("div",{className:"h-5 w-5 rounded-full shadow-[0_0_10px_currentColor] shrink-0",style:{backgroundColor:i,color:i}}),n&&u.jsx("span",{className:"font-mono text-sm uppercase tracking-wider",children:i})]})}),u.jsxs(Uz,{side:"bottom",className:"bg-[#0a0a0a]/95 backdrop-blur-2xl border-white/10",children:[u.jsx(Vz,{className:"pb-4",children:u.jsx(Wz,{children:"Seleziona Colore"})}),u.jsxs("div",{className:"space-y-6 pb-6 max-w-md mx-auto",children:[u.jsx("div",{className:"flex justify-center",children:u.jsx($ae,{color:i,onChange:l,style:{width:"100%",height:"180px"}})}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ri,{className:"text-xs uppercase tracking-wider text-muted-foreground",children:"Codice HEX"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"h-12 w-12 rounded-xl border border-white/10 shrink-0 shadow-[0_0_15px_currentColor]",style:{backgroundColor:i,color:i}}),u.jsxs("div",{className:"flex-1 relative",children:[u.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground font-mono text-lg",children:"#"}),u.jsx(ta,{value:i.replace("#",""),onChange:d=>{const f=d.target.value.replace(/[^a-fA-F0-9]/g,"").slice(0,6);f.length===6?l("#"+f):a("#"+f)},className:"pl-10 font-mono uppercase bg-black/30 border-white/10 h-12 rounded-xl text-lg",maxLength:6,placeholder:"4ade80"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ri,{className:"text-xs uppercase tracking-wider text-muted-foreground",children:"Colori Rapidi"}),u.jsx("div",{className:"grid grid-cols-8 gap-2",children:Uae.map(d=>u.jsx("button",{type:"button",onClick:()=>c(d.hex),className:ae("aspect-square w-full rounded-xl border-2 transition-all hover:scale-110 shadow-[0_0_8px_currentColor]",i.toLowerCase()===d.hex.toLowerCase()?"border-white scale-110":"border-transparent"),style:{backgroundColor:d.hex,color:d.hex},title:d.name},d.hex))})]}),u.jsx(Ce,{onClick:()=>s(!1),className:"w-full h-12 rounded-xl text-base",children:"Conferma Colore"})]})]})]})}function Vae(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e?.(i),r===!1||!i.defaultPrevented)return t?.(i)}}var Hz="AlertDialog",[Wae]=Br(Hz,[yz]),ca=yz(),Gz=e=>{const{__scopeAlertDialog:t,...r}=e,n=ca(t);return u.jsx(Im,{...n,...r,modal:!0})};Gz.displayName=Hz;var Hae="AlertDialogTrigger",Kz=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=ca(r);return u.jsx(Mm,{...i,...n,ref:t})});Kz.displayName=Hae;var Gae="AlertDialogPortal",Yz=e=>{const{__scopeAlertDialog:t,...r}=e,n=ca(t);return u.jsx(Dm,{...n,...r})};Yz.displayName=Gae;var Kae="AlertDialogOverlay",Xz=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=ca(r);return u.jsx(Xl,{...i,...n,ref:t})});Xz.displayName=Kae;var Ys="AlertDialogContent",[Yae,Xae]=Wae(Ys),Qae=o5("AlertDialogContent"),Qz=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...i}=e,a=ca(r),o=S.useRef(null),s=ze(t,o),l=S.useRef(null);return u.jsx(lae,{contentName:Ys,titleName:Jz,docsSlug:"alert-dialog",children:u.jsx(Yae,{scope:r,cancelRef:l,children:u.jsxs(Ql,{role:"alertdialog",...a,...i,ref:s,onOpenAutoFocus:Vae(i.onOpenAutoFocus,c=>{c.preventDefault(),l.current?.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[u.jsx(Qae,{children:n}),u.jsx(Zae,{contentRef:o})]})})})});Qz.displayName=Ys;var Jz="AlertDialogTitle",Zz=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=ca(r);return u.jsx(Jl,{...i,...n,ref:t})});Zz.displayName=Jz;var eF="AlertDialogDescription",tF=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=ca(r);return u.jsx(Zl,{...i,...n,ref:t})});tF.displayName=eF;var Jae="AlertDialogAction",rF=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=ca(r);return u.jsx($m,{...i,...n,ref:t})});rF.displayName=Jae;var nF="AlertDialogCancel",iF=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:i}=Xae(nF,r),a=ca(r),o=ze(t,i);return u.jsx($m,{...a,...n,ref:o})});iF.displayName=nF;var Zae=({contentRef:e})=>{const t=`\`${Ys}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ys}\` by passing a \`${eF}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ys}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return S.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},eoe=Gz,toe=Kz,roe=Yz,aF=Xz,oF=Qz,sF=rF,lF=iF,cF=Zz,uF=tF;const Bo=eoe,cl=toe,noe=roe,dF=S.forwardRef(({className:e,...t},r)=>u.jsx(aF,{className:ae("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));dF.displayName=aF.displayName;const La=S.forwardRef(({className:e,...t},r)=>u.jsxs(noe,{children:[u.jsx(dF,{}),u.jsx(oF,{ref:r,className:ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));La.displayName=oF.displayName;const za=({className:e,...t})=>u.jsx("div",{className:ae("flex flex-col space-y-2 text-center sm:text-left",e),...t});za.displayName="AlertDialogHeader";const Fa=({className:e,...t})=>u.jsx("div",{className:ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Fa.displayName="AlertDialogFooter";const Ba=S.forwardRef(({className:e,...t},r)=>u.jsx(cF,{ref:r,className:ae("text-lg font-semibold",e),...t}));Ba.displayName=cF.displayName;const qa=S.forwardRef(({className:e,...t},r)=>u.jsx(uF,{ref:r,className:ae("text-sm text-muted-foreground",e),...t}));qa.displayName=uF.displayName;const Ua=S.forwardRef(({className:e,...t},r)=>u.jsx(sF,{ref:r,className:ae(Aj(),e),...t}));Ua.displayName=sF.displayName;const Jo=S.forwardRef(({className:e,...t},r)=>u.jsx(lF,{ref:r,className:ae(Aj({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Jo.displayName=lF.displayName;function ioe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return S.useMemo(()=>n=>{t.forEach(i=>i(n))},t)}const Bm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ec(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Qj(e){return"nodeType"in e}function Yr(e){var t,r;return e?ec(e)?e:Qj(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function Jj(e){const{Document:t}=Yr(e);return e instanceof t}function qd(e){return ec(e)?!1:e instanceof Yr(e).HTMLElement}function fF(e){return e instanceof Yr(e).SVGElement}function tc(e){return e?ec(e)?e.document:Qj(e)?Jj(e)?e:qd(e)||fF(e)?e.ownerDocument:document:document:document}const Ai=Bm?S.useLayoutEffect:S.useEffect;function Zj(e){const t=S.useRef(e);return Ai(()=>{t.current=e}),S.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t.current==null?void 0:t.current(...n)},[])}function aoe(){const e=S.useRef(null),t=S.useCallback((n,i)=>{e.current=setInterval(n,i)},[]),r=S.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function Lu(e,t){t===void 0&&(t=[e]);const r=S.useRef(e);return Ai(()=>{r.current!==e&&(r.current=e)},t),r}function Ud(e,t){const r=S.useRef();return S.useMemo(()=>{const n=e(r.current);return r.current=n,n},[...t])}function qh(e){const t=Zj(e),r=S.useRef(null),n=S.useCallback(i=>{i!==r.current&&t?.(i,r.current),r.current=i},[]);return[r,n]}function x1(e){const t=S.useRef();return S.useEffect(()=>{t.current=e},[e]),t.current}let Nv={};function Vd(e,t){return S.useMemo(()=>{if(t)return t;const r=Nv[e]==null?0:Nv[e]+1;return Nv[e]=r,e+"-"+r},[e,t])}function hF(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return n.reduce((a,o)=>{const s=Object.entries(o);for(const[l,c]of s){const d=a[l];d!=null&&(a[l]=d+e*c)}return a},{...t})}}const Xs=hF(1),zu=hF(-1);function ooe(e){return"clientX"in e&&"clientY"in e}function ek(e){if(!e)return!1;const{KeyboardEvent:t}=Yr(e.target);return t&&e instanceof t}function soe(e){if(!e)return!1;const{TouchEvent:t}=Yr(e.target);return t&&e instanceof t}function w1(e){if(soe(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return ooe(e)?{x:e.clientX,y:e.clientY}:null}const Fu=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[Fu.Translate.toString(e),Fu.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),$C="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function loe(e){return e.matches($C)?e:e.querySelector($C)}const coe={display:"none"};function uoe(e){let{id:t,value:r}=e;return I.createElement("div",{id:t,style:coe},r)}function doe(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return I.createElement("div",{id:t,style:i,role:"status","aria-live":n,"aria-atomic":!0},r)}function foe(){const[e,t]=S.useState("");return{announce:S.useCallback(n=>{n!=null&&t(n)},[]),announcement:e}}const pF=S.createContext(null);function hoe(e){const t=S.useContext(pF);S.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function poe(){const[e]=S.useState(()=>new Set),t=S.useCallback(n=>(e.add(n),()=>e.delete(n)),[e]);return[S.useCallback(n=>{let{type:i,event:a}=n;e.forEach(o=>{var s;return(s=o[i])==null?void 0:s.call(o,a)})},[e]),t]}const moe={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},goe={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function voe(e){let{announcements:t=goe,container:r,hiddenTextDescribedById:n,screenReaderInstructions:i=moe}=e;const{announce:a,announcement:o}=foe(),s=Vd("DndLiveRegion"),[l,c]=S.useState(!1);if(S.useEffect(()=>{c(!0)},[]),hoe(S.useMemo(()=>({onDragStart(f){let{active:h}=f;a(t.onDragStart({active:h}))},onDragMove(f){let{active:h,over:p}=f;t.onDragMove&&a(t.onDragMove({active:h,over:p}))},onDragOver(f){let{active:h,over:p}=f;a(t.onDragOver({active:h,over:p}))},onDragEnd(f){let{active:h,over:p}=f;a(t.onDragEnd({active:h,over:p}))},onDragCancel(f){let{active:h,over:p}=f;a(t.onDragCancel({active:h,over:p}))}}),[a,t])),!l)return null;const d=I.createElement(I.Fragment,null,I.createElement(uoe,{id:n,value:i.draggable}),I.createElement(doe,{id:s,announcement:o}));return r?Xn.createPortal(d,r):d}var ar;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(ar||(ar={}));function Uh(){}function Rv(e,t){return S.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function yoe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return S.useMemo(()=>[...t].filter(n=>n!=null),[...t])}const ni=Object.freeze({x:0,y:0});function mF(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function gF(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return r-n}function boe(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function LC(e){let{left:t,top:r,height:n,width:i}=e;return[{x:t,y:r},{x:t+i,y:r},{x:t,y:r+n},{x:t+i,y:r+n}]}function vF(e,t){if(!e||e.length===0)return null;const[r]=e;return r[t]}function zC(e,t,r){return t===void 0&&(t=e.left),r===void 0&&(r=e.top),{x:t+e.width*.5,y:r+e.height*.5}}const xoe=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const i=zC(t,t.left,t.top),a=[];for(const o of n){const{id:s}=o,l=r.get(s);if(l){const c=mF(zC(l),i);a.push({id:s,data:{droppableContainer:o,value:c}})}}return a.sort(gF)},woe=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const i=LC(t),a=[];for(const o of n){const{id:s}=o,l=r.get(s);if(l){const c=LC(l),d=i.reduce((h,p,v)=>h+mF(c[v],p),0),f=Number((d/4).toFixed(4));a.push({id:s,data:{droppableContainer:o,value:f}})}}return a.sort(gF)};function Soe(e,t){const r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),o=i-n,s=a-r;if(n<i&&r<a){const l=t.width*t.height,c=e.width*e.height,d=o*s,f=d/(l+c-d);return Number(f.toFixed(4))}return 0}const _oe=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const i=[];for(const a of n){const{id:o}=a,s=r.get(o);if(s){const l=Soe(s,t);l>0&&i.push({id:o,data:{droppableContainer:a,value:l}})}}return i.sort(boe)};function joe(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function yF(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:ni}function koe(e){return function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return i.reduce((o,s)=>({...o,top:o.top+e*s.y,bottom:o.bottom+e*s.y,left:o.left+e*s.x,right:o.right+e*s.x}),{...r})}}const Eoe=koe(1);function Aoe(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Ooe(e,t,r){const n=Aoe(t);if(!n)return e;const{scaleX:i,scaleY:a,x:o,y:s}=n,l=e.left-o-(1-i)*parseFloat(r),c=e.top-s-(1-a)*parseFloat(r.slice(r.indexOf(" ")+1)),d=i?e.width/i:e.width,f=a?e.height/a:e.height;return{width:d,height:f,top:c,right:l+d,bottom:c+f,left:l}}const Coe={ignoreTransform:!1};function rc(e,t){t===void 0&&(t=Coe);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:c,transformOrigin:d}=Yr(e).getComputedStyle(e);c&&(r=Ooe(r,c,d))}const{top:n,left:i,width:a,height:o,bottom:s,right:l}=r;return{top:n,left:i,width:a,height:o,bottom:s,right:l}}function FC(e){return rc(e,{ignoreTransform:!0})}function Toe(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function Poe(e,t){return t===void 0&&(t=Yr(e).getComputedStyle(e)),t.position==="fixed"}function Noe(e,t){t===void 0&&(t=Yr(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const a=t[i];return typeof a=="string"?r.test(a):!1})}function qm(e,t){const r=[];function n(i){if(t!=null&&r.length>=t||!i)return r;if(Jj(i)&&i.scrollingElement!=null&&!r.includes(i.scrollingElement))return r.push(i.scrollingElement),r;if(!qd(i)||fF(i)||r.includes(i))return r;const a=Yr(e).getComputedStyle(i);return i!==e&&Noe(i,a)&&r.push(i),Poe(i,a)?r:n(i.parentNode)}return e?n(e):r}function bF(e){const[t]=qm(e,1);return t??null}function Iv(e){return!Bm||!e?null:ec(e)?e:Qj(e)?Jj(e)||e===tc(e).scrollingElement?window:qd(e)?e:null:null}function xF(e){return ec(e)?e.scrollX:e.scrollLeft}function wF(e){return ec(e)?e.scrollY:e.scrollTop}function S1(e){return{x:xF(e),y:wF(e)}}var fr;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(fr||(fr={}));function SF(e){return!Bm||!e?!1:e===document.scrollingElement}function _F(e){const t={x:0,y:0},r=SF(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},i=e.scrollTop<=t.y,a=e.scrollLeft<=t.x,o=e.scrollTop>=n.y,s=e.scrollLeft>=n.x;return{isTop:i,isLeft:a,isBottom:o,isRight:s,maxScroll:n,minScroll:t}}const Roe={x:.2,y:.2};function Ioe(e,t,r,n,i){let{top:a,left:o,right:s,bottom:l}=r;n===void 0&&(n=10),i===void 0&&(i=Roe);const{isTop:c,isBottom:d,isLeft:f,isRight:h}=_F(e),p={x:0,y:0},v={x:0,y:0},m={height:t.height*i.y,width:t.width*i.x};return!c&&a<=t.top+m.height?(p.y=fr.Backward,v.y=n*Math.abs((t.top+m.height-a)/m.height)):!d&&l>=t.bottom-m.height&&(p.y=fr.Forward,v.y=n*Math.abs((t.bottom-m.height-l)/m.height)),!h&&s>=t.right-m.width?(p.x=fr.Forward,v.x=n*Math.abs((t.right-m.width-s)/m.width)):!f&&o<=t.left+m.width&&(p.x=fr.Backward,v.x=n*Math.abs((t.left+m.width-o)/m.width)),{direction:p,speed:v}}function Moe(e){if(e===document.scrollingElement){const{innerWidth:a,innerHeight:o}=window;return{top:0,left:0,right:a,bottom:o,width:a,height:o}}const{top:t,left:r,right:n,bottom:i}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:i,width:e.clientWidth,height:e.clientHeight}}function jF(e){return e.reduce((t,r)=>Xs(t,S1(r)),ni)}function Doe(e){return e.reduce((t,r)=>t+xF(r),0)}function $oe(e){return e.reduce((t,r)=>t+wF(r),0)}function Loe(e,t){if(t===void 0&&(t=rc),!e)return;const{top:r,left:n,bottom:i,right:a}=t(e);bF(e)&&(i<=0||a<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const zoe=[["x",["left","right"],Doe],["y",["top","bottom"],$oe]];class tk{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=qm(r),i=jF(n);this.rect={...t},this.width=t.width,this.height=t.height;for(const[a,o,s]of zoe)for(const l of o)Object.defineProperty(this,l,{get:()=>{const c=s(n),d=i[a]-c;return this.rect[l]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class su{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=t}add(t,r,n){var i;(i=this.target)==null||i.addEventListener(t,r,n),this.listeners.push([t,r,n])}}function Foe(e){const{EventTarget:t}=Yr(e);return e instanceof t?e:tc(e)}function Mv(e,t){const r=Math.abs(e.x),n=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t?n>t.y:!1}var bn;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(bn||(bn={}));function BC(e){e.preventDefault()}function Boe(e){e.stopPropagation()}var it;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(it||(it={}));const kF={start:[it.Space,it.Enter],cancel:[it.Esc],end:[it.Space,it.Enter,it.Tab]},qoe=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case it.Right:return{...r,x:r.x+25};case it.Left:return{...r,x:r.x-25};case it.Down:return{...r,y:r.y+25};case it.Up:return{...r,y:r.y-25}}};class rk{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:r}}=t;this.props=t,this.listeners=new su(tc(r)),this.windowListeners=new su(Yr(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(bn.Resize,this.handleCancel),this.windowListeners.add(bn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(bn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:r}=this.props,n=t.node.current;n&&Loe(n),r(ni)}handleKeyDown(t){if(ek(t)){const{active:r,context:n,options:i}=this.props,{keyboardCodes:a=kF,coordinateGetter:o=qoe,scrollBehavior:s="smooth"}=i,{code:l}=t;if(a.end.includes(l)){this.handleEnd(t);return}if(a.cancel.includes(l)){this.handleCancel(t);return}const{collisionRect:c}=n.current,d=c?{x:c.left,y:c.top}:ni;this.referenceCoordinates||(this.referenceCoordinates=d);const f=o(t,{active:r,context:n.current,currentCoordinates:d});if(f){const h=zu(f,d),p={x:0,y:0},{scrollableAncestors:v}=n.current;for(const m of v){const g=t.code,{isTop:y,isRight:b,isLeft:x,isBottom:_,maxScroll:w,minScroll:j}=_F(m),k=Moe(m),A={x:Math.min(g===it.Right?k.right-k.width/2:k.right,Math.max(g===it.Right?k.left:k.left+k.width/2,f.x)),y:Math.min(g===it.Down?k.bottom-k.height/2:k.bottom,Math.max(g===it.Down?k.top:k.top+k.height/2,f.y))},T=g===it.Right&&!b||g===it.Left&&!x,O=g===it.Down&&!_||g===it.Up&&!y;if(T&&A.x!==f.x){const P=m.scrollLeft+h.x,N=g===it.Right&&P<=w.x||g===it.Left&&P>=j.x;if(N&&!h.y){m.scrollTo({left:P,behavior:s});return}N?p.x=m.scrollLeft-P:p.x=g===it.Right?m.scrollLeft-w.x:m.scrollLeft-j.x,p.x&&m.scrollBy({left:-p.x,behavior:s});break}else if(O&&A.y!==f.y){const P=m.scrollTop+h.y,N=g===it.Down&&P<=w.y||g===it.Up&&P>=j.y;if(N&&!h.x){m.scrollTo({top:P,behavior:s});return}N?p.y=m.scrollTop-P:p.y=g===it.Down?m.scrollTop-w.y:m.scrollTop-j.y,p.y&&m.scrollBy({top:-p.y,behavior:s});break}}this.handleMove(t,Xs(zu(f,this.referenceCoordinates),p))}}}handleMove(t,r){const{onMove:n}=this.props;t.preventDefault(),n(r)}handleEnd(t){const{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){const{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}rk.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=kF,onActivation:i}=t,{active:a}=r;const{code:o}=e.nativeEvent;if(n.start.includes(o)){const s=a.activatorNode.current;return s&&e.target!==s?!1:(e.preventDefault(),i?.({event:e.nativeEvent}),!0)}return!1}}];function qC(e){return!!(e&&"distance"in e)}function UC(e){return!!(e&&"delay"in e)}class nk{constructor(t,r,n){var i;n===void 0&&(n=Foe(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;const{event:a}=t,{target:o}=a;this.props=t,this.events=r,this.document=tc(o),this.documentListeners=new su(this.document),this.listeners=new su(n),this.windowListeners=new su(Yr(o)),this.initialCoordinates=(i=w1(a))!=null?i:ni,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(bn.Resize,this.handleCancel),this.windowListeners.add(bn.DragStart,BC),this.windowListeners.add(bn.VisibilityChange,this.handleCancel),this.windowListeners.add(bn.ContextMenu,BC),this.documentListeners.add(bn.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(UC(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(qC(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){const{active:n,onPending:i}=this.props;i(n,t,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(bn.Click,Boe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(bn.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;const{activated:n,initialCoordinates:i,props:a}=this,{onMove:o,options:{activationConstraint:s}}=a;if(!i)return;const l=(r=w1(t))!=null?r:ni,c=zu(i,l);if(!n&&s){if(qC(s)){if(s.tolerance!=null&&Mv(c,s.tolerance))return this.handleCancel();if(Mv(c,s.distance))return this.handleStart()}if(UC(s)&&Mv(c,s.tolerance))return this.handleCancel();this.handlePending(s,c);return}t.cancelable&&t.preventDefault(),o(l)}handleEnd(){const{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){const{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===it.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Uoe={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class ik extends nk{constructor(t){const{event:r}=t,n=tc(r.target);super(t,Uoe,n)}}ik.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!r.isPrimary||r.button!==0?!1:(n?.({event:r}),!0)}}];const Voe={move:{name:"mousemove"},end:{name:"mouseup"}};var _1;(function(e){e[e.RightClick=2]="RightClick"})(_1||(_1={}));class Woe extends nk{constructor(t){super(t,Voe,tc(t.event.target))}}Woe.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return r.button===_1.RightClick?!1:(n?.({event:r}),!0)}}];const Dv={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class EF extends nk{constructor(t){super(t,Dv)}static setup(){return window.addEventListener(Dv.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Dv.move.name,t)};function t(){}}}EF.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;const{touches:i}=r;return i.length>1?!1:(n?.({event:r}),!0)}}];var lu;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(lu||(lu={}));var Vh;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Vh||(Vh={}));function Hoe(e){let{acceleration:t,activator:r=lu.Pointer,canScroll:n,draggingRect:i,enabled:a,interval:o=5,order:s=Vh.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:d,delta:f,threshold:h}=e;const p=Koe({delta:f,disabled:!a}),[v,m]=aoe(),g=S.useRef({x:0,y:0}),y=S.useRef({x:0,y:0}),b=S.useMemo(()=>{switch(r){case lu.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case lu.DraggableRect:return i}},[r,i,l]),x=S.useRef(null),_=S.useCallback(()=>{const j=x.current;if(!j)return;const k=g.current.x*y.current.x,A=g.current.y*y.current.y;j.scrollBy(k,A)},[]),w=S.useMemo(()=>s===Vh.TreeOrder?[...c].reverse():c,[s,c]);S.useEffect(()=>{if(!a||!c.length||!b){m();return}for(const j of w){if(n?.(j)===!1)continue;const k=c.indexOf(j),A=d[k];if(!A)continue;const{direction:T,speed:O}=Ioe(j,A,b,t,h);for(const P of["x","y"])p[P][T[P]]||(O[P]=0,T[P]=0);if(O.x>0||O.y>0){m(),x.current=j,v(_,o),g.current=O,y.current=T;return}}g.current={x:0,y:0},y.current={x:0,y:0},m()},[t,_,n,m,a,o,JSON.stringify(b),JSON.stringify(p),v,c,w,d,JSON.stringify(h)])}const Goe={x:{[fr.Backward]:!1,[fr.Forward]:!1},y:{[fr.Backward]:!1,[fr.Forward]:!1}};function Koe(e){let{delta:t,disabled:r}=e;const n=x1(t);return Ud(i=>{if(r||!n||!i)return Goe;const a={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[fr.Backward]:i.x[fr.Backward]||a.x===-1,[fr.Forward]:i.x[fr.Forward]||a.x===1},y:{[fr.Backward]:i.y[fr.Backward]||a.y===-1,[fr.Forward]:i.y[fr.Forward]||a.y===1}}},[r,t,n])}function Yoe(e,t){const r=t!=null?e.get(t):void 0,n=r?r.node.current:null;return Ud(i=>{var a;return t==null?null:(a=n??i)!=null?a:null},[n,t])}function Xoe(e,t){return S.useMemo(()=>e.reduce((r,n)=>{const{sensor:i}=n,a=i.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,n)}));return[...r,...a]},[]),[e,t])}var Bu;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Bu||(Bu={}));var j1;(function(e){e.Optimized="optimized"})(j1||(j1={}));const VC=new Map;function Qoe(e,t){let{dragging:r,dependencies:n,config:i}=t;const[a,o]=S.useState(null),{frequency:s,measure:l,strategy:c}=i,d=S.useRef(e),f=g(),h=Lu(f),p=S.useCallback(function(y){y===void 0&&(y=[]),!h.current&&o(b=>b===null?y:b.concat(y.filter(x=>!b.includes(x))))},[h]),v=S.useRef(null),m=Ud(y=>{if(f&&!r)return VC;if(!y||y===VC||d.current!==e||a!=null){const b=new Map;for(let x of e){if(!x)continue;if(a&&a.length>0&&!a.includes(x.id)&&x.rect.current){b.set(x.id,x.rect.current);continue}const _=x.node.current,w=_?new tk(l(_),_):null;x.rect.current=w,w&&b.set(x.id,w)}return b}return y},[e,a,r,f,l]);return S.useEffect(()=>{d.current=e},[e]),S.useEffect(()=>{f||p()},[r,f]),S.useEffect(()=>{a&&a.length>0&&o(null)},[JSON.stringify(a)]),S.useEffect(()=>{f||typeof s!="number"||v.current!==null||(v.current=setTimeout(()=>{p(),v.current=null},s))},[s,f,p,...n]),{droppableRects:m,measureDroppableContainers:p,measuringScheduled:a!=null};function g(){switch(c){case Bu.Always:return!1;case Bu.BeforeDragging:return r;default:return!r}}}function AF(e,t){return Ud(r=>e?r||(typeof t=="function"?t(e):e):null,[t,e])}function Joe(e,t){return AF(e,t)}function Zoe(e){let{callback:t,disabled:r}=e;const n=Zj(t),i=S.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(n)},[n,r]);return S.useEffect(()=>()=>i?.disconnect(),[i]),i}function Um(e){let{callback:t,disabled:r}=e;const n=Zj(t),i=S.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(n)},[r]);return S.useEffect(()=>()=>i?.disconnect(),[i]),i}function ese(e){return new tk(rc(e),e)}function WC(e,t,r){t===void 0&&(t=ese);const[n,i]=S.useState(null);function a(){i(l=>{if(!e)return null;if(e.isConnected===!1){var c;return(c=l??r)!=null?c:null}const d=t(e);return JSON.stringify(l)===JSON.stringify(d)?l:d})}const o=Zoe({callback(l){if(e)for(const c of l){const{type:d,target:f}=c;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){a();break}}}}),s=Um({callback:a});return Ai(()=>{a(),e?(s?.observe(e),o?.observe(document.body,{childList:!0,subtree:!0})):(s?.disconnect(),o?.disconnect())},[e]),n}function tse(e){const t=AF(e);return yF(e,t)}const HC=[];function rse(e){const t=S.useRef(e),r=Ud(n=>e?n&&n!==HC&&e&&t.current&&e.parentNode===t.current.parentNode?n:qm(e):HC,[e]);return S.useEffect(()=>{t.current=e},[e]),r}function nse(e){const[t,r]=S.useState(null),n=S.useRef(e),i=S.useCallback(a=>{const o=Iv(a.target);o&&r(s=>s?(s.set(o,S1(o)),new Map(s)):null)},[]);return S.useEffect(()=>{const a=n.current;if(e!==a){o(a);const s=e.map(l=>{const c=Iv(l);return c?(c.addEventListener("scroll",i,{passive:!0}),[c,S1(c)]):null}).filter(l=>l!=null);r(s.length?new Map(s):null),n.current=e}return()=>{o(e),o(a)};function o(s){s.forEach(l=>{const c=Iv(l);c?.removeEventListener("scroll",i)})}},[i,e]),S.useMemo(()=>e.length?t?Array.from(t.values()).reduce((a,o)=>Xs(a,o),ni):jF(e):ni,[e,t])}function GC(e,t){t===void 0&&(t=[]);const r=S.useRef(null);return S.useEffect(()=>{r.current=null},t),S.useEffect(()=>{const n=e!==ni;n&&!r.current&&(r.current=e),!n&&r.current&&(r.current=null)},[e]),r.current?zu(e,r.current):ni}function ise(e){S.useEffect(()=>{if(!Bm)return;const t=e.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of t)r?.()}},e.map(t=>{let{sensor:r}=t;return r}))}function ase(e,t){return S.useMemo(()=>e.reduce((r,n)=>{let{eventName:i,handler:a}=n;return r[i]=o=>{a(o,t)},r},{}),[e,t])}function OF(e){return S.useMemo(()=>e?Toe(e):null,[e])}const KC=[];function ose(e,t){t===void 0&&(t=rc);const[r]=e,n=OF(r?Yr(r):null),[i,a]=S.useState(KC);function o(){a(()=>e.length?e.map(l=>SF(l)?n:new tk(t(l),l)):KC)}const s=Um({callback:o});return Ai(()=>{s?.disconnect(),o(),e.forEach(l=>s?.observe(l))},[e]),i}function sse(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return qd(t)?t:e}function lse(e){let{measure:t}=e;const[r,n]=S.useState(null),i=S.useCallback(c=>{for(const{target:d}of c)if(qd(d)){n(f=>{const h=t(d);return f?{...f,width:h.width,height:h.height}:h});break}},[t]),a=Um({callback:i}),o=S.useCallback(c=>{const d=sse(c);a?.disconnect(),d&&a?.observe(d),n(d?t(d):null)},[t,a]),[s,l]=qh(o);return S.useMemo(()=>({nodeRef:s,rect:r,setRef:l}),[r,s,l])}const cse=[{sensor:ik,options:{}},{sensor:rk,options:{}}],use={current:{}},dh={draggable:{measure:FC},droppable:{measure:FC,strategy:Bu.WhileDragging,frequency:j1.Optimized},dragOverlay:{measure:rc}};class cu extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,n;return(r=(n=this.get(t))==null?void 0:n.node.current)!=null?r:void 0}}const dse={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new cu,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Uh},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:dh,measureDroppableContainers:Uh,windowRect:null,measuringScheduled:!1},fse={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Uh,draggableNodes:new Map,over:null,measureDroppableContainers:Uh},Vm=S.createContext(fse),CF=S.createContext(dse);function hse(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new cu}}}function pse(e,t){switch(t.type){case ar.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case ar.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case ar.DragEnd:case ar.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ar.RegisterDroppable:{const{element:r}=t,{id:n}=r,i=new cu(e.droppable.containers);return i.set(n,r),{...e,droppable:{...e.droppable,containers:i}}}case ar.SetDroppableDisabled:{const{id:r,key:n,disabled:i}=t,a=e.droppable.containers.get(r);if(!a||n!==a.key)return e;const o=new cu(e.droppable.containers);return o.set(r,{...a,disabled:i}),{...e,droppable:{...e.droppable,containers:o}}}case ar.UnregisterDroppable:{const{id:r,key:n}=t,i=e.droppable.containers.get(r);if(!i||n!==i.key)return e;const a=new cu(e.droppable.containers);return a.delete(r),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function mse(e){let{disabled:t}=e;const{active:r,activatorEvent:n,draggableNodes:i}=S.useContext(Vm),a=x1(n),o=x1(r?.id);return S.useEffect(()=>{if(!t&&!n&&a&&o!=null){if(!ek(a)||document.activeElement===a.target)return;const s=i.get(o);if(!s)return;const{activatorNode:l,node:c}=s;if(!l.current&&!c.current)return;requestAnimationFrame(()=>{for(const d of[l.current,c.current]){if(!d)continue;const f=loe(d);if(f){f.focus();break}}})}},[n,t,i,o,a]),null}function gse(e,t){let{transform:r,...n}=t;return e!=null&&e.length?e.reduce((i,a)=>a({transform:i,...n}),r):r}function vse(e){return S.useMemo(()=>({draggable:{...dh.draggable,...e?.draggable},droppable:{...dh.droppable,...e?.droppable},dragOverlay:{...dh.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function yse(e){let{activeNode:t,measure:r,initialRect:n,config:i=!0}=e;const a=S.useRef(!1),{x:o,y:s}=typeof i=="boolean"?{x:i,y:i}:i;Ai(()=>{if(!o&&!s||!t){a.current=!1;return}if(a.current||!n)return;const c=t?.node.current;if(!c||c.isConnected===!1)return;const d=r(c),f=yF(d,n);if(o||(f.x=0),s||(f.y=0),a.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const h=bF(c);h&&h.scrollBy({top:f.y,left:f.x})}},[t,o,s,n,r])}const TF=S.createContext({...ni,scaleX:1,scaleY:1});var Sa;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Sa||(Sa={}));const bse=S.memo(function(t){var r,n,i,a;let{id:o,accessibility:s,autoScroll:l=!0,children:c,sensors:d=cse,collisionDetection:f=_oe,measuring:h,modifiers:p,...v}=t;const m=S.useReducer(pse,void 0,hse),[g,y]=m,[b,x]=poe(),[_,w]=S.useState(Sa.Uninitialized),j=_===Sa.Initialized,{draggable:{active:k,nodes:A,translate:T},droppable:{containers:O}}=g,P=k!=null?A.get(k):null,N=S.useRef({initial:null,translated:null}),M=S.useMemo(()=>{var Pe;return k!=null?{id:k,data:(Pe=P?.data)!=null?Pe:use,rect:N}:null},[k,P]),E=S.useRef(null),[R,F]=S.useState(null),[z,q]=S.useState(null),L=Lu(v,Object.values(v)),D=Vd("DndDescribedBy",o),W=S.useMemo(()=>O.getEnabled(),[O]),B=vse(h),{droppableRects:$,measureDroppableContainers:Q,measuringScheduled:Z}=Qoe(W,{dragging:j,dependencies:[T.x,T.y],config:B.droppable}),fe=Yoe(A,k),le=S.useMemo(()=>z?w1(z):null,[z]),ue=ct(),ee=Joe(fe,B.draggable.measure);yse({activeNode:k!=null?A.get(k):null,config:ue.layoutShiftCompensation,initialRect:ee,measure:B.draggable.measure});const te=WC(fe,B.draggable.measure,ee),ce=WC(fe?fe.parentElement:null),J=S.useRef({activatorEvent:null,active:null,activeNode:fe,collisionRect:null,collisions:null,droppableRects:$,draggableNodes:A,draggingNode:null,draggingNodeRect:null,droppableContainers:O,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ne=O.getNodeFor((r=J.current.over)==null?void 0:r.id),C=lse({measure:B.dragOverlay.measure}),G=(n=C.nodeRef.current)!=null?n:fe,H=j?(i=C.rect)!=null?i:te:null,V=!!(C.nodeRef.current&&C.rect),U=tse(V?null:te),K=OF(G?Yr(G):null),ie=rse(j?ne??fe:null),re=ose(ie),X=gse(p,{transform:{x:T.x-U.x,y:T.y-U.y,scaleX:1,scaleY:1},activatorEvent:z,active:M,activeNodeRect:te,containerNodeRect:ce,draggingNodeRect:H,over:J.current.over,overlayNodeRect:C.rect,scrollableAncestors:ie,scrollableAncestorRects:re,windowRect:K}),de=le?Xs(le,T):null,ye=nse(ie),he=GC(ye),Y=GC(ye,[te]),oe=Xs(X,he),ve=H?Eoe(H,X):null,Te=M&&ve?f({active:M,collisionRect:ve,droppableRects:$,droppableContainers:W,pointerCoordinates:de}):null,Ue=vF(Te,"id"),[Ke,Mt]=S.useState(null),Ye=V?X:Xs(X,Y),zt=joe(Ye,(a=Ke?.rect)!=null?a:null,te),cr=S.useRef(null),rt=S.useCallback((Pe,Ge)=>{let{sensor:ut,options:Se}=Ge;if(E.current==null)return;const Ie=A.get(E.current);if(!Ie)return;const Fe=Pe.nativeEvent,dt=new ut({active:E.current,activeNode:Ie,event:Fe,options:Se,context:J,onAbort(ft){if(!A.get(ft))return;const{onDragAbort:Dt}=L.current,ur={id:ft};Dt?.(ur),b({type:"onDragAbort",event:ur})},onPending(ft,Jt,Dt,ur){if(!A.get(ft))return;const{onDragPending:wc}=L.current,ma={id:ft,constraint:Jt,initialCoordinates:Dt,offset:ur};wc?.(ma),b({type:"onDragPending",event:ma})},onStart(ft){const Jt=E.current;if(Jt==null)return;const Dt=A.get(Jt);if(!Dt)return;const{onDragStart:ur}=L.current,xc={activatorEvent:Fe,active:{id:Jt,data:Dt.data,rect:N}};Xn.unstable_batchedUpdates(()=>{ur?.(xc),w(Sa.Initializing),y({type:ar.DragStart,initialCoordinates:ft,active:Jt}),b({type:"onDragStart",event:xc}),F(cr.current),q(Fe)})},onMove(ft){y({type:ar.DragMove,coordinates:ft})},onEnd:gt(ar.DragEnd),onCancel:gt(ar.DragCancel)});cr.current=dt;function gt(ft){return async function(){const{active:Dt,collisions:ur,over:xc,scrollAdjustedTranslate:wc}=J.current;let ma=null;if(Dt&&wc){const{cancelDrop:Sc}=L.current;ma={activatorEvent:Fe,active:Dt,collisions:ur,delta:wc,over:xc},ft===ar.DragEnd&&typeof Sc=="function"&&await Promise.resolve(Sc(ma))&&(ft=ar.DragCancel)}E.current=null,Xn.unstable_batchedUpdates(()=>{y({type:ft}),w(Sa.Uninitialized),Mt(null),F(null),q(null),cr.current=null;const Sc=ft===ar.DragEnd?"onDragEnd":"onDragCancel";if(ma){const Ug=L.current[Sc];Ug?.(ma),b({type:Sc,event:ma})}})}}},[A]),Cr=S.useCallback((Pe,Ge)=>(ut,Se)=>{const Ie=ut.nativeEvent,Fe=A.get(Se);if(E.current!==null||!Fe||Ie.dndKit||Ie.defaultPrevented)return;const dt={active:Fe};Pe(ut,Ge.options,dt)===!0&&(Ie.dndKit={capturedBy:Ge.sensor},E.current=Se,rt(ut,Ge))},[A,rt]),ke=Xoe(d,Cr);ise(d),Ai(()=>{te&&_===Sa.Initializing&&w(Sa.Initialized)},[te,_]),S.useEffect(()=>{const{onDragMove:Pe}=L.current,{active:Ge,activatorEvent:ut,collisions:Se,over:Ie}=J.current;if(!Ge||!ut)return;const Fe={active:Ge,activatorEvent:ut,collisions:Se,delta:{x:oe.x,y:oe.y},over:Ie};Xn.unstable_batchedUpdates(()=>{Pe?.(Fe),b({type:"onDragMove",event:Fe})})},[oe.x,oe.y]),S.useEffect(()=>{const{active:Pe,activatorEvent:Ge,collisions:ut,droppableContainers:Se,scrollAdjustedTranslate:Ie}=J.current;if(!Pe||E.current==null||!Ge||!Ie)return;const{onDragOver:Fe}=L.current,dt=Se.get(Ue),gt=dt&&dt.rect.current?{id:dt.id,rect:dt.rect.current,data:dt.data,disabled:dt.disabled}:null,ft={active:Pe,activatorEvent:Ge,collisions:ut,delta:{x:Ie.x,y:Ie.y},over:gt};Xn.unstable_batchedUpdates(()=>{Mt(gt),Fe?.(ft),b({type:"onDragOver",event:ft})})},[Ue]),Ai(()=>{J.current={activatorEvent:z,active:M,activeNode:fe,collisionRect:ve,collisions:Te,droppableRects:$,draggableNodes:A,draggingNode:G,draggingNodeRect:H,droppableContainers:O,over:Ke,scrollableAncestors:ie,scrollAdjustedTranslate:oe},N.current={initial:H,translated:ve}},[M,fe,Te,ve,A,G,H,$,O,Ke,ie,oe]),Hoe({...ue,delta:T,draggingRect:ve,pointerCoordinates:de,scrollableAncestors:ie,scrollableAncestorRects:re});const nt=S.useMemo(()=>({active:M,activeNode:fe,activeNodeRect:te,activatorEvent:z,collisions:Te,containerNodeRect:ce,dragOverlay:C,draggableNodes:A,droppableContainers:O,droppableRects:$,over:Ke,measureDroppableContainers:Q,scrollableAncestors:ie,scrollableAncestorRects:re,measuringConfiguration:B,measuringScheduled:Z,windowRect:K}),[M,fe,te,z,Te,ce,C,A,O,$,Ke,Q,ie,re,B,Z,K]),st=S.useMemo(()=>({activatorEvent:z,activators:ke,active:M,activeNodeRect:te,ariaDescribedById:{draggable:D},dispatch:y,draggableNodes:A,over:Ke,measureDroppableContainers:Q}),[z,ke,M,te,y,D,A,Ke,Q]);return I.createElement(pF.Provider,{value:x},I.createElement(Vm.Provider,{value:st},I.createElement(CF.Provider,{value:nt},I.createElement(TF.Provider,{value:zt},c)),I.createElement(mse,{disabled:s?.restoreFocus===!1})),I.createElement(voe,{...s,hiddenTextDescribedById:D}));function ct(){const Pe=R?.autoScrollEnabled===!1,Ge=typeof l=="object"?l.enabled===!1:l===!1,ut=j&&!Pe&&!Ge;return typeof l=="object"?{...l,enabled:ut}:{enabled:ut}}}),xse=S.createContext(null),YC="button",wse="Draggable";function Sse(e){let{id:t,data:r,disabled:n=!1,attributes:i}=e;const a=Vd(wse),{activators:o,activatorEvent:s,active:l,activeNodeRect:c,ariaDescribedById:d,draggableNodes:f,over:h}=S.useContext(Vm),{role:p=YC,roleDescription:v="draggable",tabIndex:m=0}=i??{},g=l?.id===t,y=S.useContext(g?TF:xse),[b,x]=qh(),[_,w]=qh(),j=ase(o,t),k=Lu(r);Ai(()=>(f.set(t,{id:t,key:a,node:b,activatorNode:_,data:k}),()=>{const T=f.get(t);T&&T.key===a&&f.delete(t)}),[f,t]);const A=S.useMemo(()=>({role:p,tabIndex:m,"aria-disabled":n,"aria-pressed":g&&p===YC?!0:void 0,"aria-roledescription":v,"aria-describedby":d.draggable}),[n,p,m,g,v,d.draggable]);return{active:l,activatorEvent:s,activeNodeRect:c,attributes:A,isDragging:g,listeners:n?void 0:j,node:b,over:h,setNodeRef:x,setActivatorNodeRef:w,transform:y}}function _se(){return S.useContext(CF)}const jse="Droppable",kse={timeout:25};function Ese(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:i}=e;const a=Vd(jse),{active:o,dispatch:s,over:l,measureDroppableContainers:c}=S.useContext(Vm),d=S.useRef({disabled:r}),f=S.useRef(!1),h=S.useRef(null),p=S.useRef(null),{disabled:v,updateMeasurementsFor:m,timeout:g}={...kse,...i},y=Lu(m??n),b=S.useCallback(()=>{if(!f.current){f.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{c(Array.isArray(y.current)?y.current:[y.current]),p.current=null},g)},[g]),x=Um({callback:b,disabled:v||!o}),_=S.useCallback((A,T)=>{x&&(T&&(x.unobserve(T),f.current=!1),A&&x.observe(A))},[x]),[w,j]=qh(_),k=Lu(t);return S.useEffect(()=>{!x||!w.current||(x.disconnect(),f.current=!1,x.observe(w.current))},[w,x]),S.useEffect(()=>(s({type:ar.RegisterDroppable,element:{id:n,key:a,disabled:r,node:w,rect:h,data:k}}),()=>s({type:ar.UnregisterDroppable,key:a,id:n})),[n]),S.useEffect(()=>{r!==d.current.disabled&&(s({type:ar.SetDroppableDisabled,id:n,key:a,disabled:r}),d.current.disabled=r)},[n,a,r,s]),{active:o,rect:h,isOver:l?.id===n,node:w,over:l,setNodeRef:j}}function ak(e,t,r){const n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function Ase(e,t){return e.reduce((r,n,i)=>{const a=t.get(n);return a&&(r[i]=a),r},Array(e.length))}function Cf(e){return e!==null&&e>=0}function Ose(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function Cse(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const PF=e=>{let{rects:t,activeIndex:r,overIndex:n,index:i}=e;const a=ak(t,n,r),o=t[i],s=a[i];return!s||!o?null:{x:s.left-o.left,y:s.top-o.top,scaleX:s.width/o.width,scaleY:s.height/o.height}},Tf={scaleX:1,scaleY:1},Tse=e=>{var t;let{activeIndex:r,activeNodeRect:n,index:i,rects:a,overIndex:o}=e;const s=(t=a[r])!=null?t:n;if(!s)return null;if(i===r){const c=a[o];return c?{x:0,y:r<o?c.top+c.height-(s.top+s.height):c.top-s.top,...Tf}:null}const l=Pse(a,i,r);return i>r&&i<=o?{x:0,y:-s.height-l,...Tf}:i<r&&i>=o?{x:0,y:s.height+l,...Tf}:{x:0,y:0,...Tf}};function Pse(e,t,r){const n=e[t],i=e[t-1],a=e[t+1];return n?r<t?i?n.top-(i.top+i.height):a?a.top-(n.top+n.height):0:a?a.top-(n.top+n.height):i?n.top-(i.top+i.height):0:0}const NF="Sortable",RF=I.createContext({activeIndex:-1,containerId:NF,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:PF,disabled:{draggable:!1,droppable:!1}});function Nse(e){let{children:t,id:r,items:n,strategy:i=PF,disabled:a=!1}=e;const{active:o,dragOverlay:s,droppableRects:l,over:c,measureDroppableContainers:d}=_se(),f=Vd(NF,r),h=s.rect!==null,p=S.useMemo(()=>n.map(j=>typeof j=="object"&&"id"in j?j.id:j),[n]),v=o!=null,m=o?p.indexOf(o.id):-1,g=c?p.indexOf(c.id):-1,y=S.useRef(p),b=!Ose(p,y.current),x=g!==-1&&m===-1||b,_=Cse(a);Ai(()=>{b&&v&&d(p)},[b,p,v,d]),S.useEffect(()=>{y.current=p},[p]);const w=S.useMemo(()=>({activeIndex:m,containerId:f,disabled:_,disableTransforms:x,items:p,overIndex:g,useDragOverlay:h,sortedRects:Ase(p,l),strategy:i}),[m,f,_.draggable,_.droppable,x,p,g,l,h,i]);return I.createElement(RF.Provider,{value:w},t)}const Rse=e=>{let{id:t,items:r,activeIndex:n,overIndex:i}=e;return ak(r,n,i).indexOf(t)},Ise=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:i,items:a,newIndex:o,previousItems:s,previousContainerId:l,transition:c}=e;return!c||!n||s!==a&&i===o?!1:r?!0:o!==i&&t===l},Mse={duration:200,easing:"ease"},IF="transform",Dse=Fu.Transition.toString({property:IF,duration:0,easing:"linear"}),$se={roleDescription:"sortable"};function Lse(e){let{disabled:t,index:r,node:n,rect:i}=e;const[a,o]=S.useState(null),s=S.useRef(r);return Ai(()=>{if(!t&&r!==s.current&&n.current){const l=i.current;if(l){const c=rc(n.current,{ignoreTransform:!0}),d={x:l.left-c.left,y:l.top-c.top,scaleX:l.width/c.width,scaleY:l.height/c.height};(d.x||d.y)&&o(d)}}r!==s.current&&(s.current=r)},[t,r,n,i]),S.useEffect(()=>{a&&o(null)},[a]),a}function zse(e){let{animateLayoutChanges:t=Ise,attributes:r,disabled:n,data:i,getNewIndex:a=Rse,id:o,strategy:s,resizeObserverConfig:l,transition:c=Mse}=e;const{items:d,containerId:f,activeIndex:h,disabled:p,disableTransforms:v,sortedRects:m,overIndex:g,useDragOverlay:y,strategy:b}=S.useContext(RF),x=Fse(n,p),_=d.indexOf(o),w=S.useMemo(()=>({sortable:{containerId:f,index:_,items:d},...i}),[f,i,_,d]),j=S.useMemo(()=>d.slice(d.indexOf(o)),[d,o]),{rect:k,node:A,isOver:T,setNodeRef:O}=Ese({id:o,data:w,disabled:x.droppable,resizeObserverConfig:{updateMeasurementsFor:j,...l}}),{active:P,activatorEvent:N,activeNodeRect:M,attributes:E,setNodeRef:R,listeners:F,isDragging:z,over:q,setActivatorNodeRef:L,transform:D}=Sse({id:o,data:w,attributes:{...$se,...r},disabled:x.draggable}),W=ioe(O,R),B=!!P,$=B&&!v&&Cf(h)&&Cf(g),Q=!y&&z,Z=Q&&$?D:null,le=$?Z??(s??b)({rects:m,activeNodeRect:M,activeIndex:h,overIndex:g,index:_}):null,ue=Cf(h)&&Cf(g)?a({id:o,items:d,activeIndex:h,overIndex:g}):_,ee=P?.id,te=S.useRef({activeId:ee,items:d,newIndex:ue,containerId:f}),ce=d!==te.current.items,J=t({active:P,containerId:f,isDragging:z,isSorting:B,id:o,index:_,items:d,newIndex:te.current.newIndex,previousItems:te.current.items,previousContainerId:te.current.containerId,transition:c,wasDragging:te.current.activeId!=null}),ne=Lse({disabled:!J,index:_,node:A,rect:k});return S.useEffect(()=>{B&&te.current.newIndex!==ue&&(te.current.newIndex=ue),f!==te.current.containerId&&(te.current.containerId=f),d!==te.current.items&&(te.current.items=d)},[B,ue,f,d]),S.useEffect(()=>{if(ee===te.current.activeId)return;if(ee!=null&&te.current.activeId==null){te.current.activeId=ee;return}const G=setTimeout(()=>{te.current.activeId=ee},50);return()=>clearTimeout(G)},[ee]),{active:P,activeIndex:h,attributes:E,data:w,rect:k,index:_,newIndex:ue,items:d,isOver:T,isSorting:B,isDragging:z,listeners:F,node:A,overIndex:g,over:q,setNodeRef:W,setActivatorNodeRef:L,setDroppableNodeRef:O,setDraggableNodeRef:R,transform:ne??le,transition:C()};function C(){if(ne||ce&&te.current.newIndex===_)return Dse;if(!(Q&&!ek(N)||!c)&&(B||J))return Fu.Transition.toString({...c,property:IF})}}function Fse(e,t){var r,n;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e?.draggable)!=null?r:t.draggable,droppable:(n=e?.droppable)!=null?n:t.droppable}}function Wh(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const Bse=[it.Down,it.Right,it.Up,it.Left],qse=(e,t)=>{let{context:{active:r,collisionRect:n,droppableRects:i,droppableContainers:a,over:o,scrollableAncestors:s}}=t;if(Bse.includes(e.code)){if(e.preventDefault(),!r||!n)return;const l=[];a.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const h=i.get(f.id);if(h)switch(e.code){case it.Down:n.top<h.top&&l.push(f);break;case it.Up:n.top>h.top&&l.push(f);break;case it.Left:n.left>h.left&&l.push(f);break;case it.Right:n.left<h.left&&l.push(f);break}});const c=woe({collisionRect:n,droppableRects:i,droppableContainers:l});let d=vF(c,"id");if(d===o?.id&&c.length>1&&(d=c[1].id),d!=null){const f=a.get(r.id),h=a.get(d),p=h?i.get(h.id):null,v=h?.node.current;if(v&&p&&f&&h){const g=qm(v).some((j,k)=>s[k]!==j),y=MF(f,h),b=Use(f,h),x=g||!y?{x:0,y:0}:{x:b?n.width-p.width:0,y:b?n.height-p.height:0},_={x:p.left,y:p.top};return x.x&&x.y?_:zu(_,x)}}}};function MF(e,t){return!Wh(e)||!Wh(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function Use(e,t){return!Wh(e)||!Wh(t)||!MF(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}function Vse({habit:e,isEditing:t,editTitle:r,editColor:n,isPrivacyMode:i,isDeleting:a,isUpdating:o,onStartEdit:s,onCancelEdit:l,onSaveEdit:c,onRemove:d,setEditTitle:f,setEditColor:h}){const{attributes:p,listeners:v,setNodeRef:m,transform:g,transition:y,isDragging:b}=zse({id:e.id}),x={transform:Fu.Transform.toString(g),transition:y,opacity:b?.5:1};return u.jsx("div",{ref:m,style:x,children:t?u.jsxs("div",{className:"rounded-xl p-3 bg-primary/10 border border-primary/30 space-y-3",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(ri,{className:"text-xs uppercase tracking-wider text-muted-foreground",children:"Nome"}),u.jsx(ta,{value:r,onChange:_=>f(_.target.value),className:"bg-black/30 border-white/10 h-9 rounded-lg",autoFocus:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ri,{className:"text-xs uppercase tracking-wider text-muted-foreground",children:"Colore"}),u.jsx(Xj,{value:n,onChange:h})]}),u.jsxs("div",{className:"flex gap-2 pt-1",children:[u.jsxs(Ce,{size:"sm",variant:"ghost",onClick:l,className:"flex-1 h-8 rounded-lg",children:[u.jsx(Ga,{className:"h-4 w-4 mr-1"}),"Annulla"]}),u.jsxs(Ce,{size:"sm",onClick:c,disabled:!r.trim()||o,className:"flex-1 h-8 rounded-lg",children:[u.jsx(ci,{className:"h-4 w-4 mr-1"}),o?"Salvando...":"Salva"]})]})]}):u.jsxs("div",{className:"group flex items-center gap-2 rounded-xl p-3 bg-white/5 border border-transparent hover:border-white/10 hover:bg-white/10 transition-all",children:[u.jsx("div",{...p,...v,className:"cursor-grab active:cursor-grabbing opacity-40 group-hover:opacity-100 transition-opacity touch-none",children:u.jsx(c9,{className:"h-4 w-4 text-muted-foreground"})}),u.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[u.jsx("div",{className:"h-3 w-3 rounded-full shadow-[0_0_8px_currentColor] shrink-0",style:{backgroundColor:e.color,color:e.color}}),u.jsx("span",{className:ae("text-sm font-medium transition-all duration-300 truncate",i&&"blur-sm"),children:e.title})]}),u.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[u.jsx(Ce,{variant:"ghost",size:"icon",onClick:()=>s(e),className:"h-8 w-8 text-muted-foreground opacity-60 group-hover:opacity-100 group-hover:text-primary hover:bg-primary/10 transition-all rounded-lg",children:u.jsx(j9,{className:"h-4 w-4"})}),u.jsxs(Bo,{children:[u.jsx(cl,{asChild:!0,children:u.jsx(Ce,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground opacity-60 group-hover:opacity-100 group-hover:text-destructive hover:bg-destructive/10 transition-all rounded-lg",children:u.jsx(R_,{className:"h-4 w-4"})})}),u.jsxs(La,{children:[u.jsxs(za,{children:[u.jsx(Ba,{children:"Sei sicuro?"}),u.jsx(qa,{children:"Stai per rimuovere questa abitudine. Se ha dei dati associati, verr archiviata per preservare lo storico. Altrimenti verr eliminata definitivamente."})]}),u.jsxs(Fa,{children:[u.jsx(Jo,{children:"Annulla"}),u.jsx(Ua,{onClick:()=>d(e.id),className:"bg-destructive hover:bg-destructive/90 text-destructive-foreground",disabled:a,children:a?"Eliminazione...":"Conferma elimina"})]})]})]})]})]})})}function Wse({habits:e,onAddHabit:t,onRemoveHabit:r,onUpdateHabit:n,onUpdateOrder:i,isDeleting:a,isUpdating:o,isPrivacyMode:s=!1}){const[l,c]=S.useState(!1),d=S.useMemo(()=>[...e].sort((M,E)=>{const R=M.display_order??999999,F=E.display_order??999999;return R!==F?R-F:new Date(M.created_at).getTime()-new Date(E.created_at).getTime()}),[e]),[f,h]=S.useState(d);S.useEffect(()=>{h(d)},[d]);const[p,v]=S.useState(""),[m,g]=S.useState("hsl(145 55% 42%)"),[y,b]=S.useState(null),[x,_]=S.useState(""),[w,j]=S.useState(""),k=yoe(Rv(ik),Rv(EF),Rv(rk,{coordinateGetter:qse})),A=()=>{p.trim()&&(t({title:p,color:m}),v(""),g("hsl(145 55% 42%)"))},T=M=>{b(M),_(M.title),j(M.color)},O=()=>{b(null),_(""),j("")},P=()=>{y&&x.trim()&&n&&(n({id:y.id,title:x.trim(),color:w}),O())},N=M=>{const{active:E,over:R}=M;!R||E.id===R.id||h(F=>{const z=F.findIndex(D=>D.id===E.id),q=F.findIndex(D=>D.id===R.id),L=ak(F,z,q);if(i){const D=L.map((W,B)=>({id:W.id,display_order:B+1}));i(D)}return L})};return u.jsxs(Lm,{open:l,onOpenChange:c,children:[u.jsx(Gj,{asChild:!0,children:u.jsx(Ce,{variant:"outline",size:"icon",className:"h-10 w-10 sm:h-9 sm:w-9",children:u.jsx(Y5,{className:"h-4 w-4"})})}),u.jsxs(zd,{className:"sm:max-w-[425px] max-h-[85vh] flex flex-col bg-[#0a0a0a]/90 backdrop-blur-2xl border-white/10 text-foreground p-0 gap-0",children:[u.jsxs(zm,{className:"p-6 pb-2 shrink-0",children:[u.jsx(Fd,{children:"Gestisci Abitudini"}),u.jsx(Bd,{children:"Aggiungi, modifica o riordina le abitudini che vuoi tracciare. Trascina per riordinare."})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-6 pt-2 space-y-8",children:[u.jsxs("div",{className:"space-y-4 p-4 rounded-2xl bg-white/5 border border-white/10 backdrop-blur-md",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/20 flex items-center justify-center text-primary",children:u.jsx(vw,{className:"h-4 w-4"})}),u.jsx("h4",{className:"text-sm font-display font-bold",children:"Nuova Abitudine"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(ri,{className:"text-xs uppercase tracking-wider text-muted-foreground ml-1",children:"Nome"}),u.jsx(ta,{placeholder:"Es. Bere acqua, Leggere...",value:p,onChange:M=>v(M.target.value),className:"bg-black/30 border-white/10 h-10 rounded-xl"})]}),u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(ri,{className:"text-xs uppercase tracking-wider text-muted-foreground ml-1",children:"Colore"}),u.jsx(Xj,{value:m,onChange:g})]}),u.jsx(Ce,{onClick:A,disabled:!p.trim(),className:"w-full rounded-xl",children:"Aggiungi al Protocollo"})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("h4",{className:"text-sm font-display font-bold px-1",children:"Le tue Abitudini"}),u.jsx(bse,{sensors:k,collisionDetection:xoe,onDragEnd:N,children:u.jsx(Nse,{items:f.map(M=>M.id),strategy:Tse,children:u.jsxs("div",{className:"space-y-2",children:[f.map(M=>u.jsx(Vse,{habit:M,isEditing:y?.id===M.id,editTitle:x,editColor:w,isPrivacyMode:s,isDeleting:a,isUpdating:o,onStartEdit:T,onCancelEdit:O,onSaveEdit:P,onRemove:r,setEditTitle:_,setEditColor:j},M.id)),e.length===0&&u.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center text-muted-foreground space-y-2",children:[u.jsx("div",{className:"h-10 w-10 rounded-full bg-white/5 flex items-center justify-center",children:u.jsx(vw,{className:"h-5 w-5 opacity-50"})}),u.jsx("p",{className:"text-sm",children:"Nessuna abitudine definita."})]})]})})})]})]})]})]})}const DF=S.forwardRef(({className:e,...t},r)=>u.jsx("textarea",{className:ae("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));DF.displayName="Textarea";var Hse=S.createContext(void 0);function nc(e){const t=S.useContext(Hse);return e||t||"ltr"}function qu(e,[t,r]){return Math.min(r,Math.max(t,e))}function Gse(e,t){return S.useReducer((r,n)=>t[r][n]??r,e)}var ok="ScrollArea",[$F]=Br(ok),[Kse,In]=$F(ok),LF=S.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:a=600,...o}=e,[s,l]=S.useState(null),[c,d]=S.useState(null),[f,h]=S.useState(null),[p,v]=S.useState(null),[m,g]=S.useState(null),[y,b]=S.useState(0),[x,_]=S.useState(0),[w,j]=S.useState(!1),[k,A]=S.useState(!1),T=ze(t,P=>l(P)),O=nc(i);return u.jsx(Kse,{scope:r,type:n,dir:O,scrollHideDelay:a,scrollArea:s,viewport:c,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:v,scrollbarXEnabled:w,onScrollbarXEnabledChange:j,scrollbarY:m,onScrollbarYChange:g,scrollbarYEnabled:k,onScrollbarYEnabledChange:A,onCornerWidthChange:b,onCornerHeightChange:_,children:u.jsx(Ae.div,{dir:O,...o,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":x+"px",...e.style}})})});LF.displayName=ok;var zF="ScrollAreaViewport",FF=S.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:i,...a}=e,o=In(zF,r),s=S.useRef(null),l=ze(t,s,o.onViewportChange);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),u.jsx(Ae.div,{"data-radix-scroll-area-viewport":"",...a,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:u.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});FF.displayName=zF;var Ti="ScrollAreaScrollbar",sk=S.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=In(Ti,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,s=e.orientation==="horizontal";return S.useEffect(()=>(s?a(!0):o(!0),()=>{s?a(!1):o(!1)}),[s,a,o]),i.type==="hover"?u.jsx(Yse,{...n,ref:t,forceMount:r}):i.type==="scroll"?u.jsx(Xse,{...n,ref:t,forceMount:r}):i.type==="auto"?u.jsx(BF,{...n,ref:t,forceMount:r}):i.type==="always"?u.jsx(lk,{...n,ref:t}):null});sk.displayName=Ti;var Yse=S.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=In(Ti,e.__scopeScrollArea),[a,o]=S.useState(!1);return S.useEffect(()=>{const s=i.scrollArea;let l=0;if(s){const c=()=>{window.clearTimeout(l),o(!0)},d=()=>{l=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return s.addEventListener("pointerenter",c),s.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),s.removeEventListener("pointerenter",c),s.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),u.jsx(sa,{present:r||a,children:u.jsx(BF,{"data-state":a?"visible":"hidden",...n,ref:t})})}),Xse=S.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=In(Ti,e.__scopeScrollArea),a=e.orientation==="horizontal",o=Hm(()=>l("SCROLL_END"),100),[s,l]=Gse("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return S.useEffect(()=>{if(s==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[s,i.scrollHideDelay,l]),S.useEffect(()=>{const c=i.viewport,d=a?"scrollLeft":"scrollTop";if(c){let f=c[d];const h=()=>{const p=c[d];f!==p&&(l("SCROLL"),o()),f=p};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[i.viewport,a,l,o]),u.jsx(sa,{present:r||s!=="hidden",children:u.jsx(lk,{"data-state":s==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Ee(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Ee(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),BF=S.forwardRef((e,t)=>{const r=In(Ti,e.__scopeScrollArea),{forceMount:n,...i}=e,[a,o]=S.useState(!1),s=e.orientation==="horizontal",l=Hm(()=>{if(r.viewport){const c=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(s?c:d)}},10);return ul(r.viewport,l),ul(r.content,l),u.jsx(sa,{present:n||a,children:u.jsx(lk,{"data-state":a?"visible":"hidden",...i,ref:t})})}),lk=S.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,i=In(Ti,e.__scopeScrollArea),a=S.useRef(null),o=S.useRef(0),[s,l]=S.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=HF(s.viewport,s.content),d={...n,sizes:s,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>a.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,p){return rle(h,o.current,s,p)}return r==="horizontal"?u.jsx(Qse,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const h=i.viewport.scrollLeft,p=XC(h,s,i.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=f(h,i.dir))}}):r==="vertical"?u.jsx(Jse,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const h=i.viewport.scrollTop,p=XC(h,s);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=f(h))}}):null}),Qse=S.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,a=In(Ti,e.__scopeScrollArea),[o,s]=S.useState(),l=S.useRef(null),c=ze(t,l,a.onScrollbarXChange);return S.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),u.jsx(UF,{"data-orientation":"horizontal",...i,ref:c,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Wm(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),KF(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&a.viewport&&o&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Gh(o.paddingLeft),paddingEnd:Gh(o.paddingRight)}})}})}),Jse=S.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,a=In(Ti,e.__scopeScrollArea),[o,s]=S.useState(),l=S.useRef(null),c=ze(t,l,a.onScrollbarYChange);return S.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),u.jsx(UF,{"data-orientation":"vertical",...i,ref:c,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Wm(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),KF(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&a.viewport&&o&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Gh(o.paddingTop),paddingEnd:Gh(o.paddingBottom)}})}})}),[Zse,qF]=$F(Ti),UF=S.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:s,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:f,...h}=e,p=In(Ti,r),[v,m]=S.useState(null),g=ze(t,T=>m(T)),y=S.useRef(null),b=S.useRef(""),x=p.viewport,_=n.content-n.viewport,w=Ut(d),j=Ut(l),k=Hm(f,10);function A(T){if(y.current){const O=T.clientX-y.current.left,P=T.clientY-y.current.top;c({x:O,y:P})}}return S.useEffect(()=>{const T=O=>{const P=O.target;v?.contains(P)&&w(O,_)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[x,v,_,w]),S.useEffect(j,[n,j]),ul(v,k),ul(p.content,k),u.jsx(Zse,{scope:r,scrollbar:v,hasThumb:i,onThumbChange:Ut(a),onThumbPointerUp:Ut(o),onThumbPositionChange:j,onThumbPointerDown:Ut(s),children:u.jsx(Ae.div,{...h,ref:g,style:{position:"absolute",...h.style},onPointerDown:Ee(e.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),y.current=v.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),A(T))}),onPointerMove:Ee(e.onPointerMove,A),onPointerUp:Ee(e.onPointerUp,T=>{const O=T.target;O.hasPointerCapture(T.pointerId)&&O.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=b.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),Hh="ScrollAreaThumb",VF=S.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=qF(Hh,e.__scopeScrollArea);return u.jsx(sa,{present:r||i.hasThumb,children:u.jsx(ele,{ref:t,...n})})}),ele=S.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...i}=e,a=In(Hh,r),o=qF(Hh,r),{onThumbPositionChange:s}=o,l=ze(t,f=>o.onThumbChange(f)),c=S.useRef(void 0),d=Hm(()=>{c.current&&(c.current(),c.current=void 0)},100);return S.useEffect(()=>{const f=a.viewport;if(f){const h=()=>{if(d(),!c.current){const p=nle(f,s);c.current=p,s()}};return s(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[a.viewport,d,s]),u.jsx(Ae.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ee(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),v=f.clientX-p.left,m=f.clientY-p.top;o.onThumbPointerDown({x:v,y:m})}),onPointerUp:Ee(e.onPointerUp,o.onThumbPointerUp)})});VF.displayName=Hh;var ck="ScrollAreaCorner",WF=S.forwardRef((e,t)=>{const r=In(ck,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?u.jsx(tle,{...e,ref:t}):null});WF.displayName=ck;var tle=S.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,i=In(ck,r),[a,o]=S.useState(0),[s,l]=S.useState(0),c=!!(a&&s);return ul(i.scrollbarX,()=>{const d=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(d),l(d)}),ul(i.scrollbarY,()=>{const d=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(d),o(d)}),c?u.jsx(Ae.div,{...n,ref:t,style:{width:a,height:s,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Gh(e){return e?parseInt(e,10):0}function HF(e,t){const r=e/t;return isNaN(r)?0:r}function Wm(e){const t=HF(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function rle(e,t,r,n="ltr"){const i=Wm(r),a=i/2,o=t||a,s=i-o,l=r.scrollbar.paddingStart+o,c=r.scrollbar.size-r.scrollbar.paddingEnd-s,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return GF([l,c],f)(e)}function XC(e,t,r="ltr"){const n=Wm(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,o=t.content-t.viewport,s=a-n,l=r==="ltr"?[0,o]:[o*-1,0],c=qu(e,l);return GF([0,o],[0,s])(c)}function GF(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function KF(e,t){return e>0&&e<t}var nle=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return(function i(){const a={left:e.scrollLeft,top:e.scrollTop},o=r.left!==a.left,s=r.top!==a.top;(o||s)&&t(),r=a,n=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(n)};function Hm(e,t){const r=Ut(e),n=S.useRef(0);return S.useEffect(()=>()=>window.clearTimeout(n.current),[]),S.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function ul(e,t){const r=Ut(t);Qt(()=>{let n=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(e),()=>{window.cancelAnimationFrame(n),i.unobserve(e)}}},[e,r])}var YF=LF,ile=FF,ale=WF;const uk=S.forwardRef(({className:e,children:t,...r},n)=>u.jsxs(YF,{ref:n,className:ae("relative overflow-hidden",e),...r,children:[u.jsx(ile,{className:"h-full w-full rounded-[inherit]",children:t}),u.jsx(XF,{}),u.jsx(ale,{})]}));uk.displayName=YF.displayName;const XF=S.forwardRef(({className:e,orientation:t="vertical",...r},n)=>u.jsx(sk,{ref:n,orientation:t,className:ae("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:u.jsx(VF,{className:"relative flex-1 rounded-full bg-border"})}));XF.displayName=sk.displayName;function ole(e,t){const r={};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const sle=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,lle=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,cle={};function QC(e,t){return(cle.jsx?lle:sle).test(e)}const ule=/[ \t\n\f\r]/g;function dle(e){return typeof e=="object"?e.type==="text"?JC(e.value):!1:JC(e)}function JC(e){return e.replace(ule,"")===""}class Wd{constructor(t,r,n){this.normal=r,this.property=t,n&&(this.space=n)}}Wd.prototype.normal={};Wd.prototype.property={};Wd.prototype.space=void 0;function QF(e,t){const r={},n={};for(const i of e)Object.assign(r,i.property),Object.assign(n,i.normal);return new Wd(r,n,t)}function k1(e){return e.toLowerCase()}class Xr{constructor(t,r){this.attribute=r,this.property=t}}Xr.prototype.attribute="";Xr.prototype.booleanish=!1;Xr.prototype.boolean=!1;Xr.prototype.commaOrSpaceSeparated=!1;Xr.prototype.commaSeparated=!1;Xr.prototype.defined=!1;Xr.prototype.mustUseProperty=!1;Xr.prototype.number=!1;Xr.prototype.overloadedBoolean=!1;Xr.prototype.property="";Xr.prototype.spaceSeparated=!1;Xr.prototype.space=void 0;let fle=0;const He=us(),Wt=us(),E1=us(),ge=us(),kt=us(),Qs=us(),Jr=us();function us(){return 2**++fle}const A1=Object.freeze(Object.defineProperty({__proto__:null,boolean:He,booleanish:Wt,commaOrSpaceSeparated:Jr,commaSeparated:Qs,number:ge,overloadedBoolean:E1,spaceSeparated:kt},Symbol.toStringTag,{value:"Module"})),$v=Object.keys(A1);class dk extends Xr{constructor(t,r,n,i){let a=-1;if(super(t,r),ZC(this,"space",i),typeof n=="number")for(;++a<$v.length;){const o=$v[a];ZC(this,$v[a],(n&A1[o])===A1[o])}}}dk.prototype.defined=!0;function ZC(e,t,r){r&&(e[t]=r)}function ic(e){const t={},r={};for(const[n,i]of Object.entries(e.properties)){const a=new dk(n,e.transform(e.attributes||{},n),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(a.mustUseProperty=!0),t[n]=a,r[k1(n)]=n,r[k1(a.attribute)]=n}return new Wd(t,r,e.space)}const JF=ic({properties:{ariaActiveDescendant:null,ariaAtomic:Wt,ariaAutoComplete:null,ariaBusy:Wt,ariaChecked:Wt,ariaColCount:ge,ariaColIndex:ge,ariaColSpan:ge,ariaControls:kt,ariaCurrent:null,ariaDescribedBy:kt,ariaDetails:null,ariaDisabled:Wt,ariaDropEffect:kt,ariaErrorMessage:null,ariaExpanded:Wt,ariaFlowTo:kt,ariaGrabbed:Wt,ariaHasPopup:null,ariaHidden:Wt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:kt,ariaLevel:ge,ariaLive:null,ariaModal:Wt,ariaMultiLine:Wt,ariaMultiSelectable:Wt,ariaOrientation:null,ariaOwns:kt,ariaPlaceholder:null,ariaPosInSet:ge,ariaPressed:Wt,ariaReadOnly:Wt,ariaRelevant:null,ariaRequired:Wt,ariaRoleDescription:kt,ariaRowCount:ge,ariaRowIndex:ge,ariaRowSpan:ge,ariaSelected:Wt,ariaSetSize:ge,ariaSort:null,ariaValueMax:ge,ariaValueMin:ge,ariaValueNow:ge,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function ZF(e,t){return t in e?e[t]:t}function eB(e,t){return ZF(e,t.toLowerCase())}const hle=ic({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Qs,acceptCharset:kt,accessKey:kt,action:null,allow:null,allowFullScreen:He,allowPaymentRequest:He,allowUserMedia:He,alt:null,as:null,async:He,autoCapitalize:null,autoComplete:kt,autoFocus:He,autoPlay:He,blocking:kt,capture:null,charSet:null,checked:He,cite:null,className:kt,cols:ge,colSpan:null,content:null,contentEditable:Wt,controls:He,controlsList:kt,coords:ge|Qs,crossOrigin:null,data:null,dateTime:null,decoding:null,default:He,defer:He,dir:null,dirName:null,disabled:He,download:E1,draggable:Wt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:He,formTarget:null,headers:kt,height:ge,hidden:E1,high:ge,href:null,hrefLang:null,htmlFor:kt,httpEquiv:kt,id:null,imageSizes:null,imageSrcSet:null,inert:He,inputMode:null,integrity:null,is:null,isMap:He,itemId:null,itemProp:kt,itemRef:kt,itemScope:He,itemType:kt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:He,low:ge,manifest:null,max:null,maxLength:ge,media:null,method:null,min:null,minLength:ge,multiple:He,muted:He,name:null,nonce:null,noModule:He,noValidate:He,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:He,optimum:ge,pattern:null,ping:kt,placeholder:null,playsInline:He,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:He,referrerPolicy:null,rel:kt,required:He,reversed:He,rows:ge,rowSpan:ge,sandbox:kt,scope:null,scoped:He,seamless:He,selected:He,shadowRootClonable:He,shadowRootDelegatesFocus:He,shadowRootMode:null,shape:null,size:ge,sizes:null,slot:null,span:ge,spellCheck:Wt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ge,step:null,style:null,tabIndex:ge,target:null,title:null,translate:null,type:null,typeMustMatch:He,useMap:null,value:Wt,width:ge,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:kt,axis:null,background:null,bgColor:null,border:ge,borderColor:null,bottomMargin:ge,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:He,declare:He,event:null,face:null,frame:null,frameBorder:null,hSpace:ge,leftMargin:ge,link:null,longDesc:null,lowSrc:null,marginHeight:ge,marginWidth:ge,noResize:He,noHref:He,noShade:He,noWrap:He,object:null,profile:null,prompt:null,rev:null,rightMargin:ge,rules:null,scheme:null,scrolling:Wt,standby:null,summary:null,text:null,topMargin:ge,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ge,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:He,disableRemotePlayback:He,prefix:null,property:null,results:ge,security:null,unselectable:null},space:"html",transform:eB}),ple=ic({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Jr,accentHeight:ge,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ge,amplitude:ge,arabicForm:null,ascent:ge,attributeName:null,attributeType:null,azimuth:ge,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ge,by:null,calcMode:null,capHeight:ge,className:kt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ge,diffuseConstant:ge,direction:null,display:null,dur:null,divisor:ge,dominantBaseline:null,download:He,dx:null,dy:null,edgeMode:null,editable:null,elevation:ge,enableBackground:null,end:null,event:null,exponent:ge,externalResourcesRequired:null,fill:null,fillOpacity:ge,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Qs,g2:Qs,glyphName:Qs,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ge,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ge,horizOriginX:ge,horizOriginY:ge,id:null,ideographic:ge,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ge,k:ge,k1:ge,k2:ge,k3:ge,k4:ge,kernelMatrix:Jr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ge,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ge,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ge,overlineThickness:ge,paintOrder:null,panose1:null,path:null,pathLength:ge,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:kt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ge,pointsAtY:ge,pointsAtZ:ge,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Jr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Jr,rev:Jr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Jr,requiredFeatures:Jr,requiredFonts:Jr,requiredFormats:Jr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ge,specularExponent:ge,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ge,strikethroughThickness:ge,string:null,stroke:null,strokeDashArray:Jr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ge,strokeOpacity:ge,strokeWidth:null,style:null,surfaceScale:ge,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Jr,tabIndex:ge,tableValues:null,target:null,targetX:ge,targetY:ge,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Jr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ge,underlineThickness:ge,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ge,values:null,vAlphabetic:ge,vMathematical:ge,vectorEffect:null,vHanging:ge,vIdeographic:ge,version:null,vertAdvY:ge,vertOriginX:ge,vertOriginY:ge,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ge,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:ZF}),tB=ic({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),rB=ic({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:eB}),nB=ic({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),mle={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},gle=/[A-Z]/g,eT=/-[a-z]/g,vle=/^data[-\w.:]+$/i;function yle(e,t){const r=k1(t);let n=t,i=Xr;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&vle.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(eT,xle);n="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!eT.test(a)){let o=a.replace(gle,ble);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=dk}return new i(n,t)}function ble(e){return"-"+e.toLowerCase()}function xle(e){return e.charAt(1).toUpperCase()}const wle=QF([JF,hle,tB,rB,nB],"html"),fk=QF([JF,ple,tB,rB,nB],"svg");function Sle(e){return e.join(" ").trim()}var js={},Lv,tT;function _le(){if(tT)return Lv;tT=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,r=/^\s*/,n=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,s=/^\s+|\s+$/g,l=`
`,c="/",d="*",f="",h="comment",p="declaration";function v(g,y){if(typeof g!="string")throw new TypeError("First argument must be a string");if(!g)return[];y=y||{};var b=1,x=1;function _(E){var R=E.match(t);R&&(b+=R.length);var F=E.lastIndexOf(l);x=~F?E.length-F:x+E.length}function w(){var E={line:b,column:x};return function(R){return R.position=new j(E),T(),R}}function j(E){this.start=E,this.end={line:b,column:x},this.source=y.source}j.prototype.content=g;function k(E){var R=new Error(y.source+":"+b+":"+x+": "+E);if(R.reason=E,R.filename=y.source,R.line=b,R.column=x,R.source=g,!y.silent)throw R}function A(E){var R=E.exec(g);if(R){var F=R[0];return _(F),g=g.slice(F.length),R}}function T(){A(r)}function O(E){var R;for(E=E||[];R=P();)R!==!1&&E.push(R);return E}function P(){var E=w();if(!(c!=g.charAt(0)||d!=g.charAt(1))){for(var R=2;f!=g.charAt(R)&&(d!=g.charAt(R)||c!=g.charAt(R+1));)++R;if(R+=2,f===g.charAt(R-1))return k("End of comment missing");var F=g.slice(2,R-2);return x+=2,_(F),g=g.slice(R),x+=2,E({type:h,comment:F})}}function N(){var E=w(),R=A(n);if(R){if(P(),!A(i))return k("property missing ':'");var F=A(a),z=E({type:p,property:m(R[0].replace(e,f)),value:F?m(F[0].replace(e,f)):f});return A(o),z}}function M(){var E=[];O(E);for(var R;R=N();)R!==!1&&(E.push(R),O(E));return E}return T(),M()}function m(g){return g?g.replace(s,f):f}return Lv=v,Lv}var rT;function jle(){if(rT)return js;rT=1;var e=js&&js.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(js,"__esModule",{value:!0}),js.default=r;const t=e(_le());function r(n,i){let a=null;if(!n||typeof n!="string")return a;const o=(0,t.default)(n),s=typeof i=="function";return o.forEach(l=>{if(l.type!=="declaration")return;const{property:c,value:d}=l;s?i(c,d,l):d&&(a=a||{},a[c]=d)}),a}return js}var Cc={},nT;function kle(){if(nT)return Cc;nT=1,Object.defineProperty(Cc,"__esModule",{value:!0}),Cc.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,r=/^[^-]+$/,n=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,a=function(c){return!c||r.test(c)||e.test(c)},o=function(c,d){return d.toUpperCase()},s=function(c,d){return"".concat(d,"-")},l=function(c,d){return d===void 0&&(d={}),a(c)?c:(c=c.toLowerCase(),d.reactCompat?c=c.replace(i,s):c=c.replace(n,s),c.replace(t,o))};return Cc.camelCase=l,Cc}var Tc,iT;function Ele(){if(iT)return Tc;iT=1;var e=Tc&&Tc.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(jle()),r=kle();function n(i,a){var o={};return!i||typeof i!="string"||(0,t.default)(i,function(s,l){s&&l&&(o[(0,r.camelCase)(s,a)]=l)}),o}return n.default=n,Tc=n,Tc}var Ale=Ele();const Ole=ot(Ale),iB=aB("end"),hk=aB("start");function aB(e){return t;function t(r){const n=r&&r.position&&r.position[e]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function Cle(e){const t=hk(e),r=iB(e);if(t&&r)return{start:t,end:r}}function uu(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?aT(e.position):"start"in e||"end"in e?aT(e):"line"in e||"column"in e?O1(e):""}function O1(e){return oT(e&&e.line)+":"+oT(e&&e.column)}function aT(e){return O1(e&&e.start)+"-"+O1(e&&e.end)}function oT(e){return e&&typeof e=="number"?e:1}class Or extends Error{constructor(t,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let i="",a={},o=!1;if(r&&("line"in r&&"column"in r?a={place:r}:"start"in r&&"end"in r?a={place:r}:"type"in r?a={ancestors:[r],place:r.position}:a={...r}),typeof t=="string"?i=t:!a.cause&&t&&(o=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof n=="string"){const l=n.indexOf(":");l===-1?a.ruleId=n:(a.source=n.slice(0,l),a.ruleId=n.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const s=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=s?s.line:void 0,this.name=uu(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=o&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Or.prototype.file="";Or.prototype.name="";Or.prototype.reason="";Or.prototype.message="";Or.prototype.stack="";Or.prototype.column=void 0;Or.prototype.line=void 0;Or.prototype.ancestors=void 0;Or.prototype.cause=void 0;Or.prototype.fatal=void 0;Or.prototype.place=void 0;Or.prototype.ruleId=void 0;Or.prototype.source=void 0;const pk={}.hasOwnProperty,Tle=new Map,Ple=/[A-Z]/g,Nle=new Set(["table","tbody","thead","tfoot","tr"]),Rle=new Set(["td","th"]),oB="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Ile(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=t.filePath||void 0;let n;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=qle(r,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=Ble(r,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:n,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?fk:wle,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=sB(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function sB(e,t,r){if(t.type==="element")return Mle(e,t,r);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Dle(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Lle(e,t,r);if(t.type==="mdxjsEsm")return $le(e,t);if(t.type==="root")return zle(e,t,r);if(t.type==="text")return Fle(e,t)}function Mle(e,t,r){const n=e.schema;let i=n;t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(i=fk,e.schema=i),e.ancestors.push(t);const a=cB(e,t.tagName,!1),o=Ule(e,t);let s=gk(e,t);return Nle.has(t.tagName)&&(s=s.filter(function(l){return typeof l=="string"?!dle(l):!0})),lB(e,o,a,t),mk(o,s),e.ancestors.pop(),e.schema=n,e.create(t,a,o,r)}function Dle(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}Uu(e,t.position)}function $le(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Uu(e,t.position)}function Lle(e,t,r){const n=e.schema;let i=n;t.name==="svg"&&n.space==="html"&&(i=fk,e.schema=i),e.ancestors.push(t);const a=t.name===null?e.Fragment:cB(e,t.name,!0),o=Vle(e,t),s=gk(e,t);return lB(e,o,a,t),mk(o,s),e.ancestors.pop(),e.schema=n,e.create(t,a,o,r)}function zle(e,t,r){const n={};return mk(n,gk(e,t)),e.create(t,e.Fragment,n,r)}function Fle(e,t){return t.value}function lB(e,t,r,n){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(t.node=n)}function mk(e,t){if(t.length>0){const r=t.length>1?t:t[0];r&&(e.children=r)}}function Ble(e,t,r){return n;function n(i,a,o,s){const c=Array.isArray(o.children)?r:t;return s?c(a,o,s):c(a,o)}}function qle(e,t){return r;function r(n,i,a,o){const s=Array.isArray(a.children),l=hk(n);return t(i,a,o,s,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function Ule(e,t){const r={};let n,i;for(i in t.properties)if(i!=="children"&&pk.call(t.properties,i)){const a=Wle(e,i,t.properties[i]);if(a){const[o,s]=a;e.tableCellAlignToStyle&&o==="align"&&typeof s=="string"&&Rle.has(t.tagName)?n=s:r[o]=s}}if(n){const a=r.style||(r.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return r}function Vle(e,t){const r={};for(const n of t.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&e.evaluater){const a=n.data.estree.body[0];a.type;const o=a.expression;o.type;const s=o.properties[0];s.type,Object.assign(r,e.evaluater.evaluateExpression(s.argument))}else Uu(e,t.position);else{const i=n.name;let a;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&e.evaluater){const s=n.value.data.estree.body[0];s.type,a=e.evaluater.evaluateExpression(s.expression)}else Uu(e,t.position);else a=n.value===null?!0:n.value;r[i]=a}return r}function gk(e,t){const r=[];let n=-1;const i=e.passKeys?new Map:Tle;for(;++n<t.children.length;){const a=t.children[n];let o;if(e.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const c=i.get(l)||0;o=l+"-"+c,i.set(l,c+1)}}const s=sB(e,a,o);s!==void 0&&r.push(s)}return r}function Wle(e,t,r){const n=yle(e.schema,t);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?ole(r):Sle(r)),n.property==="style"){let i=typeof r=="object"?r:Hle(e,String(r));return e.stylePropertyNameCase==="css"&&(i=Gle(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&n.space?mle[n.property]||n.property:n.attribute,r]}}function Hle(e,t){try{return Ole(t,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const n=r,i=new Or("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=oB+"#cannot-parse-style-attribute",i}}function cB(e,t,r){let n;if(!r)n={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let a=-1,o;for(;++a<i.length;){const s=QC(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};o=o?{type:"MemberExpression",object:o,property:s,computed:!!(a&&s.type==="Literal"),optional:!1}:s}n=o}else n=QC(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(n.type==="Literal"){const i=n.value;return pk.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(n);Uu(e)}function Uu(e,t){const r=new Or("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=oB+"#cannot-handle-mdx-estrees-without-createevaluater",r}function Gle(e){const t={};let r;for(r in e)pk.call(e,r)&&(t[Kle(r)]=e[r]);return t}function Kle(e){let t=e.replace(Ple,Yle);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Yle(e){return"-"+e.toLowerCase()}const zv={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Xle={};function vk(e,t){const r=Xle,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,i=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return uB(e,n,i)}function uB(e,t,r){if(Qle(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return sT(e.children,t,r)}return Array.isArray(e)?sT(e,t,r):""}function sT(e,t,r){const n=[];let i=-1;for(;++i<e.length;)n[i]=uB(e[i],t,r);return n.join("")}function Qle(e){return!!(e&&typeof e=="object")}const lT=document.createElement("i");function yk(e){const t="&"+e+";";lT.innerHTML=t;const r=lT.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===t?!1:r}function cn(e,t,r,n){const i=e.length;let a=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,r=r>0?r:0,n.length<1e4)o=Array.from(n),o.unshift(t,r),e.splice(...o);else for(r&&e.splice(t,r);a<n.length;)o=n.slice(a,a+1e4),o.unshift(t,0),e.splice(...o),a+=1e4,t+=1e4}function wn(e,t){return e.length>0?(cn(e,e.length,0,t),e):t}const cT={}.hasOwnProperty;function dB(e){const t={};let r=-1;for(;++r<e.length;)Jle(t,e[r]);return t}function Jle(e,t){let r;for(r in t){const i=(cT.call(e,r)?e[r]:void 0)||(e[r]={}),a=t[r];let o;if(a)for(o in a){cT.call(i,o)||(i[o]=[]);const s=a[o];Zle(i[o],Array.isArray(s)?s:s?[s]:[])}}}function Zle(e,t){let r=-1;const n=[];for(;++r<t.length;)(t[r].add==="after"?e:n).push(t[r]);cn(e,0,0,n)}function fB(e,t){const r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":String.fromCodePoint(r)}function Jn(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ir=no(/[A-Za-z]/),Er=no(/[\dA-Za-z]/),ece=no(/[#-'*+\--9=?A-Z^-~]/);function Kh(e){return e!==null&&(e<32||e===127)}const C1=no(/\d/),tce=no(/[\dA-Fa-f]/),rce=no(/[!-/:-@[-`{-~]/);function Me(e){return e!==null&&e<-2}function _t(e){return e!==null&&(e<0||e===32)}function Ze(e){return e===-2||e===-1||e===32}const Gm=no(new RegExp("\\p{P}|\\p{S}","u")),Zo=no(/\s/);function no(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function ac(e){const t=[];let r=-1,n=0,i=0;for(;++r<e.length;){const a=e.charCodeAt(r);let o="";if(a===37&&Er(e.charCodeAt(r+1))&&Er(e.charCodeAt(r+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){const s=e.charCodeAt(r+1);a<56320&&s>56319&&s<57344?(o=String.fromCharCode(a,s),i=1):o=""}else o=String.fromCharCode(a);o&&(t.push(e.slice(n,r),encodeURIComponent(o)),n=r+i+1,o=""),i&&(r+=i,i=0)}return t.join("")+e.slice(n)}function at(e,t,r,n){const i=n?n-1:Number.POSITIVE_INFINITY;let a=0;return o;function o(l){return Ze(l)?(e.enter(r),s(l)):t(l)}function s(l){return Ze(l)&&a++<i?(e.consume(l),s):(e.exit(r),t(l))}}const nce={tokenize:ice};function ice(e){const t=e.attempt(this.parser.constructs.contentInitial,n,i);let r;return t;function n(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),at(e,t,"linePrefix")}function i(s){return e.enter("paragraph"),a(s)}function a(s){const l=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=l),r=l,o(s)}function o(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return Me(s)?(e.consume(s),e.exit("chunkText"),a):(e.consume(s),o)}}const ace={tokenize:oce},uT={tokenize:sce};function oce(e){const t=this,r=[];let n=0,i,a,o;return s;function s(x){if(n<r.length){const _=r[n];return t.containerState=_[1],e.attempt(_[0].continuation,l,c)(x)}return c(x)}function l(x){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&b();const _=t.events.length;let w=_,j;for(;w--;)if(t.events[w][0]==="exit"&&t.events[w][1].type==="chunkFlow"){j=t.events[w][1].end;break}y(n);let k=_;for(;k<t.events.length;)t.events[k][1].end={...j},k++;return cn(t.events,w+1,0,t.events.slice(_)),t.events.length=k,c(x)}return s(x)}function c(x){if(n===r.length){if(!i)return h(x);if(i.currentConstruct&&i.currentConstruct.concrete)return v(x);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(uT,d,f)(x)}function d(x){return i&&b(),y(n),h(x)}function f(x){return t.parser.lazy[t.now().line]=n!==r.length,o=t.now().offset,v(x)}function h(x){return t.containerState={},e.attempt(uT,p,v)(x)}function p(x){return n++,r.push([t.currentConstruct,t.containerState]),h(x)}function v(x){if(x===null){i&&b(),y(0),e.consume(x);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),m(x)}function m(x){if(x===null){g(e.exit("chunkFlow"),!0),y(0),e.consume(x);return}return Me(x)?(e.consume(x),g(e.exit("chunkFlow")),n=0,t.interrupt=void 0,s):(e.consume(x),m)}function g(x,_){const w=t.sliceStream(x);if(_&&w.push(null),x.previous=a,a&&(a.next=x),a=x,i.defineSkip(x.start),i.write(w),t.parser.lazy[x.start.line]){let j=i.events.length;for(;j--;)if(i.events[j][1].start.offset<o&&(!i.events[j][1].end||i.events[j][1].end.offset>o))return;const k=t.events.length;let A=k,T,O;for(;A--;)if(t.events[A][0]==="exit"&&t.events[A][1].type==="chunkFlow"){if(T){O=t.events[A][1].end;break}T=!0}for(y(n),j=k;j<t.events.length;)t.events[j][1].end={...O},j++;cn(t.events,A+1,0,t.events.slice(k)),t.events.length=j}}function y(x){let _=r.length;for(;_-- >x;){const w=r[_];t.containerState=w[1],w[0].exit.call(t,e)}r.length=x}function b(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function sce(e,t,r){return at(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function dl(e){if(e===null||_t(e)||Zo(e))return 1;if(Gm(e))return 2}function Km(e,t,r){const n=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!n.includes(a)&&(t=a(t,r),n.push(a))}return t}const T1={name:"attention",resolveAll:lce,tokenize:cce};function lce(e,t){let r=-1,n,i,a,o,s,l,c,d;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(n=r;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[n][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;l=e[n][1].end.offset-e[n][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const f={...e[n][1].end},h={...e[r][1].start};dT(f,-l),dT(h,l),o={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[n][1].end}},s={type:l>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:h},a={type:l>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[r][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...s.end}},e[n][1].end={...o.start},e[r][1].start={...s.end},c=[],e[n][1].end.offset-e[n][1].start.offset&&(c=wn(c,[["enter",e[n][1],t],["exit",e[n][1],t]])),c=wn(c,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",a,t]]),c=wn(c,Km(t.parser.constructs.insideSpan.null,e.slice(n+1,r),t)),c=wn(c,[["exit",a,t],["enter",s,t],["exit",s,t],["exit",i,t]]),e[r][1].end.offset-e[r][1].start.offset?(d=2,c=wn(c,[["enter",e[r][1],t],["exit",e[r][1],t]])):d=0,cn(e,n-1,r-n+3,c),r=n+c.length-d-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function cce(e,t){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,i=dl(n);let a;return o;function o(l){return a=l,e.enter("attentionSequence"),s(l)}function s(l){if(l===a)return e.consume(l),s;const c=e.exit("attentionSequence"),d=dl(l),f=!d||d===2&&i||r.includes(l),h=!i||i===2&&d||r.includes(n);return c._open=!!(a===42?f:f&&(i||!h)),c._close=!!(a===42?h:h&&(d||!f)),t(l)}}function dT(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const uce={name:"autolink",tokenize:dce};function dce(e,t,r){let n=0;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(p){return Ir(p)?(e.consume(p),o):p===64?r(p):c(p)}function o(p){return p===43||p===45||p===46||Er(p)?(n=1,s(p)):c(p)}function s(p){return p===58?(e.consume(p),n=0,l):(p===43||p===45||p===46||Er(p))&&n++<32?(e.consume(p),s):(n=0,c(p))}function l(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||Kh(p)?r(p):(e.consume(p),l)}function c(p){return p===64?(e.consume(p),d):ece(p)?(e.consume(p),c):r(p)}function d(p){return Er(p)?f(p):r(p)}function f(p){return p===46?(e.consume(p),n=0,d):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):h(p)}function h(p){if((p===45||Er(p))&&n++<63){const v=p===45?h:f;return e.consume(p),v}return r(p)}}const Hd={partial:!0,tokenize:fce};function fce(e,t,r){return n;function n(a){return Ze(a)?at(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||Me(a)?t(a):r(a)}}const hB={continuation:{tokenize:pce},exit:mce,name:"blockQuote",tokenize:hce};function hce(e,t,r){const n=this;return i;function i(o){if(o===62){const s=n.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),a}return r(o)}function a(o){return Ze(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function pce(e,t,r){const n=this;return i;function i(o){return Ze(o)?at(e,a,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):a(o)}function a(o){return e.attempt(hB,t,r)(o)}}function mce(e){e.exit("blockQuote")}const pB={name:"characterEscape",tokenize:gce};function gce(e,t,r){return n;function n(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return rce(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(a)}}const mB={name:"characterReference",tokenize:vce};function vce(e,t,r){const n=this;let i=0,a,o;return s;function s(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),a=31,o=Er,d(f))}function c(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,o=tce,d):(e.enter("characterReferenceValue"),a=7,o=C1,d(f))}function d(f){if(f===59&&i){const h=e.exit("characterReferenceValue");return o===Er&&!yk(n.sliceSerialize(h))?r(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&i++<a?(e.consume(f),d):r(f)}}const fT={partial:!0,tokenize:bce},hT={concrete:!0,name:"codeFenced",tokenize:yce};function yce(e,t,r){const n=this,i={partial:!0,tokenize:w};let a=0,o=0,s;return l;function l(j){return c(j)}function c(j){const k=n.events[n.events.length-1];return a=k&&k[1].type==="linePrefix"?k[2].sliceSerialize(k[1],!0).length:0,s=j,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(j)}function d(j){return j===s?(o++,e.consume(j),d):o<3?r(j):(e.exit("codeFencedFenceSequence"),Ze(j)?at(e,f,"whitespace")(j):f(j))}function f(j){return j===null||Me(j)?(e.exit("codeFencedFence"),n.interrupt?t(j):e.check(fT,m,_)(j)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(j))}function h(j){return j===null||Me(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(j)):Ze(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),at(e,p,"whitespace")(j)):j===96&&j===s?r(j):(e.consume(j),h)}function p(j){return j===null||Me(j)?f(j):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),v(j))}function v(j){return j===null||Me(j)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(j)):j===96&&j===s?r(j):(e.consume(j),v)}function m(j){return e.attempt(i,_,g)(j)}function g(j){return e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),y}function y(j){return a>0&&Ze(j)?at(e,b,"linePrefix",a+1)(j):b(j)}function b(j){return j===null||Me(j)?e.check(fT,m,_)(j):(e.enter("codeFlowValue"),x(j))}function x(j){return j===null||Me(j)?(e.exit("codeFlowValue"),b(j)):(e.consume(j),x)}function _(j){return e.exit("codeFenced"),t(j)}function w(j,k,A){let T=0;return O;function O(R){return j.enter("lineEnding"),j.consume(R),j.exit("lineEnding"),P}function P(R){return j.enter("codeFencedFence"),Ze(R)?at(j,N,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):N(R)}function N(R){return R===s?(j.enter("codeFencedFenceSequence"),M(R)):A(R)}function M(R){return R===s?(T++,j.consume(R),M):T>=o?(j.exit("codeFencedFenceSequence"),Ze(R)?at(j,E,"whitespace")(R):E(R)):A(R)}function E(R){return R===null||Me(R)?(j.exit("codeFencedFence"),k(R)):A(R)}}}function bce(e,t,r){const n=this;return i;function i(o){return o===null?r(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a)}function a(o){return n.parser.lazy[n.now().line]?r(o):t(o)}}const Fv={name:"codeIndented",tokenize:wce},xce={partial:!0,tokenize:Sce};function wce(e,t,r){const n=this;return i;function i(c){return e.enter("codeIndented"),at(e,a,"linePrefix",5)(c)}function a(c){const d=n.events[n.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(c):r(c)}function o(c){return c===null?l(c):Me(c)?e.attempt(xce,o,l)(c):(e.enter("codeFlowValue"),s(c))}function s(c){return c===null||Me(c)?(e.exit("codeFlowValue"),o(c)):(e.consume(c),s)}function l(c){return e.exit("codeIndented"),t(c)}}function Sce(e,t,r){const n=this;return i;function i(o){return n.parser.lazy[n.now().line]?r(o):Me(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):at(e,a,"linePrefix",5)(o)}function a(o){const s=n.events[n.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):Me(o)?i(o):r(o)}}const _ce={name:"codeText",previous:kce,resolve:jce,tokenize:Ece};function jce(e){let t=e.length-4,r=3,n,i;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)i===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(i=n):(n===t||e[n][1].type==="lineEnding")&&(e[i][1].type="codeTextData",n!==i+2&&(e[i][1].end=e[n-1][1].end,e.splice(i+2,n-i-2),t-=n-i-2,n=i+2),i=void 0);return e}function kce(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Ece(e,t,r){let n=0,i,a;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),s(f)}function s(f){return f===96?(e.consume(f),n++,s):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?r(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(a=e.enter("codeTextSequence"),i=0,d(f)):Me(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||Me(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),c)}function d(f){return f===96?(e.consume(f),i++,d):i===n?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(a.type="codeTextData",c(f))}}class Ace{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,r,n){const i=r||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return n&&Pc(this.left,n),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Pc(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Pc(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const r=this.left.splice(t,Number.POSITIVE_INFINITY);Pc(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Pc(this.left,r.reverse())}}}function Pc(e,t){let r=0;if(t.length<1e4)e.push(...t);else for(;r<t.length;)e.push(...t.slice(r,r+1e4)),r+=1e4}function gB(e){const t={};let r=-1,n,i,a,o,s,l,c;const d=new Ace(e);for(;++r<d.length;){for(;r in t;)r=t[r];if(n=d.get(r),r&&n[1].type==="chunkFlow"&&d.get(r-1)[1].type==="listItemPrefix"&&(l=n[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,Oce(d,r)),r=t[r],c=!0);else if(n[1]._container){for(a=r,i=void 0;a--;)if(o=d.get(a),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=a);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(n[1].end={...d.get(i)[1].start},s=d.slice(i,r),s.unshift(n),d.splice(i,r-i+1,s))}}return cn(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function Oce(e,t){const r=e.get(t)[1],n=e.get(t)[2];let i=t-1;const a=[];let o=r._tokenizer;o||(o=n.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const s=o.events,l=[],c={};let d,f,h=-1,p=r,v=0,m=0;const g=[m];for(;p;){for(;e.get(++i)[1]!==p;);a.push(i),p._tokenizer||(d=n.sliceStream(p),p.next||d.push(null),f&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=p,p=p.next}for(p=r;++h<s.length;)s[h][0]==="exit"&&s[h-1][0]==="enter"&&s[h][1].type===s[h-1][1].type&&s[h][1].start.line!==s[h][1].end.line&&(m=h+1,g.push(m),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):g.pop(),h=g.length;h--;){const y=s.slice(g[h],g[h+1]),b=a.pop();l.push([b,b+y.length-1]),e.splice(b,2,y)}for(l.reverse(),h=-1;++h<l.length;)c[v+l[h][0]]=v+l[h][1],v+=l[h][1]-l[h][0]-1;return c}const Cce={resolve:Pce,tokenize:Nce},Tce={partial:!0,tokenize:Rce};function Pce(e){return gB(e),e}function Nce(e,t){let r;return n;function n(s){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?a(s):Me(s)?e.check(Tce,o,a)(s):(e.consume(s),i)}function a(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function o(s){return e.consume(s),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,i}}function Rce(e,t,r){const n=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),at(e,a,"linePrefix")}function a(o){if(o===null||Me(o))return r(o);const s=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):e.interrupt(n.parser.constructs.flow,r,t)(o)}}function vB(e,t,r,n,i,a,o,s,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(y){return y===60?(e.enter(n),e.enter(i),e.enter(a),e.consume(y),e.exit(a),h):y===null||y===32||y===41||Kh(y)?r(y):(e.enter(n),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),m(y))}function h(y){return y===62?(e.enter(a),e.consume(y),e.exit(a),e.exit(i),e.exit(n),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===62?(e.exit("chunkString"),e.exit(s),h(y)):y===null||y===60||Me(y)?r(y):(e.consume(y),y===92?v:p)}function v(y){return y===60||y===62||y===92?(e.consume(y),p):p(y)}function m(y){return!d&&(y===null||y===41||_t(y))?(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(n),t(y)):d<c&&y===40?(e.consume(y),d++,m):y===41?(e.consume(y),d--,m):y===null||y===32||y===40||Kh(y)?r(y):(e.consume(y),y===92?g:m)}function g(y){return y===40||y===41||y===92?(e.consume(y),m):m(y)}}function yB(e,t,r,n,i,a){const o=this;let s=0,l;return c;function c(p){return e.enter(n),e.enter(i),e.consume(p),e.exit(i),e.enter(a),d}function d(p){return s>999||p===null||p===91||p===93&&!l||p===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?r(p):p===93?(e.exit(a),e.enter(i),e.consume(p),e.exit(i),e.exit(n),t):Me(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===null||p===91||p===93||Me(p)||s++>999?(e.exit("chunkString"),d(p)):(e.consume(p),l||(l=!Ze(p)),p===92?h:f)}function h(p){return p===91||p===92||p===93?(e.consume(p),s++,f):f(p)}}function bB(e,t,r,n,i,a){let o;return s;function s(h){return h===34||h===39||h===40?(e.enter(n),e.enter(i),e.consume(h),e.exit(i),o=h===40?41:h,l):r(h)}function l(h){return h===o?(e.enter(i),e.consume(h),e.exit(i),e.exit(n),t):(e.enter(a),c(h))}function c(h){return h===o?(e.exit(a),l(o)):h===null?r(h):Me(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),at(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===o||h===null||Me(h)?(e.exit("chunkString"),c(h)):(e.consume(h),h===92?f:d)}function f(h){return h===o||h===92?(e.consume(h),d):d(h)}}function du(e,t){let r;return n;function n(i){return Me(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),r=!0,n):Ze(i)?at(e,n,r?"linePrefix":"lineSuffix")(i):t(i)}}const Ice={name:"definition",tokenize:Dce},Mce={partial:!0,tokenize:$ce};function Dce(e,t,r){const n=this;let i;return a;function a(p){return e.enter("definition"),o(p)}function o(p){return yB.call(n,e,s,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function s(p){return i=Jn(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),l):r(p)}function l(p){return _t(p)?du(e,c)(p):c(p)}function c(p){return vB(e,d,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function d(p){return e.attempt(Mce,f,f)(p)}function f(p){return Ze(p)?at(e,h,"whitespace")(p):h(p)}function h(p){return p===null||Me(p)?(e.exit("definition"),n.parser.defined.push(i),t(p)):r(p)}}function $ce(e,t,r){return n;function n(s){return _t(s)?du(e,i)(s):r(s)}function i(s){return bB(e,a,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function a(s){return Ze(s)?at(e,o,"whitespace")(s):o(s)}function o(s){return s===null||Me(s)?t(s):r(s)}}const Lce={name:"hardBreakEscape",tokenize:zce};function zce(e,t,r){return n;function n(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return Me(a)?(e.exit("hardBreakEscape"),t(a)):r(a)}}const Fce={name:"headingAtx",resolve:Bce,tokenize:qce};function Bce(e,t){let r=e.length-2,n=3,i,a;return e[n][1].type==="whitespace"&&(n+=2),r-2>n&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&e[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(i={type:"atxHeadingText",start:e[n][1].start,end:e[r][1].end},a={type:"chunkText",start:e[n][1].start,end:e[r][1].end,contentType:"text"},cn(e,n,r-n+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function qce(e,t,r){let n=0;return i;function i(d){return e.enter("atxHeading"),a(d)}function a(d){return e.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&n++<6?(e.consume(d),o):d===null||_t(d)?(e.exit("atxHeadingSequence"),s(d)):r(d)}function s(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||Me(d)?(e.exit("atxHeading"),t(d)):Ze(d)?at(e,s,"whitespace")(d):(e.enter("atxHeadingText"),c(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),s(d))}function c(d){return d===null||d===35||_t(d)?(e.exit("atxHeadingText"),s(d)):(e.consume(d),c)}}const Uce=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],pT=["pre","script","style","textarea"],Vce={concrete:!0,name:"htmlFlow",resolveTo:Gce,tokenize:Kce},Wce={partial:!0,tokenize:Xce},Hce={partial:!0,tokenize:Yce};function Gce(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Kce(e,t,r){const n=this;let i,a,o,s,l;return c;function c($){return d($)}function d($){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume($),f}function f($){return $===33?(e.consume($),h):$===47?(e.consume($),a=!0,m):$===63?(e.consume($),i=3,n.interrupt?t:D):Ir($)?(e.consume($),o=String.fromCharCode($),g):r($)}function h($){return $===45?(e.consume($),i=2,p):$===91?(e.consume($),i=5,s=0,v):Ir($)?(e.consume($),i=4,n.interrupt?t:D):r($)}function p($){return $===45?(e.consume($),n.interrupt?t:D):r($)}function v($){const Q="CDATA[";return $===Q.charCodeAt(s++)?(e.consume($),s===Q.length?n.interrupt?t:N:v):r($)}function m($){return Ir($)?(e.consume($),o=String.fromCharCode($),g):r($)}function g($){if($===null||$===47||$===62||_t($)){const Q=$===47,Z=o.toLowerCase();return!Q&&!a&&pT.includes(Z)?(i=1,n.interrupt?t($):N($)):Uce.includes(o.toLowerCase())?(i=6,Q?(e.consume($),y):n.interrupt?t($):N($)):(i=7,n.interrupt&&!n.parser.lazy[n.now().line]?r($):a?b($):x($))}return $===45||Er($)?(e.consume($),o+=String.fromCharCode($),g):r($)}function y($){return $===62?(e.consume($),n.interrupt?t:N):r($)}function b($){return Ze($)?(e.consume($),b):O($)}function x($){return $===47?(e.consume($),O):$===58||$===95||Ir($)?(e.consume($),_):Ze($)?(e.consume($),x):O($)}function _($){return $===45||$===46||$===58||$===95||Er($)?(e.consume($),_):w($)}function w($){return $===61?(e.consume($),j):Ze($)?(e.consume($),w):x($)}function j($){return $===null||$===60||$===61||$===62||$===96?r($):$===34||$===39?(e.consume($),l=$,k):Ze($)?(e.consume($),j):A($)}function k($){return $===l?(e.consume($),l=null,T):$===null||Me($)?r($):(e.consume($),k)}function A($){return $===null||$===34||$===39||$===47||$===60||$===61||$===62||$===96||_t($)?w($):(e.consume($),A)}function T($){return $===47||$===62||Ze($)?x($):r($)}function O($){return $===62?(e.consume($),P):r($)}function P($){return $===null||Me($)?N($):Ze($)?(e.consume($),P):r($)}function N($){return $===45&&i===2?(e.consume($),F):$===60&&i===1?(e.consume($),z):$===62&&i===4?(e.consume($),W):$===63&&i===3?(e.consume($),D):$===93&&i===5?(e.consume($),L):Me($)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(Wce,B,M)($)):$===null||Me($)?(e.exit("htmlFlowData"),M($)):(e.consume($),N)}function M($){return e.check(Hce,E,B)($)}function E($){return e.enter("lineEnding"),e.consume($),e.exit("lineEnding"),R}function R($){return $===null||Me($)?M($):(e.enter("htmlFlowData"),N($))}function F($){return $===45?(e.consume($),D):N($)}function z($){return $===47?(e.consume($),o="",q):N($)}function q($){if($===62){const Q=o.toLowerCase();return pT.includes(Q)?(e.consume($),W):N($)}return Ir($)&&o.length<8?(e.consume($),o+=String.fromCharCode($),q):N($)}function L($){return $===93?(e.consume($),D):N($)}function D($){return $===62?(e.consume($),W):$===45&&i===2?(e.consume($),D):N($)}function W($){return $===null||Me($)?(e.exit("htmlFlowData"),B($)):(e.consume($),W)}function B($){return e.exit("htmlFlow"),t($)}}function Yce(e,t,r){const n=this;return i;function i(o){return Me(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):r(o)}function a(o){return n.parser.lazy[n.now().line]?r(o):t(o)}}function Xce(e,t,r){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Hd,t,r)}}const Qce={name:"htmlText",tokenize:Jce};function Jce(e,t,r){const n=this;let i,a,o;return s;function s(D){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(D),l}function l(D){return D===33?(e.consume(D),c):D===47?(e.consume(D),w):D===63?(e.consume(D),x):Ir(D)?(e.consume(D),A):r(D)}function c(D){return D===45?(e.consume(D),d):D===91?(e.consume(D),a=0,v):Ir(D)?(e.consume(D),b):r(D)}function d(D){return D===45?(e.consume(D),p):r(D)}function f(D){return D===null?r(D):D===45?(e.consume(D),h):Me(D)?(o=f,z(D)):(e.consume(D),f)}function h(D){return D===45?(e.consume(D),p):f(D)}function p(D){return D===62?F(D):D===45?h(D):f(D)}function v(D){const W="CDATA[";return D===W.charCodeAt(a++)?(e.consume(D),a===W.length?m:v):r(D)}function m(D){return D===null?r(D):D===93?(e.consume(D),g):Me(D)?(o=m,z(D)):(e.consume(D),m)}function g(D){return D===93?(e.consume(D),y):m(D)}function y(D){return D===62?F(D):D===93?(e.consume(D),y):m(D)}function b(D){return D===null||D===62?F(D):Me(D)?(o=b,z(D)):(e.consume(D),b)}function x(D){return D===null?r(D):D===63?(e.consume(D),_):Me(D)?(o=x,z(D)):(e.consume(D),x)}function _(D){return D===62?F(D):x(D)}function w(D){return Ir(D)?(e.consume(D),j):r(D)}function j(D){return D===45||Er(D)?(e.consume(D),j):k(D)}function k(D){return Me(D)?(o=k,z(D)):Ze(D)?(e.consume(D),k):F(D)}function A(D){return D===45||Er(D)?(e.consume(D),A):D===47||D===62||_t(D)?T(D):r(D)}function T(D){return D===47?(e.consume(D),F):D===58||D===95||Ir(D)?(e.consume(D),O):Me(D)?(o=T,z(D)):Ze(D)?(e.consume(D),T):F(D)}function O(D){return D===45||D===46||D===58||D===95||Er(D)?(e.consume(D),O):P(D)}function P(D){return D===61?(e.consume(D),N):Me(D)?(o=P,z(D)):Ze(D)?(e.consume(D),P):T(D)}function N(D){return D===null||D===60||D===61||D===62||D===96?r(D):D===34||D===39?(e.consume(D),i=D,M):Me(D)?(o=N,z(D)):Ze(D)?(e.consume(D),N):(e.consume(D),E)}function M(D){return D===i?(e.consume(D),i=void 0,R):D===null?r(D):Me(D)?(o=M,z(D)):(e.consume(D),M)}function E(D){return D===null||D===34||D===39||D===60||D===61||D===96?r(D):D===47||D===62||_t(D)?T(D):(e.consume(D),E)}function R(D){return D===47||D===62||_t(D)?T(D):r(D)}function F(D){return D===62?(e.consume(D),e.exit("htmlTextData"),e.exit("htmlText"),t):r(D)}function z(D){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(D),e.exit("lineEnding"),q}function q(D){return Ze(D)?at(e,L,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):L(D)}function L(D){return e.enter("htmlTextData"),o(D)}}const bk={name:"labelEnd",resolveAll:rue,resolveTo:nue,tokenize:iue},Zce={tokenize:aue},eue={tokenize:oue},tue={tokenize:sue};function rue(e){let t=-1;const r=[];for(;++t<e.length;){const n=e[t][1];if(r.push(e[t]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const i=n.type==="labelImage"?4:2;n.type="data",t+=i}}return e.length!==r.length&&cn(e,0,e.length,r),e}function nue(e,t){let r=e.length,n=0,i,a,o,s;for(;r--;)if(i=e[r][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[r][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[r][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=r,i.type!=="labelLink")){n=2;break}}else i.type==="labelEnd"&&(o=r);const l={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[a][1].start},end:{...e[o][1].end}},d={type:"labelText",start:{...e[a+n+2][1].end},end:{...e[o-2][1].start}};return s=[["enter",l,t],["enter",c,t]],s=wn(s,e.slice(a+1,a+n+3)),s=wn(s,[["enter",d,t]]),s=wn(s,Km(t.parser.constructs.insideSpan.null,e.slice(a+n+4,o-3),t)),s=wn(s,[["exit",d,t],e[o-2],e[o-1],["exit",c,t]]),s=wn(s,e.slice(o+1)),s=wn(s,[["exit",l,t]]),cn(e,a,e.length,s),e}function iue(e,t,r){const n=this;let i=n.events.length,a,o;for(;i--;)if((n.events[i][1].type==="labelImage"||n.events[i][1].type==="labelLink")&&!n.events[i][1]._balanced){a=n.events[i][1];break}return s;function s(h){return a?a._inactive?f(h):(o=n.parser.defined.includes(Jn(n.sliceSerialize({start:a.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),l):r(h)}function l(h){return h===40?e.attempt(Zce,d,o?d:f)(h):h===91?e.attempt(eue,d,o?c:f)(h):o?d(h):f(h)}function c(h){return e.attempt(tue,d,f)(h)}function d(h){return t(h)}function f(h){return a._balanced=!0,r(h)}}function aue(e,t,r){return n;function n(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return _t(f)?du(e,a)(f):a(f)}function a(f){return f===41?d(f):vB(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return _t(f)?du(e,l)(f):d(f)}function s(f){return r(f)}function l(f){return f===34||f===39||f===40?bB(e,c,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function c(f){return _t(f)?du(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):r(f)}}function oue(e,t,r){const n=this;return i;function i(s){return yB.call(n,e,a,o,"reference","referenceMarker","referenceString")(s)}function a(s){return n.parser.defined.includes(Jn(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(s):r(s)}function o(s){return r(s)}}function sue(e,t,r){return n;function n(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):r(a)}}const lue={name:"labelStartImage",resolveAll:bk.resolveAll,tokenize:cue};function cue(e,t,r){const n=this;return i;function i(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),a}function a(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),o):r(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(s):t(s)}}const uue={name:"labelStartLink",resolveAll:bk.resolveAll,tokenize:due};function due(e,t,r){const n=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),a}function a(o){return o===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(o):t(o)}}const Bv={name:"lineEnding",tokenize:fue};function fue(e,t){return r;function r(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),at(e,t,"linePrefix")}}const fh={name:"thematicBreak",tokenize:hue};function hue(e,t,r){let n=0,i;return a;function a(c){return e.enter("thematicBreak"),o(c)}function o(c){return i=c,s(c)}function s(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):n>=3&&(c===null||Me(c))?(e.exit("thematicBreak"),t(c)):r(c)}function l(c){return c===i?(e.consume(c),n++,l):(e.exit("thematicBreakSequence"),Ze(c)?at(e,s,"whitespace")(c):s(c))}}const qr={continuation:{tokenize:vue},exit:bue,name:"list",tokenize:gue},pue={partial:!0,tokenize:xue},mue={partial:!0,tokenize:yue};function gue(e,t,r){const n=this,i=n.events[n.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return s;function s(p){const v=n.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!n.containerState.marker||p===n.containerState.marker:C1(p)){if(n.containerState.type||(n.containerState.type=v,e.enter(v,{_container:!0})),v==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(fh,r,c)(p):c(p);if(!n.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(p)}return r(p)}function l(p){return C1(p)&&++o<10?(e.consume(p),l):(!n.interrupt||o<2)&&(n.containerState.marker?p===n.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),c(p)):r(p)}function c(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||p,e.check(Hd,n.interrupt?r:d,e.attempt(pue,h,f))}function d(p){return n.containerState.initialBlankLine=!0,a++,h(p)}function f(p){return Ze(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),h):r(p)}function h(p){return n.containerState.size=a+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}function vue(e,t,r){const n=this;return n.containerState._closeFlow=void 0,e.check(Hd,i,a);function i(s){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,at(e,t,"listItemIndent",n.containerState.size+1)(s)}function a(s){return n.containerState.furtherBlankLines||!Ze(s)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,o(s)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(mue,t,o)(s))}function o(s){return n.containerState._closeFlow=!0,n.interrupt=void 0,at(e,e.attempt(qr,t,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function yue(e,t,r){const n=this;return at(e,i,"listItemIndent",n.containerState.size+1);function i(a){const o=n.events[n.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===n.containerState.size?t(a):r(a)}}function bue(e){e.exit(this.containerState.type)}function xue(e,t,r){const n=this;return at(e,i,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const o=n.events[n.events.length-1];return!Ze(a)&&o&&o[1].type==="listItemPrefixWhitespace"?t(a):r(a)}}const mT={name:"setextUnderline",resolveTo:wue,tokenize:Sue};function wue(e,t){let r=e.length,n,i,a;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){n=r;break}e[r][1].type==="paragraph"&&(i=r)}else e[r][1].type==="content"&&e.splice(r,1),!a&&e[r][1].type==="definition"&&(a=r);const o={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",o,t]),e.splice(a+1,0,["exit",e[n][1],t]),e[n][1].end={...e[a][1].end}):e[n][1]=o,e.push(["exit",o,t]),e}function Sue(e,t,r){const n=this;let i;return a;function a(c){let d=n.events.length,f;for(;d--;)if(n.events[d][1].type!=="lineEnding"&&n.events[d][1].type!=="linePrefix"&&n.events[d][1].type!=="content"){f=n.events[d][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||f)?(e.enter("setextHeadingLine"),i=c,o(c)):r(c)}function o(c){return e.enter("setextHeadingLineSequence"),s(c)}function s(c){return c===i?(e.consume(c),s):(e.exit("setextHeadingLineSequence"),Ze(c)?at(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||Me(c)?(e.exit("setextHeadingLine"),t(c)):r(c)}}const _ue={tokenize:jue};function jue(e){const t=this,r=e.attempt(Hd,n,e.attempt(this.parser.constructs.flowInitial,i,at(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Cce,i)),"linePrefix")));return r;function n(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,r}}const kue={resolveAll:wB()},Eue=xB("string"),Aue=xB("text");function xB(e){return{resolveAll:wB(e==="text"?Oue:void 0),tokenize:t};function t(r){const n=this,i=this.parser.constructs[e],a=r.attempt(i,o,s);return o;function o(d){return c(d)?a(d):s(d)}function s(d){if(d===null){r.consume(d);return}return r.enter("data"),r.consume(d),l}function l(d){return c(d)?(r.exit("data"),a(d)):(r.consume(d),l)}function c(d){if(d===null)return!0;const f=i[d];let h=-1;if(f)for(;++h<f.length;){const p=f[h];if(!p.previous||p.previous.call(n,n.previous))return!0}return!1}}}function wB(e){return t;function t(r,n){let i=-1,a;for(;++i<=r.length;)a===void 0?r[i]&&r[i][1].type==="data"&&(a=i,i++):(!r[i]||r[i][1].type!=="data")&&(i!==a+2&&(r[a][1].end=r[i-1][1].end,r.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(r,n):r}}function Oue(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const n=e[r-1][1],i=t.sliceStream(n);let a=i.length,o=-1,s=0,l;for(;a--;){const c=i[a];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(c===-2)l=!0,s++;else if(c!==-1){a++;break}}if(t._contentTypeTextTrailing&&r===e.length&&(s=0),s){const c={type:r===e.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?o:n.start._bufferIndex+o,_index:n.start._index+a,line:n.end.line,column:n.end.column-s,offset:n.end.offset-s},end:{...n.end}};n.end={...c.start},n.start.offset===n.end.offset?Object.assign(n,c):(e.splice(r,0,["enter",c,t],["exit",c,t]),r+=2)}r++}return e}const Cue={42:qr,43:qr,45:qr,48:qr,49:qr,50:qr,51:qr,52:qr,53:qr,54:qr,55:qr,56:qr,57:qr,62:hB},Tue={91:Ice},Pue={[-2]:Fv,[-1]:Fv,32:Fv},Nue={35:Fce,42:fh,45:[mT,fh],60:Vce,61:mT,95:fh,96:hT,126:hT},Rue={38:mB,92:pB},Iue={[-5]:Bv,[-4]:Bv,[-3]:Bv,33:lue,38:mB,42:T1,60:[uce,Qce],91:uue,92:[Lce,pB],93:bk,95:T1,96:_ce},Mue={null:[T1,kue]},Due={null:[42,95]},$ue={null:[]},Lue=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Due,contentInitial:Tue,disable:$ue,document:Cue,flow:Nue,flowInitial:Pue,insideSpan:Mue,string:Rue,text:Iue},Symbol.toStringTag,{value:"Module"}));function zue(e,t,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const i={},a=[];let o=[],s=[];const l={attempt:k(w),check:k(j),consume:b,enter:x,exit:_,interrupt:k(j,{interrupt:!0})},c={code:null,containerState:{},defineSkip:m,events:[],now:v,parser:e,previous:null,sliceSerialize:h,sliceStream:p,write:f};let d=t.tokenize.call(c,l);return t.resolveAll&&a.push(t),c;function f(P){return o=wn(o,P),g(),o[o.length-1]!==null?[]:(A(t,0),c.events=Km(a,c.events,c),c.events)}function h(P,N){return Bue(p(P),N)}function p(P){return Fue(o,P)}function v(){const{_bufferIndex:P,_index:N,line:M,column:E,offset:R}=n;return{_bufferIndex:P,_index:N,line:M,column:E,offset:R}}function m(P){i[P.line]=P.column,O()}function g(){let P;for(;n._index<o.length;){const N=o[n._index];if(typeof N=="string")for(P=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===P&&n._bufferIndex<N.length;)y(N.charCodeAt(n._bufferIndex));else y(N)}}function y(P){d=d(P)}function b(P){Me(P)?(n.line++,n.column=1,n.offset+=P===-3?2:1,O()):P!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===o[n._index].length&&(n._bufferIndex=-1,n._index++)),c.previous=P}function x(P,N){const M=N||{};return M.type=P,M.start=v(),c.events.push(["enter",M,c]),s.push(M),M}function _(P){const N=s.pop();return N.end=v(),c.events.push(["exit",N,c]),N}function w(P,N){A(P,N.from)}function j(P,N){N.restore()}function k(P,N){return M;function M(E,R,F){let z,q,L,D;return Array.isArray(E)?B(E):"tokenize"in E?B([E]):W(E);function W(fe){return le;function le(ue){const ee=ue!==null&&fe[ue],te=ue!==null&&fe.null,ce=[...Array.isArray(ee)?ee:ee?[ee]:[],...Array.isArray(te)?te:te?[te]:[]];return B(ce)(ue)}}function B(fe){return z=fe,q=0,fe.length===0?F:$(fe[q])}function $(fe){return le;function le(ue){return D=T(),L=fe,fe.partial||(c.currentConstruct=fe),fe.name&&c.parser.constructs.disable.null.includes(fe.name)?Z():fe.tokenize.call(N?Object.assign(Object.create(c),N):c,l,Q,Z)(ue)}}function Q(fe){return P(L,D),R}function Z(fe){return D.restore(),++q<z.length?$(z[q]):F}}}function A(P,N){P.resolveAll&&!a.includes(P)&&a.push(P),P.resolve&&cn(c.events,N,c.events.length-N,P.resolve(c.events.slice(N),c)),P.resolveTo&&(c.events=P.resolveTo(c.events,c))}function T(){const P=v(),N=c.previous,M=c.currentConstruct,E=c.events.length,R=Array.from(s);return{from:E,restore:F};function F(){n=P,c.previous=N,c.currentConstruct=M,c.events.length=E,s=R,O()}}function O(){n.line in i&&n.column<2&&(n.column=i[n.line],n.offset+=i[n.line]-1)}}function Fue(e,t){const r=t.start._index,n=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let o;if(r===i)o=[e[r].slice(n,a)];else{if(o=e.slice(r,i),n>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(n):o.shift()}a>0&&o.push(e[i].slice(0,a))}return o}function Bue(e,t){let r=-1;const n=[];let i;for(;++r<e.length;){const a=e[r];let o;if(typeof a=="string")o=a;else switch(a){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(a)}i=a===-2,n.push(o)}return n.join("")}function que(e){const n={constructs:dB([Lue,...(e||{}).extensions||[]]),content:i(nce),defined:[],document:i(ace),flow:i(_ue),lazy:{},string:i(Eue),text:i(Aue)};return n;function i(a){return o;function o(s){return zue(n,a,s)}}}function Uue(e){for(;!gB(e););return e}const gT=/[\0\t\n\r]/g;function Vue(){let e=1,t="",r=!0,n;return i;function i(a,o,s){const l=[];let c,d,f,h,p;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(o||void 0).decode(a)),f=0,t="",r&&(a.charCodeAt(0)===65279&&f++,r=void 0);f<a.length;){if(gT.lastIndex=f,c=gT.exec(a),h=c&&c.index!==void 0?c.index:a.length,p=a.charCodeAt(h),!c){t=a.slice(f);break}if(p===10&&f===h&&n)l.push(-3),n=void 0;else switch(n&&(l.push(-5),n=void 0),f<h&&(l.push(a.slice(f,h)),e+=h-f),p){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:n=!0,e=1}f=h+1}return s&&(n&&l.push(-5),t&&l.push(t),l.push(null)),l}}const Wue=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Hue(e){return e.replace(Wue,Gue)}function Gue(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){const i=r.charCodeAt(1),a=i===120||i===88;return fB(r.slice(a?2:1),a?16:10)}return yk(r)||e}const SB={}.hasOwnProperty;function Kue(e,t,r){return typeof t!="string"&&(r=t,t=void 0),Yue(r)(Uue(que(r).document().write(Vue()(e,t,!0))))}function Yue(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(K),autolinkProtocol:T,autolinkEmail:T,atxHeading:a(G),blockQuote:a(te),characterEscape:T,characterReference:T,codeFenced:a(ce),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:a(ce,o),codeText:a(J,o),codeTextData:T,data:T,codeFlowValue:T,definition:a(ne),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:a(C),hardBreakEscape:a(H),hardBreakTrailing:a(H),htmlFlow:a(V,o),htmlFlowData:T,htmlText:a(V,o),htmlTextData:T,image:a(U),label:o,link:a(K),listItem:a(re),listItemValue:h,listOrdered:a(ie,f),listUnordered:a(ie),paragraph:a(X),reference:$,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:a(G),strong:a(de),thematicBreak:a(he)},exit:{atxHeading:l(),atxHeadingSequence:w,autolink:l(),autolinkEmail:ee,autolinkProtocol:ue,blockQuote:l(),characterEscapeValue:O,characterReferenceMarkerHexadecimal:Z,characterReferenceMarkerNumeric:Z,characterReferenceValue:fe,characterReference:le,codeFenced:l(g),codeFencedFence:m,codeFencedFenceInfo:p,codeFencedFenceMeta:v,codeFlowValue:O,codeIndented:l(y),codeText:l(R),codeTextData:O,data:O,definition:l(),definitionDestinationString:_,definitionLabelString:b,definitionTitleString:x,emphasis:l(),hardBreakEscape:l(N),hardBreakTrailing:l(N),htmlFlow:l(M),htmlFlowData:O,htmlText:l(E),htmlTextData:O,image:l(z),label:L,labelText:q,lineEnding:P,link:l(F),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:Q,resourceDestinationString:D,resourceTitleString:W,resource:B,setextHeading:l(A),setextHeadingLineSequence:k,setextHeadingText:j,strong:l(),thematicBreak:l()}};_B(t,(e||{}).mdastExtensions||[]);const r={};return n;function n(Y){let oe={type:"root",children:[]};const ve={stack:[oe],tokenStack:[],config:t,enter:s,exit:c,buffer:o,resume:d,data:r},Te=[];let Ue=-1;for(;++Ue<Y.length;)if(Y[Ue][1].type==="listOrdered"||Y[Ue][1].type==="listUnordered")if(Y[Ue][0]==="enter")Te.push(Ue);else{const Ke=Te.pop();Ue=i(Y,Ke,Ue)}for(Ue=-1;++Ue<Y.length;){const Ke=t[Y[Ue][0]];SB.call(Ke,Y[Ue][1].type)&&Ke[Y[Ue][1].type].call(Object.assign({sliceSerialize:Y[Ue][2].sliceSerialize},ve),Y[Ue][1])}if(ve.tokenStack.length>0){const Ke=ve.tokenStack[ve.tokenStack.length-1];(Ke[1]||vT).call(ve,void 0,Ke[0])}for(oe.position={start:va(Y.length>0?Y[0][1].start:{line:1,column:1,offset:0}),end:va(Y.length>0?Y[Y.length-2][1].end:{line:1,column:1,offset:0})},Ue=-1;++Ue<t.transforms.length;)oe=t.transforms[Ue](oe)||oe;return oe}function i(Y,oe,ve){let Te=oe-1,Ue=-1,Ke=!1,Mt,Ye,zt,cr;for(;++Te<=ve;){const rt=Y[Te];switch(rt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{rt[0]==="enter"?Ue++:Ue--,cr=void 0;break}case"lineEndingBlank":{rt[0]==="enter"&&(Mt&&!cr&&!Ue&&!zt&&(zt=Te),cr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:cr=void 0}if(!Ue&&rt[0]==="enter"&&rt[1].type==="listItemPrefix"||Ue===-1&&rt[0]==="exit"&&(rt[1].type==="listUnordered"||rt[1].type==="listOrdered")){if(Mt){let Cr=Te;for(Ye=void 0;Cr--;){const ke=Y[Cr];if(ke[1].type==="lineEnding"||ke[1].type==="lineEndingBlank"){if(ke[0]==="exit")continue;Ye&&(Y[Ye][1].type="lineEndingBlank",Ke=!0),ke[1].type="lineEnding",Ye=Cr}else if(!(ke[1].type==="linePrefix"||ke[1].type==="blockQuotePrefix"||ke[1].type==="blockQuotePrefixWhitespace"||ke[1].type==="blockQuoteMarker"||ke[1].type==="listItemIndent"))break}zt&&(!Ye||zt<Ye)&&(Mt._spread=!0),Mt.end=Object.assign({},Ye?Y[Ye][1].start:rt[1].end),Y.splice(Ye||Te,0,["exit",Mt,rt[2]]),Te++,ve++}if(rt[1].type==="listItemPrefix"){const Cr={type:"listItem",_spread:!1,start:Object.assign({},rt[1].start),end:void 0};Mt=Cr,Y.splice(Te,0,["enter",Cr,rt[2]]),Te++,ve++,zt=void 0,cr=!0}}}return Y[oe][1]._spread=Ke,ve}function a(Y,oe){return ve;function ve(Te){s.call(this,Y(Te),Te),oe&&oe.call(this,Te)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(Y,oe,ve){this.stack[this.stack.length-1].children.push(Y),this.stack.push(Y),this.tokenStack.push([oe,ve||void 0]),Y.position={start:va(oe.start),end:void 0}}function l(Y){return oe;function oe(ve){Y&&Y.call(this,ve),c.call(this,ve)}}function c(Y,oe){const ve=this.stack.pop(),Te=this.tokenStack.pop();if(Te)Te[0].type!==Y.type&&(oe?oe.call(this,Y,Te[0]):(Te[1]||vT).call(this,Y,Te[0]));else throw new Error("Cannot close `"+Y.type+"` ("+uu({start:Y.start,end:Y.end})+"): its not open");ve.position.end=va(Y.end)}function d(){return vk(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function h(Y){if(this.data.expectingFirstListItemValue){const oe=this.stack[this.stack.length-2];oe.start=Number.parseInt(this.sliceSerialize(Y),10),this.data.expectingFirstListItemValue=void 0}}function p(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.lang=Y}function v(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.meta=Y}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function g(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Y.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Y.replace(/(\r?\n|\r)$/g,"")}function b(Y){const oe=this.resume(),ve=this.stack[this.stack.length-1];ve.label=oe,ve.identifier=Jn(this.sliceSerialize(Y)).toLowerCase()}function x(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.title=Y}function _(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.url=Y}function w(Y){const oe=this.stack[this.stack.length-1];if(!oe.depth){const ve=this.sliceSerialize(Y).length;oe.depth=ve}}function j(){this.data.setextHeadingSlurpLineEnding=!0}function k(Y){const oe=this.stack[this.stack.length-1];oe.depth=this.sliceSerialize(Y).codePointAt(0)===61?1:2}function A(){this.data.setextHeadingSlurpLineEnding=void 0}function T(Y){const ve=this.stack[this.stack.length-1].children;let Te=ve[ve.length-1];(!Te||Te.type!=="text")&&(Te=ye(),Te.position={start:va(Y.start),end:void 0},ve.push(Te)),this.stack.push(Te)}function O(Y){const oe=this.stack.pop();oe.value+=this.sliceSerialize(Y),oe.position.end=va(Y.end)}function P(Y){const oe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ve=oe.children[oe.children.length-1];ve.position.end=va(Y.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(oe.type)&&(T.call(this,Y),O.call(this,Y))}function N(){this.data.atHardBreak=!0}function M(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Y}function E(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Y}function R(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Y}function F(){const Y=this.stack[this.stack.length-1];if(this.data.inReference){const oe=this.data.referenceType||"shortcut";Y.type+="Reference",Y.referenceType=oe,delete Y.url,delete Y.title}else delete Y.identifier,delete Y.label;this.data.referenceType=void 0}function z(){const Y=this.stack[this.stack.length-1];if(this.data.inReference){const oe=this.data.referenceType||"shortcut";Y.type+="Reference",Y.referenceType=oe,delete Y.url,delete Y.title}else delete Y.identifier,delete Y.label;this.data.referenceType=void 0}function q(Y){const oe=this.sliceSerialize(Y),ve=this.stack[this.stack.length-2];ve.label=Hue(oe),ve.identifier=Jn(oe).toLowerCase()}function L(){const Y=this.stack[this.stack.length-1],oe=this.resume(),ve=this.stack[this.stack.length-1];if(this.data.inReference=!0,ve.type==="link"){const Te=Y.children;ve.children=Te}else ve.alt=oe}function D(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.url=Y}function W(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.title=Y}function B(){this.data.inReference=void 0}function $(){this.data.referenceType="collapsed"}function Q(Y){const oe=this.resume(),ve=this.stack[this.stack.length-1];ve.label=oe,ve.identifier=Jn(this.sliceSerialize(Y)).toLowerCase(),this.data.referenceType="full"}function Z(Y){this.data.characterReferenceType=Y.type}function fe(Y){const oe=this.sliceSerialize(Y),ve=this.data.characterReferenceType;let Te;ve?(Te=fB(oe,ve==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Te=yk(oe);const Ue=this.stack[this.stack.length-1];Ue.value+=Te}function le(Y){const oe=this.stack.pop();oe.position.end=va(Y.end)}function ue(Y){O.call(this,Y);const oe=this.stack[this.stack.length-1];oe.url=this.sliceSerialize(Y)}function ee(Y){O.call(this,Y);const oe=this.stack[this.stack.length-1];oe.url="mailto:"+this.sliceSerialize(Y)}function te(){return{type:"blockquote",children:[]}}function ce(){return{type:"code",lang:null,meta:null,value:""}}function J(){return{type:"inlineCode",value:""}}function ne(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function C(){return{type:"emphasis",children:[]}}function G(){return{type:"heading",depth:0,children:[]}}function H(){return{type:"break"}}function V(){return{type:"html",value:""}}function U(){return{type:"image",title:null,url:"",alt:null}}function K(){return{type:"link",title:null,url:"",children:[]}}function ie(Y){return{type:"list",ordered:Y.type==="listOrdered",start:null,spread:Y._spread,children:[]}}function re(Y){return{type:"listItem",spread:Y._spread,checked:null,children:[]}}function X(){return{type:"paragraph",children:[]}}function de(){return{type:"strong",children:[]}}function ye(){return{type:"text",value:""}}function he(){return{type:"thematicBreak"}}}function va(e){return{line:e.line,column:e.column,offset:e.offset}}function _B(e,t){let r=-1;for(;++r<t.length;){const n=t[r];Array.isArray(n)?_B(e,n):Xue(e,n)}}function Xue(e,t){let r;for(r in t)if(SB.call(t,r))switch(r){case"canContainEols":{const n=t[r];n&&e[r].push(...n);break}case"transforms":{const n=t[r];n&&e[r].push(...n);break}case"enter":case"exit":{const n=t[r];n&&Object.assign(e[r],n);break}}}function vT(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+uu({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+uu({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+uu({start:t.start,end:t.end})+") is still open")}function Que(e){const t=this;t.parser=r;function r(n){return Kue(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function Jue(e,t){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,r),e.applyData(t,r)}function Zue(e,t){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,r),[e.applyData(t,r),{type:"text",value:`
`}]}function ede(e,t){const r=t.value?t.value+`
`:"",n={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(n.className=["language-"+i[0]]);let a={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function tde(e,t){const r={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function rde(e,t){const r={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function nde(e,t){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=String(t.identifier).toUpperCase(),i=ac(n.toLowerCase()),a=e.footnoteOrder.indexOf(n);let o,s=e.footnoteCounts.get(n);s===void 0?(s=0,e.footnoteOrder.push(n),o=e.footnoteOrder.length):o=a+1,s+=1,e.footnoteCounts.set(n,s);const l={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+i,id:r+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function ide(e,t){const r={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function ade(e,t){if(e.options.allowDangerousHtml){const r={type:"raw",value:t.value};return e.patch(t,r),e.applyData(t,r)}}function jB(e,t){const r=t.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+n}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=n:i.push({type:"text",value:n}),i}function ode(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return jB(e,t);const i={src:ac(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(i.title=n.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function sde(e,t){const r={src:ac(t.url)};t.alt!==null&&t.alt!==void 0&&(r.alt=t.alt),t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,n),e.applyData(t,n)}function lde(e,t){const r={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(t,n),e.applyData(t,n)}function cde(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return jB(e,t);const i={href:ac(n.url||"")};n.title!==null&&n.title!==void 0&&(i.title=n.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function ude(e,t){const r={href:ac(t.url)};t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function dde(e,t,r){const n=e.all(t),i=r?fde(r):kB(t),a={},o=[];if(typeof t.checked=="boolean"){const d=n[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},n.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let s=-1;for(;++s<n.length;){const d=n[s];(i||s!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?o.push(...d.children):o.push(d)}const l=n[n.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:a,children:o};return e.patch(t,c),e.applyData(t,c)}function fde(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const r=e.children;let n=-1;for(;!t&&++n<r.length;)t=kB(r[n])}return t}function kB(e){const t=e.spread;return t??e.children.length>1}function hde(e,t){const r={},n=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(r.start=t.start);++i<n.length;){const o=n[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:r,children:e.wrap(n,!0)};return e.patch(t,a),e.applyData(t,a)}function pde(e,t){const r={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function mde(e,t){const r={type:"root",children:e.wrap(e.all(t))};return e.patch(t,r),e.applyData(t,r)}function gde(e,t){const r={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function vde(e,t){const r=e.all(t),n=r.shift(),i=[];if(n){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(t.children[0],o),i.push(o)}if(r.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},s=hk(t.children[1]),l=iB(t.children[t.children.length-1]);s&&l&&(o.position={start:s,end:l}),i.push(o)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function yde(e,t,r){const n=r?r.children:void 0,a=(n?n.indexOf(t):1)===0?"th":"td",o=r&&r.type==="table"?r.align:void 0,s=o?o.length:t.children.length;let l=-1;const c=[];for(;++l<s;){const f=t.children[l],h={},p=o?o[l]:void 0;p&&(h.align=p);let v={type:"element",tagName:a,properties:h,children:[]};f&&(v.children=e.all(f),e.patch(f,v),v=e.applyData(f,v)),c.push(v)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,d),e.applyData(t,d)}function bde(e,t){const r={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}const yT=9,bT=32;function xde(e){const t=String(e),r=/\r?\n|\r/g;let n=r.exec(t),i=0;const a=[];for(;n;)a.push(xT(t.slice(i,n.index),i>0,!0),n[0]),i=n.index+n[0].length,n=r.exec(t);return a.push(xT(t.slice(i),i>0,!1)),a.join("")}function xT(e,t,r){let n=0,i=e.length;if(t){let a=e.codePointAt(n);for(;a===yT||a===bT;)n++,a=e.codePointAt(n)}if(r){let a=e.codePointAt(i-1);for(;a===yT||a===bT;)i--,a=e.codePointAt(i-1)}return i>n?e.slice(n,i):""}function wde(e,t){const r={type:"text",value:xde(String(t.value))};return e.patch(t,r),e.applyData(t,r)}function Sde(e,t){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,r),e.applyData(t,r)}const _de={blockquote:Jue,break:Zue,code:ede,delete:tde,emphasis:rde,footnoteReference:nde,heading:ide,html:ade,imageReference:ode,image:sde,inlineCode:lde,linkReference:cde,link:ude,listItem:dde,list:hde,paragraph:pde,root:mde,strong:gde,table:vde,tableCell:bde,tableRow:yde,text:wde,thematicBreak:Sde,toml:Pf,yaml:Pf,definition:Pf,footnoteDefinition:Pf};function Pf(){}const EB=-1,Ym=0,fu=1,Yh=2,xk=3,wk=4,Sk=5,_k=6,AB=7,OB=8,wT=typeof self=="object"?self:globalThis,jde=(e,t)=>{const r=(i,a)=>(e.set(a,i),i),n=i=>{if(e.has(i))return e.get(i);const[a,o]=t[i];switch(a){case Ym:case EB:return r(o,i);case fu:{const s=r([],i);for(const l of o)s.push(n(l));return s}case Yh:{const s=r({},i);for(const[l,c]of o)s[n(l)]=n(c);return s}case xk:return r(new Date(o),i);case wk:{const{source:s,flags:l}=o;return r(new RegExp(s,l),i)}case Sk:{const s=r(new Map,i);for(const[l,c]of o)s.set(n(l),n(c));return s}case _k:{const s=r(new Set,i);for(const l of o)s.add(n(l));return s}case AB:{const{name:s,message:l}=o;return r(new wT[s](l),i)}case OB:return r(BigInt(o),i);case"BigInt":return r(Object(BigInt(o)),i);case"ArrayBuffer":return r(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:s}=new Uint8Array(o);return r(new DataView(s),o)}}return r(new wT[a](o),i)};return n},ST=e=>jde(new Map,e)(0),ks="",{toString:kde}={},{keys:Ede}=Object,Nc=e=>{const t=typeof e;if(t!=="object"||!e)return[Ym,t];const r=kde.call(e).slice(8,-1);switch(r){case"Array":return[fu,ks];case"Object":return[Yh,ks];case"Date":return[xk,ks];case"RegExp":return[wk,ks];case"Map":return[Sk,ks];case"Set":return[_k,ks];case"DataView":return[fu,r]}return r.includes("Array")?[fu,r]:r.includes("Error")?[AB,r]:[Yh,r]},Nf=([e,t])=>e===Ym&&(t==="function"||t==="symbol"),Ade=(e,t,r,n)=>{const i=(o,s)=>{const l=n.push(o)-1;return r.set(s,l),l},a=o=>{if(r.has(o))return r.get(o);let[s,l]=Nc(o);switch(s){case Ym:{let d=o;switch(l){case"bigint":s=OB,d=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([EB],o)}return i([s,d],o)}case fu:{if(l){let h=o;return l==="DataView"?h=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(h=new Uint8Array(o)),i([l,[...h]],o)}const d=[],f=i([s,d],o);for(const h of o)d.push(a(h));return f}case Yh:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(t&&"toJSON"in o)return a(o.toJSON());const d=[],f=i([s,d],o);for(const h of Ede(o))(e||!Nf(Nc(o[h])))&&d.push([a(h),a(o[h])]);return f}case xk:return i([s,o.toISOString()],o);case wk:{const{source:d,flags:f}=o;return i([s,{source:d,flags:f}],o)}case Sk:{const d=[],f=i([s,d],o);for(const[h,p]of o)(e||!(Nf(Nc(h))||Nf(Nc(p))))&&d.push([a(h),a(p)]);return f}case _k:{const d=[],f=i([s,d],o);for(const h of o)(e||!Nf(Nc(h)))&&d.push(a(h));return f}}const{message:c}=o;return i([s,{name:l,message:c}],o)};return a},_T=(e,{json:t,lossy:r}={})=>{const n=[];return Ade(!(t||r),!!t,new Map,n)(e),n},Xh=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?ST(_T(e,t)):structuredClone(e):(e,t)=>ST(_T(e,t));function Ode(e,t){const r=[{type:"text",value:""}];return t>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),r}function Cde(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Tde(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||Ode,n=e.options.footnoteBackLabel||Cde,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const d=e.all(c),f=String(c.identifier).toUpperCase(),h=ac(f.toLowerCase());let p=0;const v=[],m=e.footnoteCounts.get(f);for(;m!==void 0&&++p<=m;){v.length>0&&v.push({type:"text",value:" "});let b=typeof r=="string"?r:r(l,p);typeof b=="string"&&(b={type:"text",value:b}),v.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(l,p),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const g=d[d.length-1];if(g&&g.type==="element"&&g.tagName==="p"){const b=g.children[g.children.length-1];b&&b.type==="text"?b.value+=" ":g.children.push({type:"text",value:" "}),g.children.push(...v)}else d.push(...v);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(d,!0)};e.patch(c,y),s.push(y)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Xh(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const Xm=(function(e){if(e==null)return Ide;if(typeof e=="function")return Qm(e);if(typeof e=="object")return Array.isArray(e)?Pde(e):Nde(e);if(typeof e=="string")return Rde(e);throw new Error("Expected function, string, or object as test")});function Pde(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=Xm(e[r]);return Qm(n);function n(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function Nde(e){const t=e;return Qm(r);function r(n){const i=n;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function Rde(e){return Qm(t);function t(r){return r&&r.type===e}}function Qm(e){return t;function t(r,n,i){return!!(Mde(r)&&e.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}function Ide(){return!0}function Mde(e){return e!==null&&typeof e=="object"&&"type"in e}const CB=[],Dde=!0,P1=!1,$de="skip";function TB(e,t,r,n){let i;typeof t=="function"&&typeof r!="function"?(n=r,r=t):i=t;const a=Xm(i),o=n?-1:1;s(e,void 0,[])();function s(l,c,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const p=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return h;function h(){let p=CB,v,m,g;if((!t||a(l,c,d[d.length-1]||void 0))&&(p=Lde(r(l,d)),p[0]===P1))return p;if("children"in l&&l.children){const y=l;if(y.children&&p[0]!==$de)for(m=(n?y.children.length:-1)+o,g=d.concat(y);m>-1&&m<y.children.length;){const b=y.children[m];if(v=s(b,m,g)(),v[0]===P1)return v;m=typeof v[1]=="number"?v[1]:m+o}}return p}}}function Lde(e){return Array.isArray(e)?e:typeof e=="number"?[Dde,e]:e==null?CB:[e]}function jk(e,t,r,n){let i,a,o;typeof t=="function"&&typeof r!="function"?(a=void 0,o=t,i=r):(a=t,o=r,i=n),TB(e,a,s,i);function s(l,c){const d=c[c.length-1],f=d?d.children.indexOf(l):void 0;return o(l,f,d)}}const N1={}.hasOwnProperty,zde={};function Fde(e,t){const r=t||zde,n=new Map,i=new Map,a=new Map,o={..._de,...r.handlers},s={all:c,applyData:qde,definitionById:n,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:o,one:l,options:r,patch:Bde,wrap:Vde};return jk(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?n:i,h=String(d.identifier).toUpperCase();f.has(h)||f.set(h,d)}}),s;function l(d,f){const h=d.type,p=s.handlers[h];if(N1.call(s.handlers,h)&&p)return p(s,d,f);if(s.options.passThrough&&s.options.passThrough.includes(h)){if("children"in d){const{children:m,...g}=d,y=Xh(g);return y.children=s.all(d),y}return Xh(d)}return(s.options.unknownHandler||Ude)(s,d,f)}function c(d){const f=[];if("children"in d){const h=d.children;let p=-1;for(;++p<h.length;){const v=s.one(h[p],d);if(v){if(p&&h[p-1].type==="break"&&(!Array.isArray(v)&&v.type==="text"&&(v.value=jT(v.value)),!Array.isArray(v)&&v.type==="element")){const m=v.children[0];m&&m.type==="text"&&(m.value=jT(m.value))}Array.isArray(v)?f.push(...v):f.push(v)}}}return f}}function Bde(e,t){e.position&&(t.position=Cle(e))}function qde(e,t){let r=t;if(e&&e.data){const n=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const o="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:o}}r.type==="element"&&a&&Object.assign(r.properties,Xh(a)),"children"in r&&r.children&&i!==null&&i!==void 0&&(r.children=i)}return r}function Ude(e,t){const r=t.data||{},n="value"in t&&!(N1.call(r,"hProperties")||N1.call(r,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Vde(e,t){const r=[];let n=-1;for(t&&r.push({type:"text",value:`
`});++n<e.length;)n&&r.push({type:"text",value:`
`}),r.push(e[n]);return t&&e.length>0&&r.push({type:"text",value:`
`}),r}function jT(e){let t=0,r=e.charCodeAt(t);for(;r===9||r===32;)t++,r=e.charCodeAt(t);return e.slice(t)}function kT(e,t){const r=Fde(e,t),n=r.one(e,void 0),i=Tde(r),a=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function Wde(e,t){return e&&"run"in e?async function(r,n){const i=kT(r,{file:n,...t});await e.run(i,n)}:function(r,n){return kT(r,{file:n,...e||t})}}function ET(e){if(e)throw e}var qv,AT;function Hde(){if(AT)return qv;AT=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):t.call(c)==="[object Array]"},a=function(c){if(!c||t.call(c)!=="[object Object]")return!1;var d=e.call(c,"constructor"),f=c.constructor&&c.constructor.prototype&&e.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!d&&!f)return!1;var h;for(h in c);return typeof h>"u"||e.call(c,h)},o=function(c,d){r&&d.name==="__proto__"?r(c,d.name,{enumerable:!0,configurable:!0,value:d.newValue,writable:!0}):c[d.name]=d.newValue},s=function(c,d){if(d==="__proto__")if(e.call(c,d)){if(n)return n(c,d).value}else return;return c[d]};return qv=function l(){var c,d,f,h,p,v,m=arguments[0],g=1,y=arguments.length,b=!1;for(typeof m=="boolean"&&(b=m,m=arguments[1]||{},g=2),(m==null||typeof m!="object"&&typeof m!="function")&&(m={});g<y;++g)if(c=arguments[g],c!=null)for(d in c)f=s(m,d),h=s(c,d),m!==h&&(b&&h&&(a(h)||(p=i(h)))?(p?(p=!1,v=f&&i(f)?f:[]):v=f&&a(f)?f:{},o(m,{name:d,newValue:l(b,v,h)})):typeof h<"u"&&o(m,{name:d,newValue:h}));return m},qv}var Gde=Hde();const Uv=ot(Gde);function R1(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Kde(){const e=[],t={run:r,use:n};return t;function r(...i){let a=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...i);function s(l,...c){const d=e[++a];let f=-1;if(l){o(l);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,d?Yde(d,s)(...c):o(null,...c)}}function n(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function Yde(e,t){let r;return n;function n(...o){const s=e.length>o.length;let l;s&&o.push(i);try{l=e.apply(this,o)}catch(c){const d=c;if(s&&r)throw d;return i(d)}s||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(o,...s){r||(r=!0,t(o,...s))}function a(o){i(null,o)}}const si={basename:Xde,dirname:Qde,extname:Jde,join:Zde,sep:"/"};function Xde(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Gd(e);let r=0,n=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){r=i+1;break}}else n<0&&(a=!0,n=i+1);return n<0?"":e.slice(r,n)}if(t===e)return"";let o=-1,s=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){r=i+1;break}}else o<0&&(a=!0,o=i+1),s>-1&&(e.codePointAt(i)===t.codePointAt(s--)?s<0&&(n=i):(s=-1,n=o));return r===n?n=o:n<0&&(n=e.length),e.slice(r,n)}function Qde(e){if(Gd(e),e.length===0)return".";let t=-1,r=e.length,n;for(;--r;)if(e.codePointAt(r)===47){if(n){t=r;break}}else n||(n=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Jde(e){Gd(e);let t=e.length,r=-1,n=0,i=-1,a=0,o;for(;t--;){const s=e.codePointAt(t);if(s===47){if(o){n=t+1;break}continue}r<0&&(o=!0,r=t+1),s===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||r<0||a===0||a===1&&i===r-1&&i===n+1?"":e.slice(i,r)}function Zde(...e){let t=-1,r;for(;++t<e.length;)Gd(e[t]),e[t]&&(r=r===void 0?e[t]:r+"/"+e[t]);return r===void 0?".":efe(r)}function efe(e){Gd(e);const t=e.codePointAt(0)===47;let r=tfe(e,!t);return r.length===0&&!t&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),t?"/"+r:r}function tfe(e,t){let r="",n=0,i=-1,a=0,o=-1,s,l;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(i===o-1||a===1))if(i!==o-1&&a===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(l=r.lastIndexOf("/"),l!==r.length-1){l<0?(r="",n=0):(r=r.slice(0,l),n=r.length-1-r.lastIndexOf("/")),i=o,a=0;continue}}else if(r.length>0){r="",n=0,i=o,a=0;continue}}t&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+e.slice(i+1,o):r=e.slice(i+1,o),n=o-i-1;i=o,a=0}else s===46&&a>-1?a++:a=-1}return r}function Gd(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const rfe={cwd:nfe};function nfe(){return"/"}function I1(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function ife(e){if(typeof e=="string")e=new URL(e);else if(!I1(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return afe(e)}function afe(e){if(e.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const t=e.pathname;let r=-1;for(;++r<t.length;)if(t.codePointAt(r)===37&&t.codePointAt(r+1)===50){const n=t.codePointAt(r+2);if(n===70||n===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Vv=["history","path","basename","stem","extname","dirname"];class PB{constructor(t){let r;t?I1(t)?r={path:t}:typeof t=="string"||ofe(t)?r={value:t}:r=t:r={},this.cwd="cwd"in r?"":rfe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<Vv.length;){const a=Vv[n];a in r&&r[a]!==void 0&&r[a]!==null&&(this[a]=a==="history"?[...r[a]]:r[a])}let i;for(i in r)Vv.includes(i)||(this[i]=r[i])}get basename(){return typeof this.path=="string"?si.basename(this.path):void 0}set basename(t){Hv(t,"basename"),Wv(t,"basename"),this.path=si.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?si.dirname(this.path):void 0}set dirname(t){OT(this.basename,"dirname"),this.path=si.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?si.extname(this.path):void 0}set extname(t){if(Wv(t,"extname"),OT(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=si.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){I1(t)&&(t=ife(t)),Hv(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?si.basename(this.path,this.extname):void 0}set stem(t){Hv(t,"stem"),Wv(t,"stem"),this.path=si.join(this.dirname||"",t+(this.extname||""))}fail(t,r,n){const i=this.message(t,r,n);throw i.fatal=!0,i}info(t,r,n){const i=this.message(t,r,n);return i.fatal=void 0,i}message(t,r,n){const i=new Or(t,r,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Wv(e,t){if(e&&e.includes(si.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+si.sep+"`")}function Hv(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function OT(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function ofe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const sfe=(function(e){const n=this.constructor.prototype,i=n[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,n),a}),lfe={}.hasOwnProperty;class kk extends sfe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Kde()}copy(){const t=new kk;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];t.use(...n)}return t.data(Uv(!0,{},this.namespace)),t}data(t,r){return typeof t=="string"?arguments.length===2?(Yv("data",this.frozen),this.namespace[t]=r,this):lfe.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Yv("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const i=r.call(t,...n);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const r=Rf(t),n=this.parser||this.Parser;return Gv("parse",n),n(String(r),r)}process(t,r){const n=this;return this.freeze(),Gv("process",this.parser||this.Parser),Kv("process",this.compiler||this.Compiler),r?i(void 0,r):new Promise(i);function i(a,o){const s=Rf(t),l=n.parse(s);n.run(l,s,function(d,f,h){if(d||!f||!h)return c(d);const p=f,v=n.stringify(p,h);dfe(v)?h.value=v:h.result=v,c(d,h)});function c(d,f){d||!f?o(d):a?a(f):r(void 0,f)}}}processSync(t){let r=!1,n;return this.freeze(),Gv("processSync",this.parser||this.Parser),Kv("processSync",this.compiler||this.Compiler),this.process(t,i),TT("processSync","process",r),n;function i(a,o){r=!0,ET(a),n=o}}run(t,r,n){CT(t),this.freeze();const i=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?a(void 0,n):new Promise(a);function a(o,s){const l=Rf(r);i.run(t,l,c);function c(d,f,h){const p=f||t;d?s(d):o?o(p):n(void 0,p,h)}}}runSync(t,r){let n=!1,i;return this.run(t,r,a),TT("runSync","run",n),i;function a(o,s){ET(o),i=s,n=!0}}stringify(t,r){this.freeze();const n=Rf(r),i=this.compiler||this.Compiler;return Kv("stringify",i),CT(t),i(t,n)}use(t,...r){const n=this.attachers,i=this.namespace;if(Yv("use",this.frozen),t!=null)if(typeof t=="function")l(t,r);else if(typeof t=="object")Array.isArray(t)?s(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...f]=c;l(d,f)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(c.plugins),c.settings&&(i.settings=Uv(!0,i.settings,c.settings))}function s(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const f=c[d];a(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,d){let f=-1,h=-1;for(;++f<n.length;)if(n[f][0]===c){h=f;break}if(h===-1)n.push([c,...d]);else if(d.length>0){let[p,...v]=d;const m=n[h][1];R1(m)&&R1(p)&&(p=Uv(!0,m,p)),n[h]=[c,p,...v]}}}}const cfe=new kk().freeze();function Gv(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Kv(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Yv(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function CT(e){if(!R1(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function TT(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Rf(e){return ufe(e)?e:new PB(e)}function ufe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function dfe(e){return typeof e=="string"||ffe(e)}function ffe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const hfe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",PT=[],NT={allowDangerousHtml:!0},pfe=/^(https?|ircs?|mailto|xmpp)$/i,mfe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function NB(e){const t=gfe(e),r=vfe(e);return yfe(t.runSync(t.parse(r),r),e)}function gfe(e){const t=e.rehypePlugins||PT,r=e.remarkPlugins||PT,n=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...NT}:NT;return cfe().use(Que).use(r).use(Wde,n).use(t)}function vfe(e){const t=e.children||"",r=new PB;return typeof t=="string"&&(r.value=t),r}function yfe(e,t){const r=t.allowedElements,n=t.allowElement,i=t.components,a=t.disallowedElements,o=t.skipHtml,s=t.unwrapDisallowed,l=t.urlTransform||bfe;for(const d of mfe)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+hfe+d.id,void 0);return jk(e,c),Ile(e,{Fragment:u.Fragment,components:i,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function c(d,f,h){if(d.type==="raw"&&h&&typeof f=="number")return o?h.children.splice(f,1):h.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let p;for(p in zv)if(Object.hasOwn(zv,p)&&Object.hasOwn(d.properties,p)){const v=d.properties[p],m=zv[p];(m===null||m.includes(d.tagName))&&(d.properties[p]=l(String(v||""),p,d))}}if(d.type==="element"){let p=r?!r.includes(d.tagName):a?a.includes(d.tagName):!1;if(!p&&n&&typeof f=="number"&&(p=!n(d,f,h)),p&&h&&typeof f=="number")return s&&d.children?h.children.splice(f,1,...d.children):h.children.splice(f,1),f}}}function bfe(e){const t=e.indexOf(":"),r=e.indexOf("?"),n=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||r!==-1&&t>r||n!==-1&&t>n||pfe.test(e.slice(0,t))?e:""}function RT(e,t){const r=String(e);if(typeof t!="string")throw new TypeError("Expected character");let n=0,i=r.indexOf(t);for(;i!==-1;)n++,i=r.indexOf(t,i+t.length);return n}function xfe(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function wfe(e,t,r){const i=Xm((r||{}).ignore||[]),a=Sfe(t);let o=-1;for(;++o<a.length;)TB(e,"text",s);function s(c,d){let f=-1,h;for(;++f<d.length;){const p=d[f],v=h?h.children:void 0;if(i(p,v?v.indexOf(p):void 0,h))return;h=p}if(h)return l(c,d)}function l(c,d){const f=d[d.length-1],h=a[o][0],p=a[o][1];let v=0;const g=f.children.indexOf(c);let y=!1,b=[];h.lastIndex=0;let x=h.exec(c.value);for(;x;){const _=x.index,w={index:x.index,input:x.input,stack:[...d,c]};let j=p(...x,w);if(typeof j=="string"&&(j=j.length>0?{type:"text",value:j}:void 0),j===!1?h.lastIndex=_+1:(v!==_&&b.push({type:"text",value:c.value.slice(v,_)}),Array.isArray(j)?b.push(...j):j&&b.push(j),v=_+x[0].length,y=!0),!h.global)break;x=h.exec(c.value)}return y?(v<c.value.length&&b.push({type:"text",value:c.value.slice(v)}),f.children.splice(g,1,...b)):b=[c],g+b.length}}function Sfe(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!e[0]||Array.isArray(e[0])?e:[e];let n=-1;for(;++n<r.length;){const i=r[n];t.push([_fe(i[0]),jfe(i[1])])}return t}function _fe(e){return typeof e=="string"?new RegExp(xfe(e),"g"):e}function jfe(e){return typeof e=="function"?e:function(){return e}}const Xv="phrasing",Qv=["autolink","link","image","label"];function kfe(){return{transforms:[Nfe],enter:{literalAutolink:Afe,literalAutolinkEmail:Jv,literalAutolinkHttp:Jv,literalAutolinkWww:Jv},exit:{literalAutolink:Pfe,literalAutolinkEmail:Tfe,literalAutolinkHttp:Ofe,literalAutolinkWww:Cfe}}}function Efe(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Xv,notInConstruct:Qv},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Xv,notInConstruct:Qv},{character:":",before:"[ps]",after:"\\/",inConstruct:Xv,notInConstruct:Qv}]}}function Afe(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Jv(e){this.config.enter.autolinkProtocol.call(this,e)}function Ofe(e){this.config.exit.autolinkProtocol.call(this,e)}function Cfe(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Tfe(e){this.config.exit.autolinkEmail.call(this,e)}function Pfe(e){this.exit(e)}function Nfe(e){wfe(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Rfe],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Ife]],{ignore:["link","linkReference"]})}function Rfe(e,t,r,n,i){let a="";if(!RB(i)||(/^w/i.test(t)&&(r=t+r,t="",a="http://"),!Mfe(r)))return!1;const o=Dfe(r+n);if(!o[0])return!1;const s={type:"link",title:null,url:a+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[s,{type:"text",value:o[1]}]:s}function Ife(e,t,r,n){return!RB(n,!0)||/[-\d_]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+r,children:[{type:"text",value:t+"@"+r}]}}function Mfe(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function Dfe(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let r=t[0],n=r.indexOf(")");const i=RT(e,"(");let a=RT(e,")");for(;n!==-1&&i>a;)e+=r.slice(0,n+1),r=r.slice(n+1),n=r.indexOf(")"),a++;return[e,r]}function RB(e,t){const r=e.input.charCodeAt(e.index-1);return(e.index===0||Zo(r)||Gm(r))&&(!t||r!==47)}IB.peek=Wfe;function $fe(){this.buffer()}function Lfe(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function zfe(){this.buffer()}function Ffe(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Bfe(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=Jn(this.sliceSerialize(e)).toLowerCase(),r.label=t}function qfe(e){this.exit(e)}function Ufe(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=Jn(this.sliceSerialize(e)).toLowerCase(),r.label=t}function Vfe(e){this.exit(e)}function Wfe(){return"["}function IB(e,t,r,n){const i=r.createTracker(n);let a=i.move("[^");const o=r.enter("footnoteReference"),s=r.enter("reference");return a+=i.move(r.safe(r.associationId(e),{after:"]",before:a})),s(),o(),a+=i.move("]"),a}function Hfe(){return{enter:{gfmFootnoteCallString:$fe,gfmFootnoteCall:Lfe,gfmFootnoteDefinitionLabelString:zfe,gfmFootnoteDefinition:Ffe},exit:{gfmFootnoteCallString:Bfe,gfmFootnoteCall:qfe,gfmFootnoteDefinitionLabelString:Ufe,gfmFootnoteDefinition:Vfe}}}function Gfe(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:r,footnoteReference:IB},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function r(n,i,a,o){const s=a.createTracker(o);let l=s.move("[^");const c=a.enter("footnoteDefinition"),d=a.enter("label");return l+=s.move(a.safe(a.associationId(n),{before:l,after:"]"})),d(),l+=s.move("]:"),n.children&&n.children.length>0&&(s.shift(4),l+=s.move((t?`
`:" ")+a.indentLines(a.containerFlow(n,s.current()),t?MB:Kfe))),c(),l}}function Kfe(e,t,r){return t===0?e:MB(e,t,r)}function MB(e,t,r){return(r?"":"    ")+e}const Yfe=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];DB.peek=ehe;function Xfe(){return{canContainEols:["delete"],enter:{strikethrough:Jfe},exit:{strikethrough:Zfe}}}function Qfe(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Yfe}],handlers:{delete:DB}}}function Jfe(e){this.enter({type:"delete",children:[]},e)}function Zfe(e){this.exit(e)}function DB(e,t,r,n){const i=r.createTracker(n),a=r.enter("strikethrough");let o=i.move("~~");return o+=r.containerPhrasing(e,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),a(),o}function ehe(){return"~"}function the(e){return e.length}function rhe(e,t){const r=t||{},n=(r.align||[]).concat(),i=r.stringLength||the,a=[],o=[],s=[],l=[];let c=0,d=-1;for(;++d<e.length;){const m=[],g=[];let y=-1;for(e[d].length>c&&(c=e[d].length);++y<e[d].length;){const b=nhe(e[d][y]);if(r.alignDelimiters!==!1){const x=i(b);g[y]=x,(l[y]===void 0||x>l[y])&&(l[y]=x)}m.push(b)}o[d]=m,s[d]=g}let f=-1;if(typeof n=="object"&&"length"in n)for(;++f<c;)a[f]=IT(n[f]);else{const m=IT(n);for(;++f<c;)a[f]=m}f=-1;const h=[],p=[];for(;++f<c;){const m=a[f];let g="",y="";m===99?(g=":",y=":"):m===108?g=":":m===114&&(y=":");let b=r.alignDelimiters===!1?1:Math.max(1,l[f]-g.length-y.length);const x=g+"-".repeat(b)+y;r.alignDelimiters!==!1&&(b=g.length+b+y.length,b>l[f]&&(l[f]=b),p[f]=b),h[f]=x}o.splice(1,0,h),s.splice(1,0,p),d=-1;const v=[];for(;++d<o.length;){const m=o[d],g=s[d];f=-1;const y=[];for(;++f<c;){const b=m[f]||"";let x="",_="";if(r.alignDelimiters!==!1){const w=l[f]-(g[f]||0),j=a[f];j===114?x=" ".repeat(w):j===99?w%2?(x=" ".repeat(w/2+.5),_=" ".repeat(w/2-.5)):(x=" ".repeat(w/2),_=x):_=" ".repeat(w)}r.delimiterStart!==!1&&!f&&y.push("|"),r.padding!==!1&&!(r.alignDelimiters===!1&&b==="")&&(r.delimiterStart!==!1||f)&&y.push(" "),r.alignDelimiters!==!1&&y.push(x),y.push(b),r.alignDelimiters!==!1&&y.push(_),r.padding!==!1&&y.push(" "),(r.delimiterEnd!==!1||f!==c-1)&&y.push("|")}v.push(r.delimiterEnd===!1?y.join("").replace(/ +$/,""):y.join(""))}return v.join(`
`)}function nhe(e){return e==null?"":String(e)}function IT(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function ihe(e,t,r,n){const i=r.enter("blockquote"),a=r.createTracker(n);a.move("> "),a.shift(2);const o=r.indentLines(r.containerFlow(e,a.current()),ahe);return i(),o}function ahe(e,t,r){return">"+(r?"":" ")+e}function ohe(e,t){return MT(e,t.inConstruct,!0)&&!MT(e,t.notInConstruct,!1)}function MT(e,t,r){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return r;let n=-1;for(;++n<t.length;)if(e.includes(t[n]))return!0;return!1}function DT(e,t,r,n){let i=-1;for(;++i<r.unsafe.length;)if(r.unsafe[i].character===`
`&&ohe(r.stack,r.unsafe[i]))return/[ \t]/.test(n.before)?"":" ";return`\\
`}function she(e,t){const r=String(e);let n=r.indexOf(t),i=n,a=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;n!==-1;)n===i?++a>o&&(o=a):a=1,i=n+t.length,n=r.indexOf(t,i);return o}function lhe(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function che(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function uhe(e,t,r,n){const i=che(r),a=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(lhe(e,r)){const f=r.enter("codeIndented"),h=r.indentLines(a,dhe);return f(),h}const s=r.createTracker(n),l=i.repeat(Math.max(she(a,i)+1,3)),c=r.enter("codeFenced");let d=s.move(l);if(e.lang){const f=r.enter(`codeFencedLang${o}`);d+=s.move(r.safe(e.lang,{before:d,after:" ",encode:["`"],...s.current()})),f()}if(e.lang&&e.meta){const f=r.enter(`codeFencedMeta${o}`);d+=s.move(" "),d+=s.move(r.safe(e.meta,{before:d,after:`
`,encode:["`"],...s.current()})),f()}return d+=s.move(`
`),a&&(d+=s.move(a+`
`)),d+=s.move(l),c(),d}function dhe(e,t,r){return(r?"":"    ")+e}function Ek(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function fhe(e,t,r,n){const i=Ek(r),a=i==='"'?"Quote":"Apostrophe",o=r.enter("definition");let s=r.enter("label");const l=r.createTracker(n);let c=l.move("[");return c+=l.move(r.safe(r.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=r.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(r.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=r.enter("destinationRaw"),c+=l.move(r.safe(e.url,{before:c,after:e.title?" ":`
`,...l.current()}))),s(),e.title&&(s=r.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(r.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),s()),o(),c}function hhe(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Vu(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Qh(e,t,r){const n=dl(e),i=dl(t);return n===void 0?i===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:n===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}$B.peek=phe;function $B(e,t,r,n){const i=hhe(r),a=r.enter("emphasis"),o=r.createTracker(n),s=o.move(i);let l=o.move(r.containerPhrasing(e,{after:i,before:s,...o.current()}));const c=l.charCodeAt(0),d=Qh(n.before.charCodeAt(n.before.length-1),c,i);d.inside&&(l=Vu(c)+l.slice(1));const f=l.charCodeAt(l.length-1),h=Qh(n.after.charCodeAt(0),f,i);h.inside&&(l=l.slice(0,-1)+Vu(f));const p=o.move(i);return a(),r.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},s+l+p}function phe(e,t,r){return r.options.emphasis||"*"}function mhe(e,t){let r=!1;return jk(e,function(n){if("value"in n&&/\r?\n|\r/.test(n.value)||n.type==="break")return r=!0,P1}),!!((!e.depth||e.depth<3)&&vk(e)&&(t.options.setext||r))}function ghe(e,t,r,n){const i=Math.max(Math.min(6,e.depth||1),1),a=r.createTracker(n);if(mhe(e,r)){const d=r.enter("headingSetext"),f=r.enter("phrasing"),h=r.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return f(),d(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const o="#".repeat(i),s=r.enter("headingAtx"),l=r.enter("phrasing");a.move(o+" ");let c=r.containerPhrasing(e,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(c)&&(c=Vu(c.charCodeAt(0))+c.slice(1)),c=c?o+" "+c:o,r.options.closeAtx&&(c+=" "+o),l(),s(),c}LB.peek=vhe;function LB(e){return e.value||""}function vhe(){return"<"}zB.peek=yhe;function zB(e,t,r,n){const i=Ek(r),a=i==='"'?"Quote":"Apostrophe",o=r.enter("image");let s=r.enter("label");const l=r.createTracker(n);let c=l.move("![");return c+=l.move(r.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=r.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(r.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=r.enter("destinationRaw"),c+=l.move(r.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),s(),e.title&&(s=r.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(r.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),s()),c+=l.move(")"),o(),c}function yhe(){return"!"}FB.peek=bhe;function FB(e,t,r,n){const i=e.referenceType,a=r.enter("imageReference");let o=r.enter("label");const s=r.createTracker(n);let l=s.move("![");const c=r.safe(e.alt,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),o();const d=r.stack;r.stack=[],o=r.enter("reference");const f=r.safe(r.associationId(e),{before:l,after:"]",...s.current()});return o(),r.stack=d,a(),i==="full"||!c||c!==f?l+=s.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function bhe(){return"!"}BB.peek=xhe;function BB(e,t,r){let n=e.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(n);)i+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++a<r.unsafe.length;){const o=r.unsafe[a],s=r.compilePattern(o);let l;if(o.atBreak)for(;l=s.exec(n);){let c=l.index;n.charCodeAt(c)===10&&n.charCodeAt(c-1)===13&&c--,n=n.slice(0,c)+" "+n.slice(l.index+1)}}return i+n+i}function xhe(){return"`"}function qB(e,t){const r=vk(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(r===e.url||"mailto:"+r===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}UB.peek=whe;function UB(e,t,r,n){const i=Ek(r),a=i==='"'?"Quote":"Apostrophe",o=r.createTracker(n);let s,l;if(qB(e,r)){const d=r.stack;r.stack=[],s=r.enter("autolink");let f=o.move("<");return f+=o.move(r.containerPhrasing(e,{before:f,after:">",...o.current()})),f+=o.move(">"),s(),r.stack=d,f}s=r.enter("link"),l=r.enter("label");let c=o.move("[");return c+=o.move(r.containerPhrasing(e,{before:c,after:"](",...o.current()})),c+=o.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=r.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(r.safe(e.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(l=r.enter("destinationRaw"),c+=o.move(r.safe(e.url,{before:c,after:e.title?" ":")",...o.current()}))),l(),e.title&&(l=r.enter(`title${a}`),c+=o.move(" "+i),c+=o.move(r.safe(e.title,{before:c,after:i,...o.current()})),c+=o.move(i),l()),c+=o.move(")"),s(),c}function whe(e,t,r){return qB(e,r)?"<":"["}VB.peek=She;function VB(e,t,r,n){const i=e.referenceType,a=r.enter("linkReference");let o=r.enter("label");const s=r.createTracker(n);let l=s.move("[");const c=r.containerPhrasing(e,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),o();const d=r.stack;r.stack=[],o=r.enter("reference");const f=r.safe(r.associationId(e),{before:l,after:"]",...s.current()});return o(),r.stack=d,a(),i==="full"||!c||c!==f?l+=s.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function She(){return"["}function Ak(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function _he(e){const t=Ak(e),r=e.options.bulletOther;if(!r)return t==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+r+"`) to be different");return r}function jhe(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function WB(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function khe(e,t,r,n){const i=r.enter("list"),a=r.bulletCurrent;let o=e.ordered?jhe(r):Ak(r);const s=e.ordered?o==="."?")":".":_he(r);let l=t&&r.bulletLastUsed?o===r.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&d&&(!d.children||!d.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(l=!0),WB(r)===o&&d){let f=-1;for(;++f<e.children.length;){const h=e.children[f];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=s),r.bulletCurrent=o;const c=r.containerFlow(e,n);return r.bulletLastUsed=o,r.bulletCurrent=a,i(),c}function Ehe(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Ahe(e,t,r,n){const i=Ehe(r);let a=r.bulletCurrent||Ak(r);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(r.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let o=a.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const s=r.createTracker(n);s.move(a+" ".repeat(o-a.length)),s.shift(o);const l=r.enter("listItem"),c=r.indentLines(r.containerFlow(e,s.current()),d);return l(),c;function d(f,h,p){return h?(p?"":" ".repeat(o))+f:(p?a:a+" ".repeat(o-a.length))+f}}function Ohe(e,t,r,n){const i=r.enter("paragraph"),a=r.enter("phrasing"),o=r.containerPhrasing(e,n);return a(),i(),o}const Che=Xm(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function The(e,t,r,n){return(e.children.some(function(o){return Che(o)})?r.containerPhrasing:r.containerFlow).call(r,e,n)}function Phe(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}HB.peek=Nhe;function HB(e,t,r,n){const i=Phe(r),a=r.enter("strong"),o=r.createTracker(n),s=o.move(i+i);let l=o.move(r.containerPhrasing(e,{after:i,before:s,...o.current()}));const c=l.charCodeAt(0),d=Qh(n.before.charCodeAt(n.before.length-1),c,i);d.inside&&(l=Vu(c)+l.slice(1));const f=l.charCodeAt(l.length-1),h=Qh(n.after.charCodeAt(0),f,i);h.inside&&(l=l.slice(0,-1)+Vu(f));const p=o.move(i+i);return a(),r.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},s+l+p}function Nhe(e,t,r){return r.options.strong||"*"}function Rhe(e,t,r,n){return r.safe(e.value,n)}function Ihe(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function Mhe(e,t,r){const n=(WB(r)+(r.options.ruleSpaces?" ":"")).repeat(Ihe(r));return r.options.ruleSpaces?n.slice(0,-1):n}const GB={blockquote:ihe,break:DT,code:uhe,definition:fhe,emphasis:$B,hardBreak:DT,heading:ghe,html:LB,image:zB,imageReference:FB,inlineCode:BB,link:UB,linkReference:VB,list:khe,listItem:Ahe,paragraph:Ohe,root:The,strong:HB,text:Rhe,thematicBreak:Mhe};function Dhe(){return{enter:{table:$he,tableData:$T,tableHeader:$T,tableRow:zhe},exit:{codeText:Fhe,table:Lhe,tableData:Zv,tableHeader:Zv,tableRow:Zv}}}function $he(e){const t=e._align;this.enter({type:"table",align:t.map(function(r){return r==="none"?null:r}),children:[]},e),this.data.inTable=!0}function Lhe(e){this.exit(e),this.data.inTable=void 0}function zhe(e){this.enter({type:"tableRow",children:[]},e)}function Zv(e){this.exit(e)}function $T(e){this.enter({type:"tableCell",children:[]},e)}function Fhe(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Bhe));const r=this.stack[this.stack.length-1];r.type,r.value=t,this.exit(e)}function Bhe(e,t){return t==="|"?t:e}function qhe(e){const t=e||{},r=t.tableCellPadding,n=t.tablePipeAlign,i=t.stringLength,a=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:o,tableCell:l,tableRow:s}};function o(p,v,m,g){return c(d(p,m,g),p.align)}function s(p,v,m,g){const y=f(p,m,g),b=c([y]);return b.slice(0,b.indexOf(`
`))}function l(p,v,m,g){const y=m.enter("tableCell"),b=m.enter("phrasing"),x=m.containerPhrasing(p,{...g,before:a,after:a});return b(),y(),x}function c(p,v){return rhe(p,{align:v,alignDelimiters:n,padding:r,stringLength:i})}function d(p,v,m){const g=p.children;let y=-1;const b=[],x=v.enter("table");for(;++y<g.length;)b[y]=f(g[y],v,m);return x(),b}function f(p,v,m){const g=p.children;let y=-1;const b=[],x=v.enter("tableRow");for(;++y<g.length;)b[y]=l(g[y],p,v,m);return x(),b}function h(p,v,m){let g=GB.inlineCode(p,v,m);return m.stack.includes("tableCell")&&(g=g.replace(/\|/g,"\\$&")),g}}function Uhe(){return{exit:{taskListCheckValueChecked:LT,taskListCheckValueUnchecked:LT,paragraph:Whe}}}function Vhe(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Hhe}}}function LT(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function Whe(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const r=this.stack[this.stack.length-1];r.type;const n=r.children[0];if(n&&n.type==="text"){const i=t.children;let a=-1,o;for(;++a<i.length;){const s=i[a];if(s.type==="paragraph"){o=s;break}}o===r&&(n.value=n.value.slice(1),n.value.length===0?r.children.shift():r.position&&n.position&&typeof n.position.start.offset=="number"&&(n.position.start.column++,n.position.start.offset++,r.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function Hhe(e,t,r,n){const i=e.children[0],a=typeof e.checked=="boolean"&&i&&i.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",s=r.createTracker(n);a&&s.move(o);let l=GB.listItem(e,t,r,{...n,...s.current()});return a&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(d){return d+o}}function Ghe(){return[kfe(),Hfe(),Xfe(),Dhe(),Uhe()]}function Khe(e){return{extensions:[Efe(),Gfe(e),Qfe(),qhe(e),Vhe()]}}const Yhe={tokenize:tpe,partial:!0},KB={tokenize:rpe,partial:!0},YB={tokenize:npe,partial:!0},XB={tokenize:ipe,partial:!0},Xhe={tokenize:ape,partial:!0},QB={name:"wwwAutolink",tokenize:Zhe,previous:ZB},JB={name:"protocolAutolink",tokenize:epe,previous:e6},ua={name:"emailAutolink",tokenize:Jhe,previous:t6},Pi={};function Qhe(){return{text:Pi}}let mo=48;for(;mo<123;)Pi[mo]=ua,mo++,mo===58?mo=65:mo===91&&(mo=97);Pi[43]=ua;Pi[45]=ua;Pi[46]=ua;Pi[95]=ua;Pi[72]=[ua,JB];Pi[104]=[ua,JB];Pi[87]=[ua,QB];Pi[119]=[ua,QB];function Jhe(e,t,r){const n=this;let i,a;return o;function o(f){return!M1(f)||!t6.call(n,n.previous)||Ok(n.events)?r(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(f))}function s(f){return M1(f)?(e.consume(f),s):f===64?(e.consume(f),l):r(f)}function l(f){return f===46?e.check(Xhe,d,c)(f):f===45||f===95||Er(f)?(a=!0,e.consume(f),l):d(f)}function c(f){return e.consume(f),i=!0,l}function d(f){return a&&i&&Ir(n.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):r(f)}}function Zhe(e,t,r){const n=this;return i;function i(o){return o!==87&&o!==119||!ZB.call(n,n.previous)||Ok(n.events)?r(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Yhe,e.attempt(KB,e.attempt(YB,a),r),r)(o))}function a(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function epe(e,t,r){const n=this;let i="",a=!1;return o;function o(f){return(f===72||f===104)&&e6.call(n,n.previous)&&!Ok(n.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),e.consume(f),s):r(f)}function s(f){if(Ir(f)&&i.length<5)return i+=String.fromCodePoint(f),e.consume(f),s;if(f===58){const h=i.toLowerCase();if(h==="http"||h==="https")return e.consume(f),l}return r(f)}function l(f){return f===47?(e.consume(f),a?c:(a=!0,l)):r(f)}function c(f){return f===null||Kh(f)||_t(f)||Zo(f)||Gm(f)?r(f):e.attempt(KB,e.attempt(YB,d),r)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function tpe(e,t,r){let n=0;return i;function i(o){return(o===87||o===119)&&n<3?(n++,e.consume(o),i):o===46&&n===3?(e.consume(o),a):r(o)}function a(o){return o===null?r(o):t(o)}}function rpe(e,t,r){let n,i,a;return o;function o(c){return c===46||c===95?e.check(XB,l,s)(c):c===null||_t(c)||Zo(c)||c!==45&&Gm(c)?l(c):(a=!0,e.consume(c),o)}function s(c){return c===95?n=!0:(i=n,n=void 0),e.consume(c),o}function l(c){return i||n||!a?r(c):t(c)}}function npe(e,t){let r=0,n=0;return i;function i(o){return o===40?(r++,e.consume(o),i):o===41&&n<r?a(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(XB,t,a)(o):o===null||_t(o)||Zo(o)?t(o):(e.consume(o),i)}function a(o){return o===41&&n++,e.consume(o),i}}function ipe(e,t,r){return n;function n(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(e.consume(s),n):s===38?(e.consume(s),a):s===93?(e.consume(s),i):s===60||s===null||_t(s)||Zo(s)?t(s):r(s)}function i(s){return s===null||s===40||s===91||_t(s)||Zo(s)?t(s):n(s)}function a(s){return Ir(s)?o(s):r(s)}function o(s){return s===59?(e.consume(s),n):Ir(s)?(e.consume(s),o):r(s)}}function ape(e,t,r){return n;function n(a){return e.consume(a),i}function i(a){return Er(a)?r(a):t(a)}}function ZB(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||_t(e)}function e6(e){return!Ir(e)}function t6(e){return!(e===47||M1(e))}function M1(e){return e===43||e===45||e===46||e===95||Er(e)}function Ok(e){let t=e.length,r=!1;for(;t--;){const n=e[t][1];if((n.type==="labelLink"||n.type==="labelImage")&&!n._balanced){r=!0;break}if(n._gfmAutolinkLiteralWalkedInto){r=!1;break}}return e.length>0&&!r&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}const ope={tokenize:ppe,partial:!0};function spe(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:dpe,continuation:{tokenize:fpe},exit:hpe}},text:{91:{name:"gfmFootnoteCall",tokenize:upe},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:lpe,resolveTo:cpe}}}}function lpe(e,t,r){const n=this;let i=n.events.length;const a=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let o;for(;i--;){const l=n.events[i][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return s;function s(l){if(!o||!o._balanced)return r(l);const c=Jn(n.sliceSerialize({start:o.end,end:n.now()}));return c.codePointAt(0)!==94||!a.includes(c.slice(1))?r(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function cpe(e,t){let r=e.length;for(;r--;)if(e[r][1].type==="labelImage"&&e[r][0]==="enter"){e[r][1];break}e[r+1][1].type="data",e[r+3][1].type="gfmFootnoteCallLabelMarker";const n={type:"gfmFootnoteCall",start:Object.assign({},e[r+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[r+3][1].end),end:Object.assign({},e[r+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},s=[e[r+1],e[r+2],["enter",n,t],e[r+3],e[r+4],["enter",i,t],["exit",i,t],["enter",a,t],["enter",o,t],["exit",o,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",n,t]];return e.splice(r,e.length-r+1,...s),e}function upe(e,t,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let a=0,o;return s;function s(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?r(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(f){if(a>999||f===93&&!o||f===null||f===91||_t(f))return r(f);if(f===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return i.includes(Jn(n.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):r(f)}return _t(f)||(o=!0),a++,e.consume(f),f===92?d:c}function d(f){return f===91||f===92||f===93?(e.consume(f),a++,c):c(f)}}function dpe(e,t,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let a,o=0,s;return l;function l(v){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(v),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(v){return v===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(v),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):r(v)}function d(v){if(o>999||v===93&&!s||v===null||v===91||_t(v))return r(v);if(v===93){e.exit("chunkString");const m=e.exit("gfmFootnoteDefinitionLabelString");return a=Jn(n.sliceSerialize(m)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(v),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return _t(v)||(s=!0),o++,e.consume(v),v===92?f:d}function f(v){return v===91||v===92||v===93?(e.consume(v),o++,d):d(v)}function h(v){return v===58?(e.enter("definitionMarker"),e.consume(v),e.exit("definitionMarker"),i.includes(a)||i.push(a),at(e,p,"gfmFootnoteDefinitionWhitespace")):r(v)}function p(v){return t(v)}}function fpe(e,t,r){return e.check(Hd,t,e.attempt(ope,t,r))}function hpe(e){e.exit("gfmFootnoteDefinition")}function ppe(e,t,r){const n=this;return at(e,i,"gfmFootnoteDefinitionIndent",5);function i(a){const o=n.events[n.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(a):r(a)}}function mpe(e){let r=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:a,resolveAll:i};return r==null&&(r=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function i(o,s){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let c=l;for(;c--;)if(o[c][0]==="exit"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[c][1].end.offset-o[c][1].start.offset){o[l][1].type="strikethroughSequence",o[c][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},o[c][1].start),end:Object.assign({},o[l][1].end)},f={type:"strikethroughText",start:Object.assign({},o[c][1].end),end:Object.assign({},o[l][1].start)},h=[["enter",d,s],["enter",o[c][1],s],["exit",o[c][1],s],["enter",f,s]],p=s.parser.constructs.insideSpan.null;p&&cn(h,h.length,0,Km(p,o.slice(c+1,l),s)),cn(h,h.length,0,[["exit",f,s],["enter",o[l][1],s],["exit",o[l][1],s],["exit",d,s]]),cn(o,c-1,l-c+3,h),l=c+h.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function a(o,s,l){const c=this.previous,d=this.events;let f=0;return h;function h(v){return c===126&&d[d.length-1][1].type!=="characterEscape"?l(v):(o.enter("strikethroughSequenceTemporary"),p(v))}function p(v){const m=dl(c);if(v===126)return f>1?l(v):(o.consume(v),f++,p);if(f<2&&!r)return l(v);const g=o.exit("strikethroughSequenceTemporary"),y=dl(v);return g._open=!y||y===2&&!!m,g._close=!m||m===2&&!!y,s(v)}}}class gpe{constructor(){this.map=[]}add(t,r,n){vpe(this,t,r,n)}consume(t){if(this.map.sort(function(a,o){return a[0]-o[0]}),this.map.length===0)return;let r=this.map.length;const n=[];for(;r>0;)r-=1,n.push(t.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),t.length=this.map[r][0];n.push(t.slice()),t.length=0;let i=n.pop();for(;i;){for(const a of i)t.push(a);i=n.pop()}this.map.length=0}}function vpe(e,t,r,n){let i=0;if(!(r===0&&n.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=r,e.map[i][2].push(...n);return}i+=1}e.map.push([t,r,n])}}function ype(e,t){let r=!1;const n=[];for(;t<e.length;){const i=e[t];if(r){if(i[0]==="enter")i[1].type==="tableContent"&&n.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=n.length-1;n[a]=n[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(r=!0);t+=1}return n}function bpe(){return{flow:{null:{name:"table",tokenize:xpe,resolveAll:wpe}}}}function xpe(e,t,r){const n=this;let i=0,a=0,o;return s;function s(O){let P=n.events.length-1;for(;P>-1;){const E=n.events[P][1].type;if(E==="lineEnding"||E==="linePrefix")P--;else break}const N=P>-1?n.events[P][1].type:null,M=N==="tableHead"||N==="tableRow"?j:l;return M===j&&n.parser.lazy[n.now().line]?r(O):M(O)}function l(O){return e.enter("tableHead"),e.enter("tableRow"),c(O)}function c(O){return O===124||(o=!0,a+=1),d(O)}function d(O){return O===null?r(O):Me(O)?a>1?(a=0,n.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(O),e.exit("lineEnding"),p):r(O):Ze(O)?at(e,d,"whitespace")(O):(a+=1,o&&(o=!1,i+=1),O===124?(e.enter("tableCellDivider"),e.consume(O),e.exit("tableCellDivider"),o=!0,d):(e.enter("data"),f(O)))}function f(O){return O===null||O===124||_t(O)?(e.exit("data"),d(O)):(e.consume(O),O===92?h:f)}function h(O){return O===92||O===124?(e.consume(O),f):f(O)}function p(O){return n.interrupt=!1,n.parser.lazy[n.now().line]?r(O):(e.enter("tableDelimiterRow"),o=!1,Ze(O)?at(e,v,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(O):v(O))}function v(O){return O===45||O===58?g(O):O===124?(o=!0,e.enter("tableCellDivider"),e.consume(O),e.exit("tableCellDivider"),m):w(O)}function m(O){return Ze(O)?at(e,g,"whitespace")(O):g(O)}function g(O){return O===58?(a+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(O),e.exit("tableDelimiterMarker"),y):O===45?(a+=1,y(O)):O===null||Me(O)?_(O):w(O)}function y(O){return O===45?(e.enter("tableDelimiterFiller"),b(O)):w(O)}function b(O){return O===45?(e.consume(O),b):O===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(O),e.exit("tableDelimiterMarker"),x):(e.exit("tableDelimiterFiller"),x(O))}function x(O){return Ze(O)?at(e,_,"whitespace")(O):_(O)}function _(O){return O===124?v(O):O===null||Me(O)?!o||i!==a?w(O):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(O)):w(O)}function w(O){return r(O)}function j(O){return e.enter("tableRow"),k(O)}function k(O){return O===124?(e.enter("tableCellDivider"),e.consume(O),e.exit("tableCellDivider"),k):O===null||Me(O)?(e.exit("tableRow"),t(O)):Ze(O)?at(e,k,"whitespace")(O):(e.enter("data"),A(O))}function A(O){return O===null||O===124||_t(O)?(e.exit("data"),k(O)):(e.consume(O),O===92?T:A)}function T(O){return O===92||O===124?(e.consume(O),A):A(O)}}function wpe(e,t){let r=-1,n=!0,i=0,a=[0,0,0,0],o=[0,0,0,0],s=!1,l=0,c,d,f;const h=new gpe;for(;++r<e.length;){const p=e[r],v=p[1];p[0]==="enter"?v.type==="tableHead"?(s=!1,l!==0&&(zT(h,t,l,c,d),d=void 0,l=0),c={type:"table",start:Object.assign({},v.start),end:Object.assign({},v.end)},h.add(r,0,[["enter",c,t]])):v.type==="tableRow"||v.type==="tableDelimiterRow"?(n=!0,f=void 0,a=[0,0,0,0],o=[0,r+1,0,0],s&&(s=!1,d={type:"tableBody",start:Object.assign({},v.start),end:Object.assign({},v.end)},h.add(r,0,[["enter",d,t]])),i=v.type==="tableDelimiterRow"?2:d?3:1):i&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")?(n=!1,o[2]===0&&(a[1]!==0&&(o[0]=o[1],f=If(h,t,a,i,void 0,f),a=[0,0,0,0]),o[2]=r)):v.type==="tableCellDivider"&&(n?n=!1:(a[1]!==0&&(o[0]=o[1],f=If(h,t,a,i,void 0,f)),a=o,o=[a[1],r,0,0])):v.type==="tableHead"?(s=!0,l=r):v.type==="tableRow"||v.type==="tableDelimiterRow"?(l=r,a[1]!==0?(o[0]=o[1],f=If(h,t,a,i,r,f)):o[1]!==0&&(f=If(h,t,o,i,r,f)),i=0):i&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")&&(o[3]=r)}for(l!==0&&zT(h,t,l,c,d),h.consume(t.events),r=-1;++r<t.events.length;){const p=t.events[r];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=ype(t.events,r))}return e}function If(e,t,r,n,i,a){const o=n===1?"tableHeader":n===2?"tableDelimiter":"tableData",s="tableContent";r[0]!==0&&(a.end=Object.assign({},Ns(t.events,r[0])),e.add(r[0],0,[["exit",a,t]]));const l=Ns(t.events,r[1]);if(a={type:o,start:Object.assign({},l),end:Object.assign({},l)},e.add(r[1],0,[["enter",a,t]]),r[2]!==0){const c=Ns(t.events,r[2]),d=Ns(t.events,r[3]),f={type:s,start:Object.assign({},c),end:Object.assign({},d)};if(e.add(r[2],0,[["enter",f,t]]),n!==2){const h=t.events[r[2]],p=t.events[r[3]];if(h[1].end=Object.assign({},p[1].end),h[1].type="chunkText",h[1].contentType="text",r[3]>r[2]+1){const v=r[2]+1,m=r[3]-r[2]-1;e.add(v,m,[])}}e.add(r[3]+1,0,[["exit",f,t]])}return i!==void 0&&(a.end=Object.assign({},Ns(t.events,i)),e.add(i,0,[["exit",a,t]]),a=void 0),a}function zT(e,t,r,n,i){const a=[],o=Ns(t.events,r);i&&(i.end=Object.assign({},o),a.push(["exit",i,t])),n.end=Object.assign({},o),a.push(["exit",n,t]),e.add(r+1,0,a)}function Ns(e,t){const r=e[t],n=r[0]==="enter"?"start":"end";return r[1][n]}const Spe={name:"tasklistCheck",tokenize:jpe};function _pe(){return{text:{91:Spe}}}function jpe(e,t,r){const n=this;return i;function i(l){return n.previous!==null||!n._gfmTasklistFirstContentOfListItem?r(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),a)}function a(l){return _t(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),o):r(l)}function o(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):r(l)}function s(l){return Me(l)?t(l):Ze(l)?e.check({tokenize:kpe},t,r)(l):r(l)}}function kpe(e,t,r){return at(e,n,"whitespace");function n(i){return i===null?r(i):t(i)}}function Epe(e){return dB([Qhe(),spe(),mpe(e),bpe(),_pe()])}const Ape={};function r6(e){const t=this,r=e||Ape,n=t.data(),i=n.micromarkExtensions||(n.micromarkExtensions=[]),a=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),o=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);i.push(Epe(r)),a.push(Ghe()),o.push(Khe(r))}function Ope(){const[e,t]=S.useState(!1),[r,n]=S.useState(""),[i,a]=S.useState("preview"),[o,s]=S.useState(!1),[l,c]=S.useState("idle");return S.useEffect(()=>{(async()=>{const{data:{session:f}}=await be.auth.getSession();if(!f)return;const{data:h,error:p}=await be.from("user_memos").select("content").eq("user_id",f.user.id).single();h?n(h.content||""):p||n(`# Note

Scrivi qui i tuoi appunti...`)})()},[]),S.useEffect(()=>{c("idle");const d=setTimeout(async()=>{const{data:{session:f}}=await be.auth.getSession();if(!f)return;c("saving");const{error:h}=await be.from("user_memos").upsert({user_id:f.user.id,content:r,updated_at:new Date().toISOString()},{onConflict:"user_id"});h?(console.error("Error saving memo:",h),c("error"),We.error("Errore salvataggio nota: "+(h.message||"Errore sconosciuto"))):c("saved")},1e3);return()=>clearTimeout(d)},[r]),u.jsxs(Lm,{open:e,onOpenChange:t,children:[u.jsx(Gj,{asChild:!0,children:u.jsx(Ce,{variant:"outline",size:"icon",className:"h-10 w-10 sm:h-9 sm:w-9",title:"Memo / Appunti",children:u.jsx(C_,{className:"h-4 w-4"})})}),u.jsxs(zd,{className:ae("flex flex-col gap-0 p-0 sm:max-w-xl transition-all duration-300 [&>button:last-child]:hidden",o?"w-[95vw] h-[95vh] sm:max-w-[95vw]":"h-[80vh]"),children:[u.jsx(Bd,{className:"sr-only",children:"Editor di testo in markdown per appunti temporanei e veloci."}),u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border/40",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Fd,{className:"font-semibold text-lg",children:"Memo"}),u.jsx("span",{className:"text-xs text-muted-foreground bg-muted/50 px-2 py-0.5 rounded",children:".md support"}),u.jsxs("div",{className:"flex items-center gap-1.5 ml-2 text-xs transition-all duration-300",children:[l==="saving"&&u.jsxs(u.Fragment,{children:[u.jsx(Qn,{className:"w-3 h-3 animate-spin text-muted-foreground"}),u.jsx("span",{className:"text-muted-foreground",children:"Salvataggio..."})]}),l==="saved"&&u.jsxs(u.Fragment,{children:[u.jsx(ci,{className:"w-3 h-3 text-green-500"}),u.jsx("span",{className:"text-green-500 font-medium",children:"Salvato"})]}),l==="error"&&u.jsxs(u.Fragment,{children:[u.jsx(qs,{className:"w-3 h-3 text-destructive"}),u.jsx("span",{className:"text-destructive font-medium",children:"Errore Sync"})]})]})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Ce,{variant:"ghost",size:"sm",onClick:()=>a(i==="preview"?"edit":"preview"),className:"gap-2 h-8",title:i==="preview"?"Modifica":"Visualizza",children:i==="preview"?u.jsxs(u.Fragment,{children:[u.jsx(_9,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Modifica"})]}):u.jsxs(u.Fragment,{children:[u.jsx(U5,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Anteprima"})]})}),u.jsx(Ce,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>s(!o),title:o?"Riduci":"Espandi",children:o?u.jsx(x9,{className:"w-4 h-4"}):u.jsx(y9,{className:"w-4 h-4"})}),u.jsx(Ce,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>t(!1),children:u.jsx(Ga,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:"flex-1 overflow-hidden relative bg-card",children:i==="edit"?u.jsx(DF,{value:r,onChange:d=>n(d.target.value),className:"w-full h-full resize-none p-6 font-mono text-sm bg-transparent border-0 focus-visible:ring-0 leading-relaxed",placeholder:"# Inizia a scrivere..."}):u.jsx(uk,{className:"h-full w-full",children:u.jsx("div",{className:"p-6 prose prose-invert prose-sm max-w-none",children:u.jsx(NB,{remarkPlugins:[r6],components:{h1:({node:d,...f})=>u.jsx("h1",{className:"text-3xl font-bold mt-2 mb-6",...f}),h2:({node:d,...f})=>u.jsx("h2",{className:"text-2xl font-bold mt-6 mb-4 border-b border-border/50 pb-2",...f}),code:({node:d,className:f,children:h,...p})=>String(h).includes(`
`)?u.jsx("code",{className:f,...p,children:h}):u.jsx("code",{className:"bg-primary/20 text-primary rounded px-1.5 py-0.5 font-mono text-sm",...p,children:h})},children:r})})})})]})]})}var ey="rovingFocusGroup.onEntryFocus",Cpe={bubbles:!1,cancelable:!0},Kd="RovingFocusGroup",[D1,n6,Tpe]=im(Kd),[Ppe,Jm]=Br(Kd,[Tpe]),[Npe,Rpe]=Ppe(Kd),i6=S.forwardRef((e,t)=>u.jsx(D1.Provider,{scope:e.__scopeRovingFocusGroup,children:u.jsx(D1.Slot,{scope:e.__scopeRovingFocusGroup,children:u.jsx(Ipe,{...e,ref:t})})}));i6.displayName=Kd;var Ipe=S.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=e,h=S.useRef(null),p=ze(t,h),v=nc(a),[m,g]=Si({prop:o,defaultProp:s??null,onChange:l,caller:Kd}),[y,b]=S.useState(!1),x=Ut(c),_=n6(r),w=S.useRef(!1),[j,k]=S.useState(0);return S.useEffect(()=>{const A=h.current;if(A)return A.addEventListener(ey,x),()=>A.removeEventListener(ey,x)},[x]),u.jsx(Npe,{scope:r,orientation:n,dir:v,loop:i,currentTabStopId:m,onItemFocus:S.useCallback(A=>g(A),[g]),onItemShiftTab:S.useCallback(()=>b(!0),[]),onFocusableItemAdd:S.useCallback(()=>k(A=>A+1),[]),onFocusableItemRemove:S.useCallback(()=>k(A=>A-1),[]),children:u.jsx(Ae.div,{tabIndex:y||j===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:Ee(e.onMouseDown,()=>{w.current=!0}),onFocus:Ee(e.onFocus,A=>{const T=!w.current;if(A.target===A.currentTarget&&T&&!y){const O=new CustomEvent(ey,Cpe);if(A.currentTarget.dispatchEvent(O),!O.defaultPrevented){const P=_().filter(F=>F.focusable),N=P.find(F=>F.active),M=P.find(F=>F.id===m),R=[N,M,...P].filter(Boolean).map(F=>F.ref.current);s6(R,d)}}w.current=!1}),onBlur:Ee(e.onBlur,()=>b(!1))})})}),a6="RovingFocusGroupItem",o6=S.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,children:o,...s}=e,l=Ki(),c=a||l,d=Rpe(a6,r),f=d.currentTabStopId===c,h=n6(r),{onFocusableItemAdd:p,onFocusableItemRemove:v,currentTabStopId:m}=d;return S.useEffect(()=>{if(n)return p(),()=>v()},[n,p,v]),u.jsx(D1.ItemSlot,{scope:r,id:c,focusable:n,active:i,children:u.jsx(Ae.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...s,ref:t,onMouseDown:Ee(e.onMouseDown,g=>{n?d.onItemFocus(c):g.preventDefault()}),onFocus:Ee(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:Ee(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){d.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const y=$pe(g,d.orientation,d.dir);if(y!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let x=h().filter(_=>_.focusable).map(_=>_.ref.current);if(y==="last")x.reverse();else if(y==="prev"||y==="next"){y==="prev"&&x.reverse();const _=x.indexOf(g.currentTarget);x=d.loop?Lpe(x,_+1):x.slice(_+1)}setTimeout(()=>s6(x))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:m!=null}):o})})});o6.displayName=a6;var Mpe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Dpe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function $pe(e,t,r){const n=Dpe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Mpe[n]}function s6(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Lpe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var l6=i6,c6=o6,Zm="Tabs",[zpe]=Br(Zm,[Jm]),u6=Jm(),[Fpe,Ck]=zpe(Zm),d6=S.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:s,activationMode:l="automatic",...c}=e,d=nc(s),[f,h]=Si({prop:n,onChange:i,defaultProp:a??"",caller:Zm});return u.jsx(Fpe,{scope:r,baseId:Ki(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:l,children:u.jsx(Ae.div,{dir:d,"data-orientation":o,...c,ref:t})})});d6.displayName=Zm;var f6="TabsList",h6=S.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...i}=e,a=Ck(f6,r),o=u6(r);return u.jsx(l6,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:u.jsx(Ae.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});h6.displayName=f6;var p6="TabsTrigger",m6=S.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=e,o=Ck(p6,r),s=u6(r),l=y6(o.baseId,n),c=b6(o.baseId,n),d=n===o.value;return u.jsx(c6,{asChild:!0,...s,focusable:!i,active:d,children:u.jsx(Ae.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...a,ref:t,onMouseDown:Ee(e.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:Ee(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:Ee(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!i&&f&&o.onValueChange(n)})})})});m6.displayName=p6;var g6="TabsContent",v6=S.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...o}=e,s=Ck(g6,r),l=y6(s.baseId,n),c=b6(s.baseId,n),d=n===s.value,f=S.useRef(d);return S.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),u.jsx(sa,{present:i||d,children:({present:h})=>u.jsx(Ae.div,{"data-state":d?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:c,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});v6.displayName=g6;function y6(e,t){return`${e}-trigger-${t}`}function b6(e,t){return`${e}-content-${t}`}var Bpe=d6,x6=h6,w6=m6,S6=v6;const Js=Bpe,qo=S.forwardRef(({className:e,...t},r)=>u.jsx(x6,{ref:r,className:ae("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));qo.displayName=x6.displayName;const yt=S.forwardRef(({className:e,...t},r)=>u.jsx(w6,{ref:r,className:ae("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));yt.displayName=w6.displayName;const Nr=S.forwardRef(({className:e,...t},r)=>u.jsx(S6,{ref:r,className:ae("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Nr.displayName=S6.displayName;function eg(e){const t=S.useRef({value:e,previous:e});return S.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var tg="Switch",[qpe]=Br(tg),[Upe,Vpe]=qpe(tg),_6=S.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:a,required:o,disabled:s,value:l="on",onCheckedChange:c,form:d,...f}=e,[h,p]=S.useState(null),v=ze(t,x=>p(x)),m=S.useRef(!1),g=h?d||!!h.closest("form"):!0,[y,b]=Si({prop:i,defaultProp:a??!1,onChange:c,caller:tg});return u.jsxs(Upe,{scope:r,checked:y,disabled:s,children:[u.jsx(Ae.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":A6(y),"data-disabled":s?"":void 0,disabled:s,value:l,...f,ref:v,onClick:Ee(e.onClick,x=>{b(_=>!_),g&&(m.current=x.isPropagationStopped(),m.current||x.stopPropagation())})}),g&&u.jsx(E6,{control:h,bubbles:!m.current,name:n,value:l,checked:y,required:o,disabled:s,form:d,style:{transform:"translateX(-100%)"}})]})});_6.displayName=tg;var j6="SwitchThumb",k6=S.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,i=Vpe(j6,r);return u.jsx(Ae.span,{"data-state":A6(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})});k6.displayName=j6;var Wpe="SwitchBubbleInput",E6=S.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...i},a)=>{const o=S.useRef(null),s=ze(o,a),l=eg(r),c=hm(t);return S.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&p){const v=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(v)}},[l,r,n]),u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});E6.displayName=Wpe;function A6(e){return e?"checked":"unchecked"}var O6=_6,Hpe=k6;const $1=S.forwardRef(({className:e,...t},r)=>u.jsx(O6,{className:ae("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:u.jsx(Hpe,{className:ae("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));$1.displayName=O6.displayName;const qe=S.forwardRef(({className:e,...t},r)=>u.jsx("div",{ref:r,className:ae("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));qe.displayName="Card";const et=S.forwardRef(({className:e,...t},r)=>u.jsx("div",{ref:r,className:ae("flex flex-col space-y-1.5 p-6",e),...t}));et.displayName="CardHeader";const tt=S.forwardRef(({className:e,...t},r)=>u.jsx("h3",{ref:r,className:ae("text-2xl font-semibold leading-none tracking-tight",e),...t}));tt.displayName="CardTitle";const Vn=S.forwardRef(({className:e,...t},r)=>u.jsx("p",{ref:r,className:ae("text-sm text-muted-foreground",e),...t}));Vn.displayName="CardDescription";const Ve=S.forwardRef(({className:e,...t},r)=>u.jsx("div",{ref:r,className:ae("p-6 pt-0",e),...t}));Ve.displayName="CardContent";const Gpe=S.forwardRef(({className:e,...t},r)=>u.jsx("div",{ref:r,className:ae("flex items-center p-6 pt-0",e),...t}));Gpe.displayName="CardFooter";var C6=["PageUp","PageDown"],T6=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],P6={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},oc="Slider",[L1,Kpe,Ype]=im(oc),[N6]=Br(oc,[Ype]),[Xpe,rg]=N6(oc),R6=S.forwardRef((e,t)=>{const{name:r,min:n=0,max:i=100,step:a=1,orientation:o="horizontal",disabled:s=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[n],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:p=!1,form:v,...m}=e,g=S.useRef(new Set),y=S.useRef(0),x=o==="horizontal"?Qpe:Jpe,[_=[],w]=Si({prop:d,defaultProp:c,onChange:P=>{[...g.current][y.current]?.focus(),f(P)}}),j=S.useRef(_);function k(P){const N=nme(_,P);O(P,N)}function A(P){O(P,y.current)}function T(){const P=j.current[y.current];_[y.current]!==P&&h(_)}function O(P,N,{commit:M}={commit:!1}){const E=sme(a),R=lme(Math.round((P-n)/a)*a+n,E),F=qu(R,[n,i]);w((z=[])=>{const q=tme(z,F,N);if(ome(q,l*a)){y.current=q.indexOf(F);const L=String(q)!==String(z);return L&&M&&h(q),L?q:z}else return z})}return u.jsx(Xpe,{scope:e.__scopeSlider,name:r,disabled:s,min:n,max:i,valueIndexToChangeRef:y,thumbs:g.current,values:_,orientation:o,form:v,children:u.jsx(L1.Provider,{scope:e.__scopeSlider,children:u.jsx(L1.Slot,{scope:e.__scopeSlider,children:u.jsx(x,{"aria-disabled":s,"data-disabled":s?"":void 0,...m,ref:t,onPointerDown:Ee(m.onPointerDown,()=>{s||(j.current=_)}),min:n,max:i,inverted:p,onSlideStart:s?void 0:k,onSlideMove:s?void 0:A,onSlideEnd:s?void 0:T,onHomeKeyDown:()=>!s&&O(n,0,{commit:!0}),onEndKeyDown:()=>!s&&O(i,_.length-1,{commit:!0}),onStepKeyDown:({event:P,direction:N})=>{if(!s){const R=C6.includes(P.key)||P.shiftKey&&T6.includes(P.key)?10:1,F=y.current,z=_[F],q=a*R*N;O(z+q,F,{commit:!0})}}})})})})});R6.displayName=oc;var[I6,M6]=N6(oc,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Qpe=S.forwardRef((e,t)=>{const{min:r,max:n,dir:i,inverted:a,onSlideStart:o,onSlideMove:s,onSlideEnd:l,onStepKeyDown:c,...d}=e,[f,h]=S.useState(null),p=ze(t,x=>h(x)),v=S.useRef(void 0),m=nc(i),g=m==="ltr",y=g&&!a||!g&&a;function b(x){const _=v.current||f.getBoundingClientRect(),w=[0,_.width],k=Tk(w,y?[r,n]:[n,r]);return v.current=_,k(x-_.left)}return u.jsx(I6,{scope:e.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:u.jsx(D6,{dir:m,"data-orientation":"horizontal",...d,ref:p,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:x=>{const _=b(x.clientX);o?.(_)},onSlideMove:x=>{const _=b(x.clientX);s?.(_)},onSlideEnd:()=>{v.current=void 0,l?.()},onStepKeyDown:x=>{const w=P6[y?"from-left":"from-right"].includes(x.key);c?.({event:x,direction:w?-1:1})}})})}),Jpe=S.forwardRef((e,t)=>{const{min:r,max:n,inverted:i,onSlideStart:a,onSlideMove:o,onSlideEnd:s,onStepKeyDown:l,...c}=e,d=S.useRef(null),f=ze(t,d),h=S.useRef(void 0),p=!i;function v(m){const g=h.current||d.current.getBoundingClientRect(),y=[0,g.height],x=Tk(y,p?[n,r]:[r,n]);return h.current=g,x(m-g.top)}return u.jsx(I6,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:u.jsx(D6,{"data-orientation":"vertical",...c,ref:f,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:m=>{const g=v(m.clientY);a?.(g)},onSlideMove:m=>{const g=v(m.clientY);o?.(g)},onSlideEnd:()=>{h.current=void 0,s?.()},onStepKeyDown:m=>{const y=P6[p?"from-bottom":"from-top"].includes(m.key);l?.({event:m,direction:y?-1:1})}})})}),D6=S.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:i,onSlideEnd:a,onHomeKeyDown:o,onEndKeyDown:s,onStepKeyDown:l,...c}=e,d=rg(oc,r);return u.jsx(Ae.span,{...c,ref:t,onKeyDown:Ee(e.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(s(f),f.preventDefault()):C6.concat(T6).includes(f.key)&&(l(f),f.preventDefault())}),onPointerDown:Ee(e.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():n(f)}),onPointerMove:Ee(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&i(f)}),onPointerUp:Ee(e.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),a(f))})})}),$6="SliderTrack",L6=S.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,i=rg($6,r);return u.jsx(Ae.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...n,ref:t})});L6.displayName=$6;var z1="SliderRange",z6=S.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,i=rg(z1,r),a=M6(z1,r),o=S.useRef(null),s=ze(t,o),l=i.values.length,c=i.values.map(h=>q6(h,i.min,i.max)),d=l>1?Math.min(...c):0,f=100-Math.max(...c);return u.jsx(Ae.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...n,ref:s,style:{...e.style,[a.startEdge]:d+"%",[a.endEdge]:f+"%"}})});z6.displayName=z1;var F1="SliderThumb",F6=S.forwardRef((e,t)=>{const r=Kpe(e.__scopeSlider),[n,i]=S.useState(null),a=ze(t,s=>i(s)),o=S.useMemo(()=>n?r().findIndex(s=>s.ref.current===n):-1,[r,n]);return u.jsx(Zpe,{...e,ref:a,index:o})}),Zpe=S.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:i,...a}=e,o=rg(F1,r),s=M6(F1,r),[l,c]=S.useState(null),d=ze(t,b=>c(b)),f=l?o.form||!!l.closest("form"):!0,h=hm(l),p=o.values[n],v=p===void 0?0:q6(p,o.min,o.max),m=rme(n,o.values.length),g=h?.[s.size],y=g?ime(g,v,s.direction):0;return S.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),u.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[s.startEdge]:`calc(${v}% + ${y}px)`},children:[u.jsx(L1.ItemSlot,{scope:e.__scopeSlider,children:u.jsx(Ae.span,{role:"slider","aria-label":e["aria-label"]||m,"aria-valuemin":o.min,"aria-valuenow":p,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...a,ref:d,style:p===void 0?{display:"none"}:e.style,onFocus:Ee(e.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),f&&u.jsx(B6,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:p},n)]})});F6.displayName=F1;var eme="RadioBubbleInput",B6=S.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const i=S.useRef(null),a=ze(i,n),o=eg(t);return S.useEffect(()=>{const s=i.current;if(!s)return;const l=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&d){const f=new Event("input",{bubbles:!0});d.call(s,t),s.dispatchEvent(f)}},[o,t]),u.jsx(Ae.input,{style:{display:"none"},...r,ref:a,defaultValue:t})});B6.displayName=eme;function tme(e=[],t,r){const n=[...e];return n[r]=t,n.sort((i,a)=>i-a)}function q6(e,t,r){const a=100/(r-t)*(e-t);return qu(a,[0,100])}function rme(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function nme(e,t){if(e.length===1)return 0;const r=e.map(i=>Math.abs(i-t)),n=Math.min(...r);return r.indexOf(n)}function ime(e,t,r){const n=e/2,a=Tk([0,50],[0,n]);return(n-a(t)*r)*r}function ame(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function ome(e,t){if(t>0){const r=ame(e);return Math.min(...r)>=t}return!0}function Tk(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function sme(e){return(String(e).split(".")[1]||"").length}function lme(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var U6=R6,cme=L6,ume=z6,dme=F6;const B1=S.forwardRef(({className:e,...t},r)=>u.jsxs(U6,{ref:r,className:ae("relative flex w-full touch-none select-none items-center",e),...t,children:[u.jsx(cme,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:u.jsx(ume,{className:"absolute h-full bg-primary"})}),u.jsx(dme,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));B1.displayName=U6.displayName;const fme=()=>ji({queryKey:["moods"],queryFn:async()=>{const{data:e,error:t}=await be.from("daily_moods").select("*").order("date",{ascending:!1});if(t)throw console.error("Error fetching moods:",t),t;return e}}),V6=()=>{const e=Xe(new Date,"yyyy-MM-dd");return ji({queryKey:["moods",e],queryFn:async()=>{const{data:t,error:r}=await be.from("daily_moods").select("*").eq("date",e).maybeSingle();if(r)throw console.error("Error fetching today's mood:",r),r;return t}})},hme=()=>{const e=eo();return xn({mutationFn:async t=>{const{data:{user:r}}=await be.auth.getUser();if(!r)throw new Error("No user found");const{data:n,error:i}=await be.from("daily_moods").upsert({...t,user_id:r.id},{onConflict:"user_id,date"}).select().single();if(i)throw i;return n},onSuccess:()=>{e.invalidateQueries({queryKey:["moods"]}),We.success("Mood & Energy logged successfully!")},onError:t=>{console.error("Error logging mood:",t),We.error("Failed to log mood.")}})},FT=()=>{const{data:e,isLoading:t}=V6(),r=hme(),[n,i]=S.useState([5]),[a,o]=S.useState([5]);S.useEffect(()=>{e&&(i([e.mood_score]),o([e.energy_score]))},[e]);const s=()=>{r.mutate({date:Xe(new Date,"yyyy-MM-dd"),mood_score:n[0],energy_score:a[0]})},l=d=>d>=8?"":d>=6?"":d>=4?"":d>=3?"":"",c=d=>"text-foreground";return t?u.jsx("div",{className:"h-40 animate-pulse bg-muted rounded-xl"}):u.jsxs(qe,{className:"w-full border shadow-sm overflow-hidden relative",children:[u.jsx(et,{className:"pb-2",children:u.jsxs(tt,{className:"text-lg font-medium flex items-center justify-between",children:[u.jsx("div",{className:"flex items-center gap-2",children:"Daily Check-in"}),!e&&u.jsxs("span",{className:"flex h-2 w-2",children:[u.jsx("span",{className:"animate-ping absolute inline-flex h-2 w-2 rounded-full bg-primary opacity-75"}),u.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-primary"})]})]})}),u.jsxs(Ve,{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[u.jsx(V5,{className:"w-4 h-4"}),"Mood"]}),u.jsxs("span",{className:ae("text-lg font-bold transition-colors",c(n[0])),children:[l(n[0])," ",n[0],"/10"]})]}),u.jsx(B1,{value:n,onValueChange:i,max:10,min:1,step:1,className:"cursor-pointer"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[u.jsx(Gi,{className:"w-4 h-4"}),"Energy"]}),u.jsxs("span",{className:ae("text-lg font-bold transition-colors",c(a[0])),children:[" ",a[0],"/10"]})]}),u.jsx(B1,{value:a,onValueChange:o,max:10,min:1,step:1,className:"cursor-pointer"})]}),u.jsx(Ce,{onClick:s,disabled:r.isPending,className:"w-full mt-2 transition-all duration-300 transform hover:scale-[1.02]",children:r.isPending?"Saving...":u.jsxs(u.Fragment,{children:[u.jsx(O9,{className:"w-4 h-4 mr-2"}),e?"Update Daily Status":"Insert Daily Status"]})})]})]})},pme=()=>{const[e,t]=S.useState("active"),[r,n]=S.useState(null);return S.useEffect(()=>{const i=async()=>{if(!navigator.onLine){t("offline");return}const o=performance.now();try{const{error:s}=await be.from("goals").select("id",{count:"exact",head:!0});s?(console.error("Supabase health check failed:",s),t("error")):(t("active"),n(Math.round(performance.now()-o)))}catch(s){console.error("Supabase connection error:",s),t("error")}};i(),window.addEventListener("online",i),window.addEventListener("offline",()=>t("offline"));const a=setInterval(i,3e4);return()=>{window.removeEventListener("online",i),window.removeEventListener("offline",()=>t("offline")),clearInterval(a)}},[]),{status:e,latency:r}};function mme(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const W6=I.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),Yd=()=>{const e=I.useContext(W6);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};mme(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,100%,0)}}@keyframes slideFromTop{from{transform:translate3d(0,-100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,-100%,0)}}@keyframes slideFromLeft{from{transform:translate3d(-100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(-100%,0,0)}}@keyframes slideFromRight{from{transform:translate3d(100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(100%,0,0)}}`);const gme=24,vme=typeof window<"u"?S.useLayoutEffect:S.useEffect;function BT(...e){return(...t)=>{for(let r of e)typeof r=="function"&&r(...t)}}function yme(){return Pk(/^Mac/)}function bme(){return Pk(/^iPhone/)}function qT(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function xme(){return Pk(/^iPad/)||yme()&&navigator.maxTouchPoints>1}function H6(){return bme()||xme()}function Pk(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const ty=typeof document<"u"&&window.visualViewport;function UT(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function G6(e){for(UT(e)&&(e=e.parentElement);e&&!UT(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const wme=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Mf=0,ry;function Sme(e={}){let{isDisabled:t}=e;vme(()=>{if(!t)return Mf++,Mf===1&&H6()&&(ry=_me()),()=>{Mf--,Mf===0&&ry?.()}},[t])}function _me(){let e,t=0,r=f=>{e=G6(f.target),!(e===document.documentElement&&e===document.body)&&(t=f.changedTouches[0].pageY)},n=f=>{if(!e||e===document.documentElement||e===document.body){f.preventDefault();return}let h=f.changedTouches[0].pageY,p=e.scrollTop,v=e.scrollHeight-e.clientHeight;v!==0&&((p<=0&&h>t||p>=v&&h<t)&&f.preventDefault(),t=h)},i=f=>{let h=f.target;q1(h)&&h!==document.activeElement&&(f.preventDefault(),h.style.transform="translateY(-2000px)",h.focus(),requestAnimationFrame(()=>{h.style.transform=""}))},a=f=>{let h=f.target;q1(h)&&(h.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{h.style.transform="",ty&&(ty.height<window.innerHeight?requestAnimationFrame(()=>{VT(h)}):ty.addEventListener("resize",()=>VT(h),{once:!0}))}))},o=()=>{window.scrollTo(0,0)},s=window.pageXOffset,l=window.pageYOffset,c=BT(jme(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let d=BT(Rc(document,"touchstart",r,{passive:!1,capture:!0}),Rc(document,"touchmove",n,{passive:!1,capture:!0}),Rc(document,"touchend",i,{passive:!1,capture:!0}),Rc(document,"focus",a,!0),Rc(window,"scroll",o));return()=>{c(),d(),window.scrollTo(s,l)}}function jme(e,t,r){let n=e.style[t];return e.style[t]=r,()=>{e.style[t]=n}}function Rc(e,t,r,n){return e.addEventListener(t,r,n),()=>{e.removeEventListener(t,r,n)}}function VT(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let r=G6(e);if(r!==document.documentElement&&r!==document.body&&r!==e){let n=r.getBoundingClientRect().top,i=e.getBoundingClientRect().top,a=e.getBoundingClientRect().bottom;const o=r.getBoundingClientRect().bottom+gme;a>o&&(r.scrollTop+=i-n)}e=r.parentElement}}function q1(e){return e instanceof HTMLInputElement&&!wme.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function kme(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Eme(...e){return t=>e.forEach(r=>kme(r,t))}function K6(...e){return S.useCallback(Eme(...e),e)}const Y6=new WeakMap;function rr(e,t,r=!1){if(!e||!(e instanceof HTMLElement))return;let n={};Object.entries(t).forEach(([i,a])=>{if(i.startsWith("--")){e.style.setProperty(i,a);return}n[i]=e.style[i],e.style[i]=a}),!r&&Y6.set(e,n)}function Ame(e,t){if(!e||!(e instanceof HTMLElement))return;let r=Y6.get(e);r&&(e.style[t]=r[t])}const nr=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function Df(e,t){if(!e)return null;const r=window.getComputedStyle(e),n=r.transform||r.webkitTransform||r.mozTransform;let i=n.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[nr(t)?13:12]):(i=n.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[nr(t)?5:4]):null)}function Ome(e){return 8*(Math.log(e+1)-2)}function ny(e,t){if(!e)return()=>{};const r=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=r}}function Cme(...e){return(...t)=>{for(const r of e)typeof r=="function"&&r(...t)}}const Rt={DURATION:.5,EASE:[.32,.72,0,1]},X6=.4,Tme=.25,Pme=100,Q6=8,go=16,U1=26,iy="vaul-dragging";function J6(e){const t=I.useRef(e);return I.useEffect(()=>{t.current=e}),I.useMemo(()=>(...r)=>t.current==null?void 0:t.current.call(t,...r),[])}function Nme({defaultProp:e,onChange:t}){const r=I.useState(e),[n]=r,i=I.useRef(n),a=J6(t);return I.useEffect(()=>{i.current!==n&&(a(n),i.current=n)},[n,i,a]),r}function Z6({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,i]=Nme({defaultProp:t,onChange:r}),a=e!==void 0,o=a?e:n,s=J6(r),l=I.useCallback(c=>{if(a){const f=typeof c=="function"?c(e):c;f!==e&&s(f)}else i(c)},[a,e,i,s]);return[o,l]}function Rme({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:r,drawerRef:n,overlayRef:i,fadeFromIndex:a,onSnapPointChange:o,direction:s="bottom",container:l,snapToSequentialPoint:c}){const[d,f]=Z6({prop:e,defaultProp:r?.[0],onChange:t}),[h,p]=I.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);I.useEffect(()=>{function k(){p({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",k),()=>window.removeEventListener("resize",k)},[]);const v=I.useMemo(()=>d===r?.[r.length-1]||null,[r,d]),m=I.useMemo(()=>r?.findIndex(k=>k===d),[r,d]),g=r&&r.length>0&&(a||a===0)&&!Number.isNaN(a)&&r[a]===d||!r,y=I.useMemo(()=>{const k=l?{width:l.getBoundingClientRect().width,height:l.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var A;return(A=r?.map(T=>{const O=typeof T=="string";let P=0;if(O&&(P=parseInt(T,10)),nr(s)){const M=O?P:h?T*k.height:0;return h?s==="bottom"?k.height-M:-k.height+M:M}const N=O?P:h?T*k.width:0;return h?s==="right"?k.width-N:-k.width+N:N}))!=null?A:[]},[r,h,l]),b=I.useMemo(()=>m!==null?y?.[m]:null,[y,m]),x=I.useCallback(k=>{var A;const T=(A=y?.findIndex(O=>O===k))!=null?A:null;o(T),rr(n.current,{transition:`transform ${Rt.DURATION}s cubic-bezier(${Rt.EASE.join(",")})`,transform:nr(s)?`translate3d(0, ${k}px, 0)`:`translate3d(${k}px, 0, 0)`}),y&&T!==y.length-1&&T!==a&&T<a?rr(i.current,{transition:`opacity ${Rt.DURATION}s cubic-bezier(${Rt.EASE.join(",")})`,opacity:"0"}):rr(i.current,{transition:`opacity ${Rt.DURATION}s cubic-bezier(${Rt.EASE.join(",")})`,opacity:"1"}),f(r?.[Math.max(T,0)])},[n.current,r,y,a,i,f]);I.useEffect(()=>{if(d||e){var k;const A=(k=r?.findIndex(T=>T===e||T===d))!=null?k:-1;y&&A!==-1&&typeof y[A]=="number"&&x(y[A])}},[d,e,r,y,x]);function _({draggedDistance:k,closeDrawer:A,velocity:T,dismissible:O}){if(a===void 0)return;const P=s==="bottom"||s==="right"?(b??0)-k:(b??0)+k,N=m===a-1,M=m===0,E=k>0;if(N&&rr(i.current,{transition:`opacity ${Rt.DURATION}s cubic-bezier(${Rt.EASE.join(",")})`}),!c&&T>2&&!E){O?A():x(y[0]);return}if(!c&&T>2&&E&&y&&r){x(y[r.length-1]);return}const R=y?.reduce((z,q)=>typeof z!="number"||typeof q!="number"?z:Math.abs(q-P)<Math.abs(z-P)?q:z),F=nr(s)?window.innerHeight:window.innerWidth;if(T>X6&&Math.abs(k)<F*.4){const z=E?1:-1;if(z>0&&v){x(y[r.length-1]);return}if(M&&z<0&&O&&A(),m===null)return;x(y[m+z]);return}x(R)}function w({draggedDistance:k}){if(b===null)return;const A=s==="bottom"||s==="right"?b-k:b+k;(s==="bottom"||s==="right")&&A<y[y.length-1]||(s==="top"||s==="left")&&A>y[y.length-1]||rr(n.current,{transform:nr(s)?`translate3d(0, ${A}px, 0)`:`translate3d(${A}px, 0, 0)`})}function j(k,A){if(!r||typeof m!="number"||!y||a===void 0)return null;const T=m===a-1;if(m>=a&&A)return 0;if(T&&!A)return 1;if(!g&&!T)return null;const P=T?m+1:m-1,N=T?y[P]-y[P-1]:y[P+1]-y[P],M=k/Math.abs(N);return T?1-M:M}return{isLastSnapPoint:v,activeSnapPoint:d,shouldFade:g,getPercentageDragged:j,setActiveSnapPoint:f,activeSnapPointIndex:m,onRelease:_,onDrag:w,snapPointsOffset:y}}const Ime=()=>()=>{};function Mme(){const{direction:e,isOpen:t,shouldScaleBackground:r,setBackgroundColorOnScale:n,noBodyStyles:i}=Yd(),a=I.useRef(null),o=S.useMemo(()=>document.body.style.backgroundColor,[]);function s(){return(window.innerWidth-U1)/window.innerWidth}I.useEffect(()=>{if(t&&r){a.current&&clearTimeout(a.current);const l=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!l)return;Cme(n&&!i?ny(document.body,{background:"black"}):Ime,ny(l,{transformOrigin:nr(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Rt.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Rt.EASE.join(",")})`}));const c=ny(l,{borderRadius:`${Q6}px`,overflow:"hidden",...nr(e)?{transform:`scale(${s()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${s()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{c(),a.current=window.setTimeout(()=>{o?document.body.style.background=o:document.body.style.removeProperty("background")},Rt.DURATION*1e3)}}},[t,r,o])}let Ic=null;function Dme({isOpen:e,modal:t,nested:r,hasBeenOpened:n,preventScrollRestoration:i,noBodyStyles:a}){const[o,s]=I.useState(()=>typeof window<"u"?window.location.href:""),l=I.useRef(0),c=I.useCallback(()=>{if(qT()&&Ic===null&&e&&!a){Ic={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:f,innerHeight:h}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-l.current}px`,left:`${-f}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const p=h-window.innerHeight;p&&l.current>=h&&(document.body.style.top=`${-(l.current+p)}px`)}),300)}},[e]),d=I.useCallback(()=>{if(qT()&&Ic!==null&&!a){const f=-parseInt(document.body.style.top,10),h=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Ic),window.requestAnimationFrame(()=>{if(i&&o!==window.location.href){s(window.location.href);return}window.scrollTo(h,f)}),Ic=null}},[o]);return I.useEffect(()=>{function f(){l.current=window.scrollY}return f(),window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}},[]),I.useEffect(()=>{r||!n||(e?(!window.matchMedia("(display-mode: standalone)").matches&&c(),t||window.setTimeout(()=>{d()},500)):d())},[e,n,o,t,r,c,d]),{restorePositionSetting:d}}function $me({open:e,onOpenChange:t,children:r,onDrag:n,onRelease:i,snapPoints:a,shouldScaleBackground:o=!1,setBackgroundColorOnScale:s=!0,closeThreshold:l=Tme,scrollLockTimeout:c=Pme,dismissible:d=!0,handleOnly:f=!1,fadeFromIndex:h=a&&a.length-1,activeSnapPoint:p,setActiveSnapPoint:v,fixed:m,modal:g=!0,onClose:y,nested:b,noBodyStyles:x,direction:_="bottom",defaultOpen:w=!1,disablePreventScroll:j=!0,snapToSequentialPoint:k=!1,preventScrollRestoration:A=!1,repositionInputs:T=!0,onAnimationEnd:O,container:P,autoFocus:N=!1}){var M,E;const[R=!1,F]=Z6({defaultProp:w,prop:e,onChange:ke=>{t?.(ke),!ke&&!b&&Y(),setTimeout(()=>{O?.(ke)},Rt.DURATION*1e3),ke&&!g&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),ke||(document.body.style.pointerEvents="auto")}}),[z,q]=I.useState(!1),[L,D]=I.useState(!1),[W,B]=I.useState(!1),$=I.useRef(null),Q=I.useRef(null),Z=I.useRef(null),fe=I.useRef(null),le=I.useRef(null),ue=I.useRef(!1),ee=I.useRef(null),te=I.useRef(0),ce=I.useRef(!1),J=I.useRef(0),ne=I.useRef(null),C=I.useRef(((M=ne.current)==null?void 0:M.getBoundingClientRect().height)||0),G=I.useRef(((E=ne.current)==null?void 0:E.getBoundingClientRect().width)||0),H=I.useRef(0),V=I.useCallback(ke=>{a&&ke===X.length-1&&(Q.current=new Date)},[]),{activeSnapPoint:U,activeSnapPointIndex:K,setActiveSnapPoint:ie,onRelease:re,snapPointsOffset:X,onDrag:de,shouldFade:ye,getPercentageDragged:he}=Rme({snapPoints:a,activeSnapPointProp:p,setActiveSnapPointProp:v,drawerRef:ne,fadeFromIndex:h,overlayRef:$,onSnapPointChange:V,direction:_,container:P,snapToSequentialPoint:k});Sme({isDisabled:!R||L||!g||W||!z||!T||!j});const{restorePositionSetting:Y}=Dme({isOpen:R,modal:g,nested:b,hasBeenOpened:z,preventScrollRestoration:A,noBodyStyles:x});function oe(){return(window.innerWidth-U1)/window.innerWidth}function ve(ke){var nt,st;!d&&!a||ne.current&&!ne.current.contains(ke.target)||(C.current=((nt=ne.current)==null?void 0:nt.getBoundingClientRect().height)||0,G.current=((st=ne.current)==null?void 0:st.getBoundingClientRect().width)||0,D(!0),Z.current=new Date,H6()&&window.addEventListener("touchend",()=>ue.current=!1,{once:!0}),ke.target.setPointerCapture(ke.pointerId),te.current=nr(_)?ke.pageY:ke.pageX)}function Te(ke,nt){var st,ct;let Pe=ke;const Ge=(st=window.getSelection())==null?void 0:st.toString(),ut=ne.current?Df(ne.current,_):null,Se=new Date;if(Pe.hasAttribute("data-vaul-no-drag")||Pe.closest("[data-vaul-no-drag]"))return!1;if(_==="right"||_==="left")return!0;if(Q.current&&Se.getTime()-Q.current.getTime()<500)return!1;if(ut!==null&&(_==="bottom"?ut>0:ut<0))return!0;if(Ge&&Ge.length>0)return!1;if(Se.getTime()-((ct=le.current)==null?void 0:ct.getTime())<c&&ut===0||nt)return le.current=Se,!1;for(;Pe;){if(Pe.scrollHeight>Pe.clientHeight){if(Pe.scrollTop!==0)return le.current=new Date,!1;if(Pe.getAttribute("role")==="dialog")return!0}Pe=Pe.parentNode}return!0}function Ue(ke){if(ne.current&&L){const nt=_==="bottom"||_==="right"?1:-1,st=(te.current-(nr(_)?ke.pageY:ke.pageX))*nt,ct=st>0,Pe=a&&!d&&!ct;if(Pe&&K===0)return;const Ge=Math.abs(st),ut=document.querySelector("[data-vaul-drawer-wrapper]"),Se=_==="bottom"||_==="top"?C.current:G.current;let Ie=Ge/Se;const Fe=he(Ge,ct);if(Fe!==null&&(Ie=Fe),Pe&&Ie>=1||!ue.current&&!Te(ke.target,ct))return;if(ne.current.classList.add(iy),ue.current=!0,rr(ne.current,{transition:"none"}),rr($.current,{transition:"none"}),a&&de({draggedDistance:st}),ct&&!a){const gt=Ome(st),ft=Math.min(gt*-1,0)*nt;rr(ne.current,{transform:nr(_)?`translate3d(0, ${ft}px, 0)`:`translate3d(${ft}px, 0, 0)`});return}const dt=1-Ie;if((ye||h&&K===h-1)&&(n?.(ke,Ie),rr($.current,{opacity:`${dt}`,transition:"none"},!0)),ut&&$.current&&o){const gt=Math.min(oe()+Ie*(1-oe()),1),ft=8-Ie*8,Jt=Math.max(0,14-Ie*14);rr(ut,{borderRadius:`${ft}px`,transform:nr(_)?`scale(${gt}) translate3d(0, ${Jt}px, 0)`:`scale(${gt}) translate3d(${Jt}px, 0, 0)`,transition:"none"},!0)}if(!a){const gt=Ge*nt;rr(ne.current,{transform:nr(_)?`translate3d(0, ${gt}px, 0)`:`translate3d(${gt}px, 0, 0)`})}}}I.useEffect(()=>{var ke;function nt(){if(!ne.current||!T)return;const st=document.activeElement;if(q1(st)||ce.current){var ct;const Pe=((ct=window.visualViewport)==null?void 0:ct.height)||0,Ge=window.innerHeight;let ut=Ge-Pe;const Se=ne.current.getBoundingClientRect().height||0,Ie=Se>Ge*.8;H.current||(H.current=Se);const Fe=ne.current.getBoundingClientRect().top;if(Math.abs(J.current-ut)>60&&(ce.current=!ce.current),a&&a.length>0&&X&&K){const dt=X[K]||0;ut+=dt}if(J.current=ut,Se>Pe||ce.current){const dt=ne.current.getBoundingClientRect().height;let gt=dt;dt>Pe&&(gt=Pe-(Ie?Fe:U1)),m?ne.current.style.height=`${dt-Math.max(ut,0)}px`:ne.current.style.height=`${Math.max(gt,Pe-Fe)}px`}else ne.current.style.height=`${H.current}px`;a&&a.length>0&&!ce.current?ne.current.style.bottom="0px":ne.current.style.bottom=`${Math.max(ut,0)}px`}}return(ke=window.visualViewport)==null||ke.addEventListener("resize",nt),()=>{var st;return(st=window.visualViewport)==null?void 0:st.removeEventListener("resize",nt)}},[K,a,X]);function Ke(ke){Ye(),y?.(),ke||F(!1),setTimeout(()=>{a&&ie(a[0])},Rt.DURATION*1e3)}function Mt(){if(!ne.current)return;const ke=document.querySelector("[data-vaul-drawer-wrapper]"),nt=Df(ne.current,_);rr(ne.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Rt.DURATION}s cubic-bezier(${Rt.EASE.join(",")})`}),rr($.current,{transition:`opacity ${Rt.DURATION}s cubic-bezier(${Rt.EASE.join(",")})`,opacity:"1"}),o&&nt&&nt>0&&R&&rr(ke,{borderRadius:`${Q6}px`,overflow:"hidden",...nr(_)?{transform:`scale(${oe()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${oe()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Rt.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Rt.EASE.join(",")})`},!0)}function Ye(){!L||!ne.current||(ne.current.classList.remove(iy),ue.current=!1,D(!1),fe.current=new Date)}function zt(ke){if(!L||!ne.current)return;ne.current.classList.remove(iy),ue.current=!1,D(!1),fe.current=new Date;const nt=Df(ne.current,_);if(!Te(ke.target,!1)||!nt||Number.isNaN(nt)||Z.current===null)return;const st=fe.current.getTime()-Z.current.getTime(),ct=te.current-(nr(_)?ke.pageY:ke.pageX),Pe=Math.abs(ct)/st;if(Pe>.05&&(B(!0),setTimeout(()=>{B(!1)},200)),a){re({draggedDistance:ct*(_==="bottom"||_==="right"?1:-1),closeDrawer:Ke,velocity:Pe,dismissible:d}),i?.(ke,!0);return}if(_==="bottom"||_==="right"?ct>0:ct<0){Mt(),i?.(ke,!0);return}if(Pe>X6){Ke(),i?.(ke,!1);return}var Ge;const ut=Math.min((Ge=ne.current.getBoundingClientRect().height)!=null?Ge:0,window.innerHeight);var Se;const Ie=Math.min((Se=ne.current.getBoundingClientRect().width)!=null?Se:0,window.innerWidth),Fe=_==="left"||_==="right";if(Math.abs(nt)>=(Fe?Ie:ut)*l){Ke(),i?.(ke,!1);return}i?.(ke,!0),Mt()}I.useEffect(()=>(R&&(rr(document.documentElement,{scrollBehavior:"auto"}),Q.current=new Date),()=>{Ame(document.documentElement,"scrollBehavior")}),[R]);function cr(ke){const nt=ke?(window.innerWidth-go)/window.innerWidth:1,st=ke?-go:0;ee.current&&window.clearTimeout(ee.current),rr(ne.current,{transition:`transform ${Rt.DURATION}s cubic-bezier(${Rt.EASE.join(",")})`,transform:`scale(${nt}) translate3d(0, ${st}px, 0)`}),!ke&&ne.current&&(ee.current=setTimeout(()=>{const ct=Df(ne.current,_);rr(ne.current,{transition:"none",transform:nr(_)?`translate3d(0, ${ct}px, 0)`:`translate3d(${ct}px, 0, 0)`})},500))}function rt(ke,nt){if(nt<0)return;const st=(window.innerWidth-go)/window.innerWidth,ct=st+nt*(1-st),Pe=-go+nt*go;rr(ne.current,{transform:nr(_)?`scale(${ct}) translate3d(0, ${Pe}px, 0)`:`scale(${ct}) translate3d(${Pe}px, 0, 0)`,transition:"none"})}function Cr(ke,nt){const st=nr(_)?window.innerHeight:window.innerWidth,ct=nt?(st-go)/st:1,Pe=nt?-go:0;nt&&rr(ne.current,{transition:`transform ${Rt.DURATION}s cubic-bezier(${Rt.EASE.join(",")})`,transform:nr(_)?`scale(${ct}) translate3d(0, ${Pe}px, 0)`:`scale(${ct}) translate3d(${Pe}px, 0, 0)`})}return I.createElement(Im,{defaultOpen:w,onOpenChange:ke=>{!d&&!ke||(ke?q(!0):Ke(!0),F(ke))},open:R},I.createElement(W6.Provider,{value:{activeSnapPoint:U,snapPoints:a,setActiveSnapPoint:ie,drawerRef:ne,overlayRef:$,onOpenChange:t,onPress:ve,onRelease:zt,onDrag:Ue,dismissible:d,handleOnly:f,isOpen:R,isDragging:L,shouldFade:ye,closeDrawer:Ke,onNestedDrag:rt,onNestedOpenChange:cr,onNestedRelease:Cr,keyboardIsOpen:ce,modal:g,snapPointsOffset:X,direction:_,shouldScaleBackground:o,setBackgroundColorOnScale:s,noBodyStyles:x,container:P,autoFocus:N}},r))}const e8=I.forwardRef(function({...e},t){const{overlayRef:r,snapPoints:n,onRelease:i,shouldFade:a,isOpen:o,modal:s}=Yd(),l=K6(t,r),c=n&&n.length>0;return s?I.createElement(Xl,{onMouseUp:i,ref:l,"data-vaul-overlay":"","data-vaul-snap-points":o&&c?"true":"false","data-vaul-snap-points-overlay":o&&a?"true":"false",...e}):(typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),null)});e8.displayName="Drawer.Overlay";const t8=I.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:r,...n},i){const{drawerRef:a,onPress:o,onRelease:s,onDrag:l,keyboardIsOpen:c,snapPointsOffset:d,modal:f,isOpen:h,direction:p,snapPoints:v,container:m,handleOnly:g,autoFocus:y}=Yd(),[b,x]=I.useState(!1),_=K6(i,a),w=I.useRef(null),j=I.useRef(null),k=I.useRef(!1),A=v&&v.length>0;Mme();const T=(P,N,M=0)=>{if(k.current)return!0;const E=Math.abs(P.y),R=Math.abs(P.x),F=R>E,z=["bottom","right"].includes(N)?1:-1;if(N==="left"||N==="right"){if(!(P.x*z<0)&&R>=0&&R<=M)return F}else if(!(P.y*z<0)&&E>=0&&E<=M)return!F;return k.current=!0,!0};I.useEffect(()=>{A&&window.requestAnimationFrame(()=>{x(!0)})},[]);function O(P){w.current=null,k.current=!1,s(P)}return I.createElement(Ql,{"data-vaul-drawer-direction":p,"data-vaul-drawer":"","data-vaul-delayed-snap-points":b?"true":"false","data-vaul-snap-points":h&&A?"true":"false","data-vaul-custom-container":m?"true":"false",...n,ref:_,style:d&&d.length>0?{"--snap-point-height":`${d[0]}px`,...t}:t,onPointerDown:P=>{g||(n.onPointerDown==null||n.onPointerDown.call(n,P),w.current={x:P.pageX,y:P.pageY},o(P))},onOpenAutoFocus:P=>{r?.(P),y||P.preventDefault()},onPointerDownOutside:P=>{if(e?.(P),!f||P.defaultPrevented){P.preventDefault();return}c.current&&(c.current=!1)},onFocusOutside:P=>{if(!f){P.preventDefault();return}},onPointerMove:P=>{if(j.current=P,g||(n.onPointerMove==null||n.onPointerMove.call(n,P),!w.current))return;const N=P.pageY-w.current.y,M=P.pageX-w.current.x,E=P.pointerType==="touch"?10:2;T({x:M,y:N},p,E)?l(P):(Math.abs(M)>E||Math.abs(N)>E)&&(w.current=null)},onPointerUp:P=>{n.onPointerUp==null||n.onPointerUp.call(n,P),w.current=null,k.current=!1,s(P)},onPointerOut:P=>{n.onPointerOut==null||n.onPointerOut.call(n,P),O(j.current)},onContextMenu:P=>{n.onContextMenu==null||n.onContextMenu.call(n,P),O(j.current)}})});t8.displayName="Drawer.Content";const Lme=250,zme=120,Fme=I.forwardRef(function({preventCycle:e=!1,children:t,...r},n){const{closeDrawer:i,isDragging:a,snapPoints:o,activeSnapPoint:s,setActiveSnapPoint:l,dismissible:c,handleOnly:d,isOpen:f,onPress:h,onDrag:p}=Yd(),v=I.useRef(null),m=I.useRef(!1);function g(){if(m.current){x();return}window.setTimeout(()=>{y()},zme)}function y(){if(a||e||m.current){x();return}if(x(),(!o||o.length===0)&&c){i();return}if(s===o[o.length-1]&&c){i();return}const w=o.findIndex(k=>k===s);if(w===-1)return;const j=o[w+1];l(j)}function b(){v.current=window.setTimeout(()=>{m.current=!0},Lme)}function x(){window.clearTimeout(v.current),m.current=!1}return I.createElement("div",{onClick:g,onPointerCancel:x,onPointerDown:_=>{d&&h(_),b()},onPointerMove:_=>{d&&p(_)},ref:n,"data-vaul-drawer-visible":f?"true":"false","data-vaul-handle":"","aria-hidden":"true",...r},I.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});Fme.displayName="Drawer.Handle";function Bme(e){const t=Yd(),{container:r=t.container,...n}=e;return I.createElement(Dm,{container:r,...n})}const Ni={Root:$me,Content:t8,Overlay:e8,Trigger:Mm,Portal:Bme,Title:Jl,Description:Zl},r8=({shouldScaleBackground:e=!0,...t})=>u.jsx(Ni.Root,{shouldScaleBackground:e,...t});r8.displayName="Drawer";const qme=Ni.Trigger,Ume=Ni.Portal,n8=S.forwardRef(({className:e,...t},r)=>u.jsx(Ni.Overlay,{ref:r,className:ae("fixed inset-0 z-50 bg-black/80",e),...t}));n8.displayName=Ni.Overlay.displayName;const i8=S.forwardRef(({className:e,children:t,...r},n)=>u.jsxs(Ume,{children:[u.jsx(n8,{}),u.jsxs(Ni.Content,{ref:n,className:ae("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),...r,children:[u.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]}));i8.displayName="DrawerContent";const a8=({className:e,...t})=>u.jsx("div",{className:ae("grid gap-1.5 p-4 text-center sm:text-left",e),...t});a8.displayName="DrawerHeader";const o8=S.forwardRef(({className:e,...t},r)=>u.jsx(Ni.Title,{ref:r,className:ae("text-lg font-semibold leading-none tracking-tight",e),...t}));o8.displayName=Ni.Title.displayName;const s8=S.forwardRef(({className:e,...t},r)=>u.jsx(Ni.Description,{ref:r,className:ae("text-sm text-muted-foreground",e),...t}));s8.displayName=Ni.Description.displayName;const Vme=()=>{const e=d5(),{status:t,latency:r}=pme(),{data:n}=V6(),{goals:i,logs:a,allGoals:o,rawLogs:s,createGoal:l,updateGoal:c,updateOrder:d,deleteGoal:f,toggleGoal:h,isDeleting:p,isUpdating:v,resetAllData:m,isResetting:g}=Fj(),{isPrivacyMode:y,setIsPrivacyMode:b}=Tm(),{isAIEnabled:x,setIsAIEnabled:_}=ym(),w=()=>{if(!s||!o){We.error("Nessun dato da esportare");return}try{const A=new Map(o.map(M=>[M.id,M.title])),T=["Date,Habit Name,Status,Value,Notes"];s.forEach(M=>{const E=A.get(M.goal_id)||"Archived Habit",R=z=>`"${z.replace(/"/g,'""')}"`,F=[M.date,R(E),M.status,M.value||"",M.notes?R(M.notes):""].join(",");T.push(F)});const O=new Blob([T.join(`
`)],{type:"text/csv;charset=utf-8;"}),P=window.URL.createObjectURL(O),N=document.createElement("a");N.href=P,N.download=`habit-tracker-export-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(N),N.click(),window.URL.revokeObjectURL(P),document.body.removeChild(N),We.success("Export completato!")}catch(A){console.error("Export failed:",A),We.error("Errore durante l'export")}},[j,k]=S.useState("month");return u.jsxs("div",{className:"flex-1 h-full overflow-hidden flex flex-col pt-4 lg:pt-8 pb-0 sm:pb-8 px-4 sm:px-8 animate-fade-in relative z-10 w-full max-w-[2400px] mx-auto",children:[u.jsx("div",{className:"fixed top-[-20%] left-[-10%] w-[50%] h-[50%] bg-primary/5 blur-[120px] rounded-full pointer-events-none -z-10"}),u.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-12 gap-2 lg:gap-8 w-full h-full lg:h-full",children:[u.jsxs("div",{className:"lg:col-span-3 space-y-2 lg:space-y-8",children:[u.jsxs("div",{className:"glass-panel p-4 lg:p-6 rounded-2xl space-y-4 transition-all",children:[u.jsxs("div",{className:"flex flex-row lg:flex-col items-center lg:items-start justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl lg:text-3xl font-display font-bold text-foreground",children:"Protocollo"}),u.jsx("p",{className:"text-muted-foreground text-xs lg:text-sm",children:"Esecuzione giornaliera."})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx($1,{id:"privacy-mode",checked:y,onCheckedChange:b}),u.jsxs(ri,{htmlFor:"privacy-mode",className:"text-xs text-muted-foreground flex items-center gap-2 cursor-pointer sr-only lg:not-sr-only lg:flex",children:[y?u.jsx(l9,{className:"w-3 h-3"}):u.jsx(U5,{className:"w-3 h-3"}),"Privacy"]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx($1,{id:"ai-mode",checked:x,onCheckedChange:_}),u.jsxs(ri,{htmlFor:"ai-mode",className:"text-xs text-muted-foreground flex items-center gap-2 cursor-pointer sr-only lg:not-sr-only lg:flex",children:[u.jsx(z5,{className:"w-3 h-3"}),"AI"]})]})]})]}),u.jsxs("div",{className:"pt-0 lg:pt-4 border-t-0 lg:border-t border-white/5 flex gap-2 justify-end lg:justify-start",children:[u.jsx("div",{className:"lg:hidden mr-auto relative",children:u.jsxs(r8,{shouldScaleBackground:!1,children:[u.jsx(qme,{asChild:!0,children:u.jsxs(Ce,{variant:"outline",size:"icon",className:ae("h-10 w-10 sm:h-9 sm:w-9 border-primary/20 bg-primary/5 transition-all",n?"text-muted-foreground":"text-primary border-primary/40 shadow-[0_0_10px_-3px_rgba(255,255,255,0.1)]"),children:[u.jsx(V5,{className:ae("h-4 w-4",!n&&"animate-pulse")}),!n&&u.jsx("span",{className:"absolute top-2 right-2.5 h-1.5 w-1.5 rounded-full bg-red-500 shadow-[0_0_8px_2px_rgba(239,68,68,0.5)] animate-pulse"})]})}),u.jsx(i8,{children:u.jsxs("div",{className:"mx-auto w-full max-w-sm",children:[u.jsxs(a8,{children:[u.jsx(o8,{children:"Daily Check-in"}),u.jsx(s8,{children:"Traccia il tuo umore ed energia."})]}),u.jsx("div",{className:"p-4 pb-8",children:u.jsx(FT,{})})]})})]})}),u.jsx(Ope,{}),u.jsx(Wse,{habits:i,onAddHabit:l,onUpdateHabit:c,onUpdateOrder:d,onRemoveHabit:f,isDeleting:p,isUpdating:v,isPrivacyMode:y}),u.jsxs(Bo,{children:[u.jsx(cl,{asChild:!0,children:u.jsx(Ce,{variant:"outline",size:"icon",className:"h-10 w-10 sm:h-9 sm:w-9",title:"Esporta dati CSV",children:u.jsx(rl,{className:"h-4 w-4"})})}),u.jsxs(La,{children:[u.jsxs(za,{children:[u.jsx(Ba,{children:"Esportare i dati?"}),u.jsxs(qa,{children:["Verr scaricato un file CSV contenente tutto lo storico delle tue abitudini. ",u.jsx("br",{}),"Vuoi procedere con il download?"]})]}),u.jsxs(Fa,{children:[u.jsx(Jo,{children:"Annulla"}),u.jsx(Ua,{onClick:w,children:"Esporta CSV"})]})]})]}),u.jsx(Ce,{variant:"outline",size:"icon",className:"h-10 w-10 sm:h-9 sm:w-9 border-primary/20 bg-primary/5 hover:bg-primary/10",title:"Backup Completo",onClick:()=>e("/complete-backup"),children:u.jsx(Go,{className:"h-4 w-4"})}),u.jsxs(Bo,{children:[u.jsx(cl,{asChild:!0,children:u.jsx(Ce,{variant:"ghost",size:"icon",className:"h-10 w-10 sm:h-9 sm:w-9 bg-red-500/10 text-red-500 hover:bg-red-500 hover:text-white border-red-500/20",title:"Hard Reset (Elimina tutto)",children:u.jsx(R_,{className:"h-4 w-4"})})}),u.jsxs(La,{children:[u.jsxs(za,{children:[u.jsx(Ba,{className:"text-destructive",children:"Hard Reset: Attenzione!"}),u.jsxs(qa,{children:["Questa azione eliminer ",u.jsx("strong",{children:"definitivamente"})," tutte le tue abitudini e tutto lo storico dei progressi.",u.jsx("br",{}),u.jsx("br",{}),"I dati non potranno essere recuperati. Sei sicuro di voler procedere?"]})]}),u.jsxs(Fa,{children:[u.jsx(Jo,{children:"Annulla"}),u.jsx(Ua,{onClick:()=>m(),className:"bg-destructive hover:bg-destructive/90 text-destructive-foreground",disabled:g,children:g?"Eliminazione...":"Conferma Reset Totale"})]})]})]})]})]}),u.jsxs("div",{className:"glass-card p-6 rounded-2xl hidden lg:block transition-colors duration-300",children:[u.jsxs("h3",{className:"text-sm font-medium text-muted-foreground uppercase tracking-widest mb-2 flex items-center justify-between",children:["System Status",t==="active"&&u.jsx(I9,{className:"w-4 h-4 text-green-500"}),t==="offline"&&u.jsx(R9,{className:"w-4 h-4 text-yellow-500"}),t==="error"&&u.jsx(nl,{className:"w-4 h-4 text-red-500"})]}),u.jsxs("div",{className:"flex items-baseline gap-2",children:[u.jsx("span",{className:ae("text-2xl font-bold font-mono-nums transition-colors",t==="active"?"text-primary":t==="offline"?"text-yellow-500":"text-red-500"),children:t==="active"?"Online":t==="offline"?"Offline":"Error"}),u.jsx("span",{className:ae("w-2 h-2 rounded-full animate-pulse",t==="active"?"bg-green-500":t==="offline"?"bg-yellow-500":"bg-red-500")})]}),u.jsxs("p",{className:"text-xs text-muted-foreground mt-4 flex justify-between items-center",children:[u.jsx("span",{children:"Mattioli.OS v4.1"}),r&&u.jsxs("span",{className:"font-mono opacity-50",children:[r,"ms"]})]})]}),u.jsx("div",{className:"hidden lg:block",children:u.jsx(FT,{})})]}),u.jsx("div",{className:"lg:col-span-9 flex flex-col flex-1 h-full min-h-0 overflow-hidden lg:overflow-visible",children:u.jsxs(Js,{defaultValue:"month",value:j,onValueChange:k,className:"w-full h-full flex flex-col",children:[u.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mb-4 lg:mb-4 shrink-0",children:u.jsxs(qo,{className:"grid w-full grid-cols-4 bg-card/40 border border-white/10 backdrop-blur-md rounded-xl p-1 shadow-sm h-10 sm:h-auto",children:[u.jsxs(yt,{value:"month",className:"rounded-lg data-[state=active]:bg-primary/20 data-[state=active]:text-primary font-medium text-xs sm:text-sm h-full sm:py-2 flex items-center justify-center gap-1.5 sm:gap-2",children:[u.jsx(Ha,{className:"w-4 h-4"}),u.jsx("span",{className:"xs:inline",children:"Mese"})]}),u.jsxs(yt,{value:"week",className:"rounded-lg data-[state=active]:bg-primary/20 data-[state=active]:text-primary font-medium text-xs sm:text-sm h-full sm:py-2 flex items-center justify-center gap-1.5 sm:gap-2",children:[u.jsx(p9,{className:"w-4 h-4"}),u.jsx("span",{className:"xs:inline",children:"Settimana"})]}),u.jsxs(yt,{value:"year",className:"rounded-lg data-[state=active]:bg-primary/20 data-[state=active]:text-primary font-medium text-xs sm:text-sm h-full sm:py-2 flex items-center justify-center gap-1.5 sm:gap-2",children:[u.jsx(g9,{className:"w-4 h-4"}),u.jsx("span",{className:"xs:inline",children:"Anno"})]}),u.jsxs(yt,{value:"vita",className:"rounded-lg data-[state=active]:bg-primary/20 data-[state=active]:text-primary font-medium text-xs sm:text-sm h-full sm:py-2 flex items-center justify-center gap-1.5 sm:gap-2",children:[u.jsx(u9,{className:"w-4 h-4"}),u.jsx("span",{className:"xs:inline",children:"Vita"})]})]})}),u.jsxs("div",{className:"flex-1 flex flex-col min-h-0 glass-panel rounded-xl sm:rounded-2xl p-0 sm:p-2 overflow-hidden mb-2",children:[u.jsx(Nr,{value:"month",className:"mt-0 animate-scale-in h-full",children:u.jsx(mae,{habits:o,records:a,onToggleHabit:h,isPrivacyMode:y})}),u.jsx(Nr,{value:"week",className:"mt-0 animate-scale-in h-full",children:u.jsx(gae,{habits:o,records:a,onToggleHabit:h,isPrivacyMode:y})}),u.jsx(Nr,{value:"year",className:"mt-0 animate-scale-in h-full",children:u.jsx(yae,{habits:o,records:a,onToggleHabit:h,isPrivacyMode:y})}),u.jsx(Nr,{value:"vita",className:"mt-0 animate-scale-in h-full",children:u.jsx(bae,{habits:o,records:a,isPrivacyMode:y})})]})]})})]})]})};function l8(e,t,r="weekly"){return S.useMemo(()=>{const n=ui(new Date),i=Object.keys(t).sort(),a=e.map(L=>{const D=ui(new Date(L.start_date)),W=L.id;let B=0,$=0,Q=0,Z=0,fe=0,le=0;const ue=Math.max(0,Du(n,D)+1),ee=new Date(n);let te=!0;const ce=Xe(ee,"yyyy-MM-dd"),J=t[ce]?.[W];J==="done"?B++:J==="missed"&&(te=!1);let ne=1;for(;;){const K=Kt(n,ne);if(oi(K,D))break;const ie=Xe(K,"yyyy-MM-dd"),re=t[ie]?.[W];if(re==="done"?te&&B++:re==="missed"&&(te=!1),!te||ne>365*5)break;ne++}if(ue>0){for(let K=0;K<ue;K++){const ie=Kt(n,K),re=Xe(ie,"yyyy-MM-dd"),X=t[re]?.[W];X==="done"?(le++,Q++,Z=Math.max(Z,fe),fe=0):(X==="missed"||X===null)&&(fe++,X==="missed"&&($=Math.max($,Q),Q=0))}$=Math.max($,Q),Z=Math.max(Z,fe)}let C=0,G=0;const H=Kt(n,29),V=wa(D,H)?D:H;wa(V,n)||_n({start:V,end:n}).forEach(K=>{C++;const ie=Xe(K,"yyyy-MM-dd");t[ie]?.[W]==="done"&&G++});const U=C>0?Math.round(G/C*100):0;return{id:L.id,title:L.title,color:L.color,currentStreak:B,longestStreak:$,worstStreak:Z,totalDays:le,completionRate:U}}),o=[],s=Kt(n,365);_n({start:s,end:n}).forEach(L=>{const D=Xe(L,"yyyy-MM-dd");let W=0,B=0;e.forEach(Q=>{const Z=new Date(Q.start_date);oi(ui(L),ui(Z))||(W++,t[D]?.[Q.id]==="done"&&B++)});let $=0;if(W>0&&B>0){const Q=B/W;Q<=.25?$=1:Q<=.5?$=2:Q<=.75?$=3:$=4}o.push({date:D,count:B,intensity:$})});const l=[];let c,d=n,f="day";switch(r){case"weekly":c=Kt(n,6),f="day";break;case"monthly":c=Kt(n,29),f="day";break;case"annual":c=yC(n,11),f="month";break;case"all":const L=e.reduce((D,W)=>oi(new Date(W.start_date),D)?new Date(W.start_date):D,n);c=L,Du(n,L)>90?(f="month",c=qi(c)):f="day";break;default:c=Kt(n,6)}if(f==="day")_n({start:c,end:d}).forEach(L=>{const D=Xe(L,"yyyy-MM-dd");let W=Xe(L,"EEE",{locale:Hr});(r==="monthly"||r==="all")&&(W=Xe(L,"dd/MM",{locale:Hr}));const B={date:W};let $=0,Q=0;e.forEach(fe=>{const le=new Date(fe.start_date);if(oi(ui(L),ui(le))){B[fe.id]=0;return}Q++;const ee=t[D]?.[fe.id]==="done";ee&&$++,B[fe.id]=ee?100:0});const Z=Q>0?Math.round($/Q*100):0;B.overall=Z,l.push(B)});else{let L=qi(c);for(;!wa(L,d);){const D=Om(L),W=oi(D,d)?D:d,B={date:Xe(L,"MMM yy",{locale:Hr})};let $=0,Q=0;e.forEach(fe=>{const le=new Date(fe.start_date),ue=oi(L,le)?le:L;if(wa(ue,W)){B[fe.id]=0;return}let ee=0,te=0;_n({start:ue,end:W}).forEach(J=>{const ne=Xe(J,"yyyy-MM-dd");te++,t[ne]?.[fe.id]==="done"&&ee++});const ce=te>0?Math.round(ee/te*100):0;B[fe.id]=ce,$+=te,Q+=ee});const Z=$>0?Math.round(Q/$*100):0;B.overall=Z,l.push(B),L=qi(Kt(L,-32))}}const h=[0,0,0,0,0,0,0].map((L,D)=>({dayIndex:D,dayName:Xe(new Date(2024,0,7+D),"EEEE",{locale:Hr}),totalActive:0,totalDone:0,rate:0})),p=e.reduce((L,D)=>oi(new Date(D.start_date),L)?new Date(D.start_date):L,n),v=wa(p,Kt(n,365))?p:Kt(n,365);wa(v,n)||_n({start:v,end:n}).forEach(L=>{const D=L.getDay(),W=Xe(L,"yyyy-MM-dd");e.forEach(B=>{const $=new Date(B.start_date);oi(L,$)||(h[D].totalActive++,t[W]?.[B.id]==="done"&&h[D].totalDone++)})}),h.forEach(L=>{L.rate=L.totalActive>0?Math.round(L.totalDone/L.totalActive*100):0});const m=i.length,g=a.length>0?Math.round(a.reduce((L,D)=>L+D.completionRate,0)/a.length):0,y=Wme(e,t,n,a),b=Pn(n,{locale:Hr,weekStartsOn:1}),x=n,_=bne(b),w=Kt(b,1),j=qi(n),k=n,A=yC(j,1),T=Kt(j,1),O=Cm(n),P=n,N=xne(O),M=Kt(O,1),E=ay(e,t,b,x,_,w,"week"),R=ay(e,t,j,k,A,T,"month"),F=ay(e,t,O,P,N,M,"year"),z=e.map(L=>({habitId:L.id,week:E[L.id],month:R[L.id],year:F[L.id]}));return{habitStats:a,heatmapData:o,trendData:l,weekdayStats:h.sort((L,D)=>L.dayIndex===0?1:D.dayIndex===0?-1:L.dayIndex-D.dayIndex),totalActiveDays:m,globalSuccessRate:g,bestStreak:Math.max(...a.map(L=>L.longestStreak),0),worstDay:h.reduce((L,D)=>D.rate<L.rate&&D.totalActive>0?D:L,h[0]).dayName,comparisons:z,criticalHabits:y.sort((L,D)=>L.completionRate-D.completionRate)}},[e,t,r])}function ay(e,t,r,n,i,a,o="month"){const s={},l=e.map(d=>d.id),c=(d,f,h,p)=>{const v=oi(f,p)?p:f;if(wa(v,h))return 0;let m=0,g=0;return _n({start:v,end:h}).forEach(y=>{m++;const b=Xe(y,"yyyy-MM-dd");t[b]?.[d]==="done"&&g++}),m>0?Math.round(g/m*100):0};return l.forEach(d=>{const f=e.find(y=>y.id===d);if(!f)return;const h=new Date(f.start_date),p=c(d,r,n,h),v=c(d,i,a,h),m=p-v;let g="neutral";m>0&&(g="up"),m<0&&(g="down"),s[d]={previous:v,current:p,change:m,trend:g}}),s}function Wme(e,t,r,n){const i=[],a=Kt(r,90);return e.forEach(o=>{const s=[0,0,0,0,0,0,0].map(()=>({total:0,done:0})),l=oi(a,new Date(o.start_date))?new Date(o.start_date):a,c=Math.max(0,Du(r,new Date(o.start_date)))+1;let d=4;c<8?d=1:c<15?d=2:c<29&&(d=3),wa(l,r)||_n({start:l,end:r}).forEach(m=>{const g=m.getDay(),y=Xe(m,"yyyy-MM-dd");s[g].total++,t[y]?.[o.id]==="done"&&s[g].done++});let f="",h=101;s.forEach((m,g)=>{if(m.total<d)return;const y=Math.round(m.done/m.total*100);if(y<h){h=y;const b=new Date(2024,0,7+g);f=Xe(b,"EEEE",{locale:Hr})}});const p=n.find(m=>m.id===o.id),v=p?p.completionRate:0;h===101&&(f="N/A",h=v),i.push({habitId:o.id,title:o.title,color:o.color,completionRate:v,worstDay:f,worstDayRate:h})}),i}function WT(e,t){if(e.length!==t.length||e.length===0)return 0;const r=e.length,n=e.reduce((d,f)=>d+f,0),i=t.reduce((d,f)=>d+f,0),a=e.reduce((d,f,h)=>d+f*t[h],0),o=e.reduce((d,f)=>d+f*f,0),s=t.reduce((d,f)=>d+f*f,0),l=r*a-n*i,c=Math.sqrt((r*o-n*n)*(r*s-i*i));return c===0?0:l/c}function HT(e){return e<=4?"low":e<=7?"medium":"high"}const Hme=(e,t)=>{const{data:r}=ji({queryKey:["moods"],queryFn:async()=>{const{data:a,error:o}=await be.from("daily_moods").select("*").order("date",{ascending:!1});if(o)throw o;return a}}),n=S.useMemo(()=>{if(!r||r.length===0||e.length===0)return[];const a=new Map;return r.forEach(o=>{a.set(o.date,{mood:o.mood_score,energy:o.energy_score})}),e.map(o=>{const s=[];Object.entries(t).forEach(([R,F])=>{const z=F[o.id],q=a.get(R);z&&q&&s.push({date:R,completed:z==="done",mood:q.mood,energy:q.energy})});const l=s.filter(R=>R.completed),c=s.filter(R=>!R.completed),d=l.length>0?l.reduce((R,F)=>R+F.mood,0)/l.length:0,f=c.length>0?c.reduce((R,F)=>R+F.mood,0)/c.length:0,h=l.length>0?l.reduce((R,F)=>R+F.energy,0)/l.length:0,p=c.length>0?c.reduce((R,F)=>R+F.energy,0)/c.length:0,v={low:0,medium:0,high:0},m={low:0,medium:0,high:0},g={low:0,medium:0,high:0},y={low:0,medium:0,high:0};s.forEach(R=>{const F=HT(R.mood),z=HT(R.energy);m[F]++,y[z]++,R.completed&&(v[F]++,g[z]++)});const b={low:m.low>0?v.low/m.low*100:0,medium:m.medium>0?v.medium/m.medium*100:0,high:m.high>0?v.high/m.high*100:0},x={low:y.low>0?g.low/y.low*100:0,medium:y.medium>0?g.medium/y.medium*100:0,high:y.high>0?g.high/y.high*100:0},_=s.map(R=>R.completed?1:0),w=s.map(R=>R.mood),j=s.map(R=>R.energy),k=WT(w,_),A=WT(j,_),O=b.high-b.low>30&&k>.3,N=x.high-x.low>30&&A>.3,M=b.low>=60&&x.low>=60;return{habitId:o.id,habitTitle:o.title,habitColor:o.color,avgMoodWhenCompleted:d,avgMoodWhenMissed:f,avgEnergyWhenCompleted:h,avgEnergyWhenMissed:p,completionRateByMood:b,completionRateByEnergy:x,moodCorrelation:k,energyCorrelation:A,isMoodSensitive:O,isEnergySensitive:N,isResilient:M,totalDaysWithMoodData:s.length,daysCompleted:l.length,daysMissed:c.length}})},[e,t,r]),i=S.useMemo(()=>{const a=n.filter(o=>o.totalDaysWithMoodData>=5);return{moodSensitiveHabits:a.filter(o=>o.isMoodSensitive).sort((o,s)=>s.moodCorrelation-o.moodCorrelation).slice(0,3),energySensitiveHabits:a.filter(o=>o.isEnergySensitive).sort((o,s)=>s.energyCorrelation-o.energyCorrelation).slice(0,3),resilientHabits:a.filter(o=>o.isResilient).sort((o,s)=>s.completionRateByMood.low+s.completionRateByEnergy.low-(o.completionRateByMood.low+o.completionRateByEnergy.low)).slice(0,3),bestAtHighMood:a.sort((o,s)=>s.completionRateByMood.high-o.completionRateByMood.high).slice(0,3),bestAtLowMood:a.sort((o,s)=>s.completionRateByMood.low-o.completionRateByMood.low).slice(0,3),bestAtHighEnergy:a.sort((o,s)=>s.completionRateByEnergy.high-o.completionRateByEnergy.high).slice(0,3),bestAtLowEnergy:a.sort((o,s)=>s.completionRateByEnergy.low-o.completionRateByEnergy.low).slice(0,3)}},[n]);return{correlations:n,insights:i,isLoading:!r}};function Gme(e,t){if(e.length!==t.length||e.length===0)return 0;const r=e.length,n=e.reduce((d,f)=>d+f,0),i=t.reduce((d,f)=>d+f,0),a=e.reduce((d,f,h)=>d+f*t[h],0),o=e.reduce((d,f)=>d+f*f,0),s=t.reduce((d,f)=>d+f*f,0),l=r*a-n*i,c=Math.sqrt((r*o-n*n)*(r*s-i*i));return c===0?0:l/c}function Kme(e){const t=Math.abs(e);return t>=.6?"strong":t>=.3?"moderate":"weak"}function Yme(e){return e>=.3?"positive":e<=-.3?"negative":"none"}function Xme(e){const{habitA:t,habitB:r,correlationCoefficient:n,coOccurrenceRate:i,type:a}=e;if(a==="positive"){const o=Math.round(i);return n>=.6?`Quando completi "${t.title}", hai una probabilit del ${o}% di completare anche "${r.title}". Considera di farle insieme come routine consolidata.`:`"${t.title}" e "${r.title}" tendono ad essere completate insieme (${o}%). Prova a collegarle per rafforzare entrambe.`}else if(a==="negative")return`"${t.title}" e "${r.title}" raramente vengono completate lo stesso giorno. Potrebbero competere per tempo/energia - considera di pianificarle in giorni diversi.`;return`Correlazione debole tra "${t.title}" e "${r.title}".`}const Qme=(e,t)=>{const r=S.useMemo(()=>{if(e.length<2)return[];const i=[],a=Object.keys(t).sort();for(let o=0;o<e.length;o++)for(let s=o+1;s<e.length;s++){const l=e[o],c=e[s],d=[];if(a.forEach(T=>{const O=t[T],P=O?.[l.id],N=O?.[c.id];P&&N&&d.push({dateStr:T,aComplete:P==="done"?1:0,bComplete:N==="done"?1:0})}),d.length<10)continue;const h=d.map(T=>T.aComplete),p=d.map(T=>T.bComplete),v=Gme(h,p);if(Math.abs(v)<.3)continue;const g=d.filter(T=>T.aComplete===1&&T.bComplete===1).length,y=d.filter(T=>T.aComplete===1).length,b=y>0?g/y*100:0,x=Kme(v),_=Yme(v),w=h.reduce((T,O)=>T+O,0)/h.length*100,j=p.reduce((T,O)=>T+O,0)/p.length*100,k=w>=70&&j>=70,A={habitA:{id:l.id,title:l.title,color:l.color},habitB:{id:c.id,title:c.title,color:c.color},correlationCoefficient:v,coOccurrenceRate:b,totalDaysTracked:d.length,strength:x,type:_,isKeystonePair:k,suggestion:""};A.suggestion=Xme(A),i.push(A)}return i},[e,t]),n=S.useMemo(()=>{const i=[...r].sort((f,h)=>Math.abs(h.correlationCoefficient)-Math.abs(f.correlationCoefficient)),a=i.filter(f=>f.type==="positive"),o=i.filter(f=>f.type==="negative"),s=new Map;e.forEach(f=>{s.set(f.id,{habit:f,correlations:[],connections:[]})}),r.forEach(f=>{const h=f.correlationCoefficient,p=s.get(f.habitA.id);p&&(p.correlations.push(h),p.connections.push({habitId:f.habitB.id,title:f.habitB.title,correlation:h}));const v=s.get(f.habitB.id);v&&(v.correlations.push(h),v.connections.push({habitId:f.habitA.id,title:f.habitA.title,correlation:h}))});const l=[];s.forEach((f,h)=>{if(f.correlations.length>=2){const p=f.correlations.reduce((g,y)=>g+y,0)/f.correlations.length;let v="low";f.correlations.length>=4?v="high":f.correlations.length>=3&&(v="medium");const m=[...f.connections].sort((g,y)=>Math.abs(y.correlation)-Math.abs(g.correlation));l.push({habitId:h,title:f.habit.title,color:f.habit.color,avgCorrelation:p,connectedHabits:f.correlations.length,impact:v,connections:m})}}),l.sort((f,h)=>h.connectedHabits-f.connectedHabits);const c=e.filter(f=>!s.get(f.id)?.correlations.length).map(f=>f.id),d=r.length>0?r.reduce((f,h)=>f+Math.abs(h.correlationCoefficient),0)/r.length:0;return{strongestPositive:a.slice(0,5),strongestNegative:o.slice(0,3),keystoneHabits:l.slice(0,3),totalPairs:r.length,avgCorrelation:d,isolatedHabits:c}},[r,e]);return{correlations:r,insights:n}};function Jme({globalStats:e,bestHabit:t}){return u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-sm relative overflow-hidden group",children:[u.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:u.jsx(Gr,{className:"w-24 h-24"})}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2 text-muted-foreground",children:[u.jsx(Gr,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm font-medium",children:"Completamento"})]}),u.jsxs("div",{className:"flex items-baseline gap-2",children:[u.jsxs("span",{className:"text-4xl font-display font-bold text-foreground",children:[e.globalSuccessRate,"%"]}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"globale"})]})]})]}),u.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-sm relative overflow-hidden group",children:[u.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:u.jsx(gw,{className:"w-24 h-24 text-orange-500"})}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2 text-muted-foreground",children:[u.jsx(gw,{className:"w-4 h-4 text-orange-500"}),u.jsx("span",{className:"text-sm font-medium",children:"Miglior Serie"})]}),u.jsxs("div",{className:"flex items-baseline gap-2",children:[u.jsx("span",{className:"text-4xl font-display font-bold text-foreground",children:e.bestStreak}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"giorni"})]})]})]}),u.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-sm relative overflow-hidden group",children:[u.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:u.jsx(Ma,{className:"w-24 h-24 text-yellow-500"})}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2 text-muted-foreground",children:[u.jsx(Ma,{className:"w-4 h-4 text-yellow-500"}),u.jsx("span",{className:"text-sm font-medium",children:"Top Performer"})]}),t?u.jsxs("div",{children:[u.jsx("span",{className:"text-2xl font-display font-bold text-foreground block truncate",children:t.title}),u.jsxs("span",{className:"text-sm text-muted-foreground",children:[t.completionRate,"% completamento"]})]}):u.jsx("span",{className:"text-muted-foreground text-sm",children:"Nessun dato"})]})]}),u.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-sm relative overflow-hidden group",children:[u.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:u.jsx("div",{className:"text-4xl",children:""})}),u.jsxs("div",{children:[u.jsx("div",{className:"flex items-center gap-2 mb-2 text-muted-foreground",children:u.jsx("span",{className:"text-sm font-medium",children:"Giorno Peggiore"})}),e.worstDay?u.jsxs("div",{children:[u.jsx("span",{className:"text-2xl font-display font-bold text-foreground block truncate",children:e.worstDay}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"Focus richiesto"})]}):u.jsx("span",{className:"text-muted-foreground text-sm",children:"Nessun dato"})]})]})]})}function Zme({data:e}){const t=new Date,r=105,n=e.filter(a=>Yte(t,new Date(a.date))<r),i=[];for(let a=r-1;a>=0;a--){const o=Kt(t,a),s=Xe(o,"yyyy-MM-dd"),l=n.find(c=>c.date===s);i.push(l||{date:s,count:0,intensity:0})}return u.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-xl",children:[u.jsx("h3",{className:"text-lg font-display font-semibold mb-4",children:"Costanza"}),u.jsx("div",{className:"flex flex-wrap gap-1 justify-center sm:justify-start",children:i.map(a=>u.jsx("div",{className:ae("w-3 h-3 sm:w-4 sm:h-4 rounded-sm transition-all hover:scale-125 hover:z-10 relative cursor-pointer",a.intensity===0&&"bg-muted/10",a.intensity===1&&"bg-primary/30",a.intensity===2&&"bg-primary/50",a.intensity===3&&"bg-primary/70",a.intensity===4&&"bg-primary"),title:`${a.date}: ${a.count} habits`},a.date))}),u.jsxs("div",{className:"flex items-center justify-end gap-2 mt-4 text-xs text-muted-foreground",children:[u.jsx("span",{children:"Meno"}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("div",{className:"w-3 h-3 rounded-sm bg-muted/10"}),u.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary/30"}),u.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary/50"}),u.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary/70"}),u.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary"})]}),u.jsx("span",{children:"Pi"})]})]})}var oy,GT;function Qr(){if(GT)return oy;GT=1;var e=Array.isArray;return oy=e,oy}var sy,KT;function c8(){if(KT)return sy;KT=1;var e=typeof kn=="object"&&kn&&kn.Object===Object&&kn;return sy=e,sy}var ly,YT;function Ri(){if(YT)return ly;YT=1;var e=c8(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return ly=r,ly}var cy,XT;function Xd(){if(XT)return cy;XT=1;var e=Ri(),t=e.Symbol;return cy=t,cy}var uy,QT;function ege(){if(QT)return uy;QT=1;var e=Xd(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,i=e?e.toStringTag:void 0;function a(o){var s=r.call(o,i),l=o[i];try{o[i]=void 0;var c=!0}catch{}var d=n.call(o);return c&&(s?o[i]=l:delete o[i]),d}return uy=a,uy}var dy,JT;function tge(){if(JT)return dy;JT=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return dy=r,dy}var fy,ZT;function da(){if(ZT)return fy;ZT=1;var e=Xd(),t=ege(),r=tge(),n="[object Null]",i="[object Undefined]",a=e?e.toStringTag:void 0;function o(s){return s==null?s===void 0?i:n:a&&a in Object(s)?t(s):r(s)}return fy=o,fy}var hy,eP;function fa(){if(eP)return hy;eP=1;function e(t){return t!=null&&typeof t=="object"}return hy=e,hy}var py,tP;function sc(){if(tP)return py;tP=1;var e=da(),t=fa(),r="[object Symbol]";function n(i){return typeof i=="symbol"||t(i)&&e(i)==r}return py=n,py}var my,rP;function Nk(){if(rP)return my;rP=1;var e=Qr(),t=sc(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){if(e(a))return!1;var s=typeof a;return s=="number"||s=="symbol"||s=="boolean"||a==null||t(a)?!0:n.test(a)||!r.test(a)||o!=null&&a in Object(o)}return my=i,my}var gy,nP;function io(){if(nP)return gy;nP=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return gy=e,gy}var vy,iP;function Rk(){if(iP)return vy;iP=1;var e=da(),t=io(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(s){if(!t(s))return!1;var l=e(s);return l==n||l==i||l==r||l==a}return vy=o,vy}var yy,aP;function rge(){if(aP)return yy;aP=1;var e=Ri(),t=e["__core-js_shared__"];return yy=t,yy}var by,oP;function nge(){if(oP)return by;oP=1;var e=rge(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return by=r,by}var xy,sP;function u8(){if(sP)return xy;sP=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return xy=r,xy}var wy,lP;function ige(){if(lP)return wy;lP=1;var e=Rk(),t=nge(),r=io(),n=u8(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,s=Object.prototype,l=o.toString,c=s.hasOwnProperty,d=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(h){if(!r(h)||t(h))return!1;var p=e(h)?d:a;return p.test(n(h))}return wy=f,wy}var Sy,cP;function age(){if(cP)return Sy;cP=1;function e(t,r){return t?.[r]}return Sy=e,Sy}var _y,uP;function ds(){if(uP)return _y;uP=1;var e=ige(),t=age();function r(n,i){var a=t(n,i);return e(a)?a:void 0}return _y=r,_y}var jy,dP;function ng(){if(dP)return jy;dP=1;var e=ds(),t=e(Object,"create");return jy=t,jy}var ky,fP;function oge(){if(fP)return ky;fP=1;var e=ng();function t(){this.__data__=e?e(null):{},this.size=0}return ky=t,ky}var Ey,hP;function sge(){if(hP)return Ey;hP=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return Ey=e,Ey}var Ay,pP;function lge(){if(pP)return Ay;pP=1;var e=ng(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var o=this.__data__;if(e){var s=o[a];return s===t?void 0:s}return n.call(o,a)?o[a]:void 0}return Ay=i,Ay}var Oy,mP;function cge(){if(mP)return Oy;mP=1;var e=ng(),t=Object.prototype,r=t.hasOwnProperty;function n(i){var a=this.__data__;return e?a[i]!==void 0:r.call(a,i)}return Oy=n,Oy}var Cy,gP;function uge(){if(gP)return Cy;gP=1;var e=ng(),t="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=e&&i===void 0?t:i,this}return Cy=r,Cy}var Ty,vP;function dge(){if(vP)return Ty;vP=1;var e=oge(),t=sge(),r=lge(),n=cge(),i=uge();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Ty=a,Ty}var Py,yP;function fge(){if(yP)return Py;yP=1;function e(){this.__data__=[],this.size=0}return Py=e,Py}var Ny,bP;function Ik(){if(bP)return Ny;bP=1;function e(t,r){return t===r||t!==t&&r!==r}return Ny=e,Ny}var Ry,xP;function ig(){if(xP)return Ry;xP=1;var e=Ik();function t(r,n){for(var i=r.length;i--;)if(e(r[i][0],n))return i;return-1}return Ry=t,Ry}var Iy,wP;function hge(){if(wP)return Iy;wP=1;var e=ig(),t=Array.prototype,r=t.splice;function n(i){var a=this.__data__,o=e(a,i);if(o<0)return!1;var s=a.length-1;return o==s?a.pop():r.call(a,o,1),--this.size,!0}return Iy=n,Iy}var My,SP;function pge(){if(SP)return My;SP=1;var e=ig();function t(r){var n=this.__data__,i=e(n,r);return i<0?void 0:n[i][1]}return My=t,My}var Dy,_P;function mge(){if(_P)return Dy;_P=1;var e=ig();function t(r){return e(this.__data__,r)>-1}return Dy=t,Dy}var $y,jP;function gge(){if(jP)return $y;jP=1;var e=ig();function t(r,n){var i=this.__data__,a=e(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return $y=t,$y}var Ly,kP;function ag(){if(kP)return Ly;kP=1;var e=fge(),t=hge(),r=pge(),n=mge(),i=gge();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Ly=a,Ly}var zy,EP;function Mk(){if(EP)return zy;EP=1;var e=ds(),t=Ri(),r=e(t,"Map");return zy=r,zy}var Fy,AP;function vge(){if(AP)return Fy;AP=1;var e=dge(),t=ag(),r=Mk();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return Fy=n,Fy}var By,OP;function yge(){if(OP)return By;OP=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return By=e,By}var qy,CP;function og(){if(CP)return qy;CP=1;var e=yge();function t(r,n){var i=r.__data__;return e(n)?i[typeof n=="string"?"string":"hash"]:i.map}return qy=t,qy}var Uy,TP;function bge(){if(TP)return Uy;TP=1;var e=og();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return Uy=t,Uy}var Vy,PP;function xge(){if(PP)return Vy;PP=1;var e=og();function t(r){return e(this,r).get(r)}return Vy=t,Vy}var Wy,NP;function wge(){if(NP)return Wy;NP=1;var e=og();function t(r){return e(this,r).has(r)}return Wy=t,Wy}var Hy,RP;function Sge(){if(RP)return Hy;RP=1;var e=og();function t(r,n){var i=e(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return Hy=t,Hy}var Gy,IP;function Dk(){if(IP)return Gy;IP=1;var e=vge(),t=bge(),r=xge(),n=wge(),i=Sge();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Gy=a,Gy}var Ky,MP;function d8(){if(MP)return Ky;MP=1;var e=Dk(),t="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var a=function(){var o=arguments,s=i?i.apply(this,o):o[0],l=a.cache;if(l.has(s))return l.get(s);var c=n.apply(this,o);return a.cache=l.set(s,c)||l,c};return a.cache=new(r.Cache||e),a}return r.Cache=e,Ky=r,Ky}var Yy,DP;function _ge(){if(DP)return Yy;DP=1;var e=d8(),t=500;function r(n){var i=e(n,function(o){return a.size===t&&a.clear(),o}),a=i.cache;return i}return Yy=r,Yy}var Xy,$P;function jge(){if($P)return Xy;$P=1;var e=_ge(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(t,function(o,s,l,c){a.push(l?c.replace(r,"$1"):s||o)}),a});return Xy=n,Xy}var Qy,LP;function $k(){if(LP)return Qy;LP=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,a=Array(i);++n<i;)a[n]=r(t[n],n,t);return a}return Qy=e,Qy}var Jy,zP;function kge(){if(zP)return Jy;zP=1;var e=Xd(),t=$k(),r=Qr(),n=sc(),i=e?e.prototype:void 0,a=i?i.toString:void 0;function o(s){if(typeof s=="string")return s;if(r(s))return t(s,o)+"";if(n(s))return a?a.call(s):"";var l=s+"";return l=="0"&&1/s==-1/0?"-0":l}return Jy=o,Jy}var Zy,FP;function f8(){if(FP)return Zy;FP=1;var e=kge();function t(r){return r==null?"":e(r)}return Zy=t,Zy}var eb,BP;function h8(){if(BP)return eb;BP=1;var e=Qr(),t=Nk(),r=jge(),n=f8();function i(a,o){return e(a)?a:t(a,o)?[a]:r(n(a))}return eb=i,eb}var tb,qP;function sg(){if(qP)return tb;qP=1;var e=sc();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return tb=t,tb}var rb,UP;function Lk(){if(UP)return rb;UP=1;var e=h8(),t=sg();function r(n,i){i=e(i,n);for(var a=0,o=i.length;n!=null&&a<o;)n=n[t(i[a++])];return a&&a==o?n:void 0}return rb=r,rb}var nb,VP;function p8(){if(VP)return nb;VP=1;var e=Lk();function t(r,n,i){var a=r==null?void 0:e(r,n);return a===void 0?i:a}return nb=t,nb}var Ege=p8();const un=ot(Ege);var ib,WP;function Age(){if(WP)return ib;WP=1;function e(t){return t==null}return ib=e,ib}var Oge=Age();const Re=ot(Oge);var ab,HP;function Cge(){if(HP)return ab;HP=1;var e=da(),t=Qr(),r=fa(),n="[object String]";function i(a){return typeof a=="string"||!t(a)&&r(a)&&e(a)==n}return ab=i,ab}var Tge=Cge();const es=ot(Tge);var Pge=Rk();const Ne=ot(Pge);var Nge=io();const lc=ot(Nge);var ob={exports:{}},pt={};var GP;function Rge(){if(GP)return pt;GP=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),s=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.offscreen"),v;v=Symbol.for("react.module.reference");function m(g){if(typeof g=="object"&&g!==null){var y=g.$$typeof;switch(y){case e:switch(g=g.type,g){case r:case i:case n:case c:case d:return g;default:switch(g=g&&g.$$typeof,g){case s:case o:case l:case h:case f:case a:return g;default:return y}}case t:return y}}}return pt.ContextConsumer=o,pt.ContextProvider=a,pt.Element=e,pt.ForwardRef=l,pt.Fragment=r,pt.Lazy=h,pt.Memo=f,pt.Portal=t,pt.Profiler=i,pt.StrictMode=n,pt.Suspense=c,pt.SuspenseList=d,pt.isAsyncMode=function(){return!1},pt.isConcurrentMode=function(){return!1},pt.isContextConsumer=function(g){return m(g)===o},pt.isContextProvider=function(g){return m(g)===a},pt.isElement=function(g){return typeof g=="object"&&g!==null&&g.$$typeof===e},pt.isForwardRef=function(g){return m(g)===l},pt.isFragment=function(g){return m(g)===r},pt.isLazy=function(g){return m(g)===h},pt.isMemo=function(g){return m(g)===f},pt.isPortal=function(g){return m(g)===t},pt.isProfiler=function(g){return m(g)===i},pt.isStrictMode=function(g){return m(g)===n},pt.isSuspense=function(g){return m(g)===c},pt.isSuspenseList=function(g){return m(g)===d},pt.isValidElementType=function(g){return typeof g=="string"||typeof g=="function"||g===r||g===i||g===n||g===c||g===d||g===p||typeof g=="object"&&g!==null&&(g.$$typeof===h||g.$$typeof===f||g.$$typeof===a||g.$$typeof===o||g.$$typeof===l||g.$$typeof===v||g.getModuleId!==void 0)},pt.typeOf=m,pt}var KP;function Ige(){return KP||(KP=1,ob.exports=Rge()),ob.exports}var Mge=Ige(),sb,YP;function m8(){if(YP)return sb;YP=1;var e=da(),t=fa(),r="[object Number]";function n(i){return typeof i=="number"||t(i)&&e(i)==r}return sb=n,sb}var lb,XP;function Dge(){if(XP)return lb;XP=1;var e=m8();function t(r){return e(r)&&r!=+r}return lb=t,lb}var $ge=Dge();const cc=ot($ge);var Lge=m8();const zge=ot(Lge);var $r=function(t){return t===0?0:t>0?1:-1},Mo=function(t){return es(t)&&t.indexOf("%")===t.length-1},pe=function(t){return zge(t)&&!cc(t)},Fge=function(t){return Re(t)},sr=function(t){return pe(t)||es(t)},Bge=0,ao=function(t){var r=++Bge;return"".concat(t||"").concat(r)},Lr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!pe(t)&&!es(t))return n;var a;if(Mo(t)){var o=t.indexOf("%");a=r*parseFloat(t.slice(0,o))/100}else a=+t;return cc(a)&&(a=n),i&&a>r&&(a=r),a},Oa=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},qge=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},xt=function(t,r){return pe(t)&&pe(r)?function(n){return t+n*(r-t)}:function(){return r}};function Jh(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):un(n,t))===r})}var Uge=function(t){if(!t||!t.length)return null;for(var r=t.length,n=0,i=0,a=0,o=0,s=1/0,l=-1/0,c=0,d=0,f=0;f<r;f++)c=t[f].cx||0,d=t[f].cy||0,n+=c,i+=d,a+=c*d,o+=c*c,s=Math.min(s,c),l=Math.max(l,c);var h=r*o!==n*n?(r*a-n*i)/(r*o-n*n):0;return{xmin:s,xmax:l,a:h,b:(i-h*n)/r}},Vge=function(t,r){return pe(t)&&pe(r)?t-r:es(t)&&es(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Zs(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function V1(e){"@babel/helpers - typeof";return V1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V1(e)}var Wge=["viewBox","children"],Hge=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],QP=["points","pathLength"],cb={svg:Wge,polygon:QP,polyline:QP},zk=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Zh=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(S.isValidElement(t)&&(n=t.props),!lc(n))return null;var i={};return Object.keys(n).forEach(function(a){zk.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},Gge=function(t,r,n){return function(i){return t(r,n,i),null}},Ja=function(t,r,n){if(!lc(t)||V1(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var o=t[a];zk.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=Gge(o,r,n))}),i},Kge=["children"],Yge=["children"];function JP(e,t){if(e==null)return{};var r=Xge(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Xge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function W1(e){"@babel/helpers - typeof";return W1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W1(e)}var ZP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Xi=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},eN=null,ub=null,Fk=function e(t){if(t===eN&&Array.isArray(ub))return ub;var r=[];return S.Children.forEach(t,function(n){Re(n)||(Mge.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),ub=r,eN=t,r};function Fr(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return Xi(i)}):n=[Xi(t)],Fk(e).forEach(function(i){var a=un(i,"type.displayName")||un(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function tn(e,t){var r=Fr(e,t);return r&&r[0]}var tN=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!pe(n)||n<=0||!pe(i)||i<=0)},Qge=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Jge=function(t){return t&&t.type&&es(t.type)&&Qge.indexOf(t.type)>=0},g8=function(t){return t&&W1(t)==="object"&&"clipDot"in t},Zge=function(t,r,n,i){var a,o=(a=cb?.[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Ne(t)&&(i&&o.includes(r)||Hge.includes(r))||n&&zk.includes(r)},we=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(S.isValidElement(t)&&(i=t.props),!lc(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;Zge((s=i)===null||s===void 0?void 0:s[o],o,r,n)&&(a[o]=i[o])}),a},H1=function e(t,r){if(t===r)return!0;var n=S.Children.count(t);if(n!==S.Children.count(r))return!1;if(n===0)return!0;if(n===1)return rN(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=t[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!rN(a,o))return!1}return!0},rN=function(t,r){if(Re(t)&&Re(r))return!0;if(!Re(t)&&!Re(r)){var n=t.props||{},i=n.children,a=JP(n,Kge),o=r.props||{},s=o.children,l=JP(o,Yge);return i&&s?Zs(a,l)&&H1(i,s):!i&&!s?Zs(a,l):!1}return!1},nN=function(t,r){var n=[],i={};return Fk(t).forEach(function(a,o){if(Jge(a))n.push(a);else if(a){var s=Xi(a.type),l=r[s]||{},c=l.handler,d=l.once;if(c&&(!d||!i[s])){var f=c(a,s,o);n.push(f),i[s]=!0}}}),n},eve=function(t){var r=t&&t.type;return r&&ZP[r]?ZP[r]:null},tve=function(t,r){return Fk(r).indexOf(t)},rve=["children","width","height","viewBox","className","style","title","desc"];function G1(){return G1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G1.apply(this,arguments)}function nve(e,t){if(e==null)return{};var r=ive(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ive(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function K1(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,a=e.className,o=e.style,s=e.title,l=e.desc,c=nve(e,rve),d=i||{width:r,height:n,x:0,y:0},f=Le("recharts-surface",a);return I.createElement("svg",G1({},we(c,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),I.createElement("title",null,s),I.createElement("desc",null,l),t)}var ave=["children","className"];function Y1(){return Y1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y1.apply(this,arguments)}function ove(e,t){if(e==null)return{};var r=sve(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Be=I.forwardRef(function(e,t){var r=e.children,n=e.className,i=ove(e,ave),a=Le("recharts-layer",n);return I.createElement("g",Y1({className:a},we(i,!0),{ref:t}),r)}),Zn=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},db,iN;function lve(){if(iN)return db;iN=1;function e(t,r,n){var i=-1,a=t.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(a);++i<a;)o[i]=t[i+r];return o}return db=e,db}var fb,aN;function cve(){if(aN)return fb;aN=1;var e=lve();function t(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:e(r,n,i)}return fb=t,fb}var hb,oN;function v8(){if(oN)return hb;oN=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,a="\\ufe0e\\ufe0f",o="\\u200d",s=RegExp("["+o+e+i+a+"]");function l(c){return s.test(c)}return hb=l,hb}var pb,sN;function uve(){if(sN)return pb;sN=1;function e(t){return t.split("")}return pb=e,pb}var mb,lN;function dve(){if(lN)return mb;lN=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,a="\\ufe0e\\ufe0f",o="["+e+"]",s="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",c="(?:"+s+"|"+l+")",d="[^"+e+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",v=c+"?",m="["+a+"]?",g="(?:"+p+"(?:"+[d,f,h].join("|")+")"+m+v+")*",y=m+v+g,b="(?:"+[d+s+"?",s,f,h,o].join("|")+")",x=RegExp(l+"(?="+l+")|"+b+y,"g");function _(w){return w.match(x)||[]}return mb=_,mb}var gb,cN;function fve(){if(cN)return gb;cN=1;var e=uve(),t=v8(),r=dve();function n(i){return t(i)?r(i):e(i)}return gb=n,gb}var vb,uN;function hve(){if(uN)return vb;uN=1;var e=cve(),t=v8(),r=fve(),n=f8();function i(a){return function(o){o=n(o);var s=t(o)?r(o):void 0,l=s?s[0]:o.charAt(0),c=s?e(s,1).join(""):o.slice(1);return l[a]()+c}}return vb=i,vb}var yb,dN;function pve(){if(dN)return yb;dN=1;var e=hve(),t=e("toUpperCase");return yb=t,yb}var mve=pve();const lg=ot(mve);function At(e){return function(){return e}}const y8=Math.cos,ep=Math.sin,ai=Math.sqrt,tp=Math.PI,cg=2*tp,X1=Math.PI,Q1=2*X1,ko=1e-6,gve=Q1-ko;function b8(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function vve(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return b8;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class yve{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?b8:vve(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=n-t,c=i-r,d=o-t,f=s-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>ko)if(!(Math.abs(f*l-c*d)>ko)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,v=i-s,m=l*l+c*c,g=p*p+v*v,y=Math.sqrt(m),b=Math.sqrt(h),x=a*Math.tan((X1-Math.acos((m+h-g)/(2*y*b)))/2),_=x/b,w=x/y;Math.abs(_-1)>ko&&this._append`L${t+_*d},${r+_*f}`,this._append`A${a},${a},0,0,${+(f*p>d*v)},${this._x1=t+w*l},${this._y1=r+w*c}`}}arc(t,r,n,i,a,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),c=t+s,d=r+l,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>ko||Math.abs(this._y1-d)>ko)&&this._append`L${c},${d}`,n&&(h<0&&(h=h%Q1+Q1),h>gve?this._append`A${n},${n},0,1,${f},${t-s},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=d}`:h>ko&&this._append`A${n},${n},0,${+(h>=X1)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Bk(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new yve(t)}function qk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function x8(e){this._context=e}x8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ug(e){return new x8(e)}function w8(e){return e[0]}function S8(e){return e[1]}function _8(e,t){var r=At(!0),n=null,i=ug,a=null,o=Bk(s);e=typeof e=="function"?e:e===void 0?w8:At(e),t=typeof t=="function"?t:t===void 0?S8:At(t);function s(l){var c,d=(l=qk(l)).length,f,h=!1,p;for(n==null&&(a=i(p=o())),c=0;c<=d;++c)!(c<d&&r(f=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,c,l),+t(f,c,l));if(p)return a=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:At(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:At(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:At(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),s):n},s}function $f(e,t,r){var n=null,i=At(!0),a=null,o=ug,s=null,l=Bk(c);e=typeof e=="function"?e:e===void 0?w8:At(+e),t=typeof t=="function"?t:At(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?S8:At(+r);function c(f){var h,p,v,m=(f=qk(f)).length,g,y=!1,b,x=new Array(m),_=new Array(m);for(a==null&&(s=o(b=l())),h=0;h<=m;++h){if(!(h<m&&i(g=f[h],h,f))===y)if(y=!y)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=h-1;v>=p;--v)s.point(x[v],_[v]);s.lineEnd(),s.areaEnd()}y&&(x[h]=+e(g,h,f),_[h]=+t(g,h,f),s.point(n?+n(g,h,f):x[h],r?+r(g,h,f):_[h]))}if(b)return s=null,b+""||null}function d(){return _8().defined(i).curve(o).context(a)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:At(+f),n=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:At(+f),c):e},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:At(+f),c):n},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:At(+f),r=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:At(+f),c):t},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:At(+f),c):r},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(r)},c.lineX1=function(){return d().x(n).y(t)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:At(!!f),c):i},c.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),c):o},c.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),c):a},c}class j8{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function bve(e){return new j8(e,!0)}function xve(e){return new j8(e,!1)}const Uk={draw(e,t){const r=ai(t/tp);e.moveTo(r,0),e.arc(0,0,r,0,cg)}},wve={draw(e,t){const r=ai(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},k8=ai(1/3),Sve=k8*2,_ve={draw(e,t){const r=ai(t/Sve),n=r*k8;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},jve={draw(e,t){const r=ai(t),n=-r/2;e.rect(n,n,r,r)}},kve=.8908130915292852,E8=ep(tp/10)/ep(7*tp/10),Eve=ep(cg/10)*E8,Ave=-y8(cg/10)*E8,Ove={draw(e,t){const r=ai(t*kve),n=Eve*r,i=Ave*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const o=cg*a/5,s=y8(o),l=ep(o);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*i,l*n+s*i)}e.closePath()}},bb=ai(3),Cve={draw(e,t){const r=-ai(t/(bb*3));e.moveTo(0,r*2),e.lineTo(-bb*r,-r),e.lineTo(bb*r,-r),e.closePath()}},fn=-.5,hn=ai(3)/2,J1=1/ai(12),Tve=(J1/2+1)*3,Pve={draw(e,t){const r=ai(t/Tve),n=r/2,i=r*J1,a=n,o=r*J1+r,s=-a,l=o;e.moveTo(n,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(fn*n-hn*i,hn*n+fn*i),e.lineTo(fn*a-hn*o,hn*a+fn*o),e.lineTo(fn*s-hn*l,hn*s+fn*l),e.lineTo(fn*n+hn*i,fn*i-hn*n),e.lineTo(fn*a+hn*o,fn*o-hn*a),e.lineTo(fn*s+hn*l,fn*l-hn*s),e.closePath()}};function Nve(e,t){let r=null,n=Bk(i);e=typeof e=="function"?e:At(e||Uk),t=typeof t=="function"?t:At(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:At(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:At(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function rp(){}function np(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function A8(e){this._context=e}A8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:np(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:np(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Rve(e){return new A8(e)}function O8(e){this._context=e}O8.prototype={areaStart:rp,areaEnd:rp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:np(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ive(e){return new O8(e)}function C8(e){this._context=e}C8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:np(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Mve(e){return new C8(e)}function T8(e){this._context=e}T8.prototype={areaStart:rp,areaEnd:rp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Dve(e){return new T8(e)}function fN(e){return e<0?-1:1}function hN(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(fN(a)+fN(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function pN(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function xb(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-n)/3;e._context.bezierCurveTo(n+s,i+s*t,a-s,o-s*r,a,o)}function ip(e){this._context=e}ip.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:xb(this,this._t0,pN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,xb(this,pN(this,r=hN(this,e,t)),r);break;default:xb(this,this._t0,r=hN(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function P8(e){this._context=new N8(e)}(P8.prototype=Object.create(ip.prototype)).point=function(e,t){ip.prototype.point.call(this,t,e)};function N8(e){this._context=e}N8.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function $ve(e){return new ip(e)}function Lve(e){return new P8(e)}function R8(e){this._context=e}R8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=mN(e),i=mN(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function mN(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function zve(e){return new R8(e)}function dg(e,t){this._context=e,this._t=t}dg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Fve(e){return new dg(e,.5)}function Bve(e){return new dg(e,0)}function qve(e){return new dg(e,1)}function fl(e,t){if((o=e.length)>1)for(var r=1,n,i,a=e[t[0]],o,s=a.length;r<o;++r)for(i=a,a=e[t[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Z1(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Uve(e,t){return e[t]}function Vve(e){const t=[];return t.key=e,t}function Wve(){var e=At([]),t=Z1,r=fl,n=Uve;function i(a){var o=Array.from(e.apply(this,arguments),Vve),s,l=o.length,c=-1,d;for(const f of a)for(s=0,++c;s<l;++s)(o[s][c]=[0,+n(f,o[s].key,c,a)]).data=f;for(s=0,d=qk(t(o));s<l;++s)o[d[s]].index=s;return r(o,d),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:At(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:At(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?Z1:typeof a=="function"?a:At(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??fl,i):r},i}function Hve(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}fl(e,t)}}function Gve(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=e[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}fl(e,t)}}function Kve(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,l=0,c=0;s<o;++s){for(var d=e[t[s]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,v=0;v<s;++v){var m=e[t[v]],g=m[n][1]||0,y=m[n-1][1]||0;p+=g-y}l+=f,c+=p*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,fl(e,t)}}function Wu(e){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wu(e)}var Yve=["type","size","sizeType"];function eS(){return eS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eS.apply(this,arguments)}function gN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gN(Object(r),!0).forEach(function(n){Xve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xve(e,t,r){return t=Qve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qve(e){var t=Jve(e,"string");return Wu(t)=="symbol"?t:t+""}function Jve(e,t){if(Wu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zve(e,t){if(e==null)return{};var r=eye(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var I8={symbolCircle:Uk,symbolCross:wve,symbolDiamond:_ve,symbolSquare:jve,symbolStar:Ove,symbolTriangle:Cve,symbolWye:Pve},tye=Math.PI/180,rye=function(t){var r="symbol".concat(lg(t));return I8[r]||Uk},nye=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*tye;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},iye=function(t,r){I8["symbol".concat(lg(t))]=r},fg=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,a=i===void 0?64:i,o=t.sizeType,s=o===void 0?"area":o,l=Zve(t,Yve),c=vN(vN({},l),{},{type:n,size:a,sizeType:s}),d=function(){var g=rye(n),y=Nve().type(g).size(nye(a,s,n));return y()},f=c.className,h=c.cx,p=c.cy,v=we(c,!0);return h===+h&&p===+p&&a===+a?I.createElement("path",eS({},v,{className:Le("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};fg.registerSymbol=iye;function hl(e){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hl(e)}function tS(){return tS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tS.apply(this,arguments)}function yN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function aye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yN(Object(r),!0).forEach(function(n){Hu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,D8(n.key),n)}}function lye(e,t,r){return t&&sye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cye(e,t,r){return t=ap(t),uye(e,M8()?Reflect.construct(t,r||[],ap(e).constructor):t.apply(e,r))}function uye(e,t){if(t&&(hl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dye(e)}function dye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M8=function(){return!!e})()}function ap(e){return ap=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ap(e)}function fye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rS(e,t)}function rS(e,t){return rS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rS(e,t)}function Hu(e,t,r){return t=D8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D8(e){var t=hye(e,"string");return hl(t)=="symbol"?t:t+""}function hye(e,t){if(hl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var pn=32,Vk=(function(e){function t(){return oye(this,t),cye(this,t,arguments)}return fye(t,e),lye(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=pn/2,o=pn/6,s=pn/3,l=n.inactive?i:n.color;if(n.type==="plainline")return I.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:pn,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return I.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(pn,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return I.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(pn/8,"h").concat(pn,"v").concat(pn*3/4,"h").concat(-pn,"z"),className:"recharts-legend-icon"});if(I.isValidElement(n.legendIcon)){var c=aye({},n);return delete c.legendIcon,I.cloneElement(n.legendIcon,c)}return I.createElement(fg,{fill:l,cx:a,cy:a,size:pn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,d={x:0,y:0,width:pn,height:pn},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,v){var m=p.formatter||l,g=Le(Hu(Hu({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=Ne(p.value)?null:p.value;Zn(!Ne(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?c:p.color;return I.createElement("li",tS({className:g,style:f,key:"legend-item-".concat(v)},Ja(n.props,p,v)),I.createElement(K1,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),I.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},m?m(y,p,v):y))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return I.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])})(S.PureComponent);Hu(Vk,"displayName","Legend");Hu(Vk,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var wb,bN;function pye(){if(bN)return wb;bN=1;var e=ag();function t(){this.__data__=new e,this.size=0}return wb=t,wb}var Sb,xN;function mye(){if(xN)return Sb;xN=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return Sb=e,Sb}var _b,wN;function gye(){if(wN)return _b;wN=1;function e(t){return this.__data__.get(t)}return _b=e,_b}var jb,SN;function vye(){if(SN)return jb;SN=1;function e(t){return this.__data__.has(t)}return jb=e,jb}var kb,_N;function yye(){if(_N)return kb;_N=1;var e=ag(),t=Mk(),r=Dk(),n=200;function i(a,o){var s=this.__data__;if(s instanceof e){var l=s.__data__;if(!t||l.length<n-1)return l.push([a,o]),this.size=++s.size,this;s=this.__data__=new r(l)}return s.set(a,o),this.size=s.size,this}return kb=i,kb}var Eb,jN;function $8(){if(jN)return Eb;jN=1;var e=ag(),t=pye(),r=mye(),n=gye(),i=vye(),a=yye();function o(s){var l=this.__data__=new e(s);this.size=l.size}return o.prototype.clear=t,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=a,Eb=o,Eb}var Ab,kN;function bye(){if(kN)return Ab;kN=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return Ab=t,Ab}var Ob,EN;function xye(){if(EN)return Ob;EN=1;function e(t){return this.__data__.has(t)}return Ob=e,Ob}var Cb,AN;function L8(){if(AN)return Cb;AN=1;var e=Dk(),t=bye(),r=xye();function n(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new e;++a<o;)this.add(i[a])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,Cb=n,Cb}var Tb,ON;function z8(){if(ON)return Tb;ON=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(t[n],n,t))return!0;return!1}return Tb=e,Tb}var Pb,CN;function F8(){if(CN)return Pb;CN=1;function e(t,r){return t.has(r)}return Pb=e,Pb}var Nb,TN;function B8(){if(TN)return Nb;TN=1;var e=L8(),t=z8(),r=F8(),n=1,i=2;function a(o,s,l,c,d,f){var h=l&n,p=o.length,v=s.length;if(p!=v&&!(h&&v>p))return!1;var m=f.get(o),g=f.get(s);if(m&&g)return m==s&&g==o;var y=-1,b=!0,x=l&i?new e:void 0;for(f.set(o,s),f.set(s,o);++y<p;){var _=o[y],w=s[y];if(c)var j=h?c(w,_,y,s,o,f):c(_,w,y,o,s,f);if(j!==void 0){if(j)continue;b=!1;break}if(x){if(!t(s,function(k,A){if(!r(x,A)&&(_===k||d(_,k,l,c,f)))return x.push(A)})){b=!1;break}}else if(!(_===w||d(_,w,l,c,f))){b=!1;break}}return f.delete(o),f.delete(s),b}return Nb=a,Nb}var Rb,PN;function wye(){if(PN)return Rb;PN=1;var e=Ri(),t=e.Uint8Array;return Rb=t,Rb}var Ib,NN;function Sye(){if(NN)return Ib;NN=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i,a){n[++r]=[a,i]}),n}return Ib=e,Ib}var Mb,RN;function Wk(){if(RN)return Mb;RN=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i){n[++r]=i}),n}return Mb=e,Mb}var Db,IN;function _ye(){if(IN)return Db;IN=1;var e=Xd(),t=wye(),r=Ik(),n=B8(),i=Sye(),a=Wk(),o=1,s=2,l="[object Boolean]",c="[object Date]",d="[object Error]",f="[object Map]",h="[object Number]",p="[object RegExp]",v="[object Set]",m="[object String]",g="[object Symbol]",y="[object ArrayBuffer]",b="[object DataView]",x=e?e.prototype:void 0,_=x?x.valueOf:void 0;function w(j,k,A,T,O,P,N){switch(A){case b:if(j.byteLength!=k.byteLength||j.byteOffset!=k.byteOffset)return!1;j=j.buffer,k=k.buffer;case y:return!(j.byteLength!=k.byteLength||!P(new t(j),new t(k)));case l:case c:case h:return r(+j,+k);case d:return j.name==k.name&&j.message==k.message;case p:case m:return j==k+"";case f:var M=i;case v:var E=T&o;if(M||(M=a),j.size!=k.size&&!E)return!1;var R=N.get(j);if(R)return R==k;T|=s,N.set(j,k);var F=n(M(j),M(k),T,O,P,N);return N.delete(j),F;case g:if(_)return _.call(j)==_.call(k)}return!1}return Db=w,Db}var $b,MN;function q8(){if(MN)return $b;MN=1;function e(t,r){for(var n=-1,i=r.length,a=t.length;++n<i;)t[a+n]=r[n];return t}return $b=e,$b}var Lb,DN;function jye(){if(DN)return Lb;DN=1;var e=q8(),t=Qr();function r(n,i,a){var o=i(n);return t(n)?o:e(o,a(n))}return Lb=r,Lb}var zb,$N;function kye(){if($N)return zb;$N=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,a=0,o=[];++n<i;){var s=t[n];r(s,n,t)&&(o[a++]=s)}return o}return zb=e,zb}var Fb,LN;function Eye(){if(LN)return Fb;LN=1;function e(){return[]}return Fb=e,Fb}var Bb,zN;function Aye(){if(zN)return Bb;zN=1;var e=kye(),t=Eye(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),e(i(o),function(s){return n.call(o,s)}))}:t;return Bb=a,Bb}var qb,FN;function Oye(){if(FN)return qb;FN=1;function e(t,r){for(var n=-1,i=Array(t);++n<t;)i[n]=r(n);return i}return qb=e,qb}var Ub,BN;function Cye(){if(BN)return Ub;BN=1;var e=da(),t=fa(),r="[object Arguments]";function n(i){return t(i)&&e(i)==r}return Ub=n,Ub}var Vb,qN;function Hk(){if(qN)return Vb;qN=1;var e=Cye(),t=fa(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=e((function(){return arguments})())?e:function(o){return t(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return Vb=a,Vb}var Yc={exports:{}},Wb,UN;function Tye(){if(UN)return Wb;UN=1;function e(){return!1}return Wb=e,Wb}Yc.exports;var VN;function U8(){return VN||(VN=1,(function(e,t){var r=Ri(),n=Tye(),i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,s=o?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;e.exports=c})(Yc,Yc.exports)),Yc.exports}var Hb,WN;function Gk(){if(WN)return Hb;WN=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??e,!!i&&(a=="number"||a!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<i}return Hb=r,Hb}var Gb,HN;function Kk(){if(HN)return Gb;HN=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return Gb=t,Gb}var Kb,GN;function Pye(){if(GN)return Kb;GN=1;var e=da(),t=Kk(),r=fa(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",s="[object Error]",l="[object Function]",c="[object Map]",d="[object Number]",f="[object Object]",h="[object RegExp]",p="[object Set]",v="[object String]",m="[object WeakMap]",g="[object ArrayBuffer]",y="[object DataView]",b="[object Float32Array]",x="[object Float64Array]",_="[object Int8Array]",w="[object Int16Array]",j="[object Int32Array]",k="[object Uint8Array]",A="[object Uint8ClampedArray]",T="[object Uint16Array]",O="[object Uint32Array]",P={};P[b]=P[x]=P[_]=P[w]=P[j]=P[k]=P[A]=P[T]=P[O]=!0,P[n]=P[i]=P[g]=P[a]=P[y]=P[o]=P[s]=P[l]=P[c]=P[d]=P[f]=P[h]=P[p]=P[v]=P[m]=!1;function N(M){return r(M)&&t(M.length)&&!!P[e(M)]}return Kb=N,Kb}var Yb,KN;function V8(){if(KN)return Yb;KN=1;function e(t){return function(r){return t(r)}}return Yb=e,Yb}var Xc={exports:{}};Xc.exports;var YN;function Nye(){return YN||(YN=1,(function(e,t){var r=c8(),n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===n,o=a&&r.process,s=(function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}})();e.exports=s})(Xc,Xc.exports)),Xc.exports}var Xb,XN;function W8(){if(XN)return Xb;XN=1;var e=Pye(),t=V8(),r=Nye(),n=r&&r.isTypedArray,i=n?t(n):e;return Xb=i,Xb}var Qb,QN;function Rye(){if(QN)return Qb;QN=1;var e=Oye(),t=Hk(),r=Qr(),n=U8(),i=Gk(),a=W8(),o=Object.prototype,s=o.hasOwnProperty;function l(c,d){var f=r(c),h=!f&&t(c),p=!f&&!h&&n(c),v=!f&&!h&&!p&&a(c),m=f||h||p||v,g=m?e(c.length,String):[],y=g.length;for(var b in c)(d||s.call(c,b))&&!(m&&(b=="length"||p&&(b=="offset"||b=="parent")||v&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||i(b,y)))&&g.push(b);return g}return Qb=l,Qb}var Jb,JN;function Iye(){if(JN)return Jb;JN=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||e;return r===i}return Jb=t,Jb}var Zb,ZN;function H8(){if(ZN)return Zb;ZN=1;function e(t,r){return function(n){return t(r(n))}}return Zb=e,Zb}var ex,e2;function Mye(){if(e2)return ex;e2=1;var e=H8(),t=e(Object.keys,Object);return ex=t,ex}var tx,t2;function Dye(){if(t2)return tx;t2=1;var e=Iye(),t=Mye(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!e(a))return t(a);var o=[];for(var s in Object(a))n.call(a,s)&&s!="constructor"&&o.push(s);return o}return tx=i,tx}var rx,r2;function Qd(){if(r2)return rx;r2=1;var e=Rk(),t=Kk();function r(n){return n!=null&&t(n.length)&&!e(n)}return rx=r,rx}var nx,n2;function hg(){if(n2)return nx;n2=1;var e=Rye(),t=Dye(),r=Qd();function n(i){return r(i)?e(i):t(i)}return nx=n,nx}var ix,i2;function $ye(){if(i2)return ix;i2=1;var e=jye(),t=Aye(),r=hg();function n(i){return e(i,r,t)}return ix=n,ix}var ax,a2;function Lye(){if(a2)return ax;a2=1;var e=$ye(),t=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,o,s,l,c,d){var f=s&t,h=e(a),p=h.length,v=e(o),m=v.length;if(p!=m&&!f)return!1;for(var g=p;g--;){var y=h[g];if(!(f?y in o:n.call(o,y)))return!1}var b=d.get(a),x=d.get(o);if(b&&x)return b==o&&x==a;var _=!0;d.set(a,o),d.set(o,a);for(var w=f;++g<p;){y=h[g];var j=a[y],k=o[y];if(l)var A=f?l(k,j,y,o,a,d):l(j,k,y,a,o,d);if(!(A===void 0?j===k||c(j,k,s,l,d):A)){_=!1;break}w||(w=y=="constructor")}if(_&&!w){var T=a.constructor,O=o.constructor;T!=O&&"constructor"in a&&"constructor"in o&&!(typeof T=="function"&&T instanceof T&&typeof O=="function"&&O instanceof O)&&(_=!1)}return d.delete(a),d.delete(o),_}return ax=i,ax}var ox,o2;function zye(){if(o2)return ox;o2=1;var e=ds(),t=Ri(),r=e(t,"DataView");return ox=r,ox}var sx,s2;function Fye(){if(s2)return sx;s2=1;var e=ds(),t=Ri(),r=e(t,"Promise");return sx=r,sx}var lx,l2;function G8(){if(l2)return lx;l2=1;var e=ds(),t=Ri(),r=e(t,"Set");return lx=r,lx}var cx,c2;function Bye(){if(c2)return cx;c2=1;var e=ds(),t=Ri(),r=e(t,"WeakMap");return cx=r,cx}var ux,u2;function qye(){if(u2)return ux;u2=1;var e=zye(),t=Mk(),r=Fye(),n=G8(),i=Bye(),a=da(),o=u8(),s="[object Map]",l="[object Object]",c="[object Promise]",d="[object Set]",f="[object WeakMap]",h="[object DataView]",p=o(e),v=o(t),m=o(r),g=o(n),y=o(i),b=a;return(e&&b(new e(new ArrayBuffer(1)))!=h||t&&b(new t)!=s||r&&b(r.resolve())!=c||n&&b(new n)!=d||i&&b(new i)!=f)&&(b=function(x){var _=a(x),w=_==l?x.constructor:void 0,j=w?o(w):"";if(j)switch(j){case p:return h;case v:return s;case m:return c;case g:return d;case y:return f}return _}),ux=b,ux}var dx,d2;function Uye(){if(d2)return dx;d2=1;var e=$8(),t=B8(),r=_ye(),n=Lye(),i=qye(),a=Qr(),o=U8(),s=W8(),l=1,c="[object Arguments]",d="[object Array]",f="[object Object]",h=Object.prototype,p=h.hasOwnProperty;function v(m,g,y,b,x,_){var w=a(m),j=a(g),k=w?d:i(m),A=j?d:i(g);k=k==c?f:k,A=A==c?f:A;var T=k==f,O=A==f,P=k==A;if(P&&o(m)){if(!o(g))return!1;w=!0,T=!1}if(P&&!T)return _||(_=new e),w||s(m)?t(m,g,y,b,x,_):r(m,g,k,y,b,x,_);if(!(y&l)){var N=T&&p.call(m,"__wrapped__"),M=O&&p.call(g,"__wrapped__");if(N||M){var E=N?m.value():m,R=M?g.value():g;return _||(_=new e),x(E,R,y,b,_)}}return P?(_||(_=new e),n(m,g,y,b,x,_)):!1}return dx=v,dx}var fx,f2;function Yk(){if(f2)return fx;f2=1;var e=Uye(),t=fa();function r(n,i,a,o,s){return n===i?!0:n==null||i==null||!t(n)&&!t(i)?n!==n&&i!==i:e(n,i,a,o,r,s)}return fx=r,fx}var hx,h2;function Vye(){if(h2)return hx;h2=1;var e=$8(),t=Yk(),r=1,n=2;function i(a,o,s,l){var c=s.length,d=c,f=!l;if(a==null)return!d;for(a=Object(a);c--;){var h=s[c];if(f&&h[2]?h[1]!==a[h[0]]:!(h[0]in a))return!1}for(;++c<d;){h=s[c];var p=h[0],v=a[p],m=h[1];if(f&&h[2]){if(v===void 0&&!(p in a))return!1}else{var g=new e;if(l)var y=l(v,m,p,a,o,g);if(!(y===void 0?t(m,v,r|n,l,g):y))return!1}}return!0}return hx=i,hx}var px,p2;function K8(){if(p2)return px;p2=1;var e=io();function t(r){return r===r&&!e(r)}return px=t,px}var mx,m2;function Wye(){if(m2)return mx;m2=1;var e=K8(),t=hg();function r(n){for(var i=t(n),a=i.length;a--;){var o=i[a],s=n[o];i[a]=[o,s,e(s)]}return i}return mx=r,mx}var gx,g2;function Y8(){if(g2)return gx;g2=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return gx=e,gx}var vx,v2;function Hye(){if(v2)return vx;v2=1;var e=Vye(),t=Wye(),r=Y8();function n(i){var a=t(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(o){return o===i||e(o,i,a)}}return vx=n,vx}var yx,y2;function Gye(){if(y2)return yx;y2=1;function e(t,r){return t!=null&&r in Object(t)}return yx=e,yx}var bx,b2;function Kye(){if(b2)return bx;b2=1;var e=h8(),t=Hk(),r=Qr(),n=Gk(),i=Kk(),a=sg();function o(s,l,c){l=e(l,s);for(var d=-1,f=l.length,h=!1;++d<f;){var p=a(l[d]);if(!(h=s!=null&&c(s,p)))break;s=s[p]}return h||++d!=f?h:(f=s==null?0:s.length,!!f&&i(f)&&n(p,f)&&(r(s)||t(s)))}return bx=o,bx}var xx,x2;function Yye(){if(x2)return xx;x2=1;var e=Gye(),t=Kye();function r(n,i){return n!=null&&t(n,i,e)}return xx=r,xx}var wx,w2;function Xye(){if(w2)return wx;w2=1;var e=Yk(),t=p8(),r=Yye(),n=Nk(),i=K8(),a=Y8(),o=sg(),s=1,l=2;function c(d,f){return n(d)&&i(f)?a(o(d),f):function(h){var p=t(h,d);return p===void 0&&p===f?r(h,d):e(f,p,s|l)}}return wx=c,wx}var Sx,S2;function uc(){if(S2)return Sx;S2=1;function e(t){return t}return Sx=e,Sx}var _x,_2;function Qye(){if(_2)return _x;_2=1;function e(t){return function(r){return r?.[t]}}return _x=e,_x}var jx,j2;function Jye(){if(j2)return jx;j2=1;var e=Lk();function t(r){return function(n){return e(n,r)}}return jx=t,jx}var kx,k2;function Zye(){if(k2)return kx;k2=1;var e=Qye(),t=Jye(),r=Nk(),n=sg();function i(a){return r(a)?e(n(a)):t(a)}return kx=i,kx}var Ex,E2;function Ii(){if(E2)return Ex;E2=1;var e=Hye(),t=Xye(),r=uc(),n=Qr(),i=Zye();function a(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?t(o[0],o[1]):e(o):i(o)}return Ex=a,Ex}var Ax,A2;function X8(){if(A2)return Ax;A2=1;function e(t,r,n,i){for(var a=t.length,o=n+(i?1:-1);i?o--:++o<a;)if(r(t[o],o,t))return o;return-1}return Ax=e,Ax}var Ox,O2;function ebe(){if(O2)return Ox;O2=1;function e(t){return t!==t}return Ox=e,Ox}var Cx,C2;function tbe(){if(C2)return Cx;C2=1;function e(t,r,n){for(var i=n-1,a=t.length;++i<a;)if(t[i]===r)return i;return-1}return Cx=e,Cx}var Tx,T2;function rbe(){if(T2)return Tx;T2=1;var e=X8(),t=ebe(),r=tbe();function n(i,a,o){return a===a?r(i,a,o):e(i,t,o)}return Tx=n,Tx}var Px,P2;function nbe(){if(P2)return Px;P2=1;var e=rbe();function t(r,n){var i=r==null?0:r.length;return!!i&&e(r,n,0)>-1}return Px=t,Px}var Nx,N2;function ibe(){if(N2)return Nx;N2=1;function e(t,r,n){for(var i=-1,a=t==null?0:t.length;++i<a;)if(n(r,t[i]))return!0;return!1}return Nx=e,Nx}var Rx,R2;function abe(){if(R2)return Rx;R2=1;function e(){}return Rx=e,Rx}var Ix,I2;function obe(){if(I2)return Ix;I2=1;var e=G8(),t=abe(),r=Wk(),n=1/0,i=e&&1/r(new e([,-0]))[1]==n?function(a){return new e(a)}:t;return Ix=i,Ix}var Mx,M2;function sbe(){if(M2)return Mx;M2=1;var e=L8(),t=nbe(),r=ibe(),n=F8(),i=obe(),a=Wk(),o=200;function s(l,c,d){var f=-1,h=t,p=l.length,v=!0,m=[],g=m;if(d)v=!1,h=r;else if(p>=o){var y=c?null:i(l);if(y)return a(y);v=!1,h=n,g=new e}else g=c?[]:m;e:for(;++f<p;){var b=l[f],x=c?c(b):b;if(b=d||b!==0?b:0,v&&x===x){for(var _=g.length;_--;)if(g[_]===x)continue e;c&&g.push(x),m.push(b)}else h(g,x,d)||(g!==m&&g.push(x),m.push(b))}return m}return Mx=s,Mx}var Dx,D2;function lbe(){if(D2)return Dx;D2=1;var e=Ii(),t=sbe();function r(n,i){return n&&n.length?t(n,e(i,2)):[]}return Dx=r,Dx}var cbe=lbe();const $2=ot(cbe);function Q8(e,t,r){return t===!0?$2(e,r):Ne(t)?$2(e,t):e}function pl(e){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pl(e)}var ube=["ref"];function L2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Li(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L2(Object(r),!0).forEach(function(n){pg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Z8(n.key),n)}}function fbe(e,t,r){return t&&z2(e.prototype,t),r&&z2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hbe(e,t,r){return t=op(t),pbe(e,J8()?Reflect.construct(t,r||[],op(e).constructor):t.apply(e,r))}function pbe(e,t){if(t&&(pl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mbe(e)}function mbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J8=function(){return!!e})()}function op(e){return op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},op(e)}function gbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nS(e,t)}function nS(e,t){return nS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nS(e,t)}function pg(e,t,r){return t=Z8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z8(e){var t=vbe(e,"string");return pl(t)=="symbol"?t:t+""}function vbe(e,t){if(pl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ybe(e,t){if(e==null)return{};var r=bbe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function xbe(e){return e.value}function wbe(e,t){if(I.isValidElement(e))return I.cloneElement(e,t);if(typeof e=="function")return I.createElement(e,t);t.ref;var r=ybe(t,ube);return I.createElement(Vk,r)}var F2=1,sn=(function(e){function t(){var r;dbe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=hbe(this,t,[].concat(i)),pg(r,"lastBoundingBox",{width:-1,height:-1}),r}return gbe(t,e),fbe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>F2||Math.abs(i.height-this.lastBoundingBox.height)>F2)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Li({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,d=i.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((c||0)-p.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var v=this.getBBoxSnapshot();h={top:((d||0)-v.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Li(Li({},f),h)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,d=i.payload,f=Li(Li({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return I.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},wbe(a,Li(Li({},this.props),{},{payload:Q8(d,c,xbe)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Li(Li({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&pe(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])})(S.PureComponent);pg(sn,"displayName","Legend");pg(sn,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var $x,B2;function Sbe(){if(B2)return $x;B2=1;var e=Xd(),t=Hk(),r=Qr(),n=e?e.isConcatSpreadable:void 0;function i(a){return r(a)||t(a)||!!(n&&a&&a[n])}return $x=i,$x}var Lx,q2;function eq(){if(q2)return Lx;q2=1;var e=q8(),t=Sbe();function r(n,i,a,o,s){var l=-1,c=n.length;for(a||(a=t),s||(s=[]);++l<c;){var d=n[l];i>0&&a(d)?i>1?r(d,i-1,a,o,s):e(s,d):o||(s[s.length]=d)}return s}return Lx=r,Lx}var zx,U2;function _be(){if(U2)return zx;U2=1;function e(t){return function(r,n,i){for(var a=-1,o=Object(r),s=i(r),l=s.length;l--;){var c=s[t?l:++a];if(n(o[c],c,o)===!1)break}return r}}return zx=e,zx}var Fx,V2;function jbe(){if(V2)return Fx;V2=1;var e=_be(),t=e();return Fx=t,Fx}var Bx,W2;function tq(){if(W2)return Bx;W2=1;var e=jbe(),t=hg();function r(n,i){return n&&e(n,i,t)}return Bx=r,Bx}var qx,H2;function kbe(){if(H2)return qx;H2=1;var e=Qd();function t(r,n){return function(i,a){if(i==null)return i;if(!e(i))return r(i,a);for(var o=i.length,s=n?o:-1,l=Object(i);(n?s--:++s<o)&&a(l[s],s,l)!==!1;);return i}}return qx=t,qx}var Ux,G2;function Xk(){if(G2)return Ux;G2=1;var e=tq(),t=kbe(),r=t(e);return Ux=r,Ux}var Vx,K2;function rq(){if(K2)return Vx;K2=1;var e=Xk(),t=Qd();function r(n,i){var a=-1,o=t(n)?Array(n.length):[];return e(n,function(s,l,c){o[++a]=i(s,l,c)}),o}return Vx=r,Vx}var Wx,Y2;function Ebe(){if(Y2)return Wx;Y2=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return Wx=e,Wx}var Hx,X2;function Abe(){if(X2)return Hx;X2=1;var e=sc();function t(r,n){if(r!==n){var i=r!==void 0,a=r===null,o=r===r,s=e(r),l=n!==void 0,c=n===null,d=n===n,f=e(n);if(!c&&!f&&!s&&r>n||s&&l&&d&&!c&&!f||a&&l&&d||!i&&d||!o)return 1;if(!a&&!s&&!f&&r<n||f&&i&&o&&!a&&!s||c&&i&&o||!l&&o||!d)return-1}return 0}return Hx=t,Hx}var Gx,Q2;function Obe(){if(Q2)return Gx;Q2=1;var e=Abe();function t(r,n,i){for(var a=-1,o=r.criteria,s=n.criteria,l=o.length,c=i.length;++a<l;){var d=e(o[a],s[a]);if(d){if(a>=c)return d;var f=i[a];return d*(f=="desc"?-1:1)}}return r.index-n.index}return Gx=t,Gx}var Kx,J2;function Cbe(){if(J2)return Kx;J2=1;var e=$k(),t=Lk(),r=Ii(),n=rq(),i=Ebe(),a=V8(),o=Obe(),s=uc(),l=Qr();function c(d,f,h){f.length?f=e(f,function(m){return l(m)?function(g){return t(g,m.length===1?m[0]:m)}:m}):f=[s];var p=-1;f=e(f,a(r));var v=n(d,function(m,g,y){var b=e(f,function(x){return x(m)});return{criteria:b,index:++p,value:m}});return i(v,function(m,g){return o(m,g,h)})}return Kx=c,Kx}var Yx,Z2;function Tbe(){if(Z2)return Yx;Z2=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return Yx=e,Yx}var Xx,eR;function Pbe(){if(eR)return Xx;eR=1;var e=Tbe(),t=Math.max;function r(n,i,a){return i=t(i===void 0?n.length-1:i,0),function(){for(var o=arguments,s=-1,l=t(o.length-i,0),c=Array(l);++s<l;)c[s]=o[i+s];s=-1;for(var d=Array(i+1);++s<i;)d[s]=o[s];return d[i]=a(c),e(n,this,d)}}return Xx=r,Xx}var Qx,tR;function Nbe(){if(tR)return Qx;tR=1;function e(t){return function(){return t}}return Qx=e,Qx}var Jx,rR;function nq(){if(rR)return Jx;rR=1;var e=ds(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return Jx=t,Jx}var Zx,nR;function Rbe(){if(nR)return Zx;nR=1;var e=Nbe(),t=nq(),r=uc(),n=t?function(i,a){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(a),writable:!0})}:r;return Zx=n,Zx}var e0,iR;function Ibe(){if(iR)return e0;iR=1;var e=800,t=16,r=Date.now;function n(i){var a=0,o=0;return function(){var s=r(),l=t-(s-o);if(o=s,l>0){if(++a>=e)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return e0=n,e0}var t0,aR;function Mbe(){if(aR)return t0;aR=1;var e=Rbe(),t=Ibe(),r=t(e);return t0=r,t0}var r0,oR;function Dbe(){if(oR)return r0;oR=1;var e=uc(),t=Pbe(),r=Mbe();function n(i,a){return r(t(i,a,e),i+"")}return r0=n,r0}var n0,sR;function mg(){if(sR)return n0;sR=1;var e=Ik(),t=Qd(),r=Gk(),n=io();function i(a,o,s){if(!n(s))return!1;var l=typeof o;return(l=="number"?t(s)&&r(o,s.length):l=="string"&&o in s)?e(s[o],a):!1}return n0=i,n0}var i0,lR;function $be(){if(lR)return i0;lR=1;var e=eq(),t=Cbe(),r=Dbe(),n=mg(),i=r(function(a,o){if(a==null)return[];var s=o.length;return s>1&&n(a,o[0],o[1])?o=[]:s>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),t(a,e(o,1),[])});return i0=i,i0}var Lbe=$be();const Qk=ot(Lbe);function Gu(e){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(e)}function iS(){return iS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iS.apply(this,arguments)}function zbe(e,t){return Ube(e)||qbe(e,t)||Bbe(e,t)||Fbe()}function Fbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bbe(e,t){if(e){if(typeof e=="string")return cR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cR(e,t)}}function cR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qbe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Ube(e){if(Array.isArray(e))return e}function uR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function a0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uR(Object(r),!0).forEach(function(n){Vbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vbe(e,t,r){return t=Wbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wbe(e){var t=Hbe(e,"string");return Gu(t)=="symbol"?t:t+""}function Hbe(e,t){if(Gu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gbe(e){return Array.isArray(e)&&sr(e[0])&&sr(e[1])?e.join(" ~ "):e}var Kbe=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,a=i===void 0?{}:i,o=t.itemStyle,s=o===void 0?{}:o,l=t.labelStyle,c=l===void 0?{}:l,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,v=t.labelClassName,m=t.label,g=t.labelFormatter,y=t.accessibilityLayer,b=y===void 0?!1:y,x=function(){if(d&&d.length){var N={padding:0,margin:0},M=(h?Qk(d,h):d).map(function(E,R){if(E.type==="none")return null;var F=a0({display:"block",paddingTop:4,paddingBottom:4,color:E.color||"#000"},s),z=E.formatter||f||Gbe,q=E.value,L=E.name,D=q,W=L;if(z&&D!=null&&W!=null){var B=z(q,L,E,R,d);if(Array.isArray(B)){var $=zbe(B,2);D=$[0],W=$[1]}else D=B}return I.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:F},sr(W)?I.createElement("span",{className:"recharts-tooltip-item-name"},W):null,sr(W)?I.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,I.createElement("span",{className:"recharts-tooltip-item-value"},D),I.createElement("span",{className:"recharts-tooltip-item-unit"},E.unit||""))});return I.createElement("ul",{className:"recharts-tooltip-item-list",style:N},M)}return null},_=a0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),w=a0({margin:0},c),j=!Re(m),k=j?m:"",A=Le("recharts-default-tooltip",p),T=Le("recharts-tooltip-label",v);j&&g&&d!==void 0&&d!==null&&(k=g(m,d));var O=b?{role:"status","aria-live":"assertive"}:{};return I.createElement("div",iS({className:A,style:_},O),I.createElement("p",{className:T,style:w},I.isValidElement(k)?k:"".concat(k)),x())};function Ku(e){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ku(e)}function Lf(e,t,r){return t=Ybe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ybe(e){var t=Xbe(e,"string");return Ku(t)=="symbol"?t:t+""}function Xbe(e,t){if(Ku(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mc="recharts-tooltip-wrapper",Qbe={visibility:"hidden"};function Jbe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Le(Mc,Lf(Lf(Lf(Lf({},"".concat(Mc,"-right"),pe(r)&&t&&pe(t.x)&&r>=t.x),"".concat(Mc,"-left"),pe(r)&&t&&pe(t.x)&&r<t.x),"".concat(Mc,"-bottom"),pe(n)&&t&&pe(t.y)&&n>=t.y),"".concat(Mc,"-top"),pe(n)&&t&&pe(t.y)&&n<t.y))}function dR(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,a=e.position,o=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(a&&pe(a[n]))return a[n];var d=r[n]-s-i,f=r[n]+i;if(t[n])return o[n]?d:f;if(o[n]){var h=d,p=l[n];return h<p?Math.max(f,l[n]):Math.max(d,l[n])}var v=f+s,m=l[n]+c;return v>m?Math.max(d,l[n]):Math.max(f,l[n])}function Zbe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function exe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,a=e.reverseDirection,o=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,c,d,f;return o.height>0&&o.width>0&&r?(d=dR({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=dR({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=Zbe({translateX:d,translateY:f,useTranslate3d:s})):c=Qbe,{cssProperties:c,cssClasses:Jbe({translateX:d,translateY:f,coordinate:r})}}function ml(e){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ml(e)}function fR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fR(Object(r),!0).forEach(function(n){oS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function txe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aq(n.key),n)}}function nxe(e,t,r){return t&&rxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ixe(e,t,r){return t=sp(t),axe(e,iq()?Reflect.construct(t,r||[],sp(e).constructor):t.apply(e,r))}function axe(e,t){if(t&&(ml(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oxe(e)}function oxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iq=function(){return!!e})()}function sp(e){return sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sp(e)}function sxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aS(e,t)}function aS(e,t){return aS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aS(e,t)}function oS(e,t,r){return t=aq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aq(e){var t=lxe(e,"string");return ml(t)=="symbol"?t:t+""}function lxe(e,t){if(ml(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ml(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var pR=1,cxe=(function(e){function t(){var r;txe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=ixe(this,t,[].concat(i)),oS(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),oS(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,c,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&c!==void 0?c:0}})}}),r}return sxe(t,e),nxe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>pR||Math.abs(n.height-this.state.lastBoundingBox.height)>pR)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,v=i.position,m=i.reverseDirection,g=i.useTranslate3d,y=i.viewBox,b=i.wrapperStyle,x=exe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:v,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:y}),_=x.cssClasses,w=x.cssProperties,j=hR(hR({transition:h&&a?"transform ".concat(s,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return I.createElement("div",{tabIndex:-1,className:_,style:j,ref:function(A){n.wrapperNode=A}},c)}}])})(S.PureComponent),uxe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Mi={isSsr:uxe()};function gl(e){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gl(e)}function mR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mR(Object(r),!0).forEach(function(n){Jk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sq(n.key),n)}}function hxe(e,t,r){return t&&fxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pxe(e,t,r){return t=lp(t),mxe(e,oq()?Reflect.construct(t,r||[],lp(e).constructor):t.apply(e,r))}function mxe(e,t){if(t&&(gl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gxe(e)}function gxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oq=function(){return!!e})()}function lp(e){return lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lp(e)}function vxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sS(e,t)}function sS(e,t){return sS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sS(e,t)}function Jk(e,t,r){return t=sq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sq(e){var t=yxe(e,"string");return gl(t)=="symbol"?t:t+""}function yxe(e,t){if(gl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function bxe(e){return e.dataKey}function xxe(e,t){return I.isValidElement(e)?I.cloneElement(e,t):typeof e=="function"?I.createElement(e,t):I.createElement(Kbe,t)}var Ot=(function(e){function t(){return dxe(this,t),pxe(this,t,arguments)}return vxe(t,e),hxe(t,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,v=i.payload,m=i.payloadUniqBy,g=i.position,y=i.reverseDirection,b=i.useTranslate3d,x=i.viewBox,_=i.wrapperStyle,w=v??[];f&&w.length&&(w=Q8(v.filter(function(k){return k.value!=null&&(k.hide!==!0||n.props.includeHidden)}),m,bxe));var j=w.length>0;return I.createElement(cxe,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:h,active:a,coordinate:d,hasPayload:j,offset:p,position:g,reverseDirection:y,useTranslate3d:b,viewBox:x,wrapperStyle:_},xxe(c,gR(gR({},this.props),{},{payload:w})))}}])})(S.PureComponent);Jk(Ot,"displayName","Tooltip");Jk(Ot,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Mi.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var o0,vR;function wxe(){if(vR)return o0;vR=1;var e=Ri(),t=function(){return e.Date.now()};return o0=t,o0}var s0,yR;function Sxe(){if(yR)return s0;yR=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return s0=t,s0}var l0,bR;function _xe(){if(bR)return l0;bR=1;var e=Sxe(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return l0=r,l0}var c0,xR;function lq(){if(xR)return c0;xR=1;var e=_xe(),t=io(),r=sc(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;function l(c){if(typeof c=="number")return c;if(r(c))return n;if(t(c)){var d=typeof c.valueOf=="function"?c.valueOf():c;c=t(d)?d+"":d}if(typeof c!="string")return c===0?c:+c;c=e(c);var f=a.test(c);return f||o.test(c)?s(c.slice(2),f?2:8):i.test(c)?n:+c}return c0=l,c0}var u0,wR;function jxe(){if(wR)return u0;wR=1;var e=io(),t=wxe(),r=lq(),n="Expected a function",i=Math.max,a=Math.min;function o(s,l,c){var d,f,h,p,v,m,g=0,y=!1,b=!1,x=!0;if(typeof s!="function")throw new TypeError(n);l=r(l)||0,e(c)&&(y=!!c.leading,b="maxWait"in c,h=b?i(r(c.maxWait)||0,l):h,x="trailing"in c?!!c.trailing:x);function _(M){var E=d,R=f;return d=f=void 0,g=M,p=s.apply(R,E),p}function w(M){return g=M,v=setTimeout(A,l),y?_(M):p}function j(M){var E=M-m,R=M-g,F=l-E;return b?a(F,h-R):F}function k(M){var E=M-m,R=M-g;return m===void 0||E>=l||E<0||b&&R>=h}function A(){var M=t();if(k(M))return T(M);v=setTimeout(A,j(M))}function T(M){return v=void 0,x&&d?_(M):(d=f=void 0,p)}function O(){v!==void 0&&clearTimeout(v),g=0,d=m=f=v=void 0}function P(){return v===void 0?p:T(t())}function N(){var M=t(),E=k(M);if(d=arguments,f=this,m=M,E){if(v===void 0)return w(m);if(b)return clearTimeout(v),v=setTimeout(A,l),_(m)}return v===void 0&&(v=setTimeout(A,l)),p}return N.cancel=O,N.flush=P,N}return u0=o,u0}var d0,SR;function kxe(){if(SR)return d0;SR=1;var e=jxe(),t=io(),r="Expected a function";function n(i,a,o){var s=!0,l=!0;if(typeof i!="function")throw new TypeError(r);return t(o)&&(s="leading"in o?!!o.leading:s,l="trailing"in o?!!o.trailing:l),e(i,a,{leading:s,maxWait:a,trailing:l})}return d0=n,d0}var Exe=kxe();const cq=ot(Exe);function Yu(e){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yu(e)}function _R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_R(Object(r),!0).forEach(function(n){Axe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_R(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Axe(e,t,r){return t=Oxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oxe(e){var t=Cxe(e,"string");return Yu(t)=="symbol"?t:t+""}function Cxe(e,t){if(Yu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Txe(e,t){return Ixe(e)||Rxe(e,t)||Nxe(e,t)||Pxe()}function Pxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nxe(e,t){if(e){if(typeof e=="string")return jR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jR(e,t)}}function jR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rxe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Ixe(e){if(Array.isArray(e))return e}var br=S.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=e.width,o=a===void 0?"100%":a,s=e.height,l=s===void 0?"100%":s,c=e.minWidth,d=c===void 0?0:c,f=e.minHeight,h=e.maxHeight,p=e.children,v=e.debounce,m=v===void 0?0:v,g=e.id,y=e.className,b=e.onResize,x=e.style,_=x===void 0?{}:x,w=S.useRef(null),j=S.useRef();j.current=b,S.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var k=S.useState({containerWidth:i.width,containerHeight:i.height}),A=Txe(k,2),T=A[0],O=A[1],P=S.useCallback(function(M,E){O(function(R){var F=Math.round(M),z=Math.round(E);return R.containerWidth===F&&R.containerHeight===z?R:{containerWidth:F,containerHeight:z}})},[]);S.useEffect(function(){var M=function(L){var D,W=L[0].contentRect,B=W.width,$=W.height;P(B,$),(D=j.current)===null||D===void 0||D.call(j,B,$)};m>0&&(M=cq(M,m,{trailing:!0,leading:!1}));var E=new ResizeObserver(M),R=w.current.getBoundingClientRect(),F=R.width,z=R.height;return P(F,z),E.observe(w.current),function(){E.disconnect()}},[P,m]);var N=S.useMemo(function(){var M=T.containerWidth,E=T.containerHeight;if(M<0||E<0)return null;Zn(Mo(o)||Mo(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Zn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var R=Mo(o)?M:o,F=Mo(l)?E:l;r&&r>0&&(R?F=R/r:F&&(R=F*r),h&&F>h&&(F=h)),Zn(R>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,F,o,l,d,f,r);var z=!Array.isArray(p)&&Xi(p.type).endsWith("Chart");return I.Children.map(p,function(q){return I.isValidElement(q)?S.cloneElement(q,zf({width:R,height:F},z?{style:zf({height:"100%",width:"100%",maxHeight:F,maxWidth:R},q.props.style)}:{})):q})},[r,p,l,h,f,d,T,o]);return I.createElement("div",{id:g?"".concat(g):void 0,className:Le("recharts-responsive-container",y),style:zf(zf({},_),{},{width:o,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:w},N)}),dc=function(t){return null};dc.displayName="Cell";function Xu(e){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xu(e)}function kR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kR(Object(r),!0).forEach(function(n){Mxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mxe(e,t,r){return t=Dxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dxe(e){var t=$xe(e,"string");return Xu(t)=="symbol"?t:t+""}function $xe(e,t){if(Xu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Es={widthCache:{},cacheCount:0},Lxe=2e3,zxe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ER="recharts_measurement_span";function Fxe(e){var t=lS({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var hu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Mi.isSsr)return{width:0,height:0};var n=Fxe(r),i=JSON.stringify({text:t,copyStyle:n});if(Es.widthCache[i])return Es.widthCache[i];try{var a=document.getElementById(ER);a||(a=document.createElement("span"),a.setAttribute("id",ER),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=lS(lS({},zxe),n);Object.assign(a.style,o),a.textContent="".concat(t);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return Es.widthCache[i]=l,++Es.cacheCount>Lxe&&(Es.cacheCount=0,Es.widthCache={}),l}catch{return{width:0,height:0}}},Bxe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Qu(e){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qu(e)}function cp(e,t){return Wxe(e)||Vxe(e,t)||Uxe(e,t)||qxe()}function qxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uxe(e,t){if(e){if(typeof e=="string")return AR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AR(e,t)}}function AR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vxe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Wxe(e){if(Array.isArray(e))return e}function Hxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Kxe(n.key),n)}}function Gxe(e,t,r){return t&&OR(e.prototype,t),r&&OR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kxe(e){var t=Yxe(e,"string");return Qu(t)=="symbol"?t:t+""}function Yxe(e,t){if(Qu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var CR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,TR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Xxe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Qxe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,uq={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Jxe=Object.keys(uq),$s="NaN";function Zxe(e,t){return e*uq[t]}var Ff=(function(){function e(t,r){Hxe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Xxe.test(r)&&(this.num=NaN,this.unit=""),Jxe.includes(r)&&(this.num=Zxe(t,r),this.unit="px")}return Gxe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=Qxe.exec(r))!==null&&n!==void 0?n:[],a=cp(i,3),o=a[1],s=a[2];return new e(parseFloat(o),s??"")}}])})();function dq(e){if(e.includes($s))return $s;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=CR.exec(t))!==null&&r!==void 0?r:[],i=cp(n,4),a=i[1],o=i[2],s=i[3],l=Ff.parse(a??""),c=Ff.parse(s??""),d=o==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return $s;t=t.replace(CR,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=TR.exec(t))!==null&&f!==void 0?f:[],p=cp(h,4),v=p[1],m=p[2],g=p[3],y=Ff.parse(v??""),b=Ff.parse(g??""),x=m==="+"?y.add(b):y.subtract(b);if(x.isNaN())return $s;t=t.replace(TR,x.toString())}return t}var PR=/\(([^()]*)\)/;function e0e(e){for(var t=e;t.includes("(");){var r=PR.exec(t),n=cp(r,2),i=n[1];t=t.replace(PR,dq(i))}return t}function t0e(e){var t=e.replace(/\s+/g,"");return t=e0e(t),t=dq(t),t}function r0e(e){try{return t0e(e)}catch{return $s}}function f0(e){var t=r0e(e.slice(5,-1));return t===$s?"":t}var n0e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],i0e=["dx","dy","angle","className","breakAll"];function cS(){return cS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cS.apply(this,arguments)}function NR(e,t){if(e==null)return{};var r=a0e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function a0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function RR(e,t){return c0e(e)||l0e(e,t)||s0e(e,t)||o0e()}function o0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s0e(e,t){if(e){if(typeof e=="string")return IR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IR(e,t)}}function IR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function c0e(e){if(Array.isArray(e))return e}var fq=/[ \f\n\r\t\v\u2028\u2029]+/,hq=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var a=[];Re(r)||(n?a=r.toString().split(""):a=r.toString().split(fq));var o=a.map(function(l){return{word:l,width:hu(l,i).width}}),s=n?0:hu("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},u0e=function(t,r,n,i,a){var o=t.maxLines,s=t.children,l=t.style,c=t.breakAll,d=pe(o),f=s,h=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return R.reduce(function(F,z){var q=z.word,L=z.width,D=F[F.length-1];if(D&&(i==null||a||D.width+L+n<Number(i)))D.words.push(q),D.width+=L+n;else{var W={words:[q],width:L};F.push(W)}return F},[])},p=h(r),v=function(R){return R.reduce(function(F,z){return F.width>z.width?F:z})};if(!d)return p;for(var m="",g=function(R){var F=f.slice(0,R),z=hq({breakAll:c,style:l,children:F+m}).wordsWithComputedWidth,q=h(z),L=q.length>o||v(q).width>Number(i);return[L,q]},y=0,b=f.length-1,x=0,_;y<=b&&x<=f.length-1;){var w=Math.floor((y+b)/2),j=w-1,k=g(j),A=RR(k,2),T=A[0],O=A[1],P=g(w),N=RR(P,1),M=N[0];if(!T&&!M&&(y=w+1),T&&M&&(b=w-1),!T&&M){_=O;break}x++}return _||p},MR=function(t){var r=Re(t)?[]:t.toString().split(fq);return[{words:r}]},d0e=function(t){var r=t.width,n=t.scaleToFit,i=t.children,a=t.style,o=t.breakAll,s=t.maxLines;if((r||n)&&!Mi.isSsr){var l,c,d=hq({breakAll:o,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,c=h}else return MR(i);return u0e({breakAll:o,children:i,maxLines:s,style:a},l,c,r,n)}return MR(i)},DR="#808080",ts=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,o=t.lineHeight,s=o===void 0?"1em":o,l=t.capHeight,c=l===void 0?"0.71em":l,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,v=t.verticalAnchor,m=v===void 0?"end":v,g=t.fill,y=g===void 0?DR:g,b=NR(t,n0e),x=S.useMemo(function(){return d0e({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),_=b.dx,w=b.dy,j=b.angle,k=b.className,A=b.breakAll,T=NR(b,i0e);if(!sr(n)||!sr(a))return null;var O=n+(pe(_)?_:0),P=a+(pe(w)?w:0),N;switch(m){case"start":N=f0("calc(".concat(c,")"));break;case"middle":N=f0("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:N=f0("calc(".concat(x.length-1," * -").concat(s,")"));break}var M=[];if(f){var E=x[0].width,R=b.width;M.push("scale(".concat((pe(R)?R/E:1)/E,")"))}return j&&M.push("rotate(".concat(j,", ").concat(O,", ").concat(P,")")),M.length&&(T.transform=M.join(" ")),I.createElement("text",cS({},we(T,!0),{x:O,y:P,className:Le("recharts-text",k),textAnchor:p,fill:y.includes("url")?DR:y}),x.map(function(F,z){var q=F.words.join(A?"":" ");return I.createElement("tspan",{x:O,dy:z===0?N:s,key:"".concat(q,"-").concat(z)},q)}))};function Va(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function f0e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Zk(e){let t,r,n;e.length!==2?(t=Va,r=(s,l)=>Va(e(s),l),n=(s,l)=>e(s)-l):(t=e===Va||e===f0e?e:h0e,r=e,n=e);function i(s,l,c=0,d=s.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;r(s[f],l)<0?c=f+1:d=f}while(c<d)}return c}function a(s,l,c=0,d=s.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;r(s[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function o(s,l,c=0,d=s.length){const f=i(s,l,c,d-1);return f>c&&n(s[f-1],l)>-n(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function h0e(){return 0}function pq(e){return e===null?NaN:+e}function*p0e(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const m0e=Zk(Va),Jd=m0e.right;Zk(pq).center;class $R extends Map{constructor(t,r=y0e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(LR(this,t))}has(t){return super.has(LR(this,t))}set(t,r){return super.set(g0e(this,t),r)}delete(t){return super.delete(v0e(this,t))}}function LR({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function g0e({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function v0e({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function y0e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function b0e(e=Va){if(e===Va)return mq;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function mq(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const x0e=Math.sqrt(50),w0e=Math.sqrt(10),S0e=Math.sqrt(2);function up(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=x0e?10:a>=w0e?5:a>=S0e?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=r&&r<2?up(e,t,r*2):[s,l,c]}function uS(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,o]=n?up(t,e,r):up(e,t,r);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(n)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function dS(e,t,r){return t=+t,e=+e,r=+r,up(e,t,r)[2]}function fS(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?dS(t,e,r):dS(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function zR(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function FR(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function gq(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?mq:b0e(i);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(t-c*f/l+h)),v=Math.min(n,Math.floor(t+(l-c)*f/l+h));gq(e,t,p,v,i)}const a=e[t];let o=r,s=n;for(Dc(e,r,t),i(e[n],a)>0&&Dc(e,r,n);o<s;){for(Dc(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[r],a)===0?Dc(e,r,s):(++s,Dc(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function Dc(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function _0e(e,t,r){if(e=Float64Array.from(p0e(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return FR(e);if(t>=1)return zR(e);var n,i=(n-1)*t,a=Math.floor(i),o=zR(gq(e,a).subarray(0,a+1)),s=FR(e.subarray(a+1));return o+(s-o)*(i-a)}}function j0e(e,t,r=pq){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),o=+r(e[a],a,e),s=+r(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function k0e(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function Mn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ha(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const hS=Symbol("implicit");function eE(){var e=new $R,t=[],r=[],n=hS;function i(a){let o=e.get(a);if(o===void 0){if(n!==hS)return n;e.set(a,o=t.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new $R;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return eE(t,r).unknown(n)},Mn.apply(i,arguments),i}function Ju(){var e=eE().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,o,s=!1,l=0,c=0,d=.5;delete e.unknown;function f(){var h=t().length,p=i<n,v=p?i:n,m=p?n:i;a=(m-v)/Math.max(1,h-l+c*2),s&&(a=Math.floor(a)),v+=(m-v-a*(h-l))*d,o=a*(1-l),s&&(v=Math.round(v),o=Math.round(o));var g=k0e(h).map(function(y){return v+a*y});return r(p?g.reverse():g)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(h){return arguments.length?(s=!!h,f()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Ju(t(),[n,i]).round(s).paddingInner(l).paddingOuter(c).align(d)},Mn.apply(f(),arguments)}function vq(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return vq(t())},e}function pu(){return vq(Ju.apply(null,arguments).paddingInner(1))}function tE(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function yq(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Zd(){}var Zu=.7,dp=1/Zu,el="\\s*([+-]?\\d+)\\s*",ed="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",E0e=/^#([0-9a-f]{3,8})$/,A0e=new RegExp(`^rgb\\(${el},${el},${el}\\)$`),O0e=new RegExp(`^rgb\\(${xi},${xi},${xi}\\)$`),C0e=new RegExp(`^rgba\\(${el},${el},${el},${ed}\\)$`),T0e=new RegExp(`^rgba\\(${xi},${xi},${xi},${ed}\\)$`),P0e=new RegExp(`^hsl\\(${ed},${xi},${xi}\\)$`),N0e=new RegExp(`^hsla\\(${ed},${xi},${xi},${ed}\\)$`),BR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};tE(Zd,td,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:qR,formatHex:qR,formatHex8:R0e,formatHsl:I0e,formatRgb:UR,toString:UR});function qR(){return this.rgb().formatHex()}function R0e(){return this.rgb().formatHex8()}function I0e(){return bq(this).formatHsl()}function UR(){return this.rgb().formatRgb()}function td(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=E0e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?VR(t):r===3?new Kr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Bf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Bf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=A0e.exec(e))?new Kr(t[1],t[2],t[3],1):(t=O0e.exec(e))?new Kr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=C0e.exec(e))?Bf(t[1],t[2],t[3],t[4]):(t=T0e.exec(e))?Bf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=P0e.exec(e))?GR(t[1],t[2]/100,t[3]/100,1):(t=N0e.exec(e))?GR(t[1],t[2]/100,t[3]/100,t[4]):BR.hasOwnProperty(e)?VR(BR[e]):e==="transparent"?new Kr(NaN,NaN,NaN,0):null}function VR(e){return new Kr(e>>16&255,e>>8&255,e&255,1)}function Bf(e,t,r,n){return n<=0&&(e=t=r=NaN),new Kr(e,t,r,n)}function M0e(e){return e instanceof Zd||(e=td(e)),e?(e=e.rgb(),new Kr(e.r,e.g,e.b,e.opacity)):new Kr}function pS(e,t,r,n){return arguments.length===1?M0e(e):new Kr(e,t,r,n??1)}function Kr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}tE(Kr,pS,yq(Zd,{brighter(e){return e=e==null?dp:Math.pow(dp,e),new Kr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Zu:Math.pow(Zu,e),new Kr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Kr(Uo(this.r),Uo(this.g),Uo(this.b),fp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:WR,formatHex:WR,formatHex8:D0e,formatRgb:HR,toString:HR}));function WR(){return`#${Do(this.r)}${Do(this.g)}${Do(this.b)}`}function D0e(){return`#${Do(this.r)}${Do(this.g)}${Do(this.b)}${Do((isNaN(this.opacity)?1:this.opacity)*255)}`}function HR(){const e=fp(this.opacity);return`${e===1?"rgb(":"rgba("}${Uo(this.r)}, ${Uo(this.g)}, ${Uo(this.b)}${e===1?")":`, ${e})`}`}function fp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Uo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Do(e){return e=Uo(e),(e<16?"0":"")+e.toString(16)}function GR(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Yn(e,t,r,n)}function bq(e){if(e instanceof Yn)return new Yn(e.h,e.s,e.l,e.opacity);if(e instanceof Zd||(e=td(e)),!e)return new Yn;if(e instanceof Yn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(t===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-t)/s+2:o=(t-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Yn(o,s,l,e.opacity)}function $0e(e,t,r,n){return arguments.length===1?bq(e):new Yn(e,t,r,n??1)}function Yn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}tE(Yn,$0e,yq(Zd,{brighter(e){return e=e==null?dp:Math.pow(dp,e),new Yn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Zu:Math.pow(Zu,e),new Yn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Kr(h0(e>=240?e-240:e+120,i,n),h0(e,i,n),h0(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Yn(KR(this.h),qf(this.s),qf(this.l),fp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=fp(this.opacity);return`${e===1?"hsl(":"hsla("}${KR(this.h)}, ${qf(this.s)*100}%, ${qf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function KR(e){return e=(e||0)%360,e<0?e+360:e}function qf(e){return Math.max(0,Math.min(1,e||0))}function h0(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const rE=e=>()=>e;function L0e(e,t){return function(r){return e+r*t}}function z0e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function F0e(e){return(e=+e)==1?xq:function(t,r){return r-t?z0e(t,r,e):rE(isNaN(t)?r:t)}}function xq(e,t){var r=t-e;return r?L0e(e,r):rE(isNaN(e)?t:e)}const YR=(function e(t){var r=F0e(t);function n(i,a){var o=r((i=pS(i)).r,(a=pS(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),c=xq(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=s(d),i.b=l(d),i.opacity=c(d),i+""}}return n.gamma=e,n})(1);function B0e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function q0e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function U0e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=fc(e[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function V0e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function hp(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function W0e(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=fc(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var mS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,p0=new RegExp(mS.source,"g");function H0e(e){return function(){return e}}function G0e(e){return function(t){return e(t)+""}}function K0e(e,t){var r=mS.lastIndex=p0.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(e=e+"",t=t+"";(n=mS.exec(e))&&(i=p0.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:hp(n,i)})),r=p0.lastIndex;return r<t.length&&(a=t.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?G0e(l[0].x):H0e(t):(t=l.length,function(c){for(var d=0,f;d<t;++d)s[(f=l[d]).i]=f.x(c);return s.join("")})}function fc(e,t){var r=typeof t,n;return t==null||r==="boolean"?rE(t):(r==="number"?hp:r==="string"?(n=td(t))?(t=n,YR):K0e:t instanceof td?YR:t instanceof Date?V0e:q0e(t)?B0e:Array.isArray(t)?U0e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?W0e:hp)(e,t)}function nE(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Y0e(e,t){t===void 0&&(t=e,e=fc);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function X0e(e){return function(){return e}}function pp(e){return+e}var XR=[0,1];function zr(e){return e}function gS(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:X0e(isNaN(t)?NaN:.5)}function Q0e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function J0e(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=gS(i,n),a=r(o,a)):(n=gS(n,i),a=r(a,o)),function(s){return a(n(s))}}function Z0e(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=gS(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(s){var l=Jd(e,s,1,n)-1;return a[l](i[l](s))}}function ef(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function gg(){var e=XR,t=XR,r=fc,n,i,a,o=zr,s,l,c;function d(){var h=Math.min(e.length,t.length);return o!==zr&&(o=Q0e(e[0],e[h-1])),s=h>2?Z0e:J0e,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=s(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(i((c||(c=s(t,e.map(n),hp)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,pp),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=nE,d()},f.clamp=function(h){return arguments.length?(o=h?!0:zr,d()):o!==zr},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return n=h,i=p,d()}}function iE(){return gg()(zr,zr)}function ewe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function mp(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function vl(e){return e=mp(Math.abs(e)),e?e[1]:NaN}function twe(e,t){return function(r,n){for(var i=r.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function rwe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var nwe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function rd(e){if(!(t=nwe.exec(e)))throw new Error("invalid format: "+e);var t;return new aE({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}rd.prototype=aE.prototype;function aE(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}aE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function iwe(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var wq;function awe(e,t){var r=mp(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(wq=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+mp(e,Math.max(0,t+a-1))[0]}function QR(e,t){var r=mp(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const JR={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ewe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>QR(e*100,t),r:QR,s:awe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ZR(e){return e}var eI=Array.prototype.map,tI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function owe(e){var t=e.grouping===void 0||e.thousands===void 0?ZR:twe(eI.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?ZR:rwe(eI.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=rd(f);var h=f.fill,p=f.align,v=f.sign,m=f.symbol,g=f.zero,y=f.width,b=f.comma,x=f.precision,_=f.trim,w=f.type;w==="n"?(b=!0,w="g"):JR[w]||(x===void 0&&(x=12),_=!0,w="g"),(g||h==="0"&&p==="=")&&(g=!0,h="0",p="=");var j=m==="$"?r:m==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",k=m==="$"?n:/[%p]/.test(w)?o:"",A=JR[w],T=/[defgprs%]/.test(w);x=x===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function O(P){var N=j,M=k,E,R,F;if(w==="c")M=A(P)+M,P="";else{P=+P;var z=P<0||1/P<0;if(P=isNaN(P)?l:A(Math.abs(P),x),_&&(P=iwe(P)),z&&+P==0&&v!=="+"&&(z=!1),N=(z?v==="("?v:s:v==="-"||v==="("?"":v)+N,M=(w==="s"?tI[8+wq/3]:"")+M+(z&&v==="("?")":""),T){for(E=-1,R=P.length;++E<R;)if(F=P.charCodeAt(E),48>F||F>57){M=(F===46?i+P.slice(E+1):P.slice(E))+M,P=P.slice(0,E);break}}}b&&!g&&(P=t(P,1/0));var q=N.length+P.length+M.length,L=q<y?new Array(y-q+1).join(h):"";switch(b&&g&&(P=t(L+P,L.length?y-M.length:1/0),L=""),p){case"<":P=N+P+M+L;break;case"=":P=N+L+P+M;break;case"^":P=L.slice(0,q=L.length>>1)+N+P+M+L.slice(q);break;default:P=L+N+P+M;break}return a(P)}return O.toString=function(){return f+""},O}function d(f,h){var p=c((f=rd(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(vl(h)/3)))*3,m=Math.pow(10,-v),g=tI[8+v/3];return function(y){return p(m*y)+g}}return{format:c,formatPrefix:d}}var Uf,oE,Sq;swe({thousands:",",grouping:[3],currency:["$",""]});function swe(e){return Uf=owe(e),oE=Uf.format,Sq=Uf.formatPrefix,Uf}function lwe(e){return Math.max(0,-vl(Math.abs(e)))}function cwe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(vl(t)/3)))*3-vl(Math.abs(e)))}function uwe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,vl(t)-vl(e))+1}function _q(e,t,r,n){var i=fS(e,t,r),a;switch(n=rd(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=cwe(i,o))&&(n.precision=a),Sq(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=uwe(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=lwe(i))&&(n.precision=a-(n.type==="%")*2);break}}return oE(n)}function oo(e){var t=e.domain;return e.ticks=function(r){var n=t();return uS(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return _q(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,o=n[i],s=n[a],l,c,d=10;for(s<o&&(c=o,o=s,s=c,c=i,i=a,a=c);d-- >0;){if(c=dS(o,s,r),c===l)return n[i]=o,n[a]=s,t(n);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function gp(){var e=iE();return e.copy=function(){return ef(e,gp())},Mn.apply(e,arguments),oo(e)}function jq(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,pp),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return jq(e).unknown(t)},e=arguments.length?Array.from(e,pp):[0,1],oo(r)}function kq(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),e[r]=t.floor(i),e[n]=t.ceil(a),e}function rI(e){return Math.log(e)}function nI(e){return Math.exp(e)}function dwe(e){return-Math.log(-e)}function fwe(e){return-Math.exp(-e)}function hwe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function pwe(e){return e===10?hwe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function mwe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function iI(e){return(t,r)=>-e(-t,r)}function sE(e){const t=e(rI,nI),r=t.domain;let n=10,i,a;function o(){return i=mwe(n),a=pwe(n),r()[0]<0?(i=iI(i),a=iI(a),e(dwe,fwe)):e(rI,nI),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const l=r();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let h=i(c),p=i(d),v,m;const g=s==null?10:+s;let y=[];if(!(n%1)&&p-h<g){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(v=1;v<n;++v)if(m=h<0?v/a(-h):v*a(h),!(m<c)){if(m>d)break;y.push(m)}}else for(;h<=p;++h)for(v=n-1;v>=1;--v)if(m=h>0?v/a(-h):v*a(h),!(m<c)){if(m>d)break;y.push(m)}y.length*2<g&&(y=uS(c,d,g))}else y=uS(h,p,Math.min(p-h,g)).map(a);return f?y.reverse():y},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=rd(l)).precision==null&&(l.trim=!0),l=oE(l)),s===1/0)return l;const c=Math.max(1,n*s/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=c?l(d):""}},t.nice=()=>r(kq(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function Eq(){const e=sE(gg()).domain([1,10]);return e.copy=()=>ef(e,Eq()).base(e.base()),Mn.apply(e,arguments),e}function aI(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function oI(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function lE(e){var t=1,r=e(aI(t),oI(t));return r.constant=function(n){return arguments.length?e(aI(t=+n),oI(t)):t},oo(r)}function Aq(){var e=lE(gg());return e.copy=function(){return ef(e,Aq()).constant(e.constant())},Mn.apply(e,arguments)}function sI(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function gwe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function vwe(e){return e<0?-e*e:e*e}function cE(e){var t=e(zr,zr),r=1;function n(){return r===1?e(zr,zr):r===.5?e(gwe,vwe):e(sI(r),sI(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},oo(t)}function uE(){var e=cE(gg());return e.copy=function(){return ef(e,uE()).exponent(e.exponent())},Mn.apply(e,arguments),e}function ywe(){return uE.apply(null,arguments).exponent(.5)}function lI(e){return Math.sign(e)*e*e}function bwe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Oq(){var e=iE(),t=[0,1],r=!1,n;function i(a){var o=bwe(e(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return e.invert(lI(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,pp)).map(lI)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Oq(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Mn.apply(i,arguments),oo(i)}function Cq(){var e=[],t=[],r=[],n;function i(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=j0e(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:t[Jd(r,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Va),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return Cq().domain(e).range(t).unknown(n)},Mn.apply(a,arguments)}function Tq(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[Jd(n,l,0,r)]:a}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return Tq().domain([e,t]).range(i).unknown(a)},Mn.apply(oo(o),arguments)}function Pq(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[Jd(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Pq().domain(e).range(t).unknown(r)},Mn.apply(i,arguments)}const m0=new Date,g0=new Date;function lr(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let c;do l.push(c=new Date(+a)),t(a,s),e(a);while(c<a&&a<o);return l},i.filter=a=>lr(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),r&&(i.count=(a,o)=>(m0.setTime(+a),g0.setTime(+o),e(m0),e(g0),Math.floor(r(m0,g0))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const vp=lr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);vp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?lr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):vp);vp.range;const Ui=1e3,An=Ui*60,Vi=An*60,ra=Vi*24,dE=ra*7,cI=ra*30,v0=ra*365,$o=lr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ui)},(e,t)=>(t-e)/Ui,e=>e.getUTCSeconds());$o.range;const fE=lr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ui)},(e,t)=>{e.setTime(+e+t*An)},(e,t)=>(t-e)/An,e=>e.getMinutes());fE.range;const hE=lr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*An)},(e,t)=>(t-e)/An,e=>e.getUTCMinutes());hE.range;const pE=lr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ui-e.getMinutes()*An)},(e,t)=>{e.setTime(+e+t*Vi)},(e,t)=>(t-e)/Vi,e=>e.getHours());pE.range;const mE=lr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Vi)},(e,t)=>(t-e)/Vi,e=>e.getUTCHours());mE.range;const tf=lr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*An)/ra,e=>e.getDate()-1);tf.range;const vg=lr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ra,e=>e.getUTCDate()-1);vg.range;const Nq=lr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ra,e=>Math.floor(e/ra));Nq.range;function fs(e){return lr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*An)/dE)}const yg=fs(0),yp=fs(1),xwe=fs(2),wwe=fs(3),yl=fs(4),Swe=fs(5),_we=fs(6);yg.range;yp.range;xwe.range;wwe.range;yl.range;Swe.range;_we.range;function hs(e){return lr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/dE)}const bg=hs(0),bp=hs(1),jwe=hs(2),kwe=hs(3),bl=hs(4),Ewe=hs(5),Awe=hs(6);bg.range;bp.range;jwe.range;kwe.range;bl.range;Ewe.range;Awe.range;const gE=lr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());gE.range;const vE=lr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());vE.range;const na=lr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());na.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:lr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});na.range;const ia=lr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ia.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:lr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ia.range;function Rq(e,t,r,n,i,a){const o=[[$o,1,Ui],[$o,5,5*Ui],[$o,15,15*Ui],[$o,30,30*Ui],[a,1,An],[a,5,5*An],[a,15,15*An],[a,30,30*An],[i,1,Vi],[i,3,3*Vi],[i,6,6*Vi],[i,12,12*Vi],[n,1,ra],[n,2,2*ra],[r,1,dE],[t,1,cI],[t,3,3*cI],[e,1,v0]];function s(c,d,f){const h=d<c;h&&([c,d]=[d,c]);const p=f&&typeof f.range=="function"?f:l(c,d,f),v=p?p.range(c,+d+1):[];return h?v.reverse():v}function l(c,d,f){const h=Math.abs(d-c)/f,p=Zk(([,,g])=>g).right(o,h);if(p===o.length)return e.every(fS(c/v0,d/v0,f));if(p===0)return vp.every(Math.max(fS(c,d,f),1));const[v,m]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return v.every(m)}return[s,l]}const[Owe,Cwe]=Rq(ia,vE,bg,Nq,mE,hE),[Twe,Pwe]=Rq(na,gE,yg,tf,pE,fE);function y0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function b0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function $c(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Nwe(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=Lc(i),d=zc(i),f=Lc(a),h=zc(a),p=Lc(o),v=zc(o),m=Lc(s),g=zc(s),y=Lc(l),b=zc(l),x={a:z,A:q,b:L,B:D,c:null,d:mI,e:mI,f:t1e,g:d1e,G:h1e,H:Jwe,I:Zwe,j:e1e,L:Iq,m:r1e,M:n1e,p:W,q:B,Q:yI,s:bI,S:i1e,u:a1e,U:o1e,V:s1e,w:l1e,W:c1e,x:null,X:null,y:u1e,Y:f1e,Z:p1e,"%":vI},_={a:$,A:Q,b:Z,B:fe,c:null,d:gI,e:gI,f:y1e,g:O1e,G:T1e,H:m1e,I:g1e,j:v1e,L:Dq,m:b1e,M:x1e,p:le,q:ue,Q:yI,s:bI,S:w1e,u:S1e,U:_1e,V:j1e,w:k1e,W:E1e,x:null,X:null,y:A1e,Y:C1e,Z:P1e,"%":vI},w={a:O,A:P,b:N,B:M,c:E,d:hI,e:hI,f:Kwe,g:fI,G:dI,H:pI,I:pI,j:Vwe,L:Gwe,m:Uwe,M:Wwe,p:T,q:qwe,Q:Xwe,s:Qwe,S:Hwe,u:$we,U:Lwe,V:zwe,w:Dwe,W:Fwe,x:R,X:F,y:fI,Y:dI,Z:Bwe,"%":Ywe};x.x=j(r,x),x.X=j(n,x),x.c=j(t,x),_.x=j(r,_),_.X=j(n,_),_.c=j(t,_);function j(ee,te){return function(ce){var J=[],ne=-1,C=0,G=ee.length,H,V,U;for(ce instanceof Date||(ce=new Date(+ce));++ne<G;)ee.charCodeAt(ne)===37&&(J.push(ee.slice(C,ne)),(V=uI[H=ee.charAt(++ne)])!=null?H=ee.charAt(++ne):V=H==="e"?" ":"0",(U=te[H])&&(H=U(ce,V)),J.push(H),C=ne+1);return J.push(ee.slice(C,ne)),J.join("")}}function k(ee,te){return function(ce){var J=$c(1900,void 0,1),ne=A(J,ee,ce+="",0),C,G;if(ne!=ce.length)return null;if("Q"in J)return new Date(J.Q);if("s"in J)return new Date(J.s*1e3+("L"in J?J.L:0));if(te&&!("Z"in J)&&(J.Z=0),"p"in J&&(J.H=J.H%12+J.p*12),J.m===void 0&&(J.m="q"in J?J.q:0),"V"in J){if(J.V<1||J.V>53)return null;"w"in J||(J.w=1),"Z"in J?(C=b0($c(J.y,0,1)),G=C.getUTCDay(),C=G>4||G===0?bp.ceil(C):bp(C),C=vg.offset(C,(J.V-1)*7),J.y=C.getUTCFullYear(),J.m=C.getUTCMonth(),J.d=C.getUTCDate()+(J.w+6)%7):(C=y0($c(J.y,0,1)),G=C.getDay(),C=G>4||G===0?yp.ceil(C):yp(C),C=tf.offset(C,(J.V-1)*7),J.y=C.getFullYear(),J.m=C.getMonth(),J.d=C.getDate()+(J.w+6)%7)}else("W"in J||"U"in J)&&("w"in J||(J.w="u"in J?J.u%7:"W"in J?1:0),G="Z"in J?b0($c(J.y,0,1)).getUTCDay():y0($c(J.y,0,1)).getDay(),J.m=0,J.d="W"in J?(J.w+6)%7+J.W*7-(G+5)%7:J.w+J.U*7-(G+6)%7);return"Z"in J?(J.H+=J.Z/100|0,J.M+=J.Z%100,b0(J)):y0(J)}}function A(ee,te,ce,J){for(var ne=0,C=te.length,G=ce.length,H,V;ne<C;){if(J>=G)return-1;if(H=te.charCodeAt(ne++),H===37){if(H=te.charAt(ne++),V=w[H in uI?te.charAt(ne++):H],!V||(J=V(ee,ce,J))<0)return-1}else if(H!=ce.charCodeAt(J++))return-1}return J}function T(ee,te,ce){var J=c.exec(te.slice(ce));return J?(ee.p=d.get(J[0].toLowerCase()),ce+J[0].length):-1}function O(ee,te,ce){var J=p.exec(te.slice(ce));return J?(ee.w=v.get(J[0].toLowerCase()),ce+J[0].length):-1}function P(ee,te,ce){var J=f.exec(te.slice(ce));return J?(ee.w=h.get(J[0].toLowerCase()),ce+J[0].length):-1}function N(ee,te,ce){var J=y.exec(te.slice(ce));return J?(ee.m=b.get(J[0].toLowerCase()),ce+J[0].length):-1}function M(ee,te,ce){var J=m.exec(te.slice(ce));return J?(ee.m=g.get(J[0].toLowerCase()),ce+J[0].length):-1}function E(ee,te,ce){return A(ee,t,te,ce)}function R(ee,te,ce){return A(ee,r,te,ce)}function F(ee,te,ce){return A(ee,n,te,ce)}function z(ee){return o[ee.getDay()]}function q(ee){return a[ee.getDay()]}function L(ee){return l[ee.getMonth()]}function D(ee){return s[ee.getMonth()]}function W(ee){return i[+(ee.getHours()>=12)]}function B(ee){return 1+~~(ee.getMonth()/3)}function $(ee){return o[ee.getUTCDay()]}function Q(ee){return a[ee.getUTCDay()]}function Z(ee){return l[ee.getUTCMonth()]}function fe(ee){return s[ee.getUTCMonth()]}function le(ee){return i[+(ee.getUTCHours()>=12)]}function ue(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var te=j(ee+="",x);return te.toString=function(){return ee},te},parse:function(ee){var te=k(ee+="",!1);return te.toString=function(){return ee},te},utcFormat:function(ee){var te=j(ee+="",_);return te.toString=function(){return ee},te},utcParse:function(ee){var te=k(ee+="",!0);return te.toString=function(){return ee},te}}}var uI={"-":"",_:" ",0:"0"},pr=/^\s*\d+/,Rwe=/^%/,Iwe=/[\\^$*+?|[\]().{}]/g;function lt(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function Mwe(e){return e.replace(Iwe,"\\$&")}function Lc(e){return new RegExp("^(?:"+e.map(Mwe).join("|")+")","i")}function zc(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Dwe(e,t,r){var n=pr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function $we(e,t,r){var n=pr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Lwe(e,t,r){var n=pr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function zwe(e,t,r){var n=pr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Fwe(e,t,r){var n=pr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function dI(e,t,r){var n=pr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function fI(e,t,r){var n=pr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Bwe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function qwe(e,t,r){var n=pr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Uwe(e,t,r){var n=pr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function hI(e,t,r){var n=pr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Vwe(e,t,r){var n=pr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function pI(e,t,r){var n=pr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Wwe(e,t,r){var n=pr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Hwe(e,t,r){var n=pr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Gwe(e,t,r){var n=pr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Kwe(e,t,r){var n=pr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Ywe(e,t,r){var n=Rwe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Xwe(e,t,r){var n=pr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Qwe(e,t,r){var n=pr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function mI(e,t){return lt(e.getDate(),t,2)}function Jwe(e,t){return lt(e.getHours(),t,2)}function Zwe(e,t){return lt(e.getHours()%12||12,t,2)}function e1e(e,t){return lt(1+tf.count(na(e),e),t,3)}function Iq(e,t){return lt(e.getMilliseconds(),t,3)}function t1e(e,t){return Iq(e,t)+"000"}function r1e(e,t){return lt(e.getMonth()+1,t,2)}function n1e(e,t){return lt(e.getMinutes(),t,2)}function i1e(e,t){return lt(e.getSeconds(),t,2)}function a1e(e){var t=e.getDay();return t===0?7:t}function o1e(e,t){return lt(yg.count(na(e)-1,e),t,2)}function Mq(e){var t=e.getDay();return t>=4||t===0?yl(e):yl.ceil(e)}function s1e(e,t){return e=Mq(e),lt(yl.count(na(e),e)+(na(e).getDay()===4),t,2)}function l1e(e){return e.getDay()}function c1e(e,t){return lt(yp.count(na(e)-1,e),t,2)}function u1e(e,t){return lt(e.getFullYear()%100,t,2)}function d1e(e,t){return e=Mq(e),lt(e.getFullYear()%100,t,2)}function f1e(e,t){return lt(e.getFullYear()%1e4,t,4)}function h1e(e,t){var r=e.getDay();return e=r>=4||r===0?yl(e):yl.ceil(e),lt(e.getFullYear()%1e4,t,4)}function p1e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+lt(t/60|0,"0",2)+lt(t%60,"0",2)}function gI(e,t){return lt(e.getUTCDate(),t,2)}function m1e(e,t){return lt(e.getUTCHours(),t,2)}function g1e(e,t){return lt(e.getUTCHours()%12||12,t,2)}function v1e(e,t){return lt(1+vg.count(ia(e),e),t,3)}function Dq(e,t){return lt(e.getUTCMilliseconds(),t,3)}function y1e(e,t){return Dq(e,t)+"000"}function b1e(e,t){return lt(e.getUTCMonth()+1,t,2)}function x1e(e,t){return lt(e.getUTCMinutes(),t,2)}function w1e(e,t){return lt(e.getUTCSeconds(),t,2)}function S1e(e){var t=e.getUTCDay();return t===0?7:t}function _1e(e,t){return lt(bg.count(ia(e)-1,e),t,2)}function $q(e){var t=e.getUTCDay();return t>=4||t===0?bl(e):bl.ceil(e)}function j1e(e,t){return e=$q(e),lt(bl.count(ia(e),e)+(ia(e).getUTCDay()===4),t,2)}function k1e(e){return e.getUTCDay()}function E1e(e,t){return lt(bp.count(ia(e)-1,e),t,2)}function A1e(e,t){return lt(e.getUTCFullYear()%100,t,2)}function O1e(e,t){return e=$q(e),lt(e.getUTCFullYear()%100,t,2)}function C1e(e,t){return lt(e.getUTCFullYear()%1e4,t,4)}function T1e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?bl(e):bl.ceil(e),lt(e.getUTCFullYear()%1e4,t,4)}function P1e(){return"+0000"}function vI(){return"%"}function yI(e){return+e}function bI(e){return Math.floor(+e/1e3)}var As,Lq,zq;N1e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function N1e(e){return As=Nwe(e),Lq=As.format,As.parse,zq=As.utcFormat,As.utcParse,As}function R1e(e){return new Date(e)}function I1e(e){return e instanceof Date?+e:+new Date(+e)}function yE(e,t,r,n,i,a,o,s,l,c){var d=iE(),f=d.invert,h=d.domain,p=c(".%L"),v=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),b=c("%b %d"),x=c("%B"),_=c("%Y");function w(j){return(l(j)<j?p:s(j)<j?v:o(j)<j?m:a(j)<j?g:n(j)<j?i(j)<j?y:b:r(j)<j?x:_)(j)}return d.invert=function(j){return new Date(f(j))},d.domain=function(j){return arguments.length?h(Array.from(j,I1e)):h().map(R1e)},d.ticks=function(j){var k=h();return e(k[0],k[k.length-1],j??10)},d.tickFormat=function(j,k){return k==null?w:c(k)},d.nice=function(j){var k=h();return(!j||typeof j.range!="function")&&(j=t(k[0],k[k.length-1],j??10)),j?h(kq(k,j)):d},d.copy=function(){return ef(d,yE(e,t,r,n,i,a,o,s,l,c))},d}function M1e(){return Mn.apply(yE(Twe,Pwe,na,gE,yg,tf,pE,fE,$o,Lq).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function D1e(){return Mn.apply(yE(Owe,Cwe,ia,vE,bg,vg,mE,hE,$o,zq).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function xg(){var e=0,t=1,r,n,i,a,o=zr,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-r)*i,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(o=f,c):o};function d(f){return function(h){var p,v;return arguments.length?([p,v]=h,o=f(p,v),c):[o(0),o(1)]}}return c.range=d(fc),c.rangeRound=d(nE),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),c}}function so(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Fq(){var e=oo(xg()(zr));return e.copy=function(){return so(e,Fq())},ha.apply(e,arguments)}function Bq(){var e=sE(xg()).domain([1,10]);return e.copy=function(){return so(e,Bq()).base(e.base())},ha.apply(e,arguments)}function qq(){var e=lE(xg());return e.copy=function(){return so(e,qq()).constant(e.constant())},ha.apply(e,arguments)}function bE(){var e=cE(xg());return e.copy=function(){return so(e,bE()).exponent(e.exponent())},ha.apply(e,arguments)}function $1e(){return bE.apply(null,arguments).exponent(.5)}function Uq(){var e=[],t=zr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Jd(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Va),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>_0e(e,a/n))},r.copy=function(){return Uq(t).domain(e)},ha.apply(r,arguments)}function wg(){var e=0,t=.5,r=1,n=1,i,a,o,s,l,c=zr,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-a)*(n*m<n*a?s:l),c(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,i=d(e=+e),a=d(t=+t),o=d(r=+r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(c=m,p):c};function v(m){return function(g){var y,b,x;return arguments.length?([y,b,x]=g,c=Y0e(m,[y,b,x]),p):[c(0),c(.5),c(1)]}}return p.range=v(fc),p.rangeRound=v(nE),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,i=m(e),a=m(t),o=m(r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,p}}function Vq(){var e=oo(wg()(zr));return e.copy=function(){return so(e,Vq())},ha.apply(e,arguments)}function Wq(){var e=sE(wg()).domain([.1,1,10]);return e.copy=function(){return so(e,Wq()).base(e.base())},ha.apply(e,arguments)}function Hq(){var e=lE(wg());return e.copy=function(){return so(e,Hq()).constant(e.constant())},ha.apply(e,arguments)}function xE(){var e=cE(wg());return e.copy=function(){return so(e,xE()).exponent(e.exponent())},ha.apply(e,arguments)}function L1e(){return xE.apply(null,arguments).exponent(.5)}const xI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ju,scaleDiverging:Vq,scaleDivergingLog:Wq,scaleDivergingPow:xE,scaleDivergingSqrt:L1e,scaleDivergingSymlog:Hq,scaleIdentity:jq,scaleImplicit:hS,scaleLinear:gp,scaleLog:Eq,scaleOrdinal:eE,scalePoint:pu,scalePow:uE,scaleQuantile:Cq,scaleQuantize:Tq,scaleRadial:Oq,scaleSequential:Fq,scaleSequentialLog:Bq,scaleSequentialPow:bE,scaleSequentialQuantile:Uq,scaleSequentialSqrt:$1e,scaleSequentialSymlog:qq,scaleSqrt:ywe,scaleSymlog:Aq,scaleThreshold:Pq,scaleTime:M1e,scaleUtc:D1e,tickFormat:_q},Symbol.toStringTag,{value:"Module"}));var x0,wI;function Sg(){if(wI)return x0;wI=1;var e=sc();function t(r,n,i){for(var a=-1,o=r.length;++a<o;){var s=r[a],l=n(s);if(l!=null&&(c===void 0?l===l&&!e(l):i(l,c)))var c=l,d=s}return d}return x0=t,x0}var w0,SI;function Gq(){if(SI)return w0;SI=1;function e(t,r){return t>r}return w0=e,w0}var S0,_I;function z1e(){if(_I)return S0;_I=1;var e=Sg(),t=Gq(),r=uc();function n(i){return i&&i.length?e(i,r,t):void 0}return S0=n,S0}var F1e=z1e();const Ta=ot(F1e);var _0,jI;function Kq(){if(jI)return _0;jI=1;function e(t,r){return t<r}return _0=e,_0}var j0,kI;function B1e(){if(kI)return j0;kI=1;var e=Sg(),t=Kq(),r=uc();function n(i){return i&&i.length?e(i,r,t):void 0}return j0=n,j0}var q1e=B1e();const _g=ot(q1e);var k0,EI;function U1e(){if(EI)return k0;EI=1;var e=$k(),t=Ii(),r=rq(),n=Qr();function i(a,o){var s=n(a)?e:r;return s(a,t(o,3))}return k0=i,k0}var E0,AI;function V1e(){if(AI)return E0;AI=1;var e=eq(),t=U1e();function r(n,i){return e(t(n,i),1)}return E0=r,E0}var W1e=V1e();const H1e=ot(W1e);var A0,OI;function G1e(){if(OI)return A0;OI=1;var e=Yk();function t(r,n){return e(r,n)}return A0=t,A0}var K1e=G1e();const aa=ot(K1e);var hc=1e9,Y1e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},SE,Nt=!0,Nn="[DecimalError] ",Vo=Nn+"Invalid argument: ",wE=Nn+"Exponent out of range: ",pc=Math.floor,Eo=Math.pow,X1e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,on,dr=1e7,Ct=7,Yq=9007199254740991,xp=pc(Yq/Ct),je={};je.absoluteValue=je.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};je.comparedTo=je.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};je.decimalPlaces=je.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ct;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};je.dividedBy=je.div=function(e){return Qi(this,new this.constructor(e))};je.dividedToIntegerBy=je.idiv=function(e){var t=this,r=t.constructor;return St(Qi(t,new r(e),0,1),r.precision)};je.equals=je.eq=function(e){return!this.cmp(e)};je.exponent=function(){return Xt(this)};je.greaterThan=je.gt=function(e){return this.cmp(e)>0};je.greaterThanOrEqualTo=je.gte=function(e){return this.cmp(e)>=0};je.isInteger=je.isint=function(){return this.e>this.d.length-2};je.isNegative=je.isneg=function(){return this.s<0};je.isPositive=je.ispos=function(){return this.s>0};je.isZero=function(){return this.s===0};je.lessThan=je.lt=function(e){return this.cmp(e)<0};je.lessThanOrEqualTo=je.lte=function(e){return this.cmp(e)<1};je.logarithm=je.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(on))throw Error(Nn+"NaN");if(r.s<1)throw Error(Nn+(r.s?"NaN":"-Infinity"));return r.eq(on)?new n(0):(Nt=!1,t=Qi(nd(r,a),nd(e,a),a),Nt=!0,St(t,i))};je.minus=je.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Jq(t,e):Xq(t,(e.s=-e.s,e))};je.modulo=je.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Nn+"NaN");return r.s?(Nt=!1,t=Qi(r,e,0,1).times(e),Nt=!0,r.minus(t)):St(new n(r),i)};je.naturalExponential=je.exp=function(){return Qq(this)};je.naturalLogarithm=je.ln=function(){return nd(this)};je.negated=je.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};je.plus=je.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Xq(t,e):Jq(t,(e.s=-e.s,e))};je.precision=je.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Vo+e);if(t=Xt(i)+1,n=i.d.length-1,r=n*Ct+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};je.squareRoot=je.sqrt=function(){var e,t,r,n,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Nn+"NaN")}for(e=Xt(s),Nt=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=gi(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=pc((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(a=n,n=a.plus(Qi(s,a,o+2)).times(.5),gi(a.d).slice(0,o)===(t=gi(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(St(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(t!="9999")break;o+=4}return Nt=!0,St(n,r)};je.times=je.mul=function(e){var t,r,n,i,a,o,s,l,c,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,l=h.length,c=p.length,l<c&&(a=h,h=p,p=a,o=l,l=c,c=o),a=[],o=l+c,n=o;n--;)a.push(0);for(n=c;--n>=0;){for(t=0,i=l+n;i>n;)s=a[i]+p[n]*h[i-n-1]+t,a[i--]=s%dr|0,t=s/dr|0;a[i]=(a[i]+t)%dr|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,Nt?St(e,f.precision):e};je.toDecimalPlaces=je.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Oi(e,0,hc),t===void 0?t=n.rounding:Oi(t,0,8),St(r,e+Xt(r)+1,t))};je.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=rs(n,!0):(Oi(e,0,hc),t===void 0?t=i.rounding:Oi(t,0,8),n=St(new i(n),e+1,t),r=rs(n,!0,e+1)),r};je.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?rs(i):(Oi(e,0,hc),t===void 0?t=a.rounding:Oi(t,0,8),n=St(new a(i),e+Xt(i)+1,t),r=rs(n.abs(),!1,e+Xt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};je.toInteger=je.toint=function(){var e=this,t=e.constructor;return St(new t(e),Xt(e)+1,t.rounding)};je.toNumber=function(){return+this};je.toPower=je.pow=function(e){var t,r,n,i,a,o,s=this,l=s.constructor,c=12,d=+(e=new l(e));if(!e.s)return new l(on);if(s=new l(s),!s.s){if(e.s<1)throw Error(Nn+"Infinity");return s}if(s.eq(on))return s;if(n=l.precision,e.eq(on))return St(s,n);if(t=e.e,r=e.d.length-1,o=t>=r,a=s.s,o){if((r=d<0?-d:d)<=Yq){for(i=new l(on),t=Math.ceil(n/Ct+4),Nt=!1;r%2&&(i=i.times(s),TI(i.d,t)),r=pc(r/2),r!==0;)s=s.times(s),TI(s.d,t);return Nt=!0,e.s<0?new l(on).div(i):St(i,n)}}else if(a<0)throw Error(Nn+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,Nt=!1,i=e.times(nd(s,n+c)),Nt=!0,i=Qq(i),i.s=a,i};je.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=Xt(i),n=rs(i,r<=a.toExpNeg||r>=a.toExpPos)):(Oi(e,1,hc),t===void 0?t=a.rounding:Oi(t,0,8),i=St(new a(i),e,t),r=Xt(i),n=rs(i,e<=r||r<=a.toExpNeg,e)),n};je.toSignificantDigits=je.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Oi(e,1,hc),t===void 0?t=n.rounding:Oi(t,0,8)),St(new n(r),e,t)};je.toString=je.valueOf=je.val=je.toJSON=je[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Xt(e),r=e.constructor;return rs(e,t<=r.toExpNeg||t>=r.toExpPos)};function Xq(e,t){var r,n,i,a,o,s,l,c,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Nt?St(t,f):t;if(l=e.d,c=t.d,o=e.e,i=t.e,l=l.slice(),a=o-i,a){for(a<0?(n=l,a=-a,s=c.length):(n=c,i=o,s=l.length),o=Math.ceil(f/Ct),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=l.length,a=c.length,s-a<0&&(a=s,n=c,c=l,l=n),r=0;a;)r=(l[--a]=l[a]+c[a]+r)/dr|0,l[a]%=dr;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,Nt?St(t,f):t}function Oi(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Vo+e)}function gi(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)n=e[t]+"",r=Ct-n.length,r&&(a+=_a(r)),a+=n;o=e[t],n=o+"",r=Ct-n.length,r&&(a+=_a(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Qi=(function(){function e(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%dr|0,o=a/dr|0;return o&&n.unshift(o),n}function t(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*dr+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,l,c,d,f,h,p,v,m,g,y,b,x,_,w,j,k,A,T=n.constructor,O=n.s==i.s?1:-1,P=n.d,N=i.d;if(!n.s)return new T(n);if(!i.s)throw Error(Nn+"Division by zero");for(l=n.e-i.e,k=N.length,w=P.length,p=new T(O),v=p.d=[],c=0;N[c]==(P[c]||0);)++c;if(N[c]>(P[c]||0)&&--l,a==null?b=a=T.precision:o?b=a+(Xt(n)-Xt(i))+1:b=a,b<0)return new T(0);if(b=b/Ct+2|0,c=0,k==1)for(d=0,N=N[0],b++;(c<w||d)&&b--;c++)x=d*dr+(P[c]||0),v[c]=x/N|0,d=x%N|0;else{for(d=dr/(N[0]+1)|0,d>1&&(N=e(N,d),P=e(P,d),k=N.length,w=P.length),_=k,m=P.slice(0,k),g=m.length;g<k;)m[g++]=0;A=N.slice(),A.unshift(0),j=N[0],N[1]>=dr/2&&++j;do d=0,s=t(N,m,k,g),s<0?(y=m[0],k!=g&&(y=y*dr+(m[1]||0)),d=y/j|0,d>1?(d>=dr&&(d=dr-1),f=e(N,d),h=f.length,g=m.length,s=t(f,m,h,g),s==1&&(d--,r(f,k<h?A:N,h))):(d==0&&(s=d=1),f=N.slice()),h=f.length,h<g&&f.unshift(0),r(m,f,g),s==-1&&(g=m.length,s=t(N,m,k,g),s<1&&(d++,r(m,k<g?A:N,g))),g=m.length):s===0&&(d++,m=[0]),v[c++]=d,s&&m[0]?m[g++]=P[_]||0:(m=[P[_]],g=1);while((_++<w||m[0]!==void 0)&&b--)}return v[0]||v.shift(),p.e=l,St(p,o?a+Xt(p)+1:a)}})();function Qq(e,t){var r,n,i,a,o,s,l=0,c=0,d=e.constructor,f=d.precision;if(Xt(e)>16)throw Error(wE+Xt(e));if(!e.s)return new d(on);for(Nt=!1,s=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(n=Math.log(Eo(2,c))/Math.LN10*2+5|0,s+=n,r=i=a=new d(on),d.precision=s;;){if(i=St(i.times(e),s),r=r.times(++l),o=a.plus(Qi(i,r,s)),gi(o.d).slice(0,s)===gi(a.d).slice(0,s)){for(;c--;)a=St(a.times(a),s);return d.precision=f,t==null?(Nt=!0,St(a,f)):a}a=o}}function Xt(e){for(var t=e.e*Ct,r=e.d[0];r>=10;r/=10)t++;return t}function O0(e,t,r){if(t>e.LN10.sd())throw Nt=!0,r&&(e.precision=r),Error(Nn+"LN10 precision limit exceeded");return St(new e(e.LN10),t)}function _a(e){for(var t="";e--;)t+="0";return t}function nd(e,t){var r,n,i,a,o,s,l,c,d,f=1,h=10,p=e,v=p.d,m=p.constructor,g=m.precision;if(p.s<1)throw Error(Nn+(p.s?"NaN":"-Infinity"));if(p.eq(on))return new m(0);if(t==null?(Nt=!1,c=g):c=t,p.eq(10))return t==null&&(Nt=!0),O0(m,c);if(c+=h,m.precision=c,r=gi(v),n=r.charAt(0),a=Xt(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=gi(p.d),n=r.charAt(0),f++;a=Xt(p),n>1?(p=new m("0."+r),a++):p=new m(n+"."+r.slice(1))}else return l=O0(m,c+2,g).times(a+""),p=nd(new m(n+"."+r.slice(1)),c-h).plus(l),m.precision=g,t==null?(Nt=!0,St(p,g)):p;for(s=o=p=Qi(p.minus(on),p.plus(on),c),d=St(p.times(p),c),i=3;;){if(o=St(o.times(d),c),l=s.plus(Qi(o,new m(i),c)),gi(l.d).slice(0,c)===gi(s.d).slice(0,c))return s=s.times(2),a!==0&&(s=s.plus(O0(m,c+2,g).times(a+""))),s=Qi(s,new m(f),c),m.precision=g,t==null?(Nt=!0,St(s,g)):s;s=l,i+=2}}function CI(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=pc(r/Ct),e.d=[],n=(r+1)%Ct,r<0&&(n+=Ct),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Ct;n<i;)e.d.push(+t.slice(n,n+=Ct));t=t.slice(n),n=Ct-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Nt&&(e.e>xp||e.e<-xp))throw Error(wE+r)}else e.s=0,e.e=0,e.d=[0];return e}function St(e,t,r){var n,i,a,o,s,l,c,d,f=e.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(n=t-o,n<0)n+=Ct,i=t,c=f[d=0];else{if(d=Math.ceil((n+1)/Ct),a=f.length,d>=a)return e;for(c=a=f[d],o=1;a>=10;a/=10)o++;n%=Ct,i=n-Ct+o}if(r!==void 0&&(a=Eo(10,o-i-1),s=c/a%10|0,l=t<0||f[d+1]!==void 0||c%a,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?c/Eo(10,o-i):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(a=Xt(e),f.length=1,t=t-a-1,f[0]=Eo(10,(Ct-t%Ct)%Ct),e.e=pc(-t/Ct)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=Eo(10,Ct-n),f[d]=i>0?(c/Eo(10,o-i)%Eo(10,i)|0)*a:0),l)for(;;)if(d==0){(f[0]+=a)==dr&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=dr)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(Nt&&(e.e>xp||e.e<-xp))throw Error(wE+Xt(e));return e}function Jq(e,t){var r,n,i,a,o,s,l,c,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Nt?St(t,p):t;if(l=e.d,f=t.d,n=t.e,c=e.e,l=l.slice(),o=c-n,o){for(d=o<0,d?(r=l,o=-o,s=f.length):(r=f,n=c,s=l.length),i=Math.max(Math.ceil(p/Ct),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=f.length,d=i<s,d&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}o=0}for(d&&(r=l,l=f,f=r,t.s=-t.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=dr-1;--l[a],l[i]+=dr}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Nt?St(t,p):t):new h(0)}function rs(e,t,r){var n,i=Xt(e),a=gi(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+_a(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+_a(-i-1)+a,r&&(n=r-o)>0&&(a+=_a(n))):i>=o?(a+=_a(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+_a(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=_a(n))),e.s<0?"-"+a:a}function TI(e,t){if(e.length>t)return e.length=t,!0}function Zq(e){var t,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Vo+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return CI(o,a.toString())}else if(typeof a!="string")throw Error(Vo+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,X1e.test(a))CI(o,a);else throw Error(Vo+a)}if(i.prototype=je,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Zq,i.config=i.set=Q1e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function Q1e(e){if(!e||typeof e!="object")throw Error(Nn+"Object expected");var t,r,n,i=["precision",1,hc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(pc(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Vo+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Vo+r+": "+n);return this}var SE=Zq(Y1e);on=new SE(1);const bt=SE;function J1e(e){return rSe(e)||tSe(e)||eSe(e)||Z1e()}function Z1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eSe(e,t){if(e){if(typeof e=="string")return vS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vS(e,t)}}function tSe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function rSe(e){if(Array.isArray(e))return vS(e)}function vS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var nSe=function(t){return t},eU={},tU=function(t){return t===eU},PI=function(t){return function r(){return arguments.length===0||arguments.length===1&&tU(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},iSe=function e(t,r){return t===1?r:PI(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==eU}).length;return o>=t?r.apply(void 0,i):e(t-o,PI(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var d=i.map(function(f){return tU(f)?l.shift():f});return r.apply(void 0,J1e(d).concat(l))}))})},jg=function(t){return iSe(t.length,t)},yS=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},aSe=jg(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),oSe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return nSe;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},bS=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},rU=function(t){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(s,l){return s===r[l]})||(r=a,n=t.apply(void 0,a)),n}};function sSe(e){var t;return e===0?t=1:t=Math.floor(new bt(e).abs().log(10).toNumber())+1,t}function lSe(e,t,r){for(var n=new bt(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var cSe=jg(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),uSe=jg(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),dSe=jg(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const kg={rangeStep:lSe,getDigitCount:sSe,interpolateNumber:cSe,uninterpolateNumber:uSe,uninterpolateTruncation:dSe};function xS(e){return pSe(e)||hSe(e)||nU(e)||fSe()}function fSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hSe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function pSe(e){if(Array.isArray(e))return wS(e)}function id(e,t){return vSe(e)||gSe(e,t)||nU(e,t)||mSe()}function mSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nU(e,t){if(e){if(typeof e=="string")return wS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wS(e,t)}}function wS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gSe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function vSe(e){if(Array.isArray(e))return e}function iU(e){var t=id(e,2),r=t[0],n=t[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function aU(e,t,r){if(e.lte(0))return new bt(0);var n=kg.getDigitCount(e.toNumber()),i=new bt(10).pow(n),a=e.div(i),o=n!==1?.05:.1,s=new bt(Math.ceil(a.div(o).toNumber())).add(r).mul(o),l=s.mul(i);return t?l:new bt(Math.ceil(l))}function ySe(e,t,r){var n=1,i=new bt(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new bt(10).pow(kg.getDigitCount(e)-1),i=new bt(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new bt(Math.floor(e)))}else e===0?i=new bt(Math.floor((t-1)/2)):r||(i=new bt(Math.floor(e)));var o=Math.floor((t-1)/2),s=oSe(aSe(function(l){return i.add(new bt(l-o).mul(n)).toNumber()}),yS);return s(0,t)}function oU(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new bt(0),tickMin:new bt(0),tickMax:new bt(0)};var a=aU(new bt(t).sub(e).div(r-1),n,i),o;e<=0&&t>=0?o=new bt(0):(o=new bt(e).add(t).div(2),o=o.sub(new bt(o).mod(a)));var s=Math.ceil(o.sub(e).div(a).toNumber()),l=Math.ceil(new bt(t).sub(o).div(a).toNumber()),c=s+l+1;return c>r?oU(e,t,r,n,i+1):(c<r&&(l=t>0?l+(r-c):l,s=t>0?s:s+(r-c)),{step:a,tickMin:o.sub(new bt(s).mul(a)),tickMax:o.add(new bt(l).mul(a))})}function bSe(e){var t=id(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=iU([r,n]),l=id(s,2),c=l[0],d=l[1];if(c===-1/0||d===1/0){var f=d===1/0?[c].concat(xS(yS(0,i-1).map(function(){return 1/0}))):[].concat(xS(yS(0,i-1).map(function(){return-1/0})),[d]);return r>n?bS(f):f}if(c===d)return ySe(c,i,a);var h=oU(c,d,o,a),p=h.step,v=h.tickMin,m=h.tickMax,g=kg.rangeStep(v,m.add(new bt(.1).mul(p)),p);return r>n?bS(g):g}function xSe(e,t){var r=id(e,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=iU([n,i]),s=id(o,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,i];if(l===c)return[l];var d=Math.max(t,2),f=aU(new bt(c).sub(l).div(d-1),a,0),h=[].concat(xS(kg.rangeStep(new bt(l),new bt(c).sub(new bt(.99).mul(f)),f)),[c]);return n>i?bS(h):h}var wSe=rU(bSe),SSe=rU(xSe),_Se="Invariant failed";function ns(e,t){throw new Error(_Se)}var jSe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function xl(e){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xl(e)}function wp(){return wp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wp.apply(this,arguments)}function kSe(e,t){return CSe(e)||OSe(e,t)||ASe(e,t)||ESe()}function ESe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ASe(e,t){if(e){if(typeof e=="string")return NI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NI(e,t)}}function NI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OSe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function CSe(e){if(Array.isArray(e))return e}function TSe(e,t){if(e==null)return{};var r=PSe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function NSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RSe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cU(n.key),n)}}function ISe(e,t,r){return t&&RSe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function MSe(e,t,r){return t=Sp(t),DSe(e,sU()?Reflect.construct(t,r||[],Sp(e).constructor):t.apply(e,r))}function DSe(e,t){if(t&&(xl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Se(e)}function $Se(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sU=function(){return!!e})()}function Sp(e){return Sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sp(e)}function LSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SS(e,t)}function SS(e,t){return SS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},SS(e,t)}function lU(e,t,r){return t=cU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cU(e){var t=zSe(e,"string");return xl(t)=="symbol"?t:t+""}function zSe(e,t){if(xl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var mc=(function(e){function t(){return NSe(this,t),MSe(this,t,arguments)}return LSe(t,e),ISe(t,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,s=n.dataKey,l=n.data,c=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=TSe(n,jSe),p=we(h,!1);this.props.direction==="x"&&d.type!=="number"&&ns();var v=l.map(function(m){var g=c(m,s),y=g.x,b=g.y,x=g.value,_=g.errorVal;if(!_)return null;var w=[],j,k;if(Array.isArray(_)){var A=kSe(_,2);j=A[0],k=A[1]}else j=k=_;if(a==="vertical"){var T=d.scale,O=b+i,P=O+o,N=O-o,M=T(x-j),E=T(x+k);w.push({x1:E,y1:P,x2:E,y2:N}),w.push({x1:M,y1:O,x2:E,y2:O}),w.push({x1:M,y1:P,x2:M,y2:N})}else if(a==="horizontal"){var R=f.scale,F=y+i,z=F-o,q=F+o,L=R(x-j),D=R(x+k);w.push({x1:z,y1:D,x2:q,y2:D}),w.push({x1:F,y1:L,x2:F,y2:D}),w.push({x1:z,y1:L,x2:q,y2:L})}return I.createElement(Be,wp({className:"recharts-errorBar",key:"bar-".concat(w.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},p),w.map(function(W){return I.createElement("line",wp({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return I.createElement(Be,{className:"recharts-errorBars"},v)}}])})(I.Component);lU(mc,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});lU(mc,"displayName","ErrorBar");function ad(e){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ad(e)}function RI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RI(Object(r),!0).forEach(function(n){FSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FSe(e,t,r){return t=BSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BSe(e){var t=qSe(e,"string");return ad(t)=="symbol"?t:t+""}function qSe(e,t){if(ad(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uU=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,o=tn(r,sn);if(!o)return null;var s=sn.defaultProps,l=s!==void 0?vo(vo({},s),o.props):{},c;return o.props&&o.props.payload?c=o.props&&o.props.payload:a==="children"?c=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,v=p.sectors||p.data||[];return d.concat(v.map(function(m){return{type:o.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):c=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?vo(vo({},h),f.props):{},v=p.dataKey,m=p.name,g=p.legendType,y=p.hide;return{inactive:y,dataKey:v,type:l.iconType||g||"square",color:_E(f),value:m||v,payload:p}}),vo(vo(vo({},l),sn.getWithHeight(o,i)),{},{payload:c,item:o})};function od(e){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},od(e)}function II(e){return HSe(e)||WSe(e)||VSe(e)||USe()}function USe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VSe(e,t){if(e){if(typeof e=="string")return _S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _S(e,t)}}function WSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function HSe(e){if(Array.isArray(e))return _S(e)}function _S(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function MI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Lt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MI(Object(r),!0).forEach(function(n){tl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tl(e,t,r){return t=GSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GSe(e){var t=KSe(e,"string");return od(t)=="symbol"?t:t+""}function KSe(e,t){if(od(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wt(e,t,r){return Re(e)||Re(t)?r:sr(t)?un(e,t,r):Ne(t)?t(e):r}function mu(e,t,r,n){var i=H1e(e,function(s){return wt(s,t)});if(r==="number"){var a=i.filter(function(s){return pe(s)||parseFloat(s)});return a.length?[_g(a),Ta(a)]:[1/0,-1/0]}var o=n?i.filter(function(s){return!Re(s)}):i;return o.map(function(s){return sr(s)||s instanceof Date?s:""})}var YSe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n?.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<s;c++){var d=c>0?i[c-1].coordinate:i[s-1].coordinate,f=i[c].coordinate,h=c>=s-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if($r(f-d)!==$r(h-f)){var v=[];if($r(h-f)===$r(l[1]-l[0])){p=h;var m=f+l[1]-l[0];v[0]=Math.min(m,(m+d)/2),v[1]=Math.max(m,(m+d)/2)}else{p=d;var g=h+l[1]-l[0];v[0]=Math.min(f,(g+f)/2),v[1]=Math.max(f,(g+f)/2)}var y=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>y[0]&&t<=y[1]||t>=v[0]&&t<=v[1]){o=i[c].index;break}}else{var b=Math.min(d,h),x=Math.max(d,h);if(t>(b+f)/2&&t<=(x+f)/2){o=i[c].index;break}}}else for(var _=0;_<s;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<s-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===s-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){o=n[_].index;break}return o},_E=function(t){var r,n=t,i=n.type.displayName,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Lt(Lt({},t.type.defaultProps),t.props):t.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},XSe=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,c=s.length;l<c;l++)for(var d=a[s[l]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var v=d[f[h]],m=v.items,g=v.cateAxisId,y=m.filter(function(k){return Xi(k.type).indexOf("Bar")>=0});if(y&&y.length){var b=y[0].type.defaultProps,x=b!==void 0?Lt(Lt({},b),y[0].props):y[0].props,_=x.barSize,w=x[g];o[w]||(o[w]=[]);var j=Re(_)?r:_;o[w].push({item:y[0],stackList:y.slice(1),barSize:Re(j)?void 0:Lr(j,n,0)})}}return o},QSe=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,s=t.maxBarSize,l=o.length;if(l<1)return null;var c=Lr(r,i,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=i/l,v=o.reduce(function(_,w){return _+w.barSize||0},0);v+=(l-1)*c,v>=i&&(v-=(l-1)*c,c=0),v>=i&&p>0&&(h=!0,p*=.9,v=l*p);var m=(i-v)/2>>0,g={offset:m-c,size:0};d=o.reduce(function(_,w){var j={item:w.item,position:{offset:g.offset+g.size+c,size:h?p:w.barSize}},k=[].concat(II(_),[j]);return g=k[k.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(A){k.push({item:A,position:g})}),k},f)}else{var y=Lr(n,i,0,!0);i-2*y-(l-1)*c<=0&&(c=0);var b=(i-2*y-(l-1)*c)/l;b>1&&(b>>=0);var x=s===+s?Math.min(b,s):b;d=o.reduce(function(_,w,j){var k=[].concat(II(_),[{item:w.item,position:{offset:y+(b+c)*j+(b-x)/2,size:x}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(A){k.push({item:A,position:k[k.length-1].position})}),k},f)}return d},JSe=function(t,r,n,i){var a=n.children,o=n.width,s=n.margin,l=o-(s.left||0)-(s.right||0),c=uU({children:a,legendWidth:l});if(c){var d=i||{},f=d.width,h=d.height,p=c.align,v=c.verticalAlign,m=c.layout;if((m==="vertical"||m==="horizontal"&&v==="middle")&&p!=="center"&&pe(t[p]))return Lt(Lt({},t),{},tl({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&v!=="middle"&&pe(t[v]))return Lt(Lt({},t),{},tl({},v,t[v]+(h||0)))}return t},ZSe=function(t,r,n){return Re(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},dU=function(t,r,n,i,a){var o=r.props.children,s=Fr(o,mc).filter(function(c){return ZSe(i,a,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return t.reduce(function(c,d){var f=wt(d,n);if(Re(f))return c;var h=Array.isArray(f)?[_g(f),Ta(f)]:[f,f],p=l.reduce(function(v,m){var g=wt(d,m,0),y=h[0]-Math.abs(Array.isArray(g)?g[0]:g),b=h[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(y,v[0]),Math.max(b,v[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},e_e=function(t,r,n,i,a){var o=r.map(function(s){return dU(t,s,n,a,i)}).filter(function(s){return!Re(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},fU=function(t,r,n,i,a){var o=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&dU(t,l,c,i)||mu(t,c,n,a)});if(n==="number")return o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,c){for(var d=0,f=c.length;d<f;d++)s[c[d]]||(s[c[d]]=!0,l.push(c[d]));return l},[])},hU=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},pU=function(t,r,n,i){if(i)return t.map(function(l){return l.coordinate});var a,o,s=t.map(function(l){return l.coordinate===r&&(a=!0),l.coordinate===n&&(o=!0),l.coordinate});return a||s.push(r),o||s.push(n),s},Wi=function(t,r,n){if(!t)return null;var i=t.scale,a=t.duplicateDomain,o=t.type,s=t.range,l=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&s?.length>=2?$r(s[0]-s[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+c,value:f,offset:c}});return d.filter(function(f){return!cc(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:i(f)+c,value:f,index:h,offset:c}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,h){return{coordinate:i(f)+c,value:a?a[f]:f,index:h,offset:c}})},C0=new WeakMap,Vf=function(t,r){if(typeof r!="function")return t;C0.has(t)||C0.set(t,new WeakMap);var n=C0.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},mU=function(t,r,n){var i=t.scale,a=t.type,o=t.layout,s=t.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Ju(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:gp(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:pu(),realScaleType:"point"}:a==="category"?{scale:Ju(),realScaleType:"band"}:{scale:gp(),realScaleType:"linear"};if(es(i)){var l="scale".concat(lg(i));return{scale:(xI[l]||pu)(),realScaleType:xI[l]?l:"point"}}return Ne(i)?{scale:i}:{scale:pu(),realScaleType:"point"}},DI=1e-4,gU=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),a=Math.min(i[0],i[1])-DI,o=Math.max(i[0],i[1])+DI,s=t(r[0]),l=t(r[n-1]);(s<a||s>o||l<a||l>o)&&t.domain([r[0],r[n-1]])}},t_e=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},r_e=function(t,r){if(!r||r.length!==2||!pe(r[0])||!pe(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[t[0],t[1]];return(!pe(t[0])||t[0]<n)&&(a[0]=n),(!pe(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},n_e=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,o=0,s=0;s<r;++s){var l=cc(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=a,t[s][n][1]=a+l,a=t[s][n][1]):(t[s][n][0]=o,t[s][n][1]=o+l,o=t[s][n][1])}},i_e=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var s=cc(t[o][n][1])?t[o][n][0]:t[o][n][1];s>=0?(t[o][n][0]=a,t[o][n][1]=a+s,a=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},a_e={sign:n_e,expand:Hve,none:fl,silhouette:Gve,wiggle:Kve,positive:i_e},o_e=function(t,r,n){var i=r.map(function(s){return s.props.dataKey}),a=a_e[n],o=Wve().keys(i).value(function(s,l){return+wt(s,l,0)}).order(Z1).offset(a);return o(t)},s_e=function(t,r,n,i,a,o){if(!t)return null;var s=o?r.reverse():r,l={},c=s.reduce(function(f,h){var p,v=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Lt(Lt({},h.type.defaultProps),h.props):h.props,m=v.stackId,g=v.hide;if(g)return f;var y=v[n],b=f[y]||{hasStack:!1,stackGroups:{}};if(sr(m)){var x=b.stackGroups[m]||{numericAxisId:n,cateAxisId:i,items:[]};x.items.push(h),b.hasStack=!0,b.stackGroups[m]=x}else b.stackGroups[ao("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return Lt(Lt({},f),{},tl({},y,b))},l),d={};return Object.keys(c).reduce(function(f,h){var p=c[h];if(p.hasStack){var v={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,g){var y=p.stackGroups[g];return Lt(Lt({},m),{},tl({},g,{numericAxisId:n,cateAxisId:i,items:y.items,stackedData:o_e(t,y.items,a)}))},v)}return Lt(Lt({},f),{},tl({},h,p))},d)},vU=function(t,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=t.domain();if(!c.length)return null;var d=wSe(c,a,s);return t.domain([_g(d),Ta(d)]),{niceTicks:d}}if(a&&i==="number"){var f=t.domain(),h=SSe(f,a,s);return{niceTicks:h}}return null};function wl(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,a=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Re(i[t.dataKey])){var s=Jh(r,"value",i[t.dataKey]);if(s)return s.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=wt(i,Re(o)?t.dataKey:o);return Re(l)?null:t.scale(l)}var $I=function(t){var r=t.axis,n=t.ticks,i=t.offset,a=t.bandSize,o=t.entry,s=t.index;if(r.type==="category")return n[s]?n[s].coordinate+i:null;var l=wt(o,r.dataKey,r.domain[s]);return Re(l)?null:r.scale(l)-a/2+i},l_e=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},c_e=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Lt(Lt({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(sr(a)){var o=r[a];if(o){var s=o.items.indexOf(t);return s>=0?o.stackedData[s]:null}}return null},u_e=function(t){return t.reduce(function(r,n){return[_g(n.concat([r[0]]).filter(pe)),Ta(n.concat([r[1]]).filter(pe))]},[1/0,-1/0])},yU=function(t,r,n){return Object.keys(t).reduce(function(i,a){var o=t[a],s=o.stackedData,l=s.reduce(function(c,d){var f=u_e(d.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},LI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jS=function(t,r,n){if(Ne(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(pe(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(LI.test(t[0])){var a=+LI.exec(t[0])[1];i[0]=r[0]-a}else Ne(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(pe(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(zI.test(t[1])){var o=+zI.exec(t[1])[1];i[1]=r[1]+o}else Ne(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},_p=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var a=Qk(r,function(f){return f.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var c=a[s],d=a[s-1];o=Math.min((c.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},FI=function(t,r,n){return!t||!t.length||aa(t,un(n,"type.defaultProps.domain"))?r:t},bU=function(t,r){var n=t.type.defaultProps?Lt(Lt({},t.type.defaultProps),t.props):t.props,i=n.dataKey,a=n.name,o=n.unit,s=n.formatter,l=n.tooltipType,c=n.chartType,d=n.hide;return Lt(Lt({},we(t,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:_E(t),value:wt(r,i),type:l,payload:r,chartType:c,hide:d})};function sd(e){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sd(e)}function BI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BI(Object(r),!0).forEach(function(n){xU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xU(e,t,r){return t=d_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d_e(e){var t=f_e(e,"string");return sd(t)=="symbol"?t:t+""}function f_e(e,t){if(sd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h_e(e,t){return v_e(e)||g_e(e,t)||m_e(e,t)||p_e()}function p_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m_e(e,t){if(e){if(typeof e=="string")return qI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qI(e,t)}}function qI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function v_e(e){if(Array.isArray(e))return e}var jp=Math.PI/180,y_e=function(t){return t*180/Math.PI},ht=function(t,r,n,i){return{x:t+Math.cos(-jp*i)*n,y:r+Math.sin(-jp*i)*n}},wU=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},SU=function(t,r,n,i,a){var o=t.width,s=t.height,l=t.startAngle,c=t.endAngle,d=Lr(t.cx,o,o/2),f=Lr(t.cy,s,s/2),h=wU(o,s,n),p=Lr(t.innerRadius,h,0),v=Lr(t.outerRadius,h,h*.8),m=Object.keys(r);return m.reduce(function(g,y){var b=r[y],x=b.domain,_=b.reversed,w;if(Re(b.range))i==="angleAxis"?w=[l,c]:i==="radiusAxis"&&(w=[p,v]),_&&(w=[w[1],w[0]]);else{w=b.range;var j=w,k=h_e(j,2);l=k[0],c=k[1]}var A=mU(b,a),T=A.realScaleType,O=A.scale;O.domain(x).range(w),gU(O);var P=vU(O,zi(zi({},b),{},{realScaleType:T})),N=zi(zi(zi({},b),P),{},{range:w,radius:v,realScaleType:T,scale:O,cx:d,cy:f,innerRadius:p,outerRadius:v,startAngle:l,endAngle:c});return zi(zi({},g),{},xU({},y,N))},{})},b_e=function(t,r){var n=t.x,i=t.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},x_e=function(t,r){var n=t.x,i=t.y,a=r.cx,o=r.cy,s=b_e({x:n,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(n-a)/s,c=Math.acos(l);return i>o&&(c=2*Math.PI-c),{radius:s,angle:y_e(c),angleInRadian:c}},w_e=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},S_e=function(t,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),s=Math.min(a,o);return t+s*360},UI=function(t,r){var n=t.x,i=t.y,a=x_e({x:n,y:i},r),o=a.radius,s=a.angle,l=r.innerRadius,c=r.outerRadius;if(o<l||o>c)return!1;if(o===0)return!0;var d=w_e(r),f=d.startAngle,h=d.endAngle,p=s,v;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;v=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;v=p>=h&&p<=f}return v?zi(zi({},r),{},{radius:o,angle:S_e(p,r)}):null},_U=function(t){return!S.isValidElement(t)&&!Ne(t)&&typeof t!="boolean"?t.className:""};function ld(e){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ld(e)}var __e=["offset"];function j_e(e){return O_e(e)||A_e(e)||E_e(e)||k_e()}function k_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E_e(e,t){if(e){if(typeof e=="string")return kS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kS(e,t)}}function A_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function O_e(e){if(Array.isArray(e))return kS(e)}function kS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function C_e(e,t){if(e==null)return{};var r=T_e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function T_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function VI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VI(Object(r),!0).forEach(function(n){P_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P_e(e,t,r){return t=N_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N_e(e){var t=R_e(e,"string");return ld(t)=="symbol"?t:t+""}function R_e(e,t){if(ld(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cd(){return cd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cd.apply(this,arguments)}var I_e=function(t){var r=t.value,n=t.formatter,i=Re(t.children)?r:t.children;return Ne(n)?n(i):i},M_e=function(t,r){var n=$r(r-t),i=Math.min(Math.abs(r-t),360);return n*i},D_e=function(t,r,n){var i=t.position,a=t.viewBox,o=t.offset,s=t.className,l=a,c=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,v=l.endAngle,m=l.clockWise,g=(f+h)/2,y=M_e(p,v),b=y>=0?1:-1,x,_;i==="insideStart"?(x=p+b*o,_=m):i==="insideEnd"?(x=v-b*o,_=!m):i==="end"&&(x=v+b*o,_=m),_=y<=0?_:!_;var w=ht(c,d,g,x),j=ht(c,d,g,x+(_?1:-1)*359),k="M".concat(w.x,",").concat(w.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(_?0:1,`,
    `).concat(j.x,",").concat(j.y),A=Re(t.id)?ao("recharts-radial-line-"):t.id;return I.createElement("text",cd({},n,{dominantBaseline:"central",className:Le("recharts-radial-bar-label",s)}),I.createElement("defs",null,I.createElement("path",{id:A,d:k})),I.createElement("textPath",{xlinkHref:"#".concat(A)},r))},$_e=function(t){var r=t.viewBox,n=t.offset,i=t.position,a=r,o=a.cx,s=a.cy,l=a.innerRadius,c=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(i==="outside"){var p=ht(o,s,c+n,h),v=p.x,m=p.y;return{x:v,y:m,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var g=(l+c)/2,y=ht(o,s,g,h),b=y.x,x=y.y;return{x:b,y:x,textAnchor:"middle",verticalAnchor:"middle"}},L_e=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,a=t.position,o=r,s=o.x,l=o.y,c=o.width,d=o.height,f=d>=0?1:-1,h=f*i,p=f>0?"end":"start",v=f>0?"start":"end",m=c>=0?1:-1,g=m*i,y=m>0?"end":"start",b=m>0?"start":"end";if(a==="top"){var x={x:s+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return er(er({},x),n?{height:Math.max(l-n.y,0),width:c}:{})}if(a==="bottom"){var _={x:s+c/2,y:l+d+h,textAnchor:"middle",verticalAnchor:v};return er(er({},_),n?{height:Math.max(n.y+n.height-(l+d),0),width:c}:{})}if(a==="left"){var w={x:s-g,y:l+d/2,textAnchor:y,verticalAnchor:"middle"};return er(er({},w),n?{width:Math.max(w.x-n.x,0),height:d}:{})}if(a==="right"){var j={x:s+c+g,y:l+d/2,textAnchor:b,verticalAnchor:"middle"};return er(er({},j),n?{width:Math.max(n.x+n.width-j.x,0),height:d}:{})}var k=n?{width:c,height:d}:{};return a==="insideLeft"?er({x:s+g,y:l+d/2,textAnchor:b,verticalAnchor:"middle"},k):a==="insideRight"?er({x:s+c-g,y:l+d/2,textAnchor:y,verticalAnchor:"middle"},k):a==="insideTop"?er({x:s+c/2,y:l+h,textAnchor:"middle",verticalAnchor:v},k):a==="insideBottom"?er({x:s+c/2,y:l+d-h,textAnchor:"middle",verticalAnchor:p},k):a==="insideTopLeft"?er({x:s+g,y:l+h,textAnchor:b,verticalAnchor:v},k):a==="insideTopRight"?er({x:s+c-g,y:l+h,textAnchor:y,verticalAnchor:v},k):a==="insideBottomLeft"?er({x:s+g,y:l+d-h,textAnchor:b,verticalAnchor:p},k):a==="insideBottomRight"?er({x:s+c-g,y:l+d-h,textAnchor:y,verticalAnchor:p},k):lc(a)&&(pe(a.x)||Mo(a.x))&&(pe(a.y)||Mo(a.y))?er({x:s+Lr(a.x,c),y:l+Lr(a.y,d),textAnchor:"end",verticalAnchor:"end"},k):er({x:s+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},k)},z_e=function(t){return"cx"in t&&pe(t.cx)};function hr(e){var t=e.offset,r=t===void 0?5:t,n=C_e(e,__e),i=er({offset:r},n),a=i.viewBox,o=i.position,s=i.value,l=i.children,c=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!a||Re(s)&&Re(l)&&!S.isValidElement(c)&&!Ne(c))return null;if(S.isValidElement(c))return S.cloneElement(c,i);var p;if(Ne(c)){if(p=S.createElement(c,i),S.isValidElement(p))return p}else p=I_e(i);var v=z_e(a),m=we(i,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return D_e(i,p,m);var g=v?$_e(i):L_e(i);return I.createElement(ts,cd({className:Le("recharts-label",f)},m,g,{breakAll:h}),p)}hr.displayName="Label";var jU=function(t){var r=t.cx,n=t.cy,i=t.angle,a=t.startAngle,o=t.endAngle,s=t.r,l=t.radius,c=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,v=t.left,m=t.width,g=t.height,y=t.clockWise,b=t.labelViewBox;if(b)return b;if(pe(m)&&pe(g)){if(pe(f)&&pe(h))return{x:f,y:h,width:m,height:g};if(pe(p)&&pe(v))return{x:p,y:v,width:m,height:g}}return pe(f)&&pe(h)?{x:f,y:h,width:0,height:0}:pe(r)&&pe(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:c||0,outerRadius:d||l||s||0,clockWise:y}:t.viewBox?t.viewBox:{}},F_e=function(t,r){return t?t===!0?I.createElement(hr,{key:"label-implicit",viewBox:r}):sr(t)?I.createElement(hr,{key:"label-implicit",viewBox:r,value:t}):S.isValidElement(t)?t.type===hr?S.cloneElement(t,{key:"label-implicit",viewBox:r}):I.createElement(hr,{key:"label-implicit",content:t,viewBox:r}):Ne(t)?I.createElement(hr,{key:"label-implicit",content:t,viewBox:r}):lc(t)?I.createElement(hr,cd({viewBox:r},t,{key:"label-implicit"})):null:null},B_e=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,a=jU(t),o=Fr(i,hr).map(function(l,c){return S.cloneElement(l,{viewBox:r||a,key:"label-".concat(c)})});if(!n)return o;var s=F_e(t.label,r||a);return[s].concat(j_e(o))};hr.parseViewBox=jU;hr.renderCallByParent=B_e;var T0,WI;function q_e(){if(WI)return T0;WI=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return T0=e,T0}var U_e=q_e();const kU=ot(U_e);function ud(e){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ud(e)}var V_e=["valueAccessor"],W_e=["data","dataKey","clockWise","id","textBreakAll"];function H_e(e){return X_e(e)||Y_e(e)||K_e(e)||G_e()}function G_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K_e(e,t){if(e){if(typeof e=="string")return ES(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ES(e,t)}}function Y_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function X_e(e){if(Array.isArray(e))return ES(e)}function ES(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kp(){return kp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kp.apply(this,arguments)}function HI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function GI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HI(Object(r),!0).forEach(function(n){Q_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q_e(e,t,r){return t=J_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J_e(e){var t=Z_e(e,"string");return ud(t)=="symbol"?t:t+""}function Z_e(e,t){if(ud(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KI(e,t){if(e==null)return{};var r=eje(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var tje=function(t){return Array.isArray(t.value)?kU(t.value):t.value};function Cn(e){var t=e.valueAccessor,r=t===void 0?tje:t,n=KI(e,V_e),i=n.data,a=n.dataKey,o=n.clockWise,s=n.id,l=n.textBreakAll,c=KI(n,W_e);return!i||!i.length?null:I.createElement(Be,{className:"recharts-label-list"},i.map(function(d,f){var h=Re(a)?r(d,f):wt(d&&d.payload,a),p=Re(s)?{}:{id:"".concat(s,"-").concat(f)};return I.createElement(hr,kp({},we(d,!0),c,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:hr.parseViewBox(Re(o)?d:GI(GI({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Cn.displayName="LabelList";function rje(e,t){return e?e===!0?I.createElement(Cn,{key:"labelList-implicit",data:t}):I.isValidElement(e)||Ne(e)?I.createElement(Cn,{key:"labelList-implicit",data:t,content:e}):lc(e)?I.createElement(Cn,kp({data:t},e,{key:"labelList-implicit"})):null:null}function nje(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=Fr(n,Cn).map(function(o,s){return S.cloneElement(o,{data:t,key:"labelList-".concat(s)})});if(!r)return i;var a=rje(e.label,t);return[a].concat(H_e(i))}Cn.renderCallByParent=nje;function dd(e){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dd(e)}function AS(){return AS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AS.apply(this,arguments)}function YI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function XI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YI(Object(r),!0).forEach(function(n){ije(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ije(e,t,r){return t=aje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aje(e){var t=oje(e,"string");return dd(t)=="symbol"?t:t+""}function oje(e,t){if(dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sje=function(t,r){var n=$r(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},Wf=function(t){var r=t.cx,n=t.cy,i=t.radius,a=t.angle,o=t.sign,s=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,d=l*(s?1:-1)+i,f=Math.asin(l/d)/jp,h=c?a:a+o*f,p=ht(r,n,d,h),v=ht(r,n,i,h),m=c?a-o*f:a,g=ht(r,n,d*Math.cos(f*jp),m);return{center:p,circleTangency:v,lineTangency:g,theta:f}},EU=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.startAngle,s=t.endAngle,l=sje(o,s),c=o+l,d=ht(r,n,a,o),f=ht(r,n,a,c),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=ht(r,n,i,o),v=ht(r,n,i,c);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},lje=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,d=t.endAngle,f=$r(d-c),h=Wf({cx:r,cy:n,radius:a,angle:c,sign:f,cornerRadius:o,cornerIsExternal:l}),p=h.circleTangency,v=h.lineTangency,m=h.theta,g=Wf({cx:r,cy:n,radius:a,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:l}),y=g.circleTangency,b=g.lineTangency,x=g.theta,_=l?Math.abs(c-d):Math.abs(c-d)-m-x;if(_<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):EU({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:c,endAngle:d});var w="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var j=Wf({cx:r,cy:n,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),k=j.circleTangency,A=j.lineTangency,T=j.theta,O=Wf({cx:r,cy:n,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),P=O.circleTangency,N=O.lineTangency,M=O.theta,E=l?Math.abs(c-d):Math.abs(c-d)-T-M;if(E<0&&o===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(E>180),",").concat(+(f>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},cje={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},AU=function(t){var r=XI(XI({},cje),t),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<a||d===f)return null;var p=Le("recharts-sector",h),v=o-a,m=Lr(s,v,0,!0),g;return m>0&&Math.abs(d-f)<360?g=lje({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(m,v/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}):g=EU({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:d,endAngle:f}),I.createElement("path",AS({},we(r,!0),{className:p,d:g,role:"img"}))};function fd(e){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fd(e)}function OS(){return OS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},OS.apply(this,arguments)}function QI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function JI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QI(Object(r),!0).forEach(function(n){uje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uje(e,t,r){return t=dje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dje(e){var t=fje(e,"string");return fd(t)=="symbol"?t:t+""}function fje(e,t){if(fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZI={curveBasisClosed:Ive,curveBasisOpen:Mve,curveBasis:Rve,curveBumpX:bve,curveBumpY:xve,curveLinearClosed:Dve,curveLinear:ug,curveMonotoneX:$ve,curveMonotoneY:Lve,curveNatural:zve,curveStep:Fve,curveStepAfter:qve,curveStepBefore:Bve},Hf=function(t){return t.x===+t.x&&t.y===+t.y},Fc=function(t){return t.x},Bc=function(t){return t.y},hje=function(t,r){if(Ne(t))return t;var n="curve".concat(lg(t));return(n==="curveMonotone"||n==="curveBump")&&r?ZI["".concat(n).concat(r==="vertical"?"Y":"X")]:ZI[n]||ug},pje=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,a=i===void 0?[]:i,o=t.baseLine,s=t.layout,l=t.connectNulls,c=l===void 0?!1:l,d=hje(n,s),f=c?a.filter(function(m){return Hf(m)}):a,h;if(Array.isArray(o)){var p=c?o.filter(function(m){return Hf(m)}):o,v=f.map(function(m,g){return JI(JI({},m),{},{base:p[g]})});return s==="vertical"?h=$f().y(Bc).x1(Fc).x0(function(m){return m.base.x}):h=$f().x(Fc).y1(Bc).y0(function(m){return m.base.y}),h.defined(Hf).curve(d),h(v)}return s==="vertical"&&pe(o)?h=$f().y(Bc).x1(Fc).x0(o):pe(o)?h=$f().x(Fc).y1(Bc).y0(o):h=_8().x(Fc).y(Bc),h.defined(Hf).curve(d),h(f)},Wa=function(t){var r=t.className,n=t.points,i=t.path,a=t.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?pje(t):i;return S.createElement("path",OS({},we(t,!1),Zh(t),{className:Le("recharts-curve",r),d:o,ref:a}))},P0={exports:{}},N0,eM;function mje(){if(eM)return N0;eM=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return N0=e,N0}var R0,tM;function gje(){if(tM)return R0;tM=1;var e=mje();function t(){}function r(){}return r.resetWarningCache=t,R0=function(){function n(o,s,l,c,d,f){if(f!==e){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:t};return a.PropTypes=a,a},R0}var rM;function vje(){return rM||(rM=1,P0.exports=gje()()),P0.exports}var yje=vje();const mt=ot(yje);var bje=Object.getOwnPropertyNames,xje=Object.getOwnPropertySymbols,wje=Object.prototype.hasOwnProperty;function nM(e,t){return function(n,i,a){return e(n,i,a)&&t(n,i,a)}}function Gf(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);var a=i.cache,o=a.get(r),s=a.get(n);if(o&&s)return o===n&&s===r;a.set(r,n),a.set(n,r);var l=e(r,n,i);return a.delete(r),a.delete(n),l}}function iM(e){return bje(e).concat(xje(e))}var Sje=Object.hasOwn||(function(e,t){return wje.call(e,t)});function ps(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var _je="__v",jje="__o",kje="_owner",aM=Object.getOwnPropertyDescriptor,oM=Object.keys;function Eje(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Aje(e,t){return ps(e.getTime(),t.getTime())}function Oje(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Cje(e,t){return e===t}function sM(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),a=e.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var c=t.entries(),d=!1,f=0;(s=c.next())&&!s.done;){if(i[f]){f++;continue}var h=o.value,p=s.value;if(r.equals(h[0],p[0],l,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=i[f]=!0;break}f++}if(!d)return!1;l++}return!0}var Tje=ps;function Pje(e,t,r){var n=oM(e),i=n.length;if(oM(t).length!==i)return!1;for(;i-- >0;)if(!OU(e,t,r,n[i]))return!1;return!0}function qc(e,t,r){var n=iM(e),i=n.length;if(iM(t).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=n[i],!OU(e,t,r,a)||(o=aM(e,a),s=aM(t,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function Nje(e,t){return ps(e.valueOf(),t.valueOf())}function Rje(e,t){return e.source===t.source&&e.flags===t.flags}function lM(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),a=e.values(),o,s;(o=a.next())&&!o.done;){for(var l=t.values(),c=!1,d=0;(s=l.next())&&!s.done;){if(!i[d]&&r.equals(o.value,s.value,o.value,s.value,e,t,r)){c=i[d]=!0;break}d++}if(!c)return!1}return!0}function Ije(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Mje(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function OU(e,t,r,n){return(n===kje||n===jje||n===_je)&&(e.$$typeof||t.$$typeof)?!0:Sje(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var Dje="[object Arguments]",$je="[object Boolean]",Lje="[object Date]",zje="[object Error]",Fje="[object Map]",Bje="[object Number]",qje="[object Object]",Uje="[object RegExp]",Vje="[object Set]",Wje="[object String]",Hje="[object URL]",Gje=Array.isArray,cM=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,uM=Object.assign,Kje=Object.prototype.toString.call.bind(Object.prototype.toString);function Yje(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,i=e.areFunctionsEqual,a=e.areMapsEqual,o=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(v,m,g){if(v===m)return!0;if(v==null||m==null)return!1;var y=typeof v;if(y!==typeof m)return!1;if(y!=="object")return y==="number"?o(v,m,g):y==="function"?i(v,m,g):!1;var b=v.constructor;if(b!==m.constructor)return!1;if(b===Object)return s(v,m,g);if(Gje(v))return t(v,m,g);if(cM!=null&&cM(v))return f(v,m,g);if(b===Date)return r(v,m,g);if(b===RegExp)return c(v,m,g);if(b===Map)return a(v,m,g);if(b===Set)return d(v,m,g);var x=Kje(v);return x===Lje?r(v,m,g):x===Uje?c(v,m,g):x===Fje?a(v,m,g):x===Vje?d(v,m,g):x===qje?typeof v.then!="function"&&typeof m.then!="function"&&s(v,m,g):x===Hje?h(v,m,g):x===zje?n(v,m,g):x===Dje?s(v,m,g):x===$je||x===Bje||x===Wje?l(v,m,g):!1}}function Xje(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,i={areArraysEqual:n?qc:Eje,areDatesEqual:Aje,areErrorsEqual:Oje,areFunctionsEqual:Cje,areMapsEqual:n?nM(sM,qc):sM,areNumbersEqual:Tje,areObjectsEqual:n?qc:Pje,arePrimitiveWrappersEqual:Nje,areRegExpsEqual:Rje,areSetsEqual:n?nM(lM,qc):lM,areTypedArraysEqual:n?qc:Ije,areUrlsEqual:Mje};if(r&&(i=uM({},i,r(i))),t){var a=Gf(i.areArraysEqual),o=Gf(i.areMapsEqual),s=Gf(i.areObjectsEqual),l=Gf(i.areSetsEqual);i=uM({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function Qje(e){return function(t,r,n,i,a,o,s){return e(t,r,s)}}function Jje(e){var t=e.circular,r=e.comparator,n=e.createState,i=e.equals,a=e.strict;if(n)return function(l,c){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,p=d.meta;return r(l,c,{cache:h,equals:i,meta:p,strict:a})};if(t)return function(l,c){return r(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,c){return r(l,c,o)}}var Zje=lo();lo({strict:!0});lo({circular:!0});lo({circular:!0,strict:!0});lo({createInternalComparator:function(){return ps}});lo({strict:!0,createInternalComparator:function(){return ps}});lo({circular:!0,createInternalComparator:function(){return ps}});lo({circular:!0,createInternalComparator:function(){return ps},strict:!0});function lo(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,i=e.createState,a=e.strict,o=a===void 0?!1:a,s=Xje(e),l=Yje(s),c=n?n(l):Qje(l);return Jje({circular:r,comparator:l,createState:i,equals:c,strict:o})}function eke(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function dM(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>t?(e(a),r=-1):eke(i)};requestAnimationFrame(n)}function CS(e){"@babel/helpers - typeof";return CS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},CS(e)}function tke(e){return ake(e)||ike(e)||nke(e)||rke()}function rke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nke(e,t){if(e){if(typeof e=="string")return fM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fM(e,t)}}function fM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ike(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ake(e){if(Array.isArray(e))return e}function oke(){var e={},t=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,s=tke(o),l=s[0],c=s.slice(1);if(typeof l=="number"){dM(i.bind(null,c),l);return}i(l),dM(i.bind(null,c));return}CS(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function hd(e){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hd(e)}function hM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hM(Object(r),!0).forEach(function(n){CU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CU(e,t,r){return t=ske(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ske(e){var t=lke(e,"string");return hd(t)==="symbol"?t:String(t)}function lke(e,t){if(hd(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cke=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},uke=function(t){return t},dke=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},gu=function(t,r){return Object.keys(r).reduce(function(n,i){return pM(pM({},n),{},CU({},i,t(i,r[i])))},{})},mM=function(t,r,n){return t.map(function(i){return"".concat(dke(i)," ").concat(r,"ms ").concat(n)}).join(",")};function fke(e,t){return mke(e)||pke(e,t)||TU(e,t)||hke()}function hke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function mke(e){if(Array.isArray(e))return e}function gke(e){return bke(e)||yke(e)||TU(e)||vke()}function vke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TU(e,t){if(e){if(typeof e=="string")return TS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TS(e,t)}}function yke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bke(e){if(Array.isArray(e))return TS(e)}function TS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ep=1e-4,PU=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},NU=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},gM=function(t,r){return function(n){var i=PU(t,r);return NU(i,n)}},xke=function(t,r){return function(n){var i=PU(t,r),a=[].concat(gke(i.map(function(o,s){return o*s}).slice(1)),[0]);return NU(a,n)}},vM=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),d=fke(c,4);i=d[0],a=d[1],o=d[2],s=d[3]}}}var f=gM(i,o),h=gM(a,s),p=xke(i,o),v=function(y){return y>1?1:y<0?0:y},m=function(y){for(var b=y>1?1:y,x=b,_=0;_<8;++_){var w=f(x)-b,j=p(x);if(Math.abs(w-b)<Ep||j<Ep)return h(x);x=v(x-w/j)}return h(x)};return m.isStepper=!1,m},wke=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,a=i===void 0?8:i,o=t.dt,s=o===void 0?17:o,l=function(d,f,h){var p=-(d-f)*n,v=h*a,m=h+(p-v)*s/1e3,g=h*s/1e3+d;return Math.abs(g-f)<Ep&&Math.abs(m)<Ep?[f,0]:[g,m]};return l.isStepper=!0,l.dt=s,l},Ske=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return vM(i);case"spring":return wke();default:if(i.split("(")[0]==="cubic-bezier")return vM(i)}return typeof i=="function"?i:null};function pd(e){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pd(e)}function yM(e){return kke(e)||jke(e)||RU(e)||_ke()}function _ke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kke(e){if(Array.isArray(e))return NS(e)}function bM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bM(Object(r),!0).forEach(function(n){PS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PS(e,t,r){return t=Eke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eke(e){var t=Ake(e,"string");return pd(t)==="symbol"?t:String(t)}function Ake(e,t){if(pd(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oke(e,t){return Pke(e)||Tke(e,t)||RU(e,t)||Cke()}function Cke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RU(e,t){if(e){if(typeof e=="string")return NS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NS(e,t)}}function NS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Pke(e){if(Array.isArray(e))return e}var Ap=function(t,r,n){return t+(r-t)*n},RS=function(t){var r=t.from,n=t.to;return r!==n},Nke=function e(t,r,n){var i=gu(function(a,o){if(RS(o)){var s=t(o.from,o.to,o.velocity),l=Oke(s,2),c=l[0],d=l[1];return vr(vr({},o),{},{from:c,velocity:d})}return o},r);return n<1?gu(function(a,o){return RS(o)?vr(vr({},o),{},{velocity:Ap(o.velocity,i[a].velocity,n),from:Ap(o.from,i[a].from,n)}):o},r):e(t,i,n-1)};const Rke=(function(e,t,r,n,i){var a=cke(e,t),o=a.reduce(function(g,y){return vr(vr({},g),{},PS({},y,[e[y],t[y]]))},{}),s=a.reduce(function(g,y){return vr(vr({},g),{},PS({},y,{from:e[y],velocity:0,to:t[y]}))},{}),l=-1,c,d,f=function(){return null},h=function(){return gu(function(y,b){return b.from},s)},p=function(){return!Object.values(s).filter(RS).length},v=function(y){c||(c=y);var b=y-c,x=b/r.dt;s=Nke(r,s,x),i(vr(vr(vr({},e),t),h())),c=y,p()||(l=requestAnimationFrame(f))},m=function(y){d||(d=y);var b=(y-d)/n,x=gu(function(w,j){return Ap.apply(void 0,yM(j).concat([r(b)]))},o);if(i(vr(vr(vr({},e),t),x)),b<1)l=requestAnimationFrame(f);else{var _=gu(function(w,j){return Ap.apply(void 0,yM(j).concat([r(1)]))},o);i(vr(vr(vr({},e),t),_))}};return f=r.isStepper?v:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}});function Sl(e){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sl(e)}var Ike=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Mke(e,t){if(e==null)return{};var r=Dke(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Dke(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function I0(e){return Fke(e)||zke(e)||Lke(e)||$ke()}function $ke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lke(e,t){if(e){if(typeof e=="string")return IS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IS(e,t)}}function zke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Fke(e){if(Array.isArray(e))return IS(e)}function IS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ln(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xM(Object(r),!0).forEach(function(n){Qc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qc(e,t,r){return t=IU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IU(n.key),n)}}function Uke(e,t,r){return t&&qke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function IU(e){var t=Vke(e,"string");return Sl(t)==="symbol"?t:String(t)}function Vke(e,t){if(Sl(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MS(e,t)}function MS(e,t){return MS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},MS(e,t)}function Hke(e){var t=Gke();return function(){var n=Op(e),i;if(t){var a=Op(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return DS(this,i)}}function DS(e,t){if(t&&(Sl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $S(e)}function $S(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gke(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Op(e){return Op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Op(e)}var dn=(function(e){Wke(r,e);var t=Hke(r);function r(n,i){var a;Bke(this,r),a=t.call(this,n,i);var o=a.props,s=o.isActive,l=o.attributeName,c=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind($S(a)),a.changeStyle=a.changeStyle.bind($S(a)),!s||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),DS(a);if(f&&f.length)a.state={style:f[0].style};else if(c){if(typeof h=="function")return a.state={style:c},DS(a);a.state={style:l?Qc({},l,c):c}}else a.state={style:{}};return a}return Uke(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(s){if(!o){var p={style:l?Qc({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(p);return}if(!(Zje(i.to,d)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=v||c?f:i.to;if(this.state&&h){var g={style:l?Qc({},l,m):m};(l&&h[l]!==m||!l&&h!==m)&&this.setState(g)}this.runAnimation(Ln(Ln({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,c=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=Rke(o,s,Ske(c),l,this.changeStyle),v=function(){a.stopJSAnimation=p()};this.manager.start([h,d,v,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,c=o[0],d=c.style,f=c.duration,h=f===void 0?0:f,p=function(m,g,y){if(y===0)return m;var b=g.duration,x=g.easing,_=x===void 0?"ease":x,w=g.style,j=g.properties,k=g.onAnimationEnd,A=y>0?o[y-1]:g,T=j||Object.keys(w);if(typeof _=="function"||_==="spring")return[].concat(I0(m),[a.runJSAnimation.bind(a,{from:A.style,to:w,duration:b,easing:_}),b]);var O=mM(T,b,_),P=Ln(Ln(Ln({},A.style),w),{},{transition:O});return[].concat(I0(m),[P,b,k]).filter(uke)};return this.manager.start([l].concat(I0(o.reduce(p,[d,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=oke());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,c=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var m=s?Qc({},s,l):l,g=mM(Object.keys(m),o,c);v.start([d,a,Ln(Ln({},m),{},{transition:g}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Mke(i,Ike),c=S.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!s||c===0||o<=0)return a;var f=function(p){var v=p.props,m=v.style,g=m===void 0?{}:m,y=v.className,b=S.cloneElement(p,Ln(Ln({},l),{},{style:Ln(Ln({},g),d),className:y}));return b};return c===1?f(S.Children.only(a)):I.createElement("div",null,S.Children.map(a,function(h){return f(h)}))}}]),r})(S.PureComponent);dn.displayName="Animate";dn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};dn.propTypes={from:mt.oneOfType([mt.object,mt.string]),to:mt.oneOfType([mt.object,mt.string]),attributeName:mt.string,duration:mt.number,begin:mt.number,easing:mt.oneOfType([mt.string,mt.func]),steps:mt.arrayOf(mt.shape({duration:mt.number.isRequired,style:mt.object.isRequired,easing:mt.oneOfType([mt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),mt.func]),properties:mt.arrayOf("string"),onAnimationEnd:mt.func})),children:mt.oneOfType([mt.node,mt.func]),isActive:mt.bool,canBegin:mt.bool,onAnimationEnd:mt.func,shouldReAnimate:mt.bool,onAnimationStart:mt.func,onAnimationReStart:mt.func};function md(e){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},md(e)}function Cp(){return Cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cp.apply(this,arguments)}function Kke(e,t){return Jke(e)||Qke(e,t)||Xke(e,t)||Yke()}function Yke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xke(e,t){if(e){if(typeof e=="string")return wM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wM(e,t)}}function wM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Jke(e){if(Array.isArray(e))return e}function SM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _M(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SM(Object(r),!0).forEach(function(n){Zke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zke(e,t,r){return t=eEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eEe(e){var t=tEe(e,"string");return md(t)=="symbol"?t:t+""}function tEe(e,t){if(md(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jM=function(t,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),s=i>=0?1:-1,l=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0,d;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>o?o:a[h];d="M".concat(t,",").concat(r+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(t+l*f[0],",").concat(r)),d+="L ".concat(t+n-l*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+s*f[1])),d+="L ".concat(t+n,",").concat(r+i-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(t+n-l*f[2],",").concat(r+i)),d+="L ".concat(t+l*f[3],",").concat(r+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+i-s*f[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var v=Math.min(o,a);d="M ".concat(t,",").concat(r+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(t+l*v,",").concat(r,`
            L `).concat(t+n-l*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(t+n,",").concat(r+s*v,`
            L `).concat(t+n,",").concat(r+i-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(t+n-l*v,",").concat(r+i,`
            L `).concat(t+l*v,",").concat(r+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(t,",").concat(r+i-s*v," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},rEe=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,a=r.x,o=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(a,a+s),d=Math.max(a,a+s),f=Math.min(o,o+l),h=Math.max(o,o+l);return n>=c&&n<=d&&i>=f&&i<=h}return!1},nEe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jE=function(t){var r=_M(_M({},nEe),t),n=S.useRef(),i=S.useState(-1),a=Kke(i,2),o=a[0],s=a[1];S.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&s(_)}catch{}},[]);var l=r.x,c=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,v=r.animationEasing,m=r.animationDuration,g=r.animationBegin,y=r.isAnimationActive,b=r.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var x=Le("recharts-rectangle",p);return b?I.createElement(dn,{canBegin:o>0,from:{width:d,height:f,x:l,y:c},to:{width:d,height:f,x:l,y:c},duration:m,animationEasing:v,isActive:b},function(_){var w=_.width,j=_.height,k=_.x,A=_.y;return I.createElement(dn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,isActive:y,easing:v},I.createElement("path",Cp({},we(r,!0),{className:x,d:jM(k,A,w,j,h),ref:n})))}):I.createElement("path",Cp({},we(r,!0),{className:x,d:jM(l,c,d,f,h)}))},iEe=["points","className","baseLinePoints","connectNulls"];function Ls(){return Ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ls.apply(this,arguments)}function aEe(e,t){if(e==null)return{};var r=oEe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kM(e){return uEe(e)||cEe(e)||lEe(e)||sEe()}function sEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lEe(e,t){if(e){if(typeof e=="string")return LS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LS(e,t)}}function cEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uEe(e){if(Array.isArray(e))return LS(e)}function LS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var EM=function(t){return t&&t.x===+t.x&&t.y===+t.y},dEe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){EM(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),EM(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},vu=function(t,r){var n=dEe(t);r&&(n=[n.reduce(function(a,o){return[].concat(kM(a),kM(o))},[])]);var i=n.map(function(a){return a.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},fEe=function(t,r,n){var i=vu(t,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(vu(r.reverse(),n).slice(1))},MU=function(t){var r=t.points,n=t.className,i=t.baseLinePoints,a=t.connectNulls,o=aEe(t,iEe);if(!r||!r.length)return null;var s=Le("recharts-polygon",n);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",c=fEe(r,i,a);return I.createElement("g",{className:s},I.createElement("path",Ls({},we(o,!0),{fill:c.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:c})),l?I.createElement("path",Ls({},we(o,!0),{fill:"none",d:vu(r,a)})):null,l?I.createElement("path",Ls({},we(o,!0),{fill:"none",d:vu(i,a)})):null)}var d=vu(r,a);return I.createElement("path",Ls({},we(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:s,d}))};function zS(){return zS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zS.apply(this,arguments)}var gc=function(t){var r=t.cx,n=t.cy,i=t.r,a=t.className,o=Le("recharts-dot",a);return r===+r&&n===+n&&i===+i?S.createElement("circle",zS({},we(t,!1),Zh(t),{className:o,cx:r,cy:n,r:i})):null};function gd(e){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gd(e)}var hEe=["x","y","top","left","width","height","className"];function FS(){return FS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},FS.apply(this,arguments)}function AM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pEe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AM(Object(r),!0).forEach(function(n){mEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mEe(e,t,r){return t=gEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gEe(e){var t=vEe(e,"string");return gd(t)=="symbol"?t:t+""}function vEe(e,t){if(gd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yEe(e,t){if(e==null)return{};var r=bEe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var xEe=function(t,r,n,i,a,o){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},wEe=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,o=t.top,s=o===void 0?0:o,l=t.left,c=l===void 0?0:l,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,v=t.className,m=yEe(t,hEe),g=pEe({x:n,y:a,top:s,left:c,width:f,height:p},m);return!pe(n)||!pe(a)||!pe(f)||!pe(p)||!pe(s)||!pe(c)?null:I.createElement("path",FS({},we(g,!0),{className:Le("recharts-cross",v),d:xEe(n,a,f,p,s,c)}))},SEe=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function vd(e){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vd(e)}function _Ee(e,t){if(e==null)return{};var r=jEe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function oa(){return oa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oa.apply(this,arguments)}function OM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OM(Object(r),!0).forEach(function(n){kEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kEe(e,t,r){return t=EEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EEe(e){var t=AEe(e,"string");return vd(t)=="symbol"?t:t+""}function AEe(e,t){if(vd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OEe=function(t,r,n,i){var a="";return i.forEach(function(o,s){var l=ht(r,n,t,o);s?a+="L ".concat(l.x,",").concat(l.y):a+="M ".concat(l.x,",").concat(l.y)}),a+="Z",a},CEe=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.polarAngles,s=t.radialLines;if(!o||!o.length||!s)return null;var l=yd({stroke:"#ccc"},we(t,!1));return I.createElement("g",{className:"recharts-polar-grid-angle"},o.map(function(c){var d=ht(r,n,i,c),f=ht(r,n,a,c);return I.createElement("line",oa({},l,{key:"line-".concat(c),x1:d.x,y1:d.y,x2:f.x,y2:f.y}))}))},TEe=function(t){var r=t.cx,n=t.cy,i=t.radius,a=t.index,o=yd(yd({stroke:"#ccc"},we(t,!1)),{},{fill:"none"});return I.createElement("circle",oa({},o,{className:Le("recharts-polar-grid-concentric-circle",t.className),key:"circle-".concat(a),cx:r,cy:n,r:i}))},PEe=function(t){var r=t.radius,n=t.index,i=yd(yd({stroke:"#ccc"},we(t,!1)),{},{fill:"none"});return I.createElement("path",oa({},i,{className:Le("recharts-polar-grid-concentric-polygon",t.className),key:"path-".concat(n),d:OEe(r,t.cx,t.cy,t.polarAngles)}))},NEe=function(t){var r=t.polarRadius,n=t.gridType;return!r||!r.length?null:I.createElement("g",{className:"recharts-polar-grid-concentric"},r.map(function(i,a){var o=a;return n==="circle"?I.createElement(TEe,oa({key:o},t,{radius:i,index:a})):I.createElement(PEe,oa({key:o},t,{radius:i,index:a}))}))},Tp=function(t){var r=t.cx,n=r===void 0?0:r,i=t.cy,a=i===void 0?0:i,o=t.innerRadius,s=o===void 0?0:o,l=t.outerRadius,c=l===void 0?0:l,d=t.gridType,f=d===void 0?"polygon":d,h=t.radialLines,p=h===void 0?!0:h,v=_Ee(t,SEe);return c<=0?null:I.createElement("g",{className:"recharts-polar-grid"},I.createElement(CEe,oa({cx:n,cy:a,innerRadius:s,outerRadius:c,gridType:f,radialLines:p},v)),I.createElement(NEe,oa({cx:n,cy:a,innerRadius:s,outerRadius:c,gridType:f,radialLines:p},v)))};Tp.displayName="PolarGrid";var M0,CM;function REe(){if(CM)return M0;CM=1;var e=Sg(),t=Gq(),r=Ii();function n(i,a){return i&&i.length?e(i,r(a,2),t):void 0}return M0=n,M0}var IEe=REe();const MEe=ot(IEe);var D0,TM;function DEe(){if(TM)return D0;TM=1;var e=Sg(),t=Ii(),r=Kq();function n(i,a){return i&&i.length?e(i,t(a,2),r):void 0}return D0=n,D0}var $Ee=DEe();const LEe=ot($Ee);var zEe=["cx","cy","angle","ticks","axisLine"],FEe=["ticks","tick","angle","tickFormatter","stroke"];function _l(e){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_l(e)}function yu(){return yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yu.apply(this,arguments)}function PM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PM(Object(r),!0).forEach(function(n){Eg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NM(e,t){if(e==null)return{};var r=BEe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function BEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$U(n.key),n)}}function UEe(e,t,r){return t&&RM(e.prototype,t),r&&RM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function VEe(e,t,r){return t=Pp(t),WEe(e,DU()?Reflect.construct(t,r||[],Pp(e).constructor):t.apply(e,r))}function WEe(e,t){if(t&&(_l(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HEe(e)}function HEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DU=function(){return!!e})()}function Pp(e){return Pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pp(e)}function GEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BS(e,t)}function BS(e,t){return BS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},BS(e,t)}function Eg(e,t,r){return t=$U(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $U(e){var t=KEe(e,"string");return _l(t)=="symbol"?t:t+""}function KEe(e,t){if(_l(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var is=(function(e){function t(){return qEe(this,t),VEe(this,t,arguments)}return GEe(t,e),UEe(t,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,o=a.angle,s=a.cx,l=a.cy;return ht(s,l,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,l=MEe(s,function(d){return d.coordinate||0}),c=LEe(s,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,l=n.axisLine,c=NM(n,zEe),d=s.reduce(function(v,m){return[Math.min(v[0],m.coordinate),Math.max(v[1],m.coordinate)]},[1/0,-1/0]),f=ht(i,a,d[0],o),h=ht(i,a,d[1],o),p=yo(yo(yo({},we(c,!1)),{},{fill:"none"},we(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return I.createElement("line",yu({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,l=i.tickFormatter,c=i.stroke,d=NM(i,FEe),f=this.getTickTextAnchor(),h=we(d,!1),p=we(o,!1),v=a.map(function(m,g){var y=n.getTickValueCoord(m),b=yo(yo(yo(yo({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(y.x,", ").concat(y.y,")")},h),{},{stroke:"none",fill:c},p),{},{index:g},y),{},{payload:m});return I.createElement(Be,yu({className:Le("recharts-polar-radius-axis-tick",_U(o)),key:"tick-".concat(m.coordinate)},Ja(n.props,m,g)),t.renderTickItem(o,b,l?l(m.value,g):m.value))});return I.createElement(Be,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,o=n.tick;return!i||!i.length?null:I.createElement(Be,{className:Le("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),hr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return I.isValidElement(n)?o=I.cloneElement(n,i):Ne(n)?o=n(i):o=I.createElement(ts,yu({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])})(S.PureComponent);Eg(is,"displayName","PolarRadiusAxis");Eg(is,"axisType","radiusAxis");Eg(is,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function jl(e){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jl(e)}function Po(){return Po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Po.apply(this,arguments)}function IM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IM(Object(r),!0).forEach(function(n){Ag(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zU(n.key),n)}}function XEe(e,t,r){return t&&MM(e.prototype,t),r&&MM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function QEe(e,t,r){return t=Np(t),JEe(e,LU()?Reflect.construct(t,r||[],Np(e).constructor):t.apply(e,r))}function JEe(e,t){if(t&&(jl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZEe(e)}function ZEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LU=function(){return!!e})()}function Np(e){return Np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Np(e)}function eAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qS(e,t)}function qS(e,t){return qS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qS(e,t)}function Ag(e,t,r){return t=zU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zU(e){var t=tAe(e,"string");return jl(t)=="symbol"?t:t+""}function tAe(e,t){if(jl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var rAe=Math.PI/180,DM=1e-5,Za=(function(e){function t(){return YEe(this,t),QEe(this,t,arguments)}return eAe(t,e),XEe(t,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,o=i.cy,s=i.radius,l=i.orientation,c=i.tickSize,d=c||8,f=ht(a,o,s,n.coordinate),h=ht(a,o,s+(l==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*rAe),o;return a>DM?o=i==="outer"?"start":"end":a<-DM?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.radius,s=n.axisLine,l=n.axisLineType,c=bo(bo({},we(this.props,!1)),{},{fill:"none"},we(s,!1));if(l==="circle")return I.createElement(gc,Po({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:a,r:o}));var d=this.props.ticks,f=d.map(function(h){return ht(i,a,o,h.coordinate)});return I.createElement(MU,Po({className:"recharts-polar-angle-axis-line"},c,{points:f}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,l=i.tickFormatter,c=i.stroke,d=we(this.props,!1),f=we(o,!1),h=bo(bo({},d),{},{fill:"none"},we(s,!1)),p=a.map(function(v,m){var g=n.getTickLineCoord(v),y=n.getTickTextAnchor(v),b=bo(bo(bo({textAnchor:y},d),{},{stroke:"none",fill:c},f),{},{index:m,payload:v,x:g.x2,y:g.y2});return I.createElement(Be,Po({className:Le("recharts-polar-angle-axis-tick",_U(o)),key:"tick-".concat(v.coordinate)},Ja(n.props,v,m)),s&&I.createElement("line",Po({className:"recharts-polar-angle-axis-tick-line"},h,g)),o&&t.renderTickItem(o,b,l?l(v.value,m):v.value))});return I.createElement(Be,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!i||!i.length?null:I.createElement(Be,{className:Le("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var o;return I.isValidElement(n)?o=I.cloneElement(n,i):Ne(n)?o=n(i):o=I.createElement(ts,Po({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])})(S.PureComponent);Ag(Za,"displayName","PolarAngleAxis");Ag(Za,"axisType","angleAxis");Ag(Za,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var $0,$M;function nAe(){if($M)return $0;$M=1;var e=H8(),t=e(Object.getPrototypeOf,Object);return $0=t,$0}var L0,LM;function iAe(){if(LM)return L0;LM=1;var e=da(),t=nAe(),r=fa(),n="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,s=a.hasOwnProperty,l=o.call(Object);function c(d){if(!r(d)||e(d)!=n)return!1;var f=t(d);if(f===null)return!0;var h=s.call(f,"constructor")&&f.constructor;return typeof h=="function"&&h instanceof h&&o.call(h)==l}return L0=c,L0}var aAe=iAe();const oAe=ot(aAe);var z0,zM;function sAe(){if(zM)return z0;zM=1;var e=da(),t=fa(),r="[object Boolean]";function n(i){return i===!0||i===!1||t(i)&&e(i)==r}return z0=n,z0}var lAe=sAe();const cAe=ot(lAe);function bd(e){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bd(e)}function Rp(){return Rp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rp.apply(this,arguments)}function uAe(e,t){return pAe(e)||hAe(e,t)||fAe(e,t)||dAe()}function dAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fAe(e,t){if(e){if(typeof e=="string")return FM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FM(e,t)}}function FM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hAe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function pAe(e){if(Array.isArray(e))return e}function BM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BM(Object(r),!0).forEach(function(n){mAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mAe(e,t,r){return t=gAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gAe(e){var t=vAe(e,"string");return bd(t)=="symbol"?t:t+""}function vAe(e,t){if(bd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UM=function(t,r,n,i,a){var o=n-i,s;return s="M ".concat(t,",").concat(r),s+="L ".concat(t+n,",").concat(r),s+="L ".concat(t+n-o/2,",").concat(r+a),s+="L ".concat(t+n-o/2-i,",").concat(r+a),s+="L ".concat(t,",").concat(r," Z"),s},yAe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},bAe=function(t){var r=qM(qM({},yAe),t),n=S.useRef(),i=S.useState(-1),a=uAe(i,2),o=a[0],s=a[1];S.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var x=n.current.getTotalLength();x&&s(x)}catch{}},[]);var l=r.x,c=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,v=r.animationEasing,m=r.animationDuration,g=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var b=Le("recharts-trapezoid",p);return y?I.createElement(dn,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:c},duration:m,animationEasing:v,isActive:y},function(x){var _=x.upperWidth,w=x.lowerWidth,j=x.height,k=x.x,A=x.y;return I.createElement(dn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,easing:v},I.createElement("path",Rp({},we(r,!0),{className:b,d:UM(k,A,_,w,j),ref:n})))}):I.createElement("g",null,I.createElement("path",Rp({},we(r,!0),{className:b,d:UM(l,c,d,f,h)})))},xAe=["option","shapeType","propTransformer","activeClassName","isActive"];function xd(e){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xd(e)}function wAe(e,t){if(e==null)return{};var r=SAe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function SAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function VM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ip(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VM(Object(r),!0).forEach(function(n){_Ae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Ae(e,t,r){return t=jAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jAe(e){var t=kAe(e,"string");return xd(t)=="symbol"?t:t+""}function kAe(e,t){if(xd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EAe(e,t){return Ip(Ip({},t),e)}function AAe(e,t){return e==="symbols"}function WM(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return I.createElement(jE,r);case"trapezoid":return I.createElement(bAe,r);case"sector":return I.createElement(AU,r);case"symbols":if(AAe(t))return I.createElement(fg,r);break;default:return null}}function OAe(e){return S.isValidElement(e)?e.props:e}function Mp(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?EAe:n,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,s=e.isActive,l=wAe(e,xAe),c;if(S.isValidElement(t))c=S.cloneElement(t,Ip(Ip({},l),OAe(t)));else if(Ne(t))c=t(l);else if(oAe(t)&&!cAe(t)){var d=i(t,l);c=I.createElement(WM,{shapeType:r,elementProps:d})}else{var f=l;c=I.createElement(WM,{shapeType:r,elementProps:f})}return s?I.createElement(Be,{className:o},c):c}function Og(e,t){return t!=null&&"trapezoids"in e.props}function Cg(e,t){return t!=null&&"sectors"in e.props}function wd(e,t){return t!=null&&"points"in e.props}function CAe(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,a=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&a}function TAe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function PAe(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function NAe(e,t){var r;return Og(e,t)?r=CAe:Cg(e,t)?r=TAe:wd(e,t)&&(r=PAe),r}function RAe(e,t){var r;return Og(e,t)?r="trapezoids":Cg(e,t)?r="sectors":wd(e,t)&&(r="points"),r}function IAe(e,t){if(Og(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Cg(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return wd(e,t)?t.payload:{}}function MAe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=RAe(r,t),a=IAe(r,t),o=n.filter(function(l,c){var d=aa(a,l),f=r.props[i].filter(function(v){var m=NAe(r,t);return m(v,t)}),h=r.props[i].indexOf(f[f.length-1]),p=c===h;return d&&p}),s=n.indexOf(o[o.length-1]);return s}var hh;function kl(e){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kl(e)}function zs(){return zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zs.apply(this,arguments)}function HM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HM(Object(r),!0).forEach(function(n){jn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BU(n.key),n)}}function $Ae(e,t,r){return t&&GM(e.prototype,t),r&&GM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function LAe(e,t,r){return t=Dp(t),zAe(e,FU()?Reflect.construct(t,r||[],Dp(e).constructor):t.apply(e,r))}function zAe(e,t){if(t&&(kl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FAe(e)}function FAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FU=function(){return!!e})()}function Dp(e){return Dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dp(e)}function BAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&US(e,t)}function US(e,t){return US=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},US(e,t)}function jn(e,t,r){return t=BU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BU(e){var t=qAe(e,"string");return kl(t)=="symbol"?t:t+""}function qAe(e,t){if(kl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var pa=(function(e){function t(r){var n;return DAe(this,t),n=LAe(this,t,[r]),jn(n,"pieRef",null),jn(n,"sectorRefs",[]),jn(n,"id",ao("recharts-pie-")),jn(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ne(i)&&i()}),jn(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ne(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return BAe(t,e),$Ae(t,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,l=a.dataKey,c=a.valueKey,d=we(this.props,!1),f=we(o,!1),h=we(s,!1),p=o&&o.offsetRadius||20,v=n.map(function(m,g){var y=(m.startAngle+m.endAngle)/2,b=ht(m.cx,m.cy,m.outerRadius+p,y),x=Et(Et(Et(Et({},d),m),{},{stroke:"none"},f),{},{index:g,textAnchor:t.getTextAnchor(b.x,m.cx)},b),_=Et(Et(Et(Et({},d),m),{},{fill:"none",stroke:m.fill},h),{},{index:g,points:[ht(m.cx,m.cy,m.outerRadius,y),b]}),w=l;return Re(l)&&Re(c)?w="value":Re(l)&&(w=c),I.createElement(Be,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(g)},s&&t.renderLabelLineItem(s,_,"line"),t.renderLabelItem(o,x,wt(m,w)))});return I.createElement(Be,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,l=a.inactiveShape;return n.map(function(c,d){if(c?.startAngle===0&&c?.endAngle===0&&n.length!==1)return null;var f=i.isActiveIndex(d),h=l&&i.hasActiveIndex()?l:null,p=f?o:h,v=Et(Et({},c),{},{stroke:s?c.fill:c.stroke,tabIndex:-1});return I.createElement(Be,zs({ref:function(g){g&&!i.sectorRefs.includes(g)&&i.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},Ja(i.props,c,d),{key:"sector-".concat(c?.startAngle,"-").concat(c?.endAngle,"-").concat(c.midAngle,"-").concat(d)}),I.createElement(Mp,zs({option:p,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return I.createElement(dn,{begin:s,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var m=v.t,g=[],y=a&&a[0],b=y.startAngle;return a.forEach(function(x,_){var w=h&&h[_],j=_>0?un(x,"paddingAngle",0):0;if(w){var k=xt(w.endAngle-w.startAngle,x.endAngle-x.startAngle),A=Et(Et({},x),{},{startAngle:b+j,endAngle:b+k(m)+j});g.push(A),b=A.endAngle}else{var T=x.endAngle,O=x.startAngle,P=xt(0,T-O),N=P(m),M=Et(Et({},x),{},{startAngle:b+j,endAngle:b+N+j});g.push(M),b=M.endAngle}}),I.createElement(Be,null,n.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!aa(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,l=i.label,c=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,p=i.isAnimationActive,v=this.state.isAnimationFinished;if(a||!o||!o.length||!pe(c)||!pe(d)||!pe(f)||!pe(h))return null;var m=Le("recharts-pie",s);return I.createElement(Be,{tabIndex:this.props.rootTabIndex,className:m,ref:function(y){n.pieRef=y}},this.renderSectors(),l&&this.renderLabels(o),hr.renderCallByParent(this.props,null,!1),(!p||v)&&Cn.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(I.isValidElement(n))return I.cloneElement(n,i);if(Ne(n))return n(i);var o=Le("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return I.createElement(Wa,zs({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,a){if(I.isValidElement(n))return I.cloneElement(n,i);var o=a;if(Ne(n)&&(o=n(i),I.isValidElement(o)))return o;var s=Le("recharts-pie-label-text",typeof n!="boolean"&&!Ne(n)?n.className:"");return I.createElement(ts,zs({},i,{alignmentBaseline:"middle",className:s}),o)}}])})(S.PureComponent);hh=pa;jn(pa,"displayName","Pie");jn(pa,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Mi.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});jn(pa,"parseDeltaAngle",function(e,t){var r=$r(t-e),n=Math.min(Math.abs(t-e),360);return r*n});jn(pa,"getRealPieData",function(e){var t=e.data,r=e.children,n=we(e,!1),i=Fr(r,dc);return t&&t.length?t.map(function(a,o){return Et(Et(Et({payload:a},n),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return Et(Et({},n),a.props)}):[]});jn(pa,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,i=t.width,a=t.height,o=wU(i,a),s=n+Lr(e.cx,i,i/2),l=r+Lr(e.cy,a,a/2),c=Lr(e.innerRadius,o,0),d=Lr(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:l,innerRadius:c,outerRadius:d,maxRadius:f}});jn(pa,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Et(Et({},t.type.defaultProps),t.props):t.props,i=hh.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,o=n.startAngle,s=n.endAngle,l=n.paddingAngle,c=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),v=hh.parseCoordinateOfPie(n,r),m=hh.parseDeltaAngle(o,s),g=Math.abs(m),y=c;Re(c)&&Re(f)?(Zn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):Re(c)&&(Zn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=f);var b=i.filter(function(A){return wt(A,y,0)!==0}).length,x=(g>=360?b:b-1)*l,_=g-b*p-x,w=i.reduce(function(A,T){var O=wt(T,y,0);return A+(pe(O)?O:0)},0),j;if(w>0){var k;j=i.map(function(A,T){var O=wt(A,y,0),P=wt(A,d,T),N=(pe(O)?O:0)/w,M;T?M=k.endAngle+$r(m)*l*(O!==0?1:0):M=o;var E=M+$r(m)*((O!==0?p:0)+N*_),R=(M+E)/2,F=(v.innerRadius+v.outerRadius)/2,z=[{name:P,value:O,payload:A,dataKey:y,type:h}],q=ht(v.cx,v.cy,F,R);return k=Et(Et(Et({percent:N,cornerRadius:a,name:P,tooltipPayload:z,midAngle:R,middleRadius:F,tooltipPosition:q},A),v),{},{value:wt(A,y),startAngle:M,endAngle:E,payload:A,paddingAngle:$r(m)*l}),k})}return Et(Et({},v),{},{sectors:j,data:i})});var F0,KM;function UAe(){if(KM)return F0;KM=1;function e(t){return t&&t.length?t[0]:void 0}return F0=e,F0}var B0,YM;function VAe(){return YM||(YM=1,B0=UAe()),B0}var WAe=VAe();const HAe=ot(WAe);var GAe=["key"];function El(e){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},El(e)}function KAe(e,t){if(e==null)return{};var r=YAe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $p(){return $p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$p.apply(this,arguments)}function XM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XM(Object(r),!0).forEach(function(n){Fi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UU(n.key),n)}}function QAe(e,t,r){return t&&QM(e.prototype,t),r&&QM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function JAe(e,t,r){return t=Lp(t),ZAe(e,qU()?Reflect.construct(t,r||[],Lp(e).constructor):t.apply(e,r))}function ZAe(e,t){if(t&&(El(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eOe(e)}function eOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qU=function(){return!!e})()}function Lp(e){return Lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lp(e)}function tOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VS(e,t)}function VS(e,t){return VS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},VS(e,t)}function Fi(e,t,r){return t=UU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UU(e){var t=rOe(e,"string");return El(t)=="symbol"?t:t+""}function rOe(e,t){if(El(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(El(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var as=(function(e){function t(){var r;XAe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=JAe(this,t,[].concat(i)),Fi(r,"state",{isAnimationFinished:!1}),Fi(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ne(o)&&o()}),Fi(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ne(o)&&o()}),Fi(r,"handleMouseEnter",function(o){var s=r.props.onMouseEnter;s&&s(r.props,o)}),Fi(r,"handleMouseLeave",function(o){var s=r.props.onMouseLeave;s&&s(r.props,o)}),r}return tOe(t,e),QAe(t,[{key:"renderDots",value:function(n){var i=this.props,a=i.dot,o=i.dataKey,s=we(this.props,!1),l=we(a,!0),c=n.map(function(d,f){var h=Pr(Pr(Pr({key:"dot-".concat(f),r:3},s),l),{},{dataKey:o,cx:d.x,cy:d.y,index:f,payload:d});return t.renderDotItem(a,h)});return I.createElement(Be,{className:"recharts-radar-dots"},c)}},{key:"renderPolygonStatically",value:function(n){var i=this.props,a=i.shape,o=i.dot,s=i.isRange,l=i.baseLinePoints,c=i.connectNulls,d;return I.isValidElement(a)?d=I.cloneElement(a,Pr(Pr({},this.props),{},{points:n})):Ne(a)?d=a(Pr(Pr({},this.props),{},{points:n})):d=I.createElement(MU,$p({},we(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:n,baseLinePoints:s?l:null,connectNulls:c})),I.createElement(Be,{className:"recharts-radar-polygon"},d,o?this.renderDots(n):null)}},{key:"renderPolygonWithAnimation",value:function(){var n=this,i=this.props,a=i.points,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,d=i.animationId,f=this.state.prevPoints;return I.createElement(dn,{begin:s,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"radar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var p=h.t,v=f&&f.length/a.length,m=a.map(function(g,y){var b=f&&f[Math.floor(y*v)];if(b){var x=xt(b.x,g.x),_=xt(b.y,g.y);return Pr(Pr({},g),{},{x:x(p),y:_(p)})}var w=xt(g.cx,g.x),j=xt(g.cy,g.y);return Pr(Pr({},g),{},{x:w(p),y:j(p)})});return n.renderPolygonStatically(m)})}},{key:"renderPolygon",value:function(){var n=this.props,i=n.points,a=n.isAnimationActive,o=n.isRange,s=this.state.prevPoints;return a&&i&&i.length&&!o&&(!s||!aa(s,i))?this.renderPolygonWithAnimation():this.renderPolygonStatically(i)}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.className,o=n.points,s=n.isAnimationActive;if(i||!o||!o.length)return null;var l=this.state.isAnimationFinished,c=Le("recharts-radar",a);return I.createElement(Be,{className:c},this.renderPolygon(),(!s||l)&&Cn.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"renderDotItem",value:function(n,i){var a;if(I.isValidElement(n))a=I.cloneElement(n,i);else if(Ne(n))a=n(i);else{var o=i.key,s=KAe(i,GAe);a=I.createElement(gc,$p({},s,{key:o,className:Le("recharts-radar-dot",typeof n!="boolean"?n.className:"")}))}return a}}])})(S.PureComponent);Fi(as,"displayName","Radar");Fi(as,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!Mi.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Fi(as,"getComposedData",function(e){var t=e.radiusAxis,r=e.angleAxis,n=e.displayedData,i=e.dataKey,a=e.bandSize,o=r.cx,s=r.cy,l=!1,c=[],d=r.type!=="number"?a??0:0;n.forEach(function(h,p){var v=wt(h,r.dataKey,p),m=wt(h,i),g=r.scale(v)+d,y=Array.isArray(m)?kU(m):m,b=Re(y)?void 0:t.scale(y);Array.isArray(m)&&m.length>=2&&(l=!0),c.push(Pr(Pr({},ht(o,s,b,g)),{},{name:v,value:m,cx:o,cy:s,radius:b,angle:g,payload:h}))});var f=[];return l&&c.forEach(function(h){if(Array.isArray(h.value)){var p=HAe(h.value),v=Re(p)?void 0:t.scale(p);f.push(Pr(Pr({},h),{},{radius:v},ht(o,s,v,h.angle)))}else f.push(h)}),{points:c,isRange:l,baseLinePoints:f}});var q0,JM;function nOe(){if(JM)return q0;JM=1;var e=Math.ceil,t=Math.max;function r(n,i,a,o){for(var s=-1,l=t(e((i-n)/(a||1)),0),c=Array(l);l--;)c[o?l:++s]=n,n+=a;return c}return q0=r,q0}var U0,ZM;function VU(){if(ZM)return U0;ZM=1;var e=lq(),t=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var a=i<0?-1:1;return a*r}return i===i?i:0}return U0=n,U0}var V0,eD;function iOe(){if(eD)return V0;eD=1;var e=nOe(),t=mg(),r=VU();function n(i){return function(a,o,s){return s&&typeof s!="number"&&t(a,o,s)&&(o=s=void 0),a=r(a),o===void 0?(o=a,a=0):o=r(o),s=s===void 0?a<o?1:-1:r(s),e(a,o,s,i)}}return V0=n,V0}var W0,tD;function aOe(){if(tD)return W0;tD=1;var e=iOe(),t=e();return W0=t,W0}var oOe=aOe();const zp=ot(oOe);function Sd(e){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sd(e)}function rD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rD(Object(r),!0).forEach(function(n){WU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WU(e,t,r){return t=sOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sOe(e){var t=lOe(e,"string");return Sd(t)=="symbol"?t:t+""}function lOe(e,t){if(Sd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cOe=["Webkit","Moz","O","ms"],uOe=function(t,r){var n=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=cOe.reduce(function(a,o){return nD(nD({},a),{},WU({},o+n,r))},{});return i[t]=r,i};function Al(e){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Al(e)}function Fp(){return Fp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fp.apply(this,arguments)}function iD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function H0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iD(Object(r),!0).forEach(function(n){en(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GU(n.key),n)}}function fOe(e,t,r){return t&&aD(e.prototype,t),r&&aD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hOe(e,t,r){return t=Bp(t),pOe(e,HU()?Reflect.construct(t,r||[],Bp(e).constructor):t.apply(e,r))}function pOe(e,t){if(t&&(Al(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mOe(e)}function mOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HU=function(){return!!e})()}function Bp(e){return Bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bp(e)}function gOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WS(e,t)}function WS(e,t){return WS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},WS(e,t)}function en(e,t,r){return t=GU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GU(e){var t=vOe(e,"string");return Al(t)=="symbol"?t:t+""}function vOe(e,t){if(Al(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yOe=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,a=t.x,o=t.width,s=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=pu().domain(zp(0,l)).range([a,a+o-s]),d=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(i),scale:c,scaleValues:d}},oD=function(t){return t.changedTouches&&!!t.changedTouches.length},Ol=(function(e){function t(r){var n;return dOe(this,t),n=hOe(this,t,[r]),en(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),en(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),en(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o?.({endIndex:a,startIndex:s})}),n.detachDragEndListener()}),en(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),en(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),en(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),en(n,"handleSlideDragStart",function(i){var a=oD(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return gOe(t,e),fOe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,d=c.length-1,f=Math.min(i,a),h=Math.max(i,a),p=t.getIndexInRange(o,f),v=t.getIndexInRange(o,h);return{startIndex:p-p%l,endIndex:v===d?d:v-v%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=wt(a[n],s,n);return Ne(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,c=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,v=l.onChange,m=n.pageX-a;m>0?m=Math.min(m,c+d-f-s,c+d-f-o):m<0&&(m=Math.max(m,c-o,c-s));var g=this.getIndex({startX:o+m,endX:s+m});(g.startIndex!==h||g.endIndex!==p)&&v&&v(g),this.setState({startX:o+m,endX:s+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=oD(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,v=d.onChange,m=d.gap,g=d.data,y={startX:this.state.startX,endX:this.state.endX},b=n.pageX-a;b>0?b=Math.min(b,f+h-p-c):b<0&&(b=Math.max(b,f-c)),y[o]=c+b;var x=this.getIndex(y),_=x.startIndex,w=x.endIndex,j=function(){var A=g.length-1;return o==="startX"&&(s>l?_%m===0:w%m===0)||s<l&&w===A||o==="endX"&&(s>l?w%m===0:_%m===0)||s>l&&w===A};this.setState(en(en({},o,c+b),"brushMoveStartX",n.pageX),function(){v&&j()&&v(x)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,c=o.endX,d=this.state[i],f=s.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=s.length)){var p=s[h];i==="startX"&&p>=c||i==="endX"&&p<=l||this.setState(en({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.fill,c=n.stroke;return I.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.data,c=n.children,d=n.padding,f=S.Children.only(c);return f?I.cloneElement(f,{x:i,y:a,width:o,height:s,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,s=this,l=this.props,c=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,v=l.data,m=l.startIndex,g=l.endIndex,y=Math.max(n,this.props.x),b=H0(H0({},we(this.props,!1)),{},{x:y,y:c,width:d,height:f}),x=p||"Min value: ".concat((a=v[m])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=v[g])===null||o===void 0?void 0:o.name);return I.createElement(Be,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),s.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,c=a.travellerWidth,d=Math.min(n,i)+c,f=Math.max(Math.abs(i-n)-c,0);return I.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:o,width:f,height:s})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,s=n.height,l=n.travellerWidth,c=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,v={pointerEvents:"none",fill:c};return I.createElement(Be,{className:"recharts-brush-texts"},I.createElement(ts,Fp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+s/2},v),this.getTextOfTick(i)),I.createElement(ts,Fp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:o+s/2},v),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,s=n.x,l=n.y,c=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,v=h.endX,m=h.isTextActive,g=h.isSlideMoving,y=h.isTravellerMoving,b=h.isTravellerFocused;if(!i||!i.length||!pe(s)||!pe(l)||!pe(c)||!pe(d)||c<=0||d<=0)return null;var x=Le("recharts-brush",a),_=I.Children.count(o)===1,w=uOe("userSelect","none");return I.createElement(Be,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(p,v),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(v,"endX"),(m||g||y||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,s=n.height,l=n.stroke,c=Math.floor(a+s/2)-1;return I.createElement(I.Fragment,null,I.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),I.createElement("line",{x1:i+1,y1:c,x2:i+o-1,y2:c,fill:"none",stroke:"#fff"}),I.createElement("line",{x1:i+1,y1:c+2,x2:i+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return I.isValidElement(n)?a=I.cloneElement(n,i):Ne(n)?a=n(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,s=n.x,l=n.travellerWidth,c=n.updateId,d=n.startIndex,f=n.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return H0({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o},a&&a.length?yOe({data:a,width:o,x:s,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);n[l]>i?s=l:o=l}return i>=n[s]?s:o}}])})(S.PureComponent);en(Ol,"displayName","Brush");en(Ol,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var G0,sD;function bOe(){if(sD)return G0;sD=1;var e=Xk();function t(r,n){var i;return e(r,function(a,o,s){return i=n(a,o,s),!i}),!!i}return G0=t,G0}var K0,lD;function xOe(){if(lD)return K0;lD=1;var e=z8(),t=Ii(),r=bOe(),n=Qr(),i=mg();function a(o,s,l){var c=n(o)?e:r;return l&&i(o,s,l)&&(s=void 0),c(o,t(s,3))}return K0=a,K0}var wOe=xOe();const SOe=ot(wOe);var wi=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},Y0,cD;function _Oe(){if(cD)return Y0;cD=1;var e=nq();function t(r,n,i){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return Y0=t,Y0}var X0,uD;function jOe(){if(uD)return X0;uD=1;var e=_Oe(),t=tq(),r=Ii();function n(i,a){var o={};return a=r(a,3),t(i,function(s,l,c){e(o,l,a(s,l,c))}),o}return X0=n,X0}var kOe=jOe();const EOe=ot(kOe);var Q0,dD;function AOe(){if(dD)return Q0;dD=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(!r(t[n],n,t))return!1;return!0}return Q0=e,Q0}var J0,fD;function OOe(){if(fD)return J0;fD=1;var e=Xk();function t(r,n){var i=!0;return e(r,function(a,o,s){return i=!!n(a,o,s),i}),i}return J0=t,J0}var Z0,hD;function COe(){if(hD)return Z0;hD=1;var e=AOe(),t=OOe(),r=Ii(),n=Qr(),i=mg();function a(o,s,l){var c=n(o)?e:t;return l&&i(o,s,l)&&(s=void 0),c(o,r(s,3))}return Z0=a,Z0}var TOe=COe();const KU=ot(TOe);var POe=["x","y"];function _d(e){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_d(e)}function HS(){return HS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},HS.apply(this,arguments)}function pD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Uc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pD(Object(r),!0).forEach(function(n){NOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NOe(e,t,r){return t=ROe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ROe(e){var t=IOe(e,"string");return _d(t)=="symbol"?t:t+""}function IOe(e,t){if(_d(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MOe(e,t){if(e==null)return{};var r=DOe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $Oe(e,t){var r=e.x,n=e.y,i=MOe(e,POe),a="".concat(r),o=parseInt(a,10),s="".concat(n),l=parseInt(s,10),c="".concat(t.height||i.height),d=parseInt(c,10),f="".concat(t.width||i.width),h=parseInt(f,10);return Uc(Uc(Uc(Uc(Uc({},t),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function mD(e){return I.createElement(Mp,HS({shapeType:"rectangle",propTransformer:$Oe,activeClassName:"recharts-active-bar"},e))}var LOe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var a=pe(n)||Fge(n);return a?t(n,i):(a||ns(),r)}},zOe=["value","background"],YU;function Cl(e){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cl(e)}function FOe(e,t){if(e==null)return{};var r=BOe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function BOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qp(){return qp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qp.apply(this,arguments)}function gD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ht(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gD(Object(r),!0).forEach(function(n){Pa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QU(n.key),n)}}function UOe(e,t,r){return t&&vD(e.prototype,t),r&&vD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function VOe(e,t,r){return t=Up(t),WOe(e,XU()?Reflect.construct(t,r||[],Up(e).constructor):t.apply(e,r))}function WOe(e,t){if(t&&(Cl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HOe(e)}function HOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XU=function(){return!!e})()}function Up(e){return Up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Up(e)}function GOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GS(e,t)}function GS(e,t){return GS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},GS(e,t)}function Pa(e,t,r){return t=QU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QU(e){var t=KOe(e,"string");return Cl(t)=="symbol"?t:t+""}function KOe(e,t){if(Cl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ft=(function(e){function t(){var r;qOe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=VOe(this,t,[].concat(i)),Pa(r,"state",{isAnimationFinished:!1}),Pa(r,"id",ao("recharts-bar-")),Pa(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Pa(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return GOe(t,e),UOe(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,c=a.activeBar,d=we(this.props,!1);return n&&n.map(function(f,h){var p=h===l,v=p?c:o,m=Ht(Ht(Ht({},d),f),{},{isActive:p,option:v,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return I.createElement(Be,qp({className:"recharts-bar-rectangle"},Ja(i.props,f,h),{key:"rectangle-".concat(f?.x,"-").concat(f?.y,"-").concat(f?.value,"-").concat(h)}),I.createElement(mD,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return I.createElement(dn,{begin:l,duration:c,isActive:s,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var v=p.t,m=a.map(function(g,y){var b=h&&h[y];if(b){var x=xt(b.x,g.x),_=xt(b.y,g.y),w=xt(b.width,g.width),j=xt(b.height,g.height);return Ht(Ht({},g),{},{x:x(v),y:_(v),width:w(v),height:j(v)})}if(o==="horizontal"){var k=xt(0,g.height),A=k(v);return Ht(Ht({},g),{},{y:g.y+g.height-A,height:A})}var T=xt(0,g.width),O=T(v);return Ht(Ht({},g),{},{width:O})});return I.createElement(Be,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!aa(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=we(this.props.background,!1);return a.map(function(c,d){c.value;var f=c.background,h=FOe(c,zOe);if(!f)return null;var p=Ht(Ht(Ht(Ht(Ht({},h),{},{fill:"#eee"},f),l),Ja(n.props,c,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return I.createElement(mD,qp({key:"background-bar-".concat(d),option:n.props.background,isActive:d===s},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,c=a.layout,d=a.children,f=Fr(d,mc);if(!f)return null;var h=c==="vertical"?o[0].height/2:o[0].width/2,p=function(g,y){var b=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:b,errorVal:wt(g,y)}},v={clipPath:n?"url(#clipPath-".concat(i,")"):null};return I.createElement(Be,v,f.map(function(m){return I.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,s=n.xAxis,l=n.yAxis,c=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,v=n.background,m=n.id;if(i||!a||!a.length)return null;var g=this.state.isAnimationFinished,y=Le("recharts-bar",o),b=s&&s.allowDataOverflow,x=l&&l.allowDataOverflow,_=b||x,w=Re(m)?this.id:m;return I.createElement(Be,{className:y},b||x?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(w)},I.createElement("rect",{x:b?c:c-f/2,y:x?d:d-h/2,width:b?f:f*2,height:x?h:h*2}))):null,I.createElement(Be,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(w,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,w),(!p||g)&&Cn.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(S.PureComponent);YU=Ft;Pa(Ft,"displayName","Bar");Pa(Ft,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Mi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Pa(Ft,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,a=e.xAxis,o=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=t_e(n,r);if(!p)return null;var v=t.layout,m=r.type.defaultProps,g=m!==void 0?Ht(Ht({},m),r.props):r.props,y=g.dataKey,b=g.children,x=g.minPointSize,_=v==="horizontal"?o:a,w=c?_.scale.domain():null,j=l_e({numericAxis:_}),k=Fr(b,dc),A=f.map(function(T,O){var P,N,M,E,R,F;c?P=r_e(c[d+O],w):(P=wt(T,y),Array.isArray(P)||(P=[j,P]));var z=LOe(x,YU.defaultProps.minPointSize)(P[1],O);if(v==="horizontal"){var q,L=[o.scale(P[0]),o.scale(P[1])],D=L[0],W=L[1];N=$I({axis:a,ticks:s,bandSize:i,offset:p.offset,entry:T,index:O}),M=(q=W??D)!==null&&q!==void 0?q:void 0,E=p.size;var B=D-W;if(R=Number.isNaN(B)?0:B,F={x:N,y:o.y,width:E,height:o.height},Math.abs(z)>0&&Math.abs(R)<Math.abs(z)){var $=$r(R||z)*(Math.abs(z)-Math.abs(R));M-=$,R+=$}}else{var Q=[a.scale(P[0]),a.scale(P[1])],Z=Q[0],fe=Q[1];if(N=Z,M=$I({axis:o,ticks:l,bandSize:i,offset:p.offset,entry:T,index:O}),E=fe-Z,R=p.size,F={x:a.x,y:M,width:a.width,height:R},Math.abs(z)>0&&Math.abs(E)<Math.abs(z)){var le=$r(E||z)*(Math.abs(z)-Math.abs(E));E+=le}}return Ht(Ht(Ht({},T),{},{x:N,y:M,width:E,height:R,value:c?P:P[1],payload:T,background:F},k&&k[O]&&k[O].props),{},{tooltipPayload:[bU(r,T)],tooltipPosition:{x:N+E/2,y:M+R/2}})});return Ht({data:A,layout:v},h)});function jd(e){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jd(e)}function YOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JU(n.key),n)}}function XOe(e,t,r){return t&&yD(e.prototype,t),r&&yD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function bD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bD(Object(r),!0).forEach(function(n){Tg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tg(e,t,r){return t=JU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JU(e){var t=QOe(e,"string");return jd(t)=="symbol"?t:t+""}function QOe(e,t){if(jd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pg=function(t,r,n,i,a){var o=t.width,s=t.height,l=t.layout,c=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!tn(c,Ft);return d.reduce(function(p,v){var m=r[v],g=m.orientation,y=m.domain,b=m.padding,x=b===void 0?{}:b,_=m.mirror,w=m.reversed,j="".concat(g).concat(_?"Mirror":""),k,A,T,O,P;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var N=y[1]-y[0],M=1/0,E=m.categoricalDomain.sort(Vge);if(E.forEach(function(Q,Z){Z>0&&(M=Math.min((Q||0)-(E[Z-1]||0),M))}),Number.isFinite(M)){var R=M/N,F=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(k=R*F/2),m.padding==="no-gap"){var z=Lr(t.barCategoryGap,R*F),q=R*F/2;k=q-z-(q-z)/F*z}}}i==="xAxis"?A=[n.left+(x.left||0)+(k||0),n.left+n.width-(x.right||0)-(k||0)]:i==="yAxis"?A=l==="horizontal"?[n.top+n.height-(x.bottom||0),n.top+(x.top||0)]:[n.top+(x.top||0)+(k||0),n.top+n.height-(x.bottom||0)-(k||0)]:A=m.range,w&&(A=[A[1],A[0]]);var L=mU(m,a,h),D=L.scale,W=L.realScaleType;D.domain(y).range(A),gU(D);var B=vU(D,Wn(Wn({},m),{},{realScaleType:W}));i==="xAxis"?(P=g==="top"&&!_||g==="bottom"&&_,T=n.left,O=f[j]-P*m.height):i==="yAxis"&&(P=g==="left"&&!_||g==="right"&&_,T=f[j]-P*m.width,O=n.top);var $=Wn(Wn(Wn({},m),B),{},{realScaleType:W,x:T,y:O,scale:D,width:i==="xAxis"?n.width:m.width,height:i==="yAxis"?n.height:m.height});return $.bandSize=_p($,B),!m.hide&&i==="xAxis"?f[j]+=(P?-1:1)*$.height:m.hide||(f[j]+=(P?-1:1)*$.width),Wn(Wn({},p),{},Tg({},v,$))},{})},ZU=function(t,r){var n=t.x,i=t.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},JOe=function(t){var r=t.x1,n=t.y1,i=t.x2,a=t.y2;return ZU({x:r,y:n},{x:i,y:a})},eV=(function(){function e(t){YOe(this,e),this.scale=t}return XOe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])})();Tg(eV,"EPS",1e-4);var kE=function(t){var r=Object.keys(t).reduce(function(n,i){return Wn(Wn({},n),{},Tg({},i,eV.create(t[i])))},{});return Wn(Wn({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return EOe(i,function(l,c){return r[c].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return KU(i,function(a,o){return r[o].isInRange(a)})}})};function ZOe(e){return(e%180+180)%180}var eCe=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=ZOe(i),o=a*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},ew,xD;function tCe(){if(xD)return ew;xD=1;var e=Ii(),t=Qd(),r=hg();function n(i){return function(a,o,s){var l=Object(a);if(!t(a)){var c=e(o,3);a=r(a),o=function(f){return c(l[f],f,l)}}var d=i(a,o,s);return d>-1?l[c?a[d]:d]:void 0}}return ew=n,ew}var tw,wD;function rCe(){if(wD)return tw;wD=1;var e=VU();function t(r){var n=e(r),i=n%1;return n===n?i?n-i:n:0}return tw=t,tw}var rw,SD;function nCe(){if(SD)return rw;SD=1;var e=X8(),t=Ii(),r=rCe(),n=Math.max;function i(a,o,s){var l=a==null?0:a.length;if(!l)return-1;var c=s==null?0:r(s);return c<0&&(c=n(l+c,0)),e(a,t(o,3),c)}return rw=i,rw}var nw,_D;function iCe(){if(_D)return nw;_D=1;var e=tCe(),t=nCe(),r=e(t);return nw=r,nw}var aCe=iCe();const oCe=ot(aCe);var sCe=d8();const lCe=ot(sCe);var cCe=lCe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),EE=S.createContext(void 0),AE=S.createContext(void 0),tV=S.createContext(void 0),rV=S.createContext({}),nV=S.createContext(void 0),iV=S.createContext(0),aV=S.createContext(0),jD=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=t.clipPathId,s=t.children,l=t.width,c=t.height,d=cCe(a);return I.createElement(EE.Provider,{value:n},I.createElement(AE.Provider,{value:i},I.createElement(rV.Provider,{value:a},I.createElement(tV.Provider,{value:d},I.createElement(nV.Provider,{value:o},I.createElement(iV.Provider,{value:c},I.createElement(aV.Provider,{value:l},s)))))))},uCe=function(){return S.useContext(nV)},oV=function(t){var r=S.useContext(EE);r==null&&ns();var n=r[t];return n==null&&ns(),n},dCe=function(){var t=S.useContext(EE);return Oa(t)},fCe=function(){var t=S.useContext(AE),r=oCe(t,function(n){return KU(n.domain,Number.isFinite)});return r||Oa(t)},sV=function(t){var r=S.useContext(AE);r==null&&ns();var n=r[t];return n==null&&ns(),n},hCe=function(){var t=S.useContext(tV);return t},pCe=function(){return S.useContext(rV)},OE=function(){return S.useContext(aV)},CE=function(){return S.useContext(iV)};function Tl(e){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tl(e)}function mCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gCe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cV(n.key),n)}}function vCe(e,t,r){return t&&gCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yCe(e,t,r){return t=Vp(t),bCe(e,lV()?Reflect.construct(t,r||[],Vp(e).constructor):t.apply(e,r))}function bCe(e,t){if(t&&(Tl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xCe(e)}function xCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lV=function(){return!!e})()}function Vp(e){return Vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vp(e)}function wCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KS(e,t)}function KS(e,t){return KS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},KS(e,t)}function kD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ED(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kD(Object(r),!0).forEach(function(n){TE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TE(e,t,r){return t=cV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cV(e){var t=SCe(e,"string");return Tl(t)=="symbol"?t:t+""}function SCe(e,t){if(Tl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function _Ce(e,t){return ACe(e)||ECe(e,t)||kCe(e,t)||jCe()}function jCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kCe(e,t){if(e){if(typeof e=="string")return AD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AD(e,t)}}function AD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ECe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function ACe(e){if(Array.isArray(e))return e}function YS(){return YS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YS.apply(this,arguments)}var OCe=function(t,r){var n;return I.isValidElement(t)?n=I.cloneElement(t,r):Ne(t)?n=t(r):n=I.createElement("line",YS({},r,{className:"recharts-reference-line-line"})),n},CCe=function(t,r,n,i,a,o,s,l,c){var d=a.x,f=a.y,h=a.width,p=a.height;if(n){var v=c.y,m=t.y.apply(v,{position:o});if(wi(c,"discard")&&!t.y.isInRange(m))return null;var g=[{x:d+h,y:m},{x:d,y:m}];return l==="left"?g.reverse():g}if(r){var y=c.x,b=t.x.apply(y,{position:o});if(wi(c,"discard")&&!t.x.isInRange(b))return null;var x=[{x:b,y:f+p},{x:b,y:f}];return s==="top"?x.reverse():x}if(i){var _=c.segment,w=_.map(function(j){return t.apply(j,{position:o})});return wi(c,"discard")&&SOe(w,function(j){return!t.isInRange(j)})?null:w}return null};function TCe(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,a=e.yAxisId,o=e.shape,s=e.className,l=e.alwaysShow,c=uCe(),d=oV(i),f=sV(a),h=hCe();if(!c||!h)return null;Zn(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=kE({x:d.scale,y:f.scale}),v=sr(t),m=sr(r),g=n&&n.length===2,y=CCe(p,v,m,g,h,e.position,d.orientation,f.orientation,e);if(!y)return null;var b=_Ce(y,2),x=b[0],_=x.x,w=x.y,j=b[1],k=j.x,A=j.y,T=wi(e,"hidden")?"url(#".concat(c,")"):void 0,O=ED(ED({clipPath:T},we(e,!0)),{},{x1:_,y1:w,x2:k,y2:A});return I.createElement(Be,{className:Le("recharts-reference-line",s)},OCe(o,O),hr.renderCallByParent(e,JOe({x1:_,y1:w,x2:k,y2:A})))}var PE=(function(e){function t(){return mCe(this,t),yCe(this,t,arguments)}return wCe(t,e),vCe(t,[{key:"render",value:function(){return I.createElement(TCe,this.props)}}])})(I.Component);TE(PE,"displayName","ReferenceLine");TE(PE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function XS(){return XS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XS.apply(this,arguments)}function Pl(e){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pl(e)}function OD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function CD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OD(Object(r),!0).forEach(function(n){Ng(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NCe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dV(n.key),n)}}function RCe(e,t,r){return t&&NCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ICe(e,t,r){return t=Wp(t),MCe(e,uV()?Reflect.construct(t,r||[],Wp(e).constructor):t.apply(e,r))}function MCe(e,t){if(t&&(Pl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DCe(e)}function DCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uV=function(){return!!e})()}function Wp(e){return Wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wp(e)}function $Ce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QS(e,t)}function QS(e,t){return QS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},QS(e,t)}function Ng(e,t,r){return t=dV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dV(e){var t=LCe(e,"string");return Pl(t)=="symbol"?t:t+""}function LCe(e,t){if(Pl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zCe=function(t){var r=t.x,n=t.y,i=t.xAxis,a=t.yAxis,o=kE({x:i.scale,y:a.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return wi(t,"discard")&&!o.isInRange(s)?null:s},Rg=(function(e){function t(){return PCe(this,t),ICe(this,t,arguments)}return $Ce(t,e),RCe(t,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,s=n.alwaysShow,l=n.clipPathId,c=sr(i),d=sr(a);if(Zn(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!d)return null;var f=zCe(this.props);if(!f)return null;var h=f.x,p=f.y,v=this.props,m=v.shape,g=v.className,y=wi(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=CD(CD({clipPath:y},we(this.props,!0)),{},{cx:h,cy:p});return I.createElement(Be,{className:Le("recharts-reference-dot",g)},t.renderDot(m,b),hr.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])})(I.Component);Ng(Rg,"displayName","ReferenceDot");Ng(Rg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ng(Rg,"renderDot",function(e,t){var r;return I.isValidElement(e)?r=I.cloneElement(e,t):Ne(e)?r=e(t):r=I.createElement(gc,XS({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function JS(){return JS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},JS.apply(this,arguments)}function Nl(e){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nl(e)}function TD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function PD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TD(Object(r),!0).forEach(function(n){Ig(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BCe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hV(n.key),n)}}function qCe(e,t,r){return t&&BCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function UCe(e,t,r){return t=Hp(t),VCe(e,fV()?Reflect.construct(t,r||[],Hp(e).constructor):t.apply(e,r))}function VCe(e,t){if(t&&(Nl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WCe(e)}function WCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fV=function(){return!!e})()}function Hp(e){return Hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hp(e)}function HCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZS(e,t)}function ZS(e,t){return ZS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ZS(e,t)}function Ig(e,t,r){return t=hV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hV(e){var t=GCe(e,"string");return Nl(t)=="symbol"?t:t+""}function GCe(e,t){if(Nl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var KCe=function(t,r,n,i,a){var o=a.x1,s=a.x2,l=a.y1,c=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=kE({x:d.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return wi(a,"discard")&&(!h.isInRange(p)||!h.isInRange(v))?null:ZU(p,v)},Mg=(function(e){function t(){return FCe(this,t),UCe(this,t,arguments)}return HCe(t,e),qCe(t,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,s=n.y2,l=n.className,c=n.alwaysShow,d=n.clipPathId;Zn(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=sr(i),h=sr(a),p=sr(o),v=sr(s),m=this.props.shape;if(!f&&!h&&!p&&!v&&!m)return null;var g=KCe(f,h,p,v,this.props);if(!g&&!m)return null;var y=wi(this.props,"hidden")?"url(#".concat(d,")"):void 0;return I.createElement(Be,{className:Le("recharts-reference-area",l)},t.renderRect(m,PD(PD({clipPath:y},we(this.props,!0)),g)),hr.renderCallByParent(this.props,g))}}])})(I.Component);Ig(Mg,"displayName","ReferenceArea");Ig(Mg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Ig(Mg,"renderRect",function(e,t){var r;return I.isValidElement(e)?r=I.cloneElement(e,t):Ne(e)?r=e(t):r=I.createElement(jE,JS({},t,{className:"recharts-reference-area-rect"})),r});function pV(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function YCe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return eCe(n,r)}function XCe(e,t,r){var n=r==="width",i=e.x,a=e.y,o=e.width,s=e.height;return t===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function Gp(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function QCe(e,t){return pV(e,t+1)}function JCe(e,t,r,n,i){for(var a=(n||[]).slice(),o=t.start,s=t.end,l=0,c=1,d=o,f=function(){var v=n?.[l];if(v===void 0)return{v:pV(n,c)};var m=l,g,y=function(){return g===void 0&&(g=r(v,m)),g},b=v.coordinate,x=l===0||Gp(e,b,y,d,s);x||(l=0,d=o,c+=1),x&&(d=b+e*(y()/2+i),l+=c)},h;c<=a.length;)if(h=f(),h)return h.v;return[]}function kd(e){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kd(e)}function ND(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ND(Object(r),!0).forEach(function(n){ZCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ND(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZCe(e,t,r){return t=eTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eTe(e){var t=tTe(e,"string");return kd(t)=="symbol"?t:t+""}function tTe(e,t){if(kd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rTe(e,t,r,n,i){for(var a=(n||[]).slice(),o=a.length,s=t.start,l=t.end,c=function(h){var p=a[h],v,m=function(){return v===void 0&&(v=r(p,h)),v};if(h===o-1){var g=e*(p.coordinate+e*m()/2-l);a[h]=p=_r(_r({},p),{},{tickCoord:g>0?p.coordinate-g*e:p.coordinate})}else a[h]=p=_r(_r({},p),{},{tickCoord:p.coordinate});var y=Gp(e,p.tickCoord,m,s,l);y&&(l=p.tickCoord-e*(m()/2+i),a[h]=_r(_r({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)c(d);return a}function nTe(e,t,r,n,i,a){var o=(n||[]).slice(),s=o.length,l=t.start,c=t.end;if(a){var d=n[s-1],f=r(d,s-1),h=e*(d.coordinate+e*f/2-c);o[s-1]=d=_r(_r({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=Gp(e,d.tickCoord,function(){return f},l,c);p&&(c=d.tickCoord-e*(f/2+i),o[s-1]=_r(_r({},d),{},{isShow:!0}))}for(var v=a?s-1:s,m=function(b){var x=o[b],_,w=function(){return _===void 0&&(_=r(x,b)),_};if(b===0){var j=e*(x.coordinate-e*w()/2-l);o[b]=x=_r(_r({},x),{},{tickCoord:j<0?x.coordinate-j*e:x.coordinate})}else o[b]=x=_r(_r({},x),{},{tickCoord:x.coordinate});var k=Gp(e,x.tickCoord,w,l,c);k&&(l=x.tickCoord+e*(w()/2+i),o[b]=_r(_r({},x),{},{isShow:!0}))},g=0;g<v;g++)m(g);return o}function NE(e,t,r){var n=e.tick,i=e.ticks,a=e.viewBox,o=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,d=e.unit,f=e.angle;if(!i||!i.length||!n)return[];if(pe(l)||Mi.isSsr)return QCe(i,typeof l=="number"&&pe(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",v=d&&p==="width"?hu(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(x,_){var w=Ne(c)?c(x.value,_):x.value;return p==="width"?YCe(hu(w,{fontSize:t,letterSpacing:r}),v,f):hu(w,{fontSize:t,letterSpacing:r})[p]},g=i.length>=2?$r(i[1].coordinate-i[0].coordinate):1,y=XCe(a,g,p);return l==="equidistantPreserveStart"?JCe(g,y,m,i,o):(l==="preserveStart"||l==="preserveStartEnd"?h=nTe(g,y,m,i,o,l==="preserveStartEnd"):h=rTe(g,y,m,i,o),h.filter(function(b){return b.isShow}))}var iTe=["viewBox"],aTe=["viewBox"],oTe=["ticks"];function Rl(e){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rl(e)}function Fs(){return Fs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fs.apply(this,arguments)}function RD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RD(Object(r),!0).forEach(function(n){RE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iw(e,t){if(e==null)return{};var r=sTe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ID(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gV(n.key),n)}}function cTe(e,t,r){return t&&ID(e.prototype,t),r&&ID(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function uTe(e,t,r){return t=Kp(t),dTe(e,mV()?Reflect.construct(t,r||[],Kp(e).constructor):t.apply(e,r))}function dTe(e,t){if(t&&(Rl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fTe(e)}function fTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mV=function(){return!!e})()}function Kp(e){return Kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kp(e)}function hTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e_(e,t)}function e_(e,t){return e_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},e_(e,t)}function RE(e,t,r){return t=gV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gV(e){var t=pTe(e,"string");return Rl(t)=="symbol"?t:t+""}function pTe(e,t){if(Rl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var vc=(function(e){function t(r){var n;return lTe(this,t),n=uTe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return hTe(t,e),cTe(t,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=iw(n,iTe),s=this.props,l=s.viewBox,c=iw(s,aTe);return!Zs(a,l)||!Zs(o,c)||!Zs(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,c=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,p,v,m,g,y,b,x=f?-1:1,_=n.tickSize||d,w=pe(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=v=n.coordinate,g=o+ +!f*l,m=g-x*_,b=m-x*h,y=w;break;case"left":m=g=n.coordinate,v=a+ +!f*s,p=v-x*_,y=p-x*h,b=w;break;case"right":m=g=n.coordinate,v=a+ +f*s,p=v+x*_,y=p+x*h,b=w;break;default:p=v=n.coordinate,g=o+ +f*l,m=g+x*_,b=m+x*h,y=w;break}return{line:{x1:p,y1:m,x2:v,y2:g},tick:{x:y,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.orientation,c=n.mirror,d=n.axisLine,f=Zt(Zt(Zt({},we(this.props,!1)),we(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=Zt(Zt({},f),{},{x1:i,y1:a+h*s,x2:i+o,y2:a+h*s})}else{var p=+(l==="left"&&!c||l==="right"&&c);f=Zt(Zt({},f),{},{x1:i+p*o,y1:a,x2:i+p*o,y2:a+s})}return I.createElement("line",Fs({},f,{className:Le("recharts-cartesian-axis-line",un(d,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,s=this.props,l=s.tickLine,c=s.stroke,d=s.tick,f=s.tickFormatter,h=s.unit,p=NE(Zt(Zt({},this.props),{},{ticks:n}),i,a),v=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),g=we(this.props,!1),y=we(d,!1),b=Zt(Zt({},g),{},{fill:"none"},we(l,!1)),x=p.map(function(_,w){var j=o.getTickLineCoord(_),k=j.line,A=j.tick,T=Zt(Zt(Zt(Zt({textAnchor:v,verticalAnchor:m},g),{},{stroke:"none",fill:c},y),A),{},{index:w,payload:_,visibleTicksCount:p.length,tickFormatter:f});return I.createElement(Be,Fs({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},Ja(o.props,_,w)),l&&I.createElement("line",Fs({},b,k,{className:Le("recharts-cartesian-axis-tick-line",un(l,"className"))})),d&&t.renderTickItem(d,T,"".concat(Ne(f)?f(_.value,w):_.value).concat(h||"")))});return I.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,c=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,p=iw(f,oTe),v=h;return Ne(l)&&(v=h&&h.length>0?l(this.props):l(p)),o<=0||s<=0||!v||!v.length?null:I.createElement(Be,{className:Le("recharts-cartesian-axis",c),ref:function(g){n.layerReference=g}},a&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),hr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o,s=Le(i.className,"recharts-cartesian-axis-tick-value");return I.isValidElement(n)?o=I.cloneElement(n,Zt(Zt({},i),{},{className:s})):Ne(n)?o=n(Zt(Zt({},i),{},{className:s})):o=I.createElement(ts,Fs({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])})(S.Component);RE(vc,"displayName","CartesianAxis");RE(vc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var mTe=["x1","y1","x2","y2","key"],gTe=["offset"];function os(e){"@babel/helpers - typeof";return os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},os(e)}function MD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MD(Object(r),!0).forEach(function(n){vTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vTe(e,t,r){return t=yTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yTe(e){var t=bTe(e,"string");return os(t)=="symbol"?t:t+""}function bTe(e,t){if(os(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(os(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lo(){return Lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lo.apply(this,arguments)}function DD(e,t){if(e==null)return{};var r=xTe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var wTe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,a=t.y,o=t.width,s=t.height,l=t.ry;return I.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function vV(e,t){var r;if(I.isValidElement(e))r=I.cloneElement(e,t);else if(Ne(e))r=e(t);else{var n=t.x1,i=t.y1,a=t.x2,o=t.y2,s=t.key,l=DD(t,mTe),c=we(l,!1);c.offset;var d=DD(c,gTe);r=I.createElement("line",Lo({},d,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:s}))}return r}function STe(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=jr(jr({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(l),index:l});return vV(i,c)});return I.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function _Te(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,a=e.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=jr(jr({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(l),index:l});return vV(i,c)});return I.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function jTe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,a=e.width,o=e.height,s=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var d=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var v=!d[p+1],m=v?i+o-h:d[p+1]-h;if(m<=0)return null;var g=p%t.length;return I.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:a,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function kTe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,a=e.x,o=e.y,s=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var d=c.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var v=!d[p+1],m=v?a+s-h:d[p+1]-h;if(m<=0)return null;var g=p%n.length;return I.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:m,height:l,stroke:"none",fill:n[g],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var ETe=function(t,r){var n=t.xAxis,i=t.width,a=t.height,o=t.offset;return pU(NE(jr(jr(jr({},vc.defaultProps),n),{},{ticks:Wi(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},ATe=function(t,r){var n=t.yAxis,i=t.width,a=t.height,o=t.offset;return pU(NE(jr(jr(jr({},vc.defaultProps),n),{},{ticks:Wi(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},Os={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function vn(e){var t,r,n,i,a,o,s=OE(),l=CE(),c=pCe(),d=jr(jr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Os.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Os.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Os.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:Os.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:Os.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Os.verticalFill,x:pe(e.x)?e.x:c.left,y:pe(e.y)?e.y:c.top,width:pe(e.width)?e.width:c.width,height:pe(e.height)?e.height:c.height}),f=d.x,h=d.y,p=d.width,v=d.height,m=d.syncWithTicks,g=d.horizontalValues,y=d.verticalValues,b=dCe(),x=fCe();if(!pe(p)||p<=0||!pe(v)||v<=0||!pe(f)||f!==+f||!pe(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||ETe,w=d.horizontalCoordinatesGenerator||ATe,j=d.horizontalPoints,k=d.verticalPoints;if((!j||!j.length)&&Ne(w)){var A=g&&g.length,T=w({yAxis:x?jr(jr({},x),{},{ticks:A?g:x.ticks}):void 0,width:s,height:l,offset:c},A?!0:m);Zn(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(os(T),"]")),Array.isArray(T)&&(j=T)}if((!k||!k.length)&&Ne(_)){var O=y&&y.length,P=_({xAxis:b?jr(jr({},b),{},{ticks:O?y:b.ticks}):void 0,width:s,height:l,offset:c},O?!0:m);Zn(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(os(P),"]")),Array.isArray(P)&&(k=P)}return I.createElement("g",{className:"recharts-cartesian-grid"},I.createElement(wTe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),I.createElement(STe,Lo({},d,{offset:c,horizontalPoints:j,xAxis:b,yAxis:x})),I.createElement(_Te,Lo({},d,{offset:c,verticalPoints:k,xAxis:b,yAxis:x})),I.createElement(jTe,Lo({},d,{horizontalPoints:j})),I.createElement(kTe,Lo({},d,{verticalPoints:k})))}vn.displayName="CartesianGrid";var OTe=["type","layout","connectNulls","ref"],CTe=["key"];function Il(e){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Il(e)}function $D(e,t){if(e==null)return{};var r=TTe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function bu(){return bu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bu.apply(this,arguments)}function LD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LD(Object(r),!0).forEach(function(n){Hn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cs(e){return ITe(e)||RTe(e)||NTe(e)||PTe()}function PTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NTe(e,t){if(e){if(typeof e=="string")return t_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t_(e,t)}}function RTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ITe(e){if(Array.isArray(e))return t_(e)}function t_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function MTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bV(n.key),n)}}function DTe(e,t,r){return t&&zD(e.prototype,t),r&&zD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $Te(e,t,r){return t=Yp(t),LTe(e,yV()?Reflect.construct(t,r||[],Yp(e).constructor):t.apply(e,r))}function LTe(e,t){if(t&&(Il(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zTe(e)}function zTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yV=function(){return!!e})()}function Yp(e){return Yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yp(e)}function FTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r_(e,t)}function r_(e,t){return r_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},r_(e,t)}function Hn(e,t,r){return t=bV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bV(e){var t=BTe(e,"string");return Il(t)=="symbol"?t:t+""}function BTe(e,t){if(Il(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Il(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Tn=(function(e){function t(){var r;MTe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=$Te(this,t,[].concat(i)),Hn(r,"state",{isAnimationFinished:!0,totalLength:0}),Hn(r,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),Hn(r,"getStrokeDasharray",function(o,s,l){var c=l.reduce(function(y,b){return y+b});if(!c)return r.generateSimpleStrokeDasharray(s,o);for(var d=Math.floor(o/c),f=o%c,h=s-o,p=[],v=0,m=0;v<l.length;m+=l[v],++v)if(m+l[v]>f){p=[].concat(Cs(l.slice(0,v)),[f-m]);break}var g=p.length%2===0?[0,h]:[h];return[].concat(Cs(t.repeat(l,d)),Cs(p),g).map(function(y){return"".concat(y,"px")}).join(", ")}),Hn(r,"id",ao("recharts-line-")),Hn(r,"pathRef",function(o){r.mainCurve=o}),Hn(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Hn(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return FTe(t,e),DTe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,s=a.xAxis,l=a.yAxis,c=a.layout,d=a.children,f=Fr(d,mc);if(!f)return null;var h=function(m,g){return{x:m.x,y:m.y,value:m.value,errorVal:wt(m.payload,g)}},p={clipPath:n?"url(#clipPath-".concat(i,")"):null};return I.createElement(Be,p,f.map(function(v){return I.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,d=s.dataKey,f=we(this.props,!1),h=we(l,!0),p=c.map(function(m,g){var y=Zr(Zr(Zr({key:"dot-".concat(g),r:3},f),h),{},{index:g,cx:m.x,cy:m.y,value:m.value,dataKey:d,payload:m.payload,points:c});return t.renderDotItem(l,y)}),v={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return I.createElement(Be,bu({className:"recharts-line-dots",key:"dots"},v),p)}},{key:"renderCurveStatically",value:function(n,i,a,o){var s=this.props,l=s.type,c=s.layout,d=s.connectNulls;s.ref;var f=$D(s,OTe),h=Zr(Zr(Zr({},we(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},o),{},{type:l,layout:c,connectNulls:d});return I.createElement(Wa,bu({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,o=this.props,s=o.points,l=o.strokeDasharray,c=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,v=o.animateNewValues,m=o.width,g=o.height,y=this.state,b=y.prevPoints,x=y.totalLength;return I.createElement(dn,{begin:d,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var w=_.t;if(b){var j=b.length/s.length,k=s.map(function(N,M){var E=Math.floor(M*j);if(b[E]){var R=b[E],F=xt(R.x,N.x),z=xt(R.y,N.y);return Zr(Zr({},N),{},{x:F(w),y:z(w)})}if(v){var q=xt(m*2,N.x),L=xt(g/2,N.y);return Zr(Zr({},N),{},{x:q(w),y:L(w)})}return Zr(Zr({},N),{},{x:N.x,y:N.y})});return a.renderCurveStatically(k,n,i)}var A=xt(0,x),T=A(w),O;if(l){var P="".concat(l).split(/[,\s]+/gim).map(function(N){return parseFloat(N)});O=a.getStrokeDasharray(T,x,P)}else O=a.generateSimpleStrokeDasharray(x,T);return a.renderCurveStatically(s,n,i,{strokeDasharray:O})})}},{key:"renderCurve",value:function(n,i){var a=this.props,o=a.points,s=a.isAnimationActive,l=this.state,c=l.prevPoints,d=l.totalLength;return s&&o&&o.length&&(!c&&d>0||!aa(c,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,c=i.xAxis,d=i.yAxis,f=i.top,h=i.left,p=i.width,v=i.height,m=i.isAnimationActive,g=i.id;if(a||!s||!s.length)return null;var y=this.state.isAnimationFinished,b=s.length===1,x=Le("recharts-line",l),_=c&&c.allowDataOverflow,w=d&&d.allowDataOverflow,j=_||w,k=Re(g)?this.id:g,A=(n=we(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},T=A.r,O=T===void 0?3:T,P=A.strokeWidth,N=P===void 0?2:P,M=g8(o)?o:{},E=M.clipDot,R=E===void 0?!0:E,F=O*2+N;return I.createElement(Be,{className:x},_||w?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(k)},I.createElement("rect",{x:_?h:h-p/2,y:w?f:f-v/2,width:_?p:p*2,height:w?v:v*2})),!R&&I.createElement("clipPath",{id:"clipPath-dots-".concat(k)},I.createElement("rect",{x:h-F/2,y:f-F/2,width:p+F,height:v+F}))):null,!b&&this.renderCurve(j,k),this.renderErrorBar(j,k),(b||o)&&this.renderDots(j,R,k),(!m||y)&&Cn.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(Cs(n),[0]):n,o=[],s=0;s<i;++s)o=[].concat(Cs(o),Cs(a));return o}},{key:"renderDotItem",value:function(n,i){var a;if(I.isValidElement(n))a=I.cloneElement(n,i);else if(Ne(n))a=n(i);else{var o=i.key,s=$D(i,CTe),l=Le("recharts-line-dot",typeof n!="boolean"?n.className:"");a=I.createElement(gc,bu({key:o},s,{className:l}))}return a}}])})(S.PureComponent);Hn(Tn,"displayName","Line");Hn(Tn,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Mi.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Hn(Tn,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,o=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,d=t.layout,f=l.map(function(h,p){var v=wt(h,o);return d==="horizontal"?{x:wl({axis:r,ticks:i,bandSize:s,entry:h,index:p}),y:Re(v)?null:n.scale(v),value:v,payload:h}:{x:Re(v)?null:r.scale(v),y:wl({axis:n,ticks:a,bandSize:s,entry:h,index:p}),value:v,payload:h}});return Zr({points:f,layout:d},c)});var qTe=["layout","type","stroke","connectNulls","isRange","ref"],UTe=["key"],xV;function Ml(e){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ml(e)}function wV(e,t){if(e==null)return{};var r=VTe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function zo(){return zo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zo.apply(this,arguments)}function FD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FD(Object(r),!0).forEach(function(n){vi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_V(n.key),n)}}function HTe(e,t,r){return t&&BD(e.prototype,t),r&&BD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function GTe(e,t,r){return t=Xp(t),KTe(e,SV()?Reflect.construct(t,r||[],Xp(e).constructor):t.apply(e,r))}function KTe(e,t){if(t&&(Ml(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YTe(e)}function YTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SV=function(){return!!e})()}function Xp(e){return Xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xp(e)}function XTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n_(e,t)}function n_(e,t){return n_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},n_(e,t)}function vi(e,t,r){return t=_V(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _V(e){var t=QTe(e,"string");return Ml(t)=="symbol"?t:t+""}function QTe(e,t){if(Ml(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ml(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Rn=(function(e){function t(){var r;WTe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=GTe(this,t,[].concat(i)),vi(r,"state",{isAnimationFinished:!0}),vi(r,"id",ao("recharts-area-")),vi(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ne(o)&&o()}),vi(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ne(o)&&o()}),r}return XTe(t,e),HTe(t,[{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(o&&!s)return null;var l=this.props,c=l.dot,d=l.points,f=l.dataKey,h=we(this.props,!1),p=we(c,!0),v=d.map(function(g,y){var b=xa(xa(xa({key:"dot-".concat(y),r:3},h),p),{},{index:y,cx:g.x,cy:g.y,dataKey:f,value:g.value,payload:g.payload,points:d});return t.renderDotItem(c,b)}),m={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return I.createElement(Be,zo({className:"recharts-area-dots"},m),v)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].x,c=o[o.length-1].x,d=n*Math.abs(l-c),f=Ta(o.map(function(h){return h.y||0}));return pe(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(Ta(a.map(function(h){return h.y||0})),f)),pe(f)?I.createElement("rect",{x:l<c?l:l-d,y:0,width:d,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].y,c=o[o.length-1].y,d=n*Math.abs(l-c),f=Ta(o.map(function(h){return h.x||0}));return pe(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(Ta(a.map(function(h){return h.x||0})),f)),pe(f)?I.createElement("rect",{x:0,y:l<c?l:l-d,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,a,o){var s=this.props,l=s.layout,c=s.type,d=s.stroke,f=s.connectNulls,h=s.isRange;s.ref;var p=wV(s,qTe);return I.createElement(Be,{clipPath:a?"url(#clipPath-".concat(o,")"):null},I.createElement(Wa,zo({},we(p,!0),{points:n,connectNulls:f,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&I.createElement(Wa,zo({},we(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&I.createElement(Wa,zo({},we(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var a=this,o=this.props,s=o.points,l=o.baseLine,c=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,v=this.state,m=v.prevPoints,g=v.prevBaseLine;return I.createElement(dn,{begin:d,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var b=y.t;if(m){var x=m.length/s.length,_=s.map(function(A,T){var O=Math.floor(T*x);if(m[O]){var P=m[O],N=xt(P.x,A.x),M=xt(P.y,A.y);return xa(xa({},A),{},{x:N(b),y:M(b)})}return A}),w;if(pe(l)&&typeof l=="number"){var j=xt(g,l);w=j(b)}else if(Re(l)||cc(l)){var k=xt(g,0);w=k(b)}else w=l.map(function(A,T){var O=Math.floor(T*x);if(g[O]){var P=g[O],N=xt(P.x,A.x),M=xt(P.y,A.y);return xa(xa({},A),{},{x:N(b),y:M(b)})}return A});return a.renderAreaStatically(_,w,n,i)}return I.createElement(Be,null,I.createElement("defs",null,I.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(b))),I.createElement(Be,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(s,l,n,i)))})}},{key:"renderArea",value:function(n,i){var a=this.props,o=a.points,s=a.baseLine,l=a.isAnimationActive,c=this.state,d=c.prevPoints,f=c.prevBaseLine,h=c.totalLength;return l&&o&&o.length&&(!d&&h>0||!aa(d,o)||!aa(f,s))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(o,s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,c=i.top,d=i.left,f=i.xAxis,h=i.yAxis,p=i.width,v=i.height,m=i.isAnimationActive,g=i.id;if(a||!s||!s.length)return null;var y=this.state.isAnimationFinished,b=s.length===1,x=Le("recharts-area",l),_=f&&f.allowDataOverflow,w=h&&h.allowDataOverflow,j=_||w,k=Re(g)?this.id:g,A=(n=we(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},T=A.r,O=T===void 0?3:T,P=A.strokeWidth,N=P===void 0?2:P,M=g8(o)?o:{},E=M.clipDot,R=E===void 0?!0:E,F=O*2+N;return I.createElement(Be,{className:x},_||w?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(k)},I.createElement("rect",{x:_?d:d-p/2,y:w?c:c-v/2,width:_?p:p*2,height:w?v:v*2})),!R&&I.createElement("clipPath",{id:"clipPath-dots-".concat(k)},I.createElement("rect",{x:d-F/2,y:c-F/2,width:p+F,height:v+F}))):null,b?null:this.renderArea(j,k),(o||b)&&this.renderDots(j,R,k),(!m||y)&&Cn.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(S.PureComponent);xV=Rn;vi(Rn,"displayName","Area");vi(Rn,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Mi.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});vi(Rn,"getBaseValue",function(e,t,r,n){var i=e.layout,a=e.baseValue,o=t.props.baseValue,s=o??a;if(pe(s)&&typeof s=="number")return s;var l=i==="horizontal"?n:r,c=l.scale.domain();if(l.type==="number"){var d=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return s==="dataMin"?f:s==="dataMax"||d<0?d:Math.max(Math.min(c[0],c[1]),0)}return s==="dataMin"?c[0]:s==="dataMax"?c[1]:c[0]});vi(Rn,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,i=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,s=e.bandSize,l=e.dataKey,c=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=t.layout,v=c&&c.length,m=xV.getBaseValue(t,r,n,i),g=p==="horizontal",y=!1,b=f.map(function(_,w){var j;v?j=c[d+w]:(j=wt(_,l),Array.isArray(j)?y=!0:j=[m,j]);var k=j[1]==null||v&&wt(_,l)==null;return g?{x:wl({axis:n,ticks:a,bandSize:s,entry:_,index:w}),y:k?null:i.scale(j[1]),value:j,payload:_}:{x:k?null:n.scale(j[1]),y:wl({axis:i,ticks:o,bandSize:s,entry:_,index:w}),value:j,payload:_}}),x;return v||y?x=b.map(function(_){var w=Array.isArray(_.value)?_.value[0]:null;return g?{x:_.x,y:w!=null&&_.y!=null?i.scale(w):null}:{x:w!=null?n.scale(w):null,y:_.y}}):x=g?i.scale(m):n.scale(m),xa({points:b,baseLine:x,layout:p,isRange:y},h)});vi(Rn,"renderDotItem",function(e,t){var r;if(I.isValidElement(e))r=I.cloneElement(e,t);else if(Ne(e))r=e(t);else{var n=Le("recharts-area-dot",typeof e!="boolean"?e.className:""),i=t.key,a=wV(t,UTe);r=I.createElement(gc,zo({},a,{key:i,className:n}))}return r});function Dl(e){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dl(e)}function JTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZTe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EV(n.key),n)}}function ePe(e,t,r){return t&&ZTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tPe(e,t,r){return t=Qp(t),rPe(e,jV()?Reflect.construct(t,r||[],Qp(e).constructor):t.apply(e,r))}function rPe(e,t){if(t&&(Dl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nPe(e)}function nPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jV=function(){return!!e})()}function Qp(e){return Qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qp(e)}function iPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i_(e,t)}function i_(e,t){return i_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},i_(e,t)}function kV(e,t,r){return t=EV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EV(e){var t=aPe(e,"string");return Dl(t)=="symbol"?t:t+""}function aPe(e,t){if(Dl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Dg=(function(e){function t(){return JTe(this,t),tPe(this,t,arguments)}return iPe(t,e),ePe(t,[{key:"render",value:function(){return null}}])})(S.Component);kV(Dg,"displayName","ZAxis");kV(Dg,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var oPe=["option","isActive"];function xu(){return xu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xu.apply(this,arguments)}function sPe(e,t){if(e==null)return{};var r=lPe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cPe(e){var t=e.option,r=e.isActive,n=sPe(e,oPe);return typeof t=="string"?S.createElement(Mp,xu({option:S.createElement(fg,xu({type:t},n)),isActive:r,shapeType:"symbols"},n)):S.createElement(Mp,xu({option:t,isActive:r,shapeType:"symbols"},n))}function $l(e){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$l(e)}function wu(){return wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wu.apply(this,arguments)}function qD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qD(Object(r),!0).forEach(function(n){Na(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OV(n.key),n)}}function dPe(e,t,r){return t&&UD(e.prototype,t),r&&UD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function fPe(e,t,r){return t=Jp(t),hPe(e,AV()?Reflect.construct(t,r||[],Jp(e).constructor):t.apply(e,r))}function hPe(e,t){if(t&&($l(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pPe(e)}function pPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AV=function(){return!!e})()}function Jp(e){return Jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jp(e)}function mPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a_(e,t)}function a_(e,t){return a_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},a_(e,t)}function Na(e,t,r){return t=OV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OV(e){var t=gPe(e,"string");return $l(t)=="symbol"?t:t+""}function gPe(e,t){if($l(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $g=(function(e){function t(){var r;uPe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=fPe(this,t,[].concat(i)),Na(r,"state",{isAnimationFinished:!1}),Na(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),Na(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),Na(r,"id",ao("recharts-scatter-")),r}return mPe(t,e),dPe(t,[{key:"renderSymbolsStatically",value:function(n){var i=this,a=this.props,o=a.shape,s=a.activeShape,l=a.activeIndex,c=we(this.props,!1);return n.map(function(d,f){var h=l===f,p=h?s:o,v=gn(gn({},c),d);return I.createElement(Be,wu({className:"recharts-scatter-symbol",key:"symbol-".concat(d?.cx,"-").concat(d?.cy,"-").concat(d?.size,"-").concat(f)},Ja(i.props,d,f),{role:"img"}),I.createElement(cPe,wu({option:p,isActive:h,key:"symbol-".concat(f)},v)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,i=this.props,a=i.points,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,d=i.animationId,f=this.state.prevPoints;return I.createElement(dn,{begin:s,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var p=h.t,v=a.map(function(m,g){var y=f&&f[g];if(y){var b=xt(y.cx,m.cx),x=xt(y.cy,m.cy),_=xt(y.size,m.size);return gn(gn({},m),{},{cx:b(p),cy:x(p),size:_(p)})}var w=xt(0,m.size);return gn(gn({},m),{},{size:w(p)})});return I.createElement(Be,null,n.renderSymbolsStatically(v))})}},{key:"renderSymbols",value:function(){var n=this.props,i=n.points,a=n.isAnimationActive,o=this.state.prevPoints;return a&&i&&i.length&&(!o||!aa(o,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var i=this.props,a=i.points,o=i.xAxis,s=i.yAxis,l=i.children,c=Fr(l,mc);return c?c.map(function(d,f){var h=d.props,p=h.direction,v=h.dataKey;return I.cloneElement(d,{key:"".concat(p,"-").concat(v,"-").concat(a[f]),data:a,xAxis:o,yAxis:s,layout:p==="x"?"vertical":"horizontal",dataPointFormatter:function(g,y){return{x:g.cx,y:g.cy,value:p==="x"?+g.node.x:+g.node.y,errorVal:wt(g,y)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,i=n.points,a=n.line,o=n.lineType,s=n.lineJointType,l=we(this.props,!1),c=we(a,!1),d,f;if(o==="joint")d=i.map(function(x){return{x:x.cx,y:x.cy}});else if(o==="fitting"){var h=Uge(i),p=h.xmin,v=h.xmax,m=h.a,g=h.b,y=function(_){return m*_+g};d=[{x:p,y:y(p)},{x:v,y:y(v)}]}var b=gn(gn(gn({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:d});return I.isValidElement(a)?f=I.cloneElement(a,b):Ne(a)?f=a(b):f=I.createElement(Wa,wu({},b,{type:s})),I.createElement(Be,{className:"recharts-scatter-line",key:"recharts-scatter-line"},f)}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.points,o=n.line,s=n.className,l=n.xAxis,c=n.yAxis,d=n.left,f=n.top,h=n.width,p=n.height,v=n.id,m=n.isAnimationActive;if(i||!a||!a.length)return null;var g=this.state.isAnimationFinished,y=Le("recharts-scatter",s),b=l&&l.allowDataOverflow,x=c&&c.allowDataOverflow,_=b||x,w=Re(v)?this.id:v;return I.createElement(Be,{className:y,clipPath:_?"url(#clipPath-".concat(w,")"):null},b||x?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(w)},I.createElement("rect",{x:b?d:d-h/2,y:x?f:f-p/2,width:b?h:h*2,height:x?p:p*2}))):null,o&&this.renderLine(),this.renderErrorBar(),I.createElement(Be,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!m||g)&&Cn.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}}])})(S.PureComponent);Na($g,"displayName","Scatter");Na($g,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Mi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});Na($g,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,i=e.item,a=e.displayedData,o=e.xAxisTicks,s=e.yAxisTicks,l=e.offset,c=i.props.tooltipType,d=Fr(i.props.children,dc),f=Re(t.dataKey)?i.props.dataKey:t.dataKey,h=Re(r.dataKey)?i.props.dataKey:r.dataKey,p=n&&n.dataKey,v=n?n.range:Dg.defaultProps.range,m=v&&v[0],g=t.scale.bandwidth?t.scale.bandwidth():0,y=r.scale.bandwidth?r.scale.bandwidth():0,b=a.map(function(x,_){var w=wt(x,f),j=wt(x,h),k=!Re(p)&&wt(x,p)||"-",A=[{name:Re(t.dataKey)?i.props.name:t.name||t.dataKey,unit:t.unit||"",value:w,payload:x,dataKey:f,type:c},{name:Re(r.dataKey)?i.props.name:r.name||r.dataKey,unit:r.unit||"",value:j,payload:x,dataKey:h,type:c}];k!=="-"&&A.push({name:n.name||n.dataKey,unit:n.unit||"",value:k,payload:x,dataKey:p,type:c});var T=wl({axis:t,ticks:o,bandSize:g,entry:x,index:_,dataKey:f}),O=wl({axis:r,ticks:s,bandSize:y,entry:x,index:_,dataKey:h}),P=k!=="-"?n.scale(k):m,N=Math.sqrt(Math.max(P,0)/Math.PI);return gn(gn({},x),{},{cx:T,cy:O,x:T-N,y:O-N,xAxis:t,yAxis:r,zAxis:n,width:2*N,height:2*N,size:P,node:{x:w,y:j,z:k},tooltipPayload:A,tooltipPosition:{x:T,y:O},payload:x},d&&d[_]&&d[_].props)});return gn({points:b},l)});function Ll(e){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ll(e)}function vPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PV(n.key),n)}}function bPe(e,t,r){return t&&yPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xPe(e,t,r){return t=Zp(t),wPe(e,CV()?Reflect.construct(t,r||[],Zp(e).constructor):t.apply(e,r))}function wPe(e,t){if(t&&(Ll(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SPe(e)}function SPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CV=function(){return!!e})()}function Zp(e){return Zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zp(e)}function _Pe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o_(e,t)}function o_(e,t){return o_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},o_(e,t)}function TV(e,t,r){return t=PV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PV(e){var t=jPe(e,"string");return Ll(t)=="symbol"?t:t+""}function jPe(e,t){if(Ll(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function s_(){return s_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s_.apply(this,arguments)}function kPe(e){var t=e.xAxisId,r=OE(),n=CE(),i=oV(t);return i==null?null:S.createElement(vc,s_({},i,{className:Le("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Wi(o,!0)}}))}var ir=(function(e){function t(){return vPe(this,t),xPe(this,t,arguments)}return _Pe(t,e),bPe(t,[{key:"render",value:function(){return S.createElement(kPe,this.props)}}])})(S.Component);TV(ir,"displayName","XAxis");TV(ir,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function zl(e){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zl(e)}function EPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function APe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IV(n.key),n)}}function OPe(e,t,r){return t&&APe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function CPe(e,t,r){return t=em(t),TPe(e,NV()?Reflect.construct(t,r||[],em(e).constructor):t.apply(e,r))}function TPe(e,t){if(t&&(zl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PPe(e)}function PPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NV=function(){return!!e})()}function em(e){return em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},em(e)}function NPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l_(e,t)}function l_(e,t){return l_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},l_(e,t)}function RV(e,t,r){return t=IV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IV(e){var t=RPe(e,"string");return zl(t)=="symbol"?t:t+""}function RPe(e,t){if(zl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function c_(){return c_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c_.apply(this,arguments)}var IPe=function(t){var r=t.yAxisId,n=OE(),i=CE(),a=sV(r);return a==null?null:S.createElement(vc,c_({},a,{className:Le("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return Wi(s,!0)}}))},Bt=(function(e){function t(){return EPe(this,t),CPe(this,t,arguments)}return NPe(t,e),OPe(t,[{key:"render",value:function(){return S.createElement(IPe,this.props)}}])})(S.Component);RV(Bt,"displayName","YAxis");RV(Bt,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function VD(e){return LPe(e)||$Pe(e)||DPe(e)||MPe()}function MPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DPe(e,t){if(e){if(typeof e=="string")return u_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u_(e,t)}}function $Pe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function LPe(e){if(Array.isArray(e))return u_(e)}function u_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var d_=function(t,r,n,i,a){var o=Fr(t,PE),s=Fr(t,Rg),l=[].concat(VD(o),VD(s)),c=Fr(t,Mg),d="".concat(i,"Id"),f=i[0],h=r;if(l.length&&(h=l.reduce(function(m,g){if(g.props[d]===n&&wi(g.props,"extendDomain")&&pe(g.props[f])){var y=g.props[f];return[Math.min(m[0],y),Math.max(m[1],y)]}return m},h)),c.length){var p="".concat(f,"1"),v="".concat(f,"2");h=c.reduce(function(m,g){if(g.props[d]===n&&wi(g.props,"extendDomain")&&pe(g.props[p])&&pe(g.props[v])){var y=g.props[p],b=g.props[v];return[Math.min(m[0],y,b),Math.max(m[1],y,b)]}return m},h)}return a&&a.length&&(h=a.reduce(function(m,g){return pe(g)?[Math.min(m[0],g),Math.max(m[1],g)]:m},h)),h},aw={exports:{}},WD;function zPe(){return WD||(WD=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function a(l,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||l,h),v=r?r+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],p]:l._events[v].push(p):(l._events[v]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)t.call(d,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},s.prototype.listeners=function(c){var d=r?r+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,v=new Array(p);h<p;h++)v[h]=f[h].fn;return v},s.prototype.listenerCount=function(c){var d=r?r+c:c,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,d,f,h,p,v){var m=r?r+c:c;if(!this._events[m])return!1;var g=this._events[m],y=arguments.length,b,x;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),y){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,f),!0;case 4:return g.fn.call(g.context,d,f,h),!0;case 5:return g.fn.call(g.context,d,f,h,p),!0;case 6:return g.fn.call(g.context,d,f,h,p,v),!0}for(x=1,b=new Array(y-1);x<y;x++)b[x-1]=arguments[x];g.fn.apply(g.context,b)}else{var _=g.length,w;for(x=0;x<_;x++)switch(g[x].once&&this.removeListener(c,g[x].fn,void 0,!0),y){case 1:g[x].fn.call(g[x].context);break;case 2:g[x].fn.call(g[x].context,d);break;case 3:g[x].fn.call(g[x].context,d,f);break;case 4:g[x].fn.call(g[x].context,d,f,h);break;default:if(!b)for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];g[x].fn.apply(g[x].context,b)}}return!0},s.prototype.on=function(c,d,f){return a(this,c,d,f,!1)},s.prototype.once=function(c,d,f){return a(this,c,d,f,!0)},s.prototype.removeListener=function(c,d,f,h){var p=r?r+c:c;if(!this._events[p])return this;if(!d)return o(this,p),this;var v=this._events[p];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&o(this,p);else{for(var m=0,g=[],y=v.length;m<y;m++)(v[m].fn!==d||h&&!v[m].once||f&&v[m].context!==f)&&g.push(v[m]);g.length?this._events[p]=g.length===1?g[0]:g:o(this,p)}return this},s.prototype.removeAllListeners=function(c){var d;return c?(d=r?r+c:c,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(aw)),aw.exports}var FPe=zPe();const BPe=ot(FPe);var ow=new BPe,sw="recharts.syncMouseEvents";function Ed(e){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ed(e)}function qPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MV(n.key),n)}}function VPe(e,t,r){return t&&UPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lw(e,t,r){return t=MV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MV(e){var t=WPe(e,"string");return Ed(t)=="symbol"?t:t+""}function WPe(e,t){if(Ed(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var HPe=(function(){function e(){qPe(this,e),lw(this,"activeIndex",0),lw(this,"coordinateList",[]),lw(this,"layout","horizontal")}return VPe(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,s=o===void 0?null:o,l=r.layout,c=l===void 0?null:l,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+l+c,h=o+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])})();function GPe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e?.[0],i=e?.[1];if(n&&i&&pe(n)&&pe(i))return!0}return!1}function KPe(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function DV(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,a=e.endAngle,o=ht(t,r,n,i),s=ht(t,r,n,a);return{points:[o,s],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function YPe(e,t,r){var n,i,a,o;if(e==="horizontal")n=t.x,a=n,i=r.top,o=r.top+r.height;else if(e==="vertical")i=t.y,o=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,c=t.innerRadius,d=t.outerRadius,f=t.angle,h=ht(s,l,c,f),p=ht(s,l,d,f);n=h.x,i=h.y,a=p.x,o=p.y}else return DV(t);return[{x:n,y:i},{x:a,y:o}]}function Ad(e){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ad(e)}function HD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HD(Object(r),!0).forEach(function(n){XPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XPe(e,t,r){return t=QPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QPe(e){var t=JPe(e,"string");return Ad(t)=="symbol"?t:t+""}function JPe(e,t){if(Ad(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZPe(e){var t,r,n=e.element,i=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,s=e.activePayload,l=e.offset,c=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!a||!o||h!=="ScatterChart"&&i!=="axis")return null;var v,m=Wa;if(h==="ScatterChart")v=o,m=wEe;else if(h==="BarChart")v=KPe(f,o,l,d),m=jE;else if(f==="radial"){var g=DV(o),y=g.cx,b=g.cy,x=g.radius,_=g.startAngle,w=g.endAngle;v={cx:y,cy:b,startAngle:_,endAngle:w,innerRadius:x,outerRadius:x},m=AU}else v={points:YPe(f,o,l)},m=Wa;var j=Kf(Kf(Kf(Kf({stroke:"#ccc",pointerEvents:"none"},l),v),we(p,!1)),{},{payload:s,payloadIndex:c,className:Le("recharts-tooltip-cursor",p.className)});return S.isValidElement(p)?S.cloneElement(p,j):S.createElement(m,j)}var eNe=["item"],tNe=["children","className","width","height","style","compact","title","desc"];function Fl(e){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fl(e)}function Bs(){return Bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bs.apply(this,arguments)}function GD(e,t){return iNe(e)||nNe(e,t)||LV(e,t)||rNe()}function rNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function iNe(e){if(Array.isArray(e))return e}function KD(e,t){if(e==null)return{};var r=aNe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function oNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sNe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zV(n.key),n)}}function lNe(e,t,r){return t&&sNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cNe(e,t,r){return t=tm(t),uNe(e,$V()?Reflect.construct(t,r||[],tm(e).constructor):t.apply(e,r))}function uNe(e,t){if(t&&(Fl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dNe(e)}function dNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $V(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($V=function(){return!!e})()}function tm(e){return tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tm(e)}function fNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f_(e,t)}function f_(e,t){return f_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},f_(e,t)}function Bl(e){return mNe(e)||pNe(e)||LV(e)||hNe()}function hNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LV(e,t){if(e){if(typeof e=="string")return h_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h_(e,t)}}function pNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mNe(e){if(Array.isArray(e))return h_(e)}function h_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function YD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YD(Object(r),!0).forEach(function(n){De(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function De(e,t,r){return t=zV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zV(e){var t=gNe(e,"string");return Fl(t)=="symbol"?t:t+""}function gNe(e,t){if(Fl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vNe={xAxis:["bottom","top"],yAxis:["left","right"]},yNe={width:"100%",height:"100%"},FV={x:0,y:0};function Yf(e){return e}var bNe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},xNe=function(t,r,n,i){var a=r.find(function(d){return d&&d.index===n});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,s=i.radius;return se(se(se({},i),ht(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,c=i.angle;return se(se(se({},i),ht(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return FV},Lg=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(Bl(s),Bl(c)):s},[]);return o.length>0?o:t&&t.length&&pe(i)&&pe(a)?t.slice(i,a+1):[]};function BV(e){return e==="number"?[0,"auto"]:void 0}var p_=function(t,r,n,i){var a=t.graphicalItems,o=t.tooltipAxis,s=Lg(r,t);return n<0||!a||!a.length||n>=s.length?null:a.reduce(function(l,c){var d,f=(d=c.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?s:f;h=Jh(p,o.dataKey,i)}else h=f&&f[n]||s[n];return h?[].concat(Bl(l),[bU(c,h)]):l},[])},XD=function(t,r,n,i){var a=i||{x:t.chartX,y:t.chartY},o=bNe(a,n),s=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,d=YSe(o,s,c,l);if(d>=0&&c){var f=c[d]&&c[d].value,h=p_(t,r,d,f),p=xNe(n,s,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},wNe=function(t,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=hU(d,a);return n.reduce(function(v,m){var g,y=m.type.defaultProps!==void 0?se(se({},m.type.defaultProps),m.props):m.props,b=y.type,x=y.dataKey,_=y.allowDataOverflow,w=y.allowDuplicatedCategory,j=y.scale,k=y.ticks,A=y.includeHidden,T=y[o];if(v[T])return v;var O=Lg(t.data,{graphicalItems:i.filter(function(B){var $,Q=o in B.props?B.props[o]:($=B.type.defaultProps)===null||$===void 0?void 0:$[o];return Q===T}),dataStartIndex:l,dataEndIndex:c}),P=O.length,N,M,E;GPe(y.domain,_,b)&&(N=jS(y.domain,null,_),p&&(b==="number"||j!=="auto")&&(E=mu(O,x,"category")));var R=BV(b);if(!N||N.length===0){var F,z=(F=y.domain)!==null&&F!==void 0?F:R;if(x){if(N=mu(O,x,b),b==="category"&&p){var q=qge(N);w&&q?(M=N,N=zp(0,P)):w||(N=FI(z,N,m).reduce(function(B,$){return B.indexOf($)>=0?B:[].concat(Bl(B),[$])},[]))}else if(b==="category")w?N=N.filter(function(B){return B!==""&&!Re(B)}):N=FI(z,N,m).reduce(function(B,$){return B.indexOf($)>=0||$===""||Re($)?B:[].concat(Bl(B),[$])},[]);else if(b==="number"){var L=e_e(O,i.filter(function(B){var $,Q,Z=o in B.props?B.props[o]:($=B.type.defaultProps)===null||$===void 0?void 0:$[o],fe="hide"in B.props?B.props.hide:(Q=B.type.defaultProps)===null||Q===void 0?void 0:Q.hide;return Z===T&&(A||!fe)}),x,a,d);L&&(N=L)}p&&(b==="number"||j!=="auto")&&(E=mu(O,x,"category"))}else p?N=zp(0,P):s&&s[T]&&s[T].hasStack&&b==="number"?N=h==="expand"?[0,1]:yU(s[T].stackGroups,l,c):N=fU(O,i.filter(function(B){var $=o in B.props?B.props[o]:B.type.defaultProps[o],Q="hide"in B.props?B.props.hide:B.type.defaultProps.hide;return $===T&&(A||!Q)}),b,d,!0);if(b==="number")N=d_(f,N,T,a,k),z&&(N=jS(z,N,_));else if(b==="category"&&z){var D=z,W=N.every(function(B){return D.indexOf(B)>=0});W&&(N=D)}}return se(se({},v),{},De({},T,se(se({},y),{},{axisType:a,domain:N,categoricalDomain:E,duplicateDomain:M,originalDomain:(g=y.domain)!==null&&g!==void 0?g:R,isCategorical:p,layout:d})))},{})},SNe=function(t,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,d=t.layout,f=t.children,h=Lg(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,v=hU(d,a),m=-1;return n.reduce(function(g,y){var b=y.type.defaultProps!==void 0?se(se({},y.type.defaultProps),y.props):y.props,x=b[o],_=BV("number");if(!g[x]){m++;var w;return v?w=zp(0,p):s&&s[x]&&s[x].hasStack?(w=yU(s[x].stackGroups,l,c),w=d_(f,w,x,a)):(w=jS(_,fU(h,n.filter(function(j){var k,A,T=o in j.props?j.props[o]:(k=j.type.defaultProps)===null||k===void 0?void 0:k[o],O="hide"in j.props?j.props.hide:(A=j.type.defaultProps)===null||A===void 0?void 0:A.hide;return T===x&&!O}),"number",d),i.defaultProps.allowDataOverflow),w=d_(f,w,x,a)),se(se({},g),{},De({},x,se(se({axisType:a},i.defaultProps),{},{hide:!0,orientation:un(vNe,"".concat(a,".").concat(m%2),null),domain:w,originalDomain:_,isCategorical:v,layout:d})))}return g},{})},_Ne=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,d=t.children,f="".concat(i,"Id"),h=Fr(d,a),p={};return h&&h.length?p=wNe(t,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):o&&o.length&&(p=SNe(t,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),p},jNe=function(t){var r=Oa(t),n=Wi(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Qk(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:_p(r,n)}},QD=function(t){var r=t.children,n=t.defaultShowTooltip,i=tn(r,Ol),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},kNe=function(t){return!t||!t.length?!1:t.some(function(r){var n=Xi(r&&r.type);return n&&n.indexOf("Bar")>=0})},JD=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},ENe=function(t,r){var n=t.props,i=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,s=t.yAxisMap,l=s===void 0?{}:s,c=n.width,d=n.height,f=n.children,h=n.margin||{},p=tn(f,Ol),v=tn(f,sn),m=Object.keys(l).reduce(function(w,j){var k=l[j],A=k.orientation;return!k.mirror&&!k.hide?se(se({},w),{},De({},A,w[A]+k.width)):w},{left:h.left||0,right:h.right||0}),g=Object.keys(o).reduce(function(w,j){var k=o[j],A=k.orientation;return!k.mirror&&!k.hide?se(se({},w),{},De({},A,un(w,"".concat(A))+k.height)):w},{top:h.top||0,bottom:h.bottom||0}),y=se(se({},g),m),b=y.bottom;p&&(y.bottom+=p.props.height||Ol.defaultProps.height),v&&r&&(y=JSe(y,i,n,r));var x=c-y.left-y.right,_=d-y.top-y.bottom;return se(se({brushBottom:b},y),{},{width:Math.max(x,0),height:Math.max(_,0)})},ANe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},yc=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,o=t.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=t.axisComponents,c=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(y,b){var x=b.graphicalItems,_=b.stackGroups,w=b.offset,j=b.updateId,k=b.dataStartIndex,A=b.dataEndIndex,T=y.barSize,O=y.layout,P=y.barGap,N=y.barCategoryGap,M=y.maxBarSize,E=JD(O),R=E.numericAxisName,F=E.cateAxisName,z=kNe(x),q=[];return x.forEach(function(L,D){var W=Lg(y.data,{graphicalItems:[L],dataStartIndex:k,dataEndIndex:A}),B=L.type.defaultProps!==void 0?se(se({},L.type.defaultProps),L.props):L.props,$=B.dataKey,Q=B.maxBarSize,Z=B["".concat(R,"Id")],fe=B["".concat(F,"Id")],le={},ue=l.reduce(function(re,X){var de=b["".concat(X.axisType,"Map")],ye=B["".concat(X.axisType,"Id")];de&&de[ye]||X.axisType==="zAxis"||ns();var he=de[ye];return se(se({},re),{},De(De({},X.axisType,he),"".concat(X.axisType,"Ticks"),Wi(he)))},le),ee=ue[F],te=ue["".concat(F,"Ticks")],ce=_&&_[Z]&&_[Z].hasStack&&c_e(L,_[Z].stackGroups),J=Xi(L.type).indexOf("Bar")>=0,ne=_p(ee,te),C=[],G=z&&XSe({barSize:T,stackGroups:_,totalSize:ANe(ue,F)});if(J){var H,V,U=Re(Q)?M:Q,K=(H=(V=_p(ee,te,!0))!==null&&V!==void 0?V:U)!==null&&H!==void 0?H:0;C=QSe({barGap:P,barCategoryGap:N,bandSize:K!==ne?K:ne,sizeList:G[fe],maxBarSize:U}),K!==ne&&(C=C.map(function(re){return se(se({},re),{},{position:se(se({},re.position),{},{offset:re.position.offset-K/2})})}))}var ie=L&&L.type&&L.type.getComposedData;ie&&q.push({props:se(se({},ie(se(se({},ue),{},{displayedData:W,props:y,dataKey:$,item:L,bandSize:ne,barPosition:C,offset:w,stackedData:ce,layout:O,dataStartIndex:k,dataEndIndex:A}))),{},De(De(De({key:L.key||"item-".concat(D)},R,ue[R]),F,ue[F]),"animationId",j)),childIndex:tve(L,y.children),item:L})}),q},p=function(y,b){var x=y.props,_=y.dataStartIndex,w=y.dataEndIndex,j=y.updateId;if(!tN({props:x}))return null;var k=x.children,A=x.layout,T=x.stackOffset,O=x.data,P=x.reverseStackOrder,N=JD(A),M=N.numericAxisName,E=N.cateAxisName,R=Fr(k,n),F=s_e(O,R,"".concat(M,"Id"),"".concat(E,"Id"),T,P),z=l.reduce(function(B,$){var Q="".concat($.axisType,"Map");return se(se({},B),{},De({},Q,_Ne(x,se(se({},$),{},{graphicalItems:R,stackGroups:$.axisType===M&&F,dataStartIndex:_,dataEndIndex:w}))))},{}),q=ENe(se(se({},z),{},{props:x,graphicalItems:R}),b?.legendBBox);Object.keys(z).forEach(function(B){z[B]=d(x,z[B],q,B.replace("Map",""),r)});var L=z["".concat(E,"Map")],D=jNe(L),W=h(x,se(se({},z),{},{dataStartIndex:_,dataEndIndex:w,updateId:j,graphicalItems:R,stackGroups:F,offset:q}));return se(se({formattedGraphicalItems:W,graphicalItems:R,offset:q,stackGroups:F},D),z)},v=(function(g){function y(b){var x,_,w;return oNe(this,y),w=cNe(this,y,[b]),De(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),De(w,"accessibilityManager",new HPe),De(w,"handleLegendBBoxUpdate",function(j){if(j){var k=w.state,A=k.dataStartIndex,T=k.dataEndIndex,O=k.updateId;w.setState(se({legendBBox:j},p({props:w.props,dataStartIndex:A,dataEndIndex:T,updateId:O},se(se({},w.state),{},{legendBBox:j}))))}}),De(w,"handleReceiveSyncEvent",function(j,k,A){if(w.props.syncId===j){if(A===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(k)}}),De(w,"handleBrushChange",function(j){var k=j.startIndex,A=j.endIndex;if(k!==w.state.dataStartIndex||A!==w.state.dataEndIndex){var T=w.state.updateId;w.setState(function(){return se({dataStartIndex:k,dataEndIndex:A},p({props:w.props,dataStartIndex:k,dataEndIndex:A,updateId:T},w.state))}),w.triggerSyncEvent({dataStartIndex:k,dataEndIndex:A})}}),De(w,"handleMouseEnter",function(j){var k=w.getMouseInfo(j);if(k){var A=se(se({},k),{},{isTooltipActive:!0});w.setState(A),w.triggerSyncEvent(A);var T=w.props.onMouseEnter;Ne(T)&&T(A,j)}}),De(w,"triggeredAfterMouseMove",function(j){var k=w.getMouseInfo(j),A=k?se(se({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(A),w.triggerSyncEvent(A);var T=w.props.onMouseMove;Ne(T)&&T(A,j)}),De(w,"handleItemMouseEnter",function(j){w.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),De(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),De(w,"handleMouseMove",function(j){j.persist(),w.throttleTriggeredAfterMouseMove(j)}),De(w,"handleMouseLeave",function(j){w.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};w.setState(k),w.triggerSyncEvent(k);var A=w.props.onMouseLeave;Ne(A)&&A(k,j)}),De(w,"handleOuterEvent",function(j){var k=eve(j),A=un(w.props,"".concat(k));if(k&&Ne(A)){var T,O;/.*touch.*/i.test(k)?O=w.getMouseInfo(j.changedTouches[0]):O=w.getMouseInfo(j),A((T=O)!==null&&T!==void 0?T:{},j)}}),De(w,"handleClick",function(j){var k=w.getMouseInfo(j);if(k){var A=se(se({},k),{},{isTooltipActive:!0});w.setState(A),w.triggerSyncEvent(A);var T=w.props.onClick;Ne(T)&&T(A,j)}}),De(w,"handleMouseDown",function(j){var k=w.props.onMouseDown;if(Ne(k)){var A=w.getMouseInfo(j);k(A,j)}}),De(w,"handleMouseUp",function(j){var k=w.props.onMouseUp;if(Ne(k)){var A=w.getMouseInfo(j);k(A,j)}}),De(w,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),De(w,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&w.handleMouseDown(j.changedTouches[0])}),De(w,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&w.handleMouseUp(j.changedTouches[0])}),De(w,"handleDoubleClick",function(j){var k=w.props.onDoubleClick;if(Ne(k)){var A=w.getMouseInfo(j);k(A,j)}}),De(w,"handleContextMenu",function(j){var k=w.props.onContextMenu;if(Ne(k)){var A=w.getMouseInfo(j);k(A,j)}}),De(w,"triggerSyncEvent",function(j){w.props.syncId!==void 0&&ow.emit(sw,w.props.syncId,j,w.eventEmitterSymbol)}),De(w,"applySyncEvent",function(j){var k=w.props,A=k.layout,T=k.syncMethod,O=w.state.updateId,P=j.dataStartIndex,N=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)w.setState(se({dataStartIndex:P,dataEndIndex:N},p({props:w.props,dataStartIndex:P,dataEndIndex:N,updateId:O},w.state)));else if(j.activeTooltipIndex!==void 0){var M=j.chartX,E=j.chartY,R=j.activeTooltipIndex,F=w.state,z=F.offset,q=F.tooltipTicks;if(!z)return;if(typeof T=="function")R=T(q,j);else if(T==="value"){R=-1;for(var L=0;L<q.length;L++)if(q[L].value===j.activeLabel){R=L;break}}var D=se(se({},z),{},{x:z.left,y:z.top}),W=Math.min(M,D.x+D.width),B=Math.min(E,D.y+D.height),$=q[R]&&q[R].value,Q=p_(w.state,w.props.data,R),Z=q[R]?{x:A==="horizontal"?q[R].coordinate:W,y:A==="horizontal"?B:q[R].coordinate}:FV;w.setState(se(se({},j),{},{activeLabel:$,activeCoordinate:Z,activePayload:Q,activeTooltipIndex:R}))}else w.setState(j)}),De(w,"renderCursor",function(j){var k,A=w.state,T=A.isTooltipActive,O=A.activeCoordinate,P=A.activePayload,N=A.offset,M=A.activeTooltipIndex,E=A.tooltipAxisBandSize,R=w.getTooltipEventType(),F=(k=j.props.active)!==null&&k!==void 0?k:T,z=w.props.layout,q=j.key||"_recharts-cursor";return I.createElement(ZPe,{key:q,activeCoordinate:O,activePayload:P,activeTooltipIndex:M,chartName:r,element:j,isActive:F,layout:z,offset:N,tooltipAxisBandSize:E,tooltipEventType:R})}),De(w,"renderPolarAxis",function(j,k,A){var T=un(j,"type.axisType"),O=un(w.state,"".concat(T,"Map")),P=j.type.defaultProps,N=P!==void 0?se(se({},P),j.props):j.props,M=O&&O[N["".concat(T,"Id")]];return S.cloneElement(j,se(se({},M),{},{className:Le(T,M.className),key:j.key||"".concat(k,"-").concat(A),ticks:Wi(M,!0)}))}),De(w,"renderPolarGrid",function(j){var k=j.props,A=k.radialLines,T=k.polarAngles,O=k.polarRadius,P=w.state,N=P.radiusAxisMap,M=P.angleAxisMap,E=Oa(N),R=Oa(M),F=R.cx,z=R.cy,q=R.innerRadius,L=R.outerRadius;return S.cloneElement(j,{polarAngles:Array.isArray(T)?T:Wi(R,!0).map(function(D){return D.coordinate}),polarRadius:Array.isArray(O)?O:Wi(E,!0).map(function(D){return D.coordinate}),cx:F,cy:z,innerRadius:q,outerRadius:L,key:j.key||"polar-grid",radialLines:A})}),De(w,"renderLegend",function(){var j=w.state.formattedGraphicalItems,k=w.props,A=k.children,T=k.width,O=k.height,P=w.props.margin||{},N=T-(P.left||0)-(P.right||0),M=uU({children:A,formattedGraphicalItems:j,legendWidth:N,legendContent:c});if(!M)return null;var E=M.item,R=KD(M,eNe);return S.cloneElement(E,se(se({},R),{},{chartWidth:T,chartHeight:O,margin:P,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),De(w,"renderTooltip",function(){var j,k=w.props,A=k.children,T=k.accessibilityLayer,O=tn(A,Ot);if(!O)return null;var P=w.state,N=P.isTooltipActive,M=P.activeCoordinate,E=P.activePayload,R=P.activeLabel,F=P.offset,z=(j=O.props.active)!==null&&j!==void 0?j:N;return S.cloneElement(O,{viewBox:se(se({},F),{},{x:F.left,y:F.top}),active:z,label:R,payload:z?E:[],coordinate:M,accessibilityLayer:T})}),De(w,"renderBrush",function(j){var k=w.props,A=k.margin,T=k.data,O=w.state,P=O.offset,N=O.dataStartIndex,M=O.dataEndIndex,E=O.updateId;return S.cloneElement(j,{key:j.key||"_recharts-brush",onChange:Vf(w.handleBrushChange,j.props.onChange),data:T,x:pe(j.props.x)?j.props.x:P.left,y:pe(j.props.y)?j.props.y:P.top+P.height+P.brushBottom-(A.bottom||0),width:pe(j.props.width)?j.props.width:P.width,startIndex:N,endIndex:M,updateId:"brush-".concat(E)})}),De(w,"renderReferenceElement",function(j,k,A){if(!j)return null;var T=w,O=T.clipPathId,P=w.state,N=P.xAxisMap,M=P.yAxisMap,E=P.offset,R=j.type.defaultProps||{},F=j.props,z=F.xAxisId,q=z===void 0?R.xAxisId:z,L=F.yAxisId,D=L===void 0?R.yAxisId:L;return S.cloneElement(j,{key:j.key||"".concat(k,"-").concat(A),xAxis:N[q],yAxis:M[D],viewBox:{x:E.left,y:E.top,width:E.width,height:E.height},clipPathId:O})}),De(w,"renderActivePoints",function(j){var k=j.item,A=j.activePoint,T=j.basePoint,O=j.childIndex,P=j.isRange,N=[],M=k.props.key,E=k.item.type.defaultProps!==void 0?se(se({},k.item.type.defaultProps),k.item.props):k.item.props,R=E.activeDot,F=E.dataKey,z=se(se({index:O,dataKey:F,cx:A.x,cy:A.y,r:4,fill:_E(k.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},we(R,!1)),Zh(R));return N.push(y.renderActiveDot(R,z,"".concat(M,"-activePoint-").concat(O))),T?N.push(y.renderActiveDot(R,se(se({},z),{},{cx:T.x,cy:T.y}),"".concat(M,"-basePoint-").concat(O))):P&&N.push(null),N}),De(w,"renderGraphicChild",function(j,k,A){var T=w.filterFormatItem(j,k,A);if(!T)return null;var O=w.getTooltipEventType(),P=w.state,N=P.isTooltipActive,M=P.tooltipAxis,E=P.activeTooltipIndex,R=P.activeLabel,F=w.props.children,z=tn(F,Ot),q=T.props,L=q.points,D=q.isRange,W=q.baseLine,B=T.item.type.defaultProps!==void 0?se(se({},T.item.type.defaultProps),T.item.props):T.item.props,$=B.activeDot,Q=B.hide,Z=B.activeBar,fe=B.activeShape,le=!!(!Q&&N&&z&&($||Z||fe)),ue={};O!=="axis"&&z&&z.props.trigger==="click"?ue={onClick:Vf(w.handleItemMouseEnter,j.props.onClick)}:O!=="axis"&&(ue={onMouseLeave:Vf(w.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:Vf(w.handleItemMouseEnter,j.props.onMouseEnter)});var ee=S.cloneElement(j,se(se({},T.props),ue));function te(X){return typeof M.dataKey=="function"?M.dataKey(X.payload):null}if(le)if(E>=0){var ce,J;if(M.dataKey&&!M.allowDuplicatedCategory){var ne=typeof M.dataKey=="function"?te:"payload.".concat(M.dataKey.toString());ce=Jh(L,ne,R),J=D&&W&&Jh(W,ne,R)}else ce=L?.[E],J=D&&W&&W[E];if(fe||Z){var C=j.props.activeIndex!==void 0?j.props.activeIndex:E;return[S.cloneElement(j,se(se(se({},T.props),ue),{},{activeIndex:C})),null,null]}if(!Re(ce))return[ee].concat(Bl(w.renderActivePoints({item:T,activePoint:ce,basePoint:J,childIndex:E,isRange:D})))}else{var G,H=(G=w.getItemByXY(w.state.activeCoordinate))!==null&&G!==void 0?G:{graphicalItem:ee},V=H.graphicalItem,U=V.item,K=U===void 0?j:U,ie=V.childIndex,re=se(se(se({},T.props),ue),{},{activeIndex:ie});return[S.cloneElement(K,re),null,null]}return D?[ee,null,null]:[ee,null]}),De(w,"renderCustomized",function(j,k,A){return S.cloneElement(j,se(se({key:"recharts-customized-".concat(A)},w.props),w.state))}),De(w,"renderMap",{CartesianGrid:{handler:Yf,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Yf},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Yf},YAxis:{handler:Yf},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((x=b.id)!==null&&x!==void 0?x:ao("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=cq(w.triggeredAfterMouseMove,(_=b.throttleDelay)!==null&&_!==void 0?_:1e3/60),w.state={},w}return fNe(y,g),lNe(y,[{key:"componentDidMount",value:function(){var x,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,_=x.children,w=x.data,j=x.height,k=x.layout,A=tn(_,Ot);if(A){var T=A.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,P=p_(this.state,w,T,O),N=this.state.tooltipTicks[T].coordinate,M=(this.state.offset.top+j)/2,E=k==="horizontal",R=E?{x:N,y:M}:{y:N,x:M},F=this.state.formattedGraphicalItems.find(function(q){var L=q.item;return L.type.name==="Scatter"});F&&(R=se(se({},R),F.props.points[T].tooltipPosition),P=F.props.points[T].tooltipPayload);var z={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:O,activePayload:P,activeCoordinate:R};this.setState(z),this.renderCursor(A),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var w,j;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(x){H1([tn(x.children,Ot)],[tn(this.props.children,Ot)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=tn(this.props.children,Ot);if(x&&typeof x.props.shared=="boolean"){var _=x.props.shared?"axis":"item";return s.indexOf(_)>=0?_:a}return a}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var _=this.container,w=_.getBoundingClientRect(),j=Bxe(w),k={chartX:Math.round(x.pageX-j.left),chartY:Math.round(x.pageY-j.top)},A=w.width/_.offsetWidth||1,T=this.inRange(k.chartX,k.chartY,A);if(!T)return null;var O=this.state,P=O.xAxisMap,N=O.yAxisMap,M=this.getTooltipEventType(),E=XD(this.state,this.props.data,this.props.layout,T);if(M!=="axis"&&P&&N){var R=Oa(P).scale,F=Oa(N).scale,z=R&&R.invert?R.invert(k.chartX):null,q=F&&F.invert?F.invert(k.chartY):null;return se(se({},k),{},{xValue:z,yValue:q},E)}return E?se(se({},k),E):null}},{key:"inRange",value:function(x,_){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,k=x/w,A=_/w;if(j==="horizontal"||j==="vertical"){var T=this.state.offset,O=k>=T.left&&k<=T.left+T.width&&A>=T.top&&A<=T.top+T.height;return O?{x:k,y:A}:null}var P=this.state,N=P.angleAxisMap,M=P.radiusAxisMap;if(N&&M){var E=Oa(N);return UI({x:k,y:A},E)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,_=this.getTooltipEventType(),w=tn(x,Ot),j={};w&&_==="axis"&&(w.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=Zh(this.props,this.handleOuterEvent);return se(se({},k),j)}},{key:"addListener",value:function(){ow.on(sw,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){ow.removeListener(sw,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,_,w){for(var j=this.state.formattedGraphicalItems,k=0,A=j.length;k<A;k++){var T=j[k];if(T.item===x||T.props.key===x.key||_===Xi(T.item.type)&&w===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,_=this.state.offset,w=_.left,j=_.top,k=_.height,A=_.width;return I.createElement("defs",null,I.createElement("clipPath",{id:x},I.createElement("rect",{x:w,y:j,height:k,width:A})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(_,w){var j=GD(w,2),k=j[0],A=j[1];return se(se({},_),{},De({},k,A.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(_,w){var j=GD(w,2),k=j[0],A=j[1];return se(se({},_),{},De({},k,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[x])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(x){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[x])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(x){var _=this.state,w=_.formattedGraphicalItems,j=_.activeItem;if(w&&w.length)for(var k=0,A=w.length;k<A;k++){var T=w[k],O=T.props,P=T.item,N=P.type.defaultProps!==void 0?se(se({},P.type.defaultProps),P.props):P.props,M=Xi(P.type);if(M==="Bar"){var E=(O.data||[]).find(function(q){return rEe(x,q)});if(E)return{graphicalItem:T,payload:E}}else if(M==="RadialBar"){var R=(O.data||[]).find(function(q){return UI(x,q)});if(R)return{graphicalItem:T,payload:R}}else if(Og(T,j)||Cg(T,j)||wd(T,j)){var F=MAe({graphicalItem:T,activeTooltipItem:j,itemData:N.data}),z=N.activeIndex===void 0?F:N.activeIndex;return{graphicalItem:se(se({},T),{},{childIndex:z}),payload:wd(T,j)?N.data[F]:T.props.data[F]}}}return null}},{key:"render",value:function(){var x=this;if(!tN(this))return null;var _=this.props,w=_.children,j=_.className,k=_.width,A=_.height,T=_.style,O=_.compact,P=_.title,N=_.desc,M=KD(_,tNe),E=we(M,!1);if(O)return I.createElement(jD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement(K1,Bs({},E,{width:k,height:A,title:P,desc:N}),this.renderClipPath(),nN(w,this.renderMap)));if(this.props.accessibilityLayer){var R,F;E.tabIndex=(R=this.props.tabIndex)!==null&&R!==void 0?R:0,E.role=(F=this.props.role)!==null&&F!==void 0?F:"application",E.onKeyDown=function(q){x.accessibilityManager.keyboardEvent(q)},E.onFocus=function(){x.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return I.createElement(jD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement("div",Bs({className:Le("recharts-wrapper",j),style:se({position:"relative",cursor:"default",width:k,height:A},T)},z,{ref:function(L){x.container=L}}),I.createElement(K1,Bs({},E,{width:k,height:A,title:P,desc:N,style:yNe}),this.renderClipPath(),nN(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(S.Component);De(v,"displayName",r),De(v,"defaultProps",se({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),De(v,"getDerivedStateFromProps",function(g,y){var b=g.dataKey,x=g.data,_=g.children,w=g.width,j=g.height,k=g.layout,A=g.stackOffset,T=g.margin,O=y.dataStartIndex,P=y.dataEndIndex;if(y.updateId===void 0){var N=QD(g);return se(se(se({},N),{},{updateId:0},p(se(se({props:g},N),{},{updateId:0}),y)),{},{prevDataKey:b,prevData:x,prevWidth:w,prevHeight:j,prevLayout:k,prevStackOffset:A,prevMargin:T,prevChildren:_})}if(b!==y.prevDataKey||x!==y.prevData||w!==y.prevWidth||j!==y.prevHeight||k!==y.prevLayout||A!==y.prevStackOffset||!Zs(T,y.prevMargin)){var M=QD(g),E={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},R=se(se({},XD(y,x,k)),{},{updateId:y.updateId+1}),F=se(se(se({},M),E),R);return se(se(se({},F),p(se({props:g},F),y)),{},{prevDataKey:b,prevData:x,prevWidth:w,prevHeight:j,prevLayout:k,prevStackOffset:A,prevMargin:T,prevChildren:_})}if(!H1(_,y.prevChildren)){var z,q,L,D,W=tn(_,Ol),B=W&&(z=(q=W.props)===null||q===void 0?void 0:q.startIndex)!==null&&z!==void 0?z:O,$=W&&(L=(D=W.props)===null||D===void 0?void 0:D.endIndex)!==null&&L!==void 0?L:P,Q=B!==O||$!==P,Z=!Re(x),fe=Z&&!Q?y.updateId:y.updateId+1;return se(se({updateId:fe},p(se(se({props:g},y),{},{updateId:fe,dataStartIndex:B,dataEndIndex:$}),y)),{},{prevChildren:_,dataStartIndex:B,dataEndIndex:$})}return null}),De(v,"renderActiveDot",function(g,y,b){var x;return S.isValidElement(g)?x=S.cloneElement(g,y):Ne(g)?x=g(y):x=I.createElement(gc,y),I.createElement(Be,{className:"recharts-active-dot",key:b},x)});var m=S.forwardRef(function(y,b){return I.createElement(v,Bs({},y,{ref:b}))});return m.displayName=v.displayName,m},ONe=yc({chartName:"LineChart",GraphicalChild:Tn,axisComponents:[{axisType:"xAxis",AxisComp:ir},{axisType:"yAxis",AxisComp:Bt}],formatAxisMap:Pg}),Jc=yc({chartName:"BarChart",GraphicalChild:Ft,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ir},{axisType:"yAxis",AxisComp:Bt}],formatAxisMap:Pg}),CNe=yc({chartName:"PieChart",GraphicalChild:pa,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Za},{axisType:"radiusAxis",AxisComp:is}],formatAxisMap:SU,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),m_=yc({chartName:"RadarChart",GraphicalChild:as,axisComponents:[{axisType:"angleAxis",AxisComp:Za},{axisType:"radiusAxis",AxisComp:is}],formatAxisMap:SU,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),qV=yc({chartName:"AreaChart",GraphicalChild:Rn,axisComponents:[{axisType:"xAxis",AxisComp:ir},{axisType:"yAxis",AxisComp:Bt}],formatAxisMap:Pg}),Od=yc({chartName:"ComposedChart",GraphicalChild:[Tn,Rn,Ft,$g],axisComponents:[{axisType:"xAxis",AxisComp:ir},{axisType:"yAxis",AxisComp:Bt},{axisType:"zAxis",AxisComp:Dg}],formatAxisMap:Pg});function TNe({data:e}){return u.jsx(br,{width:"100%",height:"100%",children:u.jsxs(qV,{data:e,children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"colorOverall",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:"hsl(var(--primary))",stopOpacity:.3}),u.jsx("stop",{offset:"95%",stopColor:"hsl(var(--primary))",stopOpacity:0})]})}),u.jsx(ir,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"},dy:10,interval:"preserveStartEnd"}),u.jsx(Bt,{hide:!0,domain:[0,100]}),u.jsx(Ot,{contentStyle:{backgroundColor:"hsl(var(--card))",borderRadius:"12px",border:"1px solid hsl(var(--border))",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}}),u.jsx(Rn,{type:"monotone",dataKey:"overall",stroke:"hsl(var(--primary))",strokeWidth:3,fillOpacity:1,fill:"url(#colorOverall)"})]})})}function PNe({stats:e}){const t=e.map(r=>({subject:r.title,A:r.completionRate,fullMark:100}));return e.length<3?u.jsx("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-xl h-[300px] flex items-center justify-center text-center",children:u.jsxs("p",{className:"text-muted-foreground text-sm",children:["Add at least 3 habits ",u.jsx("br",{})," to unlock Radar view."]})}):u.jsx("div",{className:"w-full h-full min-h-0",children:u.jsx(br,{width:"100%",height:"100%",children:u.jsxs(m_,{cx:"50%",cy:"50%",outerRadius:"70%",data:t,children:[u.jsx(Tp,{stroke:"hsl(var(--border))"}),u.jsx(Za,{dataKey:"subject",tick:{fill:"hsl(var(--muted-foreground))",fontSize:10}}),u.jsx(as,{name:"Completion",dataKey:"A",stroke:"hsl(var(--primary))",strokeWidth:2,fill:"hsl(var(--primary))",fillOpacity:.4})]})})})}function NNe({data:e}){const t=Math.max(...e.map(n=>n.rate)),r=({active:n,payload:i,label:a})=>n&&i&&i.length?u.jsxs("div",{className:"bg-background/95 backdrop-blur text-xs p-2 rounded-lg border border-border shadow-xl",children:[u.jsx("p",{className:"font-semibold mb-1",children:a}),u.jsxs("p",{className:"text-primary space-x-2",children:[u.jsx("span",{children:"Success Rate:"}),u.jsxs("span",{className:"font-mono font-bold",children:[i[0].value,"%"]})]})]}):null;return u.jsx("div",{className:"w-full h-full min-h-[200px]",children:u.jsx(br,{width:"100%",height:"100%",children:u.jsxs(Jc,{data:e,margin:{top:10,right:0,left:0,bottom:0},children:[u.jsx(ir,{dataKey:"dayName",axisLine:!1,tickLine:!1,tick:{fill:"hsl(var(--muted-foreground))",fontSize:10},tickFormatter:n=>n.slice(0,3).toUpperCase(),dy:10}),u.jsx(Bt,{hide:!0,domain:[0,100]}),u.jsx(Ot,{content:u.jsx(r,{}),cursor:{fill:"hsl(var(--muted)/0.2)"}}),u.jsx(Ft,{dataKey:"rate",radius:[4,4,0,0],maxBarSize:40,children:e.map((n,i)=>u.jsx(dc,{fill:n.rate===t&&n.rate>0?"hsl(var(--primary))":"hsl(var(--primary)/0.3)",className:"transition-all duration-300 hover:opacity-80"},`cell-${i}`))})]})})})}function RNe({comparisons:e,goals:t}){const[r,n]=S.useState("month");return u.jsxs("div",{className:"glass-panel rounded-3xl p-6 animate-fade-in",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-display font-semibold flex items-center gap-2",children:[u.jsx(Ar,{className:"w-5 h-5 text-primary"}),"Confronto Temporale"]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Analizza come stai andando rispetto al passato."})]}),u.jsx(Js,{value:r,onValueChange:i=>n(i),className:"w-full sm:w-auto",children:u.jsxs(qo,{className:"grid w-full grid-cols-3 sm:w-[300px]",children:[u.jsx(yt,{value:"week",children:"Settimana"}),u.jsx(yt,{value:"month",children:"Mese"}),u.jsx(yt,{value:"year",children:"Anno"})]})})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:t.map(i=>{const a=e.find(c=>c.habitId===i.id);if(!a)return null;const o=a[r],s=o.trend==="neutral"||o.change===0,l=o.trend==="up";return u.jsxs("div",{className:"bg-card/50 border border-border/50 rounded-xl p-4 flex items-center justify-between group hover:bg-card/80 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center opacity-80",style:{backgroundColor:`${i.color}20`,color:i.color},children:u.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:i.color}})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-foreground",children:i.title}),u.jsx("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:u.jsxs("span",{children:["Precedente: ",o.previous,"%"]})})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"text-xl font-display font-bold text-foreground",children:[o.current,"%"]}),u.jsxs("div",{className:ae("flex items-center justify-end gap-1 text-xs font-medium",s?"text-muted-foreground":l?"text-emerald-500":"text-rose-500"),children:[s?u.jsx(Zf,{className:"w-3 h-3"}):l?u.jsx(e9,{className:"w-3 h-3"}):u.jsx(ZH,{className:"w-3 h-3"}),u.jsxs("span",{children:[o.change>0?"+":"",o.change,"%"]})]})]})]},i.id)})})]})}function INe({criticalHabits:e}){const t=e.filter(r=>r.completionRate<85&&r.completionRate>0).sort((r,n)=>r.completionRate-n.completionRate).slice(0,3);return t.length===0?null:u.jsxs("div",{className:"glass-panel rounded-3xl p-6 animate-fade-in space-y-4",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-display font-semibold flex items-center gap-2",children:[u.jsx(Gr,{className:"w-5 h-5 text-primary"}),"Aree di Miglioramento"]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Abitudini che richiedono pi attenzione e i loro giorni critici."})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(r=>u.jsxs("div",{className:"bg-card/50 border border-destructive/10 rounded-xl p-4 flex flex-col gap-3 group hover:border-destructive/30 transition-all",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:r.color}}),u.jsx("span",{className:"font-semibold text-foreground",children:r.title})]}),u.jsxs("span",{className:ae("text-xs font-bold px-2 py-0.5 rounded-full",r.completionRate<50?"bg-destructive/10 text-destructive":"bg-warning/10 text-warning"),children:[r.completionRate,"% succ."]})]}),u.jsxs("div",{className:"flex items-start gap-3 bg-background/50 rounded-lg p-3",children:[u.jsx(qs,{className:"w-4 h-4 text-destructive mt-0.5 shrink-0"}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider font-bold",children:"Giorno Nero"}),u.jsx("p",{className:"font-display font-semibold text-lg text-foreground",children:r.worstDay}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["Solo il ",u.jsxs("span",{className:"text-destructive font-bold",children:[r.worstDayRate,"%"]})," di completamento"]})]})]})]},r.habitId))})]})}const MNe=()=>ji({queryKey:["habit-completion-history"],queryFn:async()=>{const e=Xe(Kt(new Date,30),"yyyy-MM-dd"),{data:t,error:r}=await be.from("goal_logs").select("date, status").gte("date",e);if(r)throw r;const n=t,i={};return n?.forEach(a=>{const o=a.date;i[o]||(i[o]={total:0,done:0}),i[o].total+=1,a.status==="done"&&(i[o].done+=1)}),i}}),DNe=()=>{const{data:e}=fme(),{data:t}=MNe(),{theme:r}=I_();if(!e||!t)return u.jsx(qe,{className:"col-span-1 lg:col-span-2 h-[400px] flex items-center justify-center",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});const n=e.slice(0,14).reverse().map(a=>{const o=t[a.date]||{total:0,done:0},s=o.total>0?Math.round(o.done/o.total*100):0;return{date:Xe(nne(a.date),"dd/MM"),fullDate:a.date,mood:a.mood_score,energy:a.energy_score,productivity:s}}),i=r==="dark";return u.jsxs(qe,{className:"col-span-1 lg:col-span-2 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[u.jsx(et,{children:u.jsx(tt,{children:"Mood & Energy vs Productivity"})}),u.jsx(Ve,{className:"h-[350px]",children:u.jsx(br,{width:"100%",height:"100%",children:u.jsxs(Od,{data:n,children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"colorProductivity",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.3}),u.jsx("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})]})}),u.jsx(vn,{strokeDasharray:"3 3",opacity:.2,vertical:!1}),u.jsx(ir,{dataKey:"date",tick:{fontSize:12,fill:i?"#A0A0A0":"#666"},axisLine:!1,tickLine:!1}),u.jsx(Bt,{yAxisId:"left",domain:[0,10],tickCount:6,tick:{fontSize:12,fill:i?"#A0A0A0":"#666"},axisLine:!1,tickLine:!1,label:{value:"Score (1-10)",angle:-90,position:"insideLeft",style:{fill:i?"#A0A0A0":"#666"}}}),u.jsx(Bt,{yAxisId:"right",orientation:"right",domain:[0,100],tick:{fontSize:12,fill:"#8884d8"},axisLine:!1,tickLine:!1,unit:"%"}),u.jsx(Ot,{contentStyle:{backgroundColor:i?"#1f2937":"#fff",borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"}}),u.jsx(sn,{wrapperStyle:{paddingTop:"10px"}}),u.jsx(Rn,{yAxisId:"right",type:"monotone",dataKey:"productivity",fill:"url(#colorProductivity)",stroke:"#8884d8",strokeWidth:3,name:"Habit Completion %"}),u.jsx(Tn,{yAxisId:"left",type:"monotone",dataKey:"mood",stroke:"#10b981",strokeWidth:3,dot:{r:4,strokeWidth:2},activeDot:{r:6},name:"Mood"}),u.jsx(Tn,{yAxisId:"left",type:"monotone",dataKey:"energy",stroke:"#f59e0b",strokeWidth:3,strokeDasharray:"5 5",dot:{r:4,strokeWidth:2},name:"Energy"})]})})})]})},$Ne=({correlation:e})=>{const{theme:t}=I_(),r=t==="dark",n=[{category:"Completato",mood:Math.round(e.avgMoodWhenCompleted*10)/10,energy:Math.round(e.avgEnergyWhenCompleted*10)/10},{category:"Mancato",mood:Math.round(e.avgMoodWhenMissed*10)/10,energy:Math.round(e.avgEnergyWhenMissed*10)/10}],i=[{range:"Basso",rangeFull:"Basso (1-4)",mood:Math.round(e.completionRateByMood.low),energy:Math.round(e.completionRateByEnergy.low)},{range:"Medio",rangeFull:"Medio (5-7)",mood:Math.round(e.completionRateByMood.medium),energy:Math.round(e.completionRateByEnergy.medium)},{range:"Alto",rangeFull:"Alto (8-10)",mood:Math.round(e.completionRateByMood.high),energy:Math.round(e.completionRateByEnergy.high)}],a=()=>e.moodCorrelation>.3?u.jsx(Ar,{className:"w-4 h-4 text-green-500"}):e.moodCorrelation<-.3?u.jsx(pi,{className:"w-4 h-4 text-red-500"}):u.jsx(Zf,{className:"w-4 h-4 text-gray-500"}),o=()=>e.energyCorrelation>.3?u.jsx(Ar,{className:"w-4 h-4 text-green-500"}):e.energyCorrelation<-.3?u.jsx(pi,{className:"w-4 h-4 text-red-500"}):u.jsx(Zf,{className:"w-4 h-4 text-gray-500"}),s=l=>{const c=Math.abs(l);return c>=.7?"Forte":c>=.4?"Moderata":c>=.2?"Debole":"Nessuna"};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[u.jsx(qe,{className:"glass-panel",children:u.jsxs(Ve,{className:"p-4 text-center",children:[u.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Correlazione Mood"}),u.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[a(),u.jsxs("p",{className:"text-2xl font-bold font-mono",children:[(e.moodCorrelation*100).toFixed(0),"%"]})]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:s(e.moodCorrelation)})]})}),u.jsx(qe,{className:"glass-panel",children:u.jsxs(Ve,{className:"p-4 text-center",children:[u.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Correlazione Energia"}),u.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[o(),u.jsxs("p",{className:"text-2xl font-bold font-mono",children:[(e.energyCorrelation*100).toFixed(0),"%"]})]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:s(e.energyCorrelation)})]})}),u.jsx(qe,{className:"glass-panel",children:u.jsxs(Ve,{className:"p-4 text-center",children:[u.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Mood Medio ()"}),u.jsx("p",{className:"text-2xl font-bold",style:{color:e.habitColor},children:e.avgMoodWhenCompleted.toFixed(1)}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"su 10"})]})}),u.jsx(qe,{className:"glass-panel",children:u.jsxs(Ve,{className:"p-4 text-center",children:[u.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Energia Media ()"}),u.jsx("p",{className:"text-2xl font-bold",style:{color:e.habitColor},children:e.avgEnergyWhenCompleted.toFixed(1)}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"su 10"})]})})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.isMoodSensitive&&u.jsxs("div",{className:"glass-panel px-3 py-1.5 rounded-full flex items-center gap-2 border border-orange-500/30",children:[u.jsx(Hi,{className:"w-3 h-3 text-orange-500"}),u.jsx("span",{className:"text-xs font-medium text-orange-500",children:"Sensibile al Mood"})]}),e.isEnergySensitive&&u.jsxs("div",{className:"glass-panel px-3 py-1.5 rounded-full flex items-center gap-2 border border-yellow-500/30",children:[u.jsx(Hi,{className:"w-3 h-3 text-yellow-500"}),u.jsx("span",{className:"text-xs font-medium text-yellow-500",children:"Sensibile all'Energia"})]}),e.isResilient&&u.jsxs("div",{className:"glass-panel px-3 py-1.5 rounded-full flex items-center gap-2 border border-green-500/30",children:[u.jsx(Ar,{className:"w-3 h-3 text-green-500"}),u.jsx("span",{className:"text-xs font-medium text-green-500",children:"Resiliente"})]}),!e.isMoodSensitive&&!e.isEnergySensitive&&!e.isResilient&&u.jsxs("div",{className:"glass-panel px-3 py-1.5 rounded-full flex items-center gap-2 border border-gray-500/30",children:[u.jsx(Zf,{className:"w-3 h-3 text-gray-500"}),u.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Neutrale"})]})]}),u.jsxs(qe,{className:"glass-panel shadow-lg hover:shadow-xl transition-shadow duration-300",children:[u.jsx(et,{children:u.jsx(tt,{className:"text-base sm:text-lg",children:"Completato vs Mancato"})}),u.jsx(Ve,{className:"h-[300px]",children:u.jsx(br,{width:"100%",height:"100%",children:u.jsxs(Od,{data:n,children:[u.jsx(vn,{strokeDasharray:"3 3",opacity:.2,vertical:!1}),u.jsx(ir,{dataKey:"category",tick:{fontSize:12,fill:r?"#A0A0A0":"#666"},axisLine:!1,tickLine:!1}),u.jsx(Bt,{domain:[0,10],tick:{fontSize:12,fill:r?"#A0A0A0":"#666"},axisLine:!1,tickLine:!1,label:{value:"Score (1-10)",angle:-90,position:"insideLeft",style:{fill:r?"#A0A0A0":"#666"}}}),u.jsx(Ot,{contentStyle:{backgroundColor:r?"#1f2937":"#fff",borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"}}),u.jsx(sn,{wrapperStyle:{paddingTop:"10px"}}),u.jsx(Ft,{dataKey:"mood",fill:"#10b981",name:"Mood",radius:[8,8,0,0]}),u.jsx(Ft,{dataKey:"energy",fill:"#f59e0b",name:"Energia",radius:[8,8,0,0]})]})})})]}),u.jsxs(qe,{className:"glass-panel shadow-lg hover:shadow-xl transition-shadow duration-300",children:[u.jsxs(et,{children:[u.jsx(tt,{className:"text-base sm:text-lg",children:"Performance per Livello"}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Basso (1-4)  Medio (5-7)  Alto (8-10)"})]}),u.jsx(Ve,{className:"h-[320px]",children:u.jsx(br,{width:"100%",height:"100%",children:u.jsxs(Od,{data:i,margin:{top:10,right:20,bottom:20,left:0},children:[u.jsx(vn,{strokeDasharray:"3 3",opacity:.2,vertical:!1}),u.jsx(ir,{dataKey:"range",tick:{fontSize:12,fill:r?"#A0A0A0":"#666"},axisLine:!1,tickLine:!1}),u.jsx(Bt,{domain:[0,100],tick:{fontSize:12,fill:r?"#A0A0A0":"#666"},axisLine:!1,tickLine:!1,unit:"%"}),u.jsx(Ot,{contentStyle:{backgroundColor:r?"#1f2937":"#fff",borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"},formatter:(l,c,d)=>[`${l}%`,c==="mood"?"Con Mood":"Con Energia"],labelFormatter:l=>{const c=i.find(d=>d.range===l);return c?c.rangeFull:l}}),u.jsx(sn,{wrapperStyle:{paddingTop:"10px"}}),u.jsx(Tn,{type:"monotone",dataKey:"mood",stroke:"#10b981",strokeWidth:3,dot:{r:5,strokeWidth:2},activeDot:{r:7},name:"Con Mood"}),u.jsx(Tn,{type:"monotone",dataKey:"energy",stroke:"#f59e0b",strokeWidth:3,strokeDasharray:"5 5",dot:{r:5,strokeWidth:2},activeDot:{r:7},name:"Con Energia"})]})})})]}),u.jsx(qe,{className:"glass-panel",children:u.jsx(Ve,{className:"p-4",children:u.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["Analisi basata su ",u.jsx("strong",{children:e.totalDaysWithMoodData})," giorni con dati mood/energia (",e.daysCompleted," completati, ",e.daysMissed," mancati)"]})})})]})},LNe=({correlations:e})=>{const t=e.filter(i=>i.totalDaysWithMoodData>=5);if(t.length===0)return u.jsx(qe,{className:"glass-panel",children:u.jsx(Ve,{className:"p-8 text-center",children:u.jsx("p",{className:"text-muted-foreground",children:"Non ci sono abbastanza dati per mostrare la matrice. Registra mood ed energie per almeno 5 giorni."})})});const r=i=>i>=80?"bg-green-500/90":i>=70?"bg-lime-500/90":i>=50?"bg-yellow-500/90":i>=30?"bg-orange-500/90":i>0?"bg-red-500/90":"bg-gray-700/90",n=i=>i>=50?"text-white font-bold":"text-foreground font-bold";return u.jsxs(qe,{className:"glass-panel shadow-lg hover:shadow-xl transition-shadow duration-300",children:[u.jsxs(et,{children:[u.jsx(tt,{className:"text-base sm:text-lg",children:"Performance per Livello"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Completamento (%) per mood ed energia"})]}),u.jsxs(Ve,{className:"overflow-x-auto",children:[u.jsxs("div",{className:"hidden md:block min-w-[700px]",children:[u.jsxs("div",{className:"grid grid-cols-[minmax(120px,1fr)_3fr_1px_3fr] gap-3 mb-4 pb-3 border-b border-white/10",children:[u.jsx("div",{}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-sm font-bold text-green-500 mb-2",children:"MOOD"}),u.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[u.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:"Basso"}),u.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:"Medio"}),u.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:"Alto"})]})]}),u.jsx("div",{className:"w-px bg-gradient-to-b from-transparent via-white/20 to-transparent"}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-sm font-bold text-amber-500 mb-2",children:"ENERGIA"}),u.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[u.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:"Bassa"}),u.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:"Media"}),u.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:"Alta"})]})]})]}),u.jsx("div",{className:"space-y-3",children:t.map(i=>u.jsxs("div",{className:"grid grid-cols-[minmax(120px,1fr)_3fr_1px_3fr] gap-3 items-center",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0 pr-2",children:[u.jsx("div",{className:"w-4 h-4 rounded-md shrink-0",style:{backgroundColor:i.habitColor}}),u.jsx("span",{className:"text-sm font-semibold truncate",title:i.habitTitle,children:i.habitTitle})]}),u.jsx("div",{className:"grid grid-cols-3 gap-3",children:["low","medium","high"].map(a=>{const o=Math.round(i.completionRateByMood[a]);return u.jsx("div",{className:ae("rounded-xl p-3 text-center transition-all duration-200 cursor-pointer border-2 border-transparent hover:scale-110 hover:shadow-2xl hover:border-white/30 hover:brightness-110",r(o),n(o)),title:`${i.habitTitle}: ${o}% con mood ${a==="low"?"basso":a==="medium"?"medio":"alto"}`,children:u.jsxs("span",{className:"text-sm font-bold",children:[o,"%"]})},`mood-${a}`)})}),u.jsx("div",{className:"w-px bg-gradient-to-b from-transparent via-white/10 to-transparent h-full"}),u.jsx("div",{className:"grid grid-cols-3 gap-3",children:["low","medium","high"].map(a=>{const o=Math.round(i.completionRateByEnergy[a]);return u.jsx("div",{className:ae("rounded-xl p-3 text-center transition-all duration-200 cursor-pointer border-2 border-transparent hover:scale-110 hover:shadow-2xl hover:border-white/30 hover:brightness-110",r(o),n(o)),title:`${i.habitTitle}: ${o}% con energia ${a==="low"?"bassa":a==="medium"?"media":"alta"}`,children:u.jsxs("span",{className:"text-sm font-bold",children:[o,"%"]})},`energy-${a}`)})})]},i.habitId))})]}),u.jsx("div",{className:"md:hidden space-y-4",children:t.map(i=>u.jsxs("div",{className:"glass-panel rounded-2xl p-4 border border-white/10",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx("div",{className:"w-5 h-5 rounded-md shrink-0",style:{backgroundColor:i.habitColor}}),u.jsx("h4",{className:"text-base font-bold",children:i.habitTitle})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("p",{className:"text-xs font-bold text-green-500 mb-2",children:"MOOD"}),u.jsx("div",{className:"grid grid-cols-3 gap-2",children:["low","medium","high"].map(a=>{const o=Math.round(i.completionRateByMood[a]),s=a==="low"?"Basso":a==="medium"?"Medio":"Alto";return u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:ae("rounded-lg p-3 mb-1",r(o),n(o)),children:u.jsxs("span",{className:"text-base font-bold",children:[o,"%"]})}),u.jsx("span",{className:"text-xs text-muted-foreground",children:s})]},`mood-${a}`)})})]}),u.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-white/10 to-transparent mb-4"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-bold text-amber-500 mb-2",children:"ENERGIA"}),u.jsx("div",{className:"grid grid-cols-3 gap-2",children:["low","medium","high"].map(a=>{const o=Math.round(i.completionRateByEnergy[a]),s=a==="low"?"Bassa":a==="medium"?"Media":"Alta";return u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:ae("rounded-lg p-3 mb-1",r(o),n(o)),children:u.jsxs("span",{className:"text-base font-bold",children:[o,"%"]})}),u.jsx("span",{className:"text-xs text-muted-foreground",children:s})]},`energy-${a}`)})})]})]},i.habitId))}),u.jsxs("div",{className:"mt-6 pt-4 border-t border-white/10",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 mb-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-6 h-6 rounded bg-green-500/90"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"Ottimo (80%)"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-6 h-6 rounded bg-lime-500/90"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"Buono (70-79%)"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-6 h-6 rounded bg-yellow-500/90"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"Medio (50-69%)"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-6 h-6 rounded bg-orange-500/90"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"Basso (30-49%)"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-6 h-6 rounded bg-red-500/90"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"Critico (<30%)"})]})]}),u.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"I colori indicano la performance  Passa il mouse per i dettagli"})]})]})]})},zNe=({insights:e})=>e.moodSensitiveHabits.length>0||e.energySensitiveHabits.length>0||e.resilientHabits.length>0?u.jsxs("div",{className:"space-y-4",children:[e.moodSensitiveHabits.length>0&&u.jsxs(qe,{className:"glass-panel border border-orange-500/30 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[u.jsxs(et,{children:[u.jsxs(tt,{className:"text-base sm:text-lg flex items-center gap-2",children:[u.jsx(Hi,{className:"w-5 h-5 text-orange-500"}),"Mood"]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Queste abitudini hanno bisogno di un buon mood per essere completate"})]}),u.jsx(Ve,{className:"space-y-3",children:e.moodSensitiveHabits.map((r,n)=>u.jsxs("div",{className:"glass-card rounded-xl p-3 flex items-center justify-between hover:bg-white/5 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center shrink-0",style:{backgroundColor:`${r.habitColor}20`,borderColor:`${r.habitColor}40`,borderWidth:"2px"},children:u.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:r.habitColor}})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-sm",children:r.habitTitle}),u.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[u.jsx(XE,{className:"w-3 h-3"}),u.jsxs("span",{children:[Math.round(r.completionRateByMood.low),"% con mood basso"]}),u.jsx(J5,{className:"w-3 h-3 ml-2"}),u.jsxs("span",{children:[Math.round(r.completionRateByMood.high),"% con mood alto"]})]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-xs text-muted-foreground",children:"Drop"}),u.jsxs("p",{className:"text-lg font-bold text-orange-500",children:[Math.round(r.completionRateByMood.high-r.completionRateByMood.low),"%"]})]})]},r.habitId))})]}),e.energySensitiveHabits.length>0&&u.jsxs(qe,{className:"glass-panel border border-yellow-500/30 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[u.jsxs(et,{children:[u.jsxs(tt,{className:"text-base sm:text-lg flex items-center gap-2",children:[u.jsx(Gi,{className:"w-5 h-5 text-yellow-500"}),"Energia"]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Queste abitudini richiedono alta energia per essere completate"})]}),u.jsx(Ve,{className:"space-y-3",children:e.energySensitiveHabits.map((r,n)=>u.jsxs("div",{className:"glass-card rounded-xl p-3 flex items-center justify-between hover:bg-white/5 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center shrink-0",style:{backgroundColor:`${r.habitColor}20`,borderColor:`${r.habitColor}40`,borderWidth:"2px"},children:u.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:r.habitColor}})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-sm",children:r.habitTitle}),u.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[u.jsx(HE,{className:"w-3 h-3"}),u.jsxs("span",{children:[Math.round(r.completionRateByEnergy.low),"% con energia bassa"]}),u.jsx(t9,{className:"w-3 h-3 ml-2"}),u.jsxs("span",{children:[Math.round(r.completionRateByEnergy.high),"% con energia alta"]})]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-xs text-muted-foreground",children:"Drop"}),u.jsxs("p",{className:"text-lg font-bold text-yellow-500",children:[Math.round(r.completionRateByEnergy.high-r.completionRateByEnergy.low),"%"]})]})]},r.habitId))})]}),e.resilientHabits.length>0&&u.jsxs(qe,{className:"glass-panel border border-green-500/30 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[u.jsxs(et,{children:[u.jsxs(tt,{className:"text-base sm:text-lg flex items-center gap-2",children:[u.jsx(X5,{className:"w-5 h-5 text-green-500"}),"Resilienti"]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Queste abitudini vengono mantenute anche quando mood ed energia sono bassi"})]}),u.jsx(Ve,{className:"space-y-3",children:e.resilientHabits.map((r,n)=>u.jsxs("div",{className:"glass-card rounded-xl p-3 flex items-center justify-between hover:bg-white/5 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center shrink-0",style:{backgroundColor:`${r.habitColor}20`,borderColor:`${r.habitColor}40`,borderWidth:"2px"},children:u.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:r.habitColor}})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-sm",children:r.habitTitle}),u.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(XE,{className:"w-3 h-3"}),u.jsxs("span",{children:["Mood: ",Math.round(r.completionRateByMood.low),"%"]})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(HE,{className:"w-3 h-3"}),u.jsxs("span",{children:["Energia: ",Math.round(r.completionRateByEnergy.low),"%"]})]})]})]})]}),u.jsxs("div",{className:"flex items-center gap-1 text-green-500",children:[u.jsx(Ar,{className:"w-5 h-5"}),u.jsx("span",{className:"text-xs font-bold",children:"Stabile"})]})]},r.habitId))})]}),u.jsxs(qe,{className:"glass-panel border border-primary/30",children:[u.jsx(et,{children:u.jsx(tt,{className:"text-base sm:text-lg",children:" Suggerimenti"})}),u.jsx(Ve,{children:u.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.moodSensitiveHabits.length>0&&u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-orange-500 shrink-0",children:""}),u.jsx("span",{children:"Pianifica le abitudini sensibili al mood nei momenti della giornata in cui ti senti meglio"})]}),e.energySensitiveHabits.length>0&&u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-yellow-500 shrink-0",children:""}),u.jsx("span",{children:"Esegui le abitudini che richiedono energia al mattino o dopo una pausa rigenerante"})]}),e.resilientHabits.length>0&&u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-green-500 shrink-0",children:""}),u.jsx("span",{children:"Le abitudini resilienti sono ottime da mantenere anche nei giorni difficili"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-primary shrink-0",children:""}),u.jsx("span",{children:"Monitora il tuo mood ed energia quotidianamente per ottenere insights pi accurati"})]})]})})]})]}):u.jsx(qe,{className:"glass-panel",children:u.jsx(Ve,{className:"p-8 text-center",children:u.jsx("p",{className:"text-muted-foreground",children:"Non ci sono abbastanza dati per generare insights. Continua a tracciare le tue abitudini e il tuo mood!"})})});function FNe({habitStats:e}){const t=S.useMemo(()=>{if(e.length===0)return null;const r=[...e].filter(f=>f.worstStreak>0).sort((f,h)=>h.worstStreak-f.worstStreak).slice(0,3);if(r.length===0)return null;const n=r.map(f=>{const h=Math.round(30*(100-f.completionRate)/100);return{habitId:f.id,title:f.title,color:f.color,worstStreak:f.worstStreak,failureFrequency:h,completionRate:f.completionRate}}),i=e.filter(f=>f.worstStreak>0&&f.longestStreak>0).map(f=>{const h=f.worstStreak>0?Math.round(f.worstStreak*(100-f.completionRate)/100):0;return{habitId:f.id,title:f.title,color:f.color,recoveryTime:Math.max(h,1),worstStreak:f.worstStreak}}).sort((f,h)=>f.recoveryTime-h.recoveryTime),a=i.length>0?Math.round(i.reduce((f,h)=>f+h.recoveryTime,0)/i.length):0,o=i.slice(0,3),s=e.filter(f=>f.worstStreak>0).map(f=>{const h=f.worstStreak>0?Math.round(f.longestStreak/f.worstStreak*100):999;let p;return h>=300?p="excellent":h>=150?p="good":p="attention",{habitId:f.id,title:f.title,color:f.color,best:f.longestStreak,worst:f.worstStreak,gap:h,status:p}}).sort((f,h)=>f.gap-h.gap).slice(0,3),l=[],c=r[0];c&&c.worstStreak>=7&&l.push({icon:"",title:`Focus su "${c.title}"`,description:`Hai passato ${c.worstStreak} giorni consecutivi senza completare questa abitudine`,action:"Considera di ridurre la difficolt o impostare promemoria extra"});const d=n.find(f=>f.completionRate<50);if(d&&l.push({icon:"",title:"Tasso di Completamento Basso",description:`"${d.title}" ha solo ${d.completionRate}% di successo`,action:"Prova a semplificare l'abitudine o renderla pi piccola"}),o.length>0&&o[0].recoveryTime<=3&&l.push({icon:"",title:"Ottima Capacit di Recupero",description:`Recuperi velocemente dopo i fallimenti (media ${a} giorni)`,action:"Continua cos - usa la stessa strategia per altre abitudini!"}),n.length>=2){const f=n.reduce((h,p)=>h+p.failureFrequency,0);l.push({icon:"",title:"Pattern Generale",description:`In media fallisci ~${Math.round(f/n.length)} volte al mese`,action:"Identifica i trigger comuni e crea strategie preventive"})}return{top3Worst:r,failureAnalysis:n,avgRecoveryTime:a,fastestRecoverers:o,comparisons:s,suggestions:l}},[e]);return t?u.jsxs("div",{className:"space-y-6 animate-fade-in",children:[u.jsx("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-xl bg-destructive/10 flex items-center justify-center shrink-0",children:u.jsx(pi,{className:"w-5 h-5 text-destructive"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-display font-semibold text-foreground",children:"Analisi Worst Streaks"}),u.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Analisi dettagliata delle serie negative per identificare pattern e migliorare."})]})]})}),u.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(Gr,{className:"w-5 h-5 text-destructive"}),u.jsx("h4",{className:"font-display font-semibold text-foreground",children:"Abitudini Critiche"}),u.jsx(ja,{children:u.jsxs(Ao,{children:[u.jsx(Oo,{asChild:!0,children:u.jsx("button",{className:"ml-1",children:u.jsx(_c,{className:"w-4 h-4 text-muted-foreground hover:text-foreground transition-colors"})})}),u.jsx(ka,{className:"max-w-xs",children:u.jsx("p",{className:"text-sm",children:"Le 3 abitudini con le serie di non completamento pi lunghe. Queste richiedono pi attenzione per evitare l'abbandono."})})]})}),u.jsx("span",{className:"text-xs text-muted-foreground ml-auto",children:"Top 3 Worst Streaks"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:t.top3Worst.map((r,n)=>u.jsxs("div",{className:"bg-card/50 border border-destructive/20 rounded-xl p-4 relative overflow-hidden group hover:border-destructive/40 transition-all",children:[u.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 rounded-full bg-destructive/20 flex items-center justify-center",children:u.jsx("span",{className:"text-xs font-bold text-destructive",children:n+1})}),u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:r.color}}),u.jsx("span",{className:"font-semibold text-foreground text-sm truncate",children:r.title})]}),u.jsxs("div",{className:"bg-background/50 rounded-lg p-3 text-center",children:[u.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Worst Streak"}),u.jsx("p",{className:"text-3xl font-bold font-mono text-destructive",children:r.worstStreak}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"giorni consecutivi"})]})]},r.id))})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(F5,{className:"w-5 h-5 text-orange-500"}),u.jsx("h4",{className:"font-display font-semibold text-foreground",children:"Analisi Fallimenti"}),u.jsx(ja,{children:u.jsxs(Ao,{children:[u.jsx(Oo,{asChild:!0,children:u.jsx("button",{className:"ml-1",children:u.jsx(_c,{className:"w-4 h-4 text-muted-foreground hover:text-foreground transition-colors"})})}),u.jsx(ka,{className:"max-w-xs",children:u.jsx("p",{className:"text-sm",children:"Mostra pattern e frequenza dei tuoi fallimenti per capire quando e quanto spesso abbandoni le abitudini."})})]})})]}),u.jsx("div",{className:"space-y-3",children:t.failureAnalysis.map(r=>u.jsxs("div",{className:"bg-background/50 rounded-lg p-3",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:r.color}}),u.jsx("span",{className:"text-sm font-medium truncate",children:r.title})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-muted-foreground mb-1",children:"Worst Streak"}),u.jsxs("p",{className:"font-bold text-destructive",children:[r.worstStreak," giorni"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-muted-foreground mb-1",children:"Freq. Fallimenti"}),u.jsxs("p",{className:"font-bold text-orange-500",children:["~",r.failureFrequency,"/mese"]})]})]})]},r.habitId))})]}),u.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(Ha,{className:"w-5 h-5 text-primary"}),u.jsx("h4",{className:"font-display font-semibold text-foreground",children:"Pattern di Recupero"}),u.jsx(ja,{children:u.jsxs(Ao,{children:[u.jsx(Oo,{asChild:!0,children:u.jsx("button",{className:"ml-1",children:u.jsx(_c,{className:"w-4 h-4 text-muted-foreground hover:text-foreground transition-colors"})})}),u.jsx(ka,{className:"max-w-xs",children:u.jsx("p",{className:"text-sm",children:"Mostra quanto velocemente riesci a recuperare dopo un periodo di fallimenti e quali abitudini ripristini pi facilmente."})})]})})]}),u.jsxs("div",{className:"bg-card/50 rounded-xl p-4 mb-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Tempo Medio Recupero"}),u.jsxs("span",{className:"text-sm font-bold text-foreground",children:[t.avgRecoveryTime," giorni"]})]}),u.jsx("div",{className:"h-2 bg-secondary rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-gradient-to-r from-primary to-green-500 transition-all duration-500",style:{width:`${Math.min(t.avgRecoveryTime/14*100,100)}%`}})}),u.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:t.avgRecoveryTime<=5?" Eccellente!":t.avgRecoveryTime<=10?" Buono":" Da migliorare"})]}),t.fastestRecoverers.length>0&&u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-3",children:" Recuperatori Veloci"}),t.fastestRecoverers.map(r=>u.jsxs("div",{className:"bg-background/50 rounded-lg p-2 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("div",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:r.color}}),u.jsx("span",{className:"text-sm truncate",children:r.title})]}),u.jsxs("span",{className:"text-xs font-bold text-green-500 shrink-0 ml-2",children:[r.recoveryTime," gg"]})]},r.habitId))]})]})]}),u.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(Ar,{className:"w-5 h-5 text-primary"}),u.jsx("h4",{className:"font-display font-semibold text-foreground",children:"Confronto Performance"}),u.jsx(ja,{children:u.jsxs(Ao,{children:[u.jsx(Oo,{asChild:!0,children:u.jsx("button",{className:"ml-1",children:u.jsx(_c,{className:"w-4 h-4 text-muted-foreground hover:text-foreground transition-colors"})})}),u.jsx(ka,{className:"max-w-xs",children:u.jsx("p",{className:"text-sm",children:"Mostra le 3 abitudini con il peggior rapporto Best/Worst. Queste sono le abitudini che hanno pi margine di miglioramento e richiedono maggior attenzione."})})]})})]}),u.jsx("div",{className:"space-y-4",children:t.comparisons.map(r=>u.jsxs("div",{className:"bg-background/50 rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:r.color}}),u.jsx("span",{className:"text-sm font-medium",children:r.title}),u.jsx("span",{className:ae("text-xs font-bold px-2 py-0.5 rounded-full ml-auto",r.status==="excellent"&&"bg-green-500/10 text-green-500",r.status==="good"&&"bg-yellow-500/10 text-yellow-500",r.status==="attention"&&"bg-orange-500/10 text-orange-500"),children:r.status==="excellent"?"Eccellente":r.status==="good"?"Buono":"Attenzione"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsx("span",{className:"text-xs text-muted-foreground",children:"Best"}),u.jsxs("span",{className:"text-xs font-bold text-green-500",children:[r.best," gg"]})]}),u.jsx("div",{className:"h-2 bg-secondary rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-green-500 transition-all duration-500",style:{width:`${Math.min(r.best/Math.max(r.best,r.worst)*100,100)}%`}})})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsx("span",{className:"text-xs text-muted-foreground",children:"Worst"}),u.jsxs("span",{className:"text-xs font-bold text-destructive",children:[r.worst," gg"]})]}),u.jsx("div",{className:"h-2 bg-secondary rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-destructive transition-all duration-500",style:{width:`${Math.min(r.worst/Math.max(r.best,r.worst)*100,100)}%`}})})]})]}),u.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Gap: ",u.jsxs("span",{className:"font-bold text-foreground",children:[r.gap,"%"]})]})]},r.habitId))})]}),u.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(H5,{className:"w-5 h-5 text-yellow-500"}),u.jsx("h4",{className:"font-display font-semibold text-foreground",children:"Suggerimenti Pratici"}),u.jsx(ja,{children:u.jsxs(Ao,{children:[u.jsx(Oo,{asChild:!0,children:u.jsx("button",{className:"ml-1",children:u.jsx(_c,{className:"w-4 h-4 text-muted-foreground hover:text-foreground transition-colors"})})}),u.jsx(ka,{className:"max-w-xs",children:u.jsx("p",{className:"text-sm",children:"Suggerimenti personalizzati basati sui tuoi dati con azioni concrete che puoi implementare subito per migliorare."})})]})})]}),u.jsx("div",{className:"space-y-3",children:t.suggestions.map((r,n)=>u.jsx("div",{className:"bg-gradient-to-r from-primary/5 to-transparent border border-primary/20 rounded-xl p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("span",{className:"text-2xl shrink-0",children:r.icon}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-semibold text-sm text-foreground mb-1",children:r.title}),u.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:r.description}),u.jsxs("div",{className:"flex items-start gap-2 text-xs text-primary",children:[u.jsx("span",{className:"shrink-0",children:""}),u.jsx("span",{className:"font-medium",children:r.action})]})]})]})},n))})]})]}):u.jsxs("div",{className:"glass-panel rounded-3xl p-6 text-center",children:[u.jsx(Ar,{className:"w-12 h-12 mx-auto mb-3 text-green-500 opacity-50"}),u.jsx("p",{className:"text-muted-foreground",children:"Ottimo lavoro! Non sono stati rilevati worst streak significativi."})]})}const BNe=({keystoneHabits:e})=>e.length===0?null:u.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-yellow-500/20 to-orange-500/20 flex items-center justify-center",children:u.jsx(KE,{className:"w-5 h-5 text-yellow-500"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold",children:"Abitudini Chiave"}),u.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Abitudini che influenzano positivamente molte altre"})]})]}),u.jsx("div",{className:ae("grid gap-3 sm:gap-4",e.length===1?"grid-cols-1":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3"),children:e.map(t=>{const r=t.impact==="high"?"text-green-500":t.impact==="medium"?"text-yellow-500":"text-blue-500",n=t.impact==="high"?"bg-green-500/10 border-green-500/20":t.impact==="medium"?"bg-yellow-500/10 border-yellow-500/20":"bg-blue-500/10 border-blue-500/20",i=t.impact==="high"?"Alto Impatto":t.impact==="medium"?"Medio Impatto":"Impatto Basso";return u.jsxs("div",{className:ae("glass-card rounded-2xl p-4 border-2 transition-all duration-300 hover:scale-[1.02]",n),children:[u.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center shrink-0",style:{backgroundColor:`${t.color}20`},children:u.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:t.color}})}),u.jsx("h4",{className:"font-semibold text-foreground truncate text-sm sm:text-base",children:t.title})]}),u.jsx(KE,{className:ae("w-5 h-5 shrink-0",r)})]}),u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx("div",{className:ae("px-2 py-1 rounded-full text-xs font-semibold",r,n),children:i}),u.jsxs("div",{className:"text-xs text-muted-foreground",children:[t.connectedHabits," ",t.connectedHabits===1?"connessione":"connessioni"]})]}),u.jsxs("div",{className:"space-y-1.5",children:[t.connections.slice(0,4).map(a=>{const o=a.correlation>=0?"+":"",s=a.correlation>=.6?"text-green-500":a.correlation>=.3?"text-yellow-500":"text-muted-foreground";return u.jsxs("div",{className:"flex items-center justify-between text-xs bg-white/5 rounded-lg px-2 py-1.5",children:[u.jsx("span",{className:"text-muted-foreground truncate flex-1",children:a.title}),u.jsxs("span",{className:ae("font-mono font-semibold ml-2",s),children:[o,a.correlation.toFixed(2)]})]},a.habitId)}),t.connections.length>4&&u.jsxs("div",{className:"text-xs text-center text-muted-foreground pt-1",children:["+",t.connections.length-4," altre connessioni"]})]}),u.jsxs("div",{className:"mt-3 pt-3 border-t border-white/10 flex items-center justify-between text-xs",children:[u.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[u.jsx(Ar,{className:"w-3 h-3"}),u.jsx("span",{children:"Media"})]}),u.jsxs("span",{className:"font-mono font-semibold text-foreground",children:[t.avgCorrelation>=0?"+":"",t.avgCorrelation.toFixed(2)]})]})]},t.habitId)})}),u.jsx("div",{className:"mt-4 p-3 bg-primary/5 rounded-xl border border-primary/10",children:u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx(Gi,{className:"w-4 h-4 text-primary shrink-0 mt-0.5"}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:[u.jsx("span",{className:"font-semibold text-foreground",children:"Suggerimento:"}),` Le abitudini chiave hanno un effetto "domino" su altre. Concentrati a mantenerle costanti per migliorare l'intero sistema delle tue abitudini.`]})]})})]}),qNe=({insights:e})=>{const{totalPairs:t,avgCorrelation:r,strongestPositive:n,strongestNegative:i,isolatedHabits:a}=e;return t===0?u.jsxs("div",{className:"glass-panel rounded-3xl p-6 text-center",children:[u.jsx(QE,{className:"w-12 h-12 mx-auto mb-3 text-muted-foreground opacity-50"}),u.jsx("h3",{className:"text-base font-semibold mb-2",children:"Nessuna Correlazione Rilevata"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Traccia almeno 2 abitudini per 10+ giorni per vedere le correlazioni."})]}):u.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500/20 to-purple-500/20 flex items-center justify-center",children:u.jsx(QE,{className:"w-5 h-5 text-blue-500"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold",children:"Analisi Correlazioni"}),u.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Pattern tra le tue abitudini"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 mb-4",children:[u.jsxs("div",{className:"bg-white/5 rounded-xl p-3 text-center",children:[u.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Coppie Analizzate"}),u.jsx("p",{className:"text-2xl font-bold text-foreground font-mono",children:t})]}),u.jsxs("div",{className:"bg-white/5 rounded-xl p-3 text-center",children:[u.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Correlazione Media"}),u.jsxs("p",{className:"text-2xl font-bold text-primary font-mono",children:[r>=0?"+":"",r.toFixed(2)]})]}),u.jsxs("div",{className:"bg-white/5 rounded-xl p-3 text-center",children:[u.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[u.jsx(Ar,{className:"w-3 h-3 text-green-500"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Positive"})]}),u.jsx("p",{className:"text-2xl font-bold text-green-500 font-mono",children:n.length})]}),u.jsxs("div",{className:"bg-white/5 rounded-xl p-3 text-center",children:[u.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[u.jsx(pi,{className:"w-3 h-3 text-red-500"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Negative"})]}),u.jsx("p",{className:"text-2xl font-bold text-red-500 font-mono",children:i.length})]})]}),a.length>0&&u.jsx("div",{className:"bg-yellow-500/5 border border-yellow-500/20 rounded-xl p-3",children:u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx(f9,{className:"w-4 h-4 text-yellow-500 shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold text-yellow-500 mb-1",children:"Abitudini Isolate"}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.length," ",a.length===1?"abitudine non ha":"abitudini non hanno"," ","correlazioni significative con le altre. Potrebbero essere indipendenti o necessitare pi dati."]})]})]})})]})},ZD=({correlation:e})=>{const{habitA:t,habitB:r,correlationCoefficient:n,coOccurrenceRate:i,totalDaysTracked:a,strength:o,type:s,suggestion:l}=e,c=s==="positive",d=c?Ar:pi,f=c?o==="strong"?"border-green-500/40":"border-green-500/20":o==="strong"?"border-red-500/40":"border-red-500/20",h=c?"from-green-500/5 to-transparent":"from-red-500/5 to-transparent",p=c?"bg-green-500/20 text-green-400 border-green-500/30":"bg-red-500/20 text-red-400 border-red-500/30",v=o==="strong"?"Forte":o==="moderate"?"Moderata":"Debole",m=c?"Positiva":"Negativa";return u.jsxs("div",{className:ae("glass-card rounded-2xl p-4 border-2 transition-all duration-300 hover:scale-[1.01]","bg-gradient-to-br",f,h),children:[u.jsx("div",{className:"flex items-center justify-between mb-3",children:u.jsxs("div",{className:ae("flex items-center gap-2 px-3 py-1 rounded-full border text-xs font-semibold",p),children:[u.jsx(d,{className:"w-3 h-3"}),u.jsxs("span",{children:["Correlazione ",m," - ",v]})]})}),u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[u.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center shrink-0",style:{backgroundColor:`${t.color}20`},children:u.jsx("div",{className:"w-4 h-4 rounded-sm",style:{backgroundColor:t.color}})}),u.jsx("span",{className:"font-semibold text-foreground text-sm truncate",children:t.title})]}),u.jsx(G5,{className:ae("w-5 h-5 shrink-0",c?"text-green-500":"text-red-500")}),u.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[u.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center shrink-0",style:{backgroundColor:`${r.color}20`},children:u.jsx("div",{className:"w-4 h-4 rounded-sm",style:{backgroundColor:r.color}})}),u.jsx("span",{className:"font-semibold text-foreground text-sm truncate",children:r.title})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[u.jsxs("div",{className:"bg-white/5 rounded-lg p-2 text-center",children:[u.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Coefficiente"}),u.jsxs("p",{className:ae("text-base font-mono font-bold",c?"text-green-500":"text-red-500"),children:[n>=0?"+":"",n.toFixed(2)]})]}),u.jsxs("div",{className:"bg-white/5 rounded-lg p-2 text-center",children:[u.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Co-occorrenza"}),u.jsxs("p",{className:"text-base font-mono font-bold text-foreground",children:[Math.round(i),"%"]})]}),u.jsxs("div",{className:"bg-white/5 rounded-lg p-2 text-center",children:[u.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Giorni"}),u.jsx("p",{className:"text-base font-mono font-bold text-foreground",children:a})]})]}),l&&u.jsx("div",{className:"bg-primary/5 border border-primary/10 rounded-xl p-3",children:u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx(cm,{className:"w-4 h-4 text-primary shrink-0 mt-0.5"}),u.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:l})]})})]})},UNe=({habitId:e,habitTitle:t,habitColor:r,allCorrelations:n})=>{const i=n.filter(l=>l.habitA.id===e||l.habitB.id===e);if(i.length===0)return u.jsxs("div",{className:"glass-panel rounded-3xl p-6 text-center",children:[u.jsx(G5,{className:"w-12 h-12 mx-auto mb-3 text-muted-foreground opacity-50"}),u.jsx("h3",{className:"text-base font-semibold mb-2",children:"Nessuna Correlazione"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Questa abitudine non ha correlazioni significative con le altre. Traccia pi abitudini insieme per vedere i pattern."})]});const a=i.filter(l=>l.type==="positive").sort((l,c)=>Math.abs(c.correlationCoefficient)-Math.abs(l.correlationCoefficient)).slice(0,3),o=i.filter(l=>l.type==="negative").sort((l,c)=>Math.abs(c.correlationCoefficient)-Math.abs(l.correlationCoefficient)).slice(0,2),s=l=>l.habitA.id===e?l.habitB:l.habitA;return u.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[u.jsxs("div",{className:"mb-4",children:[u.jsxs("h3",{className:"text-base sm:text-lg font-display font-semibold mb-1",children:['Correlazioni con "',t,'"']}),u.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Come questa abitudine si relaziona con le altre"})]}),a.length>0&&u.jsxs("div",{className:"mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx(Ar,{className:"w-4 h-4 text-green-500"}),u.jsx("h4",{className:"text-sm font-semibold text-green-500",children:"Correlazioni Positive"})]}),u.jsx("div",{className:"space-y-2",children:a.map((l,c)=>{const d=s(l),f=l.strength==="strong"?"Forte":"Moderata";return u.jsxs("div",{className:"bg-gradient-to-br from-green-500/5 to-transparent border-2 border-green-500/20 rounded-xl p-3",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center shrink-0",style:{backgroundColor:`${d.color}20`},children:u.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:d.color}})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"font-semibold text-sm truncate",children:d.title}),u.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[u.jsxs("span",{className:"text-green-500 font-semibold",children:[f," (",l.correlationCoefficient>=0?"+":"",l.correlationCoefficient.toFixed(2),")"]}),u.jsx("span",{children:""}),u.jsxs("span",{children:[Math.round(l.coOccurrenceRate),"% insieme"]})]})]})]}),u.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:l.suggestion})]},c)})})]}),o.length>0&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx(pi,{className:"w-4 h-4 text-red-500"}),u.jsx("h4",{className:"text-sm font-semibold text-red-500",children:"Correlazioni Negative"})]}),u.jsx("div",{className:"space-y-2",children:o.map((l,c)=>{const d=s(l),f=l.strength==="strong"?"Forte":"Moderata";return u.jsxs("div",{className:"bg-gradient-to-br from-red-500/5 to-transparent border-2 border-red-500/20 rounded-xl p-3",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center shrink-0",style:{backgroundColor:`${d.color}20`},children:u.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:d.color}})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"font-semibold text-sm truncate",children:d.title}),u.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[u.jsxs("span",{className:"text-red-500 font-semibold",children:[f," (",l.correlationCoefficient.toFixed(2),")"]}),u.jsx("span",{children:""}),u.jsxs("span",{children:[l.totalDaysTracked," giorni"]})]})]})]}),u.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:l.suggestion})]},c)})})]}),(a.length>0||o.length>0)&&u.jsx("div",{className:"mt-4 p-3 bg-blue-500/5 rounded-xl border border-blue-500/10",children:u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx(qs,{className:"w-4 h-4 text-blue-500 shrink-0 mt-0.5"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Le correlazioni positive suggeriscono abitudini che funzionano bene insieme. Le negative indicano possibili conflitti di tempo o energia."})]})})]})};var cw=0;function VNe(){S.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??e5()),document.body.insertAdjacentElement("beforeend",e[1]??e5()),cw++,()=>{cw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),cw--}},[])}function e5(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var WNe=[" ","Enter","ArrowUp","ArrowDown"],HNe=[" ","Enter"],ss="Select",[zg,Fg,GNe]=im(ss),[bc]=Br(ss,[GNe,pm]),Bg=pm(),[KNe,co]=bc(ss),[YNe,XNe]=bc(ss),UV=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:a,value:o,defaultValue:s,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:h,required:p,form:v}=e,m=Bg(t),[g,y]=S.useState(null),[b,x]=S.useState(null),[_,w]=S.useState(!1),j=nc(c),[k,A]=Si({prop:n,defaultProp:i??!1,onChange:a,caller:ss}),[T,O]=Si({prop:o,defaultProp:s,onChange:l,caller:ss}),P=S.useRef(null),N=g?v||!!g.closest("form"):!0,[M,E]=S.useState(new Set),R=Array.from(M).map(F=>F.props.value).join(";");return u.jsx(A$,{...m,children:u.jsxs(KNe,{required:p,scope:t,trigger:g,onTriggerChange:y,valueNode:b,onValueNodeChange:x,valueNodeHasChildren:_,onValueNodeHasChildrenChange:w,contentId:Ki(),value:T,onValueChange:O,open:k,onOpenChange:A,dir:j,triggerPointerDownPosRef:P,disabled:h,children:[u.jsx(zg.Provider,{scope:t,children:u.jsx(YNe,{scope:e.__scopeSelect,onNativeOptionAdd:S.useCallback(F=>{E(z=>new Set(z).add(F))},[]),onNativeOptionRemove:S.useCallback(F=>{E(z=>{const q=new Set(z);return q.delete(F),q})},[]),children:r})}),N?u.jsxs(hW,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:T,onChange:F=>O(F.target.value),disabled:h,form:v,children:[T===void 0?u.jsx("option",{value:""}):null,Array.from(M)]},R):null]})})};UV.displayName=ss;var VV="SelectTrigger",WV=S.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,a=Bg(r),o=co(VV,r),s=o.disabled||n,l=ze(t,o.onTriggerChange),c=Fg(r),d=S.useRef("touch"),[f,h,p]=mW(m=>{const g=c().filter(x=>!x.disabled),y=g.find(x=>x.value===o.value),b=gW(g,m,y);b!==void 0&&o.onValueChange(b.value)}),v=m=>{s||(o.onOpenChange(!0),p()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return u.jsx(O$,{asChild:!0,...a,children:u.jsx(Ae.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":pW(o.value)?"":void 0,...i,ref:l,onClick:Ee(i.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&v(m)}),onPointerDown:Ee(i.onPointerDown,m=>{d.current=m.pointerType;const g=m.target;g.hasPointerCapture(m.pointerId)&&g.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(v(m),m.preventDefault())}),onKeyDown:Ee(i.onKeyDown,m=>{const g=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(g&&m.key===" ")&&WNe.includes(m.key)&&(v(),m.preventDefault())})})})});WV.displayName=VV;var HV="SelectValue",GV=S.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:o="",...s}=e,l=co(HV,r),{onValueNodeHasChildrenChange:c}=l,d=a!==void 0,f=ze(t,l.onValueNodeChange);return Qt(()=>{c(d)},[c,d]),u.jsx(Ae.span,{...s,ref:f,style:{pointerEvents:"none"},children:pW(l.value)?u.jsx(u.Fragment,{children:o}):a})});GV.displayName=HV;var QNe="SelectIcon",KV=S.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return u.jsx(Ae.span,{"aria-hidden":!0,...i,ref:t,children:n||""})});KV.displayName=QNe;var JNe="SelectPortal",YV=e=>u.jsx(om,{asChild:!0,...e});YV.displayName=JNe;var ls="SelectContent",XV=S.forwardRef((e,t)=>{const r=co(ls,e.__scopeSelect),[n,i]=S.useState();if(Qt(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?Xn.createPortal(u.jsx(QV,{scope:e.__scopeSelect,children:u.jsx(zg.Slot,{scope:e.__scopeSelect,children:u.jsx("div",{children:e.children})})}),a):null}return u.jsx(JV,{...e,ref:t})});XV.displayName=ls;var Bn=10,[QV,uo]=bc(ls),ZNe="SelectContentImpl",e2e=Su("SelectContent.RemoveScroll"),JV=S.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:s,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:v,hideWhenDetached:m,avoidCollisions:g,...y}=e,b=co(ls,r),[x,_]=S.useState(null),[w,j]=S.useState(null),k=ze(t,le=>_(le)),[A,T]=S.useState(null),[O,P]=S.useState(null),N=Fg(r),[M,E]=S.useState(!1),R=S.useRef(!1);S.useEffect(()=>{if(x)return gz(x)},[x]),VNe();const F=S.useCallback(le=>{const[ue,...ee]=N().map(J=>J.ref.current),[te]=ee.slice(-1),ce=document.activeElement;for(const J of le)if(J===ce||(J?.scrollIntoView({block:"nearest"}),J===ue&&w&&(w.scrollTop=0),J===te&&w&&(w.scrollTop=w.scrollHeight),J?.focus(),document.activeElement!==ce))return},[N,w]),z=S.useCallback(()=>F([A,x]),[F,A,x]);S.useEffect(()=>{M&&z()},[M,z]);const{onOpenChange:q,triggerPointerDownPosRef:L}=b;S.useEffect(()=>{if(x){let le={x:0,y:0};const ue=te=>{le={x:Math.abs(Math.round(te.pageX)-(L.current?.x??0)),y:Math.abs(Math.round(te.pageY)-(L.current?.y??0))}},ee=te=>{le.x<=10&&le.y<=10?te.preventDefault():x.contains(te.target)||q(!1),document.removeEventListener("pointermove",ue),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",ue),document.addEventListener("pointerup",ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ue),document.removeEventListener("pointerup",ee,{capture:!0})}}},[x,q,L]),S.useEffect(()=>{const le=()=>q(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[q]);const[D,W]=mW(le=>{const ue=N().filter(ce=>!ce.disabled),ee=ue.find(ce=>ce.ref.current===document.activeElement),te=gW(ue,le,ee);te&&setTimeout(()=>te.ref.current.focus())}),B=S.useCallback((le,ue,ee)=>{const te=!R.current&&!ee;(b.value!==void 0&&b.value===ue||te)&&(T(le),te&&(R.current=!0))},[b.value]),$=S.useCallback(()=>x?.focus(),[x]),Q=S.useCallback((le,ue,ee)=>{const te=!R.current&&!ee;(b.value!==void 0&&b.value===ue||te)&&P(le)},[b.value]),Z=n==="popper"?g_:ZV,fe=Z===g_?{side:s,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:v,hideWhenDetached:m,avoidCollisions:g}:{};return u.jsx(QV,{scope:r,content:x,viewport:w,onViewportChange:j,itemRefCallback:B,selectedItem:A,onItemLeave:$,itemTextRefCallback:Q,focusSelectedItem:z,selectedItemText:O,position:n,isPositioned:M,searchRef:D,children:u.jsx(Uj,{as:e2e,allowPinchZoom:!0,children:u.jsx(qj,{asChild:!0,trapped:b.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:Ee(i,le=>{b.trigger?.focus({preventScroll:!0}),le.preventDefault()}),children:u.jsx(am,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:u.jsx(Z,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:le=>le.preventDefault(),...y,...fe,onPlaced:()=>E(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Ee(y.onKeyDown,le=>{const ue=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!ue&&le.key.length===1&&W(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let te=N().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);if(["ArrowUp","End"].includes(le.key)&&(te=te.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const ce=le.target,J=te.indexOf(ce);te=te.slice(J+1)}setTimeout(()=>F(te)),le.preventDefault()}})})})})})})});JV.displayName=ZNe;var t2e="SelectItemAlignedPosition",ZV=S.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,a=co(ls,r),o=uo(ls,r),[s,l]=S.useState(null),[c,d]=S.useState(null),f=ze(t,k=>d(k)),h=Fg(r),p=S.useRef(!1),v=S.useRef(!0),{viewport:m,selectedItem:g,selectedItemText:y,focusSelectedItem:b}=o,x=S.useCallback(()=>{if(a.trigger&&a.valueNode&&s&&c&&m&&g&&y){const k=a.trigger.getBoundingClientRect(),A=c.getBoundingClientRect(),T=a.valueNode.getBoundingClientRect(),O=y.getBoundingClientRect();if(a.dir!=="rtl"){const ce=O.left-A.left,J=T.left-ce,ne=k.left-J,C=k.width+ne,G=Math.max(C,A.width),H=window.innerWidth-Bn,V=qu(J,[Bn,Math.max(Bn,H-G)]);s.style.minWidth=C+"px",s.style.left=V+"px"}else{const ce=A.right-O.right,J=window.innerWidth-T.right-ce,ne=window.innerWidth-k.right-J,C=k.width+ne,G=Math.max(C,A.width),H=window.innerWidth-Bn,V=qu(J,[Bn,Math.max(Bn,H-G)]);s.style.minWidth=C+"px",s.style.right=V+"px"}const P=h(),N=window.innerHeight-Bn*2,M=m.scrollHeight,E=window.getComputedStyle(c),R=parseInt(E.borderTopWidth,10),F=parseInt(E.paddingTop,10),z=parseInt(E.borderBottomWidth,10),q=parseInt(E.paddingBottom,10),L=R+F+M+q+z,D=Math.min(g.offsetHeight*5,L),W=window.getComputedStyle(m),B=parseInt(W.paddingTop,10),$=parseInt(W.paddingBottom,10),Q=k.top+k.height/2-Bn,Z=N-Q,fe=g.offsetHeight/2,le=g.offsetTop+fe,ue=R+F+le,ee=L-ue;if(ue<=Q){const ce=P.length>0&&g===P[P.length-1].ref.current;s.style.bottom="0px";const J=c.clientHeight-m.offsetTop-m.offsetHeight,ne=Math.max(Z,fe+(ce?$:0)+J+z),C=ue+ne;s.style.height=C+"px"}else{const ce=P.length>0&&g===P[0].ref.current;s.style.top="0px";const ne=Math.max(Q,R+m.offsetTop+(ce?B:0)+fe)+ee;s.style.height=ne+"px",m.scrollTop=ue-Q+m.offsetTop}s.style.margin=`${Bn}px 0`,s.style.minHeight=D+"px",s.style.maxHeight=N+"px",n?.(),requestAnimationFrame(()=>p.current=!0)}},[h,a.trigger,a.valueNode,s,c,m,g,y,a.dir,n]);Qt(()=>x(),[x]);const[_,w]=S.useState();Qt(()=>{c&&w(window.getComputedStyle(c).zIndex)},[c]);const j=S.useCallback(k=>{k&&v.current===!0&&(x(),b?.(),v.current=!1)},[x,b]);return u.jsx(n2e,{scope:r,contentWrapper:s,shouldExpandOnScrollRef:p,onScrollButtonChange:j,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:u.jsx(Ae.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});ZV.displayName=t2e;var r2e="SelectPopperPosition",g_=S.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=Bn,...a}=e,o=Bg(r);return u.jsx(C$,{...o,...a,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});g_.displayName=r2e;var[n2e,IE]=bc(ls,{}),v_="SelectViewport",eW=S.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,a=uo(v_,r),o=IE(v_,r),s=ze(t,a.onViewportChange),l=S.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),u.jsx(zg.Slot,{scope:r,children:u.jsx(Ae.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ee(i.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h?.current&&f){const p=Math.abs(l.current-d.scrollTop);if(p>0){const v=window.innerHeight-Bn*2,m=parseFloat(f.style.minHeight),g=parseFloat(f.style.height),y=Math.max(m,g);if(y<v){const b=y+p,x=Math.min(v,b),_=b-x;f.style.height=x+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});eW.displayName=v_;var tW="SelectGroup",[i2e,a2e]=bc(tW),o2e=S.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=Ki();return u.jsx(i2e,{scope:r,id:i,children:u.jsx(Ae.div,{role:"group","aria-labelledby":i,...n,ref:t})})});o2e.displayName=tW;var rW="SelectLabel",nW=S.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=a2e(rW,r);return u.jsx(Ae.div,{id:i.id,...n,ref:t})});nW.displayName=rW;var rm="SelectItem",[s2e,iW]=bc(rm),aW=S.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...o}=e,s=co(rm,r),l=uo(rm,r),c=s.value===n,[d,f]=S.useState(a??""),[h,p]=S.useState(!1),v=ze(t,b=>l.itemRefCallback?.(b,n,i)),m=Ki(),g=S.useRef("touch"),y=()=>{i||(s.onValueChange(n),s.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(s2e,{scope:r,value:n,disabled:i,textId:m,isSelected:c,onItemTextChange:S.useCallback(b=>{f(x=>x||(b?.textContent??"").trim())},[]),children:u.jsx(zg.ItemSlot,{scope:r,value:n,disabled:i,textValue:d,children:u.jsx(Ae.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:v,onFocus:Ee(o.onFocus,()=>p(!0)),onBlur:Ee(o.onBlur,()=>p(!1)),onClick:Ee(o.onClick,()=>{g.current!=="mouse"&&y()}),onPointerUp:Ee(o.onPointerUp,()=>{g.current==="mouse"&&y()}),onPointerDown:Ee(o.onPointerDown,b=>{g.current=b.pointerType}),onPointerMove:Ee(o.onPointerMove,b=>{g.current=b.pointerType,i?l.onItemLeave?.():g.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ee(o.onPointerLeave,b=>{b.currentTarget===document.activeElement&&l.onItemLeave?.()}),onKeyDown:Ee(o.onKeyDown,b=>{l.searchRef?.current!==""&&b.key===" "||(HNe.includes(b.key)&&y(),b.key===" "&&b.preventDefault())})})})})});aW.displayName=rm;var Zc="SelectItemText",oW=S.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...a}=e,o=co(Zc,r),s=uo(Zc,r),l=iW(Zc,r),c=XNe(Zc,r),[d,f]=S.useState(null),h=ze(t,y=>f(y),l.onItemTextChange,y=>s.itemTextRefCallback?.(y,l.value,l.disabled)),p=d?.textContent,v=S.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:g}=c;return Qt(()=>(m(v),()=>g(v)),[m,g,v]),u.jsxs(u.Fragment,{children:[u.jsx(Ae.span,{id:l.textId,...a,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Xn.createPortal(a.children,o.valueNode):null]})});oW.displayName=Zc;var sW="SelectItemIndicator",lW=S.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return iW(sW,r).isSelected?u.jsx(Ae.span,{"aria-hidden":!0,...n,ref:t}):null});lW.displayName=sW;var y_="SelectScrollUpButton",cW=S.forwardRef((e,t)=>{const r=uo(y_,e.__scopeSelect),n=IE(y_,e.__scopeSelect),[i,a]=S.useState(!1),o=ze(t,n.onScrollButtonChange);return Qt(()=>{if(r.viewport&&r.isPositioned){let s=function(){const c=l.scrollTop>0;a(c)};const l=r.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),i?u.jsx(dW,{...e,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=r;s&&l&&(s.scrollTop=s.scrollTop-l.offsetHeight)}}):null});cW.displayName=y_;var b_="SelectScrollDownButton",uW=S.forwardRef((e,t)=>{const r=uo(b_,e.__scopeSelect),n=IE(b_,e.__scopeSelect),[i,a]=S.useState(!1),o=ze(t,n.onScrollButtonChange);return Qt(()=>{if(r.viewport&&r.isPositioned){let s=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;a(d)};const l=r.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),i?u.jsx(dW,{...e,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=r;s&&l&&(s.scrollTop=s.scrollTop+l.offsetHeight)}}):null});uW.displayName=b_;var dW=S.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,a=uo("SelectScrollButton",r),o=S.useRef(null),s=Fg(r),l=S.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return S.useEffect(()=>()=>l(),[l]),Qt(()=>{s().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[s]),u.jsx(Ae.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Ee(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ee(i.onPointerMove,()=>{a.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ee(i.onPointerLeave,()=>{l()})})}),l2e="SelectSeparator",fW=S.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return u.jsx(Ae.div,{"aria-hidden":!0,...n,ref:t})});fW.displayName=l2e;var x_="SelectArrow",c2e=S.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=Bg(r),a=co(x_,r),o=uo(x_,r);return a.open&&o.position==="popper"?u.jsx(T$,{...i,...n,ref:t}):null});c2e.displayName=x_;var u2e="SelectBubbleInput",hW=S.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const i=S.useRef(null),a=ze(n,i),o=eg(t);return S.useEffect(()=>{const s=i.current;if(!s)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(s,t),s.dispatchEvent(f)}},[o,t]),u.jsx(Ae.select,{...r,style:{...v5,...r.style},ref:a,defaultValue:t})});hW.displayName=u2e;function pW(e){return e===""||e===void 0}function mW(e){const t=Ut(e),r=S.useRef(""),n=S.useRef(0),i=S.useCallback(o=>{const s=r.current+o;t(s),(function l(c){r.current=c,window.clearTimeout(n.current),c!==""&&(n.current=window.setTimeout(()=>l(""),1e3))})(s)},[t]),a=S.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function gW(e,t,r){const i=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=d2e(e,Math.max(a,0));i.length===1&&(o=o.filter(c=>c!==r));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==r?l:void 0}function d2e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var f2e=UV,vW=WV,h2e=GV,p2e=KV,m2e=YV,yW=XV,g2e=eW,bW=nW,xW=aW,v2e=oW,y2e=lW,wW=cW,SW=uW,_W=fW;const di=f2e,Ra=h2e,Gn=S.forwardRef(({className:e,children:t,...r},n)=>u.jsxs(vW,{ref:n,className:ae("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,u.jsx(p2e,{asChild:!0,children:u.jsx(A_,{className:"h-4 w-4 opacity-50"})})]}));Gn.displayName=vW.displayName;const jW=S.forwardRef(({className:e,...t},r)=>u.jsx(wW,{ref:r,className:ae("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(n9,{className:"h-4 w-4"})}));jW.displayName=wW.displayName;const kW=S.forwardRef(({className:e,...t},r)=>u.jsx(SW,{ref:r,className:ae("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(A_,{className:"h-4 w-4"})}));kW.displayName=SW.displayName;const Kn=S.forwardRef(({className:e,children:t,position:r="popper",...n},i)=>u.jsx(m2e,{children:u.jsxs(yW,{ref:i,className:ae("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[u.jsx(jW,{}),u.jsx(g2e,{className:ae("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),u.jsx(kW,{})]})}));Kn.displayName=yW.displayName;const b2e=S.forwardRef(({className:e,...t},r)=>u.jsx(bW,{ref:r,className:ae("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));b2e.displayName=bW.displayName;const qt=S.forwardRef(({className:e,children:t,...r},n)=>u.jsxs(xW,{ref:n,className:ae("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(y2e,{children:u.jsx(ci,{className:"h-4 w-4"})})}),u.jsx(v2e,{children:t})]}));qt.displayName=xW.displayName;const x2e=S.forwardRef(({className:e,...t},r)=>u.jsx(_W,{ref:r,className:ae("-mx-1 my-1 h-px bg-muted",e),...t}));x2e.displayName=_W.displayName;const w2e=()=>{const{goals:e,allGoals:t,logs:r}=Fj(),[n,i]=S.useState("weekly"),[a,o]=S.useState(null),[s,l]=S.useState("rate"),c=l8(e,r,n),{isPrivacyMode:d}=Tm(),{isAIEnabled:f}=ym(),{correlations:h,insights:p}=Hme(e,r),{correlations:v,insights:m}=Qme(e,r),g=S.useMemo(()=>t.find(w=>w.id===a)||null,[t,a]),y=S.useMemo(()=>{const w=[...c.habitStats];switch(s){case"rate":return w.sort((j,k)=>k.completionRate-j.completionRate);case"best":return w.sort((j,k)=>k.longestStreak-j.longestStreak);case"worst":return w.sort((j,k)=>k.worstStreak-j.worstStreak);case"current":return w.sort((j,k)=>k.currentStreak-j.currentStreak);case"name":return w.sort((j,k)=>j.title.localeCompare(k.title));default:return w}},[c.habitStats,s]),b=S.useMemo(()=>{if(!g)return null;const w=[],j=new Date,k=new Date(g.start_date),A=g.end_date?new Date(g.end_date):j,T=A>j?j:A;_n({start:k,end:T}).forEach(ne=>{const C=Xe(ne,"yyyy-MM-dd"),G=r[C]?.[g.id]||null;w.push({date:C,status:G})});const P=w.length,N=w.filter(ne=>ne.status==="done").length,M=w.filter(ne=>ne.status==="missed").length,E=P>0?Math.round(N/P*100):0;let R=0,F=0,z=0;const q=[];let L=0,D=0,W="",B="";for(let ne=0;ne<w.length;ne++){const C=w[ne];C.status==="done"?(z++,z>F&&(F=z),L>D&&(D=L,W=B),L=0):(z>2&&q.push({date:C.date,streakLength:z}),z=0,(C.status==="missed"||C.status===null)&&(L===0&&(B=C.date),L++))}L>D&&(D=L,W=B);for(let ne=w.length-1;ne>=0&&w[ne].status==="done";ne--)R++;const $=[0,0,0,0,0,0,0],Q=[0,0,0,0,0,0,0];w.forEach(ne=>{const C=new Date(ne.date).getDay(),G=C===0?6:C-1;Q[G]++,ne.status==="done"&&$[G]++});const Z=["Lun","Mar","Mer","Gio","Ven","Sab","Dom"].map((ne,C)=>({day:ne,rate:Q[C]>0?Math.round($[C]/Q[C]*100):0,total:Q[C],done:$[C]})),fe=Z.reduce((ne,C)=>C.total>2&&C.rate<ne.rate?C:ne,{day:"N/A",rate:100,total:0,done:0}),le=Cm(j),ue=Zte(j),te=_n({start:le,end:ue}).map(ne=>{const C=Xe(ne,"yyyy-MM-dd"),G=r[C]?.[g.id];return{date:C,count:G==="done"?1:G==="missed"?-1:0,intensity:G==="done"?1:G==="missed"?.5:0}}),J=_n({start:new Date(j.getTime()-720*60*60*1e3),end:j}).map(ne=>{const C=Xe(ne,"yyyy-MM-dd"),G=r[C]?.[g.id];return{date:Xe(ne,"dd/MM"),value:G==="done"?100:0,status:G||null}});return{totalDays:P,doneDays:N,missedDays:M,completionRate:E,currentStreak:R,bestStreak:F,brokenStreaks:q.slice(-5).reverse(),worstNegativeStreak:D,worstNegativeStreakStart:W,weekdayPerformance:Z,worstDay:fe,heatmapData:te,trendData:J}},[g,r]),x=c.habitStats.length>0?c.habitStats.reduce((w,j)=>w.completionRate>j.completionRate?w:j,c.habitStats[0]):null,_=w=>{o(w==="all"?null:w)};return u.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-5xl animate-fade-in pb-32 space-y-6",children:[u.jsx("div",{className:"fixed top-20 left-1/2 -translate-x-1/2 w-[800px] h-[800px] bg-primary/5 blur-[120px] rounded-full pointer-events-none -z-10"}),u.jsxs("div",{className:ae("space-y-3",d&&"blur-sm"),children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("h1",{className:"text-2xl sm:text-3xl font-display font-bold text-foreground",children:"Le tue Statistiche"}),u.jsx("p",{className:"text-muted-foreground font-light text-sm sm:text-base",children:"Analisi dettagliata delle tue performance."})]}),u.jsxs(di,{value:a||"all",onValueChange:_,children:[u.jsx(Gn,{className:"w-full sm:w-[300px] glass-panel border-white/10",children:u.jsx(Ra,{placeholder:"Seleziona goal"})}),u.jsxs(Kn,{children:[u.jsx(qt,{value:"all",children:u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(Gr,{className:"w-4 h-4"}),"Tutti i Goals"]})}),t.map(w=>u.jsx(qt,{value:w.id,children:u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:w.color}}),w.title,w.end_date&&u.jsx("span",{className:"text-xs text-muted-foreground",children:"(archiviato)"})]})},w.id))]})]})]}),a===null?u.jsxs(Js,{defaultValue:"panoramica",className:"w-full",children:[u.jsxs(qo,{className:"grid w-full grid-cols-5 mb-4 shrink-0",children:[u.jsx(yt,{value:"panoramica",className:"text-xs sm:text-sm",children:"Info"}),u.jsx(yt,{value:"trend",className:"text-xs sm:text-sm",children:"Trend"}),u.jsx(yt,{value:"analisi",className:"text-xs sm:text-sm",children:"Alert"}),u.jsx(yt,{value:"abitudini",className:"text-xs sm:text-sm",children:"Abitudini"}),u.jsx(yt,{value:"mood-energia",className:"text-xs sm:text-sm flex items-center gap-1",children:u.jsx("span",{children:"Mood"})})]}),u.jsxs(Nr,{value:"panoramica",className:"mt-0 space-y-6",children:[u.jsx("div",{className:ae("transition-all duration-300",d&&"blur-sm"),children:u.jsx(Jme,{globalStats:{totalActiveDays:c.totalActiveDays,globalSuccessRate:c.globalSuccessRate,bestStreak:c.bestStreak,worstDay:c.worstDay},bestHabit:x||void 0})}),f&&u.jsx("div",{className:"hidden lg:block",children:u.jsx("div",{onClick:()=>window.location.hash="/ai-coach",className:"glass-panel rounded-3xl p-6 cursor-pointer hover:scale-[1.02] transition-all duration-300 border-2 border-primary/20 hover:border-primary/40 group",children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-primary/20 to-purple-500/20 flex items-center justify-center shrink-0 group-hover:scale-110 transition-transform",children:u.jsx(Hi,{className:"w-7 h-7 text-primary animate-pulse"})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("h3",{className:"text-lg sm:text-xl font-display font-semibold mb-2 flex items-center gap-2",children:["AI Coach",u.jsx("span",{className:"text-xs bg-primary/20 text-primary px-2 py-0.5 rounded-full font-normal",children:"Nuovo"})]}),u.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Genera un report settimanale personalizzato con analisi AI dei tuoi progressi e suggerimenti concreti per migliorare."}),u.jsxs("div",{className:"flex items-center gap-2 text-xs text-primary",children:[u.jsx("span",{className:"font-semibold",children:"Clicca per iniziare"}),u.jsx("span",{children:""})]})]})]})})}),m.totalPairs>0&&u.jsxs(u.Fragment,{children:[m.keystoneHabits.length>0&&u.jsx("div",{className:ae("transition-all duration-300",d&&"blur-sm"),children:u.jsx(BNe,{keystoneHabits:m.keystoneHabits})}),u.jsx("div",{className:ae("transition-all duration-300",d&&"blur-sm"),children:u.jsx(qNe,{insights:m})}),m.strongestPositive.length>0&&u.jsx("div",{className:ae("transition-all duration-300",d&&"blur-sm"),children:u.jsxs("div",{className:"space-y-3",children:[u.jsxs("h3",{className:"text-base sm:text-lg font-display font-semibold flex items-center gap-2",children:[u.jsx("span",{className:"text-green-500",children:""}),"Correlazioni Positive"]}),m.strongestPositive.map((w,j)=>u.jsx(ZD,{correlation:w},j))]})}),m.strongestNegative.length>0&&u.jsx("div",{className:ae("transition-all duration-300",d&&"blur-sm"),children:u.jsxs("div",{className:"space-y-3",children:[u.jsxs("h3",{className:"text-base sm:text-lg font-display font-semibold flex items-center gap-2",children:[u.jsx("span",{className:"text-red-500",children:""}),"Correlazioni Negative"]}),u.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Queste abitudini tendono a non essere completate insieme."}),m.strongestNegative.map((w,j)=>u.jsx(ZD,{correlation:w},j))]})})]}),u.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[u.jsxs("h3",{className:"text-base sm:text-lg font-display font-semibold mb-4 flex items-center gap-2",children:[u.jsx("span",{className:"w-2 h-2 rounded-sm bg-primary animate-pulse"}),"Attivit Recente"]}),u.jsx(Zme,{data:c.heatmapData})]})]}),u.jsxs(Nr,{value:"trend",className:"mt-0 space-y-6",children:[u.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6 h-[350px] sm:h-[400px] flex flex-col",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 mb-4",children:[u.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold",children:"Trend"}),u.jsx(Js,{value:n,onValueChange:w=>i(w),className:"w-full sm:w-auto",children:u.jsxs(qo,{className:"grid w-full grid-cols-4 sm:w-[300px]",children:[u.jsx(yt,{value:"weekly",className:"text-xs",children:"Sett"}),u.jsx(yt,{value:"monthly",className:"text-xs",children:"Mese"}),u.jsx(yt,{value:"annual",className:"text-xs",children:"Anno"}),u.jsx(yt,{value:"all",className:"text-xs",children:"Tutto"})]})})]}),u.jsx("div",{className:"flex-1 w-full min-h-0",children:u.jsx(TNe,{data:c.trendData})})]}),u.jsx("div",{className:ae("transition-all duration-300",d&&"blur-sm"),children:u.jsx(RNe,{comparisons:c.comparisons,goals:e})})]}),u.jsxs(Nr,{value:"analisi",className:"mt-0 space-y-6",children:[u.jsx("div",{className:ae("transition-all duration-300",d&&"blur-sm"),children:u.jsx(INe,{criticalHabits:c.criticalHabits})}),u.jsx("div",{className:ae("transition-all duration-300",d&&"blur-sm"),children:u.jsx(FNe,{habitStats:c.habitStats})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[u.jsxs("div",{className:ae("glass-panel rounded-3xl p-4 sm:p-6 h-[300px] sm:h-[350px] flex flex-col transition-all duration-300",d&&"blur-sm"),children:[u.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold mb-3",children:"Focus Abitudini"}),u.jsx("div",{className:"flex-1 w-full min-h-0",children:u.jsx(PNe,{stats:c.habitStats})})]}),u.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6 h-[300px] sm:h-[350px] flex flex-col",children:[u.jsxs("div",{className:"mb-3",children:[u.jsxs("h3",{className:"text-base sm:text-lg font-display font-semibold flex items-center gap-2",children:[u.jsx("span",{className:"w-2 h-2 rounded-sm bg-primary animate-pulse"}),"Costanza Settimanale"]}),u.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Scopri in quali giorni sei pi produttivo."})]}),u.jsx("div",{className:"flex-1 w-full min-h-0",children:u.jsx(NNe,{data:c.weekdayStats})})]})]})]}),u.jsx(Nr,{value:"abitudini",className:"mt-0",children:u.jsxs("div",{className:ae("glass-panel rounded-3xl p-4 sm:p-6 transition-all duration-300",d&&"blur-sm"),children:[u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 mb-4 sm:mb-6",children:[u.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold",children:"Dettagli Abitudini"}),u.jsxs(di,{value:s,onValueChange:w=>l(w),children:[u.jsx(Gn,{className:"w-full sm:w-[200px] glass-card border-white/10",children:u.jsx(Ra,{})}),u.jsxs(Kn,{children:[u.jsx(qt,{value:"rate",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ar,{className:"w-4 h-4 text-primary"}),u.jsx("span",{children:"Rate"})]})}),u.jsx(qt,{value:"best",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ma,{className:"w-4 h-4 text-yellow-500"}),u.jsx("span",{children:"Best Streak"})]})}),u.jsx(qt,{value:"worst",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(pi,{className:"w-4 h-4 text-destructive"}),u.jsx("span",{children:"Worst Streak"})]})}),u.jsx(qt,{value:"current",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(gw,{className:"w-4 h-4 text-orange-500"}),u.jsx("span",{children:"Serie Attuale"})]})}),u.jsx(qt,{value:"name",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(JH,{className:"w-4 h-4"}),u.jsx("span",{children:"Nome"})]})})]})]})]}),u.jsx("div",{className:"space-y-3",children:c.habitStats.length===0?u.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Nessuna abitudine tracciata ancora."}):u.jsx(u.Fragment,{children:(()=>{const w=y.filter(k=>{const A=t.find(T=>T.id===k.id);return A&&!A.end_date}),j=y.filter(k=>{const A=t.find(T=>T.id===k.id);return A&&A.end_date});return u.jsxs(u.Fragment,{children:[w.map(k=>u.jsxs("div",{className:"glass-card rounded-xl p-3 sm:p-4 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4 group cursor-pointer hover:bg-white/5 transition-colors",onClick:()=>o(k.id),children:[u.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 w-full sm:w-auto",children:[u.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl flex items-center justify-center bg-white/5 border border-white/10 group-hover:scale-110 transition-transform duration-300 shadow-lg shrink-0",style:{borderColor:`${k.color}40`,boxShadow:`0 0 20px ${k.color}10`},children:u.jsx("div",{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 rounded-sm",style:{backgroundColor:k.color}})}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("span",{className:"font-semibold text-foreground text-base sm:text-lg truncate block",children:k.title}),u.jsx("div",{className:"h-1 w-16 sm:w-20 bg-secondary rounded-full mt-1 overflow-hidden",children:u.jsx("div",{className:"h-full bg-primary transition-all duration-500",style:{width:`${k.completionRate}%`,backgroundColor:k.color}})})]})]}),u.jsxs("div",{className:"grid grid-cols-4 gap-3 sm:flex sm:gap-6 text-sm text-muted-foreground w-full sm:w-auto justify-between sm:justify-end",children:[u.jsxs("div",{className:"flex flex-col items-center sm:items-end",children:[u.jsxs("span",{className:"text-[9px] sm:text-[10px] uppercase tracking-widest font-bold opacity-60 mb-0.5 flex items-center gap-1",children:[u.jsx(Ma,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-yellow-500"})," Best"]}),u.jsxs("span",{className:"font-mono text-base sm:text-lg font-bold text-foreground",children:[k.longestStreak,u.jsx("span",{className:"text-[10px] sm:text-xs font-sans font-normal opacity-50",children:"gg"})]})]}),u.jsxs("div",{className:"flex flex-col items-center sm:items-end",children:[u.jsxs("span",{className:"text-[9px] sm:text-[10px] uppercase tracking-widest font-bold opacity-60 mb-0.5 flex items-center gap-1",children:[u.jsx(pi,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-destructive"})," Worst"]}),u.jsxs("span",{className:"font-mono text-base sm:text-lg font-bold text-destructive",children:[k.worstStreak,u.jsx("span",{className:"text-[10px] sm:text-xs font-sans font-normal opacity-50",children:"gg"})]})]}),u.jsxs("div",{className:"flex flex-col items-center sm:items-end",children:[u.jsx("span",{className:"text-[9px] sm:text-[10px] uppercase tracking-widest font-bold opacity-60 mb-0.5",children:"Serie"}),u.jsxs("span",{className:"font-mono text-base sm:text-lg font-bold text-foreground",children:[k.currentStreak,u.jsx("span",{className:"text-[10px] sm:text-xs font-sans font-normal opacity-50",children:"gg"})]})]}),u.jsxs("div",{className:"flex flex-col items-center sm:items-end",children:[u.jsx("span",{className:"text-[9px] sm:text-[10px] uppercase tracking-widest font-bold opacity-60 mb-0.5",children:"Rate"}),u.jsxs("span",{className:"font-mono text-base sm:text-lg font-bold text-foreground",children:[k.completionRate,u.jsx("span",{className:"text-[10px] sm:text-sm",children:"%"})]})]})]})]},k.id)),j.length>0&&u.jsxs("div",{className:"relative py-4",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-white/10"})}),u.jsx("div",{className:"relative flex justify-center",children:u.jsxs("span",{className:"bg-[#0a0a0a] px-3 text-xs uppercase tracking-widest text-muted-foreground font-semibold",children:["Archiviate (",j.length,")"]})})]}),j.map(k=>u.jsxs("div",{className:"glass-card rounded-xl p-3 sm:p-4 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4 group cursor-pointer hover:bg-white/5 transition-colors opacity-60",onClick:()=>o(k.id),children:[u.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 w-full sm:w-auto",children:[u.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl flex items-center justify-center bg-white/5 border border-white/10 group-hover:scale-110 transition-transform duration-300 shadow-lg shrink-0",style:{borderColor:`${k.color}40`,boxShadow:`0 0 20px ${k.color}10`},children:u.jsx("div",{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 rounded-sm",style:{backgroundColor:k.color}})}),u.jsxs("div",{className:"min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-semibold text-foreground text-base sm:text-lg truncate",children:k.title}),u.jsx("span",{className:"text-xs text-muted-foreground shrink-0",children:"(archiviato)"})]}),u.jsx("div",{className:"h-1 w-16 sm:w-20 bg-secondary rounded-full mt-1 overflow-hidden",children:u.jsx("div",{className:"h-full bg-primary transition-all duration-500",style:{width:`${k.completionRate}%`,backgroundColor:k.color}})})]})]}),u.jsxs("div",{className:"grid grid-cols-4 gap-3 sm:flex sm:gap-6 text-sm text-muted-foreground w-full sm:w-auto justify-between sm:justify-end",children:[u.jsxs("div",{className:"flex flex-col items-center sm:items-end",children:[u.jsxs("span",{className:"text-[9px] sm:text-[10px] uppercase tracking-widest font-bold opacity-60 mb-0.5 flex items-center gap-1",children:[u.jsx(Ma,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-yellow-500"})," Best"]}),u.jsxs("span",{className:"font-mono text-base sm:text-lg font-bold text-foreground",children:[k.longestStreak,u.jsx("span",{className:"text-[10px] sm:text-xs font-sans font-normal opacity-50",children:"gg"})]})]}),u.jsxs("div",{className:"flex flex-col items-center sm:items-end",children:[u.jsxs("span",{className:"text-[9px] sm:text-[10px] uppercase tracking-widest font-bold opacity-60 mb-0.5 flex items-center gap-1",children:[u.jsx(pi,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-destructive"})," Worst"]}),u.jsxs("span",{className:"font-mono text-base sm:text-lg font-bold text-destructive",children:[k.worstStreak,u.jsx("span",{className:"text-[10px] sm:text-xs font-sans font-normal opacity-50",children:"gg"})]})]}),u.jsxs("div",{className:"flex flex-col items-center sm:items-end",children:[u.jsx("span",{className:"text-[9px] sm:text-[10px] uppercase tracking-widest font-bold opacity-60 mb-0.5",children:"Serie"}),u.jsxs("span",{className:"font-mono text-base sm:text-lg font-bold text-foreground",children:[k.currentStreak,u.jsx("span",{className:"text-[10px] sm:text-xs font-sans font-normal opacity-50",children:"gg"})]})]}),u.jsxs("div",{className:"flex flex-col items-center sm:items-end",children:[u.jsx("span",{className:"text-[9px] sm:text-[10px] uppercase tracking-widest font-bold opacity-60 mb-0.5",children:"Rate"}),u.jsxs("span",{className:"font-mono text-base sm:text-lg font-bold text-foreground",children:[k.completionRate,u.jsx("span",{className:"text-[10px] sm:text-sm",children:"%"})]})]})]})]},k.id))]})})()})})]})}),u.jsxs(Nr,{value:"mood-energia",className:"mt-0 space-y-6",children:[u.jsx("div",{className:ae("transition-all duration-300",d&&"blur-sm"),children:u.jsx(DNe,{})}),u.jsx("div",{className:ae("transition-all duration-300",d&&"blur-sm"),children:u.jsx(zNe,{insights:p})}),u.jsx("div",{className:ae("transition-all duration-300",d&&"blur-sm"),children:u.jsx(LNe,{correlations:h})})]})]}):g&&b&&u.jsxs(Js,{defaultValue:"overview",className:"w-full",children:[u.jsxs(qo,{className:"grid w-full grid-cols-5 mb-4 shrink-0",children:[u.jsxs(yt,{value:"overview",className:"text-xs sm:text-sm",children:[u.jsx("span",{className:"hidden sm:inline",children:"Overview"}),u.jsx("span",{className:"sm:hidden",children:"Info"})]}),u.jsxs(yt,{value:"calendario",className:"text-xs sm:text-sm",children:[u.jsx("span",{className:"hidden sm:inline",children:"Calendario"}),u.jsx("span",{className:"sm:hidden",children:"Cal"})]}),u.jsxs(yt,{value:"performance",className:"text-xs sm:text-sm",children:[u.jsx("span",{className:"hidden sm:inline",children:"Performance"}),u.jsx("span",{className:"sm:hidden",children:"Perf"})]}),u.jsxs(yt,{value:"miglioramento",className:"text-xs sm:text-sm",children:[u.jsx("span",{className:"hidden sm:inline",children:"Miglioramento"}),u.jsx("span",{className:"sm:hidden",children:"Tips"})]}),u.jsxs(yt,{value:"mood-energia",className:"text-xs sm:text-sm flex items-center gap-1",children:[u.jsx(Hi,{className:"w-3 h-3"}),u.jsx("span",{children:"Mood"})]})]}),u.jsxs(Nr,{value:"overview",className:"mt-0 space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4",children:[u.jsxs("div",{className:"glass-panel rounded-2xl p-4 text-center",children:[u.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Serie Attuale"}),u.jsx("p",{className:"text-3xl font-bold font-mono",style:{color:g.color},children:b.currentStreak}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"giorni"})]}),u.jsxs("div",{className:"glass-panel rounded-2xl p-4 text-center",children:[u.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Record"}),u.jsx("p",{className:"text-3xl font-bold font-mono text-yellow-500",children:b.bestStreak}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"giorni"})]}),u.jsxs("div",{className:"glass-panel rounded-2xl p-4 text-center",children:[u.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Completamento"}),u.jsxs("p",{className:"text-3xl font-bold font-mono text-primary",children:[b.completionRate,"%"]}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:[b.doneDays,"/",b.totalDays," gg"]})]}),u.jsxs("div",{className:"glass-panel rounded-2xl p-4 text-center",children:[u.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Mancati"}),u.jsx("p",{className:"text-3xl font-bold font-mono text-destructive",children:b.missedDays}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"giorni"})]})]}),u.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[u.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold mb-4",children:"Trend Ultimi 30 Giorni"}),u.jsx("div",{className:"grid grid-cols-10 gap-1 sm:gap-2",children:b.trendData.slice(-30).map((w,j)=>u.jsx("div",{className:"aspect-square rounded-md sm:rounded-lg transition-all duration-300 hover:scale-110",style:{backgroundColor:w.status==="done"?"#11FF00":w.status==="missed"?"#FF0000":"rgba(255,255,255,0.1)",opacity:w.status?1:.4},title:w.date},j))}),u.jsxs("div",{className:"flex items-center gap-4 mt-3 text-xs text-muted-foreground",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:"#11FF00"}}),u.jsx("span",{children:"Completato"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("div",{className:"w-3 h-3 rounded-sm bg-white/10"}),u.jsx("span",{children:"Non completato"})]})]})]}),u.jsx("div",{className:ae("transition-all duration-300",d&&"blur-sm"),children:u.jsx(UNe,{habitId:g.id,habitTitle:g.title,habitColor:g.color,allCorrelations:v})})]}),u.jsx(Nr,{value:"calendario",className:"mt-0 space-y-6",children:u.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[u.jsxs("h3",{className:"text-base sm:text-lg font-display font-semibold mb-4 flex items-center gap-2",children:[u.jsx(Ha,{className:"w-5 h-5"}),"Calendario Annuale"]}),u.jsx("div",{className:"flex gap-1 flex-wrap",children:b.heatmapData.map((w,j)=>u.jsx("div",{className:"w-3 h-3 rounded-sm transition-all",style:{backgroundColor:w.count===1?"#11FF00":w.count===-1?"#FF0000":"rgba(255,255,255,0.05)"},title:`${w.date}: ${w.count===1?"Completato":w.count===-1?"Mancato":"Non tracciato"}`},j))}),u.jsxs("div",{className:"flex items-center gap-4 mt-4 text-xs text-muted-foreground",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:"#11FF00"}}),u.jsx("span",{children:"Completato"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("div",{className:"w-3 h-3 rounded-sm bg-destructive"}),u.jsx("span",{children:"Mancato"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("div",{className:"w-3 h-3 rounded-sm bg-white/5"}),u.jsx("span",{children:"Non tracciato"})]})]})]})}),u.jsxs(Nr,{value:"performance",className:"mt-0 space-y-6",children:[u.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[u.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold mb-4",children:"Performance per Giorno"}),u.jsx("div",{className:"grid grid-cols-7 gap-2",children:b.weekdayPerformance.map((w,j)=>u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:w.day}),u.jsx("div",{className:"h-24 bg-white/5 rounded-lg relative overflow-hidden",children:u.jsx("div",{className:"absolute bottom-0 left-0 right-0 transition-all duration-500 rounded-t",style:{height:`${w.rate}%`,backgroundColor:w.rate>=70?"#11FF00":w.rate>=40?"#f59e0b":"#FF0000"}})}),u.jsxs("p",{className:"text-sm font-bold mt-2",children:[w.rate,"%"]})]},j))})]}),b.worstDay.day!=="N/A"&&u.jsx("div",{className:"glass-panel rounded-2xl p-4 border border-destructive/30",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(nl,{className:"w-5 h-5 text-destructive"}),u.jsxs("div",{children:[u.jsxs("p",{className:"font-semibold",children:["Giorno pi debole: ",b.worstDay.day]}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Solo ",b.worstDay.rate,"% di completamento (",b.worstDay.done,"/",b.worstDay.total,")"]})]})]})})]}),u.jsxs(Nr,{value:"miglioramento",className:"mt-0 space-y-6",children:[u.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[u.jsxs("h3",{className:"text-base sm:text-lg font-display font-semibold mb-4 flex items-center gap-2",children:[u.jsx(pi,{className:"w-5 h-5 text-destructive"}),"Serie Negativa Peggiore"]}),b.worstNegativeStreak>0?u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"text-4xl font-bold font-mono text-destructive",children:b.worstNegativeStreak}),u.jsxs("div",{children:[u.jsx("p",{className:"text-muted-foreground",children:"giorni consecutivi mancati"}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Iniziata il ",Xe(new Date(b.worstNegativeStreakStart),"d MMMM yyyy",{locale:Hr})]})]})]}):u.jsx("p",{className:"text-muted-foreground",children:"Nessuna serie negativa significativa. Ottimo lavoro! "})]}),u.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[u.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold mb-4",children:"Streak Interrotti"}),b.brokenStreaks.length>0?u.jsx("div",{className:"space-y-3",children:b.brokenStreaks.map((w,j)=>u.jsx("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-xl",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-destructive/20 flex items-center justify-center",children:u.jsx("span",{className:"text-destructive font-bold",children:w.streakLength})}),u.jsxs("div",{children:[u.jsxs("p",{className:"font-semibold",children:["Streak di ",w.streakLength," giorni interrotto"]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:Xe(new Date(w.date),"d MMMM yyyy",{locale:Hr})})]})]})},j))}):u.jsx("p",{className:"text-muted-foreground",children:"Nessuno streak significativo interrotto."})]}),u.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6 border border-primary/30",children:[u.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold mb-4",children:" Suggerimenti"}),u.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[b.worstDay.day!=="N/A"&&b.worstDay.rate<50&&u.jsxs("li",{children:[" Concentrati sul ",u.jsx("strong",{className:"text-foreground",children:b.worstDay.day})," -  il tuo giorno pi debole"]}),b.worstNegativeStreak>=3&&u.jsxs("li",{children:[" Evita pause prolungate - la tua serie negativa pi lunga  stata di ",b.worstNegativeStreak," giorni"]}),b.completionRate<70&&u.jsx("li",{children:" Obiettivo: raggiungi almeno il 70% di completamento per consolidare l'abitudine"}),b.completionRate>=80&&u.jsx("li",{children:"  Ottimo lavoro! Mantieni questa costanza"})]})]})]}),u.jsx(Nr,{value:"mood-energia",className:"mt-0 space-y-6",children:(()=>{const w=h.find(j=>j.habitId===a);return w?u.jsx($Ne,{correlation:w}):u.jsxs("div",{className:"glass-panel rounded-3xl p-8 text-center",children:[u.jsx(Hi,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground opacity-50"}),u.jsx("p",{className:"text-muted-foreground",children:"Non ci sono abbastanza dati per analizzare la correlazione mood/energia."}),u.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Registra il tuo mood ed energia quotidianamente per vedere le correlazioni."})]})})()})]},a)]})},nn={red:"Rosso",orange:"Arancione",yellow:"Giallo",blue:"Blu",purple:"Viola",pink:"Rosa",cyan:"Ciano"},eu={red:"hsl(0 65% 55%)",orange:"hsl(25 60% 45%)",yellow:"hsl(45 90% 45%)",blue:"hsl(220 70% 50%)",purple:"hsl(270 70% 50%)",pink:"hsl(330 70% 50%)",cyan:"hsl(170 70% 40%)"};function ME(){const e=eo(),{data:t,isLoading:r}=ji({queryKey:["goalCategorySettings"],queryFn:async()=>{const{data:{user:l}}=await be.auth.getUser();if(!l)return null;const{data:c,error:d}=await be.from("goal_category_settings").select("*").eq("user_id",l.id).single();return d&&d.code!=="PGRST116"&&console.error("Error fetching category settings:",d),c}}),n=xn({mutationFn:async l=>{const{data:{user:c}}=await be.auth.getUser();if(!c)throw new Error("Not authenticated");const{data:d}=await be.from("goal_category_settings").select("id").eq("user_id",c.id).single();if(d){const{error:f}=await be.from("goal_category_settings").update({mappings:l}).eq("id",d.id);if(f)throw f}else{const{error:f}=await be.from("goal_category_settings").insert({user_id:c.id,mappings:l});if(f)throw f}},onSuccess:()=>{e.invalidateQueries({queryKey:["longTermGoals"]}),e.invalidateQueries({queryKey:["goalCategorySettings"]}),We.success("Categorie aggiornate con successo")},onError:()=>{We.error("Errore durante l'aggiornamento delle categorie")}}),i=S.useMemo(()=>{const l={};return t?.mappings&&Object.entries(t.mappings).forEach(([c,d])=>{typeof d=="string"?l[c]=d:l[c]=d.label}),{...nn,...l}},[t]),a=S.useMemo(()=>{const l={};return Object.entries(nn).forEach(([c,d])=>{l[c]=d}),t?.mappings&&Object.entries(t.mappings).forEach(([c,d])=>{typeof d!="string"&&d.archived?delete l[c]:typeof d=="string"?l[c]=d:l[c]=d.label}),l},[t]),o=l=>{if(!l)return"Generale";const c=t?.mappings?.[l];return typeof c=="string"?c:c?.label?c.label:nn[l]||l},s=l=>{if(!l)return null;const c=t?.mappings?.[l];return c&&typeof c!="string"&&c.color?c.color:eu[l]||null};return{settings:t,isLoading:r,updateSettings:n.mutate,getLabel:o,getColor:s,categoryLabels:i,activeCategoryLabels:a}}function S2e({year:e}){const{getLabel:t}=ME(),{data:r,isLoading:n}=ji({queryKey:["longTermGoals","stats",e],queryFn:async()=>{let O=[],P=0;const N=1e3;let M=!0;for(;M;){let E=be.from("long_term_goals").select("*");e!=="all"&&(E=E.eq("year",typeof e=="string"?parseInt(e):e));const{data:R,error:F}=await E.range(P,P+N-1);if(F)throw F;R&&R.length>0?(O=[...O,...R],R.length<N?M=!1:P+=N):M=!1}return O}});if(S.useEffect(()=>{(async()=>{const{error:P}=await be.rpc("check_and_fail_expired_goals");P&&console.error("Error checking expired goals:",P)})()},[]),n)return u.jsx("div",{className:"flex justify-center p-8",children:u.jsx(Qn,{className:"w-8 h-8 animate-spin text-muted-foreground"})});if(!r||r.length===0)return u.jsxs("div",{className:"text-center p-12 border border-dashed border-white/10 rounded-xl text-muted-foreground",children:["Nessun dato disponibile per ",e==="all"?"il periodo selezionato":`il ${e}`,". Aggiungi qualche obiettivo!"]});const i=r.length,a=r.filter(O=>O.status==="completed").length,o=Math.round(a/i*100)||0,s=r.filter(O=>O.type==="lifetime"),l=r.filter(O=>O.type!=="lifetime"),c=l.map(O=>O.year).filter(O=>O!==null),d=c.length>0?Math.min(...c):new Date().getFullYear(),f={annual:r.filter(O=>O.type==="annual").length,quarterly:r.filter(O=>O.type==="quarterly").length,monthly:r.filter(O=>O.type==="monthly").length,weekly:r.filter(O=>O.type==="weekly").length,lifetime:s.length},h=[{type:"Lifetime",total:f.lifetime,completed:s.filter(O=>O.status==="completed").length},{type:"Annuale",total:f.annual,completed:r.filter(O=>O.type==="annual"&&O.status==="completed").length},{type:"Trimestrale",total:f.quarterly,completed:r.filter(O=>O.type==="quarterly"&&O.status==="completed").length},{type:"Mensile",total:f.monthly,completed:r.filter(O=>O.type==="monthly"&&O.status==="completed").length},{type:"Settimanale",total:f.weekly,completed:r.filter(O=>O.type==="weekly"&&O.status==="completed").length}].map(O=>({...O,rate:O.total>0?Math.round(O.completed/O.total*100):0})).sort((O,P)=>P.rate-O.rate||P.completed-O.completed),p=h[0],v={};r.forEach(O=>{const P=O.color||"null",N=t(P==="null"?null:P),M=P==="null"?"Generale":nn[P]||P;(P==="null"||!(P!=="null"&&N===M))&&(v[P]||(v[P]={total:0,completed:0}),v[P].total++,O.status==="completed"&&v[P].completed++)});const m=Object.entries(v).map(([O,P])=>({subject:t(O==="null"?null:O),A:Math.round(P.completed/P.total*100),fullMark:100,total:P.total})).sort((O,P)=>P.A-O.A),g=m.length>0?m[0]:null,y={red:"#f43f5e",orange:"#f97316",yellow:"#fbbf24",green:"#10b981",blue:"#2563eb",purple:"#7c3aed",pink:"#d946ef",cyan:"#06b6d4",null:"#525252"},b=Object.entries(v).map(([O,P])=>({name:t(O==="null"?null:O),value:P.total,fill:y[O]||"#888888"})).sort((O,P)=>P.value-O.value);if(e==="all"){const O={};l.forEach(q=>{q.year!==null&&(O[q.year]||(O[q.year]={total:0,completed:0,failed:0,active:0,rate:0}),O[q.year].total++,q.status==="completed"?O[q.year].completed++:q.status==="failed"?O[q.year].failed++:O[q.year].active++)});const P=Object.entries(O).map(([q,L])=>({year:q,total:L.total,completed:L.completed,failed:L.failed,active:L.active,rate:Math.round(L.completed/L.total*100)||0})).sort((q,L)=>parseInt(q.year)-parseInt(L.year)),N=[...P].sort((q,L)=>L.rate-q.rate||L.completed-q.completed)[0],M=[...P].sort((q,L)=>L.completed-q.completed)[0],E=[1,2,3,4].map(q=>({name:`Q${q}`,total:0,completed:0,failed:0,active:0,rate:0}));l.forEach(q=>{const L=q.quarter;if(L&&L>=1&&L<=4){const D=L-1;E[D].total++,q.status==="completed"?E[D].completed++:q.status==="failed"?E[D].failed++:E[D].active++}}),E.forEach(q=>{q.rate=q.total>0?Math.round(q.completed/q.total*100):0});const R=Array.from({length:12},(q,L)=>({name:new Date(2024,L).toLocaleString("it-IT",{month:"short"}),monthIndex:L+1,total:0,completed:0,failed:0,active:0,rate:0}));l.forEach(q=>{if(q.month&&q.month>=1&&q.month<=12){const L=q.month-1;R[L].total++,q.status==="completed"?R[L].completed++:q.status==="failed"?R[L].failed++:R[L].active++}}),R.forEach(q=>{q.rate=q.total>0?Math.round(q.completed/q.total*100):0});const F=[];return Array.from(new Set(l.map(q=>q.year).filter(q=>q!==null))).sort((q,L)=>q-L).forEach(q=>{const L=l.filter(W=>W.year===q),D={year:q.toString(),total:L.length};Object.keys(y).forEach(W=>{const B=t(W==="null"?null:W),$=W==="null"?"Generale":nn[W]||W;(W==="null"||!(W!=="null"&&B===$))&&(D[W]=0)}),L.forEach(W=>{const B=W.color||"null",$=t(B==="null"?null:B),Q=B==="null"?"Generale":nn[B]||B;(B==="null"||!(B!=="null"&&$===Q))&&D[B]!==void 0&&D[B]++}),F.push(D)}),u.jsxs("div",{className:"space-y-8 animate-fade-in pb-10",children:[u.jsxs("div",{className:"grid gap-6 md:grid-cols-4",children:[u.jsxs(qe,{className:"bg-gradient-to-br from-indigo-500/10 to-blue-600/10 border-indigo-500/20 shadow-lg shadow-indigo-500/5",children:[u.jsxs(et,{className:"flex flex-row items-center justify-between pb-2",children:[u.jsx(tt,{className:"text-sm font-medium text-indigo-400",children:"Totale Storico"}),u.jsx(Gr,{className:"h-4 w-4 text-indigo-500"})]}),u.jsxs(Ve,{children:[u.jsx("div",{className:"text-3xl font-bold text-white",children:i}),u.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Obiettivi tracciati dal ",d]})]})]}),u.jsxs(qe,{className:"bg-gradient-to-br from-emerald-500/10 to-teal-500/10 border-emerald-500/20 shadow-lg shadow-emerald-500/5",children:[u.jsxs(et,{className:"flex flex-row items-center justify-between pb-2",children:[u.jsx(tt,{className:"text-sm font-medium text-emerald-400",children:"Successo Globale"}),u.jsx(Ma,{className:"h-4 w-4 text-emerald-500"})]}),u.jsxs(Ve,{children:[u.jsxs("div",{className:"text-3xl font-bold text-white",children:[o,"%"]}),u.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[a," obiettivi completati"]})]})]}),u.jsxs(qe,{className:"bg-gradient-to-br from-amber-500/10 to-orange-500/10 border-amber-500/20 shadow-lg shadow-amber-500/5",children:[u.jsxs(et,{className:"flex flex-row items-center justify-between pb-2",children:[u.jsx(tt,{className:"text-sm font-medium text-amber-400",children:"Anno Migliore"}),u.jsx(Ha,{className:"h-4 w-4 text-amber-500"})]}),u.jsxs(Ve,{children:[u.jsx("div",{className:"text-3xl font-bold text-white",children:N?.year||"N/A"}),u.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[N?.rate,"% completamento"]})]})]}),u.jsxs(qe,{className:"bg-gradient-to-br from-cyan-500/10 to-sky-500/10 border-cyan-500/20 shadow-lg shadow-cyan-500/5",children:[u.jsxs(et,{className:"flex flex-row items-center justify-between pb-2",children:[u.jsx(tt,{className:"text-sm font-medium text-cyan-400",children:"Anno Pi Produttivo"}),u.jsx(_u,{className:"h-4 w-4 text-cyan-500"})]}),u.jsxs(Ve,{children:[u.jsx("div",{className:"text-3xl font-bold text-white",children:M?.year||"N/A"}),u.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[M?.total," obiettivi totali"]})]})]})]}),u.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[u.jsxs(qe,{className:"md:col-span-2 bg-card/40 border-white/5 backdrop-blur-sm p-2",children:[u.jsxs(et,{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ar,{className:"w-5 h-5 text-blue-500"}),u.jsx(tt,{children:"Progressione Annuale"})]}),u.jsx(Vn,{children:"Confronto anno per anno del volume di obiettivi e completamenti"})]}),u.jsx(Ve,{className:"h-[300px] sm:h-[400px]",children:u.jsx(br,{width:"100%",height:"100%",children:u.jsxs(Od,{data:P,margin:{top:20,right:20,bottom:20,left:20},children:[u.jsx(vn,{strokeDasharray:"3 3",stroke:"#ffffff10",vertical:!1}),u.jsx(ir,{dataKey:"year",stroke:"#888888",fontSize:14,tickLine:!1,axisLine:!1}),u.jsx(Bt,{yAxisId:"left",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),u.jsx(Bt,{yAxisId:"right",orientation:"right",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,unit:"%",domain:[0,100]}),u.jsx(Ot,{contentStyle:{backgroundColor:"#09090b",border:"1px solid #27272a",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.5)"},cursor:{fill:"#ffffff05"}}),u.jsx(sn,{wrapperStyle:{paddingTop:"20px"}}),u.jsx(Ft,{yAxisId:"left",dataKey:"active",stackId:"a",name:"Attivi",fill:"#3b82f6",radius:[0,0,4,4],barSize:40,fillOpacity:.8}),u.jsx(Ft,{yAxisId:"left",dataKey:"failed",stackId:"a",name:"Falliti",fill:"#ef4444",radius:[0,0,0,0],barSize:40,fillOpacity:.8}),u.jsx(Ft,{yAxisId:"left",dataKey:"completed",stackId:"a",name:"Completati",fill:"#10b981",radius:[4,4,0,0],barSize:40,fillOpacity:.8}),u.jsx(Tn,{yAxisId:"right",type:"monotone",dataKey:"rate",name:"Tasso Successo %",stroke:"#f59e0b",strokeWidth:3,dot:{r:4,strokeWidth:2},activeDot:{r:6}})]})})})]}),u.jsxs(qe,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[u.jsx(et,{children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Gr,{className:"w-5 h-5 text-cyan-500"}),u.jsx(tt,{children:"Performance per Categoria (Storico)"})]})}),u.jsx(Ve,{className:"h-[300px] sm:h-[350px]",children:u.jsx(br,{width:"100%",height:"100%",children:u.jsxs(m_,{cx:"50%",cy:"50%",outerRadius:"65%",data:m,children:[u.jsx(Tp,{stroke:"#ffffff20"}),u.jsx(Za,{dataKey:"subject",tick:{fill:"#a1a1aa",fontSize:13,fontWeight:500}}),u.jsx(is,{angle:30,domain:[0,100],tick:!1,axisLine:!1}),u.jsx(as,{name:"Success Rate",dataKey:"A",stroke:"#06b6d4",fill:"#06b6d4",fillOpacity:.5}),u.jsx(Ot,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"},formatter:q=>[`${q}%`,"Successo"]})]})})})]}),u.jsxs(qe,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[u.jsx(et,{children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ju,{className:"w-5 h-5 text-purple-500"}),u.jsx(tt,{children:"Distribuzione Tipologie"})]})}),u.jsx(Ve,{className:"h-[300px] sm:h-[350px]",children:u.jsx(br,{width:"100%",height:"100%",children:u.jsxs(Jc,{data:h,layout:"vertical",margin:{left:20},children:[u.jsx(vn,{strokeDasharray:"3 3",stroke:"#ffffff10",horizontal:!0,vertical:!1}),u.jsx(ir,{type:"number",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),u.jsx(Bt,{dataKey:"type",type:"category",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,width:80}),u.jsx(Ot,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},cursor:{fill:"#ffffff05"}}),u.jsx(Ft,{dataKey:"rate",name:"Successo %",fill:"#8b5cf6",radius:[0,4,4,0],barSize:30})]})})})]}),u.jsxs(qe,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[u.jsxs(et,{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ha,{className:"w-5 h-5 text-amber-500"}),u.jsx(tt,{children:"Stagionalit (Performance Trimestrale)"})]}),u.jsx(Vn,{children:"Aggregato di tutti gli anni: in quale trimestre rendi meglio?"})]}),u.jsx(Ve,{className:"h-[300px] sm:h-[350px]",children:u.jsx(br,{width:"100%",height:"100%",children:u.jsxs(Jc,{data:E,children:[u.jsx(vn,{strokeDasharray:"3 3",stroke:"#ffffff10",vertical:!1}),u.jsx(ir,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),u.jsx(Bt,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),u.jsx(Ot,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},cursor:{fill:"#ffffff05"}}),u.jsx(sn,{wrapperStyle:{paddingTop:"20px"}}),u.jsx(Ft,{dataKey:"active",stackId:"a",name:"Attivi",fill:"#3b82f6",radius:[0,0,4,4],barSize:30,fillOpacity:.6}),u.jsx(Ft,{dataKey:"failed",stackId:"a",name:"Falliti",fill:"#f59e0b",radius:[0,0,0,0],barSize:30,fillOpacity:.8}),u.jsx(Ft,{dataKey:"completed",stackId:"a",name:"Completati",fill:"#10b981",radius:[4,4,0,0],barSize:30})]})})})]}),u.jsxs(qe,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[u.jsxs(et,{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(_u,{className:"w-5 h-5 text-pink-500"}),u.jsx(tt,{children:"Performance Mensile (Storico)"})]}),u.jsx(Vn,{children:"Successo medio per mese: scopri il tuo ritmo ideale"})]}),u.jsx(Ve,{className:"h-[300px] sm:h-[350px]",children:u.jsx(br,{width:"100%",height:"100%",children:u.jsxs(ONe,{data:R,children:[u.jsx(vn,{strokeDasharray:"3 3",stroke:"#ffffff10",vertical:!1}),u.jsx(ir,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),u.jsx(Bt,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,unit:"%",domain:[0,100]}),u.jsx(Ot,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},cursor:{stroke:"#ffffff20"}}),u.jsx(Tn,{type:"monotone",dataKey:"rate",name:"Tasso di Successo",stroke:"#ec4899",strokeWidth:3,dot:{r:4,strokeWidth:2,fill:"#1f1f1f"},activeDot:{r:6,fill:"#ec4899"}})]})})})]}),u.jsxs(qe,{className:"md:col-span-2 bg-card/40 border-white/5 backdrop-blur-sm",children:[u.jsxs(et,{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ar,{className:"w-5 h-5 text-indigo-500"}),u.jsx(tt,{children:"Evoluzione Interessi (Categorie)"})]}),u.jsx(Vn,{children:"Come sono cambiati i tuoi focus nel corso degli anni"})]}),u.jsx(Ve,{className:"h-[300px] sm:h-[400px]",children:u.jsx(br,{width:"100%",height:"100%",children:u.jsxs(Jc,{data:F,children:[u.jsx(vn,{strokeDasharray:"3 3",stroke:"#ffffff10",vertical:!1}),u.jsx(ir,{dataKey:"year",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),u.jsx(Bt,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),u.jsx(Ot,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},cursor:{fill:"#ffffff05"}}),u.jsx(sn,{}),Object.entries(y).map(([q,L])=>{const D=t(q==="null"?null:q),W=q==="null"?"Generale":nn[q]||q;return q==="null"||!(q!=="null"&&D===W)?u.jsx(Ft,{dataKey:q,name:D,stackId:"a",fill:L},q):null})]})})})]})]})]})}const _=typeof e=="string"?parseInt(e):e,w=Array.from({length:12},(O,P)=>({name:new Date(_,P).toLocaleString("it-IT",{month:"short"}),monthIndex:P+1,total:0,completed:0,failed:0,active:0,rate:0,cumulativeTotal:0,cumulativeCompleted:0}));let j=0,k=0;l.forEach(O=>{let P=0;O.month&&(P=O.month-1),P<0&&(P=0),P>11&&(P=11),w[P].total++,O.status==="completed"?w[P].completed++:O.status==="failed"?w[P].failed++:w[P].active++}),w.forEach(O=>{O.rate=O.total>0?Math.round(O.completed/O.total*100):0,j+=O.total,k+=O.completed,O.cumulativeTotal=j,O.cumulativeCompleted=k});const A=[1,2,3,4].map(O=>({name:`Q${O}`,quarterIndex:O,total:0,completed:0,rate:0}));r.filter(O=>O.quarter).forEach(O=>{if(O.quarter&&O.quarter>=1&&O.quarter<=4){const P=O.quarter-1;A[P].total++,O.status==="completed"&&A[P].completed++}}),A.forEach(O=>{O.rate=O.total>0?Math.round(O.completed/O.total*100):0});const T=[...w].filter(O=>O.total>0).sort((O,P)=>P.rate-O.rate||P.completed-O.completed)[0];return u.jsxs("div",{className:"space-y-6 animate-fade-in pb-10",children:[u.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[u.jsxs(qe,{className:"bg-gradient-to-br from-purple-500/10 to-blue-500/10 border-purple-500/20",children:[u.jsxs(et,{className:"flex flex-row items-center justify-between pb-2",children:[u.jsx(tt,{className:"text-sm font-medium text-purple-400",children:"Punto di Forza"}),u.jsx(Gi,{className:"h-4 w-4 text-purple-500"})]}),u.jsxs(Ve,{children:[u.jsx("div",{className:"text-2xl font-bold text-white",children:g?.subject||"N/A"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:g?`${g.A}% di completamento`:"Nessun dato"})]})]}),u.jsxs(qe,{className:"bg-gradient-to-br from-amber-500/10 to-orange-500/10 border-amber-500/20",children:[u.jsxs(et,{className:"flex flex-row items-center justify-between pb-2",children:[u.jsx(tt,{className:"text-sm font-medium text-amber-400",children:"Mese Migliore"}),u.jsx(Ma,{className:"h-4 w-4 text-amber-500"})]}),u.jsxs(Ve,{children:[u.jsx("div",{className:"text-2xl font-bold text-white",children:T?.name||"N/A"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:T?`${T.rate}% di successo (${T.completed}/${T.total})`:"Nessuna attivit"})]})]}),u.jsxs(qe,{className:"bg-gradient-to-br from-emerald-500/10 to-cyan-500/10 border-emerald-500/20",children:[u.jsxs(et,{className:"flex flex-row items-center justify-between pb-2",children:[u.jsx(tt,{className:"text-sm font-medium text-emerald-400",children:"Tipologia Efficace"}),u.jsx(ju,{className:"h-4 w-4 text-emerald-500"})]}),u.jsxs(Ve,{children:[u.jsx("div",{className:"text-2xl font-bold text-white capitalize",children:p.total>0?p.type:"N/A"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:p.total>0?`${p.rate}% di successo`:"Dati insufficienti"})]})]})]}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[u.jsxs(qe,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[u.jsxs(et,{className:"flex flex-row items-center justify-between pb-2",children:[u.jsx(tt,{className:"text-sm font-medium text-muted-foreground",children:"Totale"}),u.jsx(Gr,{className:"h-4 w-4 text-primary"})]}),u.jsx(Ve,{children:u.jsx("div",{className:"text-2xl font-bold text-white",children:i})})]}),u.jsxs(qe,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[u.jsxs(et,{className:"flex flex-row items-center justify-between pb-2",children:[u.jsx(tt,{className:"text-sm font-medium text-muted-foreground",children:"Completati"}),u.jsx(Ia,{className:"h-4 w-4 text-green-500"})]}),u.jsx(Ve,{children:u.jsx("div",{className:"text-2xl font-bold text-white",children:a})})]}),u.jsxs(qe,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[u.jsxs(et,{className:"flex flex-row items-center justify-between pb-2",children:[u.jsx(tt,{className:"text-sm font-medium text-muted-foreground",children:"Successo"}),u.jsx(Ma,{className:"h-4 w-4 text-yellow-500"})]}),u.jsx(Ve,{children:u.jsxs("div",{className:"text-2xl font-bold text-white",children:[o,"%"]})})]}),u.jsxs(qe,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[u.jsxs(et,{className:"flex flex-row items-center justify-between pb-2",children:[u.jsx(tt,{className:"text-sm font-medium text-muted-foreground",children:"Trend"}),u.jsx(Ar,{className:"h-4 w-4 text-blue-500"})]}),u.jsx(Ve,{children:u.jsx("div",{className:"text-2xl font-bold text-white",children:k>0?"In Crescita":"Stabile"})})]})]}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[u.jsxs(qe,{className:"md:col-span-2 bg-card/40 border-white/5 backdrop-blur-sm",children:[u.jsxs(et,{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(A9,{className:"w-5 h-5 text-orange-500"}),u.jsx(tt,{children:"Velocit di Esecuzione (Cumulativa)"})]}),u.jsx(Vn,{children:"Confronto tra obiettivi pianificati e completati nel tempo"})]}),u.jsx(Ve,{className:"h-[300px] sm:h-[350px]",children:u.jsx(br,{width:"100%",height:"100%",children:u.jsxs(qV,{data:w,children:[u.jsxs("defs",{children:[u.jsxs("linearGradient",{id:"colorTotal",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.3}),u.jsx("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})]}),u.jsxs("linearGradient",{id:"colorCompleted",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:"#82ca9d",stopOpacity:.3}),u.jsx("stop",{offset:"95%",stopColor:"#82ca9d",stopOpacity:0})]})]}),u.jsx(ir,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),u.jsx(Bt,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),u.jsx(vn,{strokeDasharray:"3 3",stroke:"#ffffff10"}),u.jsx(Ot,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"}}),u.jsx(Rn,{type:"monotone",dataKey:"cumulativeTotal",stroke:"#8884d8",fillOpacity:1,fill:"url(#colorTotal)",name:"Obiettivi Totali"}),u.jsx(Rn,{type:"monotone",dataKey:"cumulativeCompleted",stroke:"#82ca9d",fillOpacity:1,fill:"url(#colorCompleted)",name:"Obiettivi Completati"})]})})})]}),u.jsxs(qe,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[u.jsxs(et,{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Gr,{className:"w-5 h-5 text-cyan-500"}),u.jsx(tt,{children:"Performance Categorie"})]}),u.jsx(Vn,{children:"Tasso di successo per categoria"})]}),u.jsx(Ve,{className:"h-[300px] sm:h-[350px]",children:u.jsx(br,{width:"100%",height:"100%",children:u.jsxs(m_,{cx:"50%",cy:"50%",outerRadius:"65%",data:m,children:[u.jsx(Tp,{stroke:"#ffffff20"}),u.jsx(Za,{dataKey:"subject",tick:{fill:"#a1a1aa",fontSize:13,fontWeight:500}}),u.jsx(is,{angle:30,domain:[0,100],tick:!1,axisLine:!1}),u.jsx(as,{name:"Success Rate",dataKey:"A",stroke:"#06b6d4",fill:"#06b6d4",fillOpacity:.5}),u.jsx(Ot,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"},formatter:O=>[`${O}%`,"Successo"]})]})})})]})]}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[u.jsxs(qe,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[u.jsxs(et,{children:[u.jsx(tt,{children:"Attivit Trimestrale"}),u.jsx(Vn,{children:"Progressione Q1 - Q4"})]}),u.jsx(Ve,{className:"h-[300px]",children:u.jsx(br,{width:"100%",height:"100%",children:u.jsxs(Jc,{data:A,children:[u.jsx(ir,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),u.jsx(Bt,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),u.jsx(Ot,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"},cursor:{fill:"#ffffff05"}}),u.jsx(vn,{stroke:"#ffffff10",vertical:!1}),u.jsx(Ft,{dataKey:"total",name:"Pianificati",fill:"#f59e0b",radius:[4,4,0,0],barSize:30,fillOpacity:.7}),u.jsx(Ft,{dataKey:"completed",name:"Completati",fill:"#10b981",radius:[4,4,0,0],barSize:30})]})})})]}),u.jsxs(qe,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[u.jsx(et,{children:u.jsx(tt,{children:"Attivit Mensile"})}),u.jsx(Ve,{className:"h-[300px]",children:u.jsx(br,{width:"100%",height:"100%",children:u.jsxs(Od,{data:w,children:[u.jsx(ir,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),u.jsx(Bt,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),u.jsx(Ot,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"}}),u.jsx(vn,{stroke:"#ffffff10"}),u.jsx(Ft,{dataKey:"total",barSize:20,fill:"#413ea0",radius:[4,4,0,0],name:"Creati"}),u.jsx(Tn,{type:"monotone",dataKey:"completed",stroke:"#ff7300",strokeWidth:2,name:"Completati"})]})})})]}),u.jsxs(qe,{className:"md:col-span-2 bg-card/40 border-white/5 backdrop-blur-sm",children:[u.jsx(et,{children:u.jsx(tt,{children:"Distribuzione Categorie"})}),u.jsx(Ve,{className:"h-[300px]",children:u.jsx(br,{width:"100%",height:"100%",children:u.jsxs(CNe,{children:[u.jsx(pa,{data:b,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:b.map((O,P)=>u.jsx(dc,{fill:O.fill},`cell-${P}`))}),u.jsx(Ot,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"}}),u.jsx(sn,{formatter:(O,P)=>u.jsx("span",{style:{color:"#ccc"},children:O})})]})})})]})]})]})}function _2e(){const{settings:e,updateSettings:t}=ME(),[r,n]=S.useState({}),[i,a]=S.useState(!1);S.useEffect(()=>{i&&e?.mappings?n(e.mappings):i&&n({})},[i,e]);const o=()=>{t(r),a(!1)},s=(d,f)=>{n(h=>{const p=h[d],v=typeof p=="object"?p.color:eu[d]||"";return{...h,[d]:{label:f,color:v}}})},l=(d,f)=>{n(h=>{const p=h[d],v=typeof p=="object"?p.label:typeof p=="string"?p:nn[d]||"";return{...h,[d]:{label:v,color:f}}})},c=d=>{const f=r[d];return f?typeof f=="string"?{label:f,color:eu[d]||""}:f:{label:nn[d]||"",color:eu[d]||""}};return u.jsxs(Lm,{open:i,onOpenChange:a,children:[u.jsx(Gj,{asChild:!0,children:u.jsx(Ce,{variant:"outline",size:"icon",title:"Impostazioni Categorie",className:"h-10 w-10 sm:h-9 sm:w-9",children:u.jsx(T9,{className:"w-4 h-4"})})}),u.jsxs(zd,{className:"sm:max-w-[425px] flex flex-col max-h-[85vh] p-0 gap-0 bg-[#0a0a0a]/90 backdrop-blur-2xl border-white/10 text-foreground",children:[u.jsxs(zm,{className:"p-6 pb-2 shrink-0",children:[u.jsx(Fd,{children:"Personalizza Categorie"}),u.jsx(Bd,{children:"Personalizza i colori e le etichette per i tuoi obiettivi."})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-6 pt-2 space-y-4",children:[u.jsx("div",{className:"space-y-2",children:Array.from(new Set([...Object.keys(nn),...Object.keys(r)])).filter(d=>{const f=r[d];return!(f&&typeof f!="string"&&f.archived)}).map(d=>{const{label:f,color:h}=c(d),p=d in nn;return u.jsxs("div",{className:"grid grid-cols-[auto_1fr_auto] items-center gap-3 p-3 rounded-lg bg-white/5 border border-white/5 group",children:[u.jsx(Xj,{value:h||"hsl(0 0% 50%)",onChange:v=>l(d,v),showValueLabel:!1,className:"w-10"}),u.jsx(ta,{id:d,value:f,placeholder:nn[d]||"Nuova Categoria",onChange:v=>s(d,v.target.value),className:"h-9 bg-black/20 border-white/10"}),!p&&u.jsxs(Bo,{children:[u.jsx(cl,{asChild:!0,children:u.jsx(Ce,{variant:"ghost",size:"icon",className:"h-9 w-9 text-muted-foreground hover:text-destructive opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M3 6h18"}),u.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),u.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})})}),u.jsxs(La,{children:[u.jsxs(za,{children:[u.jsx(Ba,{children:"Sei sicuro?"}),u.jsx(qa,{children:"Questa azione archivier la categoria. Verr rimossa dalle opzioni future, ma lo storico rimarr accessibile."})]}),u.jsxs(Fa,{children:[u.jsx(Jo,{children:"Annulla"}),u.jsx(Ua,{onClick:()=>{n(v=>{const m=v[d],g=typeof m=="object"?m.label:typeof m=="string"?m:nn[d]||"",y=typeof m=="object"?m.color:eu[d]||"";return{...v,[d]:{label:g,color:y||"hsl(0 0% 50%)",archived:!0}}})},children:"Elimina"})]})]})]})]},d)})}),u.jsx(Ce,{variant:"outline",className:"w-full border-dashed border-white/20 hover:border-white/40 hover:bg-white/5",onClick:()=>{const d=`custom_${Date.now()}`;n(f=>({...f,[d]:{label:"Nuova Categoria",color:"hsl(0 0% 50%)"}}))},children:"+ Aggiungi Categoria"})]}),u.jsx(Mz,{className:"p-6 pt-2 shrink-0",children:u.jsx(Ce,{type:"submit",onClick:o,className:"w-full",children:"Salva Modifiche"})})]})]})}function j2e(){const e=eo(),[t,r]=S.useState(!1),[n,i]=S.useState(!1);return{exportBackup:async(s={scope:"all"})=>{r(!0);try{const{data:{user:l}}=await be.auth.getUser();if(!l)throw new Error("Not authenticated");let c=be.from("long_term_goals").select("*").eq("user_id",l.id);s.scope==="year"&&s.year&&(c=c.eq("year",s.year));const{data:d,error:f}=await c;if(f)throw f;const{data:h,error:p}=await be.from("goal_category_settings").select("*").eq("user_id",l.id).single();if(p&&p.code!=="PGRST116")throw p;const v={version:1,timestamp:new Date().toISOString(),goals:d||[],settings:h||null},m=s.scope==="all"?`habit_tracker_FULL_backup_${new Date().toISOString().split("T")[0]}.json`:`habit_tracker_${s.year}_backup.json`,g=new Blob([JSON.stringify(v,null,2)],{type:"application/json"}),y=URL.createObjectURL(g),b=document.createElement("a");b.href=y,b.download=m,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(y),We.success("Backup scaricato con successo")}catch(l){console.error("Export failed:",l),We.error(`Errore durante l'export: ${l.message}`)}finally{r(!1)}},importBackup:async s=>(i(!0),new Promise(l=>{const c=new FileReader;c.onload=async d=>{try{const f=d.target?.result;if(!f){l(null);return}const h=JSON.parse(f);if(!h.version||!Array.isArray(h.goals))throw new Error("Formato file non valido (manca versione o goals)");const{data:{user:p}}=await be.auth.getUser();if(!p)throw new Error("Not authenticated");const{data:v,error:m}=await be.from("long_term_goals").select("*").eq("user_id",p.id);if(m)throw m;const g=new Map(v?.map(k=>[k.id,k])),y=new Set,b=[],x=[];let _=0;const w=[];for(const k of h.goals){let A={...k};!A.status&&A.is_completed!==void 0?(A.status=A.is_completed?"completed":"active",delete A.is_completed):A.status||(A.status="active");let T={...A,user_id:p.id},O=g.get(T.id);if(!O){const P=v?.find(N=>!y.has(N.id)&&N.title===T.title&&N.type===T.type&&N.year===T.year);P&&(O=P,T.id=P.id)}O?(y.add(O.id),O.title!==T.title||O.status!==T.status||O.type!==T.type||O.year!==T.year||O.month!==T.month||O.week_number!==T.week_number||O.color!==T.color?(x.push(T),w.push(T)):_++):(b.push(T),w.push(T))}if(w.length>0){const{error:k}=await be.from("long_term_goals").upsert(w);if(k)throw k}let j=!1;if(h.settings){const{data:k}=await be.from("goal_category_settings").select("*").eq("user_id",p.id).single(),A=k,T={user_id:p.id,mappings:h.settings.mappings};(!A||JSON.stringify(A.mappings)!==JSON.stringify(T.mappings))&&(A?await be.from("goal_category_settings").update({mappings:T.mappings}).eq("id",A.id):await be.from("goal_category_settings").insert(T),j=!0)}await e.invalidateQueries({queryKey:["longTermGoals"]}),await e.invalidateQueries({queryKey:["goalCategorySettings"]}),l({totalProcessed:h.goals.length,restored:b,updated:x,unchanged:_,settingsUpdated:j})}catch(f){console.error("Import failed:",f),We.error(`Errore durante l'importazione: ${f.message}`),l(null)}finally{i(!1)}},c.readAsText(s)})),isExporting:t,isImporting:n}}var DE="Radio",[k2e,EW]=Br(DE),[E2e,A2e]=k2e(DE),AW=S.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:i=!1,required:a,disabled:o,value:s="on",onCheck:l,form:c,...d}=e,[f,h]=S.useState(null),p=ze(t,g=>h(g)),v=S.useRef(!1),m=f?c||!!f.closest("form"):!0;return u.jsxs(E2e,{scope:r,checked:i,disabled:o,children:[u.jsx(Ae.button,{type:"button",role:"radio","aria-checked":i,"data-state":PW(i),"data-disabled":o?"":void 0,disabled:o,value:s,...d,ref:p,onClick:Ee(e.onClick,g=>{i||l?.(),m&&(v.current=g.isPropagationStopped(),v.current||g.stopPropagation())})}),m&&u.jsx(TW,{control:f,bubbles:!v.current,name:n,value:s,checked:i,required:a,disabled:o,form:c,style:{transform:"translateX(-100%)"}})]})});AW.displayName=DE;var OW="RadioIndicator",CW=S.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...i}=e,a=A2e(OW,r);return u.jsx(sa,{present:n||a.checked,children:u.jsx(Ae.span,{"data-state":PW(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t})})});CW.displayName=OW;var O2e="RadioBubbleInput",TW=S.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...i},a)=>{const o=S.useRef(null),s=ze(o,a),l=eg(r),c=hm(t);return S.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&p){const v=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(v)}},[l,r,n]),u.jsx(Ae.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});TW.displayName=O2e;function PW(e){return e?"checked":"unchecked"}var C2e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],qg="RadioGroup",[T2e]=Br(qg,[Jm,EW]),NW=Jm(),RW=EW(),[P2e,N2e]=T2e(qg),IW=S.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:i,value:a,required:o=!1,disabled:s=!1,orientation:l,dir:c,loop:d=!0,onValueChange:f,...h}=e,p=NW(r),v=nc(c),[m,g]=Si({prop:a,defaultProp:i??null,onChange:f,caller:qg});return u.jsx(P2e,{scope:r,name:n,required:o,disabled:s,value:m,onValueChange:g,children:u.jsx(l6,{asChild:!0,...p,orientation:l,dir:v,loop:d,children:u.jsx(Ae.div,{role:"radiogroup","aria-required":o,"aria-orientation":l,"data-disabled":s?"":void 0,dir:v,...h,ref:t})})})});IW.displayName=qg;var MW="RadioGroupItem",DW=S.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...i}=e,a=N2e(MW,r),o=a.disabled||n,s=NW(r),l=RW(r),c=S.useRef(null),d=ze(t,c),f=a.value===i.value,h=S.useRef(!1);return S.useEffect(()=>{const p=m=>{C2e.includes(m.key)&&(h.current=!0)},v=()=>h.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",v)}},[]),u.jsx(c6,{asChild:!0,...s,focusable:!o,active:f,children:u.jsx(AW,{disabled:o,required:a.required,checked:f,...l,...i,name:a.name,ref:d,onCheck:()=>a.onValueChange(i.value),onKeyDown:Ee(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:Ee(i.onFocus,()=>{h.current&&c.current?.click()})})})});DW.displayName=MW;var R2e="RadioGroupIndicator",$W=S.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,i=RW(r);return u.jsx(CW,{...i,...n,ref:t})});$W.displayName=R2e;var LW=IW,zW=DW,I2e=$W;const FW=S.forwardRef(({className:e,...t},r)=>u.jsx(LW,{className:ae("grid gap-2",e),...t,ref:r}));FW.displayName=LW.displayName;const w_=S.forwardRef(({className:e,...t},r)=>u.jsx(zW,{ref:r,className:ae("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:u.jsx(I2e,{className:"flex items-center justify-center",children:u.jsx(o9,{className:"h-2.5 w-2.5 fill-current text-current"})})}));w_.displayName=zW.displayName;function M2e(){const[e,t]=S.useState(new Date().getFullYear().toString()),[r,n]=S.useState(Gte(new Date)),[i,a]=S.useState(new Date().getMonth()+1),[o,s]=S.useState(ene(new Date,{weekStartsOn:1})),[l,c]=S.useState("weekly"),[d,f]=S.useState("all"),[h,p]=S.useState(null),[v,m]=S.useState(""),[g,y]=S.useState(null),b=eo(),[x,_]=S.useState({}),w=S.useRef({});S.useEffect(()=>()=>{Object.values(w.current).forEach(clearTimeout)},[]);const{getLabel:j,getColor:k,activeCategoryLabels:A}=ME(),{isPrivacyMode:T}=Tm(),O=C=>{const G=k(C);return G?G.startsWith("hsl")?{backgroundColor:G.replace(")"," / 0.15)"),borderColor:G.replace(")"," / 0.3)")}:{borderColor:G}:{}},P=C=>k(C)||"transparent",N=C=>"bg-card/20 border-white/5 hover:bg-card/40 relative overflow-hidden",M=[{value:1,label:"1 Trimestre (Q1)"},{value:2,label:"2 Trimestre (Q2)"},{value:3,label:"3 Trimestre (Q3)"},{value:4,label:"4 Trimestre (Q4)"}],E=Object.keys(A).sort((C,G)=>{const H=["red","orange","yellow","green","blue","purple","pink","cyan"],V=H.indexOf(C),U=H.indexOf(G);return V!==-1&&U!==-1?V-U:V!==-1?-1:U!==-1?1:C.localeCompare(G)}),{data:R,isLoading:F}=ji({queryKey:["longTermGoals",l,e,r,i,o],queryFn:async()=>{let C=be.from("long_term_goals").select("*").eq("type",l).order("status",{ascending:!0}).order("color",{ascending:!0}).order("created_at",{ascending:!0});e!=="all"&&l!=="lifetime"&&(C=C.eq("year",parseInt(e))),l==="quarterly"?C=C.eq("quarter",r):l==="monthly"?C=C.eq("month",i):l==="weekly"&&(C=C.eq("month",i).eq("week_number",o));const{data:G,error:H}=await C;if(H)throw H;return G},enabled:l!=="stats"}),z=xn({mutationFn:async({title:C,color:G})=>{const{data:{user:H}}=await be.auth.getUser();if(!H)throw new Error("Not authenticated");const V={user_id:H.id,title:C,type:l,year:l==="lifetime"?null:e==="all"?new Date().getFullYear():parseInt(e),quarter:l==="quarterly"?r:null,month:l==="monthly"||l==="weekly"?i:null,week_number:l==="weekly"?o:null,status:"active",color:G},{data:U,error:K}=await be.from("long_term_goals").insert(V).select().single();if(K)throw K;return U},onSuccess:()=>{m(""),y(null),b.invalidateQueries({queryKey:["longTermGoals"]}),We.success("Obiettivo creato!")},onError:C=>{We.error(`Errore durante la creazione: ${C.message}`)}}),q=xn({mutationFn:async({id:C,status:G})=>{const{error:H}=await be.from("long_term_goals").update({status:G}).eq("id",C);if(H)throw H},onSuccess:()=>{b.invalidateQueries({queryKey:["longTermGoals"]})}}),L=xn({mutationFn:async({id:C,color:G})=>{const{error:H}=await be.from("long_term_goals").update({color:G}).eq("id",C);if(H)throw H},onSuccess:()=>{b.invalidateQueries({queryKey:["longTermGoals"]})},onError:()=>{We.error("Errore aggiornamento colore")}}),D=xn({mutationFn:async C=>{const{error:G}=await be.from("long_term_goals").delete().eq("id",C);if(G)throw G},onSuccess:()=>{b.invalidateQueries({queryKey:["longTermGoals"]}),We.success("Obiettivo eliminato")}}),W=C=>{C.preventDefault(),v.trim()&&z.mutate({title:v,color:g})},B=S.useRef(null),{exportBackup:$,importBackup:Q,isExporting:Z,isImporting:fe}=j2e(),le=()=>{B.current?.click()},ue=async C=>{const G=C.target.files?.[0];if(!G)return;const H=await Q(G);H&&p(H),B.current&&(B.current.value="")},ee=[{value:1,label:"Gennaio"},{value:2,label:"Febbraio"},{value:3,label:"Marzo"},{value:4,label:"Aprile"},{value:5,label:"Maggio"},{value:6,label:"Giugno"},{value:7,label:"Luglio"},{value:8,label:"Agosto"},{value:9,label:"Settembre"},{value:10,label:"Ottobre"},{value:11,label:"Novembre"},{value:12,label:"Dicembre"}],{data:te}=ji({queryKey:["longTermGoals","minYear"],queryFn:async()=>{const{data:C,error:G}=await be.from("long_term_goals").select("year").order("year",{ascending:!0}).limit(1).single();return G&&G.code!=="PGRST116"&&console.error("Error fetching min year:",G),C?.year||2022}}),ce=te||2022,J=new Date().getFullYear(),ne=Array.from({length:J+5-ce+1},(C,G)=>ce+G);return u.jsxs("div",{className:"space-y-6 animate-fade-in p-2 md:p-0",children:[u.jsx(Bo,{open:!!h,onOpenChange:C=>!C&&p(null),children:u.jsxs(La,{className:"max-w-3xl max-h-[85vh] overflow-y-auto",children:[u.jsxs(za,{children:[u.jsx(Ba,{children:"Rapporto Importazione"}),u.jsx(qa,{children:"Ecco il dettaglio delle modifiche apportate ai tuoi dati."})]}),u.jsxs("div",{className:"space-y-6 py-4",children:[u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{className:"p-4 bg-green-500/10 border border-green-500/20 rounded-xl flex flex-col items-center justify-center text-center",children:[u.jsx("span",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:h?.restored.length||0}),u.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mt-1",children:"Nuovi"})]}),u.jsxs("div",{className:"p-4 bg-amber-500/10 border border-amber-500/20 rounded-xl flex flex-col items-center justify-center text-center",children:[u.jsx("span",{className:"text-3xl font-bold text-amber-600 dark:text-amber-400",children:h?.updated.length||0}),u.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mt-1",children:"Modificati"})]}),u.jsxs("div",{className:"p-4 bg-slate-500/10 border border-slate-500/20 rounded-xl flex flex-col items-center justify-center text-center opacity-70",children:[u.jsx("span",{className:"text-3xl font-bold text-slate-600 dark:text-slate-400",children:h?.unchanged||0}),u.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mt-1",children:"Invariati"})]})]}),h?.settingsUpdated&&u.jsxs("div",{className:"flex items-center gap-3 text-sm text-yellow-600 bg-yellow-50 dark:bg-yellow-900/20 dark:text-yellow-400 p-3 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[u.jsx("span",{className:"flex h-2 w-2 rounded-full bg-yellow-500 animate-pulse"}),u.jsx("span",{children:"Le impostazioni delle categorie sono state aggiornate con successo."})]}),u.jsxs("div",{className:"space-y-6",children:[h?.restored&&h.restored.length>0&&u.jsxs("div",{className:"space-y-3",children:[u.jsxs("h4",{className:"font-semibold flex items-center gap-2 text-green-600 dark:text-green-400",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-current"}),"Elementi Aggiunti / Ripristinati"]}),u.jsx("div",{className:"space-y-4 pl-4 border-l-2 border-green-100 dark:border-green-900/30",children:Object.entries(h.restored.reduce((C,G)=>{const H=j(G.color||"default");return C[H]||(C[H]=[]),C[H].push(G),C},{})).map(([C,G])=>u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"text-xs font-bold uppercase text-muted-foreground tracking-widest",children:C}),u.jsx("div",{className:"grid gap-2",children:G.map(H=>u.jsxs("div",{className:"bg-secondary/40 p-3 rounded-md flex justify-between items-start gap-3 text-sm",children:[u.jsx("span",{className:"font-medium",children:H.title}),u.jsxs("span",{className:"shrink-0 text-xs px-2 py-0.5 bg-background rounded border opacity-70",children:[H.year,"  ",H.type]})]},H.id))})]},C))})]}),h?.updated&&h.updated.length>0&&u.jsxs("div",{className:"space-y-3",children:[u.jsxs("h4",{className:"font-semibold flex items-center gap-2 text-amber-600 dark:text-amber-400",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-current"}),"Elementi Aggiornati"]}),u.jsx("div",{className:"space-y-4 pl-4 border-l-2 border-amber-100 dark:border-amber-900/30",children:Object.entries(h.updated.reduce((C,G)=>{const H=j(G.color||"default");return C[H]||(C[H]=[]),C[H].push(G),C},{})).map(([C,G])=>u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"text-xs font-bold uppercase text-muted-foreground tracking-widest",children:C}),u.jsx("div",{className:"grid gap-2",children:G.map(H=>u.jsxs("div",{className:"bg-secondary/40 p-3 rounded-md flex justify-between items-start gap-3 text-sm",children:[u.jsx("span",{className:"font-medium",children:H.title}),u.jsxs("span",{className:"shrink-0 text-xs px-2 py-0.5 bg-background rounded border opacity-70",children:[H.year,"  ",H.type]})]},H.id))})]},C))})]})]})]}),u.jsx(Fa,{children:u.jsx(Ua,{onClick:()=>p(null),children:"Chiudi Report"})})]})}),u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"flex justify-center w-full",children:u.jsx(Js,{value:l,onValueChange:C=>c(C),className:"w-full max-w-2xl",children:u.jsxs(qo,{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 w-full h-auto p-1 bg-secondary/30 backdrop-blur-sm border border-white/5 gap-1",children:[u.jsx(yt,{value:"lifetime",className:"w-full col-span-2 sm:col-span-1",children:"Lifetime"}),u.jsx(yt,{value:"annual",className:"w-full",children:"Annuale"}),u.jsx(yt,{value:"quarterly",className:"w-full",children:"Trimestrale"}),u.jsx(yt,{value:"monthly",className:"w-full",children:"Mensile"}),u.jsx(yt,{value:"weekly",className:"w-full",children:"Settimanale"}),u.jsxs(yt,{value:"stats",className:"w-full gap-2 col-span-2 sm:col-span-1",children:[u.jsx(E_,{className:"w-4 h-4"})," Stats"]})]})})}),u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 p-4 rounded-2xl bg-card/40 border border-white/5 backdrop-blur-xl transition-all duration-300",children:[u.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start items-center gap-2 w-full md:w-auto",children:[u.jsxs(di,{value:e,onValueChange:C=>t(C),children:[u.jsx(Gn,{className:"w-[120px] bg-background/40 border-white/5",children:u.jsx(Ra,{placeholder:"Anno"})}),u.jsxs(Kn,{children:[u.jsxs(qt,{value:"all",className:"font-bold text-primary",children:["Dal ",ce]}),ne.map(C=>u.jsx(qt,{value:C.toString(),className:ae(C<J&&"text-muted-foreground italic"),children:C},C))]})]}),l==="quarterly"&&u.jsxs(di,{value:r.toString(),onValueChange:C=>n(parseInt(C)),children:[u.jsx(Gn,{className:"w-[160px] bg-background/40 border-white/5",children:u.jsx(Ra,{placeholder:"Trimestre"})}),u.jsx(Kn,{children:M.map(C=>u.jsx(qt,{value:C.value.toString(),children:C.label},C.value))})]}),(l==="monthly"||l==="weekly")&&u.jsxs(di,{value:i.toString(),onValueChange:C=>{a(parseInt(C)),s(1)},children:[u.jsx(Gn,{className:"w-[140px] bg-background/40 border-white/5",children:u.jsx(Ra,{placeholder:"Mese"})}),u.jsx(Kn,{children:ee.map(C=>u.jsx(qt,{value:C.value.toString(),className:ae(e!=="all"&&parseInt(e)<J||e===J.toString()&&C.value<new Date().getMonth()+1&&"text-muted-foreground italic"),children:C.label},C.value))})]}),l==="weekly"&&u.jsxs(di,{value:o.toString(),onValueChange:C=>s(parseInt(C)),children:[u.jsx(Gn,{className:"w-[140px] bg-background/40 border-white/5",children:u.jsx(Ra,{placeholder:"Settimana"})}),u.jsx(Kn,{children:Array.from({length:rne(new Date(e==="all"?J:parseInt(e),i-1,1),{weekStartsOn:1})},(C,G)=>G+1).map(C=>u.jsxs(qt,{value:C.toString(),className:ae(e!=="all"&&parseInt(e)<J||e===J.toString()&&i<new Date().getMonth()+1&&"text-muted-foreground italic"),children:["Settimana ",C]},C))})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(Bo,{children:[u.jsx(cl,{asChild:!0,children:u.jsx(Ce,{variant:"ghost",size:"icon",className:"hover:bg-white/5",title:"Esporta Backup (JSON)",children:u.jsx(rl,{className:"w-4 h-4 text-muted-foreground"})})}),u.jsxs(La,{className:"sm:max-w-md",children:[u.jsxs(za,{children:[u.jsx(Ba,{children:"Backup Obiettivi"}),u.jsx(qa,{children:"Crea un backup dei tuoi obiettivi e impostazioni. I file sono in formato JSON."})]}),u.jsx("div",{className:"py-4",children:u.jsxs(FW,{value:d,onValueChange:C=>f(C),children:[u.jsxs("div",{className:"flex items-center space-x-2 border p-3 rounded-lg hover:bg-accent cursor-pointer",onClick:()=>f("all"),children:[u.jsx(w_,{value:"all",id:"r1"}),u.jsxs(ri,{htmlFor:"r1",className:"cursor-pointer flex-1",children:[u.jsx("div",{className:"font-medium",children:"Esporta Tutto"}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Tutti gli anni, mesi e impostazioni"})]})]}),u.jsxs("div",{className:"flex items-center space-x-2 border p-3 rounded-lg hover:bg-accent cursor-pointer",onClick:()=>f("year"),children:[u.jsx(w_,{value:"year",id:"r2"}),u.jsxs(ri,{htmlFor:"r2",className:"cursor-pointer flex-1",children:[u.jsxs("div",{className:"font-medium",children:["Solo ",e==="all"?J:e]}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Solo obiettivi di questo anno e impostazioni"})]})]})]})}),u.jsxs(Fa,{children:[u.jsx(Jo,{children:"Annulla"}),u.jsxs(Ua,{onClick:()=>$({scope:d,year:e==="all"?J:parseInt(e)}),disabled:Z,children:[Z?u.jsx(Qn,{className:"w-4 h-4 animate-spin mr-2"}):null,"Scarica Backup"]})]})]})]}),u.jsx(Ce,{variant:"ghost",size:"icon",className:"hover:bg-white/5",title:"Ripristina da Backup (JSON)",onClick:le,disabled:fe,children:fe?u.jsx(Qn,{className:"w-4 h-4 animate-spin"}):u.jsx(e$,{className:"w-4 h-4 text-muted-foreground"})}),u.jsx("input",{type:"file",ref:B,onChange:ue,accept:".json",className:"hidden"}),u.jsx("div",{className:"ml-1",children:u.jsx(_2e,{})})]})]}),l!=="stats"&&u.jsxs("div",{className:ae("text-2xl font-bold tracking-tight text-white flex items-center gap-3 transition-all duration-300 pl-2",T&&"blur-sm"),children:[l==="lifetime"&&u.jsx("span",{className:"text-emerald-400",children:"Lifetime"}),l==="annual"&&u.jsx("span",{className:"text-primary",children:e==="all"?"Tutti gli anni":e}),l==="quarterly"&&u.jsxs("span",{className:"text-amber-500",children:["Q",r," ",e!=="all"&&e]}),l==="monthly"&&u.jsx("span",{className:"text-blue-400",children:ee.find(C=>C.value===i)?.label}),l==="weekly"&&u.jsxs("span",{className:"text-purple-400",children:["Settimana ",o]}),u.jsx("span",{className:"text-muted-foreground text-lg font-normal",children:l==="lifetime"?"Obiettivi a Lungo Termine":l==="annual"?"Obiettivi Annuali":l==="quarterly"?"Obiettivi Trimestrali":l==="monthly"?"Obiettivi Mensili":"Obiettivi Settimanali"})]})]}),l==="stats"?u.jsx(S2e,{year:e}):u.jsxs("div",{className:ae("transition-all duration-300",T&&"blur-sm"),children:[u.jsxs("form",{onSubmit:W,className:"flex gap-2",children:[u.jsx(ta,{className:"flex-1 bg-background/50",placeholder:`Aggiungi obiettivo ${l==="lifetime"?"lifetime":l==="annual"?"annuale":l==="quarterly"?"trimestrale":l==="monthly"?"mensile":"settimanale"}...`,value:v,onChange:C=>m(C.target.value)}),u.jsxs(di,{value:g||"null",onValueChange:C=>y(C==="null"?null:C),children:[u.jsx(Gn,{className:"w-[50px] px-2 bg-background/50 border-input",children:u.jsx("div",{className:"flex items-center justify-center w-full",children:u.jsx("div",{className:"w-4 h-4 rounded-full border border-white/10",style:{backgroundColor:g?P(g):"transparent"}})})}),u.jsxs(Kn,{align:"end",children:[u.jsx(qt,{value:"null",children:"Nessun Colore"}),E.map(C=>u.jsx(qt,{value:C,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 rounded-full border border-white/10",style:{backgroundColor:P(C)}}),j(C)]})},C))]})]}),u.jsx(Ce,{type:"submit",disabled:z.isPending,children:z.isPending?u.jsx(Qn,{className:"w-4 h-4 animate-spin"}):u.jsx(vw,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"space-y-2 mt-2",children:F?u.jsx("div",{className:"flex justify-center p-8 text-muted-foreground",children:u.jsx(Qn,{className:"w-6 h-6 animate-spin"})}):R?.length===0?u.jsx("div",{className:"text-center p-8 border border-dashed border-white/10 rounded-xl text-muted-foreground",children:"Nessun obiettivo impostato per questo periodo."}):R?.map((C,G)=>{const H=x[C.id]||C.status,V=R[G-1],U=C.status==="completed"&&(!V||V.status!=="completed"),K=C.status==="failed"&&(!V||V.status!=="failed"),ie=()=>{w.current[C.id]&&clearTimeout(w.current[C.id]);const re=x[C.id]||C.status,X=re==="active"?"completed":re==="completed"?"failed":"active";_(de=>({...de,[C.id]:X})),w.current[C.id]=setTimeout(()=>{q.mutate({id:C.id,status:X},{onSuccess:()=>{_(de=>{const ye={...de};return delete ye[C.id],ye}),delete w.current[C.id]}})},2e3)};return u.jsxs("div",{children:[U&&u.jsxs("div",{className:"flex items-center gap-4 py-6",children:[u.jsx("div",{className:"h-px bg-white/10 flex-1"}),u.jsx("span",{className:"text-xs font-medium text-emerald-500/70 uppercase tracking-widest",children:"Completati"}),u.jsx("div",{className:"h-px bg-white/10 flex-1"})]}),K&&u.jsxs("div",{className:"flex items-center gap-4 py-6",children:[u.jsx("div",{className:"h-px bg-white/10 flex-1"}),u.jsx("span",{className:"text-xs font-medium text-destructive/70 uppercase tracking-widest",children:"Falliti"}),u.jsx("div",{className:"h-px bg-white/10 flex-1"})]}),u.jsxs("div",{className:ae("group flex items-center gap-3 p-4 rounded-xl border transition-all duration-300",H==="completed"?"opacity-60 bg-emerald-500/5 border-emerald-500/10":H==="failed"?"opacity-60 bg-destructive/5 border-destructive/10":N(C.color)),style:H==="active"?O(C.color):{},children:[u.jsxs("div",{onClick:ie,className:ae("w-5 h-5 rounded flex items-center justify-center border cursor-pointer transition-all duration-300 hover:scale-110",H==="active"&&"border-white/20 hover:border-white/40",H==="completed"&&"bg-emerald-500 border-emerald-500 text-white",H==="failed"&&"bg-destructive border-destructive text-white"),children:[H==="active"&&u.jsx("div",{className:"w-full h-full"}),H==="completed"&&u.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"animate-in zoom-in duration-200",children:u.jsx("polyline",{points:"20 6 9 17 4 12"})}),H==="failed"&&u.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"animate-in zoom-in duration-200",children:[u.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),u.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})]}),u.jsx("span",{className:ae("flex-1 font-medium transition-all cursor-pointer duration-300 min-w-0 break-words",H==="completed"&&"text-emerald-500/80 line-through",H==="failed"&&"text-destructive/80 line-through",H==="active"&&"text-foreground"),onClick:ie,children:C.title}),u.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[u.jsxs(di,{value:C.color||"null",onValueChange:re=>L.mutate({id:C.id,color:re==="null"?null:re}),children:[u.jsx(Gn,{className:"w-[30px] h-[30px] p-0 border-0 bg-transparent focus:ring-0",children:u.jsx("div",{className:"w-4 h-4 rounded-full border border-white/10",style:{backgroundColor:C.color?P(C.color):"rgba(255,255,255,0.2)"}})}),u.jsxs(Kn,{align:"end",children:[u.jsx(qt,{value:"null",children:"Nessun Colore"}),E.map(re=>u.jsx(qt,{value:re,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 rounded-full border border-white/10",style:{backgroundColor:P(re)}}),j(re)]})},re))]})]}),u.jsxs(Bo,{children:[u.jsx(cl,{asChild:!0,children:u.jsx(Ce,{variant:"ghost",size:"icon",className:"text-destructive hover:bg-destructive/10 hover:text-destructive h-8 w-8",children:u.jsx(R_,{className:"w-4 h-4"})})}),u.jsxs(La,{children:[u.jsxs(za,{children:[u.jsx(Ba,{children:"Eliminare questo obiettivo?"}),u.jsx(qa,{children:"Questa azione non pu essere annullata. L'obiettivo verr rimosso permanentemente."})]}),u.jsxs(Fa,{children:[u.jsx(Jo,{children:"Annulla"}),u.jsx(Ua,{onClick:()=>D.mutate(C.id),children:"Elimina"})]})]})]})]})]})]},C.id)})})]})]})}const D2e=()=>u.jsxs("div",{className:"flex-1 min-h-dvh flex flex-col pt-8 pb-12 px-4 sm:px-8 animate-fade-in relative z-10 w-full max-w-[1200px] mx-auto",children:[u.jsx("div",{className:"fixed top-[-20%] right-[-10%] w-[50%] h-[50%] bg-purple-500/5 blur-[120px] rounded-full pointer-events-none -z-10"}),u.jsx("div",{className:"mb-8 flex items-center justify-between",children:u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-display font-bold text-foreground",children:"Macro Obiettivi"}),u.jsx("p",{className:"text-muted-foreground",children:"Pianificazione a lungo termine."})]})}),u.jsx("div",{className:"glass-panel p-6 rounded-2xl min-h-[600px]",children:u.jsx(M2e,{})})]}),$2e=Cd("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Wo=S.forwardRef(({className:e,variant:t,...r},n)=>u.jsx("div",{ref:n,role:"alert",className:ae($2e({variant:t}),e),...r}));Wo.displayName="Alert";const ph=S.forwardRef(({className:e,...t},r)=>u.jsx("h5",{ref:r,className:ae("mb-1 font-medium leading-none tracking-tight",e),...t}));ph.displayName="AlertTitle";const Ho=S.forwardRef(({className:e,...t},r)=>u.jsx("div",{ref:r,className:ae("text-sm [&_p]:leading-relaxed",e),...t}));Ho.displayName="AlertDescription";const $E="http://localhost:11434";async function L2e(){try{return(await fetch(`${$E}/api/tags`,{method:"GET"})).ok}catch{return!1}}async function z2e(){try{const e=await fetch(`${$E}/api/tags`);if(!e.ok)throw new Error("Failed to fetch models");return(await e.json()).models||[]}catch(e){return console.error("Failed to list models:",e),[]}}async function F2e(e,t,r="weekly",n,i){try{let a="";switch(r){case"weekly":a=`Analizza l'ultima settimana e fornisci:
1. **Risultati Chiave**: I 2-3 principali successi della settimana
2. **Pattern Identificati**: Tendenze e comportamenti ricorrenti (es: "fatica il luned", "ottimo nei weekend")
3. **Suggerimento Principale**: Un'azione concreta e specifica da implementare la prossima settimana`;break;case"monthly":a=`Analizza l'ultimo mese e fornisci:
1. **Panoramica Mensile**: Progressi generali e trend del mese
2. **Abitudini Consolidate**: Quali abitudini sono diventate pi solide
3. **Aree di Miglioramento**: Quali abitudini necessitano pi attenzione
4. **Piano per il Prossimo Mese**: 2-3 obiettivi concreti`;break;case"focus":a=`Fornisci un'analisi rapida e mirata:
1. **Stato Attuale**: Snapshot della situazione odierna
2. **Area Critica**: L'abitudine che necessita attenzione immediata
3. **Quick Win**: Un'azione veloce per oggi che pu fare la differenza`;break}const o=`Sei un coach personale esperto in abitudini e produttivit. ${a}

Usa un tono motivante ma realistico. Sii specifico e basati solo sui dati forniti. Rispondi in italiano.

DATI ABITUDINI:
${e}

REPORT:`,s=await fetch(`${$E}/api/generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:t,prompt:o,stream:!!n}),signal:i});if(!s.ok)throw new Error(`Ollama API error: ${s.statusText}`);if(n&&s.body){const l=s.body.getReader(),c=new TextDecoder;let d="";for(;;){const{done:f,value:h}=await l.read();if(f)break;const v=c.decode(h).split(`
`).filter(m=>m.trim());for(const m of v)try{const g=JSON.parse(m);g.response&&(d+=g.response,n(g.response))}catch{}}return d}else return(await s.json()).response||""}catch(a){throw a.name==="AbortError"?new Error("Generazione interrotta dall'utente"):(console.error("Failed to generate coach report:",a),a)}}function B2e(e,t,r){const n=Object.keys(t).slice(-7);let i=`### Abitudini Tracciate (${e.length})
`;return e.forEach(a=>{i+=`- ${a.title}
`}),i+=`
### Performance Ultimi 7 Giorni
`,n.forEach(a=>{const o=t[a],s=Object.values(o).filter(c=>c==="done").length,l=Object.keys(o).length;i+=`- ${a}: ${s}/${l} completate
`}),i+=`
### Statistiche Globali
`,i+=`- Tasso di successo: ${r.globalSuccessRate}%
`,i+=`- Migliore streak: ${r.bestStreak} giorni
`,i+=`- Giorni attivi totali: ${r.totalActiveDays}
`,i}const q2e=()=>{const{goals:e,logs:t}=Fj(),r=l8(e,t,"weekly"),{isPrivacyMode:n}=Tm(),{isAIEnabled:i}=ym(),a=S.useRef(null),[o,s]=S.useState([]),[l,c]=S.useState(""),[d,f]=S.useState("weekly"),[h,p]=S.useState(!0),[v,m]=S.useState(!1),[g,y]=S.useState(!1),[b,x]=S.useState(""),[_,w]=S.useState(""),[j,k]=S.useState(0);S.useEffect(()=>{A()},[]),S.useEffect(()=>{if(o.length>0){const F=localStorage.getItem("ollama_preferred_model");F&&o.find(z=>z.name===F)?c(F):c(o[0].name)}const R=localStorage.getItem("ollama_report_type");R&&["weekly","monthly","focus"].includes(R)&&f(R)},[o]),S.useEffect(()=>{if(_){const R=_.trim().split(/\s+/).length;k(R)}},[_]);const A=async()=>{p(!0);try{const R=await L2e();if(m(R),R){const F=await z2e();s(F),F.length===0&&We.error("Nessun modello installato. Esegui: ollama pull llama3.2")}}catch(R){console.error("Failed to check Ollama:",R)}finally{p(!1)}},T=async()=>{if(!l){We.error("Seleziona un modello prima di generare il report");return}y(!0),x(""),w(""),k(0),a.current=new AbortController;try{const R=B2e(e,t,r),F=await F2e(R,l,d,z=>{w(q=>q+z)},a.current.signal);x(F),We.success("Report generato con successo!")}catch(R){console.error("Failed to generate report:",R),R.message?.includes("interrotta")?We.info("Generazione interrotta"):We.error("Errore durante la generazione del report")}finally{y(!1),a.current=null}},O=()=>{a.current&&(a.current.abort(),y(!1),We.info("Generazione arrestata"))},P=R=>{c(R),localStorage.setItem("ollama_preferred_model",R)},N=R=>{f(R),localStorage.setItem("ollama_report_type",R)},M=()=>{if(!b)return;const R=new Blob([b],{type:"text/markdown"}),F=window.URL.createObjectURL(R),z=document.createElement("a");z.href=F,z.download=`ai-coach-report-${d}-${new Date().toISOString().split("T")[0]}.md`,document.body.appendChild(z),z.click(),window.URL.revokeObjectURL(F),document.body.removeChild(z),We.success("Report esportato!")},E=R=>(R/1073741824).toFixed(1)+" GB";return i?u.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-4xl animate-fade-in pb-32 space-y-6",children:[u.jsx("div",{className:"fixed top-20 left-1/2 -translate-x-1/2 w-[800px] h-[800px] bg-primary/5 blur-[120px] rounded-full pointer-events-none -z-10"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("h1",{className:"text-2xl sm:text-3xl font-display font-bold text-foreground flex items-center gap-3",children:[u.jsx(Hi,{className:"w-8 h-8 text-primary"}),"AI Coach"]}),u.jsx("p",{className:"text-muted-foreground font-light text-sm sm:text-base",children:"Analisi intelligente delle tue abitudini con Ollama"})]}),h?u.jsxs(Wo,{children:[u.jsx(Qn,{className:"h-4 w-4 animate-spin"}),u.jsx(Ho,{children:"Controllo Ollama..."})]}):v?o.length===0?u.jsxs(Wo,{variant:"destructive",children:[u.jsx(nl,{className:"h-4 w-4"}),u.jsxs(Ho,{children:["Nessun modello installato. Esegui: ",u.jsx("code",{className:"bg-black/20 px-2 py-1 rounded",children:"ollama pull llama3.2"})]})]}):u.jsxs(u.Fragment,{children:[u.jsxs(qe,{className:"glass-panel",children:[u.jsxs(et,{children:[u.jsxs(tt,{className:"text-lg flex items-center gap-2",children:[u.jsx(q5,{className:"w-5 h-5"}),"Configura Analisi"]}),u.jsx(Vn,{children:"Seleziona modello e tipo di report"})]}),u.jsxs(Ve,{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium",children:"Tipo di Report"}),u.jsxs(di,{value:d,onValueChange:N,children:[u.jsx(Gn,{className:"glass-panel border-white/10",children:u.jsx(Ra,{})}),u.jsxs(Kn,{children:[u.jsx(qt,{value:"weekly",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(C_,{className:"w-4 h-4"}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:"Settimanale"}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Analisi ultimi 7 giorni"})]})]})}),u.jsx(qt,{value:"monthly",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ha,{className:"w-4 h-4"}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:"Mensile"}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Panoramica del mese"})]})]})}),u.jsx(qt,{value:"focus",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Gi,{className:"w-4 h-4"}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:"Focus Rapido"}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Analisi mirata immediata"})]})]})})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium",children:"Modello AI"}),u.jsxs(di,{value:l,onValueChange:P,children:[u.jsx(Gn,{className:"glass-panel border-white/10",children:u.jsx(Ra,{placeholder:"Seleziona modello"})}),u.jsx(Kn,{children:o.map(R=>u.jsx(qt,{value:R.name,children:u.jsxs("div",{className:"flex items-center justify-between gap-3",children:[u.jsx("span",{className:"font-medium",children:R.name}),u.jsx("span",{className:"text-xs text-muted-foreground",children:E(R.size)})]})},R.name))})]})]}),u.jsx("div",{className:"flex gap-2",children:g?u.jsxs(Ce,{onClick:O,variant:"destructive",className:"flex-1",size:"lg",children:[u.jsx(i9,{className:"w-4 h-4 mr-2"}),"Ferma Generazione"]}):u.jsxs(Ce,{onClick:T,disabled:!l||n,className:"flex-1",size:"lg",children:[u.jsx(Hi,{className:"w-4 h-4 mr-2"}),"Genera Report"]})}),n&&u.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Disattiva la modalit privacy per usare l'AI Coach"})]})]}),(_||b)&&u.jsxs(qe,{className:"glass-panel",children:[u.jsxs(et,{className:"flex flex-row items-center justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx(tt,{className:"text-lg",children:"Report AI"}),g&&u.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[u.jsx(Qn,{className:"w-3 h-3 animate-spin"}),u.jsxs("span",{className:"font-mono",children:[j," parole generate"]})]})]}),b&&!g&&u.jsxs(Ce,{variant:"outline",size:"sm",onClick:M,children:[u.jsx(rl,{className:"w-4 h-4 mr-2"}),"Esporta"]})]}),u.jsx(Ve,{children:u.jsx("div",{className:"prose prose-invert prose-sm max-w-none",children:u.jsx(NB,{remarkPlugins:[r6],children:g?_:b})})})]})]}):u.jsxs(Wo,{variant:"destructive",children:[u.jsx(nl,{className:"h-4 w-4"}),u.jsxs(Ho,{children:["Ollama non  attivo. Avvia Ollama con ",u.jsx("code",{className:"bg-black/20 px-2 py-1 rounded",children:"ollama serve"})," e"," ",u.jsx("button",{onClick:A,className:"underline font-semibold",children:"riprova"})]})]})]}):u.jsx("div",{className:"container mx-auto px-4 py-6 max-w-4xl animate-fade-in pb-32",children:u.jsxs("div",{className:"glass-panel rounded-3xl p-12 text-center space-y-4",children:[u.jsx(z5,{className:"w-16 h-16 mx-auto text-muted-foreground opacity-50"}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-display font-semibold text-foreground mb-2",children:"AI Coach Disabilitato"}),u.jsx("p",{className:"text-muted-foreground",children:'Attiva lo switch "AI" nel Protocollo per utilizzare questa funzionalit.'})]})]})})};function Xf(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var uw={exports:{}};var t5;function U2e(){return t5||(t5=1,(function(e,t){(function(r){e.exports=r()})(function(){return(function r(n,i,a){function o(c,d){if(!i[c]){if(!n[c]){var f=typeof Xf=="function"&&Xf;if(!d&&f)return f(c,!0);if(s)return s(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var p=i[c]={exports:{}};n[c][0].call(p.exports,function(v){var m=n[c][1][v];return o(m||v)},p,p.exports,r,n,i,a)}return i[c].exports}for(var s=typeof Xf=="function"&&Xf,l=0;l<a.length;l++)o(a[l]);return o})({1:[function(r,n,i){var a=r("./utils"),o=r("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var c,d,f,h,p,v,m,g=[],y=0,b=l.length,x=b,_=a.getTypeOf(l)!=="string";y<l.length;)x=b-y,f=_?(c=l[y++],d=y<b?l[y++]:0,y<b?l[y++]:0):(c=l.charCodeAt(y++),d=y<b?l.charCodeAt(y++):0,y<b?l.charCodeAt(y++):0),h=c>>2,p=(3&c)<<4|d>>4,v=1<x?(15&d)<<2|f>>6:64,m=2<x?63&f:64,g.push(s.charAt(h)+s.charAt(p)+s.charAt(v)+s.charAt(m));return g.join("")},i.decode=function(l){var c,d,f,h,p,v,m=0,g=0,y="data:";if(l.substr(0,y.length)===y)throw new Error("Invalid base64 input, it looks like a data url.");var b,x=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===s.charAt(64)&&x--,l.charAt(l.length-2)===s.charAt(64)&&x--,x%1!=0)throw new Error("Invalid base64 input, bad content length.");for(b=o.uint8array?new Uint8Array(0|x):new Array(0|x);m<l.length;)c=s.indexOf(l.charAt(m++))<<2|(h=s.indexOf(l.charAt(m++)))>>4,d=(15&h)<<4|(p=s.indexOf(l.charAt(m++)))>>2,f=(3&p)<<6|(v=s.indexOf(l.charAt(m++))),b[g++]=c,p!==64&&(b[g++]=d),v!==64&&(b[g++]=f);return b}},{"./support":30,"./utils":32}],2:[function(r,n,i){var a=r("./external"),o=r("./stream/DataWorker"),s=r("./stream/Crc32Probe"),l=r("./stream/DataLengthProbe");function c(d,f,h,p,v){this.compressedSize=d,this.uncompressedSize=f,this.crc32=h,this.compression=p,this.compressedContent=v}c.prototype={getContentWorker:function(){var d=new o(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),f=this;return d.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new o(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(d,f,h){return d.pipe(new s).pipe(new l("uncompressedSize")).pipe(f.compressWorker(h)).pipe(new l("compressedSize")).withStreamInfo("compression",f)},n.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,i){var a=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,i){var a=r("./utils"),o=(function(){for(var s,l=[],c=0;c<256;c++){s=c;for(var d=0;d<8;d++)s=1&s?3988292384^s>>>1:s>>>1;l[c]=s}return l})();n.exports=function(s,l){return s!==void 0&&s.length?a.getTypeOf(s)!=="string"?(function(c,d,f,h){var p=o,v=h+f;c^=-1;for(var m=h;m<v;m++)c=c>>>8^p[255&(c^d[m])];return-1^c})(0|l,s,s.length,0):(function(c,d,f,h){var p=o,v=h+f;c^=-1;for(var m=h;m<v;m++)c=c>>>8^p[255&(c^d.charCodeAt(m))];return-1^c})(0|l,s,s.length,0):0}},{"./utils":32}],5:[function(r,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(r,n,i){var a=null;a=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:a}},{lie:37}],7:[function(r,n,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=r("pako"),s=r("./utils"),l=r("./stream/GenericWorker"),c=a?"uint8array":"array";function d(f,h){l.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=h,this.meta={}}i.magic="\b\0",s.inherits(d,l),d.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(s.transformTo(c,f.data),!1)},d.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(h){f.push({data:h,meta:f.meta})}},i.compressWorker=function(f){return new d("Deflate",f)},i.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,i){function a(p,v){var m,g="";for(m=0;m<v;m++)g+=String.fromCharCode(255&p),p>>>=8;return g}function o(p,v,m,g,y,b){var x,_,w=p.file,j=p.compression,k=b!==c.utf8encode,A=s.transformTo("string",b(w.name)),T=s.transformTo("string",c.utf8encode(w.name)),O=w.comment,P=s.transformTo("string",b(O)),N=s.transformTo("string",c.utf8encode(O)),M=T.length!==w.name.length,E=N.length!==O.length,R="",F="",z="",q=w.dir,L=w.date,D={crc32:0,compressedSize:0,uncompressedSize:0};v&&!m||(D.crc32=p.crc32,D.compressedSize=p.compressedSize,D.uncompressedSize=p.uncompressedSize);var W=0;v&&(W|=8),k||!M&&!E||(W|=2048);var B=0,$=0;q&&(B|=16),y==="UNIX"?($=798,B|=(function(Z,fe){var le=Z;return Z||(le=fe?16893:33204),(65535&le)<<16})(w.unixPermissions,q)):($=20,B|=(function(Z){return 63&(Z||0)})(w.dosPermissions)),x=L.getUTCHours(),x<<=6,x|=L.getUTCMinutes(),x<<=5,x|=L.getUTCSeconds()/2,_=L.getUTCFullYear()-1980,_<<=4,_|=L.getUTCMonth()+1,_<<=5,_|=L.getUTCDate(),M&&(F=a(1,1)+a(d(A),4)+T,R+="up"+a(F.length,2)+F),E&&(z=a(1,1)+a(d(P),4)+N,R+="uc"+a(z.length,2)+z);var Q="";return Q+=`
\0`,Q+=a(W,2),Q+=j.magic,Q+=a(x,2),Q+=a(_,2),Q+=a(D.crc32,4),Q+=a(D.compressedSize,4),Q+=a(D.uncompressedSize,4),Q+=a(A.length,2),Q+=a(R.length,2),{fileRecord:f.LOCAL_FILE_HEADER+Q+A+R,dirRecord:f.CENTRAL_FILE_HEADER+a($,2)+Q+a(P.length,2)+"\0\0\0\0"+a(B,4)+a(g,4)+A+R+P}}var s=r("../utils"),l=r("../stream/GenericWorker"),c=r("../utf8"),d=r("../crc32"),f=r("../signature");function h(p,v,m,g){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=m,this.encodeFileName=g,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(h,l),h.prototype.push=function(p){var v=p.meta.percent||0,m=this.entriesCount,g=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,l.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:m?(v+100*(m-g-1))/m:100}}))},h.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var v=this.streamFiles&&!p.file.dir;if(v){var m=o(p,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(p){this.accumulate=!1;var v=this.streamFiles&&!p.file.dir,m=o(p,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),v)this.push({data:(function(g){return f.DATA_DESCRIPTOR+a(g.crc32,4)+a(g.compressedSize,4)+a(g.uncompressedSize,4)})(p),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var p=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var m=this.bytesWritten-p,g=(function(y,b,x,_,w){var j=s.transformTo("string",w(_));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(y,2)+a(y,2)+a(b,4)+a(x,4)+a(j.length,2)+j})(this.dirRecords.length,m,p,this.zipComment,this.encodeFileName);this.push({data:g,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(p){this._sources.push(p);var v=this;return p.on("data",function(m){v.processChunk(m)}),p.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),p.on("error",function(m){v.error(m)}),this},h.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(p){var v=this._sources;if(!l.prototype.error.call(this,p))return!1;for(var m=0;m<v.length;m++)try{v[m].error(p)}catch{}return!0},h.prototype.lock=function(){l.prototype.lock.call(this);for(var p=this._sources,v=0;v<p.length;v++)p[v].lock()},n.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,i){var a=r("../compressions"),o=r("./ZipFileWorker");i.generateWorker=function(s,l,c){var d=new o(l.streamFiles,c,l.platform,l.encodeFileName),f=0;try{s.forEach(function(h,p){f++;var v=(function(b,x){var _=b||x,w=a[_];if(!w)throw new Error(_+" is not a valid compression method !");return w})(p.options.compression,l.compression),m=p.options.compressionOptions||l.compressionOptions||{},g=p.dir,y=p.date;p._compressWorker(v,m).withStreamInfo("file",{name:h,dir:g,date:y,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(d)}),d.entriesCount=f}catch(h){d.error(h)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new a;for(var s in this)typeof this[s]!="function"&&(o[s]=this[s]);return o}}(a.prototype=r("./object")).loadAsync=r("./load"),a.support=r("./support"),a.defaults=r("./defaults"),a.version="3.10.1",a.loadAsync=function(o,s){return new a().loadAsync(o,s)},a.external=r("./external"),n.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,i){var a=r("./utils"),o=r("./external"),s=r("./utf8"),l=r("./zipEntries"),c=r("./stream/Crc32Probe"),d=r("./nodejsUtils");function f(h){return new o.Promise(function(p,v){var m=h.decompressed.getContentWorker().pipe(new c);m.on("error",function(g){v(g)}).on("end",function(){m.streamInfo.crc32!==h.decompressed.crc32?v(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}n.exports=function(h,p){var v=this;return p=a.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),d.isNode&&d.isStream(h)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",h,!0,p.optimizedBinaryString,p.base64).then(function(m){var g=new l(p);return g.load(m),g}).then(function(m){var g=[o.Promise.resolve(m)],y=m.files;if(p.checkCRC32)for(var b=0;b<y.length;b++)g.push(f(y[b]));return o.Promise.all(g)}).then(function(m){for(var g=m.shift(),y=g.files,b=0;b<y.length;b++){var x=y[b],_=x.fileNameStr,w=a.resolve(x.fileNameStr);v.file(w,x.decompressed,{binary:!0,optimizedBinaryString:!0,date:x.date,dir:x.dir,comment:x.fileCommentStr.length?x.fileCommentStr:null,unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions,createFolders:p.createFolders}),x.dir||(v.file(w).unsafeOriginalName=_)}return g.zipComment.length&&(v.comment=g.zipComment),v})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,i){var a=r("../utils"),o=r("../stream/GenericWorker");function s(l,c){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}a.inherits(s,o),s.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(d){c.push({data:d,meta:{percent:0}})}).on("error",function(d){c.isPaused?this.generatedError=d:c.error(d)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},s.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,i){var a=r("readable-stream").Readable;function o(s,l,c){a.call(this,l),this._helper=s;var d=this;s.on("data",function(f,h){d.push(f)||d._helper.pause(),c&&c(h)}).on("error",function(f){d.emit("error",f)}).on("end",function(){d.push(null)})}r("../utils").inherits(o,a),o.prototype._read=function(){this._helper.resume()},n.exports=o},{"../utils":32,"readable-stream":16}],14:[function(r,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,o);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,o)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var o=new Buffer(a);return o.fill(0),o},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(r,n,i){function a(w,j,k){var A,T=s.getTypeOf(j),O=s.extend(k||{},d);O.date=O.date||new Date,O.compression!==null&&(O.compression=O.compression.toUpperCase()),typeof O.unixPermissions=="string"&&(O.unixPermissions=parseInt(O.unixPermissions,8)),O.unixPermissions&&16384&O.unixPermissions&&(O.dir=!0),O.dosPermissions&&16&O.dosPermissions&&(O.dir=!0),O.dir&&(w=y(w)),O.createFolders&&(A=g(w))&&b.call(this,A,!0);var P=T==="string"&&O.binary===!1&&O.base64===!1;k&&k.binary!==void 0||(O.binary=!P),(j instanceof f&&j.uncompressedSize===0||O.dir||!j||j.length===0)&&(O.base64=!1,O.binary=!0,j="",O.compression="STORE",T="string");var N=null;N=j instanceof f||j instanceof l?j:v.isNode&&v.isStream(j)?new m(w,j):s.prepareContent(w,j,O.binary,O.optimizedBinaryString,O.base64);var M=new h(w,N,O);this.files[w]=M}var o=r("./utf8"),s=r("./utils"),l=r("./stream/GenericWorker"),c=r("./stream/StreamHelper"),d=r("./defaults"),f=r("./compressedObject"),h=r("./zipObject"),p=r("./generate"),v=r("./nodejsUtils"),m=r("./nodejs/NodejsStreamInputAdapter"),g=function(w){w.slice(-1)==="/"&&(w=w.substring(0,w.length-1));var j=w.lastIndexOf("/");return 0<j?w.substring(0,j):""},y=function(w){return w.slice(-1)!=="/"&&(w+="/"),w},b=function(w,j){return j=j!==void 0?j:d.createFolders,w=y(w),this.files[w]||a.call(this,w,null,{dir:!0,createFolders:j}),this.files[w]};function x(w){return Object.prototype.toString.call(w)==="[object RegExp]"}var _={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(w){var j,k,A;for(j in this.files)A=this.files[j],(k=j.slice(this.root.length,j.length))&&j.slice(0,this.root.length)===this.root&&w(k,A)},filter:function(w){var j=[];return this.forEach(function(k,A){w(k,A)&&j.push(A)}),j},file:function(w,j,k){if(arguments.length!==1)return w=this.root+w,a.call(this,w,j,k),this;if(x(w)){var A=w;return this.filter(function(O,P){return!P.dir&&A.test(O)})}var T=this.files[this.root+w];return T&&!T.dir?T:null},folder:function(w){if(!w)return this;if(x(w))return this.filter(function(T,O){return O.dir&&w.test(T)});var j=this.root+w,k=b.call(this,j),A=this.clone();return A.root=k.name,A},remove:function(w){w=this.root+w;var j=this.files[w];if(j||(w.slice(-1)!=="/"&&(w+="/"),j=this.files[w]),j&&!j.dir)delete this.files[w];else for(var k=this.filter(function(T,O){return O.name.slice(0,w.length)===w}),A=0;A<k.length;A++)delete this.files[k[A].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(w){var j,k={};try{if((k=s.extend(w||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=k.type.toLowerCase(),k.compression=k.compression.toUpperCase(),k.type==="binarystring"&&(k.type="string"),!k.type)throw new Error("No output type specified.");s.checkSupport(k.type),k.platform!=="darwin"&&k.platform!=="freebsd"&&k.platform!=="linux"&&k.platform!=="sunos"||(k.platform="UNIX"),k.platform==="win32"&&(k.platform="DOS");var A=k.comment||this.comment||"";j=p.generateWorker(this,k,A)}catch(T){(j=new l("error")).error(T)}return new c(j,k.type||"string",k.mimeType)},generateAsync:function(w,j){return this.generateInternalStream(w).accumulate(j)},generateNodeStream:function(w,j){return(w=w||{}).type||(w.type="nodebuffer"),this.generateInternalStream(w).toNodejsStream(j)}};n.exports=_},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,i){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,i){var a=r("./DataReader");function o(s){a.call(this,s);for(var l=0;l<this.data.length;l++)s[l]=255&s[l]}r("../utils").inherits(o,a),o.prototype.byteAt=function(s){return this.data[this.zero+s]},o.prototype.lastIndexOfSignature=function(s){for(var l=s.charCodeAt(0),c=s.charCodeAt(1),d=s.charCodeAt(2),f=s.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===l&&this.data[h+1]===c&&this.data[h+2]===d&&this.data[h+3]===f)return h-this.zero;return-1},o.prototype.readAndCheckSignature=function(s){var l=s.charCodeAt(0),c=s.charCodeAt(1),d=s.charCodeAt(2),f=s.charCodeAt(3),h=this.readData(4);return l===h[0]&&c===h[1]&&d===h[2]&&f===h[3]},o.prototype.readData=function(s){if(this.checkOffset(s),s===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},n.exports=o},{"../utils":32,"./DataReader":18}],18:[function(r,n,i){var a=r("../utils");function o(s){this.data=s,this.length=s.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(s){this.checkIndex(this.index+s)},checkIndex:function(s){if(this.length<this.zero+s||s<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+s+"). Corrupted zip ?")},setIndex:function(s){this.checkIndex(s),this.index=s},skip:function(s){this.setIndex(this.index+s)},byteAt:function(){},readInt:function(s){var l,c=0;for(this.checkOffset(s),l=this.index+s-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=s,c},readString:function(s){return a.transformTo("string",this.readData(s))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var s=this.readInt(4);return new Date(Date.UTC(1980+(s>>25&127),(s>>21&15)-1,s>>16&31,s>>11&31,s>>5&63,(31&s)<<1))}},n.exports=o},{"../utils":32}],19:[function(r,n,i){var a=r("./Uint8ArrayReader");function o(s){a.call(this,s)}r("../utils").inherits(o,a),o.prototype.readData=function(s){this.checkOffset(s);var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},n.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,i){var a=r("./DataReader");function o(s){a.call(this,s)}r("../utils").inherits(o,a),o.prototype.byteAt=function(s){return this.data.charCodeAt(this.zero+s)},o.prototype.lastIndexOfSignature=function(s){return this.data.lastIndexOf(s)-this.zero},o.prototype.readAndCheckSignature=function(s){return s===this.readData(4)},o.prototype.readData=function(s){this.checkOffset(s);var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},n.exports=o},{"../utils":32,"./DataReader":18}],21:[function(r,n,i){var a=r("./ArrayReader");function o(s){a.call(this,s)}r("../utils").inherits(o,a),o.prototype.readData=function(s){if(this.checkOffset(s),s===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},n.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,i){var a=r("../utils"),o=r("../support"),s=r("./ArrayReader"),l=r("./StringReader"),c=r("./NodeBufferReader"),d=r("./Uint8ArrayReader");n.exports=function(f){var h=a.getTypeOf(f);return a.checkSupport(h),h!=="string"||o.uint8array?h==="nodebuffer"?new c(f):o.uint8array?new d(a.transformTo("uint8array",f)):new s(a.transformTo("array",f)):new l(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,i){var a=r("./GenericWorker"),o=r("../utils");function s(l){a.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(s,a),s.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},n.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,i){var a=r("./GenericWorker"),o=r("../crc32");function s(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(s,a),s.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},n.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,i){var a=r("../utils"),o=r("./GenericWorker");function s(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}a.inherits(s,o),s.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}o.prototype.processChunk.call(this,l)},n.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,i){var a=r("../utils"),o=r("./GenericWorker");function s(l){o.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(d){c.dataIsReady=!0,c.data=d,c.max=d&&d.length||0,c.type=a.getTypeOf(d),c.isPaused||c._tickAndRepeat()},function(d){c.error(d)})}a.inherits(s,o),s.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,i){function a(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,s){return this._listeners[o].push(s),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,s){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,s)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var s=this;return o.on("data",function(l){s.processChunk(l)}),o.on("end",function(){s.end()}),o.on("error",function(l){s.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,s){return this.extraStreamInfo[o]=s,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},n.exports=a},{}],29:[function(r,n,i){var a=r("../utils"),o=r("./ConvertWorker"),s=r("./GenericWorker"),l=r("../base64"),c=r("../support"),d=r("../external"),f=null;if(c.nodestream)try{f=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(v,m){return new d.Promise(function(g,y){var b=[],x=v._internalType,_=v._outputType,w=v._mimeType;v.on("data",function(j,k){b.push(j),m&&m(k)}).on("error",function(j){b=[],y(j)}).on("end",function(){try{var j=(function(k,A,T){switch(k){case"blob":return a.newBlob(a.transformTo("arraybuffer",A),T);case"base64":return l.encode(A);default:return a.transformTo(k,A)}})(_,(function(k,A){var T,O=0,P=null,N=0;for(T=0;T<A.length;T++)N+=A[T].length;switch(k){case"string":return A.join("");case"array":return Array.prototype.concat.apply([],A);case"uint8array":for(P=new Uint8Array(N),T=0;T<A.length;T++)P.set(A[T],O),O+=A[T].length;return P;case"nodebuffer":return Buffer.concat(A);default:throw new Error("concat : unsupported type '"+k+"'")}})(x,b),w);g(j)}catch(k){y(k)}b=[]}).resume()})}function p(v,m,g){var y=m;switch(m){case"blob":case"arraybuffer":y="uint8array";break;case"base64":y="string"}try{this._internalType=y,this._outputType=m,this._mimeType=g,a.checkSupport(y),this._worker=v.pipe(new o(y)),v.lock()}catch(b){this._worker=new s("error"),this._worker.error(b)}}p.prototype={accumulate:function(v){return h(this,v)},on:function(v,m){var g=this;return v==="data"?this._worker.on(v,function(y){m.call(g,y.data,y.meta)}):this._worker.on(v,function(){a.delay(m,arguments,g)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(v){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},v)}},n.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(a),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,i){for(var a=r("./utils"),o=r("./support"),s=r("./nodejsUtils"),l=r("./stream/GenericWorker"),c=new Array(256),d=0;d<256;d++)c[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;c[254]=c[254]=1;function f(){l.call(this,"utf-8 decode"),this.leftOver=null}function h(){l.call(this,"utf-8 encode")}i.utf8encode=function(p){return o.nodebuffer?s.newBufferFrom(p,"utf-8"):(function(v){var m,g,y,b,x,_=v.length,w=0;for(b=0;b<_;b++)(64512&(g=v.charCodeAt(b)))==55296&&b+1<_&&(64512&(y=v.charCodeAt(b+1)))==56320&&(g=65536+(g-55296<<10)+(y-56320),b++),w+=g<128?1:g<2048?2:g<65536?3:4;for(m=o.uint8array?new Uint8Array(w):new Array(w),b=x=0;x<w;b++)(64512&(g=v.charCodeAt(b)))==55296&&b+1<_&&(64512&(y=v.charCodeAt(b+1)))==56320&&(g=65536+(g-55296<<10)+(y-56320),b++),g<128?m[x++]=g:(g<2048?m[x++]=192|g>>>6:(g<65536?m[x++]=224|g>>>12:(m[x++]=240|g>>>18,m[x++]=128|g>>>12&63),m[x++]=128|g>>>6&63),m[x++]=128|63&g);return m})(p)},i.utf8decode=function(p){return o.nodebuffer?a.transformTo("nodebuffer",p).toString("utf-8"):(function(v){var m,g,y,b,x=v.length,_=new Array(2*x);for(m=g=0;m<x;)if((y=v[m++])<128)_[g++]=y;else if(4<(b=c[y]))_[g++]=65533,m+=b-1;else{for(y&=b===2?31:b===3?15:7;1<b&&m<x;)y=y<<6|63&v[m++],b--;1<b?_[g++]=65533:y<65536?_[g++]=y:(y-=65536,_[g++]=55296|y>>10&1023,_[g++]=56320|1023&y)}return _.length!==g&&(_.subarray?_=_.subarray(0,g):_.length=g),a.applyFromCharCode(_)})(p=a.transformTo(o.uint8array?"uint8array":"array",p))},a.inherits(f,l),f.prototype.processChunk=function(p){var v=a.transformTo(o.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var m=v;(v=new Uint8Array(m.length+this.leftOver.length)).set(this.leftOver,0),v.set(m,this.leftOver.length)}else v=this.leftOver.concat(v);this.leftOver=null}var g=(function(b,x){var _;for((x=x||b.length)>b.length&&(x=b.length),_=x-1;0<=_&&(192&b[_])==128;)_--;return _<0||_===0?x:_+c[b[_]]>x?_:x})(v),y=v;g!==v.length&&(o.uint8array?(y=v.subarray(0,g),this.leftOver=v.subarray(g,v.length)):(y=v.slice(0,g),this.leftOver=v.slice(g,v.length))),this.push({data:i.utf8decode(y),meta:p.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=f,a.inherits(h,l),h.prototype.processChunk=function(p){this.push({data:i.utf8encode(p.data),meta:p.meta})},i.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,i){var a=r("./support"),o=r("./base64"),s=r("./nodejsUtils"),l=r("./external");function c(m){return m}function d(m,g){for(var y=0;y<m.length;++y)g[y]=255&m.charCodeAt(y);return g}r("setimmediate"),i.newBlob=function(m,g){i.checkSupport("blob");try{return new Blob([m],{type:g})}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return y.append(m),y.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(m,g,y){var b=[],x=0,_=m.length;if(_<=y)return String.fromCharCode.apply(null,m);for(;x<_;)g==="array"||g==="nodebuffer"?b.push(String.fromCharCode.apply(null,m.slice(x,Math.min(x+y,_)))):b.push(String.fromCharCode.apply(null,m.subarray(x,Math.min(x+y,_)))),x+=y;return b.join("")},stringifyByChar:function(m){for(var g="",y=0;y<m.length;y++)g+=String.fromCharCode(m[y]);return g},applyCanBeUsed:{uint8array:(function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,s.allocBuffer(1)).length===1}catch{return!1}})()}};function h(m){var g=65536,y=i.getTypeOf(m),b=!0;if(y==="uint8array"?b=f.applyCanBeUsed.uint8array:y==="nodebuffer"&&(b=f.applyCanBeUsed.nodebuffer),b)for(;1<g;)try{return f.stringifyByChunk(m,y,g)}catch{g=Math.floor(g/2)}return f.stringifyByChar(m)}function p(m,g){for(var y=0;y<m.length;y++)g[y]=m[y];return g}i.applyFromCharCode=h;var v={};v.string={string:c,array:function(m){return d(m,new Array(m.length))},arraybuffer:function(m){return v.string.uint8array(m).buffer},uint8array:function(m){return d(m,new Uint8Array(m.length))},nodebuffer:function(m){return d(m,s.allocBuffer(m.length))}},v.array={string:h,array:c,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return s.newBufferFrom(m)}},v.arraybuffer={string:function(m){return h(new Uint8Array(m))},array:function(m){return p(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:c,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return s.newBufferFrom(new Uint8Array(m))}},v.uint8array={string:h,array:function(m){return p(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:c,nodebuffer:function(m){return s.newBufferFrom(m)}},v.nodebuffer={string:h,array:function(m){return p(m,new Array(m.length))},arraybuffer:function(m){return v.nodebuffer.uint8array(m).buffer},uint8array:function(m){return p(m,new Uint8Array(m.length))},nodebuffer:c},i.transformTo=function(m,g){if(g=g||"",!m)return g;i.checkSupport(m);var y=i.getTypeOf(g);return v[y][m](g)},i.resolve=function(m){for(var g=m.split("/"),y=[],b=0;b<g.length;b++){var x=g[b];x==="."||x===""&&b!==0&&b!==g.length-1||(x===".."?y.pop():y.push(x))}return y.join("/")},i.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":a.nodebuffer&&s.isBuffer(m)?"nodebuffer":a.uint8array&&m instanceof Uint8Array?"uint8array":a.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(m){if(!a[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(m){var g,y,b="";for(y=0;y<(m||"").length;y++)b+="\\x"+((g=m.charCodeAt(y))<16?"0":"")+g.toString(16).toUpperCase();return b},i.delay=function(m,g,y){setImmediate(function(){m.apply(y||null,g||[])})},i.inherits=function(m,g){function y(){}y.prototype=g.prototype,m.prototype=new y},i.extend=function(){var m,g,y={};for(m=0;m<arguments.length;m++)for(g in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],g)&&y[g]===void 0&&(y[g]=arguments[m][g]);return y},i.prepareContent=function(m,g,y,b,x){return l.Promise.resolve(g).then(function(_){return a.blob&&(_ instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(_))!==-1)&&typeof FileReader<"u"?new l.Promise(function(w,j){var k=new FileReader;k.onload=function(A){w(A.target.result)},k.onerror=function(A){j(A.target.error)},k.readAsArrayBuffer(_)}):_}).then(function(_){var w=i.getTypeOf(_);return w?(w==="arraybuffer"?_=i.transformTo("uint8array",_):w==="string"&&(x?_=o.decode(_):y&&b!==!0&&(_=(function(j){return d(j,a.uint8array?new Uint8Array(j.length):new Array(j.length))})(_))),_):l.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,i){var a=r("./reader/readerFor"),o=r("./utils"),s=r("./signature"),l=r("./zipEntry"),c=r("./support");function d(f){this.files=[],this.loadOptions=f}d.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(h)+", expected "+o.pretty(f)+")")}},isSignature:function(f,h){var p=this.reader.index;this.reader.setIndex(f);var v=this.reader.readString(4)===h;return this.reader.setIndex(p),v},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),h=c.uint8array?"uint8array":"array",p=o.transformTo(h,f);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,h,p,v=this.zip64EndOfCentralSize-44;0<v;)f=this.reader.readInt(2),h=this.reader.readInt(4),p=this.reader.readData(h),this.zip64ExtensibleData[f]={id:f,length:h,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,h;for(f=0;f<this.files.length;f++)h=this.files[f],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(f=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var h=f;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var v=h-p;if(0<v)this.isSignature(h,s.CENTRAL_FILE_HEADER)||(this.reader.zero=v);else if(v<0)throw new Error("Corrupted zip: missing "+Math.abs(v)+" bytes.")},prepareReader:function(f){this.reader=a(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,i){var a=r("./reader/readerFor"),o=r("./utils"),s=r("./compressedObject"),l=r("./crc32"),c=r("./utf8"),d=r("./compressions"),f=r("./support");function h(p,v){this.options=p,this.loadOptions=v}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var v,m;if(p.skip(22),this.fileNameLength=p.readInt(2),m=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((v=(function(g){for(var y in d)if(Object.prototype.hasOwnProperty.call(d,y)&&d[y].magic===g)return d[y];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,v,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var v=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(v),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=a(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var v,m,g,y=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<y;)v=p.readInt(2),m=p.readInt(2),g=p.readData(m),this.extraFields[v]={id:v,length:m,value:g};p.setIndex(y)},handleUTF8:function(){var p=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var v=this.findExtraFieldUnicodePath();if(v!==null)this.fileNameStr=v;else{var m=o.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var g=this.findExtraFieldUnicodeComment();if(g!==null)this.fileCommentStr=g;else{var y=o.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(y)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var v=a(p.value);return v.readInt(1)!==1||l(this.fileName)!==v.readInt(4)?null:c.utf8decode(v.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var v=a(p.value);return v.readInt(1)!==1||l(this.fileComment)!==v.readInt(4)?null:c.utf8decode(v.readData(p.length-5))}return null}},n.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,i){function a(v,m,g){this.name=v,this.dir=g.dir,this.date=g.date,this.comment=g.comment,this.unixPermissions=g.unixPermissions,this.dosPermissions=g.dosPermissions,this._data=m,this._dataBinary=g.binary,this.options={compression:g.compression,compressionOptions:g.compressionOptions}}var o=r("./stream/StreamHelper"),s=r("./stream/DataWorker"),l=r("./utf8"),c=r("./compressedObject"),d=r("./stream/GenericWorker");a.prototype={internalStream:function(v){var m=null,g="string";try{if(!v)throw new Error("No output type specified.");var y=(g=v.toLowerCase())==="string"||g==="text";g!=="binarystring"&&g!=="text"||(g="string"),m=this._decompressWorker();var b=!this._dataBinary;b&&!y&&(m=m.pipe(new l.Utf8EncodeWorker)),!b&&y&&(m=m.pipe(new l.Utf8DecodeWorker))}catch(x){(m=new d("error")).error(x)}return new o(m,g,"")},async:function(v,m){return this.internalStream(v).accumulate(m)},nodeStream:function(v,m){return this.internalStream(v||"nodebuffer").toNodejsStream(m)},_compressWorker:function(v,m){if(this._data instanceof c&&this._data.compression.magic===v.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(g,v,m)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof d?this._data:new s(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<f.length;p++)a.prototype[f[p]]=h;n.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,i){(function(a){var o,s,l=a.MutationObserver||a.WebKitMutationObserver;if(l){var c=0,d=new l(v),f=a.document.createTextNode("");d.observe(f,{characterData:!0}),o=function(){f.data=c=++c%2}}else if(a.setImmediate||a.MessageChannel===void 0)o="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var m=a.document.createElement("script");m.onreadystatechange=function(){v(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},a.document.documentElement.appendChild(m)}:function(){setTimeout(v,0)};else{var h=new a.MessageChannel;h.port1.onmessage=v,o=function(){h.port2.postMessage(0)}}var p=[];function v(){var m,g;s=!0;for(var y=p.length;y;){for(g=p,p=[],m=-1;++m<y;)g[m]();y=p.length}s=!1}n.exports=function(m){p.push(m)!==1||s||o()}}).call(this,typeof kn<"u"?kn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,i){var a=r("immediate");function o(){}var s={},l=["REJECTED"],c=["FULFILLED"],d=["PENDING"];function f(y){if(typeof y!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,y!==o&&m(this,y)}function h(y,b,x){this.promise=y,typeof b=="function"&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}function p(y,b,x){a(function(){var _;try{_=b(x)}catch(w){return s.reject(y,w)}_===y?s.reject(y,new TypeError("Cannot resolve promise with itself")):s.resolve(y,_)})}function v(y){var b=y&&y.then;if(y&&(typeof y=="object"||typeof y=="function")&&typeof b=="function")return function(){b.apply(y,arguments)}}function m(y,b){var x=!1;function _(k){x||(x=!0,s.reject(y,k))}function w(k){x||(x=!0,s.resolve(y,k))}var j=g(function(){b(w,_)});j.status==="error"&&_(j.value)}function g(y,b){var x={};try{x.value=y(b),x.status="success"}catch(_){x.status="error",x.value=_}return x}(n.exports=f).prototype.finally=function(y){if(typeof y!="function")return this;var b=this.constructor;return this.then(function(x){return b.resolve(y()).then(function(){return x})},function(x){return b.resolve(y()).then(function(){throw x})})},f.prototype.catch=function(y){return this.then(null,y)},f.prototype.then=function(y,b){if(typeof y!="function"&&this.state===c||typeof b!="function"&&this.state===l)return this;var x=new this.constructor(o);return this.state!==d?p(x,this.state===c?y:b,this.outcome):this.queue.push(new h(x,y,b)),x},h.prototype.callFulfilled=function(y){s.resolve(this.promise,y)},h.prototype.otherCallFulfilled=function(y){p(this.promise,this.onFulfilled,y)},h.prototype.callRejected=function(y){s.reject(this.promise,y)},h.prototype.otherCallRejected=function(y){p(this.promise,this.onRejected,y)},s.resolve=function(y,b){var x=g(v,b);if(x.status==="error")return s.reject(y,x.value);var _=x.value;if(_)m(y,_);else{y.state=c,y.outcome=b;for(var w=-1,j=y.queue.length;++w<j;)y.queue[w].callFulfilled(b)}return y},s.reject=function(y,b){y.state=l,y.outcome=b;for(var x=-1,_=y.queue.length;++x<_;)y.queue[x].callRejected(b);return y},f.resolve=function(y){return y instanceof this?y:s.resolve(new this(o),y)},f.reject=function(y){var b=new this(o);return s.reject(b,y)},f.all=function(y){var b=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=y.length,_=!1;if(!x)return this.resolve([]);for(var w=new Array(x),j=0,k=-1,A=new this(o);++k<x;)T(y[k],k);return A;function T(O,P){b.resolve(O).then(function(N){w[P]=N,++j!==x||_||(_=!0,s.resolve(A,w))},function(N){_||(_=!0,s.reject(A,N))})}},f.race=function(y){var b=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=y.length,_=!1;if(!x)return this.resolve([]);for(var w=-1,j=new this(o);++w<x;)k=y[w],b.resolve(k).then(function(A){_||(_=!0,s.resolve(j,A))},function(A){_||(_=!0,s.reject(j,A))});var k;return j}},{immediate:36}],38:[function(r,n,i){var a={};(0,r("./lib/utils/common").assign)(a,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,i){var a=r("./zlib/deflate"),o=r("./utils/common"),s=r("./utils/strings"),l=r("./zlib/messages"),c=r("./zlib/zstream"),d=Object.prototype.toString,f=0,h=-1,p=0,v=8;function m(y){if(!(this instanceof m))return new m(y);this.options=o.assign({level:h,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},y||{});var b=this.options;b.raw&&0<b.windowBits?b.windowBits=-b.windowBits:b.gzip&&0<b.windowBits&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var x=a.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(x!==f)throw new Error(l[x]);if(b.header&&a.deflateSetHeader(this.strm,b.header),b.dictionary){var _;if(_=typeof b.dictionary=="string"?s.string2buf(b.dictionary):d.call(b.dictionary)==="[object ArrayBuffer]"?new Uint8Array(b.dictionary):b.dictionary,(x=a.deflateSetDictionary(this.strm,_))!==f)throw new Error(l[x]);this._dict_set=!0}}function g(y,b){var x=new m(b);if(x.push(y,!0),x.err)throw x.msg||l[x.err];return x.result}m.prototype.push=function(y,b){var x,_,w=this.strm,j=this.options.chunkSize;if(this.ended)return!1;_=b===~~b?b:b===!0?4:0,typeof y=="string"?w.input=s.string2buf(y):d.call(y)==="[object ArrayBuffer]"?w.input=new Uint8Array(y):w.input=y,w.next_in=0,w.avail_in=w.input.length;do{if(w.avail_out===0&&(w.output=new o.Buf8(j),w.next_out=0,w.avail_out=j),(x=a.deflate(w,_))!==1&&x!==f)return this.onEnd(x),!(this.ended=!0);w.avail_out!==0&&(w.avail_in!==0||_!==4&&_!==2)||(this.options.to==="string"?this.onData(s.buf2binstring(o.shrinkBuf(w.output,w.next_out))):this.onData(o.shrinkBuf(w.output,w.next_out)))}while((0<w.avail_in||w.avail_out===0)&&x!==1);return _===4?(x=a.deflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===f):_!==2||(this.onEnd(f),!(w.avail_out=0))},m.prototype.onData=function(y){this.chunks.push(y)},m.prototype.onEnd=function(y){y===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Deflate=m,i.deflate=g,i.deflateRaw=function(y,b){return(b=b||{}).raw=!0,g(y,b)},i.gzip=function(y,b){return(b=b||{}).gzip=!0,g(y,b)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,i){var a=r("./zlib/inflate"),o=r("./utils/common"),s=r("./utils/strings"),l=r("./zlib/constants"),c=r("./zlib/messages"),d=r("./zlib/zstream"),f=r("./zlib/gzheader"),h=Object.prototype.toString;function p(m){if(!(this instanceof p))return new p(m);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},m||{});var g=this.options;g.raw&&0<=g.windowBits&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),!(0<=g.windowBits&&g.windowBits<16)||m&&m.windowBits||(g.windowBits+=32),15<g.windowBits&&g.windowBits<48&&(15&g.windowBits)==0&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var y=a.inflateInit2(this.strm,g.windowBits);if(y!==l.Z_OK)throw new Error(c[y]);this.header=new f,a.inflateGetHeader(this.strm,this.header)}function v(m,g){var y=new p(g);if(y.push(m,!0),y.err)throw y.msg||c[y.err];return y.result}p.prototype.push=function(m,g){var y,b,x,_,w,j,k=this.strm,A=this.options.chunkSize,T=this.options.dictionary,O=!1;if(this.ended)return!1;b=g===~~g?g:g===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof m=="string"?k.input=s.binstring2buf(m):h.call(m)==="[object ArrayBuffer]"?k.input=new Uint8Array(m):k.input=m,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new o.Buf8(A),k.next_out=0,k.avail_out=A),(y=a.inflate(k,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&T&&(j=typeof T=="string"?s.string2buf(T):h.call(T)==="[object ArrayBuffer]"?new Uint8Array(T):T,y=a.inflateSetDictionary(this.strm,j)),y===l.Z_BUF_ERROR&&O===!0&&(y=l.Z_OK,O=!1),y!==l.Z_STREAM_END&&y!==l.Z_OK)return this.onEnd(y),!(this.ended=!0);k.next_out&&(k.avail_out!==0&&y!==l.Z_STREAM_END&&(k.avail_in!==0||b!==l.Z_FINISH&&b!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(x=s.utf8border(k.output,k.next_out),_=k.next_out-x,w=s.buf2string(k.output,x),k.next_out=_,k.avail_out=A-_,_&&o.arraySet(k.output,k.output,x,_,0),this.onData(w)):this.onData(o.shrinkBuf(k.output,k.next_out)))),k.avail_in===0&&k.avail_out===0&&(O=!0)}while((0<k.avail_in||k.avail_out===0)&&y!==l.Z_STREAM_END);return y===l.Z_STREAM_END&&(b=l.Z_FINISH),b===l.Z_FINISH?(y=a.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===l.Z_OK):b!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(k.avail_out=0))},p.prototype.onData=function(m){this.chunks.push(m)},p.prototype.onEnd=function(m){m===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},i.Inflate=p,i.inflate=v,i.inflateRaw=function(m,g){return(g=g||{}).raw=!0,v(m,g)},i.ungzip=v},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var d=c.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var f in d)d.hasOwnProperty(f)&&(l[f]=d[f])}}return l},i.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var o={arraySet:function(l,c,d,f,h){if(c.subarray&&l.subarray)l.set(c.subarray(d,d+f),h);else for(var p=0;p<f;p++)l[h+p]=c[d+p]},flattenChunks:function(l){var c,d,f,h,p,v;for(c=f=0,d=l.length;c<d;c++)f+=l[c].length;for(v=new Uint8Array(f),c=h=0,d=l.length;c<d;c++)p=l[c],v.set(p,h),h+=p.length;return v}},s={arraySet:function(l,c,d,f,h){for(var p=0;p<f;p++)l[h+p]=c[d+p]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,s))},i.setTyped(a)},{}],42:[function(r,n,i){var a=r("./common"),o=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{s=!1}for(var l=new a.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function d(f,h){if(h<65537&&(f.subarray&&s||!f.subarray&&o))return String.fromCharCode.apply(null,a.shrinkBuf(f,h));for(var p="",v=0;v<h;v++)p+=String.fromCharCode(f[v]);return p}l[254]=l[254]=1,i.string2buf=function(f){var h,p,v,m,g,y=f.length,b=0;for(m=0;m<y;m++)(64512&(p=f.charCodeAt(m)))==55296&&m+1<y&&(64512&(v=f.charCodeAt(m+1)))==56320&&(p=65536+(p-55296<<10)+(v-56320),m++),b+=p<128?1:p<2048?2:p<65536?3:4;for(h=new a.Buf8(b),m=g=0;g<b;m++)(64512&(p=f.charCodeAt(m)))==55296&&m+1<y&&(64512&(v=f.charCodeAt(m+1)))==56320&&(p=65536+(p-55296<<10)+(v-56320),m++),p<128?h[g++]=p:(p<2048?h[g++]=192|p>>>6:(p<65536?h[g++]=224|p>>>12:(h[g++]=240|p>>>18,h[g++]=128|p>>>12&63),h[g++]=128|p>>>6&63),h[g++]=128|63&p);return h},i.buf2binstring=function(f){return d(f,f.length)},i.binstring2buf=function(f){for(var h=new a.Buf8(f.length),p=0,v=h.length;p<v;p++)h[p]=f.charCodeAt(p);return h},i.buf2string=function(f,h){var p,v,m,g,y=h||f.length,b=new Array(2*y);for(p=v=0;p<y;)if((m=f[p++])<128)b[v++]=m;else if(4<(g=l[m]))b[v++]=65533,p+=g-1;else{for(m&=g===2?31:g===3?15:7;1<g&&p<y;)m=m<<6|63&f[p++],g--;1<g?b[v++]=65533:m<65536?b[v++]=m:(m-=65536,b[v++]=55296|m>>10&1023,b[v++]=56320|1023&m)}return d(b,v)},i.utf8border=function(f,h){var p;for((h=h||f.length)>f.length&&(h=f.length),p=h-1;0<=p&&(192&f[p])==128;)p--;return p<0||p===0?h:p+l[f[p]]>h?p:h}},{"./common":41}],43:[function(r,n,i){n.exports=function(a,o,s,l){for(var c=65535&a|0,d=a>>>16&65535|0,f=0;s!==0;){for(s-=f=2e3<s?2e3:s;d=d+(c=c+o[l++]|0)|0,--f;);c%=65521,d%=65521}return c|d<<16|0}},{}],44:[function(r,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,i){var a=(function(){for(var o,s=[],l=0;l<256;l++){o=l;for(var c=0;c<8;c++)o=1&o?3988292384^o>>>1:o>>>1;s[l]=o}return s})();n.exports=function(o,s,l,c){var d=a,f=c+l;o^=-1;for(var h=c;h<f;h++)o=o>>>8^d[255&(o^s[h])];return-1^o}},{}],46:[function(r,n,i){var a,o=r("../utils/common"),s=r("./trees"),l=r("./adler32"),c=r("./crc32"),d=r("./messages"),f=0,h=4,p=0,v=-2,m=-1,g=4,y=2,b=8,x=9,_=286,w=30,j=19,k=2*_+1,A=15,T=3,O=258,P=O+T+1,N=42,M=113,E=1,R=2,F=3,z=4;function q(C,G){return C.msg=d[G],G}function L(C){return(C<<1)-(4<C?9:0)}function D(C){for(var G=C.length;0<=--G;)C[G]=0}function W(C){var G=C.state,H=G.pending;H>C.avail_out&&(H=C.avail_out),H!==0&&(o.arraySet(C.output,G.pending_buf,G.pending_out,H,C.next_out),C.next_out+=H,G.pending_out+=H,C.total_out+=H,C.avail_out-=H,G.pending-=H,G.pending===0&&(G.pending_out=0))}function B(C,G){s._tr_flush_block(C,0<=C.block_start?C.block_start:-1,C.strstart-C.block_start,G),C.block_start=C.strstart,W(C.strm)}function $(C,G){C.pending_buf[C.pending++]=G}function Q(C,G){C.pending_buf[C.pending++]=G>>>8&255,C.pending_buf[C.pending++]=255&G}function Z(C,G){var H,V,U=C.max_chain_length,K=C.strstart,ie=C.prev_length,re=C.nice_match,X=C.strstart>C.w_size-P?C.strstart-(C.w_size-P):0,de=C.window,ye=C.w_mask,he=C.prev,Y=C.strstart+O,oe=de[K+ie-1],ve=de[K+ie];C.prev_length>=C.good_match&&(U>>=2),re>C.lookahead&&(re=C.lookahead);do if(de[(H=G)+ie]===ve&&de[H+ie-1]===oe&&de[H]===de[K]&&de[++H]===de[K+1]){K+=2,H++;do;while(de[++K]===de[++H]&&de[++K]===de[++H]&&de[++K]===de[++H]&&de[++K]===de[++H]&&de[++K]===de[++H]&&de[++K]===de[++H]&&de[++K]===de[++H]&&de[++K]===de[++H]&&K<Y);if(V=O-(Y-K),K=Y-O,ie<V){if(C.match_start=G,re<=(ie=V))break;oe=de[K+ie-1],ve=de[K+ie]}}while((G=he[G&ye])>X&&--U!=0);return ie<=C.lookahead?ie:C.lookahead}function fe(C){var G,H,V,U,K,ie,re,X,de,ye,he=C.w_size;do{if(U=C.window_size-C.lookahead-C.strstart,C.strstart>=he+(he-P)){for(o.arraySet(C.window,C.window,he,he,0),C.match_start-=he,C.strstart-=he,C.block_start-=he,G=H=C.hash_size;V=C.head[--G],C.head[G]=he<=V?V-he:0,--H;);for(G=H=he;V=C.prev[--G],C.prev[G]=he<=V?V-he:0,--H;);U+=he}if(C.strm.avail_in===0)break;if(ie=C.strm,re=C.window,X=C.strstart+C.lookahead,de=U,ye=void 0,ye=ie.avail_in,de<ye&&(ye=de),H=ye===0?0:(ie.avail_in-=ye,o.arraySet(re,ie.input,ie.next_in,ye,X),ie.state.wrap===1?ie.adler=l(ie.adler,re,ye,X):ie.state.wrap===2&&(ie.adler=c(ie.adler,re,ye,X)),ie.next_in+=ye,ie.total_in+=ye,ye),C.lookahead+=H,C.lookahead+C.insert>=T)for(K=C.strstart-C.insert,C.ins_h=C.window[K],C.ins_h=(C.ins_h<<C.hash_shift^C.window[K+1])&C.hash_mask;C.insert&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[K+T-1])&C.hash_mask,C.prev[K&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=K,K++,C.insert--,!(C.lookahead+C.insert<T)););}while(C.lookahead<P&&C.strm.avail_in!==0)}function le(C,G){for(var H,V;;){if(C.lookahead<P){if(fe(C),C.lookahead<P&&G===f)return E;if(C.lookahead===0)break}if(H=0,C.lookahead>=T&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+T-1])&C.hash_mask,H=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),H!==0&&C.strstart-H<=C.w_size-P&&(C.match_length=Z(C,H)),C.match_length>=T)if(V=s._tr_tally(C,C.strstart-C.match_start,C.match_length-T),C.lookahead-=C.match_length,C.match_length<=C.max_lazy_match&&C.lookahead>=T){for(C.match_length--;C.strstart++,C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+T-1])&C.hash_mask,H=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart,--C.match_length!=0;);C.strstart++}else C.strstart+=C.match_length,C.match_length=0,C.ins_h=C.window[C.strstart],C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+1])&C.hash_mask;else V=s._tr_tally(C,0,C.window[C.strstart]),C.lookahead--,C.strstart++;if(V&&(B(C,!1),C.strm.avail_out===0))return E}return C.insert=C.strstart<T-1?C.strstart:T-1,G===h?(B(C,!0),C.strm.avail_out===0?F:z):C.last_lit&&(B(C,!1),C.strm.avail_out===0)?E:R}function ue(C,G){for(var H,V,U;;){if(C.lookahead<P){if(fe(C),C.lookahead<P&&G===f)return E;if(C.lookahead===0)break}if(H=0,C.lookahead>=T&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+T-1])&C.hash_mask,H=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),C.prev_length=C.match_length,C.prev_match=C.match_start,C.match_length=T-1,H!==0&&C.prev_length<C.max_lazy_match&&C.strstart-H<=C.w_size-P&&(C.match_length=Z(C,H),C.match_length<=5&&(C.strategy===1||C.match_length===T&&4096<C.strstart-C.match_start)&&(C.match_length=T-1)),C.prev_length>=T&&C.match_length<=C.prev_length){for(U=C.strstart+C.lookahead-T,V=s._tr_tally(C,C.strstart-1-C.prev_match,C.prev_length-T),C.lookahead-=C.prev_length-1,C.prev_length-=2;++C.strstart<=U&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+T-1])&C.hash_mask,H=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),--C.prev_length!=0;);if(C.match_available=0,C.match_length=T-1,C.strstart++,V&&(B(C,!1),C.strm.avail_out===0))return E}else if(C.match_available){if((V=s._tr_tally(C,0,C.window[C.strstart-1]))&&B(C,!1),C.strstart++,C.lookahead--,C.strm.avail_out===0)return E}else C.match_available=1,C.strstart++,C.lookahead--}return C.match_available&&(V=s._tr_tally(C,0,C.window[C.strstart-1]),C.match_available=0),C.insert=C.strstart<T-1?C.strstart:T-1,G===h?(B(C,!0),C.strm.avail_out===0?F:z):C.last_lit&&(B(C,!1),C.strm.avail_out===0)?E:R}function ee(C,G,H,V,U){this.good_length=C,this.max_lazy=G,this.nice_length=H,this.max_chain=V,this.func=U}function te(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*k),this.dyn_dtree=new o.Buf16(2*(2*w+1)),this.bl_tree=new o.Buf16(2*(2*j+1)),D(this.dyn_ltree),D(this.dyn_dtree),D(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(A+1),this.heap=new o.Buf16(2*_+1),D(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*_+1),D(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ce(C){var G;return C&&C.state?(C.total_in=C.total_out=0,C.data_type=y,(G=C.state).pending=0,G.pending_out=0,G.wrap<0&&(G.wrap=-G.wrap),G.status=G.wrap?N:M,C.adler=G.wrap===2?0:1,G.last_flush=f,s._tr_init(G),p):q(C,v)}function J(C){var G=ce(C);return G===p&&(function(H){H.window_size=2*H.w_size,D(H.head),H.max_lazy_match=a[H.level].max_lazy,H.good_match=a[H.level].good_length,H.nice_match=a[H.level].nice_length,H.max_chain_length=a[H.level].max_chain,H.strstart=0,H.block_start=0,H.lookahead=0,H.insert=0,H.match_length=H.prev_length=T-1,H.match_available=0,H.ins_h=0})(C.state),G}function ne(C,G,H,V,U,K){if(!C)return v;var ie=1;if(G===m&&(G=6),V<0?(ie=0,V=-V):15<V&&(ie=2,V-=16),U<1||x<U||H!==b||V<8||15<V||G<0||9<G||K<0||g<K)return q(C,v);V===8&&(V=9);var re=new te;return(C.state=re).strm=C,re.wrap=ie,re.gzhead=null,re.w_bits=V,re.w_size=1<<re.w_bits,re.w_mask=re.w_size-1,re.hash_bits=U+7,re.hash_size=1<<re.hash_bits,re.hash_mask=re.hash_size-1,re.hash_shift=~~((re.hash_bits+T-1)/T),re.window=new o.Buf8(2*re.w_size),re.head=new o.Buf16(re.hash_size),re.prev=new o.Buf16(re.w_size),re.lit_bufsize=1<<U+6,re.pending_buf_size=4*re.lit_bufsize,re.pending_buf=new o.Buf8(re.pending_buf_size),re.d_buf=1*re.lit_bufsize,re.l_buf=3*re.lit_bufsize,re.level=G,re.strategy=K,re.method=H,J(C)}a=[new ee(0,0,0,0,function(C,G){var H=65535;for(H>C.pending_buf_size-5&&(H=C.pending_buf_size-5);;){if(C.lookahead<=1){if(fe(C),C.lookahead===0&&G===f)return E;if(C.lookahead===0)break}C.strstart+=C.lookahead,C.lookahead=0;var V=C.block_start+H;if((C.strstart===0||C.strstart>=V)&&(C.lookahead=C.strstart-V,C.strstart=V,B(C,!1),C.strm.avail_out===0)||C.strstart-C.block_start>=C.w_size-P&&(B(C,!1),C.strm.avail_out===0))return E}return C.insert=0,G===h?(B(C,!0),C.strm.avail_out===0?F:z):(C.strstart>C.block_start&&(B(C,!1),C.strm.avail_out),E)}),new ee(4,4,8,4,le),new ee(4,5,16,8,le),new ee(4,6,32,32,le),new ee(4,4,16,16,ue),new ee(8,16,32,32,ue),new ee(8,16,128,128,ue),new ee(8,32,128,256,ue),new ee(32,128,258,1024,ue),new ee(32,258,258,4096,ue)],i.deflateInit=function(C,G){return ne(C,G,b,15,8,0)},i.deflateInit2=ne,i.deflateReset=J,i.deflateResetKeep=ce,i.deflateSetHeader=function(C,G){return C&&C.state?C.state.wrap!==2?v:(C.state.gzhead=G,p):v},i.deflate=function(C,G){var H,V,U,K;if(!C||!C.state||5<G||G<0)return C?q(C,v):v;if(V=C.state,!C.output||!C.input&&C.avail_in!==0||V.status===666&&G!==h)return q(C,C.avail_out===0?-5:v);if(V.strm=C,H=V.last_flush,V.last_flush=G,V.status===N)if(V.wrap===2)C.adler=0,$(V,31),$(V,139),$(V,8),V.gzhead?($(V,(V.gzhead.text?1:0)+(V.gzhead.hcrc?2:0)+(V.gzhead.extra?4:0)+(V.gzhead.name?8:0)+(V.gzhead.comment?16:0)),$(V,255&V.gzhead.time),$(V,V.gzhead.time>>8&255),$(V,V.gzhead.time>>16&255),$(V,V.gzhead.time>>24&255),$(V,V.level===9?2:2<=V.strategy||V.level<2?4:0),$(V,255&V.gzhead.os),V.gzhead.extra&&V.gzhead.extra.length&&($(V,255&V.gzhead.extra.length),$(V,V.gzhead.extra.length>>8&255)),V.gzhead.hcrc&&(C.adler=c(C.adler,V.pending_buf,V.pending,0)),V.gzindex=0,V.status=69):($(V,0),$(V,0),$(V,0),$(V,0),$(V,0),$(V,V.level===9?2:2<=V.strategy||V.level<2?4:0),$(V,3),V.status=M);else{var ie=b+(V.w_bits-8<<4)<<8;ie|=(2<=V.strategy||V.level<2?0:V.level<6?1:V.level===6?2:3)<<6,V.strstart!==0&&(ie|=32),ie+=31-ie%31,V.status=M,Q(V,ie),V.strstart!==0&&(Q(V,C.adler>>>16),Q(V,65535&C.adler)),C.adler=1}if(V.status===69)if(V.gzhead.extra){for(U=V.pending;V.gzindex<(65535&V.gzhead.extra.length)&&(V.pending!==V.pending_buf_size||(V.gzhead.hcrc&&V.pending>U&&(C.adler=c(C.adler,V.pending_buf,V.pending-U,U)),W(C),U=V.pending,V.pending!==V.pending_buf_size));)$(V,255&V.gzhead.extra[V.gzindex]),V.gzindex++;V.gzhead.hcrc&&V.pending>U&&(C.adler=c(C.adler,V.pending_buf,V.pending-U,U)),V.gzindex===V.gzhead.extra.length&&(V.gzindex=0,V.status=73)}else V.status=73;if(V.status===73)if(V.gzhead.name){U=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>U&&(C.adler=c(C.adler,V.pending_buf,V.pending-U,U)),W(C),U=V.pending,V.pending===V.pending_buf_size)){K=1;break}K=V.gzindex<V.gzhead.name.length?255&V.gzhead.name.charCodeAt(V.gzindex++):0,$(V,K)}while(K!==0);V.gzhead.hcrc&&V.pending>U&&(C.adler=c(C.adler,V.pending_buf,V.pending-U,U)),K===0&&(V.gzindex=0,V.status=91)}else V.status=91;if(V.status===91)if(V.gzhead.comment){U=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>U&&(C.adler=c(C.adler,V.pending_buf,V.pending-U,U)),W(C),U=V.pending,V.pending===V.pending_buf_size)){K=1;break}K=V.gzindex<V.gzhead.comment.length?255&V.gzhead.comment.charCodeAt(V.gzindex++):0,$(V,K)}while(K!==0);V.gzhead.hcrc&&V.pending>U&&(C.adler=c(C.adler,V.pending_buf,V.pending-U,U)),K===0&&(V.status=103)}else V.status=103;if(V.status===103&&(V.gzhead.hcrc?(V.pending+2>V.pending_buf_size&&W(C),V.pending+2<=V.pending_buf_size&&($(V,255&C.adler),$(V,C.adler>>8&255),C.adler=0,V.status=M)):V.status=M),V.pending!==0){if(W(C),C.avail_out===0)return V.last_flush=-1,p}else if(C.avail_in===0&&L(G)<=L(H)&&G!==h)return q(C,-5);if(V.status===666&&C.avail_in!==0)return q(C,-5);if(C.avail_in!==0||V.lookahead!==0||G!==f&&V.status!==666){var re=V.strategy===2?(function(X,de){for(var ye;;){if(X.lookahead===0&&(fe(X),X.lookahead===0)){if(de===f)return E;break}if(X.match_length=0,ye=s._tr_tally(X,0,X.window[X.strstart]),X.lookahead--,X.strstart++,ye&&(B(X,!1),X.strm.avail_out===0))return E}return X.insert=0,de===h?(B(X,!0),X.strm.avail_out===0?F:z):X.last_lit&&(B(X,!1),X.strm.avail_out===0)?E:R})(V,G):V.strategy===3?(function(X,de){for(var ye,he,Y,oe,ve=X.window;;){if(X.lookahead<=O){if(fe(X),X.lookahead<=O&&de===f)return E;if(X.lookahead===0)break}if(X.match_length=0,X.lookahead>=T&&0<X.strstart&&(he=ve[Y=X.strstart-1])===ve[++Y]&&he===ve[++Y]&&he===ve[++Y]){oe=X.strstart+O;do;while(he===ve[++Y]&&he===ve[++Y]&&he===ve[++Y]&&he===ve[++Y]&&he===ve[++Y]&&he===ve[++Y]&&he===ve[++Y]&&he===ve[++Y]&&Y<oe);X.match_length=O-(oe-Y),X.match_length>X.lookahead&&(X.match_length=X.lookahead)}if(X.match_length>=T?(ye=s._tr_tally(X,1,X.match_length-T),X.lookahead-=X.match_length,X.strstart+=X.match_length,X.match_length=0):(ye=s._tr_tally(X,0,X.window[X.strstart]),X.lookahead--,X.strstart++),ye&&(B(X,!1),X.strm.avail_out===0))return E}return X.insert=0,de===h?(B(X,!0),X.strm.avail_out===0?F:z):X.last_lit&&(B(X,!1),X.strm.avail_out===0)?E:R})(V,G):a[V.level].func(V,G);if(re!==F&&re!==z||(V.status=666),re===E||re===F)return C.avail_out===0&&(V.last_flush=-1),p;if(re===R&&(G===1?s._tr_align(V):G!==5&&(s._tr_stored_block(V,0,0,!1),G===3&&(D(V.head),V.lookahead===0&&(V.strstart=0,V.block_start=0,V.insert=0))),W(C),C.avail_out===0))return V.last_flush=-1,p}return G!==h?p:V.wrap<=0?1:(V.wrap===2?($(V,255&C.adler),$(V,C.adler>>8&255),$(V,C.adler>>16&255),$(V,C.adler>>24&255),$(V,255&C.total_in),$(V,C.total_in>>8&255),$(V,C.total_in>>16&255),$(V,C.total_in>>24&255)):(Q(V,C.adler>>>16),Q(V,65535&C.adler)),W(C),0<V.wrap&&(V.wrap=-V.wrap),V.pending!==0?p:1)},i.deflateEnd=function(C){var G;return C&&C.state?(G=C.state.status)!==N&&G!==69&&G!==73&&G!==91&&G!==103&&G!==M&&G!==666?q(C,v):(C.state=null,G===M?q(C,-3):p):v},i.deflateSetDictionary=function(C,G){var H,V,U,K,ie,re,X,de,ye=G.length;if(!C||!C.state||(K=(H=C.state).wrap)===2||K===1&&H.status!==N||H.lookahead)return v;for(K===1&&(C.adler=l(C.adler,G,ye,0)),H.wrap=0,ye>=H.w_size&&(K===0&&(D(H.head),H.strstart=0,H.block_start=0,H.insert=0),de=new o.Buf8(H.w_size),o.arraySet(de,G,ye-H.w_size,H.w_size,0),G=de,ye=H.w_size),ie=C.avail_in,re=C.next_in,X=C.input,C.avail_in=ye,C.next_in=0,C.input=G,fe(H);H.lookahead>=T;){for(V=H.strstart,U=H.lookahead-(T-1);H.ins_h=(H.ins_h<<H.hash_shift^H.window[V+T-1])&H.hash_mask,H.prev[V&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=V,V++,--U;);H.strstart=V,H.lookahead=T-1,fe(H)}return H.strstart+=H.lookahead,H.block_start=H.strstart,H.insert=H.lookahead,H.lookahead=0,H.match_length=H.prev_length=T-1,H.match_available=0,C.next_in=re,C.input=X,C.avail_in=ie,H.wrap=K,p},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,i){n.exports=function(a,o){var s,l,c,d,f,h,p,v,m,g,y,b,x,_,w,j,k,A,T,O,P,N,M,E,R;s=a.state,l=a.next_in,E=a.input,c=l+(a.avail_in-5),d=a.next_out,R=a.output,f=d-(o-a.avail_out),h=d+(a.avail_out-257),p=s.dmax,v=s.wsize,m=s.whave,g=s.wnext,y=s.window,b=s.hold,x=s.bits,_=s.lencode,w=s.distcode,j=(1<<s.lenbits)-1,k=(1<<s.distbits)-1;e:do{x<15&&(b+=E[l++]<<x,x+=8,b+=E[l++]<<x,x+=8),A=_[b&j];t:for(;;){if(b>>>=T=A>>>24,x-=T,(T=A>>>16&255)===0)R[d++]=65535&A;else{if(!(16&T)){if((64&T)==0){A=_[(65535&A)+(b&(1<<T)-1)];continue t}if(32&T){s.mode=12;break e}a.msg="invalid literal/length code",s.mode=30;break e}O=65535&A,(T&=15)&&(x<T&&(b+=E[l++]<<x,x+=8),O+=b&(1<<T)-1,b>>>=T,x-=T),x<15&&(b+=E[l++]<<x,x+=8,b+=E[l++]<<x,x+=8),A=w[b&k];r:for(;;){if(b>>>=T=A>>>24,x-=T,!(16&(T=A>>>16&255))){if((64&T)==0){A=w[(65535&A)+(b&(1<<T)-1)];continue r}a.msg="invalid distance code",s.mode=30;break e}if(P=65535&A,x<(T&=15)&&(b+=E[l++]<<x,(x+=8)<T&&(b+=E[l++]<<x,x+=8)),p<(P+=b&(1<<T)-1)){a.msg="invalid distance too far back",s.mode=30;break e}if(b>>>=T,x-=T,(T=d-f)<P){if(m<(T=P-T)&&s.sane){a.msg="invalid distance too far back",s.mode=30;break e}if(M=y,(N=0)===g){if(N+=v-T,T<O){for(O-=T;R[d++]=y[N++],--T;);N=d-P,M=R}}else if(g<T){if(N+=v+g-T,(T-=g)<O){for(O-=T;R[d++]=y[N++],--T;);if(N=0,g<O){for(O-=T=g;R[d++]=y[N++],--T;);N=d-P,M=R}}}else if(N+=g-T,T<O){for(O-=T;R[d++]=y[N++],--T;);N=d-P,M=R}for(;2<O;)R[d++]=M[N++],R[d++]=M[N++],R[d++]=M[N++],O-=3;O&&(R[d++]=M[N++],1<O&&(R[d++]=M[N++]))}else{for(N=d-P;R[d++]=R[N++],R[d++]=R[N++],R[d++]=R[N++],2<(O-=3););O&&(R[d++]=R[N++],1<O&&(R[d++]=R[N++]))}break}}break}}while(l<c&&d<h);l-=O=x>>3,b&=(1<<(x-=O<<3))-1,a.next_in=l,a.next_out=d,a.avail_in=l<c?c-l+5:5-(l-c),a.avail_out=d<h?h-d+257:257-(d-h),s.hold=b,s.bits=x}},{}],49:[function(r,n,i){var a=r("../utils/common"),o=r("./adler32"),s=r("./crc32"),l=r("./inffast"),c=r("./inftrees"),d=1,f=2,h=0,p=-2,v=1,m=852,g=592;function y(N){return(N>>>24&255)+(N>>>8&65280)+((65280&N)<<8)+((255&N)<<24)}function b(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(N){var M;return N&&N.state?(M=N.state,N.total_in=N.total_out=M.total=0,N.msg="",M.wrap&&(N.adler=1&M.wrap),M.mode=v,M.last=0,M.havedict=0,M.dmax=32768,M.head=null,M.hold=0,M.bits=0,M.lencode=M.lendyn=new a.Buf32(m),M.distcode=M.distdyn=new a.Buf32(g),M.sane=1,M.back=-1,h):p}function _(N){var M;return N&&N.state?((M=N.state).wsize=0,M.whave=0,M.wnext=0,x(N)):p}function w(N,M){var E,R;return N&&N.state?(R=N.state,M<0?(E=0,M=-M):(E=1+(M>>4),M<48&&(M&=15)),M&&(M<8||15<M)?p:(R.window!==null&&R.wbits!==M&&(R.window=null),R.wrap=E,R.wbits=M,_(N))):p}function j(N,M){var E,R;return N?(R=new b,(N.state=R).window=null,(E=w(N,M))!==h&&(N.state=null),E):p}var k,A,T=!0;function O(N){if(T){var M;for(k=new a.Buf32(512),A=new a.Buf32(32),M=0;M<144;)N.lens[M++]=8;for(;M<256;)N.lens[M++]=9;for(;M<280;)N.lens[M++]=7;for(;M<288;)N.lens[M++]=8;for(c(d,N.lens,0,288,k,0,N.work,{bits:9}),M=0;M<32;)N.lens[M++]=5;c(f,N.lens,0,32,A,0,N.work,{bits:5}),T=!1}N.lencode=k,N.lenbits=9,N.distcode=A,N.distbits=5}function P(N,M,E,R){var F,z=N.state;return z.window===null&&(z.wsize=1<<z.wbits,z.wnext=0,z.whave=0,z.window=new a.Buf8(z.wsize)),R>=z.wsize?(a.arraySet(z.window,M,E-z.wsize,z.wsize,0),z.wnext=0,z.whave=z.wsize):(R<(F=z.wsize-z.wnext)&&(F=R),a.arraySet(z.window,M,E-R,F,z.wnext),(R-=F)?(a.arraySet(z.window,M,E-R,R,0),z.wnext=R,z.whave=z.wsize):(z.wnext+=F,z.wnext===z.wsize&&(z.wnext=0),z.whave<z.wsize&&(z.whave+=F))),0}i.inflateReset=_,i.inflateReset2=w,i.inflateResetKeep=x,i.inflateInit=function(N){return j(N,15)},i.inflateInit2=j,i.inflate=function(N,M){var E,R,F,z,q,L,D,W,B,$,Q,Z,fe,le,ue,ee,te,ce,J,ne,C,G,H,V,U=0,K=new a.Buf8(4),ie=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!N||!N.state||!N.output||!N.input&&N.avail_in!==0)return p;(E=N.state).mode===12&&(E.mode=13),q=N.next_out,F=N.output,D=N.avail_out,z=N.next_in,R=N.input,L=N.avail_in,W=E.hold,B=E.bits,$=L,Q=D,G=h;e:for(;;)switch(E.mode){case v:if(E.wrap===0){E.mode=13;break}for(;B<16;){if(L===0)break e;L--,W+=R[z++]<<B,B+=8}if(2&E.wrap&&W===35615){K[E.check=0]=255&W,K[1]=W>>>8&255,E.check=s(E.check,K,2,0),B=W=0,E.mode=2;break}if(E.flags=0,E.head&&(E.head.done=!1),!(1&E.wrap)||(((255&W)<<8)+(W>>8))%31){N.msg="incorrect header check",E.mode=30;break}if((15&W)!=8){N.msg="unknown compression method",E.mode=30;break}if(B-=4,C=8+(15&(W>>>=4)),E.wbits===0)E.wbits=C;else if(C>E.wbits){N.msg="invalid window size",E.mode=30;break}E.dmax=1<<C,N.adler=E.check=1,E.mode=512&W?10:12,B=W=0;break;case 2:for(;B<16;){if(L===0)break e;L--,W+=R[z++]<<B,B+=8}if(E.flags=W,(255&E.flags)!=8){N.msg="unknown compression method",E.mode=30;break}if(57344&E.flags){N.msg="unknown header flags set",E.mode=30;break}E.head&&(E.head.text=W>>8&1),512&E.flags&&(K[0]=255&W,K[1]=W>>>8&255,E.check=s(E.check,K,2,0)),B=W=0,E.mode=3;case 3:for(;B<32;){if(L===0)break e;L--,W+=R[z++]<<B,B+=8}E.head&&(E.head.time=W),512&E.flags&&(K[0]=255&W,K[1]=W>>>8&255,K[2]=W>>>16&255,K[3]=W>>>24&255,E.check=s(E.check,K,4,0)),B=W=0,E.mode=4;case 4:for(;B<16;){if(L===0)break e;L--,W+=R[z++]<<B,B+=8}E.head&&(E.head.xflags=255&W,E.head.os=W>>8),512&E.flags&&(K[0]=255&W,K[1]=W>>>8&255,E.check=s(E.check,K,2,0)),B=W=0,E.mode=5;case 5:if(1024&E.flags){for(;B<16;){if(L===0)break e;L--,W+=R[z++]<<B,B+=8}E.length=W,E.head&&(E.head.extra_len=W),512&E.flags&&(K[0]=255&W,K[1]=W>>>8&255,E.check=s(E.check,K,2,0)),B=W=0}else E.head&&(E.head.extra=null);E.mode=6;case 6:if(1024&E.flags&&(L<(Z=E.length)&&(Z=L),Z&&(E.head&&(C=E.head.extra_len-E.length,E.head.extra||(E.head.extra=new Array(E.head.extra_len)),a.arraySet(E.head.extra,R,z,Z,C)),512&E.flags&&(E.check=s(E.check,R,Z,z)),L-=Z,z+=Z,E.length-=Z),E.length))break e;E.length=0,E.mode=7;case 7:if(2048&E.flags){if(L===0)break e;for(Z=0;C=R[z+Z++],E.head&&C&&E.length<65536&&(E.head.name+=String.fromCharCode(C)),C&&Z<L;);if(512&E.flags&&(E.check=s(E.check,R,Z,z)),L-=Z,z+=Z,C)break e}else E.head&&(E.head.name=null);E.length=0,E.mode=8;case 8:if(4096&E.flags){if(L===0)break e;for(Z=0;C=R[z+Z++],E.head&&C&&E.length<65536&&(E.head.comment+=String.fromCharCode(C)),C&&Z<L;);if(512&E.flags&&(E.check=s(E.check,R,Z,z)),L-=Z,z+=Z,C)break e}else E.head&&(E.head.comment=null);E.mode=9;case 9:if(512&E.flags){for(;B<16;){if(L===0)break e;L--,W+=R[z++]<<B,B+=8}if(W!==(65535&E.check)){N.msg="header crc mismatch",E.mode=30;break}B=W=0}E.head&&(E.head.hcrc=E.flags>>9&1,E.head.done=!0),N.adler=E.check=0,E.mode=12;break;case 10:for(;B<32;){if(L===0)break e;L--,W+=R[z++]<<B,B+=8}N.adler=E.check=y(W),B=W=0,E.mode=11;case 11:if(E.havedict===0)return N.next_out=q,N.avail_out=D,N.next_in=z,N.avail_in=L,E.hold=W,E.bits=B,2;N.adler=E.check=1,E.mode=12;case 12:if(M===5||M===6)break e;case 13:if(E.last){W>>>=7&B,B-=7&B,E.mode=27;break}for(;B<3;){if(L===0)break e;L--,W+=R[z++]<<B,B+=8}switch(E.last=1&W,B-=1,3&(W>>>=1)){case 0:E.mode=14;break;case 1:if(O(E),E.mode=20,M!==6)break;W>>>=2,B-=2;break e;case 2:E.mode=17;break;case 3:N.msg="invalid block type",E.mode=30}W>>>=2,B-=2;break;case 14:for(W>>>=7&B,B-=7&B;B<32;){if(L===0)break e;L--,W+=R[z++]<<B,B+=8}if((65535&W)!=(W>>>16^65535)){N.msg="invalid stored block lengths",E.mode=30;break}if(E.length=65535&W,B=W=0,E.mode=15,M===6)break e;case 15:E.mode=16;case 16:if(Z=E.length){if(L<Z&&(Z=L),D<Z&&(Z=D),Z===0)break e;a.arraySet(F,R,z,Z,q),L-=Z,z+=Z,D-=Z,q+=Z,E.length-=Z;break}E.mode=12;break;case 17:for(;B<14;){if(L===0)break e;L--,W+=R[z++]<<B,B+=8}if(E.nlen=257+(31&W),W>>>=5,B-=5,E.ndist=1+(31&W),W>>>=5,B-=5,E.ncode=4+(15&W),W>>>=4,B-=4,286<E.nlen||30<E.ndist){N.msg="too many length or distance symbols",E.mode=30;break}E.have=0,E.mode=18;case 18:for(;E.have<E.ncode;){for(;B<3;){if(L===0)break e;L--,W+=R[z++]<<B,B+=8}E.lens[ie[E.have++]]=7&W,W>>>=3,B-=3}for(;E.have<19;)E.lens[ie[E.have++]]=0;if(E.lencode=E.lendyn,E.lenbits=7,H={bits:E.lenbits},G=c(0,E.lens,0,19,E.lencode,0,E.work,H),E.lenbits=H.bits,G){N.msg="invalid code lengths set",E.mode=30;break}E.have=0,E.mode=19;case 19:for(;E.have<E.nlen+E.ndist;){for(;ee=(U=E.lencode[W&(1<<E.lenbits)-1])>>>16&255,te=65535&U,!((ue=U>>>24)<=B);){if(L===0)break e;L--,W+=R[z++]<<B,B+=8}if(te<16)W>>>=ue,B-=ue,E.lens[E.have++]=te;else{if(te===16){for(V=ue+2;B<V;){if(L===0)break e;L--,W+=R[z++]<<B,B+=8}if(W>>>=ue,B-=ue,E.have===0){N.msg="invalid bit length repeat",E.mode=30;break}C=E.lens[E.have-1],Z=3+(3&W),W>>>=2,B-=2}else if(te===17){for(V=ue+3;B<V;){if(L===0)break e;L--,W+=R[z++]<<B,B+=8}B-=ue,C=0,Z=3+(7&(W>>>=ue)),W>>>=3,B-=3}else{for(V=ue+7;B<V;){if(L===0)break e;L--,W+=R[z++]<<B,B+=8}B-=ue,C=0,Z=11+(127&(W>>>=ue)),W>>>=7,B-=7}if(E.have+Z>E.nlen+E.ndist){N.msg="invalid bit length repeat",E.mode=30;break}for(;Z--;)E.lens[E.have++]=C}}if(E.mode===30)break;if(E.lens[256]===0){N.msg="invalid code -- missing end-of-block",E.mode=30;break}if(E.lenbits=9,H={bits:E.lenbits},G=c(d,E.lens,0,E.nlen,E.lencode,0,E.work,H),E.lenbits=H.bits,G){N.msg="invalid literal/lengths set",E.mode=30;break}if(E.distbits=6,E.distcode=E.distdyn,H={bits:E.distbits},G=c(f,E.lens,E.nlen,E.ndist,E.distcode,0,E.work,H),E.distbits=H.bits,G){N.msg="invalid distances set",E.mode=30;break}if(E.mode=20,M===6)break e;case 20:E.mode=21;case 21:if(6<=L&&258<=D){N.next_out=q,N.avail_out=D,N.next_in=z,N.avail_in=L,E.hold=W,E.bits=B,l(N,Q),q=N.next_out,F=N.output,D=N.avail_out,z=N.next_in,R=N.input,L=N.avail_in,W=E.hold,B=E.bits,E.mode===12&&(E.back=-1);break}for(E.back=0;ee=(U=E.lencode[W&(1<<E.lenbits)-1])>>>16&255,te=65535&U,!((ue=U>>>24)<=B);){if(L===0)break e;L--,W+=R[z++]<<B,B+=8}if(ee&&(240&ee)==0){for(ce=ue,J=ee,ne=te;ee=(U=E.lencode[ne+((W&(1<<ce+J)-1)>>ce)])>>>16&255,te=65535&U,!(ce+(ue=U>>>24)<=B);){if(L===0)break e;L--,W+=R[z++]<<B,B+=8}W>>>=ce,B-=ce,E.back+=ce}if(W>>>=ue,B-=ue,E.back+=ue,E.length=te,ee===0){E.mode=26;break}if(32&ee){E.back=-1,E.mode=12;break}if(64&ee){N.msg="invalid literal/length code",E.mode=30;break}E.extra=15&ee,E.mode=22;case 22:if(E.extra){for(V=E.extra;B<V;){if(L===0)break e;L--,W+=R[z++]<<B,B+=8}E.length+=W&(1<<E.extra)-1,W>>>=E.extra,B-=E.extra,E.back+=E.extra}E.was=E.length,E.mode=23;case 23:for(;ee=(U=E.distcode[W&(1<<E.distbits)-1])>>>16&255,te=65535&U,!((ue=U>>>24)<=B);){if(L===0)break e;L--,W+=R[z++]<<B,B+=8}if((240&ee)==0){for(ce=ue,J=ee,ne=te;ee=(U=E.distcode[ne+((W&(1<<ce+J)-1)>>ce)])>>>16&255,te=65535&U,!(ce+(ue=U>>>24)<=B);){if(L===0)break e;L--,W+=R[z++]<<B,B+=8}W>>>=ce,B-=ce,E.back+=ce}if(W>>>=ue,B-=ue,E.back+=ue,64&ee){N.msg="invalid distance code",E.mode=30;break}E.offset=te,E.extra=15&ee,E.mode=24;case 24:if(E.extra){for(V=E.extra;B<V;){if(L===0)break e;L--,W+=R[z++]<<B,B+=8}E.offset+=W&(1<<E.extra)-1,W>>>=E.extra,B-=E.extra,E.back+=E.extra}if(E.offset>E.dmax){N.msg="invalid distance too far back",E.mode=30;break}E.mode=25;case 25:if(D===0)break e;if(Z=Q-D,E.offset>Z){if((Z=E.offset-Z)>E.whave&&E.sane){N.msg="invalid distance too far back",E.mode=30;break}fe=Z>E.wnext?(Z-=E.wnext,E.wsize-Z):E.wnext-Z,Z>E.length&&(Z=E.length),le=E.window}else le=F,fe=q-E.offset,Z=E.length;for(D<Z&&(Z=D),D-=Z,E.length-=Z;F[q++]=le[fe++],--Z;);E.length===0&&(E.mode=21);break;case 26:if(D===0)break e;F[q++]=E.length,D--,E.mode=21;break;case 27:if(E.wrap){for(;B<32;){if(L===0)break e;L--,W|=R[z++]<<B,B+=8}if(Q-=D,N.total_out+=Q,E.total+=Q,Q&&(N.adler=E.check=E.flags?s(E.check,F,Q,q-Q):o(E.check,F,Q,q-Q)),Q=D,(E.flags?W:y(W))!==E.check){N.msg="incorrect data check",E.mode=30;break}B=W=0}E.mode=28;case 28:if(E.wrap&&E.flags){for(;B<32;){if(L===0)break e;L--,W+=R[z++]<<B,B+=8}if(W!==(4294967295&E.total)){N.msg="incorrect length check",E.mode=30;break}B=W=0}E.mode=29;case 29:G=1;break e;case 30:G=-3;break e;case 31:return-4;default:return p}return N.next_out=q,N.avail_out=D,N.next_in=z,N.avail_in=L,E.hold=W,E.bits=B,(E.wsize||Q!==N.avail_out&&E.mode<30&&(E.mode<27||M!==4))&&P(N,N.output,N.next_out,Q-N.avail_out)?(E.mode=31,-4):($-=N.avail_in,Q-=N.avail_out,N.total_in+=$,N.total_out+=Q,E.total+=Q,E.wrap&&Q&&(N.adler=E.check=E.flags?s(E.check,F,Q,N.next_out-Q):o(E.check,F,Q,N.next_out-Q)),N.data_type=E.bits+(E.last?64:0)+(E.mode===12?128:0)+(E.mode===20||E.mode===15?256:0),($==0&&Q===0||M===4)&&G===h&&(G=-5),G)},i.inflateEnd=function(N){if(!N||!N.state)return p;var M=N.state;return M.window&&(M.window=null),N.state=null,h},i.inflateGetHeader=function(N,M){var E;return N&&N.state?(2&(E=N.state).wrap)==0?p:((E.head=M).done=!1,h):p},i.inflateSetDictionary=function(N,M){var E,R=M.length;return N&&N.state?(E=N.state).wrap!==0&&E.mode!==11?p:E.mode===11&&o(1,M,R,0)!==E.check?-3:P(N,M,R,R)?(E.mode=31,-4):(E.havedict=1,h):p},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,i){var a=r("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(d,f,h,p,v,m,g,y){var b,x,_,w,j,k,A,T,O,P=y.bits,N=0,M=0,E=0,R=0,F=0,z=0,q=0,L=0,D=0,W=0,B=null,$=0,Q=new a.Buf16(16),Z=new a.Buf16(16),fe=null,le=0;for(N=0;N<=15;N++)Q[N]=0;for(M=0;M<p;M++)Q[f[h+M]]++;for(F=P,R=15;1<=R&&Q[R]===0;R--);if(R<F&&(F=R),R===0)return v[m++]=20971520,v[m++]=20971520,y.bits=1,0;for(E=1;E<R&&Q[E]===0;E++);for(F<E&&(F=E),N=L=1;N<=15;N++)if(L<<=1,(L-=Q[N])<0)return-1;if(0<L&&(d===0||R!==1))return-1;for(Z[1]=0,N=1;N<15;N++)Z[N+1]=Z[N]+Q[N];for(M=0;M<p;M++)f[h+M]!==0&&(g[Z[f[h+M]]++]=M);if(k=d===0?(B=fe=g,19):d===1?(B=o,$-=257,fe=s,le-=257,256):(B=l,fe=c,-1),N=E,j=m,q=M=W=0,_=-1,w=(D=1<<(z=F))-1,d===1&&852<D||d===2&&592<D)return 1;for(;;){for(A=N-q,O=g[M]<k?(T=0,g[M]):g[M]>k?(T=fe[le+g[M]],B[$+g[M]]):(T=96,0),b=1<<N-q,E=x=1<<z;v[j+(W>>q)+(x-=b)]=A<<24|T<<16|O|0,x!==0;);for(b=1<<N-1;W&b;)b>>=1;if(b!==0?(W&=b-1,W+=b):W=0,M++,--Q[N]==0){if(N===R)break;N=f[h+g[M]]}if(F<N&&(W&w)!==_){for(q===0&&(q=F),j+=E,L=1<<(z=N-q);z+q<R&&!((L-=Q[z+q])<=0);)z++,L<<=1;if(D+=1<<z,d===1&&852<D||d===2&&592<D)return 1;v[_=W&w]=F<<24|z<<16|j-m|0}}return W!==0&&(v[j+W]=N-q<<24|64<<16|0),y.bits=F,0}},{"../utils/common":41}],51:[function(r,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,i){var a=r("../utils/common"),o=0,s=1;function l(U){for(var K=U.length;0<=--K;)U[K]=0}var c=0,d=29,f=256,h=f+1+d,p=30,v=19,m=2*h+1,g=15,y=16,b=7,x=256,_=16,w=17,j=18,k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],A=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],P=new Array(2*(h+2));l(P);var N=new Array(2*p);l(N);var M=new Array(512);l(M);var E=new Array(256);l(E);var R=new Array(d);l(R);var F,z,q,L=new Array(p);function D(U,K,ie,re,X){this.static_tree=U,this.extra_bits=K,this.extra_base=ie,this.elems=re,this.max_length=X,this.has_stree=U&&U.length}function W(U,K){this.dyn_tree=U,this.max_code=0,this.stat_desc=K}function B(U){return U<256?M[U]:M[256+(U>>>7)]}function $(U,K){U.pending_buf[U.pending++]=255&K,U.pending_buf[U.pending++]=K>>>8&255}function Q(U,K,ie){U.bi_valid>y-ie?(U.bi_buf|=K<<U.bi_valid&65535,$(U,U.bi_buf),U.bi_buf=K>>y-U.bi_valid,U.bi_valid+=ie-y):(U.bi_buf|=K<<U.bi_valid&65535,U.bi_valid+=ie)}function Z(U,K,ie){Q(U,ie[2*K],ie[2*K+1])}function fe(U,K){for(var ie=0;ie|=1&U,U>>>=1,ie<<=1,0<--K;);return ie>>>1}function le(U,K,ie){var re,X,de=new Array(g+1),ye=0;for(re=1;re<=g;re++)de[re]=ye=ye+ie[re-1]<<1;for(X=0;X<=K;X++){var he=U[2*X+1];he!==0&&(U[2*X]=fe(de[he]++,he))}}function ue(U){var K;for(K=0;K<h;K++)U.dyn_ltree[2*K]=0;for(K=0;K<p;K++)U.dyn_dtree[2*K]=0;for(K=0;K<v;K++)U.bl_tree[2*K]=0;U.dyn_ltree[2*x]=1,U.opt_len=U.static_len=0,U.last_lit=U.matches=0}function ee(U){8<U.bi_valid?$(U,U.bi_buf):0<U.bi_valid&&(U.pending_buf[U.pending++]=U.bi_buf),U.bi_buf=0,U.bi_valid=0}function te(U,K,ie,re){var X=2*K,de=2*ie;return U[X]<U[de]||U[X]===U[de]&&re[K]<=re[ie]}function ce(U,K,ie){for(var re=U.heap[ie],X=ie<<1;X<=U.heap_len&&(X<U.heap_len&&te(K,U.heap[X+1],U.heap[X],U.depth)&&X++,!te(K,re,U.heap[X],U.depth));)U.heap[ie]=U.heap[X],ie=X,X<<=1;U.heap[ie]=re}function J(U,K,ie){var re,X,de,ye,he=0;if(U.last_lit!==0)for(;re=U.pending_buf[U.d_buf+2*he]<<8|U.pending_buf[U.d_buf+2*he+1],X=U.pending_buf[U.l_buf+he],he++,re===0?Z(U,X,K):(Z(U,(de=E[X])+f+1,K),(ye=k[de])!==0&&Q(U,X-=R[de],ye),Z(U,de=B(--re),ie),(ye=A[de])!==0&&Q(U,re-=L[de],ye)),he<U.last_lit;);Z(U,x,K)}function ne(U,K){var ie,re,X,de=K.dyn_tree,ye=K.stat_desc.static_tree,he=K.stat_desc.has_stree,Y=K.stat_desc.elems,oe=-1;for(U.heap_len=0,U.heap_max=m,ie=0;ie<Y;ie++)de[2*ie]!==0?(U.heap[++U.heap_len]=oe=ie,U.depth[ie]=0):de[2*ie+1]=0;for(;U.heap_len<2;)de[2*(X=U.heap[++U.heap_len]=oe<2?++oe:0)]=1,U.depth[X]=0,U.opt_len--,he&&(U.static_len-=ye[2*X+1]);for(K.max_code=oe,ie=U.heap_len>>1;1<=ie;ie--)ce(U,de,ie);for(X=Y;ie=U.heap[1],U.heap[1]=U.heap[U.heap_len--],ce(U,de,1),re=U.heap[1],U.heap[--U.heap_max]=ie,U.heap[--U.heap_max]=re,de[2*X]=de[2*ie]+de[2*re],U.depth[X]=(U.depth[ie]>=U.depth[re]?U.depth[ie]:U.depth[re])+1,de[2*ie+1]=de[2*re+1]=X,U.heap[1]=X++,ce(U,de,1),2<=U.heap_len;);U.heap[--U.heap_max]=U.heap[1],(function(ve,Te){var Ue,Ke,Mt,Ye,zt,cr,rt=Te.dyn_tree,Cr=Te.max_code,ke=Te.stat_desc.static_tree,nt=Te.stat_desc.has_stree,st=Te.stat_desc.extra_bits,ct=Te.stat_desc.extra_base,Pe=Te.stat_desc.max_length,Ge=0;for(Ye=0;Ye<=g;Ye++)ve.bl_count[Ye]=0;for(rt[2*ve.heap[ve.heap_max]+1]=0,Ue=ve.heap_max+1;Ue<m;Ue++)Pe<(Ye=rt[2*rt[2*(Ke=ve.heap[Ue])+1]+1]+1)&&(Ye=Pe,Ge++),rt[2*Ke+1]=Ye,Cr<Ke||(ve.bl_count[Ye]++,zt=0,ct<=Ke&&(zt=st[Ke-ct]),cr=rt[2*Ke],ve.opt_len+=cr*(Ye+zt),nt&&(ve.static_len+=cr*(ke[2*Ke+1]+zt)));if(Ge!==0){do{for(Ye=Pe-1;ve.bl_count[Ye]===0;)Ye--;ve.bl_count[Ye]--,ve.bl_count[Ye+1]+=2,ve.bl_count[Pe]--,Ge-=2}while(0<Ge);for(Ye=Pe;Ye!==0;Ye--)for(Ke=ve.bl_count[Ye];Ke!==0;)Cr<(Mt=ve.heap[--Ue])||(rt[2*Mt+1]!==Ye&&(ve.opt_len+=(Ye-rt[2*Mt+1])*rt[2*Mt],rt[2*Mt+1]=Ye),Ke--)}})(U,K),le(de,oe,U.bl_count)}function C(U,K,ie){var re,X,de=-1,ye=K[1],he=0,Y=7,oe=4;for(ye===0&&(Y=138,oe=3),K[2*(ie+1)+1]=65535,re=0;re<=ie;re++)X=ye,ye=K[2*(re+1)+1],++he<Y&&X===ye||(he<oe?U.bl_tree[2*X]+=he:X!==0?(X!==de&&U.bl_tree[2*X]++,U.bl_tree[2*_]++):he<=10?U.bl_tree[2*w]++:U.bl_tree[2*j]++,de=X,oe=(he=0)===ye?(Y=138,3):X===ye?(Y=6,3):(Y=7,4))}function G(U,K,ie){var re,X,de=-1,ye=K[1],he=0,Y=7,oe=4;for(ye===0&&(Y=138,oe=3),re=0;re<=ie;re++)if(X=ye,ye=K[2*(re+1)+1],!(++he<Y&&X===ye)){if(he<oe)for(;Z(U,X,U.bl_tree),--he!=0;);else X!==0?(X!==de&&(Z(U,X,U.bl_tree),he--),Z(U,_,U.bl_tree),Q(U,he-3,2)):he<=10?(Z(U,w,U.bl_tree),Q(U,he-3,3)):(Z(U,j,U.bl_tree),Q(U,he-11,7));de=X,oe=(he=0)===ye?(Y=138,3):X===ye?(Y=6,3):(Y=7,4)}}l(L);var H=!1;function V(U,K,ie,re){Q(U,(c<<1)+(re?1:0),3),(function(X,de,ye,he){ee(X),$(X,ye),$(X,~ye),a.arraySet(X.pending_buf,X.window,de,ye,X.pending),X.pending+=ye})(U,K,ie)}i._tr_init=function(U){H||((function(){var K,ie,re,X,de,ye=new Array(g+1);for(X=re=0;X<d-1;X++)for(R[X]=re,K=0;K<1<<k[X];K++)E[re++]=X;for(E[re-1]=X,X=de=0;X<16;X++)for(L[X]=de,K=0;K<1<<A[X];K++)M[de++]=X;for(de>>=7;X<p;X++)for(L[X]=de<<7,K=0;K<1<<A[X]-7;K++)M[256+de++]=X;for(ie=0;ie<=g;ie++)ye[ie]=0;for(K=0;K<=143;)P[2*K+1]=8,K++,ye[8]++;for(;K<=255;)P[2*K+1]=9,K++,ye[9]++;for(;K<=279;)P[2*K+1]=7,K++,ye[7]++;for(;K<=287;)P[2*K+1]=8,K++,ye[8]++;for(le(P,h+1,ye),K=0;K<p;K++)N[2*K+1]=5,N[2*K]=fe(K,5);F=new D(P,k,f+1,h,g),z=new D(N,A,0,p,g),q=new D(new Array(0),T,0,v,b)})(),H=!0),U.l_desc=new W(U.dyn_ltree,F),U.d_desc=new W(U.dyn_dtree,z),U.bl_desc=new W(U.bl_tree,q),U.bi_buf=0,U.bi_valid=0,ue(U)},i._tr_stored_block=V,i._tr_flush_block=function(U,K,ie,re){var X,de,ye=0;0<U.level?(U.strm.data_type===2&&(U.strm.data_type=(function(he){var Y,oe=4093624447;for(Y=0;Y<=31;Y++,oe>>>=1)if(1&oe&&he.dyn_ltree[2*Y]!==0)return o;if(he.dyn_ltree[18]!==0||he.dyn_ltree[20]!==0||he.dyn_ltree[26]!==0)return s;for(Y=32;Y<f;Y++)if(he.dyn_ltree[2*Y]!==0)return s;return o})(U)),ne(U,U.l_desc),ne(U,U.d_desc),ye=(function(he){var Y;for(C(he,he.dyn_ltree,he.l_desc.max_code),C(he,he.dyn_dtree,he.d_desc.max_code),ne(he,he.bl_desc),Y=v-1;3<=Y&&he.bl_tree[2*O[Y]+1]===0;Y--);return he.opt_len+=3*(Y+1)+5+5+4,Y})(U),X=U.opt_len+3+7>>>3,(de=U.static_len+3+7>>>3)<=X&&(X=de)):X=de=ie+5,ie+4<=X&&K!==-1?V(U,K,ie,re):U.strategy===4||de===X?(Q(U,2+(re?1:0),3),J(U,P,N)):(Q(U,4+(re?1:0),3),(function(he,Y,oe,ve){var Te;for(Q(he,Y-257,5),Q(he,oe-1,5),Q(he,ve-4,4),Te=0;Te<ve;Te++)Q(he,he.bl_tree[2*O[Te]+1],3);G(he,he.dyn_ltree,Y-1),G(he,he.dyn_dtree,oe-1)})(U,U.l_desc.max_code+1,U.d_desc.max_code+1,ye+1),J(U,U.dyn_ltree,U.dyn_dtree)),ue(U),re&&ee(U)},i._tr_tally=function(U,K,ie){return U.pending_buf[U.d_buf+2*U.last_lit]=K>>>8&255,U.pending_buf[U.d_buf+2*U.last_lit+1]=255&K,U.pending_buf[U.l_buf+U.last_lit]=255&ie,U.last_lit++,K===0?U.dyn_ltree[2*ie]++:(U.matches++,K--,U.dyn_ltree[2*(E[ie]+f+1)]++,U.dyn_dtree[2*B(K)]++),U.last_lit===U.lit_bufsize-1},i._tr_align=function(U){Q(U,2,3),Z(U,x,P),(function(K){K.bi_valid===16?($(K,K.bi_buf),K.bi_buf=0,K.bi_valid=0):8<=K.bi_valid&&(K.pending_buf[K.pending++]=255&K.bi_buf,K.bi_buf>>=8,K.bi_valid-=8)})(U)}},{"../utils/common":41}],53:[function(r,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,i){(function(a){(function(o,s){if(!o.setImmediate){var l,c,d,f,h=1,p={},v=!1,m=o.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(o);g=g&&g.setTimeout?g:o,l={}.toString.call(o.process)==="[object process]"?function(_){process.nextTick(function(){b(_)})}:(function(){if(o.postMessage&&!o.importScripts){var _=!0,w=o.onmessage;return o.onmessage=function(){_=!1},o.postMessage("","*"),o.onmessage=w,_}})()?(f="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",x,!1):o.attachEvent("onmessage",x),function(_){o.postMessage(f+_,"*")}):o.MessageChannel?((d=new MessageChannel).port1.onmessage=function(_){b(_.data)},function(_){d.port2.postMessage(_)}):m&&"onreadystatechange"in m.createElement("script")?(c=m.documentElement,function(_){var w=m.createElement("script");w.onreadystatechange=function(){b(_),w.onreadystatechange=null,c.removeChild(w),w=null},c.appendChild(w)}):function(_){setTimeout(b,0,_)},g.setImmediate=function(_){typeof _!="function"&&(_=new Function(""+_));for(var w=new Array(arguments.length-1),j=0;j<w.length;j++)w[j]=arguments[j+1];var k={callback:_,args:w};return p[h]=k,l(h),h++},g.clearImmediate=y}function y(_){delete p[_]}function b(_){if(v)setTimeout(b,0,_);else{var w=p[_];if(w){v=!0;try{(function(j){var k=j.callback,A=j.args;switch(A.length){case 0:k();break;case 1:k(A[0]);break;case 2:k(A[0],A[1]);break;case 3:k(A[0],A[1],A[2]);break;default:k.apply(s,A)}})(w)}finally{y(_),v=!1}}}}function x(_){_.source===o&&typeof _.data=="string"&&_.data.indexOf(f)===0&&b(+_.data.slice(f.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof kn<"u"?kn:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(uw)),uw.exports}var V2e=U2e();const BW=ot(V2e);var mh={exports:{}},W2e=mh.exports,r5;function H2e(){return r5||(r5=1,(function(e,t){(function(r,n){n()})(W2e,function(){function r(c,d){return typeof d>"u"?d={autoBom:!1}:typeof d!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),d={autoBom:!d}),d.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function n(c,d,f){var h=new XMLHttpRequest;h.open("GET",c),h.responseType="blob",h.onload=function(){l(h.response,d,f)},h.onerror=function(){console.error("could not download file")},h.send()}function i(c){var d=new XMLHttpRequest;d.open("HEAD",c,!1);try{d.send()}catch{}return 200<=d.status&&299>=d.status}function a(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(d)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof kn=="object"&&kn.global===kn?kn:void 0,s=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(c,d,f){var h=o.URL||o.webkitURL,p=document.createElement("a");d=d||c.name||"download",p.download=d,p.rel="noopener",typeof c=="string"?(p.href=c,p.origin===location.origin?a(p):i(p.href)?n(c,d,f):a(p,p.target="_blank")):(p.href=h.createObjectURL(c),setTimeout(function(){h.revokeObjectURL(p.href)},4e4),setTimeout(function(){a(p)},0))}:"msSaveOrOpenBlob"in navigator?function(c,d,f){if(d=d||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(r(c,f),d);else if(i(c))n(c,d,f);else{var h=document.createElement("a");h.href=c,h.target="_blank",setTimeout(function(){a(h)})}}:function(c,d,f,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof c=="string")return n(c,d,f);var p=c.type==="application/octet-stream",v=/constructor/i.test(o.HTMLElement)||o.safari,m=/CriOS\/[\d]+/.test(navigator.userAgent);if((m||p&&v||s)&&typeof FileReader<"u"){var g=new FileReader;g.onloadend=function(){var x=g.result;x=m?x:x.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=x:location=x,h=null},g.readAsDataURL(c)}else{var y=o.URL||o.webkitURL,b=y.createObjectURL(c);h?h.location=b:location.href=b,h=null,setTimeout(function(){y.revokeObjectURL(b)},4e4)}});o.saveAs=l.saveAs=l,e.exports=l})})(mh)),mh.exports}var G2e=H2e();async function K2e(e,t){const r=new BW,n=`habit-tracker-backup-${t.split("T")[0]}`,i=r.folder(n);if(!i)throw new Error("Failed to create root folder");i.file("backup.json",JSON.stringify(e,null,2)),i.file("README.txt",Y2e(e));const a=i.folder("data");if(!a)throw new Error("Failed to create data folder");const o=a.folder("habits");o&&(o.file("goals.json",JSON.stringify(e.goals||[],null,2)),o.file("logs.json",JSON.stringify(e.goal_logs||[],null,2)));const s=a.folder("macro-goals");s&&s.file("long_term_goals.json",JSON.stringify(e.long_term_goals||[],null,2));const l=a.folder("categories");l&&l.file("settings.json",JSON.stringify(e.goal_category_settings||null,null,2));const c=a.folder("tracking");c&&(c.file("reading.json",JSON.stringify(e.reading_logs||[],null,2)),c.file("moods.json",JSON.stringify(e.daily_moods||[],null,2)));const d=a.folder("settings");d&&(d.file("user_settings.json",JSON.stringify(e.user_settings||[],null,2)),d.file("app_settings.json",JSON.stringify(e.app_settings||{},null,2)));const f=a.folder("notes");f&&e.user_memos&&f.file("memo.md",e.user_memos.content||`# Note

Nessuna nota salvata.`);const h=i.folder("database-schema");h&&(e.database_schema?.sql&&h.file("schema.sql",e.database_schema.sql),e.database_schema?.metadata&&h.file("database_info.json",JSON.stringify(e.database_schema.metadata,null,2)),e.database_schema?.tables_summary&&h.file("tables_summary.json",JSON.stringify(e.database_schema.tables_summary,null,2))),i.file("RESTORE_INSTRUCTIONS_IT.md",J2e(e)),i.file("RESTORE_INSTRUCTIONS_EN.md",Z2e(e));const p=await r.generateAsync({type:"blob"});G2e.saveAs(p,`${n}.zip`)}function Y2e(e){const t=LE(e);return`HABIT TRACKER - BACKUP COMPLETO
================================

Data Backup: ${e.timestamp}
Versione: ${e.version}

CONTENUTO DEL BACKUP
--------------------
Questo backup contiene TUTTI i tuoi dati dell'applicazione:

 ${t.goals} Abitudini giornaliere (daily habits)
 ${t.goalLogs} Log di completamento abitudini
 ${t.longTermGoals} Obiettivi macro (annuali, mensili, settimanali, etc.)
 Impostazioni colori e categorie personalizzate
 ${t.readingLogs} Log di lettura
 ${t.moods} Registrazioni mood & energy
 ${t.userSettings} Impostazioni utente
 Note personali (memo)

TOTALE RECORD: ${t.total}

COME RIPRISTINARE
-----------------
1. Apri l'applicazione Habit Tracker
2. Vai alla pagina Backup Completo (/complete-backup)
3. Trascina questo file ZIP nell'area di importazione
4. Conferma il ripristino
5. Attendi il completamento dell'operazione

NOTA: Il ripristino sovrascriver i dati esistenti.
Si consiglia di fare un backup prima di importare.

STRUTTURA FILE
--------------
- backup.json: File completo con tutti i dati
- README.txt: Questo file
- database-schema/: Schema del database Supabase
  - schema.sql: Script SQL completo per ricreare il database
  - database_info.json: Metadata e informazioni del database  - tables_summary.json: Riepilogo struttura tabelle
- data/: Cartella con dati organizzati per tipologia
  - habits/: Abitudini giornaliere e log
  - macro-goals/: Obiettivi a lungo termine
  - categories/: Impostazioni categorie
  - tracking/: Dati di tracking (lettura, mood)
  - settings/: Impostazioni utente e app
  - notes/: Note personali

Per assistenza o segnalazioni: https://github.com/simo-hue/habit-tracker/issues
`}function LE(e){return{goals:Array.isArray(e.goals)?e.goals.length:0,goalLogs:Array.isArray(e.goal_logs)?e.goal_logs.length:0,longTermGoals:Array.isArray(e.long_term_goals)?e.long_term_goals.length:0,readingLogs:Array.isArray(e.reading_logs)?e.reading_logs.length:0,moods:Array.isArray(e.daily_moods)?e.daily_moods.length:0,userSettings:Array.isArray(e.user_settings)?e.user_settings.length:0,total:(Array.isArray(e.goals)?e.goals.length:0)+(Array.isArray(e.goal_logs)?e.goal_logs.length:0)+(Array.isArray(e.long_term_goals)?e.long_term_goals.length:0)+(Array.isArray(e.reading_logs)?e.reading_logs.length:0)+(Array.isArray(e.daily_moods)?e.daily_moods.length:0)+(Array.isArray(e.user_settings)?e.user_settings.length:0)+(e.goal_category_settings?1:0)+(e.user_memos?1:0)}}function X2e(e){const t=[];return e.version||t.push("Missing backup version"),e.timestamp||t.push("Missing backup timestamp"),Array.isArray(e.goals)&&e.goals.length>0||Array.isArray(e.long_term_goals)&&e.long_term_goals.length>0||Array.isArray(e.goal_logs)&&e.goal_logs.length>0||Array.isArray(e.reading_logs)&&e.reading_logs.length>0||Array.isArray(e.daily_moods)&&e.daily_moods.length>0||e.user_memos||t.push("Backup appears to be empty - no data found"),{valid:t.length===0,errors:t}}async function Q2e(e){if(e.name.endsWith(".zip")){const t=await BW.loadAsync(e);let r=t.file("backup.json");if(!r){const a=Object.keys(t.files).find(o=>o.endsWith("backup.json"));a&&(r=t.file(a))}if(!r)throw new Error("File backup.json non trovato nel ZIP");const n=await r.async("text");return JSON.parse(n)}else{if(e.name.endsWith(".json"))return new Promise((t,r)=>{const n=new FileReader;n.onload=i=>{try{const a=i.target?.result;t(JSON.parse(a))}catch{r(new Error("File JSON non valido"))}},n.onerror=()=>r(new Error("Errore lettura file")),n.readAsText(e)});throw new Error("Formato file non supportato. Usa .zip o .json")}}function J2e(e){const t=LE(e);return e.metadata?.exportDate,`# ISTRUZIONI DI RIPRISTINO COMPLETO
# Habit Tracker - Full Disaster Recovery

**Data Backup:** ${e.timestamp}  
**Record Totali:** ${t.total}

---

##  SCENARIO 1: Ripristino Dati su App Esistente

### Prerequisiti
- Applicazione Habit Tracker gi installata e funzionante
- Account Supabase configurato
- File di backup ( habit-tracker-backup-*.zip)

### Passaggi

**1. Accedi all'Applicazione**
- Apri il browser e vai all'app Habit Tracker
- Effettua il login con le tue credenziali

**2. Naviga alla Pagina Backup**
- Menu  Backup Completo
- Oppure vai direttamente a: \`/#/complete-backup\`

**3. Importa il Backup**
- Trascina il file ZIP nell'area di drop
- Oppure clicca "Seleziona file" e scegli il ZIP
- Attendi il completamento (potrebbero volerci alcuni secondi per ${t.total} record)

**4. Verifica il Ripristino**
- Controlla che le abitudini siano visibili nella home
- Verifica i macro obiettivi in "Macro Goals"
- Controlla le statistiche in "Stats"

 **Fatto!** I tuoi dati sono stati ripristinati.

---

##  SCENARIO 2: Ripristino Completo da Zero (Disaster Recovery)

### Prerequisiti
- Niente! Partirai da zero
- File di backup (habit-tracker-backup-*.zip)
- Account GitHub (opzionale, per deploy)

### FASE 1: Crea Nuovo Progetto Supabase

**1.1 Crea Account / Progetto**
- Vai su https://supabase.com
- Clicca "Start your project"
- Crea una nuova organization (se necessario)
- Crea un nuovo progetto:
  - Nome: \`habit-tracker-restore\` (o quello che preferisci)
  - Database Password: **SALVALA!** Ti servir
  - Region: Scegli la pi vicina a te

**1.2 Attendi Provisioning**
- Supabase creer il database (1-2 minuti)
- Vedrai "Project is ready" quando completato

**1.3 Configura il Database**
- Vai su: SQL Editor (icona </> nella sidebar)
- Apri il file \`database-schema/schema.sql\` dal backup ZIP
- Copia **TUTTO** il contenuto
- Incollalo nel SQL Editor di Supabase
- Clicca "RUN" (o premi Ctrl+Enter)
- Vedrai "Success. No rows returned"   Schema creato!

**1.4 Salva le Credenziali Supabase**
- Vai su: Settings  API ( Settings in basso)
- Copia e salva:
  - **Project URL**: \`https://xxxxx.supabase.co\`
  - **anon/public API key**: \`eyJhbG....\`

### FASE 2: Clona e Configura l'Applicazione

**2.1 Clona Repository**
\`\`\`bash
git clone https://github.com/simo-hue/habit-tracker.git
cd habit-tracker
\`\`\`

**2.2 Installa Dipendenze**
\`\`\`bash
npm install
\`\`\`

**2.3 Configura Variabili d'Ambiente**
Crea file \`.env.local\` con:
\`\`\`
VITE_SUPABASE_URL=https://tuo-progetto.supabase.co
VITE_SUPABASE_ANON_KEY=tua-anon-key
\`\`\`

Sostituisci con i valori salvati al punto 1.4

**2.4 Testa in Locale**
\`\`\`bash
npm run dev
\`\`\`
Apri http://localhost:8080/habit-tracker/

### FASE 3: Ripristina i Dati

**3.1 Crea Account**
- Nell'app locale, clicca "Registrati"
- Usa una email valida
- Conferma l'email (controlla inbox)

**3.2 Importa il Backup**
- Login nell'app
- Vai a: Menu  Backup Completo
- Trascina il file ZIP
- Attendi completamento

**3.3 Verifica Dati**
-  ${t.goals} abitudini
-  ${t.longTermGoals} macro obiettivi
-  ${t.moods} registrazioni mood
-  Note personali

### FASE 4: Deploy (Opzionale)

**4.1 Deploy su GitHub Pages**
\`\`\`bash
npm run deploy
\`\`\`

**4.2 Configura GitHub Pages**
- Vai su GitHub  Repository Settings  Pages
- Source: \`gh-pages\` branch
- Salva

La tua app sar online su:  
\`https://tuo-username.github.io/habit-tracker/\`

---

##  RISOLUZIONE PROBLEMI

### Errore: "Non autenticato"
- Verifica di aver fatto login
- Controlla che le credenziali Supabase siano corrette nel file .env.local

### Errore: "Backup non valido"
- Verifica che il file sia .zip o .json
- Controlla che il file non sia corrotto
- Prova a estrarre manualmente il ZIP e usa backup.json

### Schema SQL Error
- Assicurati di aver copiato TUTTO il contenuto di schema.sql
- Verifica che non ci siano caratteri strani
- Esegui lo script una riga alla volta se necessario

### Import Parziale
- Controlla la console del browser (F12) per errori
- Prova a importare il backup.json manualmente
- Verifica le policy RLS su Supabase

---

##  SUPPORTO

- GitHub Issues: https://github.com/simo-hue/habit-tracker/issues
- Documentazione: https://github.com/simo-hue/habit-tracker

---

**Nota Importante sullo Schema:**  
Lo schema SQL incluso potrebbe non essere aggiornato all'ultima versione.
Per ottenere lo schema pi recente:
1. Vai su Supabase Dashboard
2. SQL Editor  Schema tab
3. Copia lo schema completo
4. Sostituisci il contenuto di \`database-schema/schema.sql\`
`}function Z2e(e){const t=LE(e);return`# COMPLETE RESTORE INSTRUCTIONS
# Habit Tracker - Full Disaster Recovery

**Backup Date:** ${e.timestamp}  
**Total Records:** ${t.total}

---

##  SCENARIO 1: Restore Data on Existing App

### Prerequisites
- Habit Tracker app already installed and running
- Supabase account configured
- Backup file (habit-tracker-backup-*.zip)

### Steps

**1. Access the Application**
- Open browser and go to Habit Tracker app
- Login with your credentials

**2. Navigate to Backup Page**
- Menu  Complete Backup
- Or go directly to: \`/#/complete-backup\`

**3. Import Backup**
- Drag and drop the ZIP file into the drop area
- Or click "Browse file" and select the ZIP
- Wait for completion (may take a few seconds for ${t.total} records)

**4. Verify Restore**
- Check that habits are visible on home page
- Verify macro goals in "Macro Goals"
- Check statistics in "Stats"

 **Done!** Your data has been restored.

---

##  SCENARIO 2: Complete Restore from Scratch (Disaster Recovery)

### Prerequisites
- Nothing! You'll start from zero
- Backup file (habit-tracker-backup-*.zip)
- GitHub account (optional, for deployment)

### PHASE 1: Create New Supabase Project

**1.1 Create Account / Project**
- Go to https://supabase.com
- Click "Start your project"
- Create a new organization (if needed)
- Create a new project:
  - Name: \`habit-tracker-restore\` (or whatever you prefer)
  - Database Password: **SAVE IT!** You'll need it
  - Region: Choose closest to you

**1.2 Wait for Provisioning**
- Supabase will create the database (1-2 minutes)
- You'll see "Project is ready" when completed

**1.3 Configure Database**
- Go to: SQL Editor (</> icon in sidebar)
- Open the \`database-schema/schema.sql\` file from backup ZIP
- Copy **ALL** the content
- Paste it into Supabase SQL Editor
- Click "RUN" (or press Ctrl+Enter)
- You'll see "Success. No rows returned"   Schema created!

**1.4 Save Supabase Credentials**
- Go to: Settings  API ( Settings at bottom)
- Copy and save:
  - **Project URL**: \`https://xxxxx.supabase.co\`
  - **anon/public API key**: \`eyJhbG....\`

### PHASE 2: Clone and Configure Application

**2.1 Clone Repository**
\`\`\`bash
git clone https://github.com/simo-hue/habit-tracker.git
cd habit-tracker
\`\`\`

**2.2 Install Dependencies**
\`\`\`bash
npm install
\`\`\`

**2.3 Configure Environment Variables**
Create \`.env.local\` file with:
\`\`\`
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key
\`\`\`

Replace with values saved in step 1.4

**2.4 Test Locally**
\`\`\`bash
npm run dev
\`\`\`
Open http://localhost:8080/habit-tracker/

### PHASE 3: Restore Data

**3.1 Create Account**
- In the local app, click "Sign Up"
- Use a valid email
- Confirm email (check inbox)

**3.2 Import Backup**
- Login to the app
- Go to: Menu  Complete Backup
- Drag and drop the ZIP file
- Wait for completion

**3.3 Verify Data**
-  ${t.goals} habits
-  ${t.longTermGoals} macro goals
-  ${t.moods} mood records
-  Personal notes

### PHASE 4: Deploy (Optional)

**4.1 Deploy to GitHub Pages**
\`\`\`bash
npm run deploy
\`\`\`

**4.2 Configure GitHub Pages**
- Go to GitHub  Repository Settings  Pages
- Source: \`gh-pages\` branch
- Save

Your app will be live at:  
\`https://your-username.github.io/habit-tracker/\`

---

##  TROUBLESHOOTING

### Error: "Not authenticated"
- Verify you're logged in
- Check that Supabase credentials are correct in .env.local file

### Error: "Invalid backup"
- Verify file is .zip or .json
- Check that file is not corrupted
- Try manually extracting ZIP and using backup.json

### Schema SQL Error
- Make sure you copied ALL content from schema.sql
- Verify there are no strange characters
- Run script one line at a time if necessary

### Partial Import
- Check browser console (F12) for errors
- Try importing backup.json manually
- Verify RLS policies on Supabase

---

##  SUPPORT

- GitHub Issues: https://github.com/simo-hue/habit-tracker/issues
- Documentation: https://github.com/simo-hue/habit-tracker

---

**Important Note about Schema:**  
The included SQL schema may not be updated to the latest version.
To get the most recent schema:
1. Go to Supabase Dashboard
2. SQL Editor  Schema tab
3. Copy the complete schema
4. Replace content of \`database-schema/schema.sql\`
`}function eRe(){const e=eo(),[t,r]=S.useState(!1),[n,i]=S.useState(!1);return{exportCompleteBackup:async()=>{r(!0);try{const{data:{user:s}}=await be.auth.getUser();if(!s)throw new Error("Non autenticato");const l=new Date().toISOString(),c=async(k,A=!0)=>{let T=[],O=0;const P=1e3;let N=!0,M=0;for(;N;){let E=be.from(k).select("*").range(O,O+P-1);A&&(E=E.eq("user_id",s.id));const{data:R,error:F}=await E;if(F)throw F;R&&R.length>0?(M++,T=[...T,...R],R.length===P&&console.log(` Fetching ${k}: batch ${M} (${T.length} records so far...)`),R.length<P?(N=!1,console.log(` ${k}: ${T.length} records fetched in ${M} batch(es)`)):O+=P):(N=!1,T.length>0&&console.log(` ${k}: ${T.length} records fetched in ${M} batch(es)`))}return T},[d,f,h,p,v,m,g,y]=await Promise.all([c("goals",!0),c("goal_logs",!0),c("long_term_goals",!0),be.from("goal_category_settings").select("*").eq("user_id",s.id).single(),c("reading_logs",!1),c("user_settings",!1),be.from("user_memos").select("*").eq("user_id",s.id).single(),c("daily_moods",!0)]);if(p.error&&p.error.code!=="PGRST116")throw p.error;if(g.error&&g.error.code!=="PGRST116")throw g.error;const b={ollama_preferred_model:localStorage.getItem("ollama_preferred_model")||void 0,ollama_report_type:localStorage.getItem("ollama_report_type")||void 0};let x="";try{const k=await fetch("/schema.sql");k.ok?x=await k.text():console.warn("schema.sql not found in public folder")}catch(k){console.warn("Could not load schema.sql:",k)}x?x=`-- HABIT TRACKER DATABASE SCHEMA
-- Exported: ${new Date().toISOString()}
-- Source: /public/schema.sql
-- 
-- This schema includes all 8 tables with RLS policies and triggers.
-- For the most up-to-date schema, export from Supabase Dashboard.
--
${x}`:x=`-- Database Schema not available
-- 
-- To get the current database schema:
-- 1. Go to Supabase Dashboard > SQL Editor
-- 2. Copy the complete schema
-- 3. Or manually export via Supabase CLI: supabase db dump -f schema.sql
`;const _={sql:x,metadata:{supabase_version:"2.87.1",postgrest_version:"13.0.5",exported_at:l,tables_count:8,total_records:0},tables_summary:{goals:{description:"Daily habits tracking",key_columns:["id","user_id","title","color","frequency_days"],has_rls:!0},goal_logs:{description:"Habit completion logs",key_columns:["id","user_id","goal_id","date","status"],has_rls:!0},long_term_goals:{description:"Macro goals (annual, monthly, weekly, quarterly, lifetime)",key_columns:["id","user_id","title","type","year","month"],has_rls:!0},goal_category_settings:{description:"Category colors and labels settings",key_columns:["id","user_id","mappings"],has_rls:!0,note:"Single record per user"},reading_logs:{description:"Daily reading tracking",key_columns:["id","date","status"],has_rls:!0},user_settings:{description:"Generic user settings (key-value)",key_columns:["id","key","value"],has_rls:!0},user_memos:{description:"User personal notes in markdown",key_columns:["id","user_id","content"],has_rls:!0,note:"Single record per user"},daily_moods:{description:"Daily mood and energy tracking",key_columns:["id","user_id","date","mood_score","energy_score"],has_rls:!0}}},w=(d?.length||0)+(f?.length||0)+(h?.length||0)+(p.data?1:0)+(v?.length||0)+(m?.length||0)+(g.data?1:0)+(y?.length||0);_.metadata.total_records=w;const j={version:1,timestamp:l,metadata:{appVersion:"1.0.0",exportDate:new Date().toLocaleDateString("it-IT"),totalRecords:w},goals:d||[],goal_logs:f||[],long_term_goals:h||[],goal_category_settings:p.data||null,reading_logs:v||[],user_settings:m||[],user_memos:g.data||null,daily_moods:y||[],app_settings:b,database_schema:_};We.info(`Preparazione backup: ${w} record trovati...`),await K2e(j,l),We.success(`Backup completo creato con successo! (${w} record)`)}catch(s){console.error("Export failed:",s),We.error(`Errore durante l'export: ${s.message}`)}finally{r(!1)}},importCompleteBackup:async s=>{i(!0);try{const l=await Q2e(s),c=X2e(l);if(!c.valid)throw new Error(`Backup non valido: ${c.errors.join(", ")}`);const{data:{user:d}}=await be.auth.getUser();if(!d)throw new Error("Non autenticato");const f={totalProcessed:0,byTable:{},settingsRestored:[],timestamp:new Date().toISOString()},h=async(p,v,m="id")=>{if(!Array.isArray(v)||v.length===0){f.byTable[p]={inserted:0,updated:0,unchanged:0,errors:[]};return}try{const{data:g,error:y}=await be.from(p).select("*").eq("user_id",d.id);if(y)throw y;const b=new Map((g||[]).map(k=>[k[m],k])),x=[];let _=0,w=0,j=0;for(const k of v){const A={...k,user_id:d.id},T=b.get(k[m]);T?JSON.stringify(T)!==JSON.stringify(A)?(w++,x.push(A)):j++:(_++,x.push(A))}if(x.length>0){const{error:k}=await be.from(p).upsert(x);if(k)throw k}f.byTable[p]={inserted:_,updated:w,unchanged:j,errors:[]},f.totalProcessed+=v.length}catch(g){f.byTable[p]={inserted:0,updated:0,unchanged:0,errors:[g.message]}}};if(await h("goals",l.goals),await h("goal_logs",l.goal_logs),await h("long_term_goals",l.long_term_goals),await h("reading_logs",l.reading_logs),await h("user_settings",l.user_settings,"key"),await h("daily_moods",l.daily_moods),l.goal_category_settings)try{const{data:p}=await be.from("goal_category_settings").select("*").eq("user_id",d.id).single(),v={user_id:d.id,mappings:l.goal_category_settings.mappings};p?(await be.from("goal_category_settings").update({mappings:v.mappings}).eq("id",p.id),f.byTable.goal_category_settings={inserted:0,updated:1,unchanged:0,errors:[]}):(await be.from("goal_category_settings").insert(v),f.byTable.goal_category_settings={inserted:1,updated:0,unchanged:0,errors:[]}),f.totalProcessed++}catch(p){f.byTable.goal_category_settings={inserted:0,updated:0,unchanged:0,errors:[p.message]}}if(l.user_memos)try{const{error:p}=await be.from("user_memos").upsert({user_id:d.id,content:l.user_memos.content||"",updated_at:new Date().toISOString()},{onConflict:"user_id"});if(p)throw p;f.byTable.user_memos={inserted:0,updated:1,unchanged:0,errors:[]},f.totalProcessed++}catch(p){f.byTable.user_memos={inserted:0,updated:0,unchanged:0,errors:[p.message]}}return l.app_settings&&(l.app_settings.ollama_preferred_model&&(localStorage.setItem("ollama_preferred_model",l.app_settings.ollama_preferred_model),f.settingsRestored.push("ollama_preferred_model")),l.app_settings.ollama_report_type&&(localStorage.setItem("ollama_report_type",l.app_settings.ollama_report_type),f.settingsRestored.push("ollama_report_type"))),await e.invalidateQueries({queryKey:["goals"]}),await e.invalidateQueries({queryKey:["goal_logs"]}),await e.invalidateQueries({queryKey:["longTermGoals"]}),await e.invalidateQueries({queryKey:["goalCategorySettings"]}),await e.invalidateQueries({queryKey:["moods"]}),We.success(`Backup importato con successo! (${f.totalProcessed} record ripristinati)`),f}catch(l){return console.error("Import failed:",l),We.error(`Errore durante l'importazione: ${l.message}`),null}finally{i(!1)}},isExporting:t,isImporting:n}}var zE="Progress",FE=100,[tRe]=Br(zE),[rRe,nRe]=tRe(zE),qW=S.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:a=iRe,...o}=e;(i||i===0)&&!n5(i)&&console.error(aRe(`${i}`,"Progress"));const s=n5(i)?i:FE;n!==null&&!i5(n,s)&&console.error(oRe(`${n}`,"Progress"));const l=i5(n,s)?n:null,c=nm(l)?a(l,s):void 0;return u.jsx(rRe,{scope:r,value:l,max:s,children:u.jsx(Ae.div,{"aria-valuemax":s,"aria-valuemin":0,"aria-valuenow":nm(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":WW(l,s),"data-value":l??void 0,"data-max":s,...o,ref:t})})});qW.displayName=zE;var UW="ProgressIndicator",VW=S.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,i=nRe(UW,r);return u.jsx(Ae.div,{"data-state":WW(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:t})});VW.displayName=UW;function iRe(e,t){return`${Math.round(e/t*100)}%`}function WW(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function nm(e){return typeof e=="number"}function n5(e){return nm(e)&&!isNaN(e)&&e>0}function i5(e,t){return nm(e)&&!isNaN(e)&&e<=t&&e>=0}function aRe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${FE}\`.`}function oRe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${FE} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var HW=qW,sRe=VW;const GW=S.forwardRef(({className:e,value:t,...r},n)=>u.jsx(HW,{ref:n,className:ae("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:u.jsx(sRe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));GW.displayName=HW.displayName;var lRe="Separator",a5="horizontal",cRe=["horizontal","vertical"],KW=S.forwardRef((e,t)=>{const{decorative:r,orientation:n=a5,...i}=e,a=uRe(n)?n:a5,s=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return u.jsx(Ae.div,{"data-orientation":a,...s,...i,ref:t})});KW.displayName=lRe;function uRe(e){return cRe.includes(e)}var YW=KW;const gh=S.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},i)=>u.jsx(YW,{ref:i,decorative:r,orientation:t,className:ae("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));gh.displayName=YW.displayName;function dRe(){const{exportCompleteBackup:e,importCompleteBackup:t,isExporting:r,isImporting:n}=eRe(),[i,a]=S.useState(null),[o,s]=S.useState(!1),l=async()=>{await e()},c=async m=>{const g=await t(m);a(g)},d=S.useCallback(m=>{m.preventDefault(),s(!1);const g=Array.from(m.dataTransfer.files);g.length>0&&c(g[0])},[]),f=S.useCallback(m=>{m.preventDefault(),s(!0)},[]),h=S.useCallback(m=>{m.preventDefault(),s(!1)},[]),p=S.useCallback(m=>{const g=m.target.files;g&&g.length>0&&c(g[0])},[]),v=[{icon:Gr,label:"Abitudini giornaliere",key:"goals",color:"text-blue-500"},{icon:Ia,label:"Log completamento abitudini",key:"goal_logs",color:"text-green-500"},{icon:Ha,label:"Obiettivi macro (annuali, mensili, etc.)",key:"long_term_goals",color:"text-purple-500"},{icon:S9,label:"Categorie e colori personalizzati",key:"goal_category_settings",color:"text-pink-500"},{icon:r9,label:"Log di lettura",key:"reading_logs",color:"text-amber-500"},{icon:J5,label:"Registrazioni Mood & Energy",key:"daily_moods",color:"text-cyan-500"},{icon:Y5,label:"Impostazioni utente",key:"user_settings",color:"text-slate-500"},{icon:C_,label:"Note personali (memo)",key:"user_memos",color:"text-orange-500"}];return u.jsx("div",{className:"container mx-auto p-4 sm:p-6 max-w-4xl",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[u.jsx(Go,{className:"h-8 w-8 text-primary"}),"Backup Completo"]}),u.jsx("p",{className:"text-muted-foreground",children:"Esporta o importa tutti i dati dell'applicazione in un unico archivio organizzato"})]}),u.jsxs(Wo,{children:[u.jsx(qs,{className:"h-4 w-4"}),u.jsx(ph,{children:"Cosa viene salvato nel backup?"}),u.jsxs(Ho,{children:["Il backup include ",u.jsx("strong",{children:"tutti i tuoi dati"}),": abitudini, obiettivi, log, impostazioni, categorie personalizzate, note e registrazioni mood. Il file sar scaricato come archivio ZIP ben organizzato."]})]}),u.jsxs(qe,{children:[u.jsxs(et,{children:[u.jsxs(tt,{className:"flex items-center gap-2",children:[u.jsx(rl,{className:"h-5 w-5"}),"Esporta Backup"]}),u.jsx(Vn,{children:"Scarica un backup completo di tutti i tuoi dati in formato ZIP"})]}),u.jsxs(Ve,{className:"space-y-4",children:[u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:v.map(m=>u.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50 hover:bg-muted transition-colors",children:[u.jsx(m.icon,{className:`h-5 w-5 ${m.color}`}),u.jsx("span",{className:"text-sm font-medium",children:m.label})]},m.key))}),u.jsx(gh,{}),u.jsx(Ce,{onClick:l,disabled:r,className:"w-full sm:w-auto",size:"lg",children:r?u.jsxs(u.Fragment,{children:[u.jsx(Qn,{className:"mr-2 h-4 w-4 animate-spin"}),"Creazione backup..."]}):u.jsxs(u.Fragment,{children:[u.jsx(YE,{className:"mr-2 h-4 w-4"}),"Esporta Backup Completo"]})})]})]}),u.jsxs(qe,{children:[u.jsxs(et,{children:[u.jsxs(tt,{className:"flex items-center gap-2",children:[u.jsx(e$,{className:"h-5 w-5"}),"Importa Backup"]}),u.jsx(Vn,{children:"Ripristina i tuoi dati da un file di backup precedente (ZIP o JSON)"})]}),u.jsxs(Ve,{className:"space-y-4",children:[u.jsxs("div",{onDrop:d,onDragOver:f,onDragLeave:h,className:`
                                border-2 border-dashed rounded-lg p-8 text-center transition-all
                                ${o?"border-primary bg-primary/5 scale-105":"border-muted-foreground/25 hover:border-muted-foreground/50"}
                            `,children:[u.jsx(YE,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),u.jsx("p",{className:"text-sm font-medium mb-2",children:"Trascina qui il file di backup"}),u.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Supporta file .zip e .json"}),u.jsx("label",{htmlFor:"backup-file-input",children:u.jsx(Ce,{variant:"outline",size:"sm",asChild:!0,disabled:n,children:u.jsx("span",{className:"cursor-pointer",children:n?u.jsxs(u.Fragment,{children:[u.jsx(Qn,{className:"mr-2 h-4 w-4 animate-spin"}),"Importazione..."]}):"Oppure clicca per selezionare"})})}),u.jsx("input",{id:"backup-file-input",type:"file",accept:".zip,.json",onChange:p,className:"hidden",disabled:n})]}),n&&u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"flex items-center justify-between text-sm",children:u.jsx("span",{className:"text-muted-foreground",children:"Ripristino in corso..."})}),u.jsx(GW,{value:void 0,className:"h-2"})]}),i&&u.jsxs(Wo,{className:"border-green-500/50 bg-green-500/10",children:[u.jsx(Ia,{className:"h-4 w-4 text-green-500"}),u.jsx(ph,{className:"text-green-500",children:"Backup importato con successo!"}),u.jsx(Ho,{className:"mt-2",children:u.jsx(uk,{className:"h-48 w-full rounded-md border p-4 bg-background/50",children:u.jsxs("div",{className:"space-y-3 text-sm",children:[u.jsxs("div",{className:"font-semibold",children:["Record totali processati: ",i.totalProcessed]}),u.jsx(gh,{}),u.jsx("div",{className:"space-y-2",children:Object.entries(i.byTable).map(([m,g])=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:"font-medium capitalize",children:m.replace(/_/g," ")}),u.jsxs("div",{className:"pl-4 text-xs space-y-0.5 text-muted-foreground",children:[g.inserted>0&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ia,{className:"h-3 w-3 text-green-500"}),u.jsxs("span",{children:[g.inserted," nuovi record"]})]}),g.updated>0&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(qs,{className:"h-3 w-3 text-blue-500"}),u.jsxs("span",{children:[g.updated," aggiornati"]})]}),g.unchanged>0&&u.jsx("div",{className:"flex items-center gap-2",children:u.jsxs("span",{className:"text-muted-foreground",children:[g.unchanged," invariati"]})}),g.errors.length>0&&u.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[u.jsx(a9,{className:"h-3 w-3"}),u.jsx("span",{children:g.errors.join(", ")})]})]})]},m))}),i.settingsRestored.length>0&&u.jsxs(u.Fragment,{children:[u.jsx(gh,{}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:"Impostazioni ripristinate:"}),u.jsx("div",{className:"pl-4 text-xs text-muted-foreground",children:i.settingsRestored.join(", ")})]})]})]})})})]})]})]}),u.jsxs(Wo,{variant:"destructive",children:[u.jsx(qs,{className:"h-4 w-4"}),u.jsx(ph,{children:"Attenzione"}),u.jsxs(Ho,{children:["L'importazione di un backup ",u.jsx("strong",{children:"sovrascriver i dati esistenti"}),". Assicurati di aver effettuato un backup prima di procedere se hai dati da conservare."]})]})]})})}const fRe=()=>{const[e,t]=S.useState(!1),[r,n]=S.useState(""),[i,a]=S.useState(""),[o,s]=S.useState(!1),l=d5();S.useEffect(()=>{be.auth.getSession().then(({data:{session:d}})=>{d&&l("/dashboard")})},[l]);const c=async d=>{d.preventDefault(),t(!0);try{if(o){We.error("Non sei autorizzato, prova scrivi su linkedin a mattioli simone");return}else{const{error:f}=await be.auth.signInWithPassword({email:r,password:i});if(f)throw f;We.success("Accesso effettuato"),l("/dashboard")}}catch(f){We.error(f.message)}finally{t(!1)}};return u.jsxs("div",{className:"min-h-dvh flex items-center justify-center p-4 relative overflow-hidden bg-background",children:[u.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-primary/20 blur-[100px] rounded-full opacity-50 animate-pulse"}),u.jsx("div",{className:"absolute top-0 right-0 w-[400px] h-[400px] bg-secondary/10 blur-[80px] rounded-full"})]}),u.jsxs("div",{className:"glass-panel w-full max-w-md p-8 rounded-3xl relative z-10 border-white/10 shadow-2xl animate-scale-in",children:[u.jsxs("div",{className:"text-center mb-8 space-y-2",children:[u.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-xl bg-primary/10 border border-primary/20 mb-4 shadow-[0_0_15px_rgba(255,255,255,0.1)]",children:u.jsx(P9,{className:"w-6 h-6 text-primary"})}),u.jsx("h1",{className:"text-3xl font-display font-bold tracking-tight bg-gradient-to-br from-white to-white/60 bg-clip-text text-transparent",children:"Mattioli.OS"}),u.jsx("p",{className:"text-sm text-muted-foreground font-light",children:"Sistema di tracciamento abitudini personale"})]}),u.jsxs("form",{onSubmit:c,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"relative group",children:[u.jsx(v9,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground transition-colors group-focus-within:text-primary"}),u.jsx(ta,{type:"email",placeholder:"Email",value:r,onChange:d=>n(d.target.value),className:"pl-10 h-11 bg-black/20 border-white/10 focus:border-primary/50 focus:bg-black/40 transition-all rounded-xl",required:!0})]}),u.jsxs("div",{className:"relative group",children:[u.jsx(N_,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground transition-colors group-focus-within:text-primary"}),u.jsx(ta,{type:"password",placeholder:"Password",value:i,onChange:d=>a(d.target.value),className:"pl-10 h-11 bg-black/20 border-white/10 focus:border-primary/50 focus:bg-black/40 transition-all rounded-xl",required:!0})]})]}),u.jsx(Ce,{type:"submit",className:"w-full h-11 text-base font-medium mt-6 bg-primary hover:bg-primary/90 text-primary-foreground shadow-[0_0_20px_rgba(255,255,255,0.1)] hover:shadow-[0_0_25px_rgba(255,255,255,0.2)] transition-all duration-300",disabled:e,children:e?u.jsx(Qn,{className:"w-5 h-5 animate-spin"}):u.jsxs("span",{className:"flex items-center gap-2",children:[o?"Registrati":"Accedi al Sistema",u.jsx(L5,{className:"w-4 h-4"})]})})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsx("button",{onClick:()=>s(!o),className:"text-xs text-muted-foreground hover:text-primary transition-colors hover:underline underline-offset-4",children:o?"Hai gi un account? Accedi":"Prima volta? Inizializza Protocollo (Registrati)"})})]})]})},hRe=()=>{const e=u5();return S.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),u.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),u.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),u.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},pRe=new g7,mRe=({children:e})=>{const[t,r]=S.useState(null);return S.useEffect(()=>{be.auth.getSession().then(({data:{session:i}})=>{r(!!i)});const{data:{subscription:n}}=be.auth.onAuthStateChange((i,a)=>{r(!!a)});return()=>n.unsubscribe()},[]),t===null?null:t?u.jsx(u.Fragment,{children:e}):u.jsx(rH,{to:"/auth",replace:!0})},gRe=()=>u.jsx(w7,{client:pRe,children:u.jsx(Sne,{children:u.jsx(R7,{children:u.jsxs(ja,{children:[u.jsx(L9,{}),u.jsx(mG,{}),u.jsx(eH,{basename:"/habit-tracker",future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:u.jsxs(tH,{children:[u.jsx(Tr,{path:"/auth",element:u.jsx(fRe,{})}),u.jsx(Tr,{path:"/",element:u.jsx(xZ,{})}),u.jsx(Tr,{path:"/faq",element:u.jsx(wZ,{})}),u.jsx(Tr,{path:"/tech",element:u.jsx(SZ,{})}),u.jsx(Tr,{path:"/philosophy",element:u.jsx(_Z,{})}),u.jsx(Tr,{path:"/features",element:u.jsx(jZ,{})}),u.jsx(Tr,{path:"/get-started",element:u.jsx(kZ,{})}),u.jsx(Tr,{path:"/creator",element:u.jsx(EZ,{})}),u.jsxs(Tr,{element:u.jsx(mRe,{children:u.jsx(L7,{})}),children:[u.jsx(Tr,{path:"/dashboard",element:u.jsx(Vme,{})}),u.jsx(Tr,{path:"/stats",element:u.jsx(w2e,{})}),u.jsx(Tr,{path:"/macro-goals",element:u.jsx(D2e,{})}),u.jsx(Tr,{path:"/ai-coach",element:u.jsx(q2e,{})}),u.jsx(Tr,{path:"/complete-backup",element:u.jsx(dRe,{})})]}),u.jsx(Tr,{path:"*",element:u.jsx(hRe,{})})]})})]})})})});try{const e=document.getElementById("root");if(!e)throw new Error("Root element not found");aH.createRoot(e).render(u.jsx(gRe,{}))}catch(e){console.error("Error in main.tsx:",e)}
