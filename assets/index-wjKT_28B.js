var Eb=t=>{throw TypeError(t)};var Ih=(t,e,r)=>e.has(t)||Eb("Cannot "+r);var $=(t,e,r)=>(Ih(t,e,"read from private field"),r?r.call(t):e.get(t)),ue=(t,e,r)=>e.has(t)?Eb("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Z=(t,e,r,n)=>(Ih(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),we=(t,e,r)=>(Ih(t,e,"access private method"),r);var Nc=(t,e,r,n)=>({set _(i){Z(t,e,i,r)},get _(){return $(t,e,n)}});import{j as h,u as ge,c as gl,t as S$,a as pe,b as cg,d as f1,S as O$}from"./ui-BkGCjyt1.js";import{a as ys,r as x,R as j,b as h1,c as p1,N as A$,L as E$,O as P$,g as vc,d as ke,e as Xr,u as j$,f as T$,H as C$,h as k$,i as Wa,j as N$}from"./vendor-Di2j0fwX.js";function $$(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var m1,Pb=ys;m1=Pb.createRoot,Pb.hydrateRoot;const R$=1,I$=1e6;let Mh=0;function M$(){return Mh=(Mh+1)%Number.MAX_SAFE_INTEGER,Mh.toString()}const Dh=new Map,jb=t=>{if(Dh.has(t))return;const e=setTimeout(()=>{Dh.delete(t),sl({type:"REMOVE_TOAST",toastId:t})},I$);Dh.set(t,e)},D$=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,R$)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?jb(r):t.toasts.forEach(n=>{jb(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},fu=[];let hu={toasts:[]};function sl(t){hu=D$(hu,t),fu.forEach(e=>{e(hu)})}function L$({...t}){const e=M$(),r=i=>sl({type:"UPDATE_TOAST",toast:{...i,id:e}}),n=()=>sl({type:"DISMISS_TOAST",toastId:e});return sl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:r}}function B$(){const[t,e]=x.useState(hu);return x.useEffect(()=>(fu.push(e),()=>{const r=fu.indexOf(e);r>-1&&fu.splice(r,1)}),[t]),{...t,toast:L$,dismiss:r=>sl({type:"DISMISS_TOAST",toastId:r})}}function oe(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function F$(t,e){const r=x.createContext(e),n=a=>{const{children:o,...s}=a,l=x.useMemo(()=>s,Object.values(s));return h.jsx(r.Provider,{value:l,children:o})};n.displayName=t+"Provider";function i(a){const o=x.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[n,i]}function Ht(t,e=[]){let r=[];function n(a,o){const s=x.createContext(o),l=r.length;r=[...r,o];const c=d=>{var b;const{scope:f,children:p,...g}=d,m=((b=f==null?void 0:f[t])==null?void 0:b[l])||s,v=x.useMemo(()=>g,Object.values(g));return h.jsx(m.Provider,{value:v,children:p})};c.displayName=a+"Provider";function u(d,f){var m;const p=((m=f==null?void 0:f[t])==null?void 0:m[l])||s,g=x.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${a}\``)}return[c,u]}const i=()=>{const a=r.map(o=>x.createContext(o));return function(s){const l=(s==null?void 0:s[t])||a;return x.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[n,U$(i,...e)]}function U$(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((s,{useScope:l,scopeName:c})=>{const d=l(a)[`__scope${c}`];return{...s,...d}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function ug(t){const e=t+"CollectionProvider",[r,n]=Ht(e),[i,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:v,children:b}=m,w=j.useRef(null),y=j.useRef(new Map).current;return h.jsx(i,{scope:v,itemMap:y,collectionRef:w,children:b})};o.displayName=e;const s=t+"CollectionSlot",l=gl(s),c=j.forwardRef((m,v)=>{const{scope:b,children:w}=m,y=a(s,b),O=ge(v,y.collectionRef);return h.jsx(l,{ref:O,children:w})});c.displayName=s;const u=t+"CollectionItemSlot",d="data-radix-collection-item",f=gl(u),p=j.forwardRef((m,v)=>{const{scope:b,children:w,...y}=m,O=j.useRef(null),_=ge(v,O),S=a(u,b);return j.useEffect(()=>(S.itemMap.set(O,{ref:O,...y}),()=>void S.itemMap.delete(O))),h.jsx(f,{[d]:"",ref:_,children:w})});p.displayName=u;function g(m){const v=a(t+"CollectionConsumer",m);return j.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const y=Array.from(w.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((S,E)=>y.indexOf(S.ref.current)-y.indexOf(E.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:c,ItemSlot:p},g,n]}var W$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],se=W$.reduce((t,e)=>{const r=gl(`Primitive.${e}`),n=x.forwardRef((i,a)=>{const{asChild:o,...s}=i,l=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(l,{...s,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function dg(t,e){t&&ys.flushSync(()=>t.dispatchEvent(e))}function it(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function v1(t,e=globalThis==null?void 0:globalThis.document){const r=it(t);x.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var z$="DismissableLayer",$p="dismissableLayer.update",q$="dismissableLayer.pointerDownOutside",H$="dismissableLayer.focusOutside",Tb,g1=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),tf=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:s,...l}=t,c=x.useContext(g1),[u,d]=x.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=x.useState({}),g=ge(e,E=>d(E)),m=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),b=m.indexOf(v),w=u?m.indexOf(u):-1,y=c.layersWithOutsidePointerEventsDisabled.size>0,O=w>=b,_=V$(E=>{const A=E.target,P=[...c.branches].some(k=>k.contains(A));!O||P||(i==null||i(E),o==null||o(E),E.defaultPrevented||s==null||s())},f),S=G$(E=>{const A=E.target;[...c.branches].some(k=>k.contains(A))||(a==null||a(E),o==null||o(E),E.defaultPrevented||s==null||s())},f);return v1(E=>{w===c.layers.size-1&&(n==null||n(E),!E.defaultPrevented&&s&&(E.preventDefault(),s()))},f),x.useEffect(()=>{if(u)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Tb=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),Cb(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Tb)}},[u,f,r,c]),x.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),Cb())},[u,c]),x.useEffect(()=>{const E=()=>p({});return document.addEventListener($p,E),()=>document.removeEventListener($p,E)},[]),h.jsx(se.div,{...l,ref:g,style:{pointerEvents:y?O?"auto":"none":void 0,...t.style},onFocusCapture:oe(t.onFocusCapture,S.onFocusCapture),onBlurCapture:oe(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:oe(t.onPointerDownCapture,_.onPointerDownCapture)})});tf.displayName=z$;var K$="DismissableLayerBranch",y1=x.forwardRef((t,e)=>{const r=x.useContext(g1),n=x.useRef(null),i=ge(e,n);return x.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),h.jsx(se.div,{...t,ref:i})});y1.displayName=K$;function V$(t,e=globalThis==null?void 0:globalThis.document){const r=it(t),n=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const a=s=>{if(s.target&&!n.current){let l=function(){b1(q$,r,c,{discrete:!0})};const c={originalEvent:s};s.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function G$(t,e=globalThis==null?void 0:globalThis.document){const r=it(t),n=x.useRef(!1);return x.useEffect(()=>{const i=a=>{a.target&&!n.current&&b1(H$,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Cb(){const t=new CustomEvent($p);document.dispatchEvent(t)}function b1(t,e,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?dg(i,a):i.dispatchEvent(a)}var Y$=tf,X$=y1,ut=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},Q$="Portal",rf=x.forwardRef((t,e)=>{var s;const{container:r,...n}=t,[i,a]=x.useState(!1);ut(()=>a(!0),[]);const o=r||i&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return o?h1.createPortal(h.jsx(se.div,{...n,ref:e}),o):null});rf.displayName=Q$;function J$(t,e){return x.useReducer((r,n)=>e[r][n]??r,t)}var un=t=>{const{present:e,children:r}=t,n=Z$(e),i=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),a=ge(n.ref,eR(i));return typeof r=="function"||n.isPresent?x.cloneElement(i,{ref:a}):null};un.displayName="Presence";function Z$(t){const[e,r]=x.useState(),n=x.useRef(null),i=x.useRef(t),a=x.useRef("none"),o=t?"mounted":"unmounted",[s,l]=J$(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const c=$c(n.current);a.current=s==="mounted"?c:"none"},[s]),ut(()=>{const c=n.current,u=i.current;if(u!==t){const f=a.current,p=$c(c);t?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&f!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),ut(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=p=>{const m=$c(n.current).includes(p.animationName);if(p.target===e&&m&&(l("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},f=p=>{p.target===e&&(a.current=$c(n.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:x.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function $c(t){return(t==null?void 0:t.animationName)||"none"}function eR(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var tR=p1[" useInsertionEffect ".trim().toString()]||ut;function kn({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,a,o]=rR({defaultProp:e,onChange:r}),s=t!==void 0,l=s?t:i;{const u=x.useRef(t!==void 0);x.useEffect(()=>{const d=u.current;d!==s&&console.warn(`${n} is changing from ${d?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=s},[s,n])}const c=x.useCallback(u=>{var d;if(s){const f=nR(u)?u(t):u;f!==t&&((d=o.current)==null||d.call(o,f))}else a(u)},[s,t,a,o]);return[l,c]}function rR({defaultProp:t,onChange:e}){const[r,n]=x.useState(t),i=x.useRef(r),a=x.useRef(e);return tR(()=>{a.current=e},[e]),x.useEffect(()=>{var o;i.current!==r&&((o=a.current)==null||o.call(a,r),i.current=r)},[r,i]),[r,n,a]}function nR(t){return typeof t=="function"}var w1=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),iR="VisuallyHidden",nf=x.forwardRef((t,e)=>h.jsx(se.span,{...t,ref:e,style:{...w1,...t.style}}));nf.displayName=iR;var aR=nf,fg="ToastProvider",[hg,oR,sR]=ug("Toast"),[x1,whe]=Ht("Toast",[sR]),[lR,af]=x1(fg),_1=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=t,[s,l]=x.useState(null),[c,u]=x.useState(0),d=x.useRef(!1),f=x.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${fg}\`. Expected non-empty \`string\`.`),h.jsx(hg.Provider,{scope:e,children:h.jsx(lR,{scope:e,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:c,viewport:s,onViewportChange:l,onToastAdd:x.useCallback(()=>u(p=>p+1),[]),onToastRemove:x.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:f,children:o})})};_1.displayName=fg;var S1="ToastViewport",cR=["F8"],Rp="toast.viewportPause",Ip="toast.viewportResume",O1=x.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=cR,label:i="Notifications ({hotkey})",...a}=t,o=af(S1,r),s=oR(r),l=x.useRef(null),c=x.useRef(null),u=x.useRef(null),d=x.useRef(null),f=ge(e,d,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;x.useEffect(()=>{const v=b=>{var y;n.length!==0&&n.every(O=>b[O]||b.code===O)&&((y=d.current)==null||y.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),x.useEffect(()=>{const v=l.current,b=d.current;if(g&&v&&b){const w=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(Rp);b.dispatchEvent(S),o.isClosePausedRef.current=!0}},y=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(Ip);b.dispatchEvent(S),o.isClosePausedRef.current=!1}},O=S=>{!v.contains(S.relatedTarget)&&y()},_=()=>{v.contains(document.activeElement)||y()};return v.addEventListener("focusin",w),v.addEventListener("focusout",O),v.addEventListener("pointermove",w),v.addEventListener("pointerleave",_),window.addEventListener("blur",w),window.addEventListener("focus",y),()=>{v.removeEventListener("focusin",w),v.removeEventListener("focusout",O),v.removeEventListener("pointermove",w),v.removeEventListener("pointerleave",_),window.removeEventListener("blur",w),window.removeEventListener("focus",y)}}},[g,o.isClosePausedRef]);const m=x.useCallback(({tabbingDirection:v})=>{const w=s().map(y=>{const O=y.ref.current,_=[O,..._R(O)];return v==="forwards"?_:_.reverse()});return(v==="forwards"?w.reverse():w).flat()},[s]);return x.useEffect(()=>{const v=d.current;if(v){const b=w=>{var _,S,E;const y=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!y){const A=document.activeElement,P=w.shiftKey;if(w.target===v&&P){(_=c.current)==null||_.focus();return}const N=m({tabbingDirection:P?"backwards":"forwards"}),D=N.findIndex(I=>I===A);Lh(N.slice(D+1))?w.preventDefault():P?(S=c.current)==null||S.focus():(E=u.current)==null||E.focus()}};return v.addEventListener("keydown",b),()=>v.removeEventListener("keydown",b)}},[s,m]),h.jsxs(X$,{ref:l,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&h.jsx(Mp,{ref:c,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"forwards"});Lh(v)}}),h.jsx(hg.Slot,{scope:r,children:h.jsx(se.ol,{tabIndex:-1,...a,ref:f})}),g&&h.jsx(Mp,{ref:u,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"backwards"});Lh(v)}})]})});O1.displayName=S1;var A1="ToastFocusProxy",Mp=x.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,a=af(A1,r);return h.jsx(nf,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const s=o.relatedTarget;!((c=a.viewport)!=null&&c.contains(s))&&n()}})});Mp.displayName=A1;var gc="Toast",uR="toast.swipeStart",dR="toast.swipeMove",fR="toast.swipeCancel",hR="toast.swipeEnd",E1=x.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...o}=t,[s,l]=kn({prop:n,defaultProp:i??!0,onChange:a,caller:gc});return h.jsx(un,{present:r||s,children:h.jsx(vR,{open:s,...o,ref:e,onClose:()=>l(!1),onPause:it(t.onPause),onResume:it(t.onResume),onSwipeStart:oe(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:oe(t.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:oe(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:oe(t.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});E1.displayName=gc;var[pR,mR]=x1(gc,{onClose(){}}),vR=x.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:s,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:f,onSwipeEnd:p,...g}=t,m=af(gc,r),[v,b]=x.useState(null),w=ge(e,I=>b(I)),y=x.useRef(null),O=x.useRef(null),_=i||m.duration,S=x.useRef(0),E=x.useRef(_),A=x.useRef(0),{onToastAdd:P,onToastRemove:k}=m,C=it(()=>{var L;(v==null?void 0:v.contains(document.activeElement))&&((L=m.viewport)==null||L.focus()),o()}),N=x.useCallback(I=>{!I||I===1/0||(window.clearTimeout(A.current),S.current=new Date().getTime(),A.current=window.setTimeout(C,I))},[C]);x.useEffect(()=>{const I=m.viewport;if(I){const L=()=>{N(E.current),c==null||c()},T=()=>{const R=new Date().getTime()-S.current;E.current=E.current-R,window.clearTimeout(A.current),l==null||l()};return I.addEventListener(Rp,T),I.addEventListener(Ip,L),()=>{I.removeEventListener(Rp,T),I.removeEventListener(Ip,L)}}},[m.viewport,_,l,c,N]),x.useEffect(()=>{a&&!m.isClosePausedRef.current&&N(_)},[a,_,m.isClosePausedRef,N]),x.useEffect(()=>(P(),()=>k()),[P,k]);const D=x.useMemo(()=>v?$1(v):null,[v]);return m.viewport?h.jsxs(h.Fragment,{children:[D&&h.jsx(gR,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:D}),h.jsx(pR,{scope:r,onClose:C,children:ys.createPortal(h.jsx(hg.ItemSlot,{scope:r,children:h.jsx(Y$,{asChild:!0,onEscapeKeyDown:oe(s,()=>{m.isFocusedToastEscapeKeyDownRef.current||C(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:h.jsx(se.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":m.swipeDirection,...g,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:oe(t.onKeyDown,I=>{I.key==="Escape"&&(s==null||s(I.nativeEvent),I.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,C()))}),onPointerDown:oe(t.onPointerDown,I=>{I.button===0&&(y.current={x:I.clientX,y:I.clientY})}),onPointerMove:oe(t.onPointerMove,I=>{if(!y.current)return;const L=I.clientX-y.current.x,T=I.clientY-y.current.y,R=!!O.current,B=["left","right"].includes(m.swipeDirection),M=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,q=B?M(0,L):0,X=B?0:M(0,T),H=I.pointerType==="touch"?10:2,V={x:q,y:X},ee={originalEvent:I,delta:V};R?(O.current=V,Rc(dR,d,ee,{discrete:!1})):kb(V,m.swipeDirection,H)?(O.current=V,Rc(uR,u,ee,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(L)>H||Math.abs(T)>H)&&(y.current=null)}),onPointerUp:oe(t.onPointerUp,I=>{const L=O.current,T=I.target;if(T.hasPointerCapture(I.pointerId)&&T.releasePointerCapture(I.pointerId),O.current=null,y.current=null,L){const R=I.currentTarget,B={originalEvent:I,delta:L};kb(L,m.swipeDirection,m.swipeThreshold)?Rc(hR,p,B,{discrete:!0}):Rc(fR,f,B,{discrete:!0}),R.addEventListener("click",M=>M.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),gR=t=>{const{__scopeToast:e,children:r,...n}=t,i=af(gc,e),[a,o]=x.useState(!1),[s,l]=x.useState(!1);return wR(()=>o(!0)),x.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),s?null:h.jsx(rf,{asChild:!0,children:h.jsx(nf,{...n,children:a&&h.jsxs(h.Fragment,{children:[i.label," ",r]})})})},yR="ToastTitle",P1=x.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return h.jsx(se.div,{...n,ref:e})});P1.displayName=yR;var bR="ToastDescription",j1=x.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return h.jsx(se.div,{...n,ref:e})});j1.displayName=bR;var T1="ToastAction",C1=x.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?h.jsx(N1,{altText:r,asChild:!0,children:h.jsx(pg,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${T1}\`. Expected non-empty \`string\`.`),null)});C1.displayName=T1;var k1="ToastClose",pg=x.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=mR(k1,r);return h.jsx(N1,{asChild:!0,children:h.jsx(se.button,{type:"button",...n,ref:e,onClick:oe(t.onClick,i.onClose)})})});pg.displayName=k1;var N1=x.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return h.jsx(se.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function $1(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),xR(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...$1(n))}}),e}function Rc(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?dg(i,a):i.dispatchEvent(a)}var kb=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),a=n>i;return e==="left"||e==="right"?a&&n>r:!a&&i>r};function wR(t=()=>{}){const e=it(t);ut(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function xR(t){return t.nodeType===t.ELEMENT_NODE}function _R(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Lh(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var SR=_1,R1=O1,I1=E1,M1=P1,D1=j1,L1=C1,B1=pg;/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),F1=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...s},l)=>x.createElement("svg",{ref:l,...AR,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:F1("lucide",i),...s},[...o.map(([c,u])=>x.createElement(c,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(t,e)=>{const r=x.forwardRef(({className:n,...i},a)=>x.createElement(ER,{ref:a,iconNode:e,className:F1(`lucide-${OR(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=xe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=xe("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=xe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=xe("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=xe("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=xe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=xe("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=xe("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=xe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=xe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=xe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=xe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=xe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=xe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $R=xe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=xe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=xe("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=xe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=xe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=xe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=xe("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=xe("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=xe("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=xe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=xe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=xe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=xe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=xe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=xe("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=xe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=xe("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=xe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=xe("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=xe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=xe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=xe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=xe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=xe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=xe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=xe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function J(...t){return S$(pe(t))}const XR=SR,K1=x.forwardRef(({className:t,...e},r)=>h.jsx(R1,{ref:r,className:J("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));K1.displayName=R1.displayName;const QR=cg("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),V1=x.forwardRef(({className:t,variant:e,...r},n)=>h.jsx(I1,{ref:n,className:J(QR({variant:e}),t),...r}));V1.displayName=I1.displayName;const JR=x.forwardRef(({className:t,...e},r)=>h.jsx(L1,{ref:r,className:J("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));JR.displayName=L1.displayName;const G1=x.forwardRef(({className:t,...e},r)=>h.jsx(B1,{ref:r,className:J("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:h.jsx(vg,{className:"h-4 w-4"})}));G1.displayName=B1.displayName;const Y1=x.forwardRef(({className:t,...e},r)=>h.jsx(M1,{ref:r,className:J("text-sm font-semibold",t),...e}));Y1.displayName=M1.displayName;const X1=x.forwardRef(({className:t,...e},r)=>h.jsx(D1,{ref:r,className:J("text-sm opacity-90",t),...e}));X1.displayName=D1.displayName;function ZR(){const{toasts:t}=B$();return h.jsxs(XR,{children:[t.map(function({id:e,title:r,description:n,action:i,...a}){return h.jsxs(V1,{...a,children:[h.jsxs("div",{className:"grid gap-1",children:[r&&h.jsx(Y1,{children:r}),n&&h.jsx(X1,{children:n})]}),i,h.jsx(G1,{})]},e)}),h.jsx(K1,{})]})}var Ib=["light","dark"],eI="(prefers-color-scheme: dark)",tI=x.createContext(void 0),rI={setTheme:t=>{},themes:[]},nI=()=>{var t;return(t=x.useContext(tI))!=null?t:rI};x.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:a,value:o,attrs:s,nonce:l})=>{let c=a==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${s.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,d=i?Ib.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(g,m=!1,v=!0)=>{let b=o?o[g]:g,w=m?g+"|| ''":`'${b}'`,y="";return i&&v&&!m&&Ib.includes(g)&&(y+=`d.style.colorScheme = '${g}';`),r==="class"?m||b?y+=`c.add(${w})`:y+="null":b&&(y+=`d[s](n,${w})`),y},p=t?`!function(){${u}${f(t)}}()`:n?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${eI}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${c?"":"else{"+f(a,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(a,!1,!1)};}${d}}catch(t){}}();`;return x.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})});var iI=t=>{switch(t){case"success":return sI;case"info":return cI;case"warning":return lI;case"error":return uI;default:return null}},aI=Array(12).fill(0),oI=({visible:t,className:e})=>j.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},j.createElement("div",{className:"sonner-spinner"},aI.map((r,n)=>j.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),sI=j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},j.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),lI=j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},j.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),cI=j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},j.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),uI=j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},j.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),dI=j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},j.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),j.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),fI=()=>{let[t,e]=j.useState(document.hidden);return j.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},Bp=1,hI=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Bp++,a=this.toasts.find(s=>s.id===i),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(s=>s.id===i?(this.publish({...s,...t,id:i,title:r}),{...s,...t,id:i,dismissible:o,title:r}):s):this.addToast({title:r,...n,dismissible:o,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),i=r!==void 0,a,o=n.then(async l=>{if(a=["resolve",l],j.isValidElement(l))i=!1,this.create({id:r,type:"default",message:l});else if(mI(l)&&!l.ok){i=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,u=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:r,type:"error",message:c,description:u})}else if(e.success!==void 0){i=!1;let c=typeof e.success=="function"?await e.success(l):e.success,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:r,type:"success",message:c,description:u})}}).catch(async l=>{if(a=["reject",l],e.error!==void 0){i=!1;let c=typeof e.error=="function"?await e.error(l):e.error,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:r,type:"error",message:c,description:u})}}).finally(()=>{var l;i&&(this.dismiss(r),r=void 0),(l=e.finally)==null||l.call(e)}),s=()=>new Promise((l,c)=>o.then(()=>a[0]==="reject"?c(a[1]):l(a[1])).catch(c));return typeof r!="string"&&typeof r!="number"?{unwrap:s}:Object.assign(r,{unwrap:s})},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||Bp++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Wt=new hI,pI=(t,e)=>{let r=(e==null?void 0:e.id)||Bp++;return Wt.addToast({title:t,...e,id:r}),r},mI=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",vI=pI,gI=()=>Wt.toasts,yI=()=>Wt.getActiveToasts(),Ze=Object.assign(vI,{success:Wt.success,info:Wt.info,warning:Wt.warning,error:Wt.error,custom:Wt.custom,message:Wt.message,promise:Wt.promise,dismiss:Wt.dismiss,loading:Wt.loading},{getHistory:gI,getToasts:yI});function bI(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}bI(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ic(t){return t.label!==void 0}var wI=3,xI="32px",_I="16px",Mb=4e3,SI=356,OI=14,AI=20,EI=200;function Er(...t){return t.filter(Boolean).join(" ")}function PI(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var jI=t=>{var e,r,n,i,a,o,s,l,c,u,d;let{invert:f,toast:p,unstyled:g,interacting:m,setHeights:v,visibleToasts:b,heights:w,index:y,toasts:O,expanded:_,removeToast:S,defaultRichColors:E,closeButton:A,style:P,cancelButtonStyle:k,actionButtonStyle:C,className:N="",descriptionClassName:D="",duration:I,position:L,gap:T,loadingIcon:R,expandByDefault:B,classNames:M,icons:q,closeButtonAriaLabel:X="Close toast",pauseWhenPageIsHidden:H}=t,[V,ee]=j.useState(null),[ie,_e]=j.useState(null),[Q,F]=j.useState(!1),[U,K]=j.useState(!1),[G,W]=j.useState(!1),[ve,he]=j.useState(!1),[je,Ae]=j.useState(!1),[Ee,at]=j.useState(0),[nt,qr]=j.useState(0),Vt=j.useRef(p.duration||I||Mb),Hr=j.useRef(null),_r=j.useRef(null),Tc=y===0,Cc=y+1<=b,ar=p.type,Ba=p.dismissible!==!1,v$=p.className||"",g$=p.descriptionClassName||"",kc=j.useMemo(()=>w.findIndex(ye=>ye.toastId===p.id)||0,[w,p.id]),y$=j.useMemo(()=>{var ye;return(ye=p.closeButton)!=null?ye:A},[p.closeButton,A]),_b=j.useMemo(()=>p.duration||I||Mb,[p.duration,I]),$h=j.useRef(0),Fa=j.useRef(0),Sb=j.useRef(0),Ua=j.useRef(null),[b$,w$]=L.split("-"),Ob=j.useMemo(()=>w.reduce((ye,Re,He)=>He>=kc?ye:ye+Re.height,0),[w,kc]),Ab=fI(),x$=p.invert||f,Rh=ar==="loading";Fa.current=j.useMemo(()=>kc*T+Ob,[kc,Ob]),j.useEffect(()=>{Vt.current=_b},[_b]),j.useEffect(()=>{F(!0)},[]),j.useEffect(()=>{let ye=_r.current;if(ye){let Re=ye.getBoundingClientRect().height;return qr(Re),v(He=>[{toastId:p.id,height:Re,position:p.position},...He]),()=>v(He=>He.filter(Sr=>Sr.toastId!==p.id))}},[v,p.id]),j.useLayoutEffect(()=>{if(!Q)return;let ye=_r.current,Re=ye.style.height;ye.style.height="auto";let He=ye.getBoundingClientRect().height;ye.style.height=Re,qr(He),v(Sr=>Sr.find(Or=>Or.toastId===p.id)?Sr.map(Or=>Or.toastId===p.id?{...Or,height:He}:Or):[{toastId:p.id,height:He,position:p.position},...Sr])},[Q,p.title,p.description,v,p.id]);let Hn=j.useCallback(()=>{K(!0),at(Fa.current),v(ye=>ye.filter(Re=>Re.toastId!==p.id)),setTimeout(()=>{S(p)},EI)},[p,S,v,Fa]);j.useEffect(()=>{if(p.promise&&ar==="loading"||p.duration===1/0||p.type==="loading")return;let ye;return _||m||H&&Ab?(()=>{if(Sb.current<$h.current){let Re=new Date().getTime()-$h.current;Vt.current=Vt.current-Re}Sb.current=new Date().getTime()})():Vt.current!==1/0&&($h.current=new Date().getTime(),ye=setTimeout(()=>{var Re;(Re=p.onAutoClose)==null||Re.call(p,p),Hn()},Vt.current)),()=>clearTimeout(ye)},[_,m,p,ar,H,Ab,Hn]),j.useEffect(()=>{p.delete&&Hn()},[Hn,p.delete]);function _$(){var ye,Re,He;return q!=null&&q.loading?j.createElement("div",{className:Er(M==null?void 0:M.loader,(ye=p==null?void 0:p.classNames)==null?void 0:ye.loader,"sonner-loader"),"data-visible":ar==="loading"},q.loading):R?j.createElement("div",{className:Er(M==null?void 0:M.loader,(Re=p==null?void 0:p.classNames)==null?void 0:Re.loader,"sonner-loader"),"data-visible":ar==="loading"},R):j.createElement(oI,{className:Er(M==null?void 0:M.loader,(He=p==null?void 0:p.classNames)==null?void 0:He.loader),visible:ar==="loading"})}return j.createElement("li",{tabIndex:0,ref:_r,className:Er(N,v$,M==null?void 0:M.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,M==null?void 0:M.default,M==null?void 0:M[ar],(r=p==null?void 0:p.classNames)==null?void 0:r[ar]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:E,"data-styled":!(p.jsx||p.unstyled||g),"data-mounted":Q,"data-promise":!!p.promise,"data-swiped":je,"data-removed":U,"data-visible":Cc,"data-y-position":b$,"data-x-position":w$,"data-index":y,"data-front":Tc,"data-swiping":G,"data-dismissible":Ba,"data-type":ar,"data-invert":x$,"data-swipe-out":ve,"data-swipe-direction":ie,"data-expanded":!!(_||B&&Q),style:{"--index":y,"--toasts-before":y,"--z-index":O.length-y,"--offset":`${U?Ee:Fa.current}px`,"--initial-height":B?"auto":`${nt}px`,...P,...p.style},onDragEnd:()=>{W(!1),ee(null),Ua.current=null},onPointerDown:ye=>{Rh||!Ba||(Hr.current=new Date,at(Fa.current),ye.target.setPointerCapture(ye.pointerId),ye.target.tagName!=="BUTTON"&&(W(!0),Ua.current={x:ye.clientX,y:ye.clientY}))},onPointerUp:()=>{var ye,Re,He,Sr;if(ve||!Ba)return;Ua.current=null;let Or=Number(((ye=_r.current)==null?void 0:ye.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Kn=Number(((Re=_r.current)==null?void 0:Re.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Li=new Date().getTime()-((He=Hr.current)==null?void 0:He.getTime()),Ar=V==="x"?Or:Kn,Vn=Math.abs(Ar)/Li;if(Math.abs(Ar)>=AI||Vn>.11){at(Fa.current),(Sr=p.onDismiss)==null||Sr.call(p,p),_e(V==="x"?Or>0?"right":"left":Kn>0?"down":"up"),Hn(),he(!0),Ae(!1);return}W(!1),ee(null)},onPointerMove:ye=>{var Re,He,Sr,Or;if(!Ua.current||!Ba||((Re=window.getSelection())==null?void 0:Re.toString().length)>0)return;let Kn=ye.clientY-Ua.current.y,Li=ye.clientX-Ua.current.x,Ar=(He=t.swipeDirections)!=null?He:PI(L);!V&&(Math.abs(Li)>1||Math.abs(Kn)>1)&&ee(Math.abs(Li)>Math.abs(Kn)?"x":"y");let Vn={x:0,y:0};V==="y"?(Ar.includes("top")||Ar.includes("bottom"))&&(Ar.includes("top")&&Kn<0||Ar.includes("bottom")&&Kn>0)&&(Vn.y=Kn):V==="x"&&(Ar.includes("left")||Ar.includes("right"))&&(Ar.includes("left")&&Li<0||Ar.includes("right")&&Li>0)&&(Vn.x=Li),(Math.abs(Vn.x)>0||Math.abs(Vn.y)>0)&&Ae(!0),(Sr=_r.current)==null||Sr.style.setProperty("--swipe-amount-x",`${Vn.x}px`),(Or=_r.current)==null||Or.style.setProperty("--swipe-amount-y",`${Vn.y}px`)}},y$&&!p.jsx?j.createElement("button",{"aria-label":X,"data-disabled":Rh,"data-close-button":!0,onClick:Rh||!Ba?()=>{}:()=>{var ye;Hn(),(ye=p.onDismiss)==null||ye.call(p,p)},className:Er(M==null?void 0:M.closeButton,(i=p==null?void 0:p.classNames)==null?void 0:i.closeButton)},(a=q==null?void 0:q.close)!=null?a:dI):null,p.jsx||x.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:j.createElement(j.Fragment,null,ar||p.icon||p.promise?j.createElement("div",{"data-icon":"",className:Er(M==null?void 0:M.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||_$():null,p.type!=="loading"?p.icon||(q==null?void 0:q[ar])||iI(ar):null):null,j.createElement("div",{"data-content":"",className:Er(M==null?void 0:M.content,(s=p==null?void 0:p.classNames)==null?void 0:s.content)},j.createElement("div",{"data-title":"",className:Er(M==null?void 0:M.title,(l=p==null?void 0:p.classNames)==null?void 0:l.title)},typeof p.title=="function"?p.title():p.title),p.description?j.createElement("div",{"data-description":"",className:Er(D,g$,M==null?void 0:M.description,(c=p==null?void 0:p.classNames)==null?void 0:c.description)},typeof p.description=="function"?p.description():p.description):null),x.isValidElement(p.cancel)?p.cancel:p.cancel&&Ic(p.cancel)?j.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||k,onClick:ye=>{var Re,He;Ic(p.cancel)&&Ba&&((He=(Re=p.cancel).onClick)==null||He.call(Re,ye),Hn())},className:Er(M==null?void 0:M.cancelButton,(u=p==null?void 0:p.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,x.isValidElement(p.action)?p.action:p.action&&Ic(p.action)?j.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||C,onClick:ye=>{var Re,He;Ic(p.action)&&((He=(Re=p.action).onClick)==null||He.call(Re,ye),!ye.defaultPrevented&&Hn())},className:Er(M==null?void 0:M.actionButton,(d=p==null?void 0:p.classNames)==null?void 0:d.actionButton)},p.action.label):null))};function Db(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function TI(t,e){let r={};return[t,e].forEach((n,i)=>{let a=i===1,o=a?"--mobile-offset":"--offset",s=a?_I:xI;function l(c){["top","right","bottom","left"].forEach(u=>{r[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(c=>{n[c]===void 0?r[`${o}-${c}`]=s:r[`${o}-${c}`]=typeof n[c]=="number"?`${n[c]}px`:n[c]}):l(s)}),r}var CI=x.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:o,className:s,offset:l,mobileOffset:c,theme:u="light",richColors:d,duration:f,style:p,visibleToasts:g=wI,toastOptions:m,dir:v=Db(),gap:b=OI,loadingIcon:w,icons:y,containerAriaLabel:O="Notifications",pauseWhenPageIsHidden:_}=t,[S,E]=j.useState([]),A=j.useMemo(()=>Array.from(new Set([n].concat(S.filter(H=>H.position).map(H=>H.position)))),[S,n]),[P,k]=j.useState([]),[C,N]=j.useState(!1),[D,I]=j.useState(!1),[L,T]=j.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),R=j.useRef(null),B=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=j.useRef(null),q=j.useRef(!1),X=j.useCallback(H=>{E(V=>{var ee;return(ee=V.find(ie=>ie.id===H.id))!=null&&ee.delete||Wt.dismiss(H.id),V.filter(({id:ie})=>ie!==H.id)})},[]);return j.useEffect(()=>Wt.subscribe(H=>{if(H.dismiss){E(V=>V.map(ee=>ee.id===H.id?{...ee,delete:!0}:ee));return}setTimeout(()=>{h1.flushSync(()=>{E(V=>{let ee=V.findIndex(ie=>ie.id===H.id);return ee!==-1?[...V.slice(0,ee),{...V[ee],...H},...V.slice(ee+1)]:[H,...V]})})})}),[]),j.useEffect(()=>{if(u!=="system"){T(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?T("dark"):T("light")),typeof window>"u")return;let H=window.matchMedia("(prefers-color-scheme: dark)");try{H.addEventListener("change",({matches:V})=>{T(V?"dark":"light")})}catch{H.addListener(({matches:ee})=>{try{T(ee?"dark":"light")}catch(ie){console.error(ie)}})}},[u]),j.useEffect(()=>{S.length<=1&&N(!1)},[S]),j.useEffect(()=>{let H=V=>{var ee,ie;i.every(_e=>V[_e]||V.code===_e)&&(N(!0),(ee=R.current)==null||ee.focus()),V.code==="Escape"&&(document.activeElement===R.current||(ie=R.current)!=null&&ie.contains(document.activeElement))&&N(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[i]),j.useEffect(()=>{if(R.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,q.current=!1)}},[R.current]),j.createElement("section",{ref:e,"aria-label":`${O} ${B}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},A.map((H,V)=>{var ee;let[ie,_e]=H.split("-");return S.length?j.createElement("ol",{key:H,dir:v==="auto"?Db():v,tabIndex:-1,ref:R,className:s,"data-sonner-toaster":!0,"data-theme":L,"data-y-position":ie,"data-lifted":C&&S.length>1&&!a,"data-x-position":_e,style:{"--front-toast-height":`${((ee=P[0])==null?void 0:ee.height)||0}px`,"--width":`${SI}px`,"--gap":`${b}px`,...p,...TI(l,c)},onBlur:Q=>{q.current&&!Q.currentTarget.contains(Q.relatedTarget)&&(q.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||q.current||(q.current=!0,M.current=Q.relatedTarget)},onMouseEnter:()=>N(!0),onMouseMove:()=>N(!0),onMouseLeave:()=>{D||N(!1)},onDragEnd:()=>N(!1),onPointerDown:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||I(!0)},onPointerUp:()=>I(!1)},S.filter(Q=>!Q.position&&V===0||Q.position===H).map((Q,F)=>{var U,K;return j.createElement(jI,{key:Q.id,icons:y,index:F,toast:Q,defaultRichColors:d,duration:(U=m==null?void 0:m.duration)!=null?U:f,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:r,visibleToasts:g,closeButton:(K=m==null?void 0:m.closeButton)!=null?K:o,interacting:D,position:H,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:X,toasts:S.filter(G=>G.position==Q.position),heights:P.filter(G=>G.position==Q.position),setHeights:k,expandByDefault:a,gap:b,loadingIcon:w,expanded:C,pauseWhenPageIsHidden:_,swipeDirections:t.swipeDirections})})):null}))});const kI=({...t})=>{const{theme:e="system"}=nI();return h.jsx(CI,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var NI=p1[" useId ".trim().toString()]||(()=>{}),$I=0;function yi(t){const[e,r]=x.useState(NI());return ut(()=>{r(n=>n??String($I++))},[t]),e?`radix-${e}`:""}const RI=["top","right","bottom","left"],Ai=Math.min,Jt=Math.max,Au=Math.round,Mc=Math.floor,nn=t=>({x:t,y:t}),II={left:"right",right:"left",bottom:"top",top:"bottom"},MI={start:"end",end:"start"};function Fp(t,e,r){return Jt(t,Ai(e,r))}function Nn(t,e){return typeof t=="function"?t(e):t}function $n(t){return t.split("-")[0]}function bs(t){return t.split("-")[1]}function gg(t){return t==="x"?"y":"x"}function yg(t){return t==="y"?"height":"width"}const DI=new Set(["top","bottom"]);function en(t){return DI.has($n(t))?"y":"x"}function bg(t){return gg(en(t))}function LI(t,e,r){r===void 0&&(r=!1);const n=bs(t),i=bg(t),a=yg(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=Eu(o)),[o,Eu(o)]}function BI(t){const e=Eu(t);return[Up(t),e,Up(e)]}function Up(t){return t.replace(/start|end/g,e=>MI[e])}const Lb=["left","right"],Bb=["right","left"],FI=["top","bottom"],UI=["bottom","top"];function WI(t,e,r){switch(t){case"top":case"bottom":return r?e?Bb:Lb:e?Lb:Bb;case"left":case"right":return e?FI:UI;default:return[]}}function zI(t,e,r,n){const i=bs(t);let a=WI($n(t),r==="start",n);return i&&(a=a.map(o=>o+"-"+i),e&&(a=a.concat(a.map(Up)))),a}function Eu(t){return t.replace(/left|right|bottom|top/g,e=>II[e])}function qI(t){return{top:0,right:0,bottom:0,left:0,...t}}function Q1(t){return typeof t!="number"?qI(t):{top:t,right:t,bottom:t,left:t}}function Pu(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function Fb(t,e,r){let{reference:n,floating:i}=t;const a=en(e),o=bg(e),s=yg(o),l=$n(e),c=a==="y",u=n.x+n.width/2-i.width/2,d=n.y+n.height/2-i.height/2,f=n[s]/2-i[s]/2;let p;switch(l){case"top":p={x:u,y:n.y-i.height};break;case"bottom":p={x:u,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:d};break;case"left":p={x:n.x-i.width,y:d};break;default:p={x:n.x,y:n.y}}switch(bs(e)){case"start":p[o]-=f*(r&&c?-1:1);break;case"end":p[o]+=f*(r&&c?-1:1);break}return p}const HI=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:o}=r,s=a.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=Fb(c,n,l),f=n,p={},g=0;for(let m=0;m<s.length;m++){const{name:v,fn:b}=s[m],{x:w,y,data:O,reset:_}=await b({x:u,y:d,initialPlacement:n,placement:f,strategy:i,middlewareData:p,rects:c,platform:o,elements:{reference:t,floating:e}});u=w??u,d=y??d,p={...p,[v]:{...p[v],...O}},_&&g<=50&&(g++,typeof _=="object"&&(_.placement&&(f=_.placement),_.rects&&(c=_.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):_.rects),{x:u,y:d}=Fb(c,f,l)),m=-1)}return{x:u,y:d,placement:f,strategy:i,middlewareData:p}};async function yl(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:a,rects:o,elements:s,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:p=0}=Nn(e,t),g=Q1(p),v=s[f?d==="floating"?"reference":"floating":d],b=Pu(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(v)))==null||r?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),w=d==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,y=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s.floating)),O=await(a.isElement==null?void 0:a.isElement(y))?await(a.getScale==null?void 0:a.getScale(y))||{x:1,y:1}:{x:1,y:1},_=Pu(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:w,offsetParent:y,strategy:l}):w);return{top:(b.top-_.top+g.top)/O.y,bottom:(_.bottom-b.bottom+g.bottom)/O.y,left:(b.left-_.left+g.left)/O.x,right:(_.right-b.right+g.right)/O.x}}const KI=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:a,platform:o,elements:s,middlewareData:l}=e,{element:c,padding:u=0}=Nn(t,e)||{};if(c==null)return{};const d=Q1(u),f={x:r,y:n},p=bg(i),g=yg(p),m=await o.getDimensions(c),v=p==="y",b=v?"top":"left",w=v?"bottom":"right",y=v?"clientHeight":"clientWidth",O=a.reference[g]+a.reference[p]-f[p]-a.floating[g],_=f[p]-a.reference[p],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let E=S?S[y]:0;(!E||!await(o.isElement==null?void 0:o.isElement(S)))&&(E=s.floating[y]||a.floating[g]);const A=O/2-_/2,P=E/2-m[g]/2-1,k=Ai(d[b],P),C=Ai(d[w],P),N=k,D=E-m[g]-C,I=E/2-m[g]/2+A,L=Fp(N,I,D),T=!l.arrow&&bs(i)!=null&&I!==L&&a.reference[g]/2-(I<N?k:C)-m[g]/2<0,R=T?I<N?I-N:I-D:0;return{[p]:f[p]+R,data:{[p]:L,centerOffset:I-L-R,...T&&{alignmentOffset:R}},reset:T}}}),VI=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:a,rects:o,initialPlacement:s,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...v}=Nn(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const b=$n(i),w=en(s),y=$n(s)===s,O=await(l.isRTL==null?void 0:l.isRTL(c.floating)),_=f||(y||!m?[Eu(s)]:BI(s)),S=g!=="none";!f&&S&&_.push(...zI(s,m,g,O));const E=[s,..._],A=await yl(e,v),P=[];let k=((n=a.flip)==null?void 0:n.overflows)||[];if(u&&P.push(A[b]),d){const I=LI(i,o,O);P.push(A[I[0]],A[I[1]])}if(k=[...k,{placement:i,overflows:P}],!P.every(I=>I<=0)){var C,N;const I=(((C=a.flip)==null?void 0:C.index)||0)+1,L=E[I];if(L&&(!(d==="alignment"?w!==en(L):!1)||k.every(B=>B.overflows[0]>0&&en(B.placement)===w)))return{data:{index:I,overflows:k},reset:{placement:L}};let T=(N=k.filter(R=>R.overflows[0]<=0).sort((R,B)=>R.overflows[1]-B.overflows[1])[0])==null?void 0:N.placement;if(!T)switch(p){case"bestFit":{var D;const R=(D=k.filter(B=>{if(S){const M=en(B.placement);return M===w||M==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(M=>M>0).reduce((M,q)=>M+q,0)]).sort((B,M)=>B[1]-M[1])[0])==null?void 0:D[0];R&&(T=R);break}case"initialPlacement":T=s;break}if(i!==T)return{reset:{placement:T}}}return{}}}};function Ub(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Wb(t){return RI.some(e=>t[e]>=0)}const GI=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=Nn(t,e);switch(n){case"referenceHidden":{const a=await yl(e,{...i,elementContext:"reference"}),o=Ub(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Wb(o)}}}case"escaped":{const a=await yl(e,{...i,altBoundary:!0}),o=Ub(a,r.floating);return{data:{escapedOffsets:o,escaped:Wb(o)}}}default:return{}}}}},J1=new Set(["left","top"]);async function YI(t,e){const{placement:r,platform:n,elements:i}=t,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=$n(r),s=bs(r),l=en(r)==="y",c=J1.has(o)?-1:1,u=a&&l?-1:1,d=Nn(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&typeof g=="number"&&(p=s==="end"?g*-1:g),l?{x:p*u,y:f*c}:{x:f*c,y:p*u}}const XI=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:a,placement:o,middlewareData:s}=e,l=await YI(e,t);return o===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:o}}}}},QI=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:v=>{let{x:b,y:w}=v;return{x:b,y:w}}},...l}=Nn(t,e),c={x:r,y:n},u=await yl(e,l),d=en($n(i)),f=gg(d);let p=c[f],g=c[d];if(a){const v=f==="y"?"top":"left",b=f==="y"?"bottom":"right",w=p+u[v],y=p-u[b];p=Fp(w,p,y)}if(o){const v=d==="y"?"top":"left",b=d==="y"?"bottom":"right",w=g+u[v],y=g-u[b];g=Fp(w,g,y)}const m=s.fn({...e,[f]:p,[d]:g});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[f]:a,[d]:o}}}}}},JI=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:a,middlewareData:o}=e,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=Nn(t,e),u={x:r,y:n},d=en(i),f=gg(d);let p=u[f],g=u[d];const m=Nn(s,e),v=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const y=f==="y"?"height":"width",O=a.reference[f]-a.floating[y]+v.mainAxis,_=a.reference[f]+a.reference[y]-v.mainAxis;p<O?p=O:p>_&&(p=_)}if(c){var b,w;const y=f==="y"?"width":"height",O=J1.has($n(i)),_=a.reference[d]-a.floating[y]+(O&&((b=o.offset)==null?void 0:b[d])||0)+(O?0:v.crossAxis),S=a.reference[d]+a.reference[y]+(O?0:((w=o.offset)==null?void 0:w[d])||0)-(O?v.crossAxis:0);g<_?g=_:g>S&&(g=S)}return{[f]:p,[d]:g}}}},ZI=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:a,platform:o,elements:s}=e,{apply:l=()=>{},...c}=Nn(t,e),u=await yl(e,c),d=$n(i),f=bs(i),p=en(i)==="y",{width:g,height:m}=a.floating;let v,b;d==="top"||d==="bottom"?(v=d,b=f===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(b=d,v=f==="end"?"top":"bottom");const w=m-u.top-u.bottom,y=g-u.left-u.right,O=Ai(m-u[v],w),_=Ai(g-u[b],y),S=!e.middlewareData.shift;let E=O,A=_;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(A=y),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(E=w),S&&!f){const k=Jt(u.left,0),C=Jt(u.right,0),N=Jt(u.top,0),D=Jt(u.bottom,0);p?A=g-2*(k!==0||C!==0?k+C:Jt(u.left,u.right)):E=m-2*(N!==0||D!==0?N+D:Jt(u.top,u.bottom))}await l({...e,availableWidth:A,availableHeight:E});const P=await o.getDimensions(s.floating);return g!==P.width||m!==P.height?{reset:{rects:!0}}:{}}}};function sf(){return typeof window<"u"}function ws(t){return Z1(t)?(t.nodeName||"").toLowerCase():"#document"}function tr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function dn(t){var e;return(e=(Z1(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Z1(t){return sf()?t instanceof Node||t instanceof tr(t).Node:!1}function Br(t){return sf()?t instanceof Element||t instanceof tr(t).Element:!1}function sn(t){return sf()?t instanceof HTMLElement||t instanceof tr(t).HTMLElement:!1}function zb(t){return!sf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof tr(t).ShadowRoot}const eM=new Set(["inline","contents"]);function yc(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=Fr(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!eM.has(i)}const tM=new Set(["table","td","th"]);function rM(t){return tM.has(ws(t))}const nM=[":popover-open",":modal"];function lf(t){return nM.some(e=>{try{return t.matches(e)}catch{return!1}})}const iM=["transform","translate","scale","rotate","perspective"],aM=["transform","translate","scale","rotate","perspective","filter"],oM=["paint","layout","strict","content"];function wg(t){const e=xg(),r=Br(t)?Fr(t):t;return iM.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||aM.some(n=>(r.willChange||"").includes(n))||oM.some(n=>(r.contain||"").includes(n))}function sM(t){let e=Ei(t);for(;sn(e)&&!Ro(e);){if(wg(e))return e;if(lf(e))return null;e=Ei(e)}return null}function xg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const lM=new Set(["html","body","#document"]);function Ro(t){return lM.has(ws(t))}function Fr(t){return tr(t).getComputedStyle(t)}function cf(t){return Br(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ei(t){if(ws(t)==="html")return t;const e=t.assignedSlot||t.parentNode||zb(t)&&t.host||dn(t);return zb(e)?e.host:e}function eO(t){const e=Ei(t);return Ro(e)?t.ownerDocument?t.ownerDocument.body:t.body:sn(e)&&yc(e)?e:eO(e)}function bl(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=eO(t),a=i===((n=t.ownerDocument)==null?void 0:n.body),o=tr(i);if(a){const s=Wp(o);return e.concat(o,o.visualViewport||[],yc(i)?i:[],s&&r?bl(s):[])}return e.concat(i,bl(i,[],r))}function Wp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function tO(t){const e=Fr(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=sn(t),a=i?t.offsetWidth:r,o=i?t.offsetHeight:n,s=Au(r)!==a||Au(n)!==o;return s&&(r=a,n=o),{width:r,height:n,$:s}}function _g(t){return Br(t)?t:t.contextElement}function ho(t){const e=_g(t);if(!sn(e))return nn(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:a}=tO(e);let o=(a?Au(r.width):r.width)/n,s=(a?Au(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const cM=nn(0);function rO(t){const e=tr(t);return!xg()||!e.visualViewport?cM:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function uM(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==tr(t)?!1:e}function _a(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),a=_g(t);let o=nn(1);e&&(n?Br(n)&&(o=ho(n)):o=ho(t));const s=uM(a,r,n)?rO(a):nn(0);let l=(i.left+s.x)/o.x,c=(i.top+s.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(a){const f=tr(a),p=n&&Br(n)?tr(n):n;let g=f,m=Wp(g);for(;m&&n&&p!==g;){const v=ho(m),b=m.getBoundingClientRect(),w=Fr(m),y=b.left+(m.clientLeft+parseFloat(w.paddingLeft))*v.x,O=b.top+(m.clientTop+parseFloat(w.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,d*=v.y,l+=y,c+=O,g=tr(m),m=Wp(g)}}return Pu({width:u,height:d,x:l,y:c})}function Sg(t,e){const r=cf(t).scrollLeft;return e?e.left+r:_a(dn(t)).left+r}function nO(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-(r?0:Sg(t,n)),a=n.top+e.scrollTop;return{x:i,y:a}}function dM(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const a=i==="fixed",o=dn(n),s=e?lf(e.floating):!1;if(n===o||s&&a)return r;let l={scrollLeft:0,scrollTop:0},c=nn(1);const u=nn(0),d=sn(n);if((d||!d&&!a)&&((ws(n)!=="body"||yc(o))&&(l=cf(n)),sn(n))){const p=_a(n);c=ho(n),u.x=p.x+n.clientLeft,u.y=p.y+n.clientTop}const f=o&&!d&&!a?nO(o,l,!0):nn(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:r.y*c.y-l.scrollTop*c.y+u.y+f.y}}function fM(t){return Array.from(t.getClientRects())}function hM(t){const e=dn(t),r=cf(t),n=t.ownerDocument.body,i=Jt(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=Jt(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Sg(t);const s=-r.scrollTop;return Fr(n).direction==="rtl"&&(o+=Jt(e.clientWidth,n.clientWidth)-i),{width:i,height:a,x:o,y:s}}function pM(t,e){const r=tr(t),n=dn(t),i=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;const c=xg();(!c||c&&e==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:s,y:l}}const mM=new Set(["absolute","fixed"]);function vM(t,e){const r=_a(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,a=sn(t)?ho(t):nn(1),o=t.clientWidth*a.x,s=t.clientHeight*a.y,l=i*a.x,c=n*a.y;return{width:o,height:s,x:l,y:c}}function qb(t,e,r){let n;if(e==="viewport")n=pM(t,r);else if(e==="document")n=hM(dn(t));else if(Br(e))n=vM(e,r);else{const i=rO(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Pu(n)}function iO(t,e){const r=Ei(t);return r===e||!Br(r)||Ro(r)?!1:Fr(r).position==="fixed"||iO(r,e)}function gM(t,e){const r=e.get(t);if(r)return r;let n=bl(t,[],!1).filter(s=>Br(s)&&ws(s)!=="body"),i=null;const a=Fr(t).position==="fixed";let o=a?Ei(t):t;for(;Br(o)&&!Ro(o);){const s=Fr(o),l=wg(o);!l&&s.position==="fixed"&&(i=null),(a?!l&&!i:!l&&s.position==="static"&&!!i&&mM.has(i.position)||yc(o)&&!l&&iO(t,o))?n=n.filter(u=>u!==o):i=s,o=Ei(o)}return e.set(t,n),n}function yM(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?lf(e)?[]:gM(e,this._c):[].concat(r),n],s=o[0],l=o.reduce((c,u)=>{const d=qb(e,u,i);return c.top=Jt(d.top,c.top),c.right=Ai(d.right,c.right),c.bottom=Ai(d.bottom,c.bottom),c.left=Jt(d.left,c.left),c},qb(e,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function bM(t){const{width:e,height:r}=tO(t);return{width:e,height:r}}function wM(t,e,r){const n=sn(e),i=dn(e),a=r==="fixed",o=_a(t,!0,a,e);let s={scrollLeft:0,scrollTop:0};const l=nn(0);function c(){l.x=Sg(i)}if(n||!n&&!a)if((ws(e)!=="body"||yc(i))&&(s=cf(e)),n){const p=_a(e,!0,a,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&c();a&&!n&&i&&c();const u=i&&!n&&!a?nO(i,s):nn(0),d=o.left+s.scrollLeft-l.x-u.x,f=o.top+s.scrollTop-l.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function Bh(t){return Fr(t).position==="static"}function Hb(t,e){if(!sn(t)||Fr(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return dn(t)===r&&(r=r.ownerDocument.body),r}function aO(t,e){const r=tr(t);if(lf(t))return r;if(!sn(t)){let i=Ei(t);for(;i&&!Ro(i);){if(Br(i)&&!Bh(i))return i;i=Ei(i)}return r}let n=Hb(t,e);for(;n&&rM(n)&&Bh(n);)n=Hb(n,e);return n&&Ro(n)&&Bh(n)&&!wg(n)?r:n||sM(t)||r}const xM=async function(t){const e=this.getOffsetParent||aO,r=this.getDimensions,n=await r(t.floating);return{reference:wM(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function _M(t){return Fr(t).direction==="rtl"}const SM={convertOffsetParentRelativeRectToViewportRelativeRect:dM,getDocumentElement:dn,getClippingRect:yM,getOffsetParent:aO,getElementRects:xM,getClientRects:fM,getDimensions:bM,getScale:ho,isElement:Br,isRTL:_M};function oO(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function OM(t,e){let r=null,n;const i=dn(t);function a(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function o(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),a();const c=t.getBoundingClientRect(),{left:u,top:d,width:f,height:p}=c;if(s||e(),!f||!p)return;const g=Mc(d),m=Mc(i.clientWidth-(u+f)),v=Mc(i.clientHeight-(d+p)),b=Mc(u),y={rootMargin:-g+"px "+-m+"px "+-v+"px "+-b+"px",threshold:Jt(0,Ai(1,l))||1};let O=!0;function _(S){const E=S[0].intersectionRatio;if(E!==l){if(!O)return o();E?o(!1,E):n=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!oO(c,t.getBoundingClientRect())&&o(),O=!1}try{r=new IntersectionObserver(_,{...y,root:i.ownerDocument})}catch{r=new IntersectionObserver(_,y)}r.observe(t)}return o(!0),a}function AM(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=_g(t),u=i||a?[...c?bl(c):[],...bl(e)]:[];u.forEach(b=>{i&&b.addEventListener("scroll",r,{passive:!0}),a&&b.addEventListener("resize",r)});const d=c&&s?OM(c,r):null;let f=-1,p=null;o&&(p=new ResizeObserver(b=>{let[w]=b;w&&w.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var y;(y=p)==null||y.observe(e)})),r()}),c&&!l&&p.observe(c),p.observe(e));let g,m=l?_a(t):null;l&&v();function v(){const b=_a(t);m&&!oO(m,b)&&r(),m=b,g=requestAnimationFrame(v)}return r(),()=>{var b;u.forEach(w=>{i&&w.removeEventListener("scroll",r),a&&w.removeEventListener("resize",r)}),d==null||d(),(b=p)==null||b.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const EM=XI,PM=QI,jM=VI,TM=ZI,CM=GI,Kb=KI,kM=JI,NM=(t,e,r)=>{const n=new Map,i={platform:SM,...r},a={...i.platform,_c:n};return HI(t,e,{...i,platform:a})};var $M=typeof document<"u",RM=function(){},mu=$M?x.useLayoutEffect:RM;function ju(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!ju(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&t.$$typeof)&&!ju(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function sO(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Vb(t,e){const r=sO(t);return Math.round(e*r)/r}function Fh(t){const e=x.useRef(t);return mu(()=>{e.current=t}),e}function IM(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:o}={},transform:s=!0,whileElementsMounted:l,open:c}=t,[u,d]=x.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=x.useState(n);ju(f,n)||p(n);const[g,m]=x.useState(null),[v,b]=x.useState(null),w=x.useCallback(B=>{B!==S.current&&(S.current=B,m(B))},[]),y=x.useCallback(B=>{B!==E.current&&(E.current=B,b(B))},[]),O=a||g,_=o||v,S=x.useRef(null),E=x.useRef(null),A=x.useRef(u),P=l!=null,k=Fh(l),C=Fh(i),N=Fh(c),D=x.useCallback(()=>{if(!S.current||!E.current)return;const B={placement:e,strategy:r,middleware:f};C.current&&(B.platform=C.current),NM(S.current,E.current,B).then(M=>{const q={...M,isPositioned:N.current!==!1};I.current&&!ju(A.current,q)&&(A.current=q,ys.flushSync(()=>{d(q)}))})},[f,e,r,C,N]);mu(()=>{c===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,d(B=>({...B,isPositioned:!1})))},[c]);const I=x.useRef(!1);mu(()=>(I.current=!0,()=>{I.current=!1}),[]),mu(()=>{if(O&&(S.current=O),_&&(E.current=_),O&&_){if(k.current)return k.current(O,_,D);D()}},[O,_,D,k,P]);const L=x.useMemo(()=>({reference:S,floating:E,setReference:w,setFloating:y}),[w,y]),T=x.useMemo(()=>({reference:O,floating:_}),[O,_]),R=x.useMemo(()=>{const B={position:r,left:0,top:0};if(!T.floating)return B;const M=Vb(T.floating,u.x),q=Vb(T.floating,u.y);return s?{...B,transform:"translate("+M+"px, "+q+"px)",...sO(T.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:M,top:q}},[r,s,T.floating,u.x,u.y]);return x.useMemo(()=>({...u,update:D,refs:L,elements:T,floatingStyles:R}),[u,D,L,T,R])}const MM=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?Kb({element:n.current,padding:i}).fn(r):{}:n?Kb({element:n,padding:i}).fn(r):{}}}},DM=(t,e)=>({...EM(t),options:[t,e]}),LM=(t,e)=>({...PM(t),options:[t,e]}),BM=(t,e)=>({...kM(t),options:[t,e]}),FM=(t,e)=>({...jM(t),options:[t,e]}),UM=(t,e)=>({...TM(t),options:[t,e]}),WM=(t,e)=>({...CM(t),options:[t,e]}),zM=(t,e)=>({...MM(t),options:[t,e]});var qM="Arrow",lO=x.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...a}=t;return h.jsx(se.svg,{...a,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});lO.displayName=qM;var HM=lO;function uf(t){const[e,r]=x.useState(void 0);return ut(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,s;if("borderBoxSize"in a){const l=a.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,s=c.blockSize}else o=t.offsetWidth,s=t.offsetHeight;r({width:o,height:s})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var Og="Popper",[cO,df]=Ht(Og),[KM,uO]=cO(Og),dO=t=>{const{__scopePopper:e,children:r}=t,[n,i]=x.useState(null);return h.jsx(KM,{scope:e,anchor:n,onAnchorChange:i,children:r})};dO.displayName=Og;var fO="PopperAnchor",hO=x.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,a=uO(fO,r),o=x.useRef(null),s=ge(e,o);return x.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:h.jsx(se.div,{...i,ref:s})});hO.displayName=fO;var Ag="PopperContent",[VM,GM]=cO(Ag),pO=x.forwardRef((t,e)=>{var Q,F,U,K,G,W;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:g,...m}=t,v=uO(Ag,r),[b,w]=x.useState(null),y=ge(e,ve=>w(ve)),[O,_]=x.useState(null),S=uf(O),E=(S==null?void 0:S.width)??0,A=(S==null?void 0:S.height)??0,P=n+(a!=="center"?"-"+a:""),k=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},C=Array.isArray(c)?c:[c],N=C.length>0,D={padding:k,boundary:C.filter(XM),altBoundary:N},{refs:I,floatingStyles:L,placement:T,isPositioned:R,middlewareData:B}=IM({strategy:"fixed",placement:P,whileElementsMounted:(...ve)=>AM(...ve,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[DM({mainAxis:i+A,alignmentAxis:o}),l&&LM({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?BM():void 0,...D}),l&&FM({...D}),UM({...D,apply:({elements:ve,rects:he,availableWidth:je,availableHeight:Ae})=>{const{width:Ee,height:at}=he.reference,nt=ve.floating.style;nt.setProperty("--radix-popper-available-width",`${je}px`),nt.setProperty("--radix-popper-available-height",`${Ae}px`),nt.setProperty("--radix-popper-anchor-width",`${Ee}px`),nt.setProperty("--radix-popper-anchor-height",`${at}px`)}}),O&&zM({element:O,padding:s}),QM({arrowWidth:E,arrowHeight:A}),f&&WM({strategy:"referenceHidden",...D})]}),[M,q]=gO(T),X=it(g);ut(()=>{R&&(X==null||X())},[R,X]);const H=(Q=B.arrow)==null?void 0:Q.x,V=(F=B.arrow)==null?void 0:F.y,ee=((U=B.arrow)==null?void 0:U.centerOffset)!==0,[ie,_e]=x.useState();return ut(()=>{b&&_e(window.getComputedStyle(b).zIndex)},[b]),h.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:R?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[(K=B.transformOrigin)==null?void 0:K.x,(G=B.transformOrigin)==null?void 0:G.y].join(" "),...((W=B.hide)==null?void 0:W.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:h.jsx(VM,{scope:r,placedSide:M,onArrowChange:_,arrowX:H,arrowY:V,shouldHideArrow:ee,children:h.jsx(se.div,{"data-side":M,"data-align":q,...m,ref:y,style:{...m.style,animation:R?void 0:"none"}})})})});pO.displayName=Ag;var mO="PopperArrow",YM={top:"bottom",right:"left",bottom:"top",left:"right"},vO=x.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,a=GM(mO,n),o=YM[a.placedSide];return h.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:h.jsx(HM,{...i,ref:r,style:{...i.style,display:"block"}})})});vO.displayName=mO;function XM(t){return t!==null}var QM=t=>({name:"transformOrigin",options:t,fn(e){var v,b,w;const{placement:r,rects:n,middlewareData:i}=e,o=((v=i.arrow)==null?void 0:v.centerOffset)!==0,s=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=gO(r),d={start:"0%",center:"50%",end:"100%"}[u],f=(((b=i.arrow)==null?void 0:b.x)??0)+s/2,p=(((w=i.arrow)==null?void 0:w.y)??0)+l/2;let g="",m="";return c==="bottom"?(g=o?d:`${f}px`,m=`${-l}px`):c==="top"?(g=o?d:`${f}px`,m=`${n.floating.height+l}px`):c==="right"?(g=`${-l}px`,m=o?d:`${p}px`):c==="left"&&(g=`${n.floating.width+l}px`,m=o?d:`${p}px`),{data:{x:g,y:m}}}});function gO(t){const[e,r="center"]=t.split("-");return[e,r]}var JM=dO,yO=hO,bO=pO,wO=vO,[ff,xhe]=Ht("Tooltip",[df]),Eg=df(),xO="TooltipProvider",ZM=700,Gb="tooltip.open",[eD,_O]=ff(xO),SO=t=>{const{__scopeTooltip:e,delayDuration:r=ZM,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=t,o=x.useRef(!0),s=x.useRef(!1),l=x.useRef(0);return x.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),h.jsx(eD,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:x.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:s,onPointerInTransitChange:x.useCallback(c=>{s.current=c},[]),disableHoverableContent:i,children:a})};SO.displayName=xO;var OO="Tooltip",[_he,hf]=ff(OO),zp="TooltipTrigger",tD=x.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=hf(zp,r),a=_O(zp,r),o=Eg(r),s=x.useRef(null),l=ge(e,s,i.onTriggerChange),c=x.useRef(!1),u=x.useRef(!1),d=x.useCallback(()=>c.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),h.jsx(yO,{asChild:!0,...o,children:h.jsx(se.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:l,onPointerMove:oe(t.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:oe(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:oe(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:oe(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:oe(t.onBlur,i.onClose),onClick:oe(t.onClick,i.onClose)})})});tD.displayName=zp;var rD="TooltipPortal",[She,nD]=ff(rD,{forceMount:void 0}),Io="TooltipContent",AO=x.forwardRef((t,e)=>{const r=nD(Io,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=t,o=hf(Io,t.__scopeTooltip);return h.jsx(un,{present:n||o.open,children:o.disableHoverableContent?h.jsx(EO,{side:i,...a,ref:e}):h.jsx(iD,{side:i,...a,ref:e})})}),iD=x.forwardRef((t,e)=>{const r=hf(Io,t.__scopeTooltip),n=_O(Io,t.__scopeTooltip),i=x.useRef(null),a=ge(e,i),[o,s]=x.useState(null),{trigger:l,onClose:c}=r,u=i.current,{onPointerInTransitChange:d}=n,f=x.useCallback(()=>{s(null),d(!1)},[d]),p=x.useCallback((g,m)=>{const v=g.currentTarget,b={x:g.clientX,y:g.clientY},w=cD(b,v.getBoundingClientRect()),y=uD(b,w),O=dD(m.getBoundingClientRect()),_=hD([...y,...O]);s(_),d(!0)},[d]);return x.useEffect(()=>()=>f(),[f]),x.useEffect(()=>{if(l&&u){const g=v=>p(v,u),m=v=>p(v,l);return l.addEventListener("pointerleave",g),u.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",m)}}},[l,u,p,f]),x.useEffect(()=>{if(o){const g=m=>{const v=m.target,b={x:m.clientX,y:m.clientY},w=(l==null?void 0:l.contains(v))||(u==null?void 0:u.contains(v)),y=!fD(b,o);w?f():y&&(f(),c())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,u,o,c,f]),h.jsx(EO,{...t,ref:a})}),[aD,oD]=ff(OO,{isInside:!1}),sD=f1("TooltipContent"),EO=x.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...s}=t,l=hf(Io,r),c=Eg(r),{onClose:u}=l;return x.useEffect(()=>(document.addEventListener(Gb,u),()=>document.removeEventListener(Gb,u)),[u]),x.useEffect(()=>{if(l.trigger){const d=f=>{const p=f.target;p!=null&&p.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),h.jsx(tf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:h.jsxs(bO,{"data-state":l.stateAttribute,...c,...s,ref:e,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[h.jsx(sD,{children:n}),h.jsx(aD,{scope:r,isInside:!0,children:h.jsx(aR,{id:l.contentId,role:"tooltip",children:i||n})})]})})});AO.displayName=Io;var PO="TooltipArrow",lD=x.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=Eg(r);return oD(PO,r).isInside?null:h.jsx(wO,{...i,...n,ref:e})});lD.displayName=PO;function cD(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function uD(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function dD(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function fD(t,e){const{x:r,y:n}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const s=e[a],l=e[o],c=s.x,u=s.y,d=l.x,f=l.y;u>n!=f>n&&r<(d-c)*(n-u)/(f-u)+c&&(i=!i)}return i}function hD(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),pD(e)}function pD(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var mD=SO,jO=AO;const vD=mD,gD=x.forwardRef(({className:t,sideOffset:e=4,...r},n)=>h.jsx(jO,{ref:n,sideOffset:e,className:J("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));gD.displayName=jO.displayName;var xs=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Sa=typeof window>"u"||"Deno"in globalThis;function $t(){}function yD(t,e){return typeof t=="function"?t(e):t}function qp(t){return typeof t=="number"&&t>=0&&t!==1/0}function TO(t,e){return Math.max(t+(e||0)-Date.now(),0)}function bi(t,e){return typeof t=="function"?t(e):t}function dr(t,e){return typeof t=="function"?t(e):t}function Yb(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:o,stale:s}=t;if(o){if(n){if(e.queryHash!==Pg(o,e.options))return!1}else if(!wl(e.queryKey,o))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof s=="boolean"&&e.isStale()!==s||i&&i!==e.state.fetchStatus||a&&!a(e))}function Xb(t,e){const{exact:r,status:n,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(Oa(e.options.mutationKey)!==Oa(a))return!1}else if(!wl(e.options.mutationKey,a))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function Pg(t,e){return((e==null?void 0:e.queryKeyHashFn)||Oa)(t)}function Oa(t){return JSON.stringify(t,(e,r)=>Hp(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function wl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>wl(t[r],e[r])):!1}function CO(t,e){if(t===e)return t;const r=Qb(t)&&Qb(e);if(r||Hp(t)&&Hp(e)){const n=r?t:Object.keys(t),i=n.length,a=r?e:Object.keys(e),o=a.length,s=r?[]:{},l=new Set(n);let c=0;for(let u=0;u<o;u++){const d=r?u:a[u];(!r&&l.has(d)||r)&&t[d]===void 0&&e[d]===void 0?(s[d]=void 0,c++):(s[d]=CO(t[d],e[d]),s[d]===t[d]&&t[d]!==void 0&&c++)}return i===o&&c===i?t:s}return e}function Tu(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function Qb(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Hp(t){if(!Jb(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!Jb(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Jb(t){return Object.prototype.toString.call(t)==="[object Object]"}function bD(t){return new Promise(e=>{setTimeout(e,t)})}function Kp(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?CO(t,e):e}function wD(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function xD(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var jg=Symbol();function kO(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===jg?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function NO(t,e){return typeof t=="function"?t(...e):!!t}var da,ai,_o,r1,_D=(r1=class extends xs{constructor(){super();ue(this,da);ue(this,ai);ue(this,_o);Z(this,_o,e=>{if(!Sa&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){$(this,ai)||this.setEventListener($(this,_o))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,ai))==null||e.call(this),Z(this,ai,void 0))}setEventListener(e){var r;Z(this,_o,e),(r=$(this,ai))==null||r.call(this),Z(this,ai,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){$(this,da)!==e&&(Z(this,da,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof $(this,da)=="boolean"?$(this,da):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},da=new WeakMap,ai=new WeakMap,_o=new WeakMap,r1),Tg=new _D,So,oi,Oo,n1,SD=(n1=class extends xs{constructor(){super();ue(this,So,!0);ue(this,oi);ue(this,Oo);Z(this,Oo,e=>{if(!Sa&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){$(this,oi)||this.setEventListener($(this,Oo))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,oi))==null||e.call(this),Z(this,oi,void 0))}setEventListener(e){var r;Z(this,Oo,e),(r=$(this,oi))==null||r.call(this),Z(this,oi,e(this.setOnline.bind(this)))}setOnline(e){$(this,So)!==e&&(Z(this,So,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return $(this,So)}},So=new WeakMap,oi=new WeakMap,Oo=new WeakMap,n1),Cu=new SD;function Vp(){let t,e;const r=new Promise((i,a)=>{t=i,e=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}function OD(t){return Math.min(1e3*2**t,3e4)}function $O(t){return(t??"online")==="online"?Cu.isOnline():!0}var RO=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Uh(t){return t instanceof RO}function IO(t){let e=!1,r=0,n=!1,i;const a=Vp(),o=m=>{var v;n||(f(new RO(m)),(v=t.abort)==null||v.call(t))},s=()=>{e=!0},l=()=>{e=!1},c=()=>Tg.isFocused()&&(t.networkMode==="always"||Cu.isOnline())&&t.canRun(),u=()=>$O(t.networkMode)&&t.canRun(),d=m=>{var v;n||(n=!0,(v=t.onSuccess)==null||v.call(t,m),i==null||i(),a.resolve(m))},f=m=>{var v;n||(n=!0,(v=t.onError)==null||v.call(t,m),i==null||i(),a.reject(m))},p=()=>new Promise(m=>{var v;i=b=>{(n||c())&&m(b)},(v=t.onPause)==null||v.call(t)}).then(()=>{var m;i=void 0,n||(m=t.onContinue)==null||m.call(t)}),g=()=>{if(n)return;let m;const v=r===0?t.initialPromise:void 0;try{m=v??t.fn()}catch(b){m=Promise.reject(b)}Promise.resolve(m).then(d).catch(b=>{var S;if(n)return;const w=t.retry??(Sa?0:3),y=t.retryDelay??OD,O=typeof y=="function"?y(r,b):y,_=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,b);if(e||!_){f(b);return}r++,(S=t.onFail)==null||S.call(t,r,b),bD(O).then(()=>c()?void 0:p()).then(()=>{e?f(b):g()})})};return{promise:a,cancel:o,continue:()=>(i==null||i(),a),cancelRetry:s,continueRetry:l,canStart:u,start:()=>(u()?g():p().then(g),a)}}var AD=t=>setTimeout(t,0);function ED(){let t=[],e=0,r=s=>{s()},n=s=>{s()},i=AD;const a=s=>{e?t.push(s):i(()=>{r(s)})},o=()=>{const s=t;t=[],s.length&&i(()=>{n(()=>{s.forEach(l=>{r(l)})})})};return{batch:s=>{let l;e++;try{l=s()}finally{e--,e||o()}return l},batchCalls:s=>(...l)=>{a(()=>{s(...l)})},schedule:a,setNotifyFunction:s=>{r=s},setBatchNotifyFunction:s=>{n=s},setScheduler:s=>{i=s}}}var ht=ED(),fa,i1,MO=(i1=class{constructor(){ue(this,fa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),qp(this.gcTime)&&Z(this,fa,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Sa?1/0:5*60*1e3))}clearGcTimeout(){$(this,fa)&&(clearTimeout($(this,fa)),Z(this,fa,void 0))}},fa=new WeakMap,i1),Ao,ha,ur,pa,Ot,fc,ma,Nr,vn,a1,PD=(a1=class extends MO{constructor(e){super();ue(this,Nr);ue(this,Ao);ue(this,ha);ue(this,ur);ue(this,pa);ue(this,Ot);ue(this,fc);ue(this,ma);Z(this,ma,!1),Z(this,fc,e.defaultOptions),this.setOptions(e.options),this.observers=[],Z(this,pa,e.client),Z(this,ur,$(this,pa).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Z(this,Ao,jD(this.options)),this.state=e.state??$(this,Ao),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=$(this,Ot))==null?void 0:e.promise}setOptions(e){this.options={...$(this,fc),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,ur).remove(this)}setData(e,r){const n=Kp(this.state.data,e,this.options);return we(this,Nr,vn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){we(this,Nr,vn).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=$(this,Ot))==null?void 0:n.promise;return(i=$(this,Ot))==null||i.cancel(e),r?r.then($t).catch($t):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,Ao))}isActive(){return this.observers.some(e=>dr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===jg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>bi(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!TO(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=$(this,Ot))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=$(this,Ot))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),$(this,ur).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||($(this,Ot)&&($(this,ma)?$(this,Ot).cancel({revert:!0}):$(this,Ot).cancelRetry()),this.scheduleGc()),$(this,ur).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||we(this,Nr,vn).call(this,{type:"invalidate"})}fetch(e,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if($(this,Ot))return $(this,Ot).continueRetry(),$(this,Ot).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Z(this,ma,!0),n.signal)})},a=()=>{const f=kO(this.options,r),g=(()=>{const m={client:$(this,pa),queryKey:this.queryKey,meta:this.meta};return i(m),m})();return Z(this,ma,!1),this.options.persister?this.options.persister(f,g,this):f(g)},s=(()=>{const f={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:$(this,pa),state:this.state,fetchFn:a};return i(f),f})();(c=this.options.behavior)==null||c.onFetch(s,this),Z(this,ha,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=s.fetchOptions)==null?void 0:u.meta))&&we(this,Nr,vn).call(this,{type:"fetch",meta:(d=s.fetchOptions)==null?void 0:d.meta});const l=f=>{var p,g,m,v;Uh(f)&&f.silent||we(this,Nr,vn).call(this,{type:"error",error:f}),Uh(f)||((g=(p=$(this,ur).config).onError)==null||g.call(p,f,this),(v=(m=$(this,ur).config).onSettled)==null||v.call(m,this.state.data,f,this)),this.scheduleGc()};return Z(this,Ot,IO({initialPromise:r==null?void 0:r.initialPromise,fn:s.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var p,g,m,v;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(b){l(b);return}(g=(p=$(this,ur).config).onSuccess)==null||g.call(p,f,this),(v=(m=$(this,ur).config).onSettled)==null||v.call(m,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,p)=>{we(this,Nr,vn).call(this,{type:"failed",failureCount:f,error:p})},onPause:()=>{we(this,Nr,vn).call(this,{type:"pause"})},onContinue:()=>{we(this,Nr,vn).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),$(this,Ot).start()}},Ao=new WeakMap,ha=new WeakMap,ur=new WeakMap,pa=new WeakMap,Ot=new WeakMap,fc=new WeakMap,ma=new WeakMap,Nr=new WeakSet,vn=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...DO(n.data,this.options),fetchMeta:e.meta??null};case"success":return Z(this,ha,void 0),{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return Uh(i)&&i.revert&&$(this,ha)?{...$(this,ha),fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),ht.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),$(this,ur).notify({query:this,type:"updated",action:e})})},a1);function DO(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:$O(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function jD(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Vr,o1,TD=(o1=class extends xs{constructor(e={}){super();ue(this,Vr);this.config=e,Z(this,Vr,new Map)}build(e,r,n){const i=r.queryKey,a=r.queryHash??Pg(i,r);let o=this.get(a);return o||(o=new PD({client:e,queryKey:i,queryHash:a,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){$(this,Vr).has(e.queryHash)||($(this,Vr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=$(this,Vr).get(e.queryHash);r&&(e.destroy(),r===e&&$(this,Vr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ht.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return $(this,Vr).get(e)}getAll(){return[...$(this,Vr).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Yb(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>Yb(e,n)):r}notify(e){ht.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){ht.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ht.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Vr=new WeakMap,o1),Gr,Ct,va,Yr,Yn,s1,CD=(s1=class extends MO{constructor(e){super();ue(this,Yr);ue(this,Gr);ue(this,Ct);ue(this,va);this.mutationId=e.mutationId,Z(this,Ct,e.mutationCache),Z(this,Gr,[]),this.state=e.state||LO(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){$(this,Gr).includes(e)||($(this,Gr).push(e),this.clearGcTimeout(),$(this,Ct).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Z(this,Gr,$(this,Gr).filter(r=>r!==e)),this.scheduleGc(),$(this,Ct).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){$(this,Gr).length||(this.state.status==="pending"?this.scheduleGc():$(this,Ct).remove(this))}continue(){var e;return((e=$(this,va))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,o,s,l,c,u,d,f,p,g,m,v,b,w,y,O,_,S,E,A;const r=()=>{we(this,Yr,Yn).call(this,{type:"continue"})};Z(this,va,IO({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(P,k)=>{we(this,Yr,Yn).call(this,{type:"failed",failureCount:P,error:k})},onPause:()=>{we(this,Yr,Yn).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,Ct).canRun(this)}));const n=this.state.status==="pending",i=!$(this,va).canStart();try{if(n)r();else{we(this,Yr,Yn).call(this,{type:"pending",variables:e,isPaused:i}),await((o=(a=$(this,Ct).config).onMutate)==null?void 0:o.call(a,e,this));const k=await((l=(s=this.options).onMutate)==null?void 0:l.call(s,e));k!==this.state.context&&we(this,Yr,Yn).call(this,{type:"pending",context:k,variables:e,isPaused:i})}const P=await $(this,va).start();return await((u=(c=$(this,Ct).config).onSuccess)==null?void 0:u.call(c,P,e,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,P,e,this.state.context)),await((g=(p=$(this,Ct).config).onSettled)==null?void 0:g.call(p,P,null,this.state.variables,this.state.context,this)),await((v=(m=this.options).onSettled)==null?void 0:v.call(m,P,null,e,this.state.context)),we(this,Yr,Yn).call(this,{type:"success",data:P}),P}catch(P){try{throw await((w=(b=$(this,Ct).config).onError)==null?void 0:w.call(b,P,e,this.state.context,this)),await((O=(y=this.options).onError)==null?void 0:O.call(y,P,e,this.state.context)),await((S=(_=$(this,Ct).config).onSettled)==null?void 0:S.call(_,void 0,P,this.state.variables,this.state.context,this)),await((A=(E=this.options).onSettled)==null?void 0:A.call(E,void 0,P,e,this.state.context)),P}finally{we(this,Yr,Yn).call(this,{type:"error",error:P})}}finally{$(this,Ct).runNext(this)}}},Gr=new WeakMap,Ct=new WeakMap,va=new WeakMap,Yr=new WeakSet,Yn=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ht.batch(()=>{$(this,Gr).forEach(n=>{n.onMutationUpdate(e)}),$(this,Ct).notify({mutation:this,type:"updated",action:e})})},s1);function LO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var bn,$r,hc,l1,kD=(l1=class extends xs{constructor(e={}){super();ue(this,bn);ue(this,$r);ue(this,hc);this.config=e,Z(this,bn,new Set),Z(this,$r,new Map),Z(this,hc,0)}build(e,r,n){const i=new CD({mutationCache:this,mutationId:++Nc(this,hc)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){$(this,bn).add(e);const r=Dc(e);if(typeof r=="string"){const n=$(this,$r).get(r);n?n.push(e):$(this,$r).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if($(this,bn).delete(e)){const r=Dc(e);if(typeof r=="string"){const n=$(this,$r).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&$(this,$r).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=Dc(e);if(typeof r=="string"){const n=$(this,$r).get(r),i=n==null?void 0:n.find(a=>a.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=Dc(e);if(typeof r=="string"){const i=(n=$(this,$r).get(r))==null?void 0:n.find(a=>a!==e&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ht.batch(()=>{$(this,bn).forEach(e=>{this.notify({type:"removed",mutation:e})}),$(this,bn).clear(),$(this,$r).clear()})}getAll(){return Array.from($(this,bn))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Xb(r,n))}findAll(e={}){return this.getAll().filter(r=>Xb(e,r))}notify(e){ht.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return ht.batch(()=>Promise.all(e.map(r=>r.continue().catch($t))))}},bn=new WeakMap,$r=new WeakMap,hc=new WeakMap,l1);function Dc(t){var e;return(e=t.options.scope)==null?void 0:e.id}function Zb(t){return{onFetch:(e,r)=>{var u,d,f,p,g;const n=e.options,i=(f=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,a=((p=e.state.data)==null?void 0:p.pages)||[],o=((g=e.state.data)==null?void 0:g.pageParams)||[];let s={pages:[],pageParams:[]},l=0;const c=async()=>{let m=!1;const v=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},b=kO(e.options,e.fetchOptions),w=async(y,O,_)=>{if(m)return Promise.reject();if(O==null&&y.pages.length)return Promise.resolve(y);const E=(()=>{const C={client:e.client,queryKey:e.queryKey,pageParam:O,direction:_?"backward":"forward",meta:e.options.meta};return v(C),C})(),A=await b(E),{maxPages:P}=e.options,k=_?xD:wD;return{pages:k(y.pages,A,P),pageParams:k(y.pageParams,O,P)}};if(i&&a.length){const y=i==="backward",O=y?ND:e0,_={pages:a,pageParams:o},S=O(n,_);s=await w(_,S,y)}else{const y=t??a.length;do{const O=l===0?o[0]??n.initialPageParam:e0(n,s);if(l>0&&O==null)break;s=await w(s,O),l++}while(l<y)}return s};e.options.persister?e.fetchFn=()=>{var m,v;return(v=(m=e.options).persister)==null?void 0:v.call(m,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=c}}}function e0(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function ND(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var et,si,li,Eo,Po,ci,jo,To,c1,$D=(c1=class{constructor(t={}){ue(this,et);ue(this,si);ue(this,li);ue(this,Eo);ue(this,Po);ue(this,ci);ue(this,jo);ue(this,To);Z(this,et,t.queryCache||new TD),Z(this,si,t.mutationCache||new kD),Z(this,li,t.defaultOptions||{}),Z(this,Eo,new Map),Z(this,Po,new Map),Z(this,ci,0)}mount(){Nc(this,ci)._++,$(this,ci)===1&&(Z(this,jo,Tg.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,et).onFocus())})),Z(this,To,Cu.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,et).onOnline())})))}unmount(){var t,e;Nc(this,ci)._--,$(this,ci)===0&&((t=$(this,jo))==null||t.call(this),Z(this,jo,void 0),(e=$(this,To))==null||e.call(this),Z(this,To,void 0))}isFetching(t){return $(this,et).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return $(this,si).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=$(this,et).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=$(this,et).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(bi(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return $(this,et).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=$(this,et).get(n.queryHash),a=i==null?void 0:i.state.data,o=yD(e,a);if(o!==void 0)return $(this,et).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return ht.batch(()=>$(this,et).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=$(this,et).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=$(this,et);ht.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=$(this,et);return ht.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=ht.batch(()=>$(this,et).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then($t).catch($t)}invalidateQueries(t,e={}){return ht.batch(()=>($(this,et).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=ht.batch(()=>$(this,et).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch($t)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then($t)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=$(this,et).build(this,e);return r.isStaleByTime(bi(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then($t).catch($t)}fetchInfiniteQuery(t){return t.behavior=Zb(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then($t).catch($t)}ensureInfiniteQueryData(t){return t.behavior=Zb(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Cu.isOnline()?$(this,si).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,et)}getMutationCache(){return $(this,si)}getDefaultOptions(){return $(this,li)}setDefaultOptions(t){Z(this,li,t)}setQueryDefaults(t,e){$(this,Eo).set(Oa(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...$(this,Eo).values()],r={};return e.forEach(n=>{wl(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){$(this,Po).set(Oa(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...$(this,Po).values()],r={};return e.forEach(n=>{wl(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...$(this,li).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Pg(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===jg&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...$(this,li).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){$(this,et).clear(),$(this,si).clear()}},et=new WeakMap,si=new WeakMap,li=new WeakMap,Eo=new WeakMap,Po=new WeakMap,ci=new WeakMap,jo=new WeakMap,To=new WeakMap,c1),Ft,Se,pc,kt,ga,Co,ui,di,mc,ko,No,ya,ba,fi,$o,Ce,Zs,Gp,Yp,Xp,Qp,Jp,Zp,em,BO,u1,RD=(u1=class extends xs{constructor(e,r){super();ue(this,Ce);ue(this,Ft);ue(this,Se);ue(this,pc);ue(this,kt);ue(this,ga);ue(this,Co);ue(this,ui);ue(this,di);ue(this,mc);ue(this,ko);ue(this,No);ue(this,ya);ue(this,ba);ue(this,fi);ue(this,$o,new Set);this.options=r,Z(this,Ft,e),Z(this,di,null),Z(this,ui,Vp()),this.options.experimental_prefetchInRender||$(this,ui).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&($(this,Se).addObserver(this),t0($(this,Se),this.options)?we(this,Ce,Zs).call(this):this.updateResult(),we(this,Ce,Qp).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return tm($(this,Se),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return tm($(this,Se),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,we(this,Ce,Jp).call(this),we(this,Ce,Zp).call(this),$(this,Se).removeObserver(this)}setOptions(e){const r=this.options,n=$(this,Se);if(this.options=$(this,Ft).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof dr(this.options.enabled,$(this,Se))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");we(this,Ce,em).call(this),$(this,Se).setOptions(this.options),r._defaulted&&!Tu(this.options,r)&&$(this,Ft).getQueryCache().notify({type:"observerOptionsUpdated",query:$(this,Se),observer:this});const i=this.hasListeners();i&&r0($(this,Se),n,this.options,r)&&we(this,Ce,Zs).call(this),this.updateResult(),i&&($(this,Se)!==n||dr(this.options.enabled,$(this,Se))!==dr(r.enabled,$(this,Se))||bi(this.options.staleTime,$(this,Se))!==bi(r.staleTime,$(this,Se)))&&we(this,Ce,Gp).call(this);const a=we(this,Ce,Yp).call(this);i&&($(this,Se)!==n||dr(this.options.enabled,$(this,Se))!==dr(r.enabled,$(this,Se))||a!==$(this,fi))&&we(this,Ce,Xp).call(this,a)}getOptimisticResult(e){const r=$(this,Ft).getQueryCache().build($(this,Ft),e),n=this.createResult(r,e);return MD(this,n)&&(Z(this,kt,n),Z(this,Co,this.options),Z(this,ga,$(this,Se).state)),n}getCurrentResult(){return $(this,kt)}trackResult(e,r){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),r==null||r(i),Reflect.get(n,i))})}trackProp(e){$(this,$o).add(e)}getCurrentQuery(){return $(this,Se)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=$(this,Ft).defaultQueryOptions(e),n=$(this,Ft).getQueryCache().build($(this,Ft),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return we(this,Ce,Zs).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),$(this,kt)))}createResult(e,r){var P;const n=$(this,Se),i=this.options,a=$(this,kt),o=$(this,ga),s=$(this,Co),c=e!==n?e.state:$(this,pc),{state:u}=e;let d={...u},f=!1,p;if(r._optimisticResults){const k=this.hasListeners(),C=!k&&t0(e,r),N=k&&r0(e,n,r,i);(C||N)&&(d={...d,...DO(u.data,e.options)}),r._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:g,errorUpdatedAt:m,status:v}=d;p=d.data;let b=!1;if(r.placeholderData!==void 0&&p===void 0&&v==="pending"){let k;a!=null&&a.isPlaceholderData&&r.placeholderData===(s==null?void 0:s.placeholderData)?(k=a.data,b=!0):k=typeof r.placeholderData=="function"?r.placeholderData((P=$(this,No))==null?void 0:P.state.data,$(this,No)):r.placeholderData,k!==void 0&&(v="success",p=Kp(a==null?void 0:a.data,k,r),f=!0)}if(r.select&&p!==void 0&&!b)if(a&&p===(o==null?void 0:o.data)&&r.select===$(this,mc))p=$(this,ko);else try{Z(this,mc,r.select),p=r.select(p),p=Kp(a==null?void 0:a.data,p,r),Z(this,ko,p),Z(this,di,null)}catch(k){Z(this,di,k)}$(this,di)&&(g=$(this,di),p=$(this,ko),m=Date.now(),v="error");const w=d.fetchStatus==="fetching",y=v==="pending",O=v==="error",_=y&&w,S=p!==void 0,A={status:v,fetchStatus:d.fetchStatus,isPending:y,isSuccess:v==="success",isError:O,isInitialLoading:_,isLoading:_,data:p,dataUpdatedAt:d.dataUpdatedAt,error:g,errorUpdatedAt:m,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:w,isRefetching:w&&!y,isLoadingError:O&&!S,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:O&&S,isStale:Cg(e,r),refetch:this.refetch,promise:$(this,ui),isEnabled:dr(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const k=D=>{A.status==="error"?D.reject(A.error):A.data!==void 0&&D.resolve(A.data)},C=()=>{const D=Z(this,ui,A.promise=Vp());k(D)},N=$(this,ui);switch(N.status){case"pending":e.queryHash===n.queryHash&&k(N);break;case"fulfilled":(A.status==="error"||A.data!==N.value)&&C();break;case"rejected":(A.status!=="error"||A.error!==N.reason)&&C();break}}return A}updateResult(){const e=$(this,kt),r=this.createResult($(this,Se),this.options);if(Z(this,ga,$(this,Se).state),Z(this,Co,this.options),$(this,ga).data!==void 0&&Z(this,No,$(this,Se)),Tu(r,e))return;Z(this,kt,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!$(this,$o).size)return!0;const o=new Set(a??$(this,$o));return this.options.throwOnError&&o.add("error"),Object.keys($(this,kt)).some(s=>{const l=s;return $(this,kt)[l]!==e[l]&&o.has(l)})};we(this,Ce,BO).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&we(this,Ce,Qp).call(this)}},Ft=new WeakMap,Se=new WeakMap,pc=new WeakMap,kt=new WeakMap,ga=new WeakMap,Co=new WeakMap,ui=new WeakMap,di=new WeakMap,mc=new WeakMap,ko=new WeakMap,No=new WeakMap,ya=new WeakMap,ba=new WeakMap,fi=new WeakMap,$o=new WeakMap,Ce=new WeakSet,Zs=function(e){we(this,Ce,em).call(this);let r=$(this,Se).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch($t)),r},Gp=function(){we(this,Ce,Jp).call(this);const e=bi(this.options.staleTime,$(this,Se));if(Sa||$(this,kt).isStale||!qp(e))return;const n=TO($(this,kt).dataUpdatedAt,e)+1;Z(this,ya,setTimeout(()=>{$(this,kt).isStale||this.updateResult()},n))},Yp=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval($(this,Se)):this.options.refetchInterval)??!1},Xp=function(e){we(this,Ce,Zp).call(this),Z(this,fi,e),!(Sa||dr(this.options.enabled,$(this,Se))===!1||!qp($(this,fi))||$(this,fi)===0)&&Z(this,ba,setInterval(()=>{(this.options.refetchIntervalInBackground||Tg.isFocused())&&we(this,Ce,Zs).call(this)},$(this,fi)))},Qp=function(){we(this,Ce,Gp).call(this),we(this,Ce,Xp).call(this,we(this,Ce,Yp).call(this))},Jp=function(){$(this,ya)&&(clearTimeout($(this,ya)),Z(this,ya,void 0))},Zp=function(){$(this,ba)&&(clearInterval($(this,ba)),Z(this,ba,void 0))},em=function(){const e=$(this,Ft).getQueryCache().build($(this,Ft),this.options);if(e===$(this,Se))return;const r=$(this,Se);Z(this,Se,e),Z(this,pc,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},BO=function(e){ht.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r($(this,kt))}),$(this,Ft).getQueryCache().notify({query:$(this,Se),type:"observerResultsUpdated"})})},u1);function ID(t,e){return dr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function t0(t,e){return ID(t,e)||t.state.data!==void 0&&tm(t,e,e.refetchOnMount)}function tm(t,e,r){if(dr(e.enabled,t)!==!1&&bi(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&Cg(t,e)}return!1}function r0(t,e,r,n){return(t!==e||dr(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&Cg(t,r)}function Cg(t,e){return dr(e.enabled,t)!==!1&&t.isStaleByTime(bi(e.staleTime,t))}function MD(t,e){return!Tu(t.getCurrentResult(),e)}var hi,pi,Ut,wn,Cn,vu,rm,d1,DD=(d1=class extends xs{constructor(r,n){super();ue(this,Cn);ue(this,hi);ue(this,pi);ue(this,Ut);ue(this,wn);Z(this,hi,r),this.setOptions(n),this.bindMethods(),we(this,Cn,vu).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=$(this,hi).defaultMutationOptions(r),Tu(this.options,n)||$(this,hi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:$(this,Ut),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Oa(n.mutationKey)!==Oa(this.options.mutationKey)?this.reset():((i=$(this,Ut))==null?void 0:i.state.status)==="pending"&&$(this,Ut).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=$(this,Ut))==null||r.removeObserver(this)}onMutationUpdate(r){we(this,Cn,vu).call(this),we(this,Cn,rm).call(this,r)}getCurrentResult(){return $(this,pi)}reset(){var r;(r=$(this,Ut))==null||r.removeObserver(this),Z(this,Ut,void 0),we(this,Cn,vu).call(this),we(this,Cn,rm).call(this)}mutate(r,n){var i;return Z(this,wn,n),(i=$(this,Ut))==null||i.removeObserver(this),Z(this,Ut,$(this,hi).getMutationCache().build($(this,hi),this.options)),$(this,Ut).addObserver(this),$(this,Ut).execute(r)}},hi=new WeakMap,pi=new WeakMap,Ut=new WeakMap,wn=new WeakMap,Cn=new WeakSet,vu=function(){var n;const r=((n=$(this,Ut))==null?void 0:n.state)??LO();Z(this,pi,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},rm=function(r){ht.batch(()=>{var n,i,a,o,s,l,c,u;if($(this,wn)&&this.hasListeners()){const d=$(this,pi).variables,f=$(this,pi).context;(r==null?void 0:r.type)==="success"?((i=(n=$(this,wn)).onSuccess)==null||i.call(n,r.data,d,f),(o=(a=$(this,wn)).onSettled)==null||o.call(a,r.data,null,d,f)):(r==null?void 0:r.type)==="error"&&((l=(s=$(this,wn)).onError)==null||l.call(s,r.error,d,f),(u=(c=$(this,wn)).onSettled)==null||u.call(c,void 0,r.error,d,f))}this.listeners.forEach(d=>{d($(this,pi))})})},d1),FO=x.createContext(void 0),_s=t=>{const e=x.useContext(FO);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},LD=({client:t,children:e})=>(x.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),h.jsx(FO.Provider,{value:t,children:e})),UO=x.createContext(!1),BD=()=>x.useContext(UO);UO.Provider;function FD(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var UD=x.createContext(FD()),WD=()=>x.useContext(UD),zD=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},qD=t=>{x.useEffect(()=>{t.clearReset()},[t])},HD=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||NO(r,[t.error,n])),KD=t=>{if(t.suspense){const e=n=>n==="static"?n:Math.max(n??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...n)=>e(r(...n)):e(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},VD=(t,e)=>t.isLoading&&t.isFetching&&!e,GD=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,n0=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function YD(t,e,r){var d,f,p,g,m;const n=BD(),i=WD(),a=_s(),o=a.defaultQueryOptions(t);(f=(d=a.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,o),o._optimisticResults=n?"isRestoring":"optimistic",KD(o),zD(o,i),qD(i);const s=!a.getQueryCache().get(o.queryHash),[l]=x.useState(()=>new e(a,o)),c=l.getOptimisticResult(o),u=!n&&t.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(v=>{const b=u?l.subscribe(ht.batchCalls(v)):$t;return l.updateResult(),b},[l,u]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),x.useEffect(()=>{l.setOptions(o)},[o,l]),GD(o,c))throw n0(o,l,i);if(HD({result:c,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;if((g=(p=a.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||g.call(p,o,c),o.experimental_prefetchInRender&&!Sa&&VD(c,n)){const v=s?n0(o,l,i):(m=a.getQueryCache().get(o.queryHash))==null?void 0:m.promise;v==null||v.catch($t).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?c:l.trackResult(c)}function Mo(t,e){return YD(t,RD)}function _n(t,e){const r=_s(),[n]=x.useState(()=>new DD(r,t));x.useEffect(()=>{n.setOptions(t)},[n,t]);const i=x.useSyncExternalStore(x.useCallback(o=>n.subscribe(ht.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=x.useCallback((o,s)=>{n.mutate(o,s).catch($t)},[n]);if(i.error&&NO(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}const XD=[{to:"/stats",label:"Statistiche",icon:CR},{to:"/macro-goals",label:"Macro Obiettivi",icon:U1}];function QD(){return h.jsx("nav",{className:"flex items-center justify-center gap-1 sm:gap-2",children:XD.map(({to:t,label:e,icon:r})=>h.jsxs(A$,{to:t,className:({isActive:n})=>J("flex items-center gap-1.5 sm:gap-2 px-2.5 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium transition-all","hover:bg-accent",n?"bg-primary text-primary-foreground hover:bg-primary/90":"text-muted-foreground"),children:[h.jsx(r,{className:"w-4 h-4"}),h.jsx("span",{className:"hidden xs:inline sm:inline",children:e})]},t))})}function JD(){return h.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[h.jsx("header",{className:"border-b border-border bg-background/80 backdrop-blur-md sticky top-0 z-50",children:h.jsxs("div",{className:"h-16 flex items-center justify-between px-4 sm:px-8 max-w-[2400px] mx-auto w-full",children:[h.jsxs(E$,{to:"/",className:"flex items-center gap-2 sm:gap-3 group",children:[h.jsx(IR,{className:"h-5 w-5 sm:h-6 sm:w-6 text-primary animate-pulse"}),h.jsx("span",{className:"font-display font-bold text-base sm:text-lg tracking-tight group-hover:text-primary transition-colors",children:"Mattioli.OS"})]}),h.jsx(QD,{})]})}),h.jsx("main",{className:"flex-1",children:h.jsx(P$,{})})]})}var kg={},ku={},nm=function(t,e){return nm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},nm(t,e)};function WO(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");nm(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var fr=function(){return fr=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},fr.apply(this,arguments)};function Ti(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function zO(t,e,r,n){var i=arguments.length,a=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}function qO(t,e){return function(r,n){e(r,n,t)}}function HO(t,e,r,n,i,a){function o(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var s=n.kind,l=s==="getter"?"get":s==="setter"?"set":"value",c=!e&&t?n.static?t:t.prototype:null,u=e||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),d,f=!1,p=r.length-1;p>=0;p--){var g={};for(var m in n)g[m]=m==="access"?{}:n[m];for(var m in n.access)g.access[m]=n.access[m];g.addInitializer=function(b){if(f)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(b||null))};var v=(0,r[p])(s==="accessor"?{get:u.get,set:u.set}:u[l],g);if(s==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(d=o(v.get))&&(u.get=d),(d=o(v.set))&&(u.set=d),(d=o(v.init))&&i.unshift(d)}else(d=o(v))&&(s==="field"?i.unshift(d):u[l]=d)}c&&Object.defineProperty(c,n.name,u),f=!0}function KO(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function VO(t){return typeof t=="symbol"?t:"".concat(t)}function GO(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function YO(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function re(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((n=n.apply(t,e||[])).next())})}function XO(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(u){c=[6,u],i=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var pf=Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function QO(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&pf(e,t,r)}function Nu(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ng(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function JO(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ng(arguments[e]));return t}function ZO(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}function $g(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}function Do(t){return this instanceof Do?(this.v=t,this):new Do(t)}function eA(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(p){return function(g){return Promise.resolve(g).then(p,d)}}function s(p,g){n[p]&&(i[p]=function(m){return new Promise(function(v,b){a.push([p,m,v,b])>1||l(p,m)})},g&&(i[p]=g(i[p])))}function l(p,g){try{c(n[p](g))}catch(m){f(a[0][3],m)}}function c(p){p.value instanceof Do?Promise.resolve(p.value.v).then(u,d):f(a[0][2],p)}function u(p){l("next",p)}function d(p){l("throw",p)}function f(p,g){p(g),a.shift(),a.length&&l(a[0][0],a[0][1])}}function tA(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,a){e[i]=t[i]?function(o){return(r=!r)?{value:Do(t[i](o)),done:!1}:a?a(o):o}:a}}function rA(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Nu=="function"?Nu(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=t[a]&&function(o){return new Promise(function(s,l){o=t[a](o),i(s,l,o.done,o.value)})}}function i(a,o,s,l){Promise.resolve(l).then(function(c){a({value:c,done:s})},o)}}function nA(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var ZD=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},im=function(t){return im=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},im(t)};function iA(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=im(t),n=0;n<r.length;n++)r[n]!=="default"&&pf(e,t,r[n]);return ZD(e,t),e}function aA(t){return t&&t.__esModule?t:{default:t}}function oA(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function sA(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function lA(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function cA(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var e2=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function uA(t){function e(a){t.error=t.hasError?new e2(a,t.error,"An error was suppressed during disposal."):a,t.hasError=!0}var r,n=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(i,function(o){return e(o),i()})}else n|=1}catch(o){e(o)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function dA(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,a,o){return n?e?".jsx":".js":i&&(!a||!o)?r:i+a+"."+o.toLowerCase()+"js"}):t}const t2={__extends:WO,__assign:fr,__rest:Ti,__decorate:zO,__param:qO,__esDecorate:HO,__runInitializers:KO,__propKey:VO,__setFunctionName:GO,__metadata:YO,__awaiter:re,__generator:XO,__createBinding:pf,__exportStar:QO,__values:Nu,__read:Ng,__spread:JO,__spreadArrays:ZO,__spreadArray:$g,__await:Do,__asyncGenerator:eA,__asyncDelegator:tA,__asyncValues:rA,__makeTemplateObject:nA,__importStar:iA,__importDefault:aA,__classPrivateFieldGet:oA,__classPrivateFieldSet:sA,__classPrivateFieldIn:lA,__addDisposableResource:cA,__disposeResources:uA,__rewriteRelativeImportExtension:dA},r2=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:cA,get __assign(){return fr},__asyncDelegator:tA,__asyncGenerator:eA,__asyncValues:rA,__await:Do,__awaiter:re,__classPrivateFieldGet:oA,__classPrivateFieldIn:lA,__classPrivateFieldSet:sA,__createBinding:pf,__decorate:zO,__disposeResources:uA,__esDecorate:HO,__exportStar:QO,__extends:WO,__generator:XO,__importDefault:aA,__importStar:iA,__makeTemplateObject:nA,__metadata:YO,__param:qO,__propKey:VO,__read:Ng,__rest:Ti,__rewriteRelativeImportExtension:dA,__runInitializers:KO,__setFunctionName:GO,__spread:JO,__spreadArray:$g,__spreadArrays:ZO,__values:Nu,default:t2},Symbol.toStringTag,{value:"Module"})),n2=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);let mf=class extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}},fA=class extends mf{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},am=class extends mf{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},om=class extends mf{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var $u;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})($u||($u={}));class i2{constructor(e,{headers:r={},customFetch:n,region:i=$u.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=n2(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return re(this,arguments,void 0,function*(r,n={}){var i;let a,o;try{const{headers:s,method:l,body:c,signal:u,timeout:d}=n;let f={},{region:p}=n;p||(p=this.region);const g=new URL(`${this.url}/${r}`);p&&p!=="any"&&(f["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let m;c&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",m=c):typeof c=="string"?(f["Content-Type"]="text/plain",m=c):typeof FormData<"u"&&c instanceof FormData?m=c:(f["Content-Type"]="application/json",m=JSON.stringify(c)):m=c;let v=u;d&&(o=new AbortController,a=setTimeout(()=>o.abort(),d),u?(v=o.signal,u.addEventListener("abort",()=>o.abort())):v=o.signal);const b=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),s),body:m,signal:v}).catch(_=>{throw new fA(_)}),w=b.headers.get("x-relay-error");if(w&&w==="true")throw new am(b);if(!b.ok)throw new om(b);let y=((i=b.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),O;return y==="application/json"?O=yield b.json():y==="application/octet-stream"||y==="application/pdf"?O=yield b.blob():y==="text/event-stream"?O=b:y==="multipart/form-data"?O=yield b.formData():O=yield b.text(),{data:O,error:null,response:b}}catch(s){return{data:null,error:s,response:s instanceof om||s instanceof am?s.context:void 0}}finally{a&&clearTimeout(a)}})}}const a2=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return $u},FunctionsClient:i2,FunctionsError:mf,FunctionsFetchError:fA,FunctionsHttpError:om,FunctionsRelayError:am},Symbol.toStringTag,{value:"Module"})),hA=vc(a2);var Pt={};const Ss=vc(r2);var Lc={},Bc={},Fc={},Uc={},Wc={},zc={},i0;function pA(){if(i0)return zc;i0=1,Object.defineProperty(zc,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return zc.default=t,zc}var a0;function mA(){if(a0)return Wc;a0=1,Object.defineProperty(Wc,"__esModule",{value:!0});const e=Ss.__importDefault(pA());let r=class{constructor(i){var a,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let s=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,u,d,f;let p=null,g=null,m=null,v=l.status,b=l.statusText;if(l.ok){if(this.method!=="HEAD"){const _=await l.text();_===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?g=_:g=JSON.parse(_))}const y=(u=this.headers.get("Prefer"))===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),O=(d=l.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");y&&O&&O.length>1&&(m=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(p={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,m=null,v=406,b="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const y=await l.text();try{p=JSON.parse(y),Array.isArray(p)&&l.status===404&&(g=[],p=null,v=200,b="OK")}catch{l.status===404&&y===""?(v=204,b="No Content"):p={message:y}}if(p&&this.isMaybeSingle&&(!((f=p==null?void 0:p.details)===null||f===void 0)&&f.includes("0 rows"))&&(p=null,v=200,b="OK"),p&&this.shouldThrowOnError)throw new e.default(p)}return{error:p,data:g,count:m,status:v,statusText:b}});return this.shouldThrowOnError||(s=s.catch(l=>{var c,u,d,f,p,g;let m="";const v=l==null?void 0:l.cause;if(v){const b=(c=v==null?void 0:v.message)!==null&&c!==void 0?c:"",w=(u=v==null?void 0:v.code)!==null&&u!==void 0?u:"";m=`${(d=l==null?void 0:l.name)!==null&&d!==void 0?d:"FetchError"}: ${l==null?void 0:l.message}`,m+=`

Caused by: ${(f=v==null?void 0:v.name)!==null&&f!==void 0?f:"Error"}: ${b}`,w&&(m+=` (${w})`),v!=null&&v.stack&&(m+=`
${v.stack}`)}else m=(p=l==null?void 0:l.stack)!==null&&p!==void 0?p:"";return{error:{message:`${(g=l==null?void 0:l.name)!==null&&g!==void 0?g:"FetchError"}: ${l==null?void 0:l.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(i,a)}returns(){return this}overrideTypes(){return this}};return Wc.default=r,Wc}var o0;function vA(){if(o0)return Uc;o0=1,Object.defineProperty(Uc,"__esModule",{value:!0});const e=Ss.__importDefault(mA());let r=class extends e.default{select(i){let a=!1;const o=(i??"*").split("").map(s=>/\s/.test(s)&&!a?"":(s==='"'&&(a=!a),s)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:s,referencedTable:l=s}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(s,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:s=o}={}){const l=typeof s>"u"?"offset":`${s}.offset`,c=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(c,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:s=!1,wal:l=!1,format:c="text"}={}){var u;const d=[i?"analyze":null,a?"verbose":null,o?"settings":null,s?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${f}"; options=${d};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return Uc.default=r,Uc}var s0;function Rg(){if(s0)return Fc;s0=1,Object.defineProperty(Fc,"__esModule",{value:!0});const e=Ss.__importDefault(vA()),r=new RegExp("[,()]");let n=class extends e.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}regexMatch(a,o){return this.url.searchParams.append(a,`match.${o}`),this}regexIMatch(a,o){return this.url.searchParams.append(a,`imatch.${o}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}isDistinct(a,o){return this.url.searchParams.append(a,`isdistinct.${o}`),this}in(a,o){const s=Array.from(new Set(o)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`in.(${s})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:s,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=s===void 0?"":`(${s})`;return this.url.searchParams.append(a,`${c}fts${u}.${o}`),this}match(a){return Object.entries(a).forEach(([o,s])=>{this.url.searchParams.append(o,`eq.${s}`)}),this}not(a,o,s){return this.url.searchParams.append(a,`not.${o}.${s}`),this}or(a,{foreignTable:o,referencedTable:s=o}={}){const l=s?`${s}.or`:"or";return this.url.searchParams.append(l,`(${a})`),this}filter(a,o,s){return this.url.searchParams.append(a,`${o}.${s}`),this}};return Fc.default=n,Fc}var l0;function gA(){if(l0)return Bc;l0=1,Object.defineProperty(Bc,"__esModule",{value:!0});const e=Ss.__importDefault(Rg());let r=class{constructor(i,{headers:a={},schema:o,fetch:s}){this.url=i,this.headers=new Headers(a),this.schema=o,this.fetch=s}select(i,a){const{head:o=!1,count:s}=a??{},l=o?"HEAD":"GET";let c=!1;const u=(i??"*").split("").map(d=>/\s/.test(d)&&!c?"":(d==='"'&&(c=!c),d)).join("");return this.url.searchParams.set("select",u),s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:o=!0}={}){var s;const l="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:s,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(d.length>0){const f=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:a}={}){var o;const s="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var a;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};return Bc.default=r,Bc}var c0;function o2(){if(c0)return Lc;c0=1,Object.defineProperty(Lc,"__esModule",{value:!0});const t=Ss,e=t.__importDefault(gA()),r=t.__importDefault(Rg());let n=class yA{constructor(a,{headers:o={},schema:s,fetch:l}={}){this.url=a,this.headers=new Headers(o),this.schemaName=s,this.fetch=l}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${a}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new yA(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:s=!1,get:l=!1,count:c}={}){var u;let d;const f=new URL(`${this.url}/rpc/${a}`);let p;s||l?(d=s?"HEAD":"GET",Object.entries(o).filter(([m,v])=>v!==void 0).map(([m,v])=>[m,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([m,v])=>{f.searchParams.append(m,v)})):(d="POST",p=o);const g=new Headers(this.headers);return c&&g.set("Prefer",`count=${c}`),new r.default({method:d,url:f,headers:g,schema:this.schemaName,body:p,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};return Lc.default=n,Lc}Object.defineProperty(Pt,"__esModule",{value:!0});Pt.PostgrestError=Pt.PostgrestBuilder=Pt.PostgrestTransformBuilder=Pt.PostgrestFilterBuilder=Pt.PostgrestQueryBuilder=Pt.PostgrestClient=void 0;const Os=Ss,bA=Os.__importDefault(o2());Pt.PostgrestClient=bA.default;const wA=Os.__importDefault(gA());Pt.PostgrestQueryBuilder=wA.default;const xA=Os.__importDefault(Rg());Pt.PostgrestFilterBuilder=xA.default;const _A=Os.__importDefault(vA());Pt.PostgrestTransformBuilder=_A.default;const SA=Os.__importDefault(mA());Pt.PostgrestBuilder=SA.default;const OA=Os.__importDefault(pA());Pt.PostgrestError=OA.default;Pt.default={PostgrestClient:bA.default,PostgrestQueryBuilder:wA.default,PostgrestFilterBuilder:xA.default,PostgrestTransformBuilder:_A.default,PostgrestBuilder:SA.default,PostgrestError:OA.default};class AA{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const s2="2.87.1",l2=`realtime-js/${s2}`,EA="1.0.0",c2="2.0.0",u0=EA,sm=1e4,u2=1e3,d2=100;var Zi;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Zi||(Zi={}));var ot;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ot||(ot={}));var Rr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Rr||(Rr={}));var lm;(function(t){t.websocket="websocket"})(lm||(lm={}));var ea;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ea||(ea={}));class f2{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,r,n){var i,a;const o=e.topic,s=(i=e.ref)!==null&&i!==void 0?i:"",l=(a=e.join_ref)!==null&&a!==void 0?a:"",c=e.payload.event,u=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},d=Object.keys(u).length===0?"":JSON.stringify(u);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+o.length+c.length+d.length,p=new ArrayBuffer(this.HEADER_LENGTH+f);let g=new DataView(p),m=0;g.setUint8(m++,this.KINDS.userBroadcastPush),g.setUint8(m++,l.length),g.setUint8(m++,s.length),g.setUint8(m++,o.length),g.setUint8(m++,c.length),g.setUint8(m++,d.length),g.setUint8(m++,r),Array.from(l,b=>g.setUint8(m++,b.charCodeAt(0))),Array.from(s,b=>g.setUint8(m++,b.charCodeAt(0))),Array.from(o,b=>g.setUint8(m++,b.charCodeAt(0))),Array.from(c,b=>g.setUint8(m++,b.charCodeAt(0))),Array.from(d,b=>g.setUint8(m++,b.charCodeAt(0)));var v=new Uint8Array(p.byteLength+n.byteLength);return v.set(new Uint8Array(p),0),v.set(new Uint8Array(n),p.byteLength),v.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,a,o,s,l]=n;return r({join_ref:i,ref:a,topic:o,event:s,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),a=r.getUint8(2),o=r.getUint8(3),s=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(e.slice(l,l+i));l=l+i;const u=n.decode(e.slice(l,l+a));l=l+a;const d=n.decode(e.slice(l,l+o));l=l+o;const f=e.slice(l,e.byteLength),p=s===this.JSON_ENCODING?JSON.parse(n.decode(f)):f,g={type:this.BROADCAST_EVENT,event:u,payload:p};return o>0&&(g.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class PA{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Fe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Fe||(Fe={}));const d0=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((a,o)=>(a[o]=h2(o,t,e,i),a),{}):{}},h2=(t,e,r,n)=>{const i=e.find(s=>s.name===t),a=i==null?void 0:i.type,o=r[t];return a&&!n.includes(a)?jA(a,o):cm(o)},jA=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return g2(e,r)}switch(t){case Fe.bool:return p2(e);case Fe.float4:case Fe.float8:case Fe.int2:case Fe.int4:case Fe.int8:case Fe.numeric:case Fe.oid:return m2(e);case Fe.json:case Fe.jsonb:return v2(e);case Fe.timestamp:return y2(e);case Fe.abstime:case Fe.date:case Fe.daterange:case Fe.int4range:case Fe.int8range:case Fe.money:case Fe.reltime:case Fe.text:case Fe.time:case Fe.timestamptz:case Fe.timetz:case Fe.tsrange:case Fe.tstzrange:return cm(e);default:return cm(e)}},cm=t=>t,p2=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},m2=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},v2=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},g2=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let a;const o=t.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(s=>jA(e,s))}return t},y2=t=>typeof t=="string"?t.replace(" ","T"):t,TA=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Wh{constructor(e,r,n={},i=sm){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var um;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(um||(um={}));let CA=class gu{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=gu.syncState(this.state,i,a,o),this.pendingDiffs.forEach(l=>{this.state=gu.syncDiff(this.state,l,a,o)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=gu.syncDiff(this.state,i,a,o),s())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const a=this.cloneDeep(e),o=this.transformState(r),s={},l={};return this.map(a,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=a[c];if(d){const f=u.map(v=>v.presence_ref),p=d.map(v=>v.presence_ref),g=u.filter(v=>p.indexOf(v.presence_ref)<0),m=d.filter(v=>f.indexOf(v.presence_ref)<0);g.length>0&&(s[c]=g),m.length>0&&(l[c]=m)}else s[c]=u}),this.syncDiff(a,{joins:s,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(s,l)=>{var c;const u=(c=e[s])!==null&&c!==void 0?c:[];if(e[s]=this.cloneDeep(l),u.length>0){const d=e[s].map(p=>p.presence_ref),f=u.filter(p=>d.indexOf(p.presence_ref)<0);e[s].unshift(...f)}n(s,u,l)}),this.map(o,(s,l)=>{let c=e[s];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[s]=c,i(s,c,l),c.length===0&&delete e[s]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var dm;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(dm||(dm={}));var po;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(po||(po={}));var Kr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Kr||(Kr={}));const b2=ot;let kA=class el{constructor(e,r={config:{}},n){var i,a;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=ot.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Wh(this,Rr.join,this.params,this.timeout),this.rejoinTimer=new PA(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ot.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ot.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Rr.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new CA(this),this.broadcastEndpointURL=TA(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==ot.closed){const{config:{broadcast:o,presence:s,private:l}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[po.PRESENCE]&&this.bindings[po.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,d={},f={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(Kr.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(Kr.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){e==null||e(Kr.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,v=(g=m==null?void 0:m.length)!==null&&g!==void 0?g:0,b=[];for(let w=0;w<v;w++){const y=m[w],{filter:{event:O,schema:_,table:S,filter:E}}=y,A=p&&p[w];if(A&&A.event===O&&el.isFilterValueEqual(A.schema,_)&&el.isFilterValueEqual(A.table,S)&&el.isFilterValueEqual(A.filter,E))b.push(Object.assign(Object.assign({},y),{id:A.id}));else{this.unsubscribe(),this.state=ot.errored,e==null||e(Kr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(Kr.SUBSCRIBED);return}}).receive("error",p=>{this.state=ot.errored,e==null||e(Kr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Kr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===ot.joined&&e===po.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const c=await s.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,s,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),c.receive("ok",()=>a("ok")),c.receive("error",()=>a("error")),c.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ot.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Rr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Wh(this,Rr.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ot.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Wh(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>d2){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,a;const o=e.toLocaleLowerCase(),{close:s,error:l,leave:c,join:u}=Rr;if(n&&[s,l,c,u].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var g,m,v;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(m=p.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(p=>p.callback(f,n)):(a=this.bindings[o])===null||a===void 0||a.filter(p=>{var g,m,v,b,w,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const O=p.id,_=(g=p.filter)===null||g===void 0?void 0:g.event;return O&&((m=r.ids)===null||m===void 0?void 0:m.includes(O))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const O=(w=(b=p==null?void 0:p.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return O==="*"||O===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:m,table:v,commit_timestamp:b,type:w,errors:y}=g;f=Object.assign(Object.assign({},{schema:m,table:v,commit_timestamp:b,eventType:w,new:{},old:{},errors:y}),this._getPayloadRecords(g))}p.callback(f,n)})}_isClosed(){return this.state===ot.closed}_isJoined(){return this.state===ot.joined}_isJoining(){return this.state===ot.joining}_isLeaving(){return this.state===ot.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&el.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Rr.close,{},e)}_onError(e){this._on(Rr.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ot.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=d0(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=d0(e.columns,e.old_record)),r}};const zh=()=>{},qc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},w2=[1e3,2e3,5e3,1e4],x2=1e4,_2=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let S2=class{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=sm,this.transport=null,this.heartbeatIntervalMs=qc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=zh,this.ref=0,this.reconnectTimer=null,this.vsn=u0,this.logger=zh,this.conn=null,this.sendBuffer=[],this.serializer=new f2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${lm.websocket}`,this.httpEndpoint=TA(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=AA.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Zi.connecting:return ea.Connecting;case Zi.open:return ea.Open;case Zi.closing:return ea.Closing;default:return ea.Closed}}isConnected(){return this.connectionState()===ea.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new kA(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:n,payload:i,ref:a}=e,o=()=>{this.encode(e,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(u2,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},qc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:o}=r,s=o?`(${o})`:"",l=a.status||"";this.log("receive",`${l} ${n} ${i} ${s}`.trim(),a),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Zi.open||this.conn.readyState===Zi.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Rr.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([_2],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const a={access_token:r,version:l2};r&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(Rr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new PA(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},qc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,a,o,s,l,c,u,d,f,p;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:sm,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:qc.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=e==null?void 0:e.heartbeatCallback)!==null&&s!==void 0?s:zh,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:u0,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:g=>w2[g-1]||x2,this.vsn){case EA:this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(g,m)=>m(JSON.stringify(g)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:(g,m)=>m(JSON.parse(g));break;case c2:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}};const O2=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:b2,get REALTIME_LISTEN_TYPES(){return po},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return dm},get REALTIME_PRESENCE_LISTEN_EVENTS(){return um},get REALTIME_SUBSCRIBE_STATES(){return Kr},RealtimeChannel:kA,RealtimeClient:S2,RealtimePresence:CA,WebSocketFactory:AA},Symbol.toStringTag,{value:"Module"})),NA=vc(O2);class bc extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ke(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class $A extends bc{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ru extends bc{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const Ig=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),A2=()=>Response,fm=t=>{if(Array.isArray(t))return t.map(r=>fm(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=fm(n)}),e},E2=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},P2=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),qh=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},j2=(t,e,r)=>re(void 0,void 0,void 0,function*(){const n=yield A2();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const a=t.status||500,o=(i==null?void 0:i.statusCode)||a+"";e(new $A(qh(i),a,o))}).catch(i=>{e(new Ru(qh(i),i))}):e(new Ru(qh(t),t))}),T2=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(E2(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function wc(t,e,r,n,i,a){return re(this,void 0,void 0,function*(){return new Promise((o,s)=>{t(r,T2(e,n,i,a)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>j2(l,s,n))})})}function xl(t,e,r,n){return re(this,void 0,void 0,function*(){return wc(t,"GET",e,r,n)})}function kr(t,e,r,n,i){return re(this,void 0,void 0,function*(){return wc(t,"POST",e,n,i,r)})}function hm(t,e,r,n,i){return re(this,void 0,void 0,function*(){return wc(t,"PUT",e,n,i,r)})}function C2(t,e,r,n){return re(this,void 0,void 0,function*(){return wc(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Mg(t,e,r,n,i){return re(this,void 0,void 0,function*(){return wc(t,"DELETE",e,n,i,r)})}class k2{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return re(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ke(e))return{data:null,error:e};throw e}})}}var RA;class N2{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[RA]="BlobDownloadBuilder",this.promise=null}asStream(){return new k2(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return re(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ke(e))return{data:null,error:e};throw e}})}}RA=Symbol.toStringTag;const $2={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},f0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class R2{constructor(e,r={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=Ig(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,i){return re(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},f0),i);let s=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),l&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(l))):(a=n,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),i!=null&&i.headers&&(s=Object.assign(Object.assign({},s),i.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),d=yield(e=="PUT"?hm:kr)(this.fetch,`${this.url}/object/${u}`,a,Object.assign({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ke(a))return{data:null,error:a};throw a}})}upload(e,r,n){return re(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return re(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),o=this._getFinalPath(a),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:f0.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield hm(this.fetch,s.toString(),l,{headers:u});return{data:{path:a,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ke(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return re(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield kr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+a.url),s=o.searchParams.get("token");if(!s)throw new bc("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:s},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}update(e,r,n){return re(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return re(this,void 0,void 0,function*(){try{return{data:yield kr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}})}copy(e,r,n){return re(this,void 0,void 0,function*(){try{return{data:{path:(yield kr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return re(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield kr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return re(this,void 0,void 0,function*(){try{const i=yield kr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=a?`?${a}`:"",s=this._getFinalPath(e),l=()=>xl(this.fetch,`${this.url}/${i}/${s}${o}`,{headers:this.headers,noResolveJson:!0});return new N2(l,this.shouldThrowOnError)}info(e){return re(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield xl(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:fm(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}exists(e){return re(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield C2(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n)&&n instanceof Ru){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const s=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${c}`)}}}remove(e){return re(this,void 0,void 0,function*(){try{return{data:yield Mg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}list(e,r,n){return re(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},$2),r),{prefix:e||""});return{data:yield kr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}})}listV2(e,r){return re(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield kr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const IA="2.87.1",MA={"X-Client-Info":`storage-js/${IA}`};class I2{constructor(e,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},MA),r),this.fetch=Ig(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return re(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield xl(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}getBucket(e){return re(this,void 0,void 0,function*(){try{return{data:yield xl(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}createBucket(e){return re(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield kr(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return re(this,void 0,void 0,function*(){try{return{data:yield hm(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}emptyBucket(e){return re(this,void 0,void 0,function*(){try{return{data:yield kr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}deleteBucket(e){return re(this,void 0,void 0,function*(){try{return{data:yield Mg(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var _l=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function M2(t,e,r){const n=new URL(e,t);if(r)for(const[i,a]of Object.entries(r))a!==void 0&&n.searchParams.set(i,a);return n.toString()}async function D2(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function L2(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:a,headers:o}){const s=M2(t.baseUrl,n,i),l=await D2(t.auth),c=await e(s,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...l,...o},body:a?JSON.stringify(a):void 0}),u=await c.text(),d=(c.headers.get("content-type")||"").includes("application/json"),f=d&&u?JSON.parse(u):u;if(!c.ok){const p=d?f:void 0,g=p==null?void 0:p.error;throw new _l((g==null?void 0:g.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:p})}return{status:c.status,headers:c.headers,data:f}}}}function Hc(t){return t.join("")}var B2=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Hc(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Hc(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Hc(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Hc(t.namespace)}`}),!0}catch(e){if(e instanceof _l&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof _l&&r.status===409)return;throw r}}};function za(t){return t.join("")}var F2=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${za(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${za(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${za(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${za(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${za(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${za(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof _l&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof _l&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},U2=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=L2({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new B2(this.client,e),this.tableOps=new F2(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class DA{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},MA),r),this.fetch=Ig(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return re(this,void 0,void 0,function*(){try{return{data:yield kr(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}listBuckets(e){return re(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield xl(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}deleteBucket(e){return re(this,void 0,void 0,function*(){try{return{data:yield Mg(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}from(e){if(!P2(e))throw new bc("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new U2({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>re(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,o){const s=a[o];return typeof s!="function"?s:(...l)=>re(this,void 0,void 0,function*(){try{return{data:yield s.apply(a,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}})}})}}const Dg={"X-Client-Info":`storage-js/${IA}`,"Content-Type":"application/json"};class Lg extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function zt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class yu extends Lg{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class LA extends Lg{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var pm;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(pm||(pm={}));const vf=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),W2=()=>Response,BA=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},z2=t=>Array.from(new Float32Array(t)),q2=(t,e)=>{if(e!==void 0&&t.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${t.float32.length}`)},h0=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),H2=(t,e,r)=>re(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const i=t.status||500,a=t;if(typeof a.json=="function")a.json().then(o=>{const s=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";e(new yu(h0(o),i,s))}).catch(()=>{const o=i+"",s=a.statusText||`HTTP ${i} error`;e(new yu(s,i,o))});else{const o=i+"",s=a.statusText||`HTTP ${i} error`;e(new yu(s,i,o))}}else e(new LA(h0(t),t))}),K2=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(BA(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function V2(t,e,r,n,i,a){return re(this,void 0,void 0,function*(){return new Promise((o,s)=>{t(r,K2(e,n,i,a)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>H2(l,s,n))})})}function Zt(t,e,r,n,i){return re(this,void 0,void 0,function*(){return V2(t,"POST",e,n,i,r)})}class FA{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Dg),r),this.fetch=vf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return re(this,void 0,void 0,function*(){try{return{data:(yield Zt(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}})}getIndex(e,r){return re(this,void 0,void 0,function*(){try{return{data:yield Zt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}})}listIndexes(e){return re(this,void 0,void 0,function*(){try{return{data:yield Zt(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return re(this,void 0,void 0,function*(){try{return{data:(yield Zt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}})}}class UA{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Dg),r),this.fetch=vf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return re(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Zt(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}})}getVectors(e){return re(this,void 0,void 0,function*(){try{return{data:yield Zt(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}})}listVectors(e){return re(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Zt(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}})}queryVectors(e){return re(this,void 0,void 0,function*(){try{return{data:yield Zt(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}})}deleteVectors(e){return re(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Zt(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}})}}class WA{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Dg),r),this.fetch=vf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return re(this,void 0,void 0,function*(){try{return{data:(yield Zt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}})}getBucket(e){return re(this,void 0,void 0,function*(){try{return{data:yield Zt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}})}listBuckets(){return re(this,arguments,void 0,function*(e={}){try{return{data:yield Zt(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return re(this,void 0,void 0,function*(){try{return{data:(yield Zt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}})}}class zA extends WA{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new qA(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return re(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return re(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return re(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return re(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class qA extends FA{constructor(e,r,n,i){super(e,r,i),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return re(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return re(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return re(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return re(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new HA(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class HA extends UA{constructor(e,r,n,i,a){super(e,r,a),this.vectorBucketName=n,this.indexName=i}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return re(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return re(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return re(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return re(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return re(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class G2 extends I2{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new R2(this.url,this.headers,e,this.fetch)}get vectors(){return new zA(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new DA(this.url+"/iceberg",this.headers,this.fetch)}}const Y2=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:DA,StorageApiError:$A,StorageClient:G2,StorageError:bc,StorageUnknownError:Ru,StorageVectorsApiError:yu,StorageVectorsClient:zA,StorageVectorsError:Lg,get StorageVectorsErrorCode(){return pm},StorageVectorsUnknownError:LA,VectorBucketApi:WA,VectorBucketScope:qA,VectorDataApi:UA,VectorIndexApi:FA,VectorIndexScope:HA,isPlainObject:BA,isStorageError:Ke,isStorageVectorsError:zt,normalizeToFloat32:z2,resolveFetch:vf,resolveResponse:W2,validateVectorDimension:q2},Symbol.toStringTag,{value:"Module"})),X2=vc(Y2);var KA={},gf={};Object.defineProperty(gf,"__esModule",{value:!0});gf.version=void 0;gf.version="2.87.1";(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_REALTIME_OPTIONS=t.DEFAULT_AUTH_OPTIONS=t.DEFAULT_DB_OPTIONS=t.DEFAULT_GLOBAL_OPTIONS=t.DEFAULT_HEADERS=void 0;const e=gf;let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",t.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${e.version}`},t.DEFAULT_GLOBAL_OPTIONS={headers:t.DEFAULT_HEADERS},t.DEFAULT_DB_OPTIONS={schema:"public"},t.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t.DEFAULT_REALTIME_OPTIONS={}})(KA);var VA={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAuth=t.resolveHeadersConstructor=t.resolveFetch=void 0;const e=i=>i?(...a)=>i(...a):(...a)=>fetch(...a);t.resolveFetch=e;const r=()=>Headers;t.resolveHeadersConstructor=r;const n=(i,a,o)=>{const s=(0,t.resolveFetch)(o),l=(0,t.resolveHeadersConstructor)();return async(c,u)=>{var d;const f=(d=await a())!==null&&d!==void 0?d:i;let p=new l(u==null?void 0:u.headers);return p.has("apikey")||p.set("apikey",i),p.has("Authorization")||p.set("Authorization",`Bearer ${f}`),s(c,Object.assign(Object.assign({},u),{headers:p}))}};t.fetchWithAuth=n})(VA);var Ci={};Object.defineProperty(Ci,"__esModule",{value:!0});Ci.isBrowser=void 0;Ci.uuid=Q2;Ci.ensureTrailingSlash=GA;Ci.applySettingDefaults=Z2;Ci.validateSupabaseUrl=eL;function Q2(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,r=t=="x"?e:e&3|8;return r.toString(16)})}function GA(t){return t.endsWith("/")?t:t+"/"}const J2=()=>typeof window<"u";Ci.isBrowser=J2;function Z2(t,e){var r,n;const{db:i,auth:a,realtime:o,global:s}=t,{db:l,auth:c,realtime:u,global:d}=e,f={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),a),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),s),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=s==null?void 0:s.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function eL(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(GA(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var yf={};const YA="2.87.1",to=30*1e3,mm=3,Hh=mm*to,tL="http://localhost:9999",rL="supabase.auth.token",nL={"X-Client-Info":`gotrue-js/${YA}`},vm="X-Supabase-Api-Version",XA={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},iL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,aL=10*60*1e3;let Lo=class extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function ae(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}let QA=class extends Lo{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}};function JA(t){return ae(t)&&t.name==="AuthApiError"}let ri=class extends Lo{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}},Bn=class extends Lo{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}},Lt=class extends Bn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function ZA(t){return ae(t)&&t.name==="AuthSessionMissingError"}let qi=class extends Bn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},tl=class extends Bn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},rl=class extends Bn{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function eE(t){return ae(t)&&t.name==="AuthImplicitGrantRedirectError"}let gm=class extends Bn{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Iu=class extends Bn{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}};function bu(t){return ae(t)&&t.name==="AuthRetryableFetchError"}let ym=class extends Bn{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}};function oL(t){return ae(t)&&t.name==="AuthWeakPasswordError"}let Mu=class extends Bn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const Du="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),p0=` 	
\r=`.split(""),sL=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<p0.length;e+=1)t[p0[e].charCodeAt(0)]=-2;for(let e=0;e<Du.length;e+=1)t[Du[e].charCodeAt(0)]=e;return t})();function m0(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Du[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Du[n]),e.queuedBits-=6}}function tE(t,e,r){const n=sL[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function v0(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{uL(o,n,r)};for(let o=0;o<t.length;o+=1)tE(t.charCodeAt(o),i,a);return e.join("")}function lL(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function cL(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}lL(n,e)}}function uL(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function mo(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)tE(t.charCodeAt(i),r,n);return new Uint8Array(e)}function dL(t){const e=[];return cL(t,r=>e.push(r)),new Uint8Array(e)}function ia(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>m0(i,r,n)),m0(null,r,n),e.join("")}function fL(t){return Math.round(Date.now()/1e3)+t}function hL(){return Symbol("auth-callback")}const wt=()=>typeof window<"u"&&typeof document<"u",Bi={tested:!1,writable:!1},rE=()=>{if(!wt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Bi.tested)return Bi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Bi.tested=!0,Bi.writable=!0}catch{Bi.tested=!0,Bi.writable=!1}return Bi.writable};function pL(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const nE=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),mL=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ro=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Fi=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},bt=async(t,e)=>{await t.removeItem(e)};class bf{constructor(){this.promise=new bf.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}bf.promiseConstructor=Promise;function Kh(t){const e=t.split(".");if(e.length!==3)throw new Mu("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!iL.test(e[n]))throw new Mu("JWT not in base64url format");return{header:JSON.parse(v0(e[0])),payload:JSON.parse(v0(e[1])),signature:mo(e[2]),raw:{header:e[0],payload:e[1]}}}async function vL(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function gL(t,e){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await t(a);if(!e(a,null,o)){n(o);return}}catch(o){if(!e(a,o)){i(o);return}}})()})}function yL(t){return("0"+t.toString(16)).substr(-2)}function bL(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,yL).join("")}async function wL(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function xL(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await wL(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qa(t,e,r=!1){const n=bL();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await ro(t,`${e}-code-verifier`,i);const a=await xL(n);return[a,n===a?"plain":"s256"]}const _L=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function SL(t){const e=t.headers.get(vm);if(!e||!e.match(_L))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function OL(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function AL(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const EL=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ha(t){if(!EL.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Vh(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function PL(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function g0(t){return JSON.parse(JSON.stringify(t))}const Hi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),jL=[502,503,504];async function y0(t){var e;if(!mL(t))throw new Iu(Hi(t),0);if(jL.includes(t.status))throw new Iu(Hi(t),t.status);let r;try{r=await t.json()}catch(a){throw new ri(Hi(a),a)}let n;const i=SL(t);if(i&&i.getTime()>=XA["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new ym(Hi(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Lt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new ym(Hi(r),t.status,r.weak_password.reasons);throw new QA(Hi(r),t.status||500,n)}const TL=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function fe(t,e,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[vm]||(a[vm]=XA["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await CL(t,e,r+s,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function CL(t,e,r,n,i,a){const o=TL(e,n,i,a);let s;try{s=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new Iu(Hi(l),0)}if(s.ok||await y0(s),n!=null&&n.noResolveJson)return s;try{return await s.json()}catch(l){await y0(l)}}function jr(t){var e;let r=null;$L(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=fL(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function b0(t){const e=jr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ni(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function kL(t){return{data:t,error:null}}function NL(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=t,o=Ti(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},l=Object.assign({},o);return{data:{properties:s,user:l},error:null}}function w0(t){return t}function $L(t){return t.access_token&&t.refresh_token&&t.expires_in}const wu=["global","local","others"];let Bg=class{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=nE(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=wu[0]){if(wu.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${wu.join(", ")}`);try{return await fe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ni})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Ti(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:NL,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ae(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await fe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ni})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,a,o,s,l;try{const c={nextPage:null,lastPage:0,total:0},u=await fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:w0});if(u.error)throw u.error;const d=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(s=u.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);c[`${v}Page`]=m}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(ae(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Ha(e);try{return await fe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ni})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Ha(e);try{return await fe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:ni})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Ha(e);try{return await fe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:ni})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Ha(e.userId);try{const{data:r,error:n}=await fe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Ha(e.userId),Ha(e.id);try{return{data:await fe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,a,o,s,l;try{const c={nextPage:null,lastPage:0,total:0},u=await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:w0});if(u.error)throw u.error;const d=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(s=u.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);c[`${v}Page`]=m}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(ae(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await fe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await fe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}};function x0(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Ki={debug:!!(globalThis&&rE()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Fg extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let iE=class extends Fg{};class RL extends Fg{}async function aE(t,e,r){Ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Ki.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{Ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new iE(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ki.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const _0={};async function IL(t,e,r){var n;const i=(n=_0[t])!==null&&n!==void 0?n:Promise.resolve(),a=Promise.race([i.catch(()=>null),e>=0?new Promise((o,s)=>{setTimeout(()=>{s(new RL(`Acquring process lock with name "${t}" timed out`))},e)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await r());return _0[t]=a.catch(async o=>{if(o&&o.isAcquireTimeout)return await i,null;throw o}),await a}function ML(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function oE(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function DL(t){return parseInt(t,16)}function LL(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function BL(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:s,requestId:l,resources:c,scheme:u,uri:d,version:f}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=oE(t.address),g=u?`${u}://${n}`:n,m=t.statement?`${t.statement}
`:"",v=`${g} wants you to sign in with your Ethereum account:
${p}

${m}`;let b=`URI: ${d}
Version: ${f}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(b+=`
Expiration Time: ${i.toISOString()}`),s&&(b+=`
Not Before: ${s.toISOString()}`),l&&(b+=`
Request ID: ${l}`),c){let w=`
Resources:`;for(const y of c){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);w+=`
- ${y}`}b+=w}return`${v}
${b}`}class lt extends Error{constructor({message:e,code:r,cause:n,name:i}){var a;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class Lu extends lt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function FL({error:t,options:e}){var r,n,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new lt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new lt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new lt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new lt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new lt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new lt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new lt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new lt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(sE(o)){if(a.rp.id!==o)return new lt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new lt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new lt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new lt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new lt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function UL({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new lt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new lt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(sE(n)){if(r.rpId!==n)return new lt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new lt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new lt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new lt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class WL{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const zL=new WL;function qL(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=Ti(t,["challenge","user","excludeCredentials"]),a=mo(e).buffer,o=Object.assign(Object.assign({},r),{id:mo(r.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:a,user:o});if(n&&n.length>0){s.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];s.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:mo(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return s}function HL(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Ti(t,["challenge","allowCredentials"]),i=mo(e).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const s=r[o];a.allowCredentials[o]=Object.assign(Object.assign({},s),{id:mo(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return a}function KL(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:ia(new Uint8Array(t.response.attestationObject)),clientDataJSON:ia(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function VL(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ia(new Uint8Array(i.authenticatorData)),clientDataJSON:ia(new Uint8Array(i.clientDataJSON)),signature:ia(new Uint8Array(i.signature)),userHandle:i.userHandle?ia(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function sE(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function S0(){var t,e;return!!(wt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function GL(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Lu("Browser returned unexpected credential type",e)}:{data:null,error:new Lu("Empty credential response",e)}}catch(e){return{data:null,error:FL({error:e,options:t})}}}async function YL(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Lu("Browser returned unexpected credential type",e)}:{data:null,error:new Lu("Empty credential response",e)}}catch(e){return{data:null,error:UL({error:e,options:t})}}}const XL={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},QL={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Bu(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))n[a]=o;else if(r(o))n[a]=o;else if(e(o)){const s=n[a];e(s)?n[a]=Bu(s,o):n[a]=Bu(o)}else n[a]=o}return n}function JL(t,e){return Bu(XL,t,e||{})}function ZL(t,e){return Bu(QL,t,e||{})}class eB{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},a){try{const{data:o,error:s}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:s};const l=i??zL.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=JL(o.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:u,error:d}=await GL({publicKey:c,signal:l});return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}case"request":{const c=ZL(o.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:u,error:d}=await YL(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}}}catch(o){return ae(o)?{data:null,error:o}:{data:null,error:new ri("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new Lo("rpId is required for WebAuthn authentication")};try{if(!S0())return{data:null,error:new ri("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!o)return{data:null,error:s};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return ae(o)?{data:null,error:o}:{data:null,error:new ri("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new Lo("rpId is required for WebAuthn registration")};try{if(!S0())return{data:null,error:new ri("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(u=>{var d;return(d=u.data)===null||d===void 0?void 0:d.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:s};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return ae(o)?{data:null,error:o}:{data:null,error:new ri("Unexpected error in register",o)}}}}ML();const tB={url:tL,storageKey:rL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:nL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function O0(t,e,r){return await r()}const Ka={};let Ug=class bm{get jwks(){var e,r;return(r=(e=Ka[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Ka[this.storageKey]=Object.assign(Object.assign({},Ka[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Ka[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ka[this.storageKey]=Object.assign(Object.assign({},Ka[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},tB),e);if(this.storageKey=a.storageKey,this.instanceID=(r=bm.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,bm.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&wt()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Bg({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=nE(a.fetch),this.lock=a.lock||O0,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:this.persistSession&&wt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=aE:this.lock=O0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new eB(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:rE()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=x0(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=x0(this.memoryStorage)),wt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${YA}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(wt()&&(r=pL(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),wt()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),eE(a)){const l=(e=a.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ae(r)?this._returnResult({error:r}):this._returnResult({error:new ri("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const a=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:jr}),{data:o,error:s}=a;if(s||!o)return this._returnResult({data:{user:null,session:null},error:s});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(a){if(ae(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var r,n,i;try{let a;if("email"in e){const{email:u,password:d,options:f}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await qa(this.storage,this.storageKey)),a=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:g},xform:jr})}else if("phone"in e){const{phone:u,password:d,options:f}=e;a=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:jr})}else throw new tl("You must provide either an email or phone number and a password");const{data:o,error:s}=a;if(s||!o)return await bt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(a){if(await bt(this.storage,`${this.storageKey}-code-verifier`),ae(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:o,options:s}=e;r=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:b0})}else if("phone"in e){const{phone:a,password:o,options:s}=e;r=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:b0})}else throw new tl("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new qi;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,a,o,s,l,c,u,d,f;let p,g;if("message"in e)p=e.message,g=e.signature;else{const{chain:m,wallet:v,statement:b,options:w}=e;let y;if(wt())if(typeof v=="object")y=v;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")y=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=v}const O=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href),_=await y.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=oE(_[0]);let E=(n=w==null?void 0:w.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const P=await y.request({method:"eth_chainId"});E=DL(P)}const A={domain:O.host,address:S,statement:b,uri:O.href,version:"1",chainId:E,nonce:(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=w==null?void 0:w.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.resources};p=BL(A),g=await y.request({method:"personal_sign",params:[LL(p),S]})}try{const{data:m,error:v}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:jr});if(v)throw v;if(!m||!m.session||!m.user){const b=new qi;return this._returnResult({data:{user:null,session:null},error:b})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:v})}catch(m){if(ae(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(e){var r,n,i,a,o,s,l,c,u,d,f,p;let g,m;if("message"in e)g=e.message,m=e.signature;else{const{chain:v,wallet:b,statement:w,options:y}=e;let O;if(wt())if(typeof b=="object")O=b;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))O=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=b}const _=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in O&&O.signIn){const S=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),w?{statement:w}:null));let E;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")E=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)E=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)g=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),m=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${_.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(i=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((s=y==null?void 0:y.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((d=(u=y==null?void 0:y.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...y.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const S=await O.signMessage(new TextEncoder().encode(g),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=S}}try{const{data:v,error:b}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:ia(m)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:jr});if(b)throw b;if(!v||!v.session||!v.user){const w=new qi;return this._returnResult({data:{user:null,session:null},error:w})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:b})}catch(v){if(ae(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(e){const r=await Fi(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:o}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:jr});if(await bt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const s=new qi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(await bt(this.storage,`${this.storageKey}-code-verifier`),ae(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:a,nonce:o}=e,s=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:jr}),{data:l,error:c}=s;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new qi;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,a,o;try{if("email"in e){const{email:s,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await qa(this.storage,this.storageKey));const{error:d}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in e){const{phone:s,options:l}=e,{data:c,error:u}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u})}throw new tl("You must provide either an email or phone number.")}catch(s){if(await bt(this.storage,`${this.storageKey}-code-verifier`),ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(e){var r,n;try{let i,a;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:s}=await fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:jr});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(ae(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,a,o;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await qa(this.storage,this.storageKey));const c=await fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:kL});return!((a=c.data)===null||a===void 0)&&a.url&&wt()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(s){if(await bt(this.storage,`${this.storageKey}-code-verifier`),ae(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Lt;const{error:i}=await fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(ae(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:a}=e,{error:o}=await fe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:i,options:a}=e,{data:o,error:s}=await fe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s})}throw new tl("You must provide either an email or phone number and a type")}catch(r){if(ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Fi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Hh:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Fi(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Vh()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=PL(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ni}):await this._useSession(async r=>{var n,i,a;const{data:o,error:s}=r;if(s)throw s;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Lt}:await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:ni})})}catch(r){if(ae(r))return ZA(r)&&(await this._removeSession(),await bt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Lt;const o=i.session;let s=null,l=null;this.flowType==="pkce"&&e.email!=null&&([s,l]=await qa(this.storage,this.storageKey));const{data:c,error:u}=await fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:l}),jwt:o.access_token,xform:ni});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await bt(this.storage,`${this.storageKey}-code-verifier`),ae(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Lt;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:o}=Kh(e.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{data:s,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};a=s}else{const{data:s,error:l}=await this._getUser(e.access_token);if(l)throw l;a={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(ae(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:s}=r;if(s)throw s;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Lt;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!wt())throw new rl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new rl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new gm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new rl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new gm("No code detected.");const{data:w,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:s,expires_at:l,token_type:c}=e;if(!a||!s||!o||!c)throw new rl("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(s);let f=u+d;l&&(f=parseInt(l));const p=f-u;p*1e3<=to&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const g=f-d;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,u);const{data:m,error:v}=await this._getUser(a);if(v)throw v;const b={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:d,expires_at:f,refresh_token:o,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:e.type},error:null})}catch(n){if(ae(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Fi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({error:a});const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:s}=await this.admin.signOut(o,e);if(s&&!(JA(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return e!=="others"&&(await this._removeSession(),await bt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=hL(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await qa(this.storage,this.storageKey,!0));try{return await fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await bt(this.storage,`${this.storageKey}-code-verifier`),ae(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var o,s,l,c,u;const{data:d,error:f}=a;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await fe(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return wt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(ae(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:o,provider:s,token:l,access_token:c,nonce:u}=e,d=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:s,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:jr}),{data:f,error:p}=d;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new qi}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(i){if(await bt(this.storage,`${this.storageKey}-code-verifier`),ae(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)throw o;return await fe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await gL(async i=>(i>0&&await vL(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:jr})),(i,a)=>{const o=200*Math.pow(2,i);return a&&bu(a)&&Date.now()+o-n<to})}catch(n){if(this._debug(r,"error",n),ae(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),wt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Fi(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Fi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await ro(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Vh()}else if(i&&!i.user&&!i.user){const o=await Fi(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await bt(this.storage,this.storageKey+"-user"),await ro(this.storage,this.storageKey,i)):i.user=Vh()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Hh;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Hh}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),bu(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(i.access_token);!s&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Lt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new bf;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new Lt;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const s={data:a.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(i,"error",a),ae(a)){const o={data:null,error:a};return bu(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,r)}catch(l){a.push(l)}});if(await Promise.all(o),a.length>0){for(let s=0;s<a.length;s+=1)console.error(a[s]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await bt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ro(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=g0(i);await ro(this.storage,this.storageKey,a)}else{const i=g0(r);await ro(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await bt(this.storage,this.storageKey),await bt(this.storage,this.storageKey+"-code-verifier"),await bt(this.storage,this.storageKey+"-user"),this.userStorage&&await bt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&wt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),to);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/to);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${to}ms, refresh threshold is ${mm} ticks`),i<=mm&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Fg)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!wt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await qa(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(s.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await fe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await fe(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?KL(e.webauthn.credential_response):VL(e.webauthn.credential_response)})}:{code:e.code}),{data:s,error:l}=await fe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=await fe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:s}=o;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:qL(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:HL(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Kh(n.access_token);let o=null;a.aal&&(o=a.aal);let s=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(s="aal2");const c=a.amr||[];return{data:{currentLevel:o,nextLevel:s,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await fe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Lt})})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Lt});const o=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&wt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Lt});const o=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&wt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await fe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Lt})})}catch(e){if(ae(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await fe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Lt})})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(s=>s.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(s=>s.kid===e),n&&this.jwks_cached_at+aL>i)return n;const{data:a,error:o}=await fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(s=>s.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:p,error:g}=await this.getSession();if(g||!p.session)return this._returnResult({data:null,error:g});n=p.session.access_token}const{header:i,payload:a,signature:o,raw:{header:s,payload:l}}=Kh(n);r!=null&&r.allowExpired||OL(a.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:a,header:i,signature:o},error:null}}const u=AL(i.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,dL(`${s}.${l}`)))throw new Mu("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}};Ug.nextInstanceID={};const rB=Bg,nB=Ug,iB=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:rB,AuthApiError:QA,AuthClient:nB,AuthError:Lo,AuthImplicitGrantRedirectError:rl,AuthInvalidCredentialsError:tl,AuthInvalidJwtError:Mu,AuthInvalidTokenResponseError:qi,AuthPKCEGrantCodeExchangeError:gm,AuthRetryableFetchError:Iu,AuthSessionMissingError:Lt,AuthUnknownError:ri,AuthWeakPasswordError:ym,CustomAuthError:Bn,GoTrueAdminApi:Bg,GoTrueClient:Ug,NavigatorLockAcquireTimeoutError:iE,SIGN_OUT_SCOPES:wu,isAuthApiError:JA,isAuthError:ae,isAuthImplicitGrantRedirectError:eE,isAuthRetryableFetchError:bu,isAuthSessionMissingError:ZA,isAuthWeakPasswordError:oL,lockInternals:Ki,navigatorLock:aE,processLock:IL},Symbol.toStringTag,{value:"Module"})),lE=vc(iB);Object.defineProperty(yf,"__esModule",{value:!0});yf.SupabaseAuthClient=void 0;const aB=lE;class oB extends aB.AuthClient{constructor(e){super(e)}}yf.SupabaseAuthClient=oB;Object.defineProperty(ku,"__esModule",{value:!0});const sB=hA,lB=Pt,cB=NA,uB=X2,Kc=KA,dB=VA,A0=Ci,fB=yf;let hB=class{constructor(e,r,n){var i,a,o;this.supabaseUrl=e,this.supabaseKey=r;const s=(0,A0.validateSupabaseUrl)(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,c={db:Kc.DEFAULT_DB_OPTIONS,realtime:Kc.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},Kc.DEFAULT_AUTH_OPTIONS),{storageKey:l}),global:Kc.DEFAULT_GLOBAL_OPTIONS},u=(0,A0.applySettingDefaults)(n??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=u.global.headers)!==null&&a!==void 0?a:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=(0,dB.fetchWithAuth)(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new lB.PostgrestClient(new URL("rest/v1",s).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new uB.StorageClient(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new sB.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:o,flowType:s,lock:l,debug:c,throwOnError:u},d,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new fB.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),d),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:s,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new cB.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};ku.default=hB;(function(t){var e=Xr&&Xr.__createBinding||(Object.create?function(u,d,f,p){p===void 0&&(p=f);var g=Object.getOwnPropertyDescriptor(d,f);(!g||("get"in g?!d.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return d[f]}}),Object.defineProperty(u,p,g)}:function(u,d,f,p){p===void 0&&(p=f),u[p]=d[f]}),r=Xr&&Xr.__exportStar||function(u,d){for(var f in u)f!=="default"&&!Object.prototype.hasOwnProperty.call(d,f)&&e(d,u,f)},n=Xr&&Xr.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.SupabaseClient=t.FunctionRegion=t.FunctionsError=t.FunctionsRelayError=t.FunctionsFetchError=t.FunctionsHttpError=t.PostgrestError=void 0;const i=n(ku);r(lE,t);var a=Pt;Object.defineProperty(t,"PostgrestError",{enumerable:!0,get:function(){return a.PostgrestError}});var o=hA;Object.defineProperty(t,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(t,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(t,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(t,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(t,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),r(NA,t);var s=ku;Object.defineProperty(t,"SupabaseClient",{enumerable:!0,get:function(){return n(s).default}});const l=(u,d,f)=>new i.default(u,d,f);t.createClient=l;function c(){if(typeof window<"u"||typeof process>"u")return!1;const u=process.version;if(u==null)return!1;const d=u.match(/^v(\d+)\./);return d?parseInt(d[1],10)<=18:!1}c()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(kg);const cE=ke(kg),pB=$$({__proto__:null,default:cE},[kg]),{PostgrestError:Yhe,FunctionsHttpError:Xhe,FunctionsFetchError:Qhe,FunctionsRelayError:Jhe,FunctionsError:Zhe,FunctionRegion:epe,SupabaseClient:tpe,createClient:mB,GoTrueAdminApi:rpe,GoTrueClient:npe,AuthAdminApi:ipe,AuthClient:ape,navigatorLock:ope,NavigatorLockAcquireTimeoutError:spe,lockInternals:lpe,processLock:cpe,SIGN_OUT_SCOPES:upe,AuthError:dpe,AuthApiError:fpe,AuthUnknownError:hpe,CustomAuthError:ppe,AuthSessionMissingError:mpe,AuthInvalidTokenResponseError:vpe,AuthInvalidCredentialsError:gpe,AuthImplicitGrantRedirectError:ype,AuthPKCEGrantCodeExchangeError:bpe,AuthRetryableFetchError:wpe,AuthWeakPasswordError:xpe,AuthInvalidJwtError:_pe,isAuthError:Spe,isAuthApiError:Ope,isAuthSessionMissingError:Ape,isAuthImplicitGrantRedirectError:Epe,isAuthRetryableFetchError:Ppe,isAuthWeakPasswordError:jpe,RealtimePresence:Tpe,RealtimeChannel:Cpe,RealtimeClient:kpe,REALTIME_LISTEN_TYPES:Npe,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:$pe,REALTIME_PRESENCE_LISTEN_EVENTS:Rpe,REALTIME_SUBSCRIBE_STATES:Ipe,REALTIME_CHANNEL_STATES:Mpe}=cE||pB;console.error("Missing VITE_SUPABASE_URL or VITE_SUPABASE_ANON/VITE_SUPABASE_PUBLISHABLE_KEY in environment variables.");const vB="https://placeholder.supabase.co",gB="placeholder-key",be=mB(vB,gB,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}});function Me(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ln(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Fu(t,e){const r=Me(t);return isNaN(e)?ln(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function uE(t,e){const r=Me(t);if(isNaN(e))return ln(t,NaN);if(!e)return r;const n=r.getDate(),i=ln(t,r.getTime());i.setMonth(r.getMonth()+e+1,0);const a=i.getDate();return n>=a?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}const Wg=6048e5,yB=864e5;let bB={};function wf(){return bB}function gr(t,e){var s,l,c,u;const r=wf(),n=(e==null?void 0:e.weekStartsOn)??((l=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((u=(c=r.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=Me(t),a=i.getDay(),o=(a<n?7:0)+a-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Uu(t){return gr(t,{weekStartsOn:1})}function dE(t){const e=Me(t),r=e.getFullYear(),n=ln(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=Uu(n),a=ln(t,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=Uu(a);return e.getTime()>=i.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function Qr(t){const e=Me(t);return e.setHours(0,0,0,0),e}function Wu(t){const e=Me(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function zg(t,e){const r=Qr(t),n=Qr(e),i=+r-Wu(r),a=+n-Wu(n);return Math.round((i-a)/yB)}function wB(t){const e=dE(t),r=ln(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),Uu(r)}function xB(t,e){const r=e*7;return Fu(t,r)}function _B(t,e){return uE(t,e*12)}function E0(t,e){const r=Qr(t),n=Qr(e);return+r==+n}function SB(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function OB(t){if(!SB(t)&&typeof t!="number")return!1;const e=Me(t);return!isNaN(Number(e))}function AB(t){const e=Me(t);return Math.trunc(e.getMonth()/3)+1}function EB(t,e,r){const n=gr(t,r),i=gr(e,r),a=+n-Wu(n),o=+i-Wu(i);return Math.round((a-o)/Wg)}function PB(t,e){const r=Me(t),n=Me(e),i=P0(r,n),a=Math.abs(zg(r,n));r.setDate(r.getDate()-i*a);const o=+(P0(r,n)===-i),s=i*(a-o);return s===0?0:s}function P0(t,e){const r=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return r<0?-1:r>0?1:r}function io(t,e){const r=Me(t.start),n=Me(t.end);let i=+r>+n;const a=i?+r:+n,o=i?n:r;o.setHours(0,0,0,0);let s=1;const l=[];for(;+o<=a;)l.push(Me(o)),o.setDate(o.getDate()+s),o.setHours(0,0,0,0);return i?l.reverse():l}function qg(t){const e=Me(t);return e.setDate(1),e.setHours(0,0,0,0),e}function fE(t){const e=Me(t),r=ln(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}function jB(t,e){const r=e==null?void 0:e.weekStartsOn,n=Me(t),i=n.getDay(),a=(i<r?-7:0)+6-(i-r);return n.setDate(n.getDate()+a),n.setHours(23,59,59,999),n}const TB={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},CB=(t,e,r)=>{let n;const i=TB[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function vo(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const kB={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},NB={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$B={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},RB={date:vo({formats:kB,defaultWidth:"full"}),time:vo({formats:NB,defaultWidth:"full"}),dateTime:vo({formats:$B,defaultWidth:"full"})},IB={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},MB=(t,e,r,n)=>IB[t];function Jr(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,s=r!=null&&r.width?String(r.width):o;i=t.formattingValues[s]||t.formattingValues[o]}else{const o=t.defaultWidth,s=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[s]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const DB={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},LB={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},BB={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},FB={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},UB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},WB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},zB=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},qB={ordinalNumber:zB,era:Jr({values:DB,defaultWidth:"wide"}),quarter:Jr({values:LB,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Jr({values:BB,defaultWidth:"wide"}),day:Jr({values:FB,defaultWidth:"wide"}),dayPeriod:Jr({values:UB,defaultWidth:"wide",formattingValues:WB,defaultFormattingWidth:"wide"})};function Zr(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const o=a[0],s=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(s)?KB(s,d=>d.test(o)):HB(s,d=>d.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;const u=e.slice(o.length);return{value:c,rest:u}}}function HB(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function KB(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function hE(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const s=e.slice(i.length);return{value:o,rest:s}}}const VB=/^(\d+)(th|st|nd|rd)?/i,GB=/\d+/i,YB={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},XB={any:[/^b/i,/^(a|c)/i]},QB={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},JB={any:[/1/i,/2/i,/3/i,/4/i]},ZB={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},e5={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},t5={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},r5={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},n5={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},i5={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},a5={ordinalNumber:hE({matchPattern:VB,parsePattern:GB,valueCallback:t=>parseInt(t,10)}),era:Zr({matchPatterns:YB,defaultMatchWidth:"wide",parsePatterns:XB,defaultParseWidth:"any"}),quarter:Zr({matchPatterns:QB,defaultMatchWidth:"wide",parsePatterns:JB,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Zr({matchPatterns:ZB,defaultMatchWidth:"wide",parsePatterns:e5,defaultParseWidth:"any"}),day:Zr({matchPatterns:t5,defaultMatchWidth:"wide",parsePatterns:r5,defaultParseWidth:"any"}),dayPeriod:Zr({matchPatterns:n5,defaultMatchWidth:"any",parsePatterns:i5,defaultParseWidth:"any"})},o5={code:"en-US",formatDistance:CB,formatLong:RB,formatRelative:MB,localize:qB,match:a5,options:{weekStartsOn:0,firstWeekContainsDate:1}};function s5(t){const e=Me(t);return zg(e,fE(e))+1}function l5(t){const e=Me(t),r=+Uu(e)-+wB(e);return Math.round(r/Wg)+1}function pE(t,e){var u,d,f,p;const r=Me(t),n=r.getFullYear(),i=wf(),a=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(f=i.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,o=ln(t,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const s=gr(o,e),l=ln(t,0);l.setFullYear(n,0,a),l.setHours(0,0,0,0);const c=gr(l,e);return r.getTime()>=s.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function c5(t,e){var s,l,c,u;const r=wf(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(c=r.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,i=pE(t,e),a=ln(t,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),gr(a,e)}function u5(t,e){const r=Me(t),n=+gr(r,e)-+c5(r,e);return Math.round(n/Wg)+1}function Ne(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Gn={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Ne(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Ne(r+1,2)},d(t,e){return Ne(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Ne(t.getHours()%12||12,e.length)},H(t,e){return Ne(t.getHours(),e.length)},m(t,e){return Ne(t.getMinutes(),e.length)},s(t,e){return Ne(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Ne(i,e.length)}},Va={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},j0={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Gn.y(t,e)},Y:function(t,e,r,n){const i=pE(t,n),a=i>0?i:1-i;if(e==="YY"){const o=a%100;return Ne(o,2)}return e==="Yo"?r.ordinalNumber(a,{unit:"year"}):Ne(a,e.length)},R:function(t,e){const r=dE(t);return Ne(r,e.length)},u:function(t,e){const r=t.getFullYear();return Ne(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Ne(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Ne(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Gn.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Ne(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=u5(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):Ne(i,e.length)},I:function(t,e,r){const n=l5(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Ne(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Gn.d(t,e)},D:function(t,e,r){const n=s5(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ne(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Ne(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Ne(a,e.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return Ne(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=Va.noon:n===0?i=Va.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=Va.evening:n>=12?i=Va.afternoon:n>=4?i=Va.morning:i=Va.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Gn.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Gn.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ne(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ne(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Gn.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Gn.s(t,e)},S:function(t,e){return Gn.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return C0(n);case"XXXX":case"XX":return Vi(n);case"XXXXX":case"XXX":default:return Vi(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return C0(n);case"xxxx":case"xx":return Vi(n);case"xxxxx":case"xxx":default:return Vi(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+T0(n,":");case"OOOO":default:return"GMT"+Vi(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+T0(n,":");case"zzzz":default:return"GMT"+Vi(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return Ne(n,e.length)},T:function(t,e,r){const n=t.getTime();return Ne(n,e.length)}};function T0(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+e+Ne(a,2)}function C0(t,e){return t%60===0?(t>0?"-":"+")+Ne(Math.abs(t)/60,2):Vi(t,e)}function Vi(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Ne(Math.trunc(n/60),2),a=Ne(n%60,2);return r+i+e+a}const k0=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},mE=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},d5=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return k0(t,e);let a;switch(n){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",k0(n,e)).replace("{{time}}",mE(i,e))},f5={p:mE,P:d5},h5=/^D+$/,p5=/^Y+$/,m5=["D","DD","YY","YYYY"];function v5(t){return h5.test(t)}function g5(t){return p5.test(t)}function y5(t,e,r){const n=b5(t,e,r);if(console.warn(n),m5.includes(t))throw new RangeError(n)}function b5(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const w5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,x5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_5=/^'([^]*?)'?$/,S5=/''/g,O5=/[a-zA-Z]/;function Je(t,e,r){var u,d,f,p,g,m,v,b;const n=wf(),i=(r==null?void 0:r.locale)??n.locale??o5,a=(r==null?void 0:r.firstWeekContainsDate)??((d=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((m=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((b=(v=n.locale)==null?void 0:v.options)==null?void 0:b.weekStartsOn)??0,s=Me(t);if(!OB(s))throw new RangeError("Invalid time value");let l=e.match(x5).map(w=>{const y=w[0];if(y==="p"||y==="P"){const O=f5[y];return O(w,i.formatLong)}return w}).join("").match(w5).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const y=w[0];if(y==="'")return{isToken:!1,value:A5(w)};if(j0[y])return{isToken:!0,value:w};if(y.match(O5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:w}});i.localize.preprocessor&&(l=i.localize.preprocessor(s,l));const c={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return l.map(w=>{if(!w.isToken)return w.value;const y=w.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&g5(y)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&v5(y))&&y5(y,e,String(t));const O=j0[y[0]];return O(s,y,i.localize,c)}).join("")}function A5(t){const e=t.match(_5);return e?e[1].replace(S5,"'"):t}function E5(t){return Me(t).getDate()}function P5(t){return Me(t).getDay()}function j5(t,e){const r=e==null?void 0:e.weekStartsOn,n=E5(t);if(isNaN(n))return NaN;const i=P5(qg(t));let a=r-i;a<=0&&(a+=7);const o=n-a;return Math.ceil(o/7)+1}function T5(t){const e=Me(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(0,0,0,0),e}function C5(t,e){return EB(T5(t),qg(t),e)+1}function ao(t,e){const r=Me(t),n=Me(e);return r.getTime()>n.getTime()}function ta(t,e){const r=Me(t),n=Me(e);return+r<+n}function N0(t,e,r){const n=gr(t,r),i=gr(e,r);return+n==+i}function Yt(t,e){return Fu(t,-e)}function k5(t,e){return uE(t,-e)}function N5(t,e){return xB(t,-e)}function $5(t,e){return _B(t,-e)}function Gi(t=new Date){return Je(t,"yyyy-MM-dd")}function R5(t,e,r){return!(t<e||r&&t>r)}function vE(){const t=_s(),{data:e,isLoading:r}=Mo({queryKey:["goals"],queryFn:async()=>{const{data:f,error:p}=await be.from("goals").select("*").order("created_at",{ascending:!0});if(p)throw Ze.error("Errore caricamento obiettivi"),p;return f}}),{data:n,isLoading:i}=Mo({queryKey:["goal_logs"],queryFn:async()=>{let f=[],p=0;const g=1e3;let m=!0;for(;m;){const{data:v,error:b}=await be.from("goal_logs").select("*").range(p,p+g-1);if(b)throw console.error(b),b;v&&v.length>0?(f=[...f,...v],v.length<g?m=!1:p+=g):m=!1}return f}}),a={};n&&n.forEach(f=>{a[f.date]||(a[f.date]={}),a[f.date][f.goal_id]=f.status});const o=_n({mutationFn:async f=>{const{data:{session:p}}=await be.auth.getSession();if(!p)throw new Error("Non sei autenticato. Effettua il login.");const{data:g,error:m}=await be.from("goals").insert([{title:f.title,color:f.color,start_date:f.start_date||Gi(new Date),user_id:p.user.id}]).select().single();if(m)throw m;return g},onSuccess:()=>{t.invalidateQueries({queryKey:["goals"]}),Ze.success("Obiettivo creato")},onError:f=>{Ze.error("Errore creazione: "+f.message)}}),s=async f=>{const p=new Date;p.setDate(p.getDate()-1),await be.from("goals").update({end_date:Gi(p)}).eq("id",f)},l=_n({mutationFn:async f=>{const{count:p,error:g}=await be.from("goal_logs").select("*",{count:"exact",head:!0}).eq("goal_id",f);if(g)throw g;if(p&&p>0)await s(f);else try{const{error:m}=await be.from("goals").delete().eq("id",f);m&&(console.warn("Hard delete failed, falling back to soft delete",m),await s(f))}catch(m){console.warn("Hard delete exception, falling back to soft delete",m),await s(f)}},onSuccess:()=>{t.invalidateQueries({queryKey:["goals"]}),Ze.success("Obiettivo eliminato")},onError:f=>{Ze.error("Errore eliminazione: "+f.message)}}),c=_n({mutationFn:async()=>{const{data:{session:f}}=await be.auth.getSession();if(!f)throw new Error("Not authenticated");const{error:p}=await be.from("goal_logs").delete().eq("user_id",f.user.id);if(p)throw p;const{error:g}=await be.from("goals").delete().eq("user_id",f.user.id);if(g)throw g},onSuccess:()=>{t.invalidateQueries({queryKey:["goals"]}),t.invalidateQueries({queryKey:["goal_logs"]}),Ze.success("Reset completo effettuato")},onError:f=>{Ze.error("Errore reset: "+f.message)}}),u=(e||[]).filter(f=>!f.end_date||f.end_date>=Gi(new Date)),d=_n({mutationFn:async({goalId:f,date:p,currentStatus:g})=>{const m=Gi(p),{data:{session:v}}=await be.auth.getSession(),{data:b,error:w}=await be.from("goals").select("start_date, end_date").eq("id",f).single();if(w||!b)throw w||new Error("Goal not found");const y=b;if(!R5(m,y.start_date,y.end_date))throw new Error("Impossibile modificare un obiettivo fuori dal suo periodo di validit.");let O="done";if(g==="done"?O="missed":g==="missed"&&(O=null),O===null){const{error:_}=await be.from("goal_logs").delete().eq("goal_id",f).eq("date",m);if(_)throw _}else{const{error:_}=await be.from("goal_logs").upsert({goal_id:f,date:m,status:O,user_id:v==null?void 0:v.user.id},{onConflict:"goal_id, date"});if(_)throw _}return{goalId:f,dateStr:m,nextStatus:O}},onMutate:async({goalId:f,date:p,currentStatus:g})=>{await t.cancelQueries({queryKey:["goal_logs"]});const m=t.getQueryData(["goal_logs"]),v=Gi(p);let b="done";return g==="done"?b="missed":g==="missed"&&(b=null),t.setQueryData(["goal_logs"],w=>{if(!w)return[];const y=w.filter(O=>!(O.goal_id===f&&O.date===v));return b?[...y,{id:"temp-"+Date.now(),goal_id:f,date:v,status:b,created_at:"",updated_at:""}]:y}),{previousLogs:m}},onError:(f,p,g)=>{t.setQueryData(["goal_logs"],g==null?void 0:g.previousLogs),Ze.error("Errore aggiornamento")},onSettled:()=>{t.invalidateQueries({queryKey:["goal_logs"]})}});return{goals:u,allGoals:e||[],logs:a,rawLogs:n||[],isLoading:r||i,createGoal:o.mutate,deleteGoal:l.mutate,isDeleting:l.isPending,resetAllData:c.mutate,isResetting:c.isPending,toggleGoal:async(f,p)=>{var v;const g=Gi(f),m=((v=a[g])==null?void 0:v[p])||null;d.mutate({goalId:p,date:f,currentStatus:m})}}}const gE=x.createContext(void 0),I5=({children:t})=>{const[e,r]=x.useState(!1),n=()=>{r(i=>!i)};return h.jsx(gE.Provider,{value:{isPrivacyMode:e,setIsPrivacyMode:r,togglePrivacyMode:n},children:t})},Hg=()=>{const t=x.useContext(gE);if(t===void 0)throw new Error("usePrivacy must be used within a PrivacyProvider");return t},Kg=cg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Tt=x.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},a)=>{const o=n?O$:"button";return h.jsx(o,{className:J(Kg({variant:e,size:r,className:t})),ref:a,...i})});Tt.displayName="Button";const M5={lessThanXSeconds:{one:"meno di un secondo",other:"meno di {{count}} secondi"},xSeconds:{one:"un secondo",other:"{{count}} secondi"},halfAMinute:"alcuni secondi",lessThanXMinutes:{one:"meno di un minuto",other:"meno di {{count}} minuti"},xMinutes:{one:"un minuto",other:"{{count}} minuti"},aboutXHours:{one:"circa un'ora",other:"circa {{count}} ore"},xHours:{one:"un'ora",other:"{{count}} ore"},xDays:{one:"un giorno",other:"{{count}} giorni"},aboutXWeeks:{one:"circa una settimana",other:"circa {{count}} settimane"},xWeeks:{one:"una settimana",other:"{{count}} settimane"},aboutXMonths:{one:"circa un mese",other:"circa {{count}} mesi"},xMonths:{one:"un mese",other:"{{count}} mesi"},aboutXYears:{one:"circa un anno",other:"circa {{count}} anni"},xYears:{one:"un anno",other:"{{count}} anni"},overXYears:{one:"pi di un anno",other:"pi di {{count}} anni"},almostXYears:{one:"quasi un anno",other:"quasi {{count}} anni"}},D5=(t,e,r)=>{let n;const i=M5[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"tra "+n:n+" fa":n},L5={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},B5={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},F5={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},U5={date:vo({formats:L5,defaultWidth:"full"}),time:vo({formats:B5,defaultWidth:"full"}),dateTime:vo({formats:F5,defaultWidth:"full"})},Vg=["domenica","luned","marted","mercoled","gioved","venerd","sabato"];function W5(t){switch(t){case 0:return"'domenica scorsa alle' p";default:return"'"+Vg[t]+" scorso alle' p"}}function $0(t){return"'"+Vg[t]+" alle' p"}function z5(t){switch(t){case 0:return"'domenica prossima alle' p";default:return"'"+Vg[t]+" prossimo alle' p"}}const q5={lastWeek:(t,e,r)=>{const n=t.getDay();return N0(t,e,r)?$0(n):W5(n)},yesterday:"'ieri alle' p",today:"'oggi alle' p",tomorrow:"'domani alle' p",nextWeek:(t,e,r)=>{const n=t.getDay();return N0(t,e,r)?$0(n):z5(n)},other:"P"},H5=(t,e,r,n)=>{const i=q5[t];return typeof i=="function"?i(e,r,n):i},K5={narrow:["aC","dC"],abbreviated:["a.C.","d.C."],wide:["avanti Cristo","dopo Cristo"]},V5={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},G5={narrow:["G","F","M","A","M","G","L","A","S","O","N","D"],abbreviated:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],wide:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]},Y5={narrow:["D","L","M","M","G","V","S"],short:["dom","lun","mar","mer","gio","ven","sab"],abbreviated:["dom","lun","mar","mer","gio","ven","sab"],wide:["domenica","luned","marted","mercoled","gioved","venerd","sabato"]},X5={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"}},Q5={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"}},J5=(t,e)=>{const r=Number(t);return String(r)},Z5={ordinalNumber:J5,era:Jr({values:K5,defaultWidth:"wide"}),quarter:Jr({values:V5,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Jr({values:G5,defaultWidth:"wide"}),day:Jr({values:Y5,defaultWidth:"wide"}),dayPeriod:Jr({values:X5,defaultWidth:"wide",formattingValues:Q5,defaultFormattingWidth:"wide"})},eF=/^(\d+)()?/i,tF=/\d+/i,rF={narrow:/^(aC|dC)/i,abbreviated:/^(a\.?\s?C\.?|a\.?\s?e\.?\s?v\.?|d\.?\s?C\.?|e\.?\s?v\.?)/i,wide:/^(avanti Cristo|avanti Era Volgare|dopo Cristo|Era Volgare)/i},nF={any:[/^a/i,/^(d|e)/i]},iF={narrow:/^[1234]/i,abbreviated:/^t[1234]/i,wide:/^[1234]()? trimestre/i},aF={any:[/1/i,/2/i,/3/i,/4/i]},oF={narrow:/^[gfmalsond]/i,abbreviated:/^(gen|feb|mar|apr|mag|giu|lug|ago|set|ott|nov|dic)/i,wide:/^(gennaio|febbraio|marzo|aprile|maggio|giugno|luglio|agosto|settembre|ottobre|novembre|dicembre)/i},sF={narrow:[/^g/i,/^f/i,/^m/i,/^a/i,/^m/i,/^g/i,/^l/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ge/i,/^f/i,/^mar/i,/^ap/i,/^mag/i,/^gi/i,/^l/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},lF={narrow:/^[dlmgvs]/i,short:/^(do|lu|ma|me|gi|ve|sa)/i,abbreviated:/^(dom|lun|mar|mer|gio|ven|sab)/i,wide:/^(domenica|luned[i|]|marted[i|]|mercoled[i|]|gioved[i|]|venerd[i|]|sabato)/i},cF={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^g/i,/^v/i,/^s/i],any:[/^d/i,/^l/i,/^ma/i,/^me/i,/^g/i,/^v/i,/^s/i]},uF={narrow:/^(a|m\.|p|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i,any:/^([ap]\.?\s?m\.?|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i},dF={any:{am:/^a/i,pm:/^p/i,midnight:/^mezza/i,noon:/^mezzo/i,morning:/mattina/i,afternoon:/pomeriggio/i,evening:/sera/i,night:/notte/i}},fF={ordinalNumber:hE({matchPattern:eF,parsePattern:tF,valueCallback:t=>parseInt(t,10)}),era:Zr({matchPatterns:rF,defaultMatchWidth:"wide",parsePatterns:nF,defaultParseWidth:"any"}),quarter:Zr({matchPatterns:iF,defaultMatchWidth:"wide",parsePatterns:aF,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Zr({matchPatterns:oF,defaultMatchWidth:"wide",parsePatterns:sF,defaultParseWidth:"any"}),day:Zr({matchPatterns:lF,defaultMatchWidth:"wide",parsePatterns:cF,defaultParseWidth:"any"}),dayPeriod:Zr({matchPatterns:uF,defaultMatchWidth:"any",parsePatterns:dF,defaultParseWidth:"any"})},En={code:"it",formatDistance:D5,formatLong:U5,formatRelative:H5,localize:Z5,match:fF,options:{weekStartsOn:1,firstWeekContainsDate:4}};function wi(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}var hF="DismissableLayer",wm="dismissableLayer.update",pF="dismissableLayer.pointerDownOutside",mF="dismissableLayer.focusOutside",R0,yE=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bE=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:s,...l}=t,c=x.useContext(yE),[u,d]=x.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=x.useState({}),g=ge(e,E=>d(E)),m=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),b=m.indexOf(v),w=u?m.indexOf(u):-1,y=c.layersWithOutsidePointerEventsDisabled.size>0,O=w>=b,_=yF(E=>{const A=E.target,P=[...c.branches].some(k=>k.contains(A));!O||P||(i==null||i(E),o==null||o(E),E.defaultPrevented||s==null||s())},f),S=bF(E=>{const A=E.target;[...c.branches].some(k=>k.contains(A))||(a==null||a(E),o==null||o(E),E.defaultPrevented||s==null||s())},f);return v1(E=>{w===c.layers.size-1&&(n==null||n(E),!E.defaultPrevented&&s&&(E.preventDefault(),s()))},f),x.useEffect(()=>{if(u)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(R0=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),I0(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=R0)}},[u,f,r,c]),x.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),I0())},[u,c]),x.useEffect(()=>{const E=()=>p({});return document.addEventListener(wm,E),()=>document.removeEventListener(wm,E)},[]),h.jsx(se.div,{...l,ref:g,style:{pointerEvents:y?O?"auto":"none":void 0,...t.style},onFocusCapture:wi(t.onFocusCapture,S.onFocusCapture),onBlurCapture:wi(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:wi(t.onPointerDownCapture,_.onPointerDownCapture)})});bE.displayName=hF;var vF="DismissableLayerBranch",gF=x.forwardRef((t,e)=>{const r=x.useContext(yE),n=x.useRef(null),i=ge(e,n);return x.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),h.jsx(se.div,{...t,ref:i})});gF.displayName=vF;function yF(t,e=globalThis==null?void 0:globalThis.document){const r=it(t),n=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const a=s=>{if(s.target&&!n.current){let l=function(){wE(pF,r,c,{discrete:!0})};const c={originalEvent:s};s.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function bF(t,e=globalThis==null?void 0:globalThis.document){const r=it(t),n=x.useRef(!1);return x.useEffect(()=>{const i=a=>{a.target&&!n.current&&wE(mF,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function I0(){const t=new CustomEvent(wm);document.dispatchEvent(t)}function wE(t,e,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?dg(i,a):i.dispatchEvent(a)}var Gh="focusScope.autoFocusOnMount",Yh="focusScope.autoFocusOnUnmount",M0={bubbles:!1,cancelable:!0},wF="FocusScope",Gg=x.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=t,[s,l]=x.useState(null),c=it(i),u=it(a),d=x.useRef(null),f=ge(e,m=>l(m)),p=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let m=function(y){if(p.paused||!s)return;const O=y.target;s.contains(O)?d.current=O:Xn(d.current,{select:!0})},v=function(y){if(p.paused||!s)return;const O=y.relatedTarget;O!==null&&(s.contains(O)||Xn(d.current,{select:!0}))},b=function(y){if(document.activeElement===document.body)for(const _ of y)_.removedNodes.length>0&&Xn(s)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const w=new MutationObserver(b);return s&&w.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),w.disconnect()}}},[n,s,p.paused]),x.useEffect(()=>{if(s){L0.add(p);const m=document.activeElement;if(!s.contains(m)){const b=new CustomEvent(Gh,M0);s.addEventListener(Gh,c),s.dispatchEvent(b),b.defaultPrevented||(xF(EF(xE(s)),{select:!0}),document.activeElement===m&&Xn(s))}return()=>{s.removeEventListener(Gh,c),setTimeout(()=>{const b=new CustomEvent(Yh,M0);s.addEventListener(Yh,u),s.dispatchEvent(b),b.defaultPrevented||Xn(m??document.body,{select:!0}),s.removeEventListener(Yh,u),L0.remove(p)},0)}}},[s,c,u,p]);const g=x.useCallback(m=>{if(!r&&!n||p.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,b=document.activeElement;if(v&&b){const w=m.currentTarget,[y,O]=_F(w);y&&O?!m.shiftKey&&b===O?(m.preventDefault(),r&&Xn(y,{select:!0})):m.shiftKey&&b===y&&(m.preventDefault(),r&&Xn(O,{select:!0})):b===w&&m.preventDefault()}},[r,n,p.paused]);return h.jsx(se.div,{tabIndex:-1,...o,ref:f,onKeyDown:g})});Gg.displayName=wF;function xF(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Xn(n,{select:e}),document.activeElement!==r)return}function _F(t){const e=xE(t),r=D0(e,t),n=D0(e.reverse(),t);return[r,n]}function xE(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function D0(t,e){for(const r of t)if(!SF(r,{upTo:e}))return r}function SF(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function OF(t){return t instanceof HTMLInputElement&&"select"in t}function Xn(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&OF(t)&&e&&t.select()}}var L0=AF();function AF(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=B0(t,e),t.unshift(e)},remove(e){var r;t=B0(t,e),(r=t[0])==null||r.resume()}}}function B0(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function EF(t){return t.filter(e=>e.tagName!=="A")}function PF(t,e){return x.useReducer((r,n)=>e[r][n]??r,t)}var xf=t=>{const{present:e,children:r}=t,n=jF(e),i=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),a=ge(n.ref,TF(i));return typeof r=="function"||n.isPresent?x.cloneElement(i,{ref:a}):null};xf.displayName="Presence";function jF(t){const[e,r]=x.useState(),n=x.useRef(null),i=x.useRef(t),a=x.useRef("none"),o=t?"mounted":"unmounted",[s,l]=PF(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const c=Vc(n.current);a.current=s==="mounted"?c:"none"},[s]),ut(()=>{const c=n.current,u=i.current;if(u!==t){const f=a.current,p=Vc(c);t?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&f!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),ut(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=p=>{const m=Vc(n.current).includes(CSS.escape(p.animationName));if(p.target===e&&m&&(l("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},f=p=>{p.target===e&&(a.current=Vc(n.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:x.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function Vc(t){return(t==null?void 0:t.animationName)||"none"}function TF(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Xh=0;function CF(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??F0()),document.body.insertAdjacentElement("beforeend",t[1]??F0()),Xh++,()=>{Xh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Xh--}},[])}function F0(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var xu="right-scroll-bar-position",_u="width-before-scroll-bar",kF="with-scroll-bars-hidden",NF="--removed-body-scroll-bar-size";function Qh(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function $F(t,e){var r=x.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var RF=typeof window<"u"?x.useLayoutEffect:x.useEffect,U0=new WeakMap;function IF(t,e){var r=$F(null,function(n){return t.forEach(function(i){return Qh(i,n)})});return RF(function(){var n=U0.get(r);if(n){var i=new Set(n),a=new Set(t),o=r.current;i.forEach(function(s){a.has(s)||Qh(s,null)}),a.forEach(function(s){i.has(s)||Qh(s,o)})}U0.set(r,t)},[t]),r}function MF(t){return t}function DF(t,e){e===void 0&&(e=MF);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(a){var o=e(a,n);return r.push(o),function(){r=r.filter(function(s){return s!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(s){return a(s)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var s=r;r=[],s.forEach(a),o=r}var l=function(){var u=o;o=[],u.forEach(a)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),r}}}};return i}function LF(t){t===void 0&&(t={});var e=DF(null);return e.options=fr({async:!0,ssr:!1},t),e}var _E=function(t){var e=t.sideCar,r=Ti(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,fr({},r))};_E.isSideCarExport=!0;function BF(t,e){return t.useMedium(e),_E}var SE=LF(),Jh=function(){},_f=x.forwardRef(function(t,e){var r=x.useRef(null),n=x.useState({onScrollCapture:Jh,onWheelCapture:Jh,onTouchMoveCapture:Jh}),i=n[0],a=n[1],o=t.forwardProps,s=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,f=t.sideCar,p=t.noRelative,g=t.noIsolation,m=t.inert,v=t.allowPinchZoom,b=t.as,w=b===void 0?"div":b,y=t.gapMode,O=Ti(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=f,S=IF([r,e]),E=fr(fr({},O),i);return x.createElement(x.Fragment,null,u&&x.createElement(_,{sideCar:SE,removeScrollBar:c,shards:d,noRelative:p,noIsolation:g,inert:m,setCallbacks:a,allowPinchZoom:!!v,lockRef:r,gapMode:y}),o?x.cloneElement(x.Children.only(s),fr(fr({},E),{ref:S})):x.createElement(w,fr({},E,{className:l,ref:S}),s))});_f.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};_f.classNames={fullWidth:_u,zeroRight:xu};var FF=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function UF(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=FF();return e&&t.setAttribute("nonce",e),t}function WF(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function zF(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var qF=function(){var t=0,e=null;return{add:function(r){t==0&&(e=UF())&&(WF(e,r),zF(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},HF=function(){var t=qF();return function(e,r){x.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},OE=function(){var t=HF(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},KF={left:0,top:0,right:0,gap:0},Zh=function(t){return parseInt(t||"",10)||0},VF=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Zh(r),Zh(n),Zh(i)]},GF=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return KF;var e=VF(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},YF=OE(),go="data-scroll-locked",XF=function(t,e,r,n){var i=t.left,a=t.top,o=t.right,s=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(kF,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(s,"px ").concat(n,`;
  }
  body[`).concat(go,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(xu,` {
    right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(_u,` {
    margin-right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(xu," .").concat(xu,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(_u," .").concat(_u,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(go,`] {
    `).concat(NF,": ").concat(s,`px;
  }
`)},W0=function(){var t=parseInt(document.body.getAttribute(go)||"0",10);return isFinite(t)?t:0},QF=function(){x.useEffect(function(){return document.body.setAttribute(go,(W0()+1).toString()),function(){var t=W0()-1;t<=0?document.body.removeAttribute(go):document.body.setAttribute(go,t.toString())}},[])},JF=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;QF();var a=x.useMemo(function(){return GF(i)},[i]);return x.createElement(YF,{styles:XF(a,!e,i,r?"":"!important")})},xm=!1;if(typeof window<"u")try{var Gc=Object.defineProperty({},"passive",{get:function(){return xm=!0,!0}});window.addEventListener("test",Gc,Gc),window.removeEventListener("test",Gc,Gc)}catch{xm=!1}var Ga=xm?{passive:!1}:!1,ZF=function(t){return t.tagName==="TEXTAREA"},AE=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!ZF(t)&&r[e]==="visible")},e3=function(t){return AE(t,"overflowY")},t3=function(t){return AE(t,"overflowX")},z0=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=EE(t,n);if(i){var a=PE(t,n),o=a[1],s=a[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},r3=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},n3=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},EE=function(t,e){return t==="v"?e3(e):t3(e)},PE=function(t,e){return t==="v"?r3(e):n3(e)},i3=function(t,e){return t==="h"&&e==="rtl"?-1:1},a3=function(t,e,r,n,i){var a=i3(t,window.getComputedStyle(e).direction),o=a*n,s=r.target,l=e.contains(s),c=!1,u=o>0,d=0,f=0;do{if(!s)break;var p=PE(t,s),g=p[0],m=p[1],v=p[2],b=m-v-a*g;(g||b)&&EE(t,s)&&(d+=b,f+=g);var w=s.parentNode;s=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!l&&s!==document.body||l&&(e.contains(s)||e===s));return(u&&(Math.abs(d)<1||!i)||!u&&(Math.abs(f)<1||!i))&&(c=!0),c},Yc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},q0=function(t){return[t.deltaX,t.deltaY]},H0=function(t){return t&&"current"in t?t.current:t},o3=function(t,e){return t[0]===e[0]&&t[1]===e[1]},s3=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},l3=0,Ya=[];function c3(t){var e=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),i=x.useState(l3++)[0],a=x.useState(OE)[0],o=x.useRef(t);x.useEffect(function(){o.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var m=$g([t.lockRef.current],(t.shards||[]).map(H0),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var s=x.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var b=Yc(m),w=r.current,y="deltaX"in m?m.deltaX:w[0]-b[0],O="deltaY"in m?m.deltaY:w[1]-b[1],_,S=m.target,E=Math.abs(y)>Math.abs(O)?"h":"v";if("touches"in m&&E==="h"&&S.type==="range")return!1;var A=z0(E,S);if(!A)return!0;if(A?_=E:(_=E==="v"?"h":"v",A=z0(E,S)),!A)return!1;if(!n.current&&"changedTouches"in m&&(y||O)&&(n.current=_),!_)return!0;var P=n.current||_;return a3(P,v,m,P==="h"?y:O,!0)},[]),l=x.useCallback(function(m){var v=m;if(!(!Ya.length||Ya[Ya.length-1]!==a)){var b="deltaY"in v?q0(v):Yc(v),w=e.current.filter(function(_){return _.name===v.type&&(_.target===v.target||v.target===_.shadowParent)&&o3(_.delta,b)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var y=(o.current.shards||[]).map(H0).filter(Boolean).filter(function(_){return _.contains(v.target)}),O=y.length>0?s(v,y[0]):!o.current.noIsolation;O&&v.cancelable&&v.preventDefault()}}},[]),c=x.useCallback(function(m,v,b,w){var y={name:m,delta:v,target:b,should:w,shadowParent:u3(b)};e.current.push(y),setTimeout(function(){e.current=e.current.filter(function(O){return O!==y})},1)},[]),u=x.useCallback(function(m){r.current=Yc(m),n.current=void 0},[]),d=x.useCallback(function(m){c(m.type,q0(m),m.target,s(m,t.lockRef.current))},[]),f=x.useCallback(function(m){c(m.type,Yc(m),m.target,s(m,t.lockRef.current))},[]);x.useEffect(function(){return Ya.push(a),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Ga),document.addEventListener("touchmove",l,Ga),document.addEventListener("touchstart",u,Ga),function(){Ya=Ya.filter(function(m){return m!==a}),document.removeEventListener("wheel",l,Ga),document.removeEventListener("touchmove",l,Ga),document.removeEventListener("touchstart",u,Ga)}},[]);var p=t.removeScrollBar,g=t.inert;return x.createElement(x.Fragment,null,g?x.createElement(a,{styles:s3(i)}):null,p?x.createElement(JF,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function u3(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const d3=BF(SE,c3);var Yg=x.forwardRef(function(t,e){return x.createElement(_f,fr({},t,{ref:e,sideCar:d3}))});Yg.classNames=_f.classNames;var f3=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Xa=new WeakMap,Xc=new WeakMap,Qc={},ep=0,jE=function(t){return t&&(t.host||jE(t.parentNode))},h3=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=jE(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},p3=function(t,e,r,n){var i=h3(e,Array.isArray(t)?t:[t]);Qc[r]||(Qc[r]=new WeakMap);var a=Qc[r],o=[],s=new Set,l=new Set(i),c=function(d){!d||s.has(d)||(s.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(s.has(f))u(f);else try{var p=f.getAttribute(n),g=p!==null&&p!=="false",m=(Xa.get(f)||0)+1,v=(a.get(f)||0)+1;Xa.set(f,m),a.set(f,v),o.push(f),m===1&&g&&Xc.set(f,!0),v===1&&f.setAttribute(r,"true"),g||f.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",f,b)}})};return u(e),s.clear(),ep++,function(){o.forEach(function(d){var f=Xa.get(d)-1,p=a.get(d)-1;Xa.set(d,f),a.set(d,p),f||(Xc.has(d)||d.removeAttribute(n),Xc.delete(d)),p||d.removeAttribute(r)}),ep--,ep||(Xa=new WeakMap,Xa=new WeakMap,Xc=new WeakMap,Qc={})}},TE=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=f3(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),p3(n,i,r,"aria-hidden")):function(){return null}},Sf="Dialog",[CE,kE]=Ht(Sf),[m3,Wr]=CE(Sf),NE=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!0}=t,s=x.useRef(null),l=x.useRef(null),[c,u]=kn({prop:n,defaultProp:i??!1,onChange:a,caller:Sf});return h.jsx(m3,{scope:e,triggerRef:s,contentRef:l,contentId:yi(),titleId:yi(),descriptionId:yi(),open:c,onOpenChange:u,onOpenToggle:x.useCallback(()=>u(d=>!d),[u]),modal:o,children:r})};NE.displayName=Sf;var $E="DialogTrigger",RE=x.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Wr($E,r),a=ge(e,i.triggerRef);return h.jsx(se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Jg(i.open),...n,ref:a,onClick:wi(t.onClick,i.onOpenToggle)})});RE.displayName=$E;var Xg="DialogPortal",[v3,IE]=CE(Xg,{forceMount:void 0}),ME=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,a=Wr(Xg,e);return h.jsx(v3,{scope:e,forceMount:r,children:x.Children.map(n,o=>h.jsx(xf,{present:r||a.open,children:h.jsx(rf,{asChild:!0,container:i,children:o})}))})};ME.displayName=Xg;var zu="DialogOverlay",DE=x.forwardRef((t,e)=>{const r=IE(zu,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=Wr(zu,t.__scopeDialog);return a.modal?h.jsx(xf,{present:n||a.open,children:h.jsx(y3,{...i,ref:e})}):null});DE.displayName=zu;var g3=gl("DialogOverlay.RemoveScroll"),y3=x.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Wr(zu,r);return h.jsx(Yg,{as:g3,allowPinchZoom:!0,shards:[i.contentRef],children:h.jsx(se.div,{"data-state":Jg(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Aa="DialogContent",LE=x.forwardRef((t,e)=>{const r=IE(Aa,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=Wr(Aa,t.__scopeDialog);return h.jsx(xf,{present:n||a.open,children:a.modal?h.jsx(b3,{...i,ref:e}):h.jsx(w3,{...i,ref:e})})});LE.displayName=Aa;var b3=x.forwardRef((t,e)=>{const r=Wr(Aa,t.__scopeDialog),n=x.useRef(null),i=ge(e,r.contentRef,n);return x.useEffect(()=>{const a=n.current;if(a)return TE(a)},[]),h.jsx(BE,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:wi(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:wi(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,s=o.button===0&&o.ctrlKey===!0;(o.button===2||s)&&a.preventDefault()}),onFocusOutside:wi(t.onFocusOutside,a=>a.preventDefault())})}),w3=x.forwardRef((t,e)=>{const r=Wr(Aa,t.__scopeDialog),n=x.useRef(!1),i=x.useRef(!1);return h.jsx(BE,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,s;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(n.current||(s=r.triggerRef.current)==null||s.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((c=r.triggerRef.current)==null?void 0:c.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),BE=x.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=t,s=Wr(Aa,r),l=x.useRef(null),c=ge(e,l);return CF(),h.jsxs(h.Fragment,{children:[h.jsx(Gg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:h.jsx(bE,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":Jg(s.open),...o,ref:c,onDismiss:()=>s.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(_3,{titleId:s.titleId}),h.jsx(O3,{contentRef:l,descriptionId:s.descriptionId})]})]})}),Qg="DialogTitle",FE=x.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Wr(Qg,r);return h.jsx(se.h2,{id:i.titleId,...n,ref:e})});FE.displayName=Qg;var UE="DialogDescription",WE=x.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Wr(UE,r);return h.jsx(se.p,{id:i.descriptionId,...n,ref:e})});WE.displayName=UE;var zE="DialogClose",qE=x.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Wr(zE,r);return h.jsx(se.button,{type:"button",...n,ref:e,onClick:wi(t.onClick,()=>i.onOpenChange(!1))})});qE.displayName=zE;function Jg(t){return t?"open":"closed"}var HE="DialogTitleWarning",[x3,KE]=F$(HE,{contentName:Aa,titleName:Qg,docsSlug:"dialog"}),_3=({titleId:t})=>{const e=KE(HE),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return x.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},S3="DialogDescriptionWarning",O3=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${KE(S3).contentName}}.`;return x.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},VE=NE,GE=RE,YE=ME,Zg=DE,ey=LE,ty=FE,ry=WE,ny=qE;const iy=VE,XE=GE,A3=YE,QE=x.forwardRef(({className:t,...e},r)=>h.jsx(Zg,{ref:r,className:J("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));QE.displayName=Zg.displayName;const Of=x.forwardRef(({className:t,children:e,...r},n)=>h.jsxs(A3,{children:[h.jsx(QE,{}),h.jsxs(ey,{ref:n,className:J("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,h.jsxs(ny,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[h.jsx(vg,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Of.displayName=ey.displayName;const Af=({className:t,...e})=>h.jsx("div",{className:J("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Af.displayName="DialogHeader";const JE=({className:t,...e})=>h.jsx("div",{className:J("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});JE.displayName="DialogFooter";const Ef=x.forwardRef(({className:t,...e},r)=>h.jsx(ty,{ref:r,className:J("text-lg font-semibold leading-none tracking-tight",t),...e}));Ef.displayName=ty.displayName;const Pf=x.forwardRef(({className:t,...e},r)=>h.jsx(ry,{ref:r,className:J("text-sm text-muted-foreground",t),...e}));Pf.displayName=ry.displayName;function ZE({date:t,isOpen:e,onClose:r,habits:n,records:i,onToggleHabit:a,isPrivacyMode:o=!1,readonly:s=!1}){if(!t)return null;const l=Je(t,"yyyy-MM-dd"),c=n.filter(u=>{const d=u.start_date<=l,f=!u.end_date||u.end_date>=l;return d&&f});return h.jsx(iy,{open:e,onOpenChange:r,children:h.jsxs(Of,{className:"sm:max-w-[400px]",children:[h.jsxs(Af,{children:[h.jsx(Ef,{className:"text-xl font-display capitalize",children:Je(t,"EEEE d MMMM",{locale:En})}),h.jsx(Pf,{className:"sr-only",children:"Dettagli delle attivit giornaliere"})]}),h.jsx("div",{className:"py-2",children:h.jsx("div",{className:"max-h-[60vh] overflow-y-auto",children:h.jsx("div",{className:"space-y-3 pr-4",children:c.map(u=>{const f=(i[l]||{})[u.id],p=f==="done",g=f==="missed";return h.jsxs("div",{onClick:()=>!s&&a(u.id),className:J("flex items-center justify-between p-3 rounded-xl border transition-all",!s&&"cursor-pointer hover:shadow-md hover:scale-[1.02] active:scale-[0.98]",s&&"opacity-90",p&&"bg-success/15 border-success/30",g&&"bg-destructive/15 border-destructive/30",!f&&"bg-card border-border",!f&&!s&&"hover:bg-accent"),children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"h-3 w-3 rounded-full ring-2 ring-offset-2 ring-offset-background",style:{backgroundColor:u.color}}),h.jsx("span",{className:J("font-medium transition-colors transition-all duration-300",(p||g)&&"text-foreground",o&&"blur-sm"),children:u.title})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[p&&h.jsx(of,{className:"h-5 w-5 text-success"}),g&&h.jsx(vg,{className:"h-5 w-5 text-destructive"}),!f&&h.jsx("div",{className:"h-5 w-5 rounded-full border-2 border-muted-foreground/30"})]})]},u.id)})})})})]})})}const E3=["Lun","Mar","Mer","Gio","Ven","Sab","Dom"],P3=["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"];function j3({habits:t,records:e,onToggleHabit:r,isPrivacyMode:n=!1}){const[i,a]=x.useState(new Date),[o,s]=x.useState(null),l=i.getFullYear(),c=i.getMonth(),u=new Date(l,c,1),d=new Date(l,c+1,0);let f=u.getDay()-1;f<0&&(f=6);const p=d.getDate(),g=new Date,m=()=>a(new Date(l,c-1,1)),v=()=>a(new Date(l,c+1,1)),b=()=>a(new Date),w=_=>g.getDate()===_&&g.getMonth()===c&&g.getFullYear()===l,y=_=>{const S=new Date(l,c,_),E=new Date(g.getFullYear(),g.getMonth(),g.getDate());return S>E},O=()=>{const _=[];for(let S=0;S<f;S++)_.push(h.jsx("div",{className:"aspect-square"},`empty-${S}`));for(let S=1;S<=p;S++){const E=new Date(l,c,S),A=Je(E,"yyyy-MM-dd"),P=e[A]||{},k=y(S),C=t.filter(M=>{const q=M.start_date<=A,X=!M.end_date||M.end_date>=A;return q&&X}),N=C.filter(M=>P[M.id]==="done").length,D=C.filter(M=>P[M.id]==="missed").length,I=N+D,L=C.length;let T=0;L>0&&(T=N/L);let R={};const B=I>0;if(B&&L>0){const M=Math.round(T*142);R={backgroundColor:`hsl(${M}, 70%, 10%, 0.3)`,borderColor:`hsl(${M}, 80%, 40%, 0.5)`,boxShadow:T===1?`0 0 10px hsl(${M}, 80%, 40%, 0.2)`:"none"}}_.push(h.jsxs("button",{onClick:()=>!k&&s(E),disabled:k,style:R,className:J("aspect-square rounded-xl flex flex-col items-center justify-start py-[clamp(4px,1vw,8px)] transition-all duration-300 relative border border-white/5 hover:border-white/20 hover:bg-white/5 group",k&&"opacity-30 cursor-not-allowed",w(S)&&!B&&"bg-white/5 ring-1 ring-primary/50"),children:[h.jsx("span",{className:J("text-[clamp(0.7rem,2.5vw,0.9rem)] font-medium mb-[2px] font-mono-nums transition-all duration-300",w(S)&&"text-primary font-bold",B&&"text-foreground",n&&"blur-[2px]"),children:S}),h.jsx("div",{className:J("flex flex-wrap items-center justify-center gap-0.5 px-1 w-full max-w-[80%] transition-all duration-300",n&&"blur-[1px]"),children:C.map(M=>{const q=P[M.id];return q?h.jsx("div",{className:J("w-1 h-1 rounded-sm",q==="done"?"opacity-80":"opacity-0"),style:{backgroundColor:q==="done"?M.color:void 0}},M.id):null})})]},S))}return _};return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"w-full h-full p-4 sm:p-6 animate-scale-in",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsx(Tt,{variant:"ghost",size:"icon",onClick:m,children:h.jsx(z1,{className:"h-5 w-5"})}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("h2",{className:"text-xl sm:text-2xl font-display font-bold",children:[P3[c]," ",h.jsx("span",{className:"text-muted-foreground font-light",children:l})]}),h.jsx(Tt,{variant:"ghost",size:"icon",onClick:b,className:"h-8 w-8 ml-2 opacity-0 hover:opacity-100 transition-opacity",children:h.jsx(qR,{className:"h-3 w-3"})})]}),h.jsx(Tt,{variant:"ghost",size:"icon",onClick:v,children:h.jsx(q1,{className:"h-5 w-5"})})]}),h.jsx("div",{className:"grid grid-cols-7 gap-[clamp(4px,1.5vw,12px)] mb-2",children:E3.map(_=>h.jsx("div",{className:"text-center text-[10px] sm:text-xs font-semibold text-muted-foreground uppercase tracking-wider py-2",children:_},_))}),h.jsx("div",{className:"grid grid-cols-7 gap-[clamp(4px,1.5vw,12px)]",children:O()})]}),h.jsx(ZE,{isOpen:!!o,onClose:()=>s(null),date:o,habits:t,records:e,onToggleHabit:_=>o&&r(o,_),isPrivacyMode:n})]})}function T3({habits:t,records:e,onToggleHabit:r,isPrivacyMode:n=!1}){const i=x.useMemo(()=>new Date,[]),[a,o]=x.useState(new Date),s=x.useMemo(()=>gr(a,{weekStartsOn:1}),[a]),l=x.useMemo(()=>jB(a,{weekStartsOn:1}),[a]),[c,u]=x.useState(null),d=x.useMemo(()=>Array.from({length:7}).map((m,v)=>Fu(s,v)),[s]),f=()=>{o(m=>Yt(m,7))},p=()=>{o(m=>Fu(m,7))},g=x.useMemo(()=>{const m=Je(s,"d",{locale:En}),v=Je(l,"d MMMM",{locale:En});return`${m} - ${v}`},[s,l]);return E0(gr(i,{weekStartsOn:1}),s),h.jsxs("div",{className:"w-full h-full p-6 animate-scale-in",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsx("h2",{className:"text-xl font-display font-bold capitalize",children:g}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:f,className:"p-2 rounded-lg hover:bg-white/5 transition-colors active:scale-95",children:h.jsx(z1,{className:"w-5 h-5"})}),h.jsx("button",{onClick:p,className:"p-2 rounded-lg hover:bg-white/5 transition-colors active:scale-95",children:h.jsx(q1,{className:"w-5 h-5"})})]})]}),h.jsx("div",{className:"grid grid-cols-7 gap-2 sm:gap-4",children:d.map(m=>{const v=Je(m,"yyyy-MM-dd"),b=e[v]||{},w=E0(m,i),y=new Date(i);y.setHours(0,0,0,0);const O=m>y;return h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsxs("button",{onClick:()=>!O&&u(m),disabled:O,className:J("text-center py-2 rounded-xl border border-transparent transition-all w-full",w&&"bg-primary/10 border-primary/20 text-primary",!O&&"hover:bg-white/5 hover:border-white/10 cursor-pointer active:scale-95",O&&"opacity-50 cursor-default"),children:[h.jsx("div",{className:"text-[10px] uppercase font-bold opacity-60",children:Je(m,"EEE",{locale:En})}),h.jsx("div",{className:"text-lg font-mono font-bold",children:Je(m,"d")})]}),h.jsx("div",{className:J("flex flex-col gap-2 transition-all duration-300",n&&"blur-[2px]"),children:t.map(_=>{const S=_.start_date<=v,E=_.end_date&&_.end_date<v;if(!S||E)return h.jsx("div",{className:"aspect-square rounded-xl invisible"},_.id);const A=b[_.id];return h.jsx("button",{disabled:O,onClick:()=>u(m),className:J("aspect-square rounded-xl border border-white/5 flex items-center justify-center transition-all hover:border-white/20",O&&"opacity-30 cursor-not-allowed",!O&&"cursor-pointer hover:bg-white/10",A==="done"&&"opacity-100 shadow-[0_0_10px_currentColor]",A==="missed"&&"opacity-50 grayscale",!A&&!O&&"bg-white/5"),style:{backgroundColor:A==="done"?_.color:void 0,color:_.color}},_.id)})})]},v)})}),h.jsx(ZE,{isOpen:!!c,onClose:()=>u(null),date:c,habits:t,records:e,onToggleHabit:m=>c&&r(c,m),isPrivacyMode:n,readonly:!0})]})}function C3({habits:t,records:e,onToggleHabit:r,isPrivacyMode:n=!1,date:i=new Date}){const a=Gi(i),o=e[a]||{},s=t.filter(l=>{const c=l.start_date<=a,u=!l.end_date||l.end_date>=a;return c&&u});return h.jsxs("div",{className:"glass-panel rounded-3xl p-6 animate-scale-in max-w-lg mx-auto w-full",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("h2",{className:"text-2xl font-display font-bold",children:"Focus Giornaliero"}),h.jsx("p",{className:"text-muted-foreground capitalize",children:Je(i,"EEEE d MMMM",{locale:En})})]}),h.jsxs("div",{className:"space-y-3",children:[s.length===0&&h.jsxs("div",{className:"text-center py-12 border border-dashed border-white/10 rounded-xl",children:[h.jsx("p",{className:"text-muted-foreground",children:"Nessun obiettivo per oggi."}),h.jsx("p",{className:"text-xs text-muted-foreground/60 mt-1",children:"Aggiungine alcuni dalle impostazioni."})]}),s.map(l=>{const c=o[l.id];return h.jsxs("div",{onClick:()=>r(i,l.id),className:J("group relative overflow-hidden p-4 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all cursor-pointer flex items-center justify-between",c==="done"&&"border-primary/20 bg-primary/5"),children:[h.jsx("div",{className:J("absolute inset-0 opacity-0 transition-opacity duration-500",c==="done"&&"opacity-10"),style:{backgroundColor:l.color}}),h.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[h.jsx("div",{className:J("w-8 h-8 rounded-lg border-2 flex items-center justify-center transition-all",c==="done"?"border-transparent text-black":"border-white/20 text-transparent"),style:{backgroundColor:c==="done"?l.color:"transparent",borderColor:c==="done"?void 0:l.color},children:h.jsx(of,{className:"w-5 h-5"})}),h.jsx("span",{className:J("text-lg font-medium transition-colors transition-all duration-300",c==="done"?"text-foreground":"text-muted-foreground group-hover:text-foreground",n&&"blur-sm"),children:l.title})]}),c==="missed"&&h.jsx("span",{className:"text-xs uppercase font-bold text-destructive tracking-widest px-2 py-1 rounded bg-destructive/10",children:"Saltato"})]},l.id)})]})]})}const Bo=x.forwardRef(({className:t,type:e,...r},n)=>h.jsx("input",{type:e,className:J("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));Bo.displayName="Input";var k3="Label",eP=x.forwardRef((t,e)=>h.jsx(se.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));eP.displayName=k3;var tP=eP;const N3=cg("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Fo=x.forwardRef(({className:t,...e},r)=>h.jsx(tP,{ref:r,className:J(N3(),t),...e}));Fo.displayName=tP.displayName;function _m(t,[e,r]){return Math.min(r,Math.max(e,t))}var $3=x.createContext(void 0);function xc(t){const e=x.useContext($3);return t||e||"ltr"}var tp=0;function R3(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??K0()),document.body.insertAdjacentElement("beforeend",t[1]??K0()),tp++,()=>{tp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),tp--}},[])}function K0(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}function jf(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var I3=[" ","Enter","ArrowUp","ArrowDown"],M3=[" ","Enter"],Ea="Select",[Tf,Cf,D3]=ug(Ea),[As,Dpe]=Ht(Ea,[D3,df]),kf=df(),[L3,ki]=As(Ea),[B3,F3]=As(Ea),rP=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:a,value:o,defaultValue:s,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:f,required:p,form:g}=t,m=kf(e),[v,b]=x.useState(null),[w,y]=x.useState(null),[O,_]=x.useState(!1),S=xc(c),[E,A]=kn({prop:n,defaultProp:i??!1,onChange:a,caller:Ea}),[P,k]=kn({prop:o,defaultProp:s,onChange:l,caller:Ea}),C=x.useRef(null),N=v?g||!!v.closest("form"):!0,[D,I]=x.useState(new Set),L=Array.from(D).map(T=>T.props.value).join(";");return h.jsx(JM,{...m,children:h.jsxs(L3,{required:p,scope:e,trigger:v,onTriggerChange:b,valueNode:w,onValueNodeChange:y,valueNodeHasChildren:O,onValueNodeHasChildrenChange:_,contentId:yi(),value:P,onValueChange:k,open:E,onOpenChange:A,dir:S,triggerPointerDownPosRef:C,disabled:f,children:[h.jsx(Tf.Provider,{scope:e,children:h.jsx(B3,{scope:t.__scopeSelect,onNativeOptionAdd:x.useCallback(T=>{I(R=>new Set(R).add(T))},[]),onNativeOptionRemove:x.useCallback(T=>{I(R=>{const B=new Set(R);return B.delete(T),B})},[]),children:r})}),N?h.jsxs(EP,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:d,value:P,onChange:T=>k(T.target.value),disabled:f,form:g,children:[P===void 0?h.jsx("option",{value:""}):null,Array.from(D)]},L):null]})})};rP.displayName=Ea;var nP="SelectTrigger",iP=x.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,a=kf(r),o=ki(nP,r),s=o.disabled||n,l=ge(e,o.onTriggerChange),c=Cf(r),u=x.useRef("touch"),[d,f,p]=jP(m=>{const v=c().filter(y=>!y.disabled),b=v.find(y=>y.value===o.value),w=TP(v,m,b);w!==void 0&&o.onValueChange(w.value)}),g=m=>{s||(o.onOpenChange(!0),p()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return h.jsx(yO,{asChild:!0,...a,children:h.jsx(se.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":PP(o.value)?"":void 0,...i,ref:l,onClick:oe(i.onClick,m=>{m.currentTarget.focus(),u.current!=="mouse"&&g(m)}),onPointerDown:oe(i.onPointerDown,m=>{u.current=m.pointerType;const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:oe(i.onKeyDown,m=>{const v=d.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&f(m.key),!(v&&m.key===" ")&&I3.includes(m.key)&&(g(),m.preventDefault())})})})});iP.displayName=nP;var aP="SelectValue",oP=x.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:o="",...s}=t,l=ki(aP,r),{onValueNodeHasChildrenChange:c}=l,u=a!==void 0,d=ge(e,l.onValueNodeChange);return ut(()=>{c(u)},[c,u]),h.jsx(se.span,{...s,ref:d,style:{pointerEvents:"none"},children:PP(l.value)?h.jsx(h.Fragment,{children:o}):a})});oP.displayName=aP;var U3="SelectIcon",sP=x.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return h.jsx(se.span,{"aria-hidden":!0,...i,ref:e,children:n||""})});sP.displayName=U3;var W3="SelectPortal",lP=t=>h.jsx(rf,{asChild:!0,...t});lP.displayName=W3;var Pa="SelectContent",cP=x.forwardRef((t,e)=>{const r=ki(Pa,t.__scopeSelect),[n,i]=x.useState();if(ut(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?ys.createPortal(h.jsx(uP,{scope:t.__scopeSelect,children:h.jsx(Tf.Slot,{scope:t.__scopeSelect,children:h.jsx("div",{children:t.children})})}),a):null}return h.jsx(dP,{...t,ref:e})});cP.displayName=Pa;var Tr=10,[uP,Ni]=As(Pa),z3="SelectContentImpl",q3=gl("SelectContent.RemoveScroll"),dP=x.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:v,...b}=t,w=ki(Pa,r),[y,O]=x.useState(null),[_,S]=x.useState(null),E=ge(e,Q=>O(Q)),[A,P]=x.useState(null),[k,C]=x.useState(null),N=Cf(r),[D,I]=x.useState(!1),L=x.useRef(!1);x.useEffect(()=>{if(y)return TE(y)},[y]),R3();const T=x.useCallback(Q=>{const[F,...U]=N().map(W=>W.ref.current),[K]=U.slice(-1),G=document.activeElement;for(const W of Q)if(W===G||(W==null||W.scrollIntoView({block:"nearest"}),W===F&&_&&(_.scrollTop=0),W===K&&_&&(_.scrollTop=_.scrollHeight),W==null||W.focus(),document.activeElement!==G))return},[N,_]),R=x.useCallback(()=>T([A,y]),[T,A,y]);x.useEffect(()=>{D&&R()},[D,R]);const{onOpenChange:B,triggerPointerDownPosRef:M}=w;x.useEffect(()=>{if(y){let Q={x:0,y:0};const F=K=>{var G,W;Q={x:Math.abs(Math.round(K.pageX)-(((G=M.current)==null?void 0:G.x)??0)),y:Math.abs(Math.round(K.pageY)-(((W=M.current)==null?void 0:W.y)??0))}},U=K=>{Q.x<=10&&Q.y<=10?K.preventDefault():y.contains(K.target)||B(!1),document.removeEventListener("pointermove",F),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",F),document.addEventListener("pointerup",U,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",F),document.removeEventListener("pointerup",U,{capture:!0})}}},[y,B,M]),x.useEffect(()=>{const Q=()=>B(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[B]);const[q,X]=jP(Q=>{const F=N().filter(G=>!G.disabled),U=F.find(G=>G.ref.current===document.activeElement),K=TP(F,Q,U);K&&setTimeout(()=>K.ref.current.focus())}),H=x.useCallback((Q,F,U)=>{const K=!L.current&&!U;(w.value!==void 0&&w.value===F||K)&&(P(Q),K&&(L.current=!0))},[w.value]),V=x.useCallback(()=>y==null?void 0:y.focus(),[y]),ee=x.useCallback((Q,F,U)=>{const K=!L.current&&!U;(w.value!==void 0&&w.value===F||K)&&C(Q)},[w.value]),ie=n==="popper"?Sm:fP,_e=ie===Sm?{side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:v}:{};return h.jsx(uP,{scope:r,content:y,viewport:_,onViewportChange:S,itemRefCallback:H,selectedItem:A,onItemLeave:V,itemTextRefCallback:ee,focusSelectedItem:R,selectedItemText:k,position:n,isPositioned:D,searchRef:q,children:h.jsx(Yg,{as:q3,allowPinchZoom:!0,children:h.jsx(Gg,{asChild:!0,trapped:w.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:oe(i,Q=>{var F;(F=w.trigger)==null||F.focus({preventScroll:!0}),Q.preventDefault()}),children:h.jsx(tf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:h.jsx(ie,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:Q=>Q.preventDefault(),...b,..._e,onPlaced:()=>I(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:oe(b.onKeyDown,Q=>{const F=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!F&&Q.key.length===1&&X(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let K=N().filter(G=>!G.disabled).map(G=>G.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(K=K.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const G=Q.target,W=K.indexOf(G);K=K.slice(W+1)}setTimeout(()=>T(K)),Q.preventDefault()}})})})})})})});dP.displayName=z3;var H3="SelectItemAlignedPosition",fP=x.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,a=ki(Pa,r),o=Ni(Pa,r),[s,l]=x.useState(null),[c,u]=x.useState(null),d=ge(e,E=>u(E)),f=Cf(r),p=x.useRef(!1),g=x.useRef(!0),{viewport:m,selectedItem:v,selectedItemText:b,focusSelectedItem:w}=o,y=x.useCallback(()=>{if(a.trigger&&a.valueNode&&s&&c&&m&&v&&b){const E=a.trigger.getBoundingClientRect(),A=c.getBoundingClientRect(),P=a.valueNode.getBoundingClientRect(),k=b.getBoundingClientRect();if(a.dir!=="rtl"){const G=k.left-A.left,W=P.left-G,ve=E.left-W,he=E.width+ve,je=Math.max(he,A.width),Ae=window.innerWidth-Tr,Ee=_m(W,[Tr,Math.max(Tr,Ae-je)]);s.style.minWidth=he+"px",s.style.left=Ee+"px"}else{const G=A.right-k.right,W=window.innerWidth-P.right-G,ve=window.innerWidth-E.right-W,he=E.width+ve,je=Math.max(he,A.width),Ae=window.innerWidth-Tr,Ee=_m(W,[Tr,Math.max(Tr,Ae-je)]);s.style.minWidth=he+"px",s.style.right=Ee+"px"}const C=f(),N=window.innerHeight-Tr*2,D=m.scrollHeight,I=window.getComputedStyle(c),L=parseInt(I.borderTopWidth,10),T=parseInt(I.paddingTop,10),R=parseInt(I.borderBottomWidth,10),B=parseInt(I.paddingBottom,10),M=L+T+D+B+R,q=Math.min(v.offsetHeight*5,M),X=window.getComputedStyle(m),H=parseInt(X.paddingTop,10),V=parseInt(X.paddingBottom,10),ee=E.top+E.height/2-Tr,ie=N-ee,_e=v.offsetHeight/2,Q=v.offsetTop+_e,F=L+T+Q,U=M-F;if(F<=ee){const G=C.length>0&&v===C[C.length-1].ref.current;s.style.bottom="0px";const W=c.clientHeight-m.offsetTop-m.offsetHeight,ve=Math.max(ie,_e+(G?V:0)+W+R),he=F+ve;s.style.height=he+"px"}else{const G=C.length>0&&v===C[0].ref.current;s.style.top="0px";const ve=Math.max(ee,L+m.offsetTop+(G?H:0)+_e)+U;s.style.height=ve+"px",m.scrollTop=F-ee+m.offsetTop}s.style.margin=`${Tr}px 0`,s.style.minHeight=q+"px",s.style.maxHeight=N+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[f,a.trigger,a.valueNode,s,c,m,v,b,a.dir,n]);ut(()=>y(),[y]);const[O,_]=x.useState();ut(()=>{c&&_(window.getComputedStyle(c).zIndex)},[c]);const S=x.useCallback(E=>{E&&g.current===!0&&(y(),w==null||w(),g.current=!1)},[y,w]);return h.jsx(V3,{scope:r,contentWrapper:s,shouldExpandOnScrollRef:p,onScrollButtonChange:S,children:h.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O},children:h.jsx(se.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});fP.displayName=H3;var K3="SelectPopperPosition",Sm=x.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=Tr,...a}=t,o=kf(r);return h.jsx(bO,{...o,...a,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Sm.displayName=K3;var[V3,ay]=As(Pa,{}),Om="SelectViewport",hP=x.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,a=Ni(Om,r),o=ay(Om,r),s=ge(e,a.onViewportChange),l=x.useRef(0);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),h.jsx(Tf.Slot,{scope:r,children:h.jsx(se.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:oe(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&d){const p=Math.abs(l.current-u.scrollTop);if(p>0){const g=window.innerHeight-Tr*2,m=parseFloat(d.style.minHeight),v=parseFloat(d.style.height),b=Math.max(m,v);if(b<g){const w=b+p,y=Math.min(g,w),O=w-y;d.style.height=y+"px",d.style.bottom==="0px"&&(u.scrollTop=O>0?O:0,d.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});hP.displayName=Om;var pP="SelectGroup",[G3,Y3]=As(pP),X3=x.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=yi();return h.jsx(G3,{scope:r,id:i,children:h.jsx(se.div,{role:"group","aria-labelledby":i,...n,ref:e})})});X3.displayName=pP;var mP="SelectLabel",vP=x.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Y3(mP,r);return h.jsx(se.div,{id:i.id,...n,ref:e})});vP.displayName=mP;var qu="SelectItem",[Q3,gP]=As(qu),yP=x.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...o}=t,s=ki(qu,r),l=Ni(qu,r),c=s.value===n,[u,d]=x.useState(a??""),[f,p]=x.useState(!1),g=ge(e,w=>{var y;return(y=l.itemRefCallback)==null?void 0:y.call(l,w,n,i)}),m=yi(),v=x.useRef("touch"),b=()=>{i||(s.onValueChange(n),s.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.jsx(Q3,{scope:r,value:n,disabled:i,textId:m,isSelected:c,onItemTextChange:x.useCallback(w=>{d(y=>y||((w==null?void 0:w.textContent)??"").trim())},[]),children:h.jsx(Tf.ItemSlot,{scope:r,value:n,disabled:i,textValue:u,children:h.jsx(se.div,{role:"option","aria-labelledby":m,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:g,onFocus:oe(o.onFocus,()=>p(!0)),onBlur:oe(o.onBlur,()=>p(!1)),onClick:oe(o.onClick,()=>{v.current!=="mouse"&&b()}),onPointerUp:oe(o.onPointerUp,()=>{v.current==="mouse"&&b()}),onPointerDown:oe(o.onPointerDown,w=>{v.current=w.pointerType}),onPointerMove:oe(o.onPointerMove,w=>{var y;v.current=w.pointerType,i?(y=l.onItemLeave)==null||y.call(l):v.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:oe(o.onPointerLeave,w=>{var y;w.currentTarget===document.activeElement&&((y=l.onItemLeave)==null||y.call(l))}),onKeyDown:oe(o.onKeyDown,w=>{var O;((O=l.searchRef)==null?void 0:O.current)!==""&&w.key===" "||(M3.includes(w.key)&&b(),w.key===" "&&w.preventDefault())})})})})});yP.displayName=qu;var nl="SelectItemText",bP=x.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...a}=t,o=ki(nl,r),s=Ni(nl,r),l=gP(nl,r),c=F3(nl,r),[u,d]=x.useState(null),f=ge(e,b=>d(b),l.onItemTextChange,b=>{var w;return(w=s.itemTextRefCallback)==null?void 0:w.call(s,b,l.value,l.disabled)}),p=u==null?void 0:u.textContent,g=x.useMemo(()=>h.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:v}=c;return ut(()=>(m(g),()=>v(g)),[m,v,g]),h.jsxs(h.Fragment,{children:[h.jsx(se.span,{id:l.textId,...a,ref:f}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ys.createPortal(a.children,o.valueNode):null]})});bP.displayName=nl;var wP="SelectItemIndicator",xP=x.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return gP(wP,r).isSelected?h.jsx(se.span,{"aria-hidden":!0,...n,ref:e}):null});xP.displayName=wP;var Am="SelectScrollUpButton",_P=x.forwardRef((t,e)=>{const r=Ni(Am,t.__scopeSelect),n=ay(Am,t.__scopeSelect),[i,a]=x.useState(!1),o=ge(e,n.onScrollButtonChange);return ut(()=>{if(r.viewport&&r.isPositioned){let s=function(){const c=l.scrollTop>0;a(c)};const l=r.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),i?h.jsx(OP,{...t,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=r;s&&l&&(s.scrollTop=s.scrollTop-l.offsetHeight)}}):null});_P.displayName=Am;var Em="SelectScrollDownButton",SP=x.forwardRef((t,e)=>{const r=Ni(Em,t.__scopeSelect),n=ay(Em,t.__scopeSelect),[i,a]=x.useState(!1),o=ge(e,n.onScrollButtonChange);return ut(()=>{if(r.viewport&&r.isPositioned){let s=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;a(u)};const l=r.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),i?h.jsx(OP,{...t,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=r;s&&l&&(s.scrollTop=s.scrollTop+l.offsetHeight)}}):null});SP.displayName=Em;var OP=x.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,a=Ni("SelectScrollButton",r),o=x.useRef(null),s=Cf(r),l=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>l(),[l]),ut(()=>{var u;const c=s().find(d=>d.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[s]),h.jsx(se.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:oe(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:oe(i.onPointerMove,()=>{var c;(c=a.onItemLeave)==null||c.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:oe(i.onPointerLeave,()=>{l()})})}),J3="SelectSeparator",AP=x.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return h.jsx(se.div,{"aria-hidden":!0,...n,ref:e})});AP.displayName=J3;var Pm="SelectArrow",Z3=x.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=kf(r),a=ki(Pm,r),o=Ni(Pm,r);return a.open&&o.position==="popper"?h.jsx(wO,{...i,...n,ref:e}):null});Z3.displayName=Pm;var eU="SelectBubbleInput",EP=x.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const i=x.useRef(null),a=ge(n,i),o=jf(e);return x.useEffect(()=>{const s=i.current;if(!s)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&u){const d=new Event("change",{bubbles:!0});u.call(s,e),s.dispatchEvent(d)}},[o,e]),h.jsx(se.select,{...r,style:{...w1,...r.style},ref:a,defaultValue:e})});EP.displayName=eU;function PP(t){return t===""||t===void 0}function jP(t){const e=it(t),r=x.useRef(""),n=x.useRef(0),i=x.useCallback(o=>{const s=r.current+o;e(s),function l(c){r.current=c,window.clearTimeout(n.current),c!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(s)},[e]),a=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function TP(t,e,r){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=tU(t,Math.max(a,0));i.length===1&&(o=o.filter(c=>c!==r));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==r?l:void 0}function tU(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var rU=rP,CP=iP,nU=oP,iU=sP,aU=lP,kP=cP,oU=hP,NP=vP,$P=yP,sU=bP,lU=xP,RP=_P,IP=SP,MP=AP;const Yi=rU,il=nU,Zn=x.forwardRef(({className:t,children:e,...r},n)=>h.jsxs(CP,{ref:n,className:J("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,h.jsx(iU,{asChild:!0,children:h.jsx(W1,{className:"h-4 w-4 opacity-50"})})]}));Zn.displayName=CP.displayName;const DP=x.forwardRef(({className:t,...e},r)=>h.jsx(RP,{ref:r,className:J("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(kR,{className:"h-4 w-4"})}));DP.displayName=RP.displayName;const LP=x.forwardRef(({className:t,...e},r)=>h.jsx(IP,{ref:r,className:J("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(W1,{className:"h-4 w-4"})}));LP.displayName=IP.displayName;const ei=x.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>h.jsx(aU,{children:h.jsxs(kP,{ref:i,className:J("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[h.jsx(DP,{}),h.jsx(oU,{className:J("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),h.jsx(LP,{})]})}));ei.displayName=kP.displayName;const cU=x.forwardRef(({className:t,...e},r)=>h.jsx(NP,{ref:r,className:J("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));cU.displayName=NP.displayName;const Cr=x.forwardRef(({className:t,children:e,...r},n)=>h.jsxs($P,{ref:n,className:J("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...r,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(lU,{children:h.jsx(of,{className:"h-4 w-4"})})}),h.jsx(sU,{children:e})]}));Cr.displayName=$P.displayName;const uU=x.forwardRef(({className:t,...e},r)=>h.jsx(MP,{ref:r,className:J("-mx-1 my-1 h-px bg-muted",t),...e}));uU.displayName=MP.displayName;function dU(t,e){return x.useReducer((r,n)=>e[r][n]??r,t)}var oy="ScrollArea",[BP,Lpe]=Ht(oy),[fU,br]=BP(oy),FP=x.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:a=600,...o}=t,[s,l]=x.useState(null),[c,u]=x.useState(null),[d,f]=x.useState(null),[p,g]=x.useState(null),[m,v]=x.useState(null),[b,w]=x.useState(0),[y,O]=x.useState(0),[_,S]=x.useState(!1),[E,A]=x.useState(!1),P=ge(e,C=>l(C)),k=xc(i);return h.jsx(fU,{scope:r,type:n,dir:k,scrollHideDelay:a,scrollArea:s,viewport:c,onViewportChange:u,content:d,onContentChange:f,scrollbarX:p,onScrollbarXChange:g,scrollbarXEnabled:_,onScrollbarXEnabledChange:S,scrollbarY:m,onScrollbarYChange:v,scrollbarYEnabled:E,onScrollbarYEnabledChange:A,onCornerWidthChange:w,onCornerHeightChange:O,children:h.jsx(se.div,{dir:k,...o,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":y+"px",...t.style}})})});FP.displayName=oy;var UP="ScrollAreaViewport",WP=x.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:i,...a}=t,o=br(UP,r),s=x.useRef(null),l=ge(e,s,o.onViewportChange);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),h.jsx(se.div,{"data-radix-scroll-area-viewport":"",...a,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:h.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});WP.displayName=UP;var fn="ScrollAreaScrollbar",sy=x.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=br(fn,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,s=t.orientation==="horizontal";return x.useEffect(()=>(s?a(!0):o(!0),()=>{s?a(!1):o(!1)}),[s,a,o]),i.type==="hover"?h.jsx(hU,{...n,ref:e,forceMount:r}):i.type==="scroll"?h.jsx(pU,{...n,ref:e,forceMount:r}):i.type==="auto"?h.jsx(zP,{...n,ref:e,forceMount:r}):i.type==="always"?h.jsx(ly,{...n,ref:e}):null});sy.displayName=fn;var hU=x.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=br(fn,t.__scopeScrollArea),[a,o]=x.useState(!1);return x.useEffect(()=>{const s=i.scrollArea;let l=0;if(s){const c=()=>{window.clearTimeout(l),o(!0)},u=()=>{l=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return s.addEventListener("pointerenter",c),s.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),s.removeEventListener("pointerenter",c),s.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),h.jsx(un,{present:r||a,children:h.jsx(zP,{"data-state":a?"visible":"hidden",...n,ref:e})})}),pU=x.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=br(fn,t.__scopeScrollArea),a=t.orientation==="horizontal",o=$f(()=>l("SCROLL_END"),100),[s,l]=dU("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(s==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[s,i.scrollHideDelay,l]),x.useEffect(()=>{const c=i.viewport,u=a?"scrollLeft":"scrollTop";if(c){let d=c[u];const f=()=>{const p=c[u];d!==p&&(l("SCROLL"),o()),d=p};return c.addEventListener("scroll",f),()=>c.removeEventListener("scroll",f)}},[i.viewport,a,l,o]),h.jsx(un,{present:r||s!=="hidden",children:h.jsx(ly,{"data-state":s==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:oe(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:oe(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),zP=x.forwardRef((t,e)=>{const r=br(fn,t.__scopeScrollArea),{forceMount:n,...i}=t,[a,o]=x.useState(!1),s=t.orientation==="horizontal",l=$f(()=>{if(r.viewport){const c=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(s?c:u)}},10);return Uo(r.viewport,l),Uo(r.content,l),h.jsx(un,{present:n||a,children:h.jsx(ly,{"data-state":a?"visible":"hidden",...i,ref:e})})}),ly=x.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,i=br(fn,t.__scopeScrollArea),a=x.useRef(null),o=x.useRef(0),[s,l]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=GP(s.viewport,s.content),u={...n,sizes:s,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:f=>a.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function d(f,p){return wU(f,o.current,s,p)}return r==="horizontal"?h.jsx(mU,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const f=i.viewport.scrollLeft,p=V0(f,s,i.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollLeft=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollLeft=d(f,i.dir))}}):r==="vertical"?h.jsx(vU,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const f=i.viewport.scrollTop,p=V0(f,s);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollTop=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollTop=d(f))}}):null}),mU=x.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...i}=t,a=br(fn,t.__scopeScrollArea),[o,s]=x.useState(),l=x.useRef(null),c=ge(e,l,a.onScrollbarXChange);return x.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),h.jsx(HP,{"data-orientation":"horizontal",...i,ref:c,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Nf(r)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,d)=>{if(a.viewport){const f=a.viewport.scrollLeft+u.deltaX;t.onWheelScroll(f),XP(f,d)&&u.preventDefault()}},onResize:()=>{l.current&&a.viewport&&o&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Ku(o.paddingLeft),paddingEnd:Ku(o.paddingRight)}})}})}),vU=x.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...i}=t,a=br(fn,t.__scopeScrollArea),[o,s]=x.useState(),l=x.useRef(null),c=ge(e,l,a.onScrollbarYChange);return x.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),h.jsx(HP,{"data-orientation":"vertical",...i,ref:c,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Nf(r)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,d)=>{if(a.viewport){const f=a.viewport.scrollTop+u.deltaY;t.onWheelScroll(f),XP(f,d)&&u.preventDefault()}},onResize:()=>{l.current&&a.viewport&&o&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Ku(o.paddingTop),paddingEnd:Ku(o.paddingBottom)}})}})}),[gU,qP]=BP(fn),HP=x.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:s,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:d,...f}=t,p=br(fn,r),[g,m]=x.useState(null),v=ge(e,P=>m(P)),b=x.useRef(null),w=x.useRef(""),y=p.viewport,O=n.content-n.viewport,_=it(u),S=it(l),E=$f(d,10);function A(P){if(b.current){const k=P.clientX-b.current.left,C=P.clientY-b.current.top;c({x:k,y:C})}}return x.useEffect(()=>{const P=k=>{const C=k.target;(g==null?void 0:g.contains(C))&&_(k,O)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[y,g,O,_]),x.useEffect(S,[n,S]),Uo(g,E),Uo(p.content,E),h.jsx(gU,{scope:r,scrollbar:g,hasThumb:i,onThumbChange:it(a),onThumbPointerUp:it(o),onThumbPositionChange:S,onThumbPointerDown:it(s),children:h.jsx(se.div,{...f,ref:v,style:{position:"absolute",...f.style},onPointerDown:oe(t.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),b.current=g.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),A(P))}),onPointerMove:oe(t.onPointerMove,A),onPointerUp:oe(t.onPointerUp,P=>{const k=P.target;k.hasPointerCapture(P.pointerId)&&k.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=w.current,p.viewport&&(p.viewport.style.scrollBehavior=""),b.current=null})})})}),Hu="ScrollAreaThumb",KP=x.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=qP(Hu,t.__scopeScrollArea);return h.jsx(un,{present:r||i.hasThumb,children:h.jsx(yU,{ref:e,...n})})}),yU=x.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...i}=t,a=br(Hu,r),o=qP(Hu,r),{onThumbPositionChange:s}=o,l=ge(e,d=>o.onThumbChange(d)),c=x.useRef(void 0),u=$f(()=>{c.current&&(c.current(),c.current=void 0)},100);return x.useEffect(()=>{const d=a.viewport;if(d){const f=()=>{if(u(),!c.current){const p=xU(d,s);c.current=p,s()}};return s(),d.addEventListener("scroll",f),()=>d.removeEventListener("scroll",f)}},[a.viewport,u,s]),h.jsx(se.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:oe(t.onPointerDownCapture,d=>{const p=d.target.getBoundingClientRect(),g=d.clientX-p.left,m=d.clientY-p.top;o.onThumbPointerDown({x:g,y:m})}),onPointerUp:oe(t.onPointerUp,o.onThumbPointerUp)})});KP.displayName=Hu;var cy="ScrollAreaCorner",VP=x.forwardRef((t,e)=>{const r=br(cy,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?h.jsx(bU,{...t,ref:e}):null});VP.displayName=cy;var bU=x.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,i=br(cy,r),[a,o]=x.useState(0),[s,l]=x.useState(0),c=!!(a&&s);return Uo(i.scrollbarX,()=>{var d;const u=((d=i.scrollbarX)==null?void 0:d.offsetHeight)||0;i.onCornerHeightChange(u),l(u)}),Uo(i.scrollbarY,()=>{var d;const u=((d=i.scrollbarY)==null?void 0:d.offsetWidth)||0;i.onCornerWidthChange(u),o(u)}),c?h.jsx(se.div,{...n,ref:e,style:{width:a,height:s,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Ku(t){return t?parseInt(t,10):0}function GP(t,e){const r=t/e;return isNaN(r)?0:r}function Nf(t){const e=GP(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function wU(t,e,r,n="ltr"){const i=Nf(r),a=i/2,o=e||a,s=i-o,l=r.scrollbar.paddingStart+o,c=r.scrollbar.size-r.scrollbar.paddingEnd-s,u=r.content-r.viewport,d=n==="ltr"?[0,u]:[u*-1,0];return YP([l,c],d)(t)}function V0(t,e,r="ltr"){const n=Nf(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-i,o=e.content-e.viewport,s=a-n,l=r==="ltr"?[0,o]:[o*-1,0],c=_m(t,l);return YP([0,o],[0,s])(c)}function YP(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function XP(t,e){return t>0&&t<e}var xU=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function i(){const a={left:t.scrollLeft,top:t.scrollTop},o=r.left!==a.left,s=r.top!==a.top;(o||s)&&e(),r=a,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)};function $f(t,e){const r=it(t),n=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),x.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function Uo(t,e){const r=it(e);ut(()=>{let n=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(t),()=>{window.cancelAnimationFrame(n),i.unobserve(t)}}},[t,r])}var QP=FP,_U=WP,SU=VP;const JP=x.forwardRef(({className:t,children:e,...r},n)=>h.jsxs(QP,{ref:n,className:J("relative overflow-hidden",t),...r,children:[h.jsx(_U,{className:"h-full w-full rounded-[inherit]",children:e}),h.jsx(ZP,{}),h.jsx(SU,{})]}));JP.displayName=QP.displayName;const ZP=x.forwardRef(({className:t,orientation:e="vertical",...r},n)=>h.jsx(sy,{ref:n,orientation:e,className:J("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:h.jsx(KP,{className:"relative flex-1 rounded-full bg-border"})}));ZP.displayName=sy.displayName;function OU(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}var ej="AlertDialog",[AU,Bpe]=Ht(ej,[kE]),Fn=kE(),tj=t=>{const{__scopeAlertDialog:e,...r}=t,n=Fn(e);return h.jsx(VE,{...n,...r,modal:!0})};tj.displayName=ej;var EU="AlertDialogTrigger",rj=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Fn(r);return h.jsx(GE,{...i,...n,ref:e})});rj.displayName=EU;var PU="AlertDialogPortal",nj=t=>{const{__scopeAlertDialog:e,...r}=t,n=Fn(e);return h.jsx(YE,{...n,...r})};nj.displayName=PU;var jU="AlertDialogOverlay",ij=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Fn(r);return h.jsx(Zg,{...i,...n,ref:e})});ij.displayName=jU;var yo="AlertDialogContent",[TU,CU]=AU(yo),kU=f1("AlertDialogContent"),aj=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...i}=t,a=Fn(r),o=x.useRef(null),s=ge(e,o),l=x.useRef(null);return h.jsx(x3,{contentName:yo,titleName:oj,docsSlug:"alert-dialog",children:h.jsx(TU,{scope:r,cancelRef:l,children:h.jsxs(ey,{role:"alertdialog",...a,...i,ref:s,onOpenAutoFocus:OU(i.onOpenAutoFocus,c=>{var u;c.preventDefault(),(u=l.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[h.jsx(kU,{children:n}),h.jsx($U,{contentRef:o})]})})})});aj.displayName=yo;var oj="AlertDialogTitle",sj=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Fn(r);return h.jsx(ty,{...i,...n,ref:e})});sj.displayName=oj;var lj="AlertDialogDescription",cj=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Fn(r);return h.jsx(ry,{...i,...n,ref:e})});cj.displayName=lj;var NU="AlertDialogAction",uj=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Fn(r);return h.jsx(ny,{...i,...n,ref:e})});uj.displayName=NU;var dj="AlertDialogCancel",fj=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:i}=CU(dj,r),a=Fn(r),o=ge(e,i);return h.jsx(ny,{...a,...n,ref:o})});fj.displayName=dj;var $U=({contentRef:t})=>{const e=`\`${yo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${yo}\` by passing a \`${lj}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${yo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},RU=tj,IU=rj,MU=nj,hj=ij,pj=aj,mj=uj,vj=fj,gj=sj,yj=cj;const Vu=RU,uy=IU,DU=MU,bj=x.forwardRef(({className:t,...e},r)=>h.jsx(hj,{className:J("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));bj.displayName=hj.displayName;const Sl=x.forwardRef(({className:t,...e},r)=>h.jsxs(DU,{children:[h.jsx(bj,{}),h.jsx(pj,{ref:r,className:J("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Sl.displayName=pj.displayName;const Ol=({className:t,...e})=>h.jsx("div",{className:J("flex flex-col space-y-2 text-center sm:text-left",t),...e});Ol.displayName="AlertDialogHeader";const Al=({className:t,...e})=>h.jsx("div",{className:J("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Al.displayName="AlertDialogFooter";const El=x.forwardRef(({className:t,...e},r)=>h.jsx(gj,{ref:r,className:J("text-lg font-semibold",t),...e}));El.displayName=gj.displayName;const Pl=x.forwardRef(({className:t,...e},r)=>h.jsx(yj,{ref:r,className:J("text-sm text-muted-foreground",t),...e}));Pl.displayName=yj.displayName;const jl=x.forwardRef(({className:t,...e},r)=>h.jsx(mj,{ref:r,className:J(Kg(),t),...e}));jl.displayName=mj.displayName;const Rf=x.forwardRef(({className:t,...e},r)=>h.jsx(vj,{ref:r,className:J(Kg({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Rf.displayName=vj.displayName;const rp=[{name:"Green",value:"hsl(145 55% 42%)"},{name:"Blue",value:"hsl(220 70% 50%)"},{name:"Purple",value:"hsl(270 70% 50%)"},{name:"Red",value:"hsl(0 65% 55%)"},{name:"Orange",value:"hsl(25 60% 45%)"},{name:"Pink",value:"hsl(330 70% 50%)"},{name:"Teal",value:"hsl(170 70% 40%)"},{name:"Yellow",value:"hsl(45 90% 45%)"}];function LU({habits:t,onAddHabit:e,onRemoveHabit:r,isDeleting:n,isPrivacyMode:i=!1}){const[a,o]=x.useState(""),[s,l]=x.useState(rp[0].value);x.useState(null);const c=()=>{a.trim()&&(e({title:a,color:s}),o(""),l(rp[0].value))};return h.jsxs(iy,{children:[h.jsx(XE,{asChild:!0,children:h.jsx(Tt,{variant:"outline",size:"icon",className:"h-8 w-8 sm:h-9 sm:w-9",children:h.jsx(KR,{className:"h-4 w-4"})})}),h.jsxs(Of,{className:"sm:max-w-[425px] bg-[#0a0a0a]/90 backdrop-blur-2xl border-white/10 text-foreground",children:[h.jsxs(Af,{children:[h.jsx(Ef,{children:"Gestisci Abitudini"}),h.jsx(Pf,{children:"Aggiungi o rimuovi le abitudini che vuoi tracciare."})]}),h.jsxs("div",{className:"space-y-8 py-4",children:[h.jsxs("div",{className:"space-y-4 p-4 rounded-2xl bg-white/5 border border-white/10 backdrop-blur-md",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/20 flex items-center justify-center text-primary",children:h.jsx(Lp,{className:"h-4 w-4"})}),h.jsx("h4",{className:"text-sm font-display font-bold",children:"Nuova Abitudine"})]}),h.jsxs("div",{className:"grid gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Fo,{htmlFor:"title",className:"text-xs uppercase tracking-wider text-muted-foreground ml-1",children:"Nome"}),h.jsx(Bo,{id:"title",placeholder:"Es. Palestra, Lettura...",value:a,onChange:u=>o(u.target.value),className:"bg-black/20 border-white/10 focus:border-primary/50 text-foreground placeholder:text-muted-foreground/50 h-10 rounded-xl"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Fo,{htmlFor:"color",className:"text-xs uppercase tracking-wider text-muted-foreground ml-1",children:"Colore"}),h.jsxs(Yi,{value:s,onValueChange:l,children:[h.jsx(Zn,{className:"w-full bg-black/20 border-white/10 h-10 rounded-xl",children:h.jsx(il,{placeholder:"Seleziona colore"})}),h.jsx(ei,{className:"bg-[#1a1a1a] border-white/10 backdrop-blur-xl",children:h.jsx("div",{className:"grid grid-cols-2 gap-1 p-1",children:rp.map(u=>h.jsx(Cr,{value:u.value,className:"rounded-lg hover:bg-white/10 focus:bg-white/10 cursor-pointer",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"h-3 w-3 rounded-full shadow-[0_0_8px_currentColor]",style:{backgroundColor:u.value,color:u.value}}),h.jsx("span",{className:"font-medium",children:u.name})]})},u.value))})})]})]}),h.jsx(Tt,{onClick:c,disabled:!a.trim(),className:"w-full rounded-xl",children:"Aggiungi al Protocollo"})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h4",{className:"text-sm font-display font-bold px-1",children:"Le tue Abitudini"}),h.jsx(JP,{className:"h-[240px] w-full rounded-2xl border border-white/5 bg-black/20 p-4",children:h.jsxs("div",{className:"space-y-2",children:[t.map(u=>h.jsxs("div",{className:"group flex items-center justify-between rounded-xl p-3 bg-white/5 border border-transparent hover:border-white/10 hover:bg-white/10 transition-all",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"h-3 w-3 rounded-full shadow-[0_0_8px_currentColor]",style:{backgroundColor:u.color,color:u.color}}),h.jsx("span",{className:J("text-sm font-medium transition-all duration-300",i&&"blur-sm"),children:u.title})]}),h.jsxs(Vu,{children:[h.jsx(uy,{asChild:!0,children:h.jsx(Tt,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground opacity-60 group-hover:opacity-100 group-hover:text-destructive hover:bg-destructive/10 transition-all rounded-lg",children:h.jsx(mg,{className:"h-4 w-4"})})}),h.jsxs(Sl,{children:[h.jsxs(Ol,{children:[h.jsx(El,{children:"Sei sicuro?"}),h.jsx(Pl,{children:"Stai per rimuovere questa abitudine. Se ha dei dati associati, verr archiviata per preservare lo storico. Altrimenti verr eliminata definitivamente."})]}),h.jsxs(Al,{children:[h.jsx(Rf,{children:"Annulla"}),h.jsx(jl,{onClick:()=>r(u.id),className:"bg-destructive hover:bg-destructive/90 text-destructive-foreground",disabled:n,children:n?"Eliminazione...":"Conferma elimina"})]})]})]})]},u.id)),t.length===0&&h.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center text-muted-foreground space-y-2",children:[h.jsx("div",{className:"h-10 w-10 rounded-full bg-white/5 flex items-center justify-center",children:h.jsx(Lp,{className:"h-5 w-5 opacity-50"})}),h.jsx("p",{className:"text-sm",children:"Nessuna abitudine definita."})]})]})})]})]})]})]})}var np="rovingFocusGroup.onEntryFocus",BU={bubbles:!1,cancelable:!0},_c="RovingFocusGroup",[jm,wj,FU]=ug(_c),[UU,If]=Ht(_c,[FU]),[WU,zU]=UU(_c),xj=x.forwardRef((t,e)=>h.jsx(jm.Provider,{scope:t.__scopeRovingFocusGroup,children:h.jsx(jm.Slot,{scope:t.__scopeRovingFocusGroup,children:h.jsx(qU,{...t,ref:e})})}));xj.displayName=_c;var qU=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=t,f=x.useRef(null),p=ge(e,f),g=xc(a),[m,v]=kn({prop:o,defaultProp:s??null,onChange:l,caller:_c}),[b,w]=x.useState(!1),y=it(c),O=wj(r),_=x.useRef(!1),[S,E]=x.useState(0);return x.useEffect(()=>{const A=f.current;if(A)return A.addEventListener(np,y),()=>A.removeEventListener(np,y)},[y]),h.jsx(WU,{scope:r,orientation:n,dir:g,loop:i,currentTabStopId:m,onItemFocus:x.useCallback(A=>v(A),[v]),onItemShiftTab:x.useCallback(()=>w(!0),[]),onFocusableItemAdd:x.useCallback(()=>E(A=>A+1),[]),onFocusableItemRemove:x.useCallback(()=>E(A=>A-1),[]),children:h.jsx(se.div,{tabIndex:b||S===0?-1:0,"data-orientation":n,...d,ref:p,style:{outline:"none",...t.style},onMouseDown:oe(t.onMouseDown,()=>{_.current=!0}),onFocus:oe(t.onFocus,A=>{const P=!_.current;if(A.target===A.currentTarget&&P&&!b){const k=new CustomEvent(np,BU);if(A.currentTarget.dispatchEvent(k),!k.defaultPrevented){const C=O().filter(T=>T.focusable),N=C.find(T=>T.active),D=C.find(T=>T.id===m),L=[N,D,...C].filter(Boolean).map(T=>T.ref.current);Oj(L,u)}}_.current=!1}),onBlur:oe(t.onBlur,()=>w(!1))})})}),_j="RovingFocusGroupItem",Sj=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,children:o,...s}=t,l=yi(),c=a||l,u=zU(_j,r),d=u.currentTabStopId===c,f=wj(r),{onFocusableItemAdd:p,onFocusableItemRemove:g,currentTabStopId:m}=u;return x.useEffect(()=>{if(n)return p(),()=>g()},[n,p,g]),h.jsx(jm.ItemSlot,{scope:r,id:c,focusable:n,active:i,children:h.jsx(se.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...s,ref:e,onMouseDown:oe(t.onMouseDown,v=>{n?u.onItemFocus(c):v.preventDefault()}),onFocus:oe(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:oe(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const b=VU(v,u.orientation,u.dir);if(b!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let y=f().filter(O=>O.focusable).map(O=>O.ref.current);if(b==="last")y.reverse();else if(b==="prev"||b==="next"){b==="prev"&&y.reverse();const O=y.indexOf(v.currentTarget);y=u.loop?GU(y,O+1):y.slice(O+1)}setTimeout(()=>Oj(y))}}),children:typeof o=="function"?o({isCurrentTabStop:d,hasTabStop:m!=null}):o})})});Sj.displayName=_j;var HU={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function KU(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function VU(t,e,r){const n=KU(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return HU[n]}function Oj(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function GU(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var Aj=xj,Ej=Sj,Mf="Tabs",[YU,Fpe]=Ht(Mf,[If]),Pj=If(),[XU,dy]=YU(Mf),jj=x.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:s,activationMode:l="automatic",...c}=t,u=xc(s),[d,f]=kn({prop:n,onChange:i,defaultProp:a??"",caller:Mf});return h.jsx(XU,{scope:r,baseId:yi(),value:d,onValueChange:f,orientation:o,dir:u,activationMode:l,children:h.jsx(se.div,{dir:u,"data-orientation":o,...c,ref:e})})});jj.displayName=Mf;var Tj="TabsList",Cj=x.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,a=dy(Tj,r),o=Pj(r);return h.jsx(Aj,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:h.jsx(se.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});Cj.displayName=Tj;var kj="TabsTrigger",Nj=x.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=t,o=dy(kj,r),s=Pj(r),l=Ij(o.baseId,n),c=Mj(o.baseId,n),u=n===o.value;return h.jsx(Ej,{asChild:!0,...s,focusable:!i,active:u,children:h.jsx(se.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...a,ref:e,onMouseDown:oe(t.onMouseDown,d=>{!i&&d.button===0&&d.ctrlKey===!1?o.onValueChange(n):d.preventDefault()}),onKeyDown:oe(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(n)}),onFocus:oe(t.onFocus,()=>{const d=o.activationMode!=="manual";!u&&!i&&d&&o.onValueChange(n)})})})});Nj.displayName=kj;var $j="TabsContent",Rj=x.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...o}=t,s=dy($j,r),l=Ij(s.baseId,n),c=Mj(s.baseId,n),u=n===s.value,d=x.useRef(u);return x.useEffect(()=>{const f=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(f)},[]),h.jsx(un,{present:i||u,children:({present:f})=>h.jsx(se.div,{"data-state":u?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0},children:f&&a})})});Rj.displayName=$j;function Ij(t,e){return`${t}-trigger-${e}`}function Mj(t,e){return`${t}-content-${e}`}var QU=jj,Dj=Cj,Lj=Nj,Bj=Rj;const fy=QU,Df=x.forwardRef(({className:t,...e},r)=>h.jsx(Dj,{ref:r,className:J("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Df.displayName=Dj.displayName;const hr=x.forwardRef(({className:t,...e},r)=>h.jsx(Lj,{ref:r,className:J("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));hr.displayName=Lj.displayName;const Su=x.forwardRef(({className:t,...e},r)=>h.jsx(Bj,{ref:r,className:J("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Su.displayName=Bj.displayName;var Lf="Switch",[JU,Upe]=Ht(Lf),[ZU,e4]=JU(Lf),Fj=x.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:a,required:o,disabled:s,value:l="on",onCheckedChange:c,form:u,...d}=t,[f,p]=x.useState(null),g=ge(e,y=>p(y)),m=x.useRef(!1),v=f?u||!!f.closest("form"):!0,[b,w]=kn({prop:i,defaultProp:a??!1,onChange:c,caller:Lf});return h.jsxs(ZU,{scope:r,checked:b,disabled:s,children:[h.jsx(se.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":qj(b),"data-disabled":s?"":void 0,disabled:s,value:l,...d,ref:g,onClick:oe(t.onClick,y=>{w(O=>!O),v&&(m.current=y.isPropagationStopped(),m.current||y.stopPropagation())})}),v&&h.jsx(zj,{control:f,bubbles:!m.current,name:n,value:l,checked:b,required:o,disabled:s,form:u,style:{transform:"translateX(-100%)"}})]})});Fj.displayName=Lf;var Uj="SwitchThumb",Wj=x.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=e4(Uj,r);return h.jsx(se.span,{"data-state":qj(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});Wj.displayName=Uj;var t4="SwitchBubbleInput",zj=x.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...i},a)=>{const o=x.useRef(null),s=ge(o,a),l=jf(r),c=uf(e);return x.useEffect(()=>{const u=o.current;if(!u)return;const d=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==r&&p){const g=new Event("click",{bubbles:n});p.call(u,r),u.dispatchEvent(g)}},[l,r,n]),h.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});zj.displayName=t4;function qj(t){return t?"checked":"unchecked"}var Hj=Fj,r4=Wj;const Kj=x.forwardRef(({className:t,...e},r)=>h.jsx(Hj,{className:J("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...e,ref:r,children:h.jsx(r4,{className:J("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Kj.displayName=Hj.displayName;const n4=()=>{const{goals:t,logs:e,allGoals:r,rawLogs:n,createGoal:i,deleteGoal:a,toggleGoal:o,isDeleting:s,resetAllData:l,isResetting:c}=vE(),{isPrivacyMode:u,setIsPrivacyMode:d}=Hg(),f=()=>{if(!n||!r){Ze.error("Nessun dato da esportare");return}try{const m=new Map(r.map(O=>[O.id,O.title])),v=["Date,Habit Name,Status,Value,Notes"];n.forEach(O=>{const _=m.get(O.goal_id)||"Archived Habit",S=A=>`"${A.replace(/"/g,'""')}"`,E=[O.date,S(_),O.status,O.value||"",O.notes?S(O.notes):""].join(",");v.push(E)});const b=new Blob([v.join(`
`)],{type:"text/csv;charset=utf-8;"}),w=window.URL.createObjectURL(b),y=document.createElement("a");y.href=w,y.download=`habit-tracker-export-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(y),y.click(),window.URL.revokeObjectURL(w),document.body.removeChild(y),Ze.success("Export completato!")}catch(m){console.error("Export failed:",m),Ze.error("Errore durante l'export")}},[p,g]=x.useState("month");return h.jsxs("div",{className:"flex-1 min-h-dvh flex flex-col pt-8 pb-12 px-4 sm:px-8 animate-fade-in relative z-10 w-full max-w-[2400px] mx-auto",children:[h.jsx("div",{className:"fixed top-[-20%] left-[-10%] w-[50%] h-[50%] bg-primary/5 blur-[120px] rounded-full pointer-events-none -z-10"}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 w-full",children:[h.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[h.jsxs("div",{className:"glass-panel p-6 rounded-2xl space-y-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-display font-bold text-foreground",children:"Protocollo"}),h.jsx("p",{className:"text-muted-foreground text-sm",children:"Esecuzione giornaliera."})]}),h.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[h.jsx(Kj,{id:"privacy-mode",checked:u,onCheckedChange:d}),h.jsxs(Fo,{htmlFor:"privacy-mode",className:"text-xs text-muted-foreground flex items-center gap-2 cursor-pointer",children:[u?h.jsx(MR,{className:"w-3 h-3"}):h.jsx(DR,{className:"w-3 h-3"}),"Privacy Mode"]})]}),h.jsxs("div",{className:"pt-4 border-t border-white/5 flex gap-2",children:[h.jsx(LU,{habits:t,onAddHabit:i,onRemoveHabit:a,isDeleting:s,isPrivacyMode:u}),h.jsx(Tt,{variant:"outline",size:"icon",className:"h-8 w-8 sm:h-9 sm:w-9",onClick:f,title:"Esporta dati CSV",children:h.jsx(H1,{className:"h-4 w-4"})}),h.jsxs(Vu,{children:[h.jsx(uy,{asChild:!0,children:h.jsx(Tt,{variant:"ghost",size:"icon",className:"h-8 w-8 sm:h-9 sm:w-9 bg-red-500/10 text-red-500 hover:bg-red-500 hover:text-white border-red-500/20",title:"Hard Reset (Elimina tutto)",children:h.jsx(mg,{className:"h-4 w-4"})})}),h.jsxs(Sl,{children:[h.jsxs(Ol,{children:[h.jsx(El,{className:"text-destructive",children:"Hard Reset: Attenzione!"}),h.jsxs(Pl,{children:["Questa azione eliminer ",h.jsx("strong",{children:"definitivamente"})," tutte le tue abitudini e tutto lo storico dei progressi.",h.jsx("br",{}),h.jsx("br",{}),"I dati non potranno essere recuperati. Sei sicuro di voler procedere?"]})]}),h.jsxs(Al,{children:[h.jsx(Rf,{children:"Annulla"}),h.jsx(jl,{onClick:()=>l(),className:"bg-destructive hover:bg-destructive/90 text-destructive-foreground",disabled:c,children:c?"Eliminazione...":"Conferma Reset Totale"})]})]})]})]})]}),h.jsxs("div",{className:"glass-card p-6 rounded-2xl hidden lg:block",children:[h.jsx("h3",{className:"text-sm font-medium text-muted-foreground uppercase tracking-widest mb-2",children:"Status"}),h.jsxs("div",{className:"flex items-baseline gap-2",children:[h.jsx("span",{className:"text-2xl font-bold font-mono-nums text-primary",children:"Active"}),h.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"})]}),h.jsxs("p",{className:"text-xs text-muted-foreground mt-4",children:["Mattioli.OS v1.0",h.jsx("br",{}),"System Optimized"]})]})]}),h.jsx("div",{className:"lg:col-span-9 space-y-6",children:h.jsxs(fy,{defaultValue:"month",value:p,onValueChange:g,className:"w-full",children:[h.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:h.jsxs(Df,{className:"grid w-full sm:w-auto sm:inline-grid grid-cols-3 bg-card/40 border border-white/10 backdrop-blur-md rounded-xl p-1",children:[h.jsxs(hr,{value:"month",className:"rounded-lg data-[state=active]:bg-primary/20 data-[state=active]:text-primary font-medium text-xs sm:text-sm px-6",children:[h.jsx(Dp,{className:"w-4 h-4 mr-2"}),"Mese"]}),h.jsxs(hr,{value:"week",className:"rounded-lg data-[state=active]:bg-primary/20 data-[state=active]:text-primary font-medium text-xs sm:text-sm px-6",children:[h.jsx(LR,{className:"w-4 h-4 mr-2"}),"Settimana"]}),h.jsxs(hr,{value:"day",className:"rounded-lg data-[state=active]:bg-primary/20 data-[state=active]:text-primary font-medium text-xs sm:text-sm px-6",children:[h.jsx(BR,{className:"w-4 h-4 mr-2"}),"Oggi"]})]})}),h.jsxs("div",{className:"min-h-[600px] glass-panel rounded-2xl p-1 sm:p-2",children:[h.jsx(Su,{value:"month",className:"mt-0 animate-scale-in h-full",children:h.jsx(j3,{habits:t,records:e,onToggleHabit:o,isPrivacyMode:u})}),h.jsx(Su,{value:"week",className:"mt-0 animate-scale-in h-full",children:h.jsx(T3,{habits:t,records:e,onToggleHabit:o,isPrivacyMode:u})}),h.jsx(Su,{value:"day",className:"mt-0 animate-scale-in h-full",children:h.jsx("div",{className:"flex justify-center h-full",children:h.jsx(C3,{habits:t,records:e,onToggleHabit:o,isPrivacyMode:u,date:new Date})})})]})]})})]})]})};function i4(t,e){return x.useMemo(()=>{const r=Qr(new Date),n=Object.keys(e).sort(),i=t.map(T=>{var he,je,Ae;const R=Qr(new Date(T.start_date)),B=T.id;let M=0,q=0,X=0,H=0;const V=Math.max(0,zg(r,R)+1),ee=new Date(r);let ie=!0;const _e=Je(ee,"yyyy-MM-dd"),Q=(he=e[_e])==null?void 0:he[B];Q==="done"?M++:Q==="missed"&&(ie=!1);let F=1;for(;;){const Ee=Yt(r,F);if(ta(Ee,R))break;const at=Je(Ee,"yyyy-MM-dd"),nt=(je=e[at])==null?void 0:je[B];if(nt==="done"?ie&&M++:nt==="missed"&&(ie=!1),!ie||F>365*5)break;F++}if(V>0){for(let Ee=0;Ee<V;Ee++){const at=Yt(r,Ee),nt=Je(at,"yyyy-MM-dd"),qr=(Ae=e[nt])==null?void 0:Ae[B];qr==="done"?(H++,X++):qr==="missed"&&(q=Math.max(q,X),X=0)}q=Math.max(q,X)}let U=0,K=0;const G=Yt(r,29),W=ao(R,G)?R:G;ao(W,r)||io({start:W,end:r}).forEach(Ee=>{var nt;U++;const at=Je(Ee,"yyyy-MM-dd");((nt=e[at])==null?void 0:nt[B])==="done"&&K++});const ve=U>0?Math.round(K/U*100):0;return{id:T.id,title:T.title,color:T.color,currentStreak:M,longestStreak:q,totalDays:H,completionRate:ve}}),a=[],o=Yt(r,365);io({start:o,end:r}).forEach(T=>{const R=Je(T,"yyyy-MM-dd");let B=0,M=0;t.forEach(X=>{var V;const H=new Date(X.start_date);ta(Qr(T),Qr(H))||(B++,((V=e[R])==null?void 0:V[X.id])==="done"&&M++)});let q=0;if(B>0&&M>0){const X=M/B;X<=.25?q=1:X<=.5?q=2:X<=.75?q=3:q=4}a.push({date:R,count:M,intensity:q})});const s=[],l=Yt(r,6);io({start:l,end:r}).forEach(T=>{const R=Je(T,"yyyy-MM-dd"),B={date:Je(T,"EEE",{locale:En})};let M=0,q=0;t.forEach(H=>{var _e;const V=new Date(H.start_date);if(ta(Qr(T),Qr(V))){B[H.id]=0;return}q++;const ie=((_e=e[R])==null?void 0:_e[H.id])==="done";ie&&M++,B[H.id]=ie?100:0});const X=q>0?Math.round(M/q*100):0;B.overall=X,s.push(B)});const c=[0,0,0,0,0,0,0].map((T,R)=>({dayIndex:R,dayName:Je(new Date(2024,0,7+R),"EEEE",{locale:En}),totalActive:0,totalDone:0,rate:0})),u=t.reduce((T,R)=>ta(new Date(R.start_date),T)?new Date(R.start_date):T,r),d=ao(u,Yt(r,365))?u:Yt(r,365);ao(d,r)||io({start:d,end:r}).forEach(T=>{const R=T.getDay(),B=Je(T,"yyyy-MM-dd");t.forEach(M=>{var X;const q=new Date(M.start_date);ta(T,q)||(c[R].totalActive++,((X=e[B])==null?void 0:X[M.id])==="done"&&c[R].totalDone++)})}),c.forEach(T=>{T.rate=T.totalActive>0?Math.round(T.totalDone/T.totalActive*100):0});const f=n.length,p=i.length>0?Math.round(i.reduce((T,R)=>T+R.completionRate,0)/i.length):0,g=a4(t,e,r),m=gr(r,{locale:En,weekStartsOn:1}),v=r,b=N5(m,1),w=Yt(m,1),y=qg(r),O=r,_=k5(y,1),S=Yt(y,1),E=fE(r),A=r,P=$5(E,1),k=Yt(E,1),C=ip(t,e,m,v,b,w,"week"),N=ip(t,e,y,O,_,S,"month"),D=ip(t,e,E,A,P,k,"year"),I=t.map(T=>({habitId:T.id,week:C[T.id],month:N[T.id],year:D[T.id]}));return{habitStats:i,heatmapData:a,trendData:s,weekdayStats:c.sort((T,R)=>T.dayIndex===0?1:R.dayIndex===0?-1:T.dayIndex-R.dayIndex),totalActiveDays:f,globalSuccessRate:p,bestStreak:Math.max(...i.map(T=>T.longestStreak),0),worstDay:c.reduce((T,R)=>R.rate<T.rate&&R.totalActive>0?R:T,c[0]).dayName,comparisons:I,criticalHabits:g.sort((T,R)=>T.completionRate-R.completionRate)}},[t,e])}function ip(t,e,r,n,i,a,o="month"){const s={},l=t.map(u=>u.id),c=(u,d,f,p)=>{const g=ta(d,p)?p:d;if(ao(g,f))return 0;let m=0,v=0;return io({start:g,end:f}).forEach(b=>{var y;m++;const w=Je(b,"yyyy-MM-dd");((y=e[w])==null?void 0:y[u])==="done"&&v++}),m>0?Math.round(v/m*100):0};return l.forEach(u=>{const d=t.find(b=>b.id===u);if(!d)return;const f=new Date(d.start_date),p=c(u,r,n,f),g=c(u,i,a,f),m=p-g;let v="neutral";m>0&&(v="up"),m<0&&(v="down"),s[u]={previous:g,current:p,change:m,trend:v}}),s}function a4(t,e,r){const n=[],i=Yt(r,90);return t.forEach(a=>{const o=[0,0,0,0,0,0,0].map(()=>({total:0,done:0}));let s=0,l=0;const c=ta(i,new Date(a.start_date))?new Date(a.start_date):i;ao(c,r)||io({start:c,end:r}).forEach(p=>{var v;const g=p.getDay(),m=Je(p,"yyyy-MM-dd");o[g].total++,((v=e[m])==null?void 0:v[a.id])==="done"&&(o[g].done++,s++),l++});let u="",d=101;o.forEach((p,g)=>{if(p.total<4)return;const m=Math.round(p.done/p.total*100);if(m<d){d=m;const v=new Date(2024,0,7+g);u=Je(v,"EEEE",{locale:En})}});const f=l>0?Math.round(s/l*100):0;d===101&&(u="N/A",d=f),n.push({habitId:a.id,title:a.title,color:a.color,completionRate:f,worstDay:u,worstDayRate:d})}),n}function o4({globalStats:t,bestHabit:e}){return h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[h.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-sm relative overflow-hidden group",children:[h.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:h.jsx(na,{className:"w-24 h-24"})}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2 text-muted-foreground",children:[h.jsx(na,{className:"w-4 h-4"}),h.jsx("span",{className:"text-sm font-medium",children:"Completamento"})]}),h.jsxs("div",{className:"flex items-baseline gap-2",children:[h.jsxs("span",{className:"text-4xl font-display font-bold text-foreground",children:[t.globalSuccessRate,"%"]}),h.jsx("span",{className:"text-sm text-muted-foreground",children:"globale"})]})]})]}),h.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-sm relative overflow-hidden group",children:[h.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:h.jsx(Rb,{className:"w-24 h-24 text-orange-500"})}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2 text-muted-foreground",children:[h.jsx(Rb,{className:"w-4 h-4 text-orange-500"}),h.jsx("span",{className:"text-sm font-medium",children:"Miglior Serie"})]}),h.jsxs("div",{className:"flex items-baseline gap-2",children:[h.jsx("span",{className:"text-4xl font-display font-bold text-foreground",children:t.bestStreak}),h.jsx("span",{className:"text-sm text-muted-foreground",children:"giorni"})]})]})]}),h.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-sm relative overflow-hidden group",children:[h.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:h.jsx(fo,{className:"w-24 h-24 text-yellow-500"})}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2 text-muted-foreground",children:[h.jsx(fo,{className:"w-4 h-4 text-yellow-500"}),h.jsx("span",{className:"text-sm font-medium",children:"Top Performer"})]}),e?h.jsxs("div",{children:[h.jsx("span",{className:"text-2xl font-display font-bold text-foreground block truncate",children:e.title}),h.jsxs("span",{className:"text-sm text-muted-foreground",children:[e.completionRate,"% completamento"]})]}):h.jsx("span",{className:"text-muted-foreground text-sm",children:"Nessun dato"})]})]}),h.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-sm relative overflow-hidden group",children:[h.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:h.jsx("div",{className:"text-4xl",children:""})}),h.jsxs("div",{children:[h.jsx("div",{className:"flex items-center gap-2 mb-2 text-muted-foreground",children:h.jsx("span",{className:"text-sm font-medium",children:"Giorno Peggiore"})}),t.worstDay?h.jsxs("div",{children:[h.jsx("span",{className:"text-2xl font-display font-bold text-foreground block truncate",children:t.worstDay}),h.jsx("span",{className:"text-sm text-muted-foreground",children:"Focus richiesto"})]}):h.jsx("span",{className:"text-muted-foreground text-sm",children:"Nessun dato"})]})]})]})}function s4({data:t}){const e=new Date,r=105,n=t.filter(a=>PB(e,new Date(a.date))<r),i=[];for(let a=r-1;a>=0;a--){const o=Yt(e,a),s=Je(o,"yyyy-MM-dd"),l=n.find(c=>c.date===s);i.push(l||{date:s,count:0,intensity:0})}return h.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-xl",children:[h.jsx("h3",{className:"text-lg font-display font-semibold mb-4",children:"Costanza"}),h.jsx("div",{className:"flex flex-wrap gap-1 justify-center sm:justify-start",children:i.map(a=>h.jsx("div",{className:J("w-3 h-3 sm:w-4 sm:h-4 rounded-sm transition-all hover:scale-125 hover:z-10 relative cursor-pointer",a.intensity===0&&"bg-muted/10",a.intensity===1&&"bg-primary/30",a.intensity===2&&"bg-primary/50",a.intensity===3&&"bg-primary/70",a.intensity===4&&"bg-primary"),title:`${a.date}: ${a.count} habits`},a.date))}),h.jsxs("div",{className:"flex items-center justify-end gap-2 mt-4 text-xs text-muted-foreground",children:[h.jsx("span",{children:"Meno"}),h.jsxs("div",{className:"flex gap-1",children:[h.jsx("div",{className:"w-3 h-3 rounded-sm bg-muted/10"}),h.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary/30"}),h.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary/50"}),h.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary/70"}),h.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary"})]}),h.jsx("span",{children:"Pi"})]})]})}var l4=Array.isArray,Kt=l4,c4=typeof Xr=="object"&&Xr&&Xr.Object===Object&&Xr,Vj=c4,u4=Vj,d4=typeof self=="object"&&self&&self.Object===Object&&self,f4=u4||d4||Function("return this")(),hn=f4,h4=hn,p4=h4.Symbol,Sc=p4,G0=Sc,Gj=Object.prototype,m4=Gj.hasOwnProperty,v4=Gj.toString,zs=G0?G0.toStringTag:void 0;function g4(t){var e=m4.call(t,zs),r=t[zs];try{t[zs]=void 0;var n=!0}catch{}var i=v4.call(t);return n&&(e?t[zs]=r:delete t[zs]),i}var y4=g4,b4=Object.prototype,w4=b4.toString;function x4(t){return w4.call(t)}var _4=x4,Y0=Sc,S4=y4,O4=_4,A4="[object Null]",E4="[object Undefined]",X0=Y0?Y0.toStringTag:void 0;function P4(t){return t==null?t===void 0?E4:A4:X0&&X0 in Object(t)?S4(t):O4(t)}var Un=P4;function j4(t){return t!=null&&typeof t=="object"}var Wn=j4,T4=Un,C4=Wn,k4="[object Symbol]";function N4(t){return typeof t=="symbol"||C4(t)&&T4(t)==k4}var Es=N4,$4=Kt,R4=Es,I4=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,M4=/^\w*$/;function D4(t,e){if($4(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||R4(t)?!0:M4.test(t)||!I4.test(t)||e!=null&&t in Object(e)}var hy=D4;function L4(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var $i=L4;const Ps=ke($i);var B4=Un,F4=$i,U4="[object AsyncFunction]",W4="[object Function]",z4="[object GeneratorFunction]",q4="[object Proxy]";function H4(t){if(!F4(t))return!1;var e=B4(t);return e==W4||e==z4||e==U4||e==q4}var py=H4;const le=ke(py);var K4=hn,V4=K4["__core-js_shared__"],G4=V4,ap=G4,Q0=function(){var t=/[^.]+$/.exec(ap&&ap.keys&&ap.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Y4(t){return!!Q0&&Q0 in t}var X4=Y4,Q4=Function.prototype,J4=Q4.toString;function Z4(t){if(t!=null){try{return J4.call(t)}catch{}try{return t+""}catch{}}return""}var Yj=Z4,eW=py,tW=X4,rW=$i,nW=Yj,iW=/[\\^$.*+?()[\]{}|]/g,aW=/^\[object .+?Constructor\]$/,oW=Function.prototype,sW=Object.prototype,lW=oW.toString,cW=sW.hasOwnProperty,uW=RegExp("^"+lW.call(cW).replace(iW,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function dW(t){if(!rW(t)||tW(t))return!1;var e=eW(t)?uW:aW;return e.test(nW(t))}var fW=dW;function hW(t,e){return t==null?void 0:t[e]}var pW=hW,mW=fW,vW=pW;function gW(t,e){var r=vW(t,e);return mW(r)?r:void 0}var Ia=gW,yW=Ia,bW=yW(Object,"create"),Bf=bW,J0=Bf;function wW(){this.__data__=J0?J0(null):{},this.size=0}var xW=wW;function _W(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var SW=_W,OW=Bf,AW="__lodash_hash_undefined__",EW=Object.prototype,PW=EW.hasOwnProperty;function jW(t){var e=this.__data__;if(OW){var r=e[t];return r===AW?void 0:r}return PW.call(e,t)?e[t]:void 0}var TW=jW,CW=Bf,kW=Object.prototype,NW=kW.hasOwnProperty;function $W(t){var e=this.__data__;return CW?e[t]!==void 0:NW.call(e,t)}var RW=$W,IW=Bf,MW="__lodash_hash_undefined__";function DW(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=IW&&e===void 0?MW:e,this}var LW=DW,BW=xW,FW=SW,UW=TW,WW=RW,zW=LW;function js(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}js.prototype.clear=BW;js.prototype.delete=FW;js.prototype.get=UW;js.prototype.has=WW;js.prototype.set=zW;var qW=js;function HW(){this.__data__=[],this.size=0}var KW=HW;function VW(t,e){return t===e||t!==t&&e!==e}var my=VW,GW=my;function YW(t,e){for(var r=t.length;r--;)if(GW(t[r][0],e))return r;return-1}var Ff=YW,XW=Ff,QW=Array.prototype,JW=QW.splice;function ZW(t){var e=this.__data__,r=XW(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():JW.call(e,r,1),--this.size,!0}var e8=ZW,t8=Ff;function r8(t){var e=this.__data__,r=t8(e,t);return r<0?void 0:e[r][1]}var n8=r8,i8=Ff;function a8(t){return i8(this.__data__,t)>-1}var o8=a8,s8=Ff;function l8(t,e){var r=this.__data__,n=s8(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var c8=l8,u8=KW,d8=e8,f8=n8,h8=o8,p8=c8;function Ts(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ts.prototype.clear=u8;Ts.prototype.delete=d8;Ts.prototype.get=f8;Ts.prototype.has=h8;Ts.prototype.set=p8;var Uf=Ts,m8=Ia,v8=hn,g8=m8(v8,"Map"),vy=g8,Z0=qW,y8=Uf,b8=vy;function w8(){this.size=0,this.__data__={hash:new Z0,map:new(b8||y8),string:new Z0}}var x8=w8;function _8(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var S8=_8,O8=S8;function A8(t,e){var r=t.__data__;return O8(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Wf=A8,E8=Wf;function P8(t){var e=E8(this,t).delete(t);return this.size-=e?1:0,e}var j8=P8,T8=Wf;function C8(t){return T8(this,t).get(t)}var k8=C8,N8=Wf;function $8(t){return N8(this,t).has(t)}var R8=$8,I8=Wf;function M8(t,e){var r=I8(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var D8=M8,L8=x8,B8=j8,F8=k8,U8=R8,W8=D8;function Cs(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Cs.prototype.clear=L8;Cs.prototype.delete=B8;Cs.prototype.get=F8;Cs.prototype.has=U8;Cs.prototype.set=W8;var gy=Cs,Xj=gy,z8="Expected a function";function yy(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(z8);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(yy.Cache||Xj),r}yy.Cache=Xj;var Qj=yy;const q8=ke(Qj);var H8=Qj,K8=500;function V8(t){var e=H8(t,function(n){return r.size===K8&&r.clear(),n}),r=e.cache;return e}var G8=V8,Y8=G8,X8=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Q8=/\\(\\)?/g,J8=Y8(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(X8,function(r,n,i,a){e.push(i?a.replace(Q8,"$1"):n||r)}),e}),Z8=J8;function ez(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var by=ez,ew=Sc,tz=by,rz=Kt,nz=Es,iz=1/0,tw=ew?ew.prototype:void 0,rw=tw?tw.toString:void 0;function Jj(t){if(typeof t=="string")return t;if(rz(t))return tz(t,Jj)+"";if(nz(t))return rw?rw.call(t):"";var e=t+"";return e=="0"&&1/t==-iz?"-0":e}var az=Jj,oz=az;function sz(t){return t==null?"":oz(t)}var Zj=sz,lz=Kt,cz=hy,uz=Z8,dz=Zj;function fz(t,e){return lz(t)?t:cz(t,e)?[t]:uz(dz(t))}var eT=fz,hz=Es,pz=1/0;function mz(t){if(typeof t=="string"||hz(t))return t;var e=t+"";return e=="0"&&1/t==-pz?"-0":e}var zf=mz,vz=eT,gz=zf;function yz(t,e){e=vz(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[gz(e[r++])];return r&&r==n?t:void 0}var wy=yz,bz=wy;function wz(t,e,r){var n=t==null?void 0:bz(t,e);return n===void 0?r:n}var tT=wz;const rr=ke(tT);function xz(t){return t==null}var _z=xz;const ce=ke(_z);var Sz=Un,Oz=Kt,Az=Wn,Ez="[object String]";function Pz(t){return typeof t=="string"||!Oz(t)&&Az(t)&&Sz(t)==Ez}var jz=Pz;const ja=ke(jz);var rT={exports:{}},$e={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy=Symbol.for("react.element"),_y=Symbol.for("react.portal"),qf=Symbol.for("react.fragment"),Hf=Symbol.for("react.strict_mode"),Kf=Symbol.for("react.profiler"),Vf=Symbol.for("react.provider"),Gf=Symbol.for("react.context"),Tz=Symbol.for("react.server_context"),Yf=Symbol.for("react.forward_ref"),Xf=Symbol.for("react.suspense"),Qf=Symbol.for("react.suspense_list"),Jf=Symbol.for("react.memo"),Zf=Symbol.for("react.lazy"),Cz=Symbol.for("react.offscreen"),nT;nT=Symbol.for("react.module.reference");function wr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case xy:switch(t=t.type,t){case qf:case Kf:case Hf:case Xf:case Qf:return t;default:switch(t=t&&t.$$typeof,t){case Tz:case Gf:case Yf:case Zf:case Jf:case Vf:return t;default:return e}}case _y:return e}}}$e.ContextConsumer=Gf;$e.ContextProvider=Vf;$e.Element=xy;$e.ForwardRef=Yf;$e.Fragment=qf;$e.Lazy=Zf;$e.Memo=Jf;$e.Portal=_y;$e.Profiler=Kf;$e.StrictMode=Hf;$e.Suspense=Xf;$e.SuspenseList=Qf;$e.isAsyncMode=function(){return!1};$e.isConcurrentMode=function(){return!1};$e.isContextConsumer=function(t){return wr(t)===Gf};$e.isContextProvider=function(t){return wr(t)===Vf};$e.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===xy};$e.isForwardRef=function(t){return wr(t)===Yf};$e.isFragment=function(t){return wr(t)===qf};$e.isLazy=function(t){return wr(t)===Zf};$e.isMemo=function(t){return wr(t)===Jf};$e.isPortal=function(t){return wr(t)===_y};$e.isProfiler=function(t){return wr(t)===Kf};$e.isStrictMode=function(t){return wr(t)===Hf};$e.isSuspense=function(t){return wr(t)===Xf};$e.isSuspenseList=function(t){return wr(t)===Qf};$e.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===qf||t===Kf||t===Hf||t===Xf||t===Qf||t===Cz||typeof t=="object"&&t!==null&&(t.$$typeof===Zf||t.$$typeof===Jf||t.$$typeof===Vf||t.$$typeof===Gf||t.$$typeof===Yf||t.$$typeof===nT||t.getModuleId!==void 0)};$e.typeOf=wr;rT.exports=$e;var kz=rT.exports,Nz=Un,$z=Wn,Rz="[object Number]";function Iz(t){return typeof t=="number"||$z(t)&&Nz(t)==Rz}var iT=Iz;const Mz=ke(iT);var Dz=iT;function Lz(t){return Dz(t)&&t!=+t}var Bz=Lz;const ks=ke(Bz);var Rt=function(e){return e===0?0:e>0?1:-1},aa=function(e){return ja(e)&&e.indexOf("%")===e.length-1},Y=function(e){return Mz(e)&&!ks(e)},Fz=function(e){return ce(e)},pt=function(e){return Y(e)||ja(e)},Uz=0,Ri=function(e){var r=++Uz;return"".concat(e||"").concat(r)},It=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Y(e)&&!ja(e))return n;var a;if(aa(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return ks(a)&&(a=n),i&&a>r&&(a=r),a},ii=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},Wz=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},De=function(e,r){return Y(e)&&Y(r)?function(n){return e+n*(r-e)}:function(){return r}};function Gu(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):rr(n,e))===r})}var zz=function(e){if(!e||!e.length)return null;for(var r=e.length,n=0,i=0,a=0,o=0,s=1/0,l=-1/0,c=0,u=0,d=0;d<r;d++)c=e[d].cx||0,u=e[d].cy||0,n+=c,i+=u,a+=c*u,o+=c*c,s=Math.min(s,c),l=Math.max(l,c);var f=r*o!==n*n?(r*a-n*i)/(r*o-n*n):0;return{xmin:s,xmax:l,a:f,b:(i-f*n)/r}},qz=function(e,r){return Y(e)&&Y(r)?e-r:ja(e)&&ja(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function bo(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function Tm(t){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tm(t)}var Hz=["viewBox","children"],Kz=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],nw=["points","pathLength"],op={svg:Hz,polygon:nw,polyline:nw},Sy=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Yu=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(x.isValidElement(e)&&(n=e.props),!Ps(n))return null;var i={};return Object.keys(n).forEach(function(a){Sy.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},Vz=function(e,r,n){return function(i){return e(r,n,i),null}},Pi=function(e,r,n){if(!Ps(e)||Tm(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];Sy.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=Vz(o,r,n))}),i},Gz=["children"],Yz=["children"];function iw(t,e){if(t==null)return{};var r=Xz(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Xz(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Cm(t){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cm(t)}var aw={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Pn=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},ow=null,sp=null,Oy=function t(e){if(e===ow&&Array.isArray(sp))return sp;var r=[];return x.Children.forEach(e,function(n){ce(n)||(kz.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),sp=r,ow=e,r};function Dt(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Pn(i)}):n=[Pn(e)],Oy(t).forEach(function(i){var a=rr(i,"type.displayName")||rr(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Qt(t,e){var r=Dt(t,e);return r&&r[0]}var sw=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!Y(n)||n<=0||!Y(i)||i<=0)},Qz=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Jz=function(e){return e&&e.type&&ja(e.type)&&Qz.indexOf(e.type)>=0},aT=function(e){return e&&Cm(e)==="object"&&"clipDot"in e},Zz=function(e,r,n,i){var a,o=(a=op==null?void 0:op[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!le(e)&&(i&&o.includes(r)||Kz.includes(r))||n&&Sy.includes(r)},te=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(x.isValidElement(e)&&(i=e.props),!Ps(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;Zz((s=i)===null||s===void 0?void 0:s[o],o,r,n)&&(a[o]=i[o])}),a},km=function t(e,r){if(e===r)return!0;var n=x.Children.count(e);if(n!==x.Children.count(r))return!1;if(n===0)return!0;if(n===1)return lw(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!lw(a,o))return!1}return!0},lw=function(e,r){if(ce(e)&&ce(r))return!0;if(!ce(e)&&!ce(r)){var n=e.props||{},i=n.children,a=iw(n,Gz),o=r.props||{},s=o.children,l=iw(o,Yz);return i&&s?bo(a,l)&&km(i,s):!i&&!s?bo(a,l):!1}return!1},cw=function(e,r){var n=[],i={};return Oy(e).forEach(function(a,o){if(Jz(a))n.push(a);else if(a){var s=Pn(a.type),l=r[s]||{},c=l.handler,u=l.once;if(c&&(!u||!i[s])){var d=c(a,s,o);n.push(d),i[s]=!0}}}),n},eq=function(e){var r=e&&e.type;return r&&aw[r]?aw[r]:null},tq=function(e,r){return Oy(r).indexOf(e)},rq=["children","width","height","viewBox","className","style","title","desc"];function Nm(){return Nm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nm.apply(this,arguments)}function nq(t,e){if(t==null)return{};var r=iq(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function iq(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $m(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,c=nq(t,rq),u=i||{width:r,height:n,x:0,y:0},d=pe("recharts-surface",a);return j.createElement("svg",Nm({},te(c,!0,"svg"),{className:d,width:r,height:n,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),j.createElement("title",null,s),j.createElement("desc",null,l),e)}var aq=["children","className"];function Rm(){return Rm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rm.apply(this,arguments)}function oq(t,e){if(t==null)return{};var r=sq(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function sq(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var me=j.forwardRef(function(t,e){var r=t.children,n=t.className,i=oq(t,aq),a=pe("recharts-layer",n);return j.createElement("g",Rm({className:a},te(i,!0),{ref:e}),r)}),Lr=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function lq(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var cq=lq,uq=cq;function dq(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:uq(t,e,r)}var fq=dq,hq="\\ud800-\\udfff",pq="\\u0300-\\u036f",mq="\\ufe20-\\ufe2f",vq="\\u20d0-\\u20ff",gq=pq+mq+vq,yq="\\ufe0e\\ufe0f",bq="\\u200d",wq=RegExp("["+bq+hq+gq+yq+"]");function xq(t){return wq.test(t)}var oT=xq;function _q(t){return t.split("")}var Sq=_q,sT="\\ud800-\\udfff",Oq="\\u0300-\\u036f",Aq="\\ufe20-\\ufe2f",Eq="\\u20d0-\\u20ff",Pq=Oq+Aq+Eq,jq="\\ufe0e\\ufe0f",Tq="["+sT+"]",Im="["+Pq+"]",Mm="\\ud83c[\\udffb-\\udfff]",Cq="(?:"+Im+"|"+Mm+")",lT="[^"+sT+"]",cT="(?:\\ud83c[\\udde6-\\uddff]){2}",uT="[\\ud800-\\udbff][\\udc00-\\udfff]",kq="\\u200d",dT=Cq+"?",fT="["+jq+"]?",Nq="(?:"+kq+"(?:"+[lT,cT,uT].join("|")+")"+fT+dT+")*",$q=fT+dT+Nq,Rq="(?:"+[lT+Im+"?",Im,cT,uT,Tq].join("|")+")",Iq=RegExp(Mm+"(?="+Mm+")|"+Rq+$q,"g");function Mq(t){return t.match(Iq)||[]}var Dq=Mq,Lq=Sq,Bq=oT,Fq=Dq;function Uq(t){return Bq(t)?Fq(t):Lq(t)}var Wq=Uq,zq=fq,qq=oT,Hq=Wq,Kq=Zj;function Vq(t){return function(e){e=Kq(e);var r=qq(e)?Hq(e):void 0,n=r?r[0]:e.charAt(0),i=r?zq(r,1).join(""):e.slice(1);return n[t]()+i}}var Gq=Vq,Yq=Gq,Xq=Yq("toUpperCase"),Qq=Xq;const eh=ke(Qq);function We(t){return function(){return t}}const hT=Math.cos,Xu=Math.sin,zr=Math.sqrt,Qu=Math.PI,th=2*Qu,Dm=Math.PI,Lm=2*Dm,Xi=1e-6,Jq=Lm-Xi;function pT(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Zq(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return pT;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class eH{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?pT:Zq(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=n-e,c=i-r,u=o-e,d=s-r,f=u*u+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(f>Xi)if(!(Math.abs(d*l-c*u)>Xi)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-o,g=i-s,m=l*l+c*c,v=p*p+g*g,b=Math.sqrt(m),w=Math.sqrt(f),y=a*Math.tan((Dm-Math.acos((m+f-v)/(2*b*w)))/2),O=y/w,_=y/b;Math.abs(O-1)>Xi&&this._append`L${e+O*u},${r+O*d}`,this._append`A${a},${a},0,0,${+(d*p>u*g)},${this._x1=e+_*l},${this._y1=r+_*c}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),c=e+s,u=r+l,d=1^o,f=o?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Xi||Math.abs(this._y1-u)>Xi)&&this._append`L${c},${u}`,n&&(f<0&&(f=f%Lm+Lm),f>Jq?this._append`A${n},${n},0,1,${d},${e-s},${r-l}A${n},${n},0,1,${d},${this._x1=c},${this._y1=u}`:f>Xi&&this._append`A${n},${n},0,${+(f>=Dm)},${d},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Ay(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new eH(e)}function Ey(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function mT(t){this._context=t}mT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function rh(t){return new mT(t)}function vT(t){return t[0]}function gT(t){return t[1]}function yT(t,e){var r=We(!0),n=null,i=rh,a=null,o=Ay(s);t=typeof t=="function"?t:t===void 0?vT:We(t),e=typeof e=="function"?e:e===void 0?gT:We(e);function s(l){var c,u=(l=Ey(l)).length,d,f=!1,p;for(n==null&&(a=i(p=o())),c=0;c<=u;++c)!(c<u&&r(d=l[c],c,l))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(d,c,l),+e(d,c,l));if(p)return a=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:We(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:We(+l),s):e},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:We(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),s):n},s}function Jc(t,e,r){var n=null,i=We(!0),a=null,o=rh,s=null,l=Ay(c);t=typeof t=="function"?t:t===void 0?vT:We(+t),e=typeof e=="function"?e:We(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?gT:We(+r);function c(d){var f,p,g,m=(d=Ey(d)).length,v,b=!1,w,y=new Array(m),O=new Array(m);for(a==null&&(s=o(w=l())),f=0;f<=m;++f){if(!(f<m&&i(v=d[f],f,d))===b)if(b=!b)p=f,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=f-1;g>=p;--g)s.point(y[g],O[g]);s.lineEnd(),s.areaEnd()}b&&(y[f]=+t(v,f,d),O[f]=+e(v,f,d),s.point(n?+n(v,f,d):y[f],r?+r(v,f,d):O[f]))}if(w)return s=null,w+""||null}function u(){return yT().defined(i).curve(o).context(a)}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:We(+d),n=null,c):t},c.x0=function(d){return arguments.length?(t=typeof d=="function"?d:We(+d),c):t},c.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:We(+d),c):n},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:We(+d),r=null,c):e},c.y0=function(d){return arguments.length?(e=typeof d=="function"?d:We(+d),c):e},c.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:We(+d),c):r},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(r)},c.lineX1=function(){return u().x(n).y(e)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:We(!!d),c):i},c.curve=function(d){return arguments.length?(o=d,a!=null&&(s=o(a)),c):o},c.context=function(d){return arguments.length?(d==null?a=s=null:s=o(a=d),c):a},c}class bT{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function tH(t){return new bT(t,!0)}function rH(t){return new bT(t,!1)}const Py={draw(t,e){const r=zr(e/Qu);t.moveTo(r,0),t.arc(0,0,r,0,th)}},nH={draw(t,e){const r=zr(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},wT=zr(1/3),iH=wT*2,aH={draw(t,e){const r=zr(e/iH),n=r*wT;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},oH={draw(t,e){const r=zr(e),n=-r/2;t.rect(n,n,r,r)}},sH=.8908130915292852,xT=Xu(Qu/10)/Xu(7*Qu/10),lH=Xu(th/10)*xT,cH=-hT(th/10)*xT,uH={draw(t,e){const r=zr(e*sH),n=lH*r,i=cH*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=th*a/5,s=hT(o),l=Xu(o);t.lineTo(l*r,-s*r),t.lineTo(s*n-l*i,l*n+s*i)}t.closePath()}},lp=zr(3),dH={draw(t,e){const r=-zr(e/(lp*3));t.moveTo(0,r*2),t.lineTo(-lp*r,-r),t.lineTo(lp*r,-r),t.closePath()}},or=-.5,sr=zr(3)/2,Bm=1/zr(12),fH=(Bm/2+1)*3,hH={draw(t,e){const r=zr(e/fH),n=r/2,i=r*Bm,a=n,o=r*Bm+r,s=-a,l=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(or*n-sr*i,sr*n+or*i),t.lineTo(or*a-sr*o,sr*a+or*o),t.lineTo(or*s-sr*l,sr*s+or*l),t.lineTo(or*n+sr*i,or*i-sr*n),t.lineTo(or*a+sr*o,or*o-sr*a),t.lineTo(or*s+sr*l,or*l-sr*s),t.closePath()}};function pH(t,e){let r=null,n=Ay(i);t=typeof t=="function"?t:We(t||Py),e=typeof e=="function"?e:We(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:We(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:We(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Ju(){}function Zu(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function _T(t){this._context=t}_T.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Zu(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Zu(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function mH(t){return new _T(t)}function ST(t){this._context=t}ST.prototype={areaStart:Ju,areaEnd:Ju,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Zu(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function vH(t){return new ST(t)}function OT(t){this._context=t}OT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Zu(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function gH(t){return new OT(t)}function AT(t){this._context=t}AT.prototype={areaStart:Ju,areaEnd:Ju,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function yH(t){return new AT(t)}function uw(t){return t<0?-1:1}function dw(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(uw(a)+uw(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function fw(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function cp(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-n)/3;t._context.bezierCurveTo(n+s,i+s*e,a-s,o-s*r,a,o)}function ed(t){this._context=t}ed.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:cp(this,this._t0,fw(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,cp(this,fw(this,r=dw(this,t,e)),r);break;default:cp(this,this._t0,r=dw(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function ET(t){this._context=new PT(t)}(ET.prototype=Object.create(ed.prototype)).point=function(t,e){ed.prototype.point.call(this,e,t)};function PT(t){this._context=t}PT.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function bH(t){return new ed(t)}function wH(t){return new ET(t)}function jT(t){this._context=t}jT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=hw(t),i=hw(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function hw(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function xH(t){return new jT(t)}function nh(t,e){this._context=t,this._t=e}nh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function _H(t){return new nh(t,.5)}function SH(t){return new nh(t,0)}function OH(t){return new nh(t,1)}function Wo(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,s=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Fm(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function AH(t,e){return t[e]}function EH(t){const e=[];return e.key=t,e}function PH(){var t=We([]),e=Fm,r=Wo,n=AH;function i(a){var o=Array.from(t.apply(this,arguments),EH),s,l=o.length,c=-1,u;for(const d of a)for(s=0,++c;s<l;++s)(o[s][c]=[0,+n(d,o[s].key,c,a)]).data=d;for(s=0,u=Ey(e(o));s<l;++s)o[u[s]].index=s;return r(o,u),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:We(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:We(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?Fm:typeof a=="function"?a:We(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??Wo,i):r},i}function jH(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}Wo(t,e)}}function TH(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=t[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}Wo(t,e)}}function CH(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,l=0,c=0;s<o;++s){for(var u=t[e[s]],d=u[n][1]||0,f=u[n-1][1]||0,p=(d-f)/2,g=0;g<s;++g){var m=t[e[g]],v=m[n][1]||0,b=m[n-1][1]||0;p+=v-b}l+=d,c+=p*d}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,Wo(t,e)}}function Tl(t){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}var kH=["type","size","sizeType"];function Um(){return Um=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Um.apply(this,arguments)}function pw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pw(Object(r),!0).forEach(function(n){NH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NH(t,e,r){return e=$H(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $H(t){var e=RH(t,"string");return Tl(e)=="symbol"?e:e+""}function RH(t,e){if(Tl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IH(t,e){if(t==null)return{};var r=MH(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function MH(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var TT={symbolCircle:Py,symbolCross:nH,symbolDiamond:aH,symbolSquare:oH,symbolStar:uH,symbolTriangle:dH,symbolWye:hH},DH=Math.PI/180,LH=function(e){var r="symbol".concat(eh(e));return TT[r]||Py},BH=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*DH;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},FH=function(e,r){TT["symbol".concat(eh(e))]=r},ih=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=IH(e,kH),c=mw(mw({},l),{},{type:n,size:a,sizeType:s}),u=function(){var v=LH(n),b=pH().type(v).size(BH(a,s,n));return b()},d=c.className,f=c.cx,p=c.cy,g=te(c,!0);return f===+f&&p===+p&&a===+a?j.createElement("path",Um({},g,{className:pe("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(p,")"),d:u()})):null};ih.registerSymbol=FH;function zo(t){"@babel/helpers - typeof";return zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zo(t)}function Wm(){return Wm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wm.apply(this,arguments)}function vw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function UH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vw(Object(r),!0).forEach(function(n){Cl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kT(n.key),n)}}function qH(t,e,r){return e&&zH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function HH(t,e,r){return e=td(e),KH(t,CT()?Reflect.construct(e,r||[],td(t).constructor):e.apply(t,r))}function KH(t,e){if(e&&(zo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VH(t)}function VH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CT=function(){return!!t})()}function td(t){return td=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},td(t)}function GH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zm(t,e)}function zm(t,e){return zm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zm(t,e)}function Cl(t,e,r){return e=kT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kT(t){var e=YH(t,"string");return zo(e)=="symbol"?e:e+""}function YH(t,e){if(zo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(zo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lr=32,jy=function(t){function e(){return WH(this,e),HH(this,e,arguments)}return GH(e,t),qH(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=lr/2,o=lr/6,s=lr/3,l=n.inactive?i:n.color;if(n.type==="plainline")return j.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:lr,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return j.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(lr,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return j.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(lr/8,"h").concat(lr,"v").concat(lr*3/4,"h").concat(-lr,"z"),className:"recharts-legend-icon"});if(j.isValidElement(n.legendIcon)){var c=UH({},n);return delete c.legendIcon,j.cloneElement(n.legendIcon,c)}return j.createElement(ih,{fill:l,cx:a,cy:a,size:lr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:lr,height:lr},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,g){var m=p.formatter||l,v=pe(Cl(Cl({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=le(p.value)?null:p.value;Lr(!le(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=p.inactive?c:p.color;return j.createElement("li",Wm({className:v,style:d,key:"legend-item-".concat(g)},Pi(n.props,p,g)),j.createElement($m,{width:o,height:o,viewBox:u,style:f},n.renderIcon(p)),j.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},m?m(b,p,g):b))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return j.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(x.PureComponent);Cl(jy,"displayName","Legend");Cl(jy,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var XH=Uf;function QH(){this.__data__=new XH,this.size=0}var JH=QH;function ZH(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var e6=ZH;function t6(t){return this.__data__.get(t)}var r6=t6;function n6(t){return this.__data__.has(t)}var i6=n6,a6=Uf,o6=vy,s6=gy,l6=200;function c6(t,e){var r=this.__data__;if(r instanceof a6){var n=r.__data__;if(!o6||n.length<l6-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new s6(n)}return r.set(t,e),this.size=r.size,this}var u6=c6,d6=Uf,f6=JH,h6=e6,p6=r6,m6=i6,v6=u6;function Ns(t){var e=this.__data__=new d6(t);this.size=e.size}Ns.prototype.clear=f6;Ns.prototype.delete=h6;Ns.prototype.get=p6;Ns.prototype.has=m6;Ns.prototype.set=v6;var NT=Ns,g6="__lodash_hash_undefined__";function y6(t){return this.__data__.set(t,g6),this}var b6=y6;function w6(t){return this.__data__.has(t)}var x6=w6,_6=gy,S6=b6,O6=x6;function rd(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new _6;++e<r;)this.add(t[e])}rd.prototype.add=rd.prototype.push=S6;rd.prototype.has=O6;var $T=rd;function A6(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var RT=A6;function E6(t,e){return t.has(e)}var IT=E6,P6=$T,j6=RT,T6=IT,C6=1,k6=2;function N6(t,e,r,n,i,a){var o=r&C6,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var c=a.get(t),u=a.get(e);if(c&&u)return c==e&&u==t;var d=-1,f=!0,p=r&k6?new P6:void 0;for(a.set(t,e),a.set(e,t);++d<s;){var g=t[d],m=e[d];if(n)var v=o?n(m,g,d,e,t,a):n(g,m,d,t,e,a);if(v!==void 0){if(v)continue;f=!1;break}if(p){if(!j6(e,function(b,w){if(!T6(p,w)&&(g===b||i(g,b,r,n,a)))return p.push(w)})){f=!1;break}}else if(!(g===m||i(g,m,r,n,a))){f=!1;break}}return a.delete(t),a.delete(e),f}var MT=N6,$6=hn,R6=$6.Uint8Array,I6=R6;function M6(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var D6=M6;function L6(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var Ty=L6,gw=Sc,yw=I6,B6=my,F6=MT,U6=D6,W6=Ty,z6=1,q6=2,H6="[object Boolean]",K6="[object Date]",V6="[object Error]",G6="[object Map]",Y6="[object Number]",X6="[object RegExp]",Q6="[object Set]",J6="[object String]",Z6="[object Symbol]",eK="[object ArrayBuffer]",tK="[object DataView]",bw=gw?gw.prototype:void 0,up=bw?bw.valueOf:void 0;function rK(t,e,r,n,i,a,o){switch(r){case tK:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case eK:return!(t.byteLength!=e.byteLength||!a(new yw(t),new yw(e)));case H6:case K6:case Y6:return B6(+t,+e);case V6:return t.name==e.name&&t.message==e.message;case X6:case J6:return t==e+"";case G6:var s=U6;case Q6:var l=n&z6;if(s||(s=W6),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;n|=q6,o.set(t,e);var u=F6(s(t),s(e),n,i,a,o);return o.delete(t),u;case Z6:if(up)return up.call(t)==up.call(e)}return!1}var nK=rK;function iK(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var DT=iK,aK=DT,oK=Kt;function sK(t,e,r){var n=e(t);return oK(t)?n:aK(n,r(t))}var lK=sK;function cK(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}var uK=cK;function dK(){return[]}var fK=dK,hK=uK,pK=fK,mK=Object.prototype,vK=mK.propertyIsEnumerable,ww=Object.getOwnPropertySymbols,gK=ww?function(t){return t==null?[]:(t=Object(t),hK(ww(t),function(e){return vK.call(t,e)}))}:pK,yK=gK;function bK(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var wK=bK,xK=Un,_K=Wn,SK="[object Arguments]";function OK(t){return _K(t)&&xK(t)==SK}var AK=OK,xw=AK,EK=Wn,LT=Object.prototype,PK=LT.hasOwnProperty,jK=LT.propertyIsEnumerable,TK=xw(function(){return arguments}())?xw:function(t){return EK(t)&&PK.call(t,"callee")&&!jK.call(t,"callee")},Cy=TK,nd={exports:{}};function CK(){return!1}var kK=CK;nd.exports;(function(t,e){var r=hn,n=kK,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;t.exports=c})(nd,nd.exports);var BT=nd.exports,NK=9007199254740991,$K=/^(?:0|[1-9]\d*)$/;function RK(t,e){var r=typeof t;return e=e??NK,!!e&&(r=="number"||r!="symbol"&&$K.test(t))&&t>-1&&t%1==0&&t<e}var ky=RK,IK=9007199254740991;function MK(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=IK}var Ny=MK,DK=Un,LK=Ny,BK=Wn,FK="[object Arguments]",UK="[object Array]",WK="[object Boolean]",zK="[object Date]",qK="[object Error]",HK="[object Function]",KK="[object Map]",VK="[object Number]",GK="[object Object]",YK="[object RegExp]",XK="[object Set]",QK="[object String]",JK="[object WeakMap]",ZK="[object ArrayBuffer]",eV="[object DataView]",tV="[object Float32Array]",rV="[object Float64Array]",nV="[object Int8Array]",iV="[object Int16Array]",aV="[object Int32Array]",oV="[object Uint8Array]",sV="[object Uint8ClampedArray]",lV="[object Uint16Array]",cV="[object Uint32Array]",ze={};ze[tV]=ze[rV]=ze[nV]=ze[iV]=ze[aV]=ze[oV]=ze[sV]=ze[lV]=ze[cV]=!0;ze[FK]=ze[UK]=ze[ZK]=ze[WK]=ze[eV]=ze[zK]=ze[qK]=ze[HK]=ze[KK]=ze[VK]=ze[GK]=ze[YK]=ze[XK]=ze[QK]=ze[JK]=!1;function uV(t){return BK(t)&&LK(t.length)&&!!ze[DK(t)]}var dV=uV;function fV(t){return function(e){return t(e)}}var FT=fV,id={exports:{}};id.exports;(function(t,e){var r=Vj,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(id,id.exports);var hV=id.exports,pV=dV,mV=FT,_w=hV,Sw=_w&&_w.isTypedArray,vV=Sw?mV(Sw):pV,UT=vV,gV=wK,yV=Cy,bV=Kt,wV=BT,xV=ky,_V=UT,SV=Object.prototype,OV=SV.hasOwnProperty;function AV(t,e){var r=bV(t),n=!r&&yV(t),i=!r&&!n&&wV(t),a=!r&&!n&&!i&&_V(t),o=r||n||i||a,s=o?gV(t.length,String):[],l=s.length;for(var c in t)(e||OV.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||xV(c,l)))&&s.push(c);return s}var EV=AV,PV=Object.prototype;function jV(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||PV;return t===r}var TV=jV;function CV(t,e){return function(r){return t(e(r))}}var WT=CV,kV=WT,NV=kV(Object.keys,Object),$V=NV,RV=TV,IV=$V,MV=Object.prototype,DV=MV.hasOwnProperty;function LV(t){if(!RV(t))return IV(t);var e=[];for(var r in Object(t))DV.call(t,r)&&r!="constructor"&&e.push(r);return e}var BV=LV,FV=py,UV=Ny;function WV(t){return t!=null&&UV(t.length)&&!FV(t)}var Oc=WV,zV=EV,qV=BV,HV=Oc;function KV(t){return HV(t)?zV(t):qV(t)}var ah=KV,VV=lK,GV=yK,YV=ah;function XV(t){return VV(t,YV,GV)}var QV=XV,Ow=QV,JV=1,ZV=Object.prototype,eG=ZV.hasOwnProperty;function tG(t,e,r,n,i,a){var o=r&JV,s=Ow(t),l=s.length,c=Ow(e),u=c.length;if(l!=u&&!o)return!1;for(var d=l;d--;){var f=s[d];if(!(o?f in e:eG.call(e,f)))return!1}var p=a.get(t),g=a.get(e);if(p&&g)return p==e&&g==t;var m=!0;a.set(t,e),a.set(e,t);for(var v=o;++d<l;){f=s[d];var b=t[f],w=e[f];if(n)var y=o?n(w,b,f,e,t,a):n(b,w,f,t,e,a);if(!(y===void 0?b===w||i(b,w,r,n,a):y)){m=!1;break}v||(v=f=="constructor")}if(m&&!v){var O=t.constructor,_=e.constructor;O!=_&&"constructor"in t&&"constructor"in e&&!(typeof O=="function"&&O instanceof O&&typeof _=="function"&&_ instanceof _)&&(m=!1)}return a.delete(t),a.delete(e),m}var rG=tG,nG=Ia,iG=hn,aG=nG(iG,"DataView"),oG=aG,sG=Ia,lG=hn,cG=sG(lG,"Promise"),uG=cG,dG=Ia,fG=hn,hG=dG(fG,"Set"),zT=hG,pG=Ia,mG=hn,vG=pG(mG,"WeakMap"),gG=vG,qm=oG,Hm=vy,Km=uG,Vm=zT,Gm=gG,qT=Un,$s=Yj,Aw="[object Map]",yG="[object Object]",Ew="[object Promise]",Pw="[object Set]",jw="[object WeakMap]",Tw="[object DataView]",bG=$s(qm),wG=$s(Hm),xG=$s(Km),_G=$s(Vm),SG=$s(Gm),Qi=qT;(qm&&Qi(new qm(new ArrayBuffer(1)))!=Tw||Hm&&Qi(new Hm)!=Aw||Km&&Qi(Km.resolve())!=Ew||Vm&&Qi(new Vm)!=Pw||Gm&&Qi(new Gm)!=jw)&&(Qi=function(t){var e=qT(t),r=e==yG?t.constructor:void 0,n=r?$s(r):"";if(n)switch(n){case bG:return Tw;case wG:return Aw;case xG:return Ew;case _G:return Pw;case SG:return jw}return e});var OG=Qi,dp=NT,AG=MT,EG=nK,PG=rG,Cw=OG,kw=Kt,Nw=BT,jG=UT,TG=1,$w="[object Arguments]",Rw="[object Array]",Zc="[object Object]",CG=Object.prototype,Iw=CG.hasOwnProperty;function kG(t,e,r,n,i,a){var o=kw(t),s=kw(e),l=o?Rw:Cw(t),c=s?Rw:Cw(e);l=l==$w?Zc:l,c=c==$w?Zc:c;var u=l==Zc,d=c==Zc,f=l==c;if(f&&Nw(t)){if(!Nw(e))return!1;o=!0,u=!1}if(f&&!u)return a||(a=new dp),o||jG(t)?AG(t,e,r,n,i,a):EG(t,e,l,r,n,i,a);if(!(r&TG)){var p=u&&Iw.call(t,"__wrapped__"),g=d&&Iw.call(e,"__wrapped__");if(p||g){var m=p?t.value():t,v=g?e.value():e;return a||(a=new dp),i(m,v,r,n,a)}}return f?(a||(a=new dp),PG(t,e,r,n,i,a)):!1}var NG=kG,$G=NG,Mw=Wn;function HT(t,e,r,n,i){return t===e?!0:t==null||e==null||!Mw(t)&&!Mw(e)?t!==t&&e!==e:$G(t,e,r,n,HT,i)}var $y=HT,RG=NT,IG=$y,MG=1,DG=2;function LG(t,e,r,n){var i=r.length,a=i,o=!n;if(t==null)return!a;for(t=Object(t);i--;){var s=r[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=r[i];var l=s[0],c=t[l],u=s[1];if(o&&s[2]){if(c===void 0&&!(l in t))return!1}else{var d=new RG;if(n)var f=n(c,u,l,t,e,d);if(!(f===void 0?IG(u,c,MG|DG,n,d):f))return!1}}return!0}var BG=LG,FG=$i;function UG(t){return t===t&&!FG(t)}var KT=UG,WG=KT,zG=ah;function qG(t){for(var e=zG(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,WG(i)]}return e}var HG=qG;function KG(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var VT=KG,VG=BG,GG=HG,YG=VT;function XG(t){var e=GG(t);return e.length==1&&e[0][2]?YG(e[0][0],e[0][1]):function(r){return r===t||VG(r,t,e)}}var QG=XG;function JG(t,e){return t!=null&&e in Object(t)}var ZG=JG,e7=eT,t7=Cy,r7=Kt,n7=ky,i7=Ny,a7=zf;function o7(t,e,r){e=e7(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=a7(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&i7(i)&&n7(o,i)&&(r7(t)||t7(t)))}var s7=o7,l7=ZG,c7=s7;function u7(t,e){return t!=null&&c7(t,e,l7)}var d7=u7,f7=$y,h7=tT,p7=d7,m7=hy,v7=KT,g7=VT,y7=zf,b7=1,w7=2;function x7(t,e){return m7(t)&&v7(e)?g7(y7(t),e):function(r){var n=h7(r,t);return n===void 0&&n===e?p7(r,t):f7(e,n,b7|w7)}}var _7=x7;function S7(t){return t}var Rs=S7;function O7(t){return function(e){return e==null?void 0:e[t]}}var A7=O7,E7=wy;function P7(t){return function(e){return E7(e,t)}}var j7=P7,T7=A7,C7=j7,k7=hy,N7=zf;function $7(t){return k7(t)?T7(N7(t)):C7(t)}var R7=$7,I7=QG,M7=_7,D7=Rs,L7=Kt,B7=R7;function F7(t){return typeof t=="function"?t:t==null?D7:typeof t=="object"?L7(t)?M7(t[0],t[1]):I7(t):B7(t)}var pn=F7;function U7(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var GT=U7;function W7(t){return t!==t}var z7=W7;function q7(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var H7=q7,K7=GT,V7=z7,G7=H7;function Y7(t,e,r){return e===e?G7(t,e,r):K7(t,V7,r)}var X7=Y7,Q7=X7;function J7(t,e){var r=t==null?0:t.length;return!!r&&Q7(t,e,0)>-1}var Z7=J7;function e9(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var t9=e9;function r9(){}var n9=r9,fp=zT,i9=n9,a9=Ty,o9=1/0,s9=fp&&1/a9(new fp([,-0]))[1]==o9?function(t){return new fp(t)}:i9,l9=s9,c9=$T,u9=Z7,d9=t9,f9=IT,h9=l9,p9=Ty,m9=200;function v9(t,e,r){var n=-1,i=u9,a=t.length,o=!0,s=[],l=s;if(r)o=!1,i=d9;else if(a>=m9){var c=e?null:h9(t);if(c)return p9(c);o=!1,i=f9,l=new c9}else l=e?[]:s;e:for(;++n<a;){var u=t[n],d=e?e(u):u;if(u=r||u!==0?u:0,o&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;e&&l.push(d),s.push(u)}else i(l,d,r)||(l!==s&&l.push(d),s.push(u))}return s}var g9=v9,y9=pn,b9=g9;function w9(t,e){return t&&t.length?b9(t,y9(e)):[]}var x9=w9;const Dw=ke(x9);function YT(t,e,r){return e===!0?Dw(t,r):le(e)?Dw(t,e):t}function qo(t){"@babel/helpers - typeof";return qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qo(t)}var _9=["ref"];function Lw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Lw(Object(r),!0).forEach(function(n){oh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Lw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function S9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bw(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QT(n.key),n)}}function O9(t,e,r){return e&&Bw(t.prototype,e),r&&Bw(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function A9(t,e,r){return e=ad(e),E9(t,XT()?Reflect.construct(e,r||[],ad(t).constructor):e.apply(t,r))}function E9(t,e){if(e&&(qo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P9(t)}function P9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XT=function(){return!!t})()}function ad(t){return ad=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ad(t)}function j9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ym(t,e)}function Ym(t,e){return Ym=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ym(t,e)}function oh(t,e,r){return e=QT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QT(t){var e=T9(t,"string");return qo(e)=="symbol"?e:e+""}function T9(t,e){if(qo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(qo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function C9(t,e){if(t==null)return{};var r=k9(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function k9(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function N9(t){return t.value}function $9(t,e){if(j.isValidElement(t))return j.cloneElement(t,e);if(typeof t=="function")return j.createElement(t,e);e.ref;var r=C9(e,_9);return j.createElement(jy,r)}var Fw=1,jn=function(t){function e(){var r;S9(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=A9(this,e,[].concat(i)),oh(r,"lastBoundingBox",{width:-1,height:-1}),r}return j9(e,t),O9(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Fw||Math.abs(i.height-this.lastBoundingBox.height)>Fw)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?mn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,d,f;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();d={left:((c||0)-p.width)/2}}else d=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var g=this.getBBoxSnapshot();f={top:((u||0)-g.height)/2}}else f=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return mn(mn({},d),f)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,d=mn(mn({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return j.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){n.wrapperNode=p}},$9(a,mn(mn({},this.props),{},{payload:YT(u,c,N9)})))}}],[{key:"getWithHeight",value:function(n,i){var a=mn(mn({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&Y(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(x.PureComponent);oh(jn,"displayName","Legend");oh(jn,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Uw=Sc,R9=Cy,I9=Kt,Ww=Uw?Uw.isConcatSpreadable:void 0;function M9(t){return I9(t)||R9(t)||!!(Ww&&t&&t[Ww])}var D9=M9,L9=DT,B9=D9;function JT(t,e,r,n,i){var a=-1,o=t.length;for(r||(r=B9),i||(i=[]);++a<o;){var s=t[a];e>0&&r(s)?e>1?JT(s,e-1,r,n,i):L9(i,s):n||(i[i.length]=s)}return i}var ZT=JT;function F9(t){return function(e,r,n){for(var i=-1,a=Object(e),o=n(e),s=o.length;s--;){var l=o[t?s:++i];if(r(a[l],l,a)===!1)break}return e}}var U9=F9,W9=U9,z9=W9(),q9=z9,H9=q9,K9=ah;function V9(t,e){return t&&H9(t,e,K9)}var eC=V9,G9=Oc;function Y9(t,e){return function(r,n){if(r==null)return r;if(!G9(r))return t(r,n);for(var i=r.length,a=e?i:-1,o=Object(r);(e?a--:++a<i)&&n(o[a],a,o)!==!1;);return r}}var X9=Y9,Q9=eC,J9=X9,Z9=J9(Q9),Ry=Z9,eY=Ry,tY=Oc;function rY(t,e){var r=-1,n=tY(t)?Array(t.length):[];return eY(t,function(i,a,o){n[++r]=e(i,a,o)}),n}var tC=rY;function nY(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var iY=nY,zw=Es;function aY(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,a=zw(t),o=e!==void 0,s=e===null,l=e===e,c=zw(e);if(!s&&!c&&!a&&t>e||a&&o&&l&&!s&&!c||n&&o&&l||!r&&l||!i)return 1;if(!n&&!a&&!c&&t<e||c&&r&&i&&!n&&!a||s&&r&&i||!o&&i||!l)return-1}return 0}var oY=aY,sY=oY;function lY(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,o=i.length,s=r.length;++n<o;){var l=sY(i[n],a[n]);if(l){if(n>=s)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return t.index-e.index}var cY=lY,hp=by,uY=wy,dY=pn,fY=tC,hY=iY,pY=FT,mY=cY,vY=Rs,gY=Kt;function yY(t,e,r){e.length?e=hp(e,function(a){return gY(a)?function(o){return uY(o,a.length===1?a[0]:a)}:a}):e=[vY];var n=-1;e=hp(e,pY(dY));var i=fY(t,function(a,o,s){var l=hp(e,function(c){return c(a)});return{criteria:l,index:++n,value:a}});return hY(i,function(a,o){return mY(a,o,r)})}var bY=yY;function wY(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var xY=wY,_Y=xY,qw=Math.max;function SY(t,e,r){return e=qw(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=qw(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=r(o),_Y(t,this,s)}}var OY=SY;function AY(t){return function(){return t}}var EY=AY,PY=Ia,jY=function(){try{var t=PY(Object,"defineProperty");return t({},"",{}),t}catch{}}(),rC=jY,TY=EY,Hw=rC,CY=Rs,kY=Hw?function(t,e){return Hw(t,"toString",{configurable:!0,enumerable:!1,value:TY(e),writable:!0})}:CY,NY=kY,$Y=800,RY=16,IY=Date.now;function MY(t){var e=0,r=0;return function(){var n=IY(),i=RY-(n-r);if(r=n,i>0){if(++e>=$Y)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var DY=MY,LY=NY,BY=DY,FY=BY(LY),UY=FY,WY=Rs,zY=OY,qY=UY;function HY(t,e){return qY(zY(t,e,WY),t+"")}var KY=HY,VY=my,GY=Oc,YY=ky,XY=$i;function QY(t,e,r){if(!XY(r))return!1;var n=typeof e;return(n=="number"?GY(r)&&YY(e,r.length):n=="string"&&e in r)?VY(r[e],t):!1}var sh=QY,JY=ZT,ZY=bY,eX=KY,Kw=sh,tX=eX(function(t,e){if(t==null)return[];var r=e.length;return r>1&&Kw(t,e[0],e[1])?e=[]:r>2&&Kw(e[0],e[1],e[2])&&(e=[e[0]]),ZY(t,JY(e,1),[])}),rX=tX;const Iy=ke(rX);function kl(t){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(t)}function Xm(){return Xm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xm.apply(this,arguments)}function nX(t,e){return sX(t)||oX(t,e)||aX(t,e)||iX()}function iX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aX(t,e){if(t){if(typeof t=="string")return Vw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vw(t,e)}}function Vw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oX(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function sX(t){if(Array.isArray(t))return t}function Gw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Gw(Object(r),!0).forEach(function(n){lX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lX(t,e,r){return e=cX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cX(t){var e=uX(t,"string");return kl(e)=="symbol"?e:e+""}function uX(t,e){if(kl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(kl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dX(t){return Array.isArray(t)&&pt(t[0])&&pt(t[1])?t.join(" ~ "):t}var fX=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,d=e.formatter,f=e.itemSorter,p=e.wrapperClassName,g=e.labelClassName,m=e.label,v=e.labelFormatter,b=e.accessibilityLayer,w=b===void 0?!1:b,y=function(){if(u&&u.length){var N={padding:0,margin:0},D=(f?Iy(u,f):u).map(function(I,L){if(I.type==="none")return null;var T=pp({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},s),R=I.formatter||d||dX,B=I.value,M=I.name,q=B,X=M;if(R&&q!=null&&X!=null){var H=R(B,M,I,L,u);if(Array.isArray(H)){var V=nX(H,2);q=V[0],X=V[1]}else q=H}return j.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:T},pt(X)?j.createElement("span",{className:"recharts-tooltip-item-name"},X):null,pt(X)?j.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,j.createElement("span",{className:"recharts-tooltip-item-value"},q),j.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return j.createElement("ul",{className:"recharts-tooltip-item-list",style:N},D)}return null},O=pp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),_=pp({margin:0},c),S=!ce(m),E=S?m:"",A=pe("recharts-default-tooltip",p),P=pe("recharts-tooltip-label",g);S&&v&&u!==void 0&&u!==null&&(E=v(m,u));var k=w?{role:"status","aria-live":"assertive"}:{};return j.createElement("div",Xm({className:A,style:O},k),j.createElement("p",{className:P,style:_},j.isValidElement(E)?E:"".concat(E)),y())};function Nl(t){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl(t)}function eu(t,e,r){return e=hX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hX(t){var e=pX(t,"string");return Nl(e)=="symbol"?e:e+""}function pX(t,e){if(Nl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qs="recharts-tooltip-wrapper",mX={visibility:"hidden"};function vX(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return pe(qs,eu(eu(eu(eu({},"".concat(qs,"-right"),Y(r)&&e&&Y(e.x)&&r>=e.x),"".concat(qs,"-left"),Y(r)&&e&&Y(e.x)&&r<e.x),"".concat(qs,"-bottom"),Y(n)&&e&&Y(e.y)&&n>=e.y),"".concat(qs,"-top"),Y(n)&&e&&Y(e.y)&&n<e.y))}function Yw(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(a&&Y(a[n]))return a[n];var u=r[n]-s-i,d=r[n]+i;if(e[n])return o[n]?u:d;if(o[n]){var f=u,p=l[n];return f<p?Math.max(d,l[n]):Math.max(u,l[n])}var g=d+s,m=l[n]+c;return g>m?Math.max(u,l[n]):Math.max(d,l[n])}function gX(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function yX(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,c,u,d;return o.height>0&&o.width>0&&r?(u=Yw({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),d=Yw({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=gX({translateX:u,translateY:d,useTranslate3d:s})):c=mX,{cssProperties:c,cssClasses:vX({translateX:u,translateY:d,coordinate:r})}}function Ho(t){"@babel/helpers - typeof";return Ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ho(t)}function Xw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Xw(Object(r),!0).forEach(function(n){Jm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iC(n.key),n)}}function xX(t,e,r){return e&&wX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _X(t,e,r){return e=od(e),SX(t,nC()?Reflect.construct(e,r||[],od(t).constructor):e.apply(t,r))}function SX(t,e){if(e&&(Ho(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OX(t)}function OX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nC=function(){return!!t})()}function od(t){return od=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},od(t)}function AX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qm(t,e)}function Qm(t,e){return Qm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Qm(t,e)}function Jm(t,e,r){return e=iC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iC(t){var e=EX(t,"string");return Ho(e)=="symbol"?e:e+""}function EX(t,e){if(Ho(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ho(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jw=1,PX=function(t){function e(){var r;bX(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=_X(this,e,[].concat(i)),Jm(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Jm(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return AX(e,t),xX(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Jw||Math.abs(n.height-this.state.lastBoundingBox.height)>Jw)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,d=i.hasPayload,f=i.isAnimationActive,p=i.offset,g=i.position,m=i.reverseDirection,v=i.useTranslate3d,b=i.viewBox,w=i.wrapperStyle,y=yX({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:p,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:b}),O=y.cssClasses,_=y.cssProperties,S=Qw(Qw({transition:f&&a?"transform ".concat(s,"ms ").concat(l):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&d?"visible":"hidden",position:"absolute",top:0,left:0},w);return j.createElement("div",{tabIndex:-1,className:O,style:S,ref:function(A){n.wrapperNode=A}},c)}}])}(x.PureComponent),jX=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},nr={isSsr:jX(),get:function(e){return nr[e]},set:function(e,r){if(typeof e=="string")nr[e]=r;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(i){nr[i]=e[i]})}}};function Ko(t){"@babel/helpers - typeof";return Ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ko(t)}function Zw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ex(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Zw(Object(r),!0).forEach(function(n){My(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oC(n.key),n)}}function kX(t,e,r){return e&&CX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function NX(t,e,r){return e=sd(e),$X(t,aC()?Reflect.construct(e,r||[],sd(t).constructor):e.apply(t,r))}function $X(t,e){if(e&&(Ko(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RX(t)}function RX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aC=function(){return!!t})()}function sd(t){return sd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sd(t)}function IX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zm(t,e)}function Zm(t,e){return Zm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Zm(t,e)}function My(t,e,r){return e=oC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oC(t){var e=MX(t,"string");return Ko(e)=="symbol"?e:e+""}function MX(t,e){if(Ko(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ko(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DX(t){return t.dataKey}function LX(t,e){return j.isValidElement(t)?j.cloneElement(t,e):typeof t=="function"?j.createElement(t,e):j.createElement(fX,e)}var tt=function(t){function e(){return TX(this,e),NX(this,e,arguments)}return IX(e,t),kX(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,d=i.filterNull,f=i.isAnimationActive,p=i.offset,g=i.payload,m=i.payloadUniqBy,v=i.position,b=i.reverseDirection,w=i.useTranslate3d,y=i.viewBox,O=i.wrapperStyle,_=g??[];d&&_.length&&(_=YT(g.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),m,DX));var S=_.length>0;return j.createElement(PX,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:f,active:a,coordinate:u,hasPayload:S,offset:p,position:v,reverseDirection:b,useTranslate3d:w,viewBox:y,wrapperStyle:O},LX(c,ex(ex({},this.props),{},{payload:_})))}}])}(x.PureComponent);My(tt,"displayName","Tooltip");My(tt,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!nr.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var BX=hn,FX=function(){return BX.Date.now()},UX=FX,WX=/\s/;function zX(t){for(var e=t.length;e--&&WX.test(t.charAt(e)););return e}var qX=zX,HX=qX,KX=/^\s+/;function VX(t){return t&&t.slice(0,HX(t)+1).replace(KX,"")}var GX=VX,YX=GX,tx=$i,XX=Es,rx=NaN,QX=/^[-+]0x[0-9a-f]+$/i,JX=/^0b[01]+$/i,ZX=/^0o[0-7]+$/i,eQ=parseInt;function tQ(t){if(typeof t=="number")return t;if(XX(t))return rx;if(tx(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=tx(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=YX(t);var r=JX.test(t);return r||ZX.test(t)?eQ(t.slice(2),r?2:8):QX.test(t)?rx:+t}var sC=tQ,rQ=$i,mp=UX,nx=sC,nQ="Expected a function",iQ=Math.max,aQ=Math.min;function oQ(t,e,r){var n,i,a,o,s,l,c=0,u=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(nQ);e=nx(e)||0,rQ(r)&&(u=!!r.leading,d="maxWait"in r,a=d?iQ(nx(r.maxWait)||0,e):a,f="trailing"in r?!!r.trailing:f);function p(S){var E=n,A=i;return n=i=void 0,c=S,o=t.apply(A,E),o}function g(S){return c=S,s=setTimeout(b,e),u?p(S):o}function m(S){var E=S-l,A=S-c,P=e-E;return d?aQ(P,a-A):P}function v(S){var E=S-l,A=S-c;return l===void 0||E>=e||E<0||d&&A>=a}function b(){var S=mp();if(v(S))return w(S);s=setTimeout(b,m(S))}function w(S){return s=void 0,f&&n?p(S):(n=i=void 0,o)}function y(){s!==void 0&&clearTimeout(s),c=0,n=l=i=s=void 0}function O(){return s===void 0?o:w(mp())}function _(){var S=mp(),E=v(S);if(n=arguments,i=this,l=S,E){if(s===void 0)return g(l);if(d)return clearTimeout(s),s=setTimeout(b,e),p(l)}return s===void 0&&(s=setTimeout(b,e)),o}return _.cancel=y,_.flush=O,_}var sQ=oQ,lQ=sQ,cQ=$i,uQ="Expected a function";function dQ(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(uQ);return cQ(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),lQ(t,e,{leading:n,maxWait:e,trailing:i})}var fQ=dQ;const lC=ke(fQ);function $l(t){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(t)}function ix(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ix(Object(r),!0).forEach(function(n){hQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ix(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hQ(t,e,r){return e=pQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pQ(t){var e=mQ(t,"string");return $l(e)=="symbol"?e:e+""}function mQ(t,e){if($l(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if($l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vQ(t,e){return wQ(t)||bQ(t,e)||yQ(t,e)||gQ()}function gQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yQ(t,e){if(t){if(typeof t=="string")return ax(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ax(t,e)}}function ax(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bQ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function wQ(t){if(Array.isArray(t))return t}var Bt=x.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,c=t.minWidth,u=c===void 0?0:c,d=t.minHeight,f=t.maxHeight,p=t.children,g=t.debounce,m=g===void 0?0:g,v=t.id,b=t.className,w=t.onResize,y=t.style,O=y===void 0?{}:y,_=x.useRef(null),S=x.useRef();S.current=w,x.useImperativeHandle(e,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var E=x.useState({containerWidth:i.width,containerHeight:i.height}),A=vQ(E,2),P=A[0],k=A[1],C=x.useCallback(function(D,I){k(function(L){var T=Math.round(D),R=Math.round(I);return L.containerWidth===T&&L.containerHeight===R?L:{containerWidth:T,containerHeight:R}})},[]);x.useEffect(function(){var D=function(M){var q,X=M[0].contentRect,H=X.width,V=X.height;C(H,V),(q=S.current)===null||q===void 0||q.call(S,H,V)};m>0&&(D=lC(D,m,{trailing:!0,leading:!1}));var I=new ResizeObserver(D),L=_.current.getBoundingClientRect(),T=L.width,R=L.height;return C(T,R),I.observe(_.current),function(){I.disconnect()}},[C,m]);var N=x.useMemo(function(){var D=P.containerWidth,I=P.containerHeight;if(D<0||I<0)return null;Lr(aa(o)||aa(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Lr(!r||r>0,"The aspect(%s) must be greater than zero.",r);var L=aa(o)?D:o,T=aa(l)?I:l;r&&r>0&&(L?T=L/r:T&&(L=T*r),f&&T>f&&(T=f)),Lr(L>0||T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,T,o,l,u,d,r);var R=!Array.isArray(p)&&Pn(p.type).endsWith("Chart");return j.Children.map(p,function(B){return j.isValidElement(B)?x.cloneElement(B,tu({width:L,height:T},R?{style:tu({height:"100%",width:"100%",maxHeight:T,maxWidth:L},B.props.style)}:{})):B})},[r,p,l,f,d,u,P,o]);return j.createElement("div",{id:v?"".concat(v):void 0,className:pe("recharts-responsive-container",b),style:tu(tu({},O),{},{width:o,height:l,minWidth:u,minHeight:d,maxHeight:f}),ref:_},N)}),Is=function(e){return null};Is.displayName="Cell";function Rl(t){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(t)}function ox(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ev(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ox(Object(r),!0).forEach(function(n){xQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ox(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xQ(t,e,r){return e=_Q(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _Q(t){var e=SQ(t,"string");return Rl(e)=="symbol"?e:e+""}function SQ(t,e){if(Rl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Rl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qa={widthCache:{},cacheCount:0},OQ=2e3,AQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},sx="recharts_measurement_span";function EQ(t){var e=ev({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var ll=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||nr.isSsr)return{width:0,height:0};var n=EQ(r),i=JSON.stringify({text:e,copyStyle:n});if(Qa.widthCache[i])return Qa.widthCache[i];try{var a=document.getElementById(sx);a||(a=document.createElement("span"),a.setAttribute("id",sx),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=ev(ev({},AQ),n);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return Qa.widthCache[i]=l,++Qa.cacheCount>OQ&&(Qa.cacheCount=0,Qa.widthCache={}),l}catch{return{width:0,height:0}}},PQ=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}function ld(t,e){return kQ(t)||CQ(t,e)||TQ(t,e)||jQ()}function jQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TQ(t,e){if(t){if(typeof t=="string")return lx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lx(t,e)}}function lx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function CQ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function kQ(t){if(Array.isArray(t))return t}function NQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cx(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RQ(n.key),n)}}function $Q(t,e,r){return e&&cx(t.prototype,e),r&&cx(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function RQ(t){var e=IQ(t,"string");return Il(e)=="symbol"?e:e+""}function IQ(t,e){if(Il(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Il(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ux=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,dx=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,MQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,DQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,cC={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},LQ=Object.keys(cC),oo="NaN";function BQ(t,e){return t*cC[e]}var ru=function(){function t(e,r){NQ(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!MQ.test(r)&&(this.num=NaN,this.unit=""),LQ.includes(r)&&(this.num=BQ(e,r),this.unit="px")}return $Q(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=DQ.exec(r))!==null&&n!==void 0?n:[],a=ld(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function uC(t){if(t.includes(oo))return oo;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=ux.exec(e))!==null&&r!==void 0?r:[],i=ld(n,4),a=i[1],o=i[2],s=i[3],l=ru.parse(a??""),c=ru.parse(s??""),u=o==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return oo;e=e.replace(ux,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,f=(d=dx.exec(e))!==null&&d!==void 0?d:[],p=ld(f,4),g=p[1],m=p[2],v=p[3],b=ru.parse(g??""),w=ru.parse(v??""),y=m==="+"?b.add(w):b.subtract(w);if(y.isNaN())return oo;e=e.replace(dx,y.toString())}return e}var fx=/\(([^()]*)\)/;function FQ(t){for(var e=t;e.includes("(");){var r=fx.exec(e),n=ld(r,2),i=n[1];e=e.replace(fx,uC(i))}return e}function UQ(t){var e=t.replace(/\s+/g,"");return e=FQ(e),e=uC(e),e}function WQ(t){try{return UQ(t)}catch{return oo}}function vp(t){var e=WQ(t.slice(5,-1));return e===oo?"":e}var zQ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],qQ=["dx","dy","angle","className","breakAll"];function tv(){return tv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tv.apply(this,arguments)}function hx(t,e){if(t==null)return{};var r=HQ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function HQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function px(t,e){return YQ(t)||GQ(t,e)||VQ(t,e)||KQ()}function KQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VQ(t,e){if(t){if(typeof t=="string")return mx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mx(t,e)}}function mx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function GQ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function YQ(t){if(Array.isArray(t))return t}var dC=/[ \f\n\r\t\v\u2028\u2029]+/,fC=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];ce(r)||(n?a=r.toString().split(""):a=r.toString().split(dC));var o=a.map(function(l){return{word:l,width:ll(l,i).width}}),s=n?0:ll("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},XQ=function(e,r,n,i,a){var o=e.maxLines,s=e.children,l=e.style,c=e.breakAll,u=Y(o),d=s,f=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce(function(T,R){var B=R.word,M=R.width,q=T[T.length-1];if(q&&(i==null||a||q.width+M+n<Number(i)))q.words.push(B),q.width+=M+n;else{var X={words:[B],width:M};T.push(X)}return T},[])},p=f(r),g=function(L){return L.reduce(function(T,R){return T.width>R.width?T:R})};if(!u)return p;for(var m="",v=function(L){var T=d.slice(0,L),R=fC({breakAll:c,style:l,children:T+m}).wordsWithComputedWidth,B=f(R),M=B.length>o||g(B).width>Number(i);return[M,B]},b=0,w=d.length-1,y=0,O;b<=w&&y<=d.length-1;){var _=Math.floor((b+w)/2),S=_-1,E=v(S),A=px(E,2),P=A[0],k=A[1],C=v(_),N=px(C,1),D=N[0];if(!P&&!D&&(b=_+1),P&&D&&(w=_-1),!P&&D){O=k;break}y++}return O||p},vx=function(e){var r=ce(e)?[]:e.toString().split(dC);return[{words:r}]},QQ=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((r||n)&&!nr.isSsr){var l,c,u=fC({breakAll:o,children:i,style:a});if(u){var d=u.wordsWithComputedWidth,f=u.spaceWidth;l=d,c=f}else return vx(i);return XQ({breakAll:o,children:i,maxLines:s,style:a},l,c,r,n)}return vx(i)},gx="#808080",Ta=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,d=u===void 0?!1:u,f=e.textAnchor,p=f===void 0?"start":f,g=e.verticalAnchor,m=g===void 0?"end":g,v=e.fill,b=v===void 0?gx:v,w=hx(e,zQ),y=x.useMemo(function(){return QQ({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:d,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,d,w.style,w.width]),O=w.dx,_=w.dy,S=w.angle,E=w.className,A=w.breakAll,P=hx(w,qQ);if(!pt(n)||!pt(a))return null;var k=n+(Y(O)?O:0),C=a+(Y(_)?_:0),N;switch(m){case"start":N=vp("calc(".concat(c,")"));break;case"middle":N=vp("calc(".concat((y.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:N=vp("calc(".concat(y.length-1," * -").concat(s,")"));break}var D=[];if(d){var I=y[0].width,L=w.width;D.push("scale(".concat((Y(L)?L/I:1)/I,")"))}return S&&D.push("rotate(".concat(S,", ").concat(k,", ").concat(C,")")),D.length&&(P.transform=D.join(" ")),j.createElement("text",tv({},te(P,!0),{x:k,y:C,className:pe("recharts-text",E),textAnchor:p,fill:b.includes("url")?gx:b}),y.map(function(T,R){var B=T.words.join(A?"":" ");return j.createElement("tspan",{x:k,dy:R===0?N:s,key:"".concat(B,"-").concat(R)},B)}))};function xi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function JQ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Dy(t){let e,r,n;t.length!==2?(e=xi,r=(s,l)=>xi(t(s),l),n=(s,l)=>t(s)-l):(e=t===xi||t===JQ?t:ZQ,r=t,n=t);function i(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;r(s[d],l)<0?c=d+1:u=d}while(c<u)}return c}function a(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;r(s[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function o(s,l,c=0,u=s.length){const d=i(s,l,c,u-1);return d>c&&n(s[d-1],l)>-n(s[d],l)?d-1:d}return{left:i,center:o,right:a}}function ZQ(){return 0}function hC(t){return t===null?NaN:+t}function*eJ(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const tJ=Dy(xi),Ac=tJ.right;Dy(hC).center;class yx extends Map{constructor(e,r=iJ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(bx(this,e))}has(e){return super.has(bx(this,e))}set(e,r){return super.set(rJ(this,e),r)}delete(e){return super.delete(nJ(this,e))}}function bx({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function rJ({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function nJ({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function iJ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function aJ(t=xi){if(t===xi)return pC;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function pC(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const oJ=Math.sqrt(50),sJ=Math.sqrt(10),lJ=Math.sqrt(2);function cd(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=oJ?10:a>=sJ?5:a>=lJ?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=r&&r<2?cd(t,e,r*2):[s,l,c]}function rv(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?cd(e,t,r):cd(t,e,r);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(n)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function nv(t,e,r){return e=+e,t=+t,r=+r,cd(t,e,r)[2]}function iv(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?nv(e,t,r):nv(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function wx(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function xx(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function mC(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?pC:aJ(i);n>r;){if(n-r>600){const l=n-r+1,c=e-r+1,u=Math.log(l),d=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(e-c*d/l+f)),g=Math.min(n,Math.floor(e+(l-c)*d/l+f));mC(t,e,p,g,i)}const a=t[e];let o=r,s=n;for(Hs(t,r,e),i(t[n],a)>0&&Hs(t,r,n);o<s;){for(Hs(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[r],a)===0?Hs(t,r,s):(++s,Hs(t,s,n)),s<=e&&(r=s+1),e<=s&&(n=s-1)}return t}function Hs(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function cJ(t,e,r){if(t=Float64Array.from(eJ(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return xx(t);if(e>=1)return wx(t);var n,i=(n-1)*e,a=Math.floor(i),o=wx(mC(t,a).subarray(0,a+1)),s=xx(t.subarray(a+1));return o+(s-o)*(i-a)}}function uJ(t,e,r=hC){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),s=+r(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function dJ(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function xr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function zn(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const av=Symbol("implicit");function Ly(){var t=new yx,e=[],r=[],n=av;function i(a){let o=t.get(a);if(o===void 0){if(n!==av)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new yx;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Ly(e,r).unknown(n)},xr.apply(i,arguments),i}function Ml(){var t=Ly().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,s=!1,l=0,c=0,u=.5;delete t.unknown;function d(){var f=e().length,p=i<n,g=p?i:n,m=p?n:i;a=(m-g)/Math.max(1,f-l+c*2),s&&(a=Math.floor(a)),g+=(m-g-a*(f-l))*u,o=a*(1-l),s&&(g=Math.round(g),o=Math.round(o));var v=dJ(f).map(function(b){return g+a*b});return r(p?v.reverse():v)}return t.domain=function(f){return arguments.length?(e(f),d()):e()},t.range=function(f){return arguments.length?([n,i]=f,n=+n,i=+i,d()):[n,i]},t.rangeRound=function(f){return[n,i]=f,n=+n,i=+i,s=!0,d()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(f){return arguments.length?(s=!!f,d()):s},t.padding=function(f){return arguments.length?(l=Math.min(1,c=+f),d()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),d()):l},t.paddingOuter=function(f){return arguments.length?(c=+f,d()):c},t.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),d()):u},t.copy=function(){return Ml(e(),[n,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},xr.apply(d(),arguments)}function vC(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return vC(e())},t}function cl(){return vC(Ml.apply(null,arguments).paddingInner(1))}function By(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function gC(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Ec(){}var Dl=.7,ud=1/Dl,wo="\\s*([+-]?\\d+)\\s*",Ll="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",an="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fJ=/^#([0-9a-f]{3,8})$/,hJ=new RegExp(`^rgb\\(${wo},${wo},${wo}\\)$`),pJ=new RegExp(`^rgb\\(${an},${an},${an}\\)$`),mJ=new RegExp(`^rgba\\(${wo},${wo},${wo},${Ll}\\)$`),vJ=new RegExp(`^rgba\\(${an},${an},${an},${Ll}\\)$`),gJ=new RegExp(`^hsl\\(${Ll},${an},${an}\\)$`),yJ=new RegExp(`^hsla\\(${Ll},${an},${an},${Ll}\\)$`),_x={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};By(Ec,Bl,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Sx,formatHex:Sx,formatHex8:bJ,formatHsl:wJ,formatRgb:Ox,toString:Ox});function Sx(){return this.rgb().formatHex()}function bJ(){return this.rgb().formatHex8()}function wJ(){return yC(this).formatHsl()}function Ox(){return this.rgb().formatRgb()}function Bl(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=fJ.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?Ax(e):r===3?new qt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?nu(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?nu(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=hJ.exec(t))?new qt(e[1],e[2],e[3],1):(e=pJ.exec(t))?new qt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=mJ.exec(t))?nu(e[1],e[2],e[3],e[4]):(e=vJ.exec(t))?nu(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=gJ.exec(t))?jx(e[1],e[2]/100,e[3]/100,1):(e=yJ.exec(t))?jx(e[1],e[2]/100,e[3]/100,e[4]):_x.hasOwnProperty(t)?Ax(_x[t]):t==="transparent"?new qt(NaN,NaN,NaN,0):null}function Ax(t){return new qt(t>>16&255,t>>8&255,t&255,1)}function nu(t,e,r,n){return n<=0&&(t=e=r=NaN),new qt(t,e,r,n)}function xJ(t){return t instanceof Ec||(t=Bl(t)),t?(t=t.rgb(),new qt(t.r,t.g,t.b,t.opacity)):new qt}function ov(t,e,r,n){return arguments.length===1?xJ(t):new qt(t,e,r,n??1)}function qt(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}By(qt,ov,gC(Ec,{brighter(t){return t=t==null?ud:Math.pow(ud,t),new qt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Dl:Math.pow(Dl,t),new qt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new qt(wa(this.r),wa(this.g),wa(this.b),dd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ex,formatHex:Ex,formatHex8:_J,formatRgb:Px,toString:Px}));function Ex(){return`#${oa(this.r)}${oa(this.g)}${oa(this.b)}`}function _J(){return`#${oa(this.r)}${oa(this.g)}${oa(this.b)}${oa((isNaN(this.opacity)?1:this.opacity)*255)}`}function Px(){const t=dd(this.opacity);return`${t===1?"rgb(":"rgba("}${wa(this.r)}, ${wa(this.g)}, ${wa(this.b)}${t===1?")":`, ${t})`}`}function dd(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function wa(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function oa(t){return t=wa(t),(t<16?"0":"")+t.toString(16)}function jx(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Dr(t,e,r,n)}function yC(t){if(t instanceof Dr)return new Dr(t.h,t.s,t.l,t.opacity);if(t instanceof Ec||(t=Bl(t)),!t)return new Dr;if(t instanceof Dr)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-e)/s+2:o=(e-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Dr(o,s,l,t.opacity)}function SJ(t,e,r,n){return arguments.length===1?yC(t):new Dr(t,e,r,n??1)}function Dr(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}By(Dr,SJ,gC(Ec,{brighter(t){return t=t==null?ud:Math.pow(ud,t),new Dr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Dl:Math.pow(Dl,t),new Dr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new qt(gp(t>=240?t-240:t+120,i,n),gp(t,i,n),gp(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Dr(Tx(this.h),iu(this.s),iu(this.l),dd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=dd(this.opacity);return`${t===1?"hsl(":"hsla("}${Tx(this.h)}, ${iu(this.s)*100}%, ${iu(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Tx(t){return t=(t||0)%360,t<0?t+360:t}function iu(t){return Math.max(0,Math.min(1,t||0))}function gp(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const Fy=t=>()=>t;function OJ(t,e){return function(r){return t+r*e}}function AJ(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function EJ(t){return(t=+t)==1?bC:function(e,r){return r-e?AJ(e,r,t):Fy(isNaN(e)?r:e)}}function bC(t,e){var r=e-t;return r?OJ(t,r):Fy(isNaN(t)?e:t)}const Cx=function t(e){var r=EJ(e);function n(i,a){var o=r((i=ov(i)).r,(a=ov(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),c=bC(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=t,n}(1);function PJ(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function jJ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function TJ(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=Ms(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function CJ(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function fd(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function kJ(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Ms(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var sv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yp=new RegExp(sv.source,"g");function NJ(t){return function(){return t}}function $J(t){return function(e){return t(e)+""}}function RJ(t,e){var r=sv.lastIndex=yp.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(n=sv.exec(t))&&(i=yp.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:fd(n,i)})),r=yp.lastIndex;return r<e.length&&(a=e.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?$J(l[0].x):NJ(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)s[(d=l[u]).i]=d.x(c);return s.join("")})}function Ms(t,e){var r=typeof e,n;return e==null||r==="boolean"?Fy(e):(r==="number"?fd:r==="string"?(n=Bl(e))?(e=n,Cx):RJ:e instanceof Bl?Cx:e instanceof Date?CJ:jJ(e)?PJ:Array.isArray(e)?TJ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?kJ:fd)(t,e)}function Uy(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function IJ(t,e){e===void 0&&(e=t,t=Ms);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function MJ(t){return function(){return t}}function hd(t){return+t}var kx=[0,1];function Mt(t){return t}function lv(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:MJ(isNaN(e)?NaN:.5)}function DJ(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function LJ(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=lv(i,n),a=r(o,a)):(n=lv(n,i),a=r(a,o)),function(s){return a(n(s))}}function BJ(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=lv(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(s){var l=Ac(t,s,1,n)-1;return a[l](i[l](s))}}function Pc(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function lh(){var t=kx,e=kx,r=Ms,n,i,a,o=Mt,s,l,c;function u(){var f=Math.min(t.length,e.length);return o!==Mt&&(o=DJ(t[0],t[f-1])),s=f>2?BJ:LJ,l=c=null,d}function d(f){return f==null||isNaN(f=+f)?a:(l||(l=s(t.map(n),e,r)))(n(o(f)))}return d.invert=function(f){return o(i((c||(c=s(e,t.map(n),fd)))(f)))},d.domain=function(f){return arguments.length?(t=Array.from(f,hd),u()):t.slice()},d.range=function(f){return arguments.length?(e=Array.from(f),u()):e.slice()},d.rangeRound=function(f){return e=Array.from(f),r=Uy,u()},d.clamp=function(f){return arguments.length?(o=f?!0:Mt,u()):o!==Mt},d.interpolate=function(f){return arguments.length?(r=f,u()):r},d.unknown=function(f){return arguments.length?(a=f,d):a},function(f,p){return n=f,i=p,u()}}function Wy(){return lh()(Mt,Mt)}function FJ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function pd(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Vo(t){return t=pd(Math.abs(t)),t?t[1]:NaN}function UJ(t,e){return function(r,n){for(var i=r.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function WJ(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var zJ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Fl(t){if(!(e=zJ.exec(t)))throw new Error("invalid format: "+t);var e;return new zy({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Fl.prototype=zy.prototype;function zy(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}zy.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function qJ(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var wC;function HJ(t,e){var r=pd(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(wC=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+pd(t,Math.max(0,e+a-1))[0]}function Nx(t,e){var r=pd(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const $x={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:FJ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Nx(t*100,e),r:Nx,s:HJ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Rx(t){return t}var Ix=Array.prototype.map,Mx=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function KJ(t){var e=t.grouping===void 0||t.thousands===void 0?Rx:UJ(Ix.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?Rx:WJ(Ix.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(d){d=Fl(d);var f=d.fill,p=d.align,g=d.sign,m=d.symbol,v=d.zero,b=d.width,w=d.comma,y=d.precision,O=d.trim,_=d.type;_==="n"?(w=!0,_="g"):$x[_]||(y===void 0&&(y=12),O=!0,_="g"),(v||f==="0"&&p==="=")&&(v=!0,f="0",p="=");var S=m==="$"?r:m==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",E=m==="$"?n:/[%p]/.test(_)?o:"",A=$x[_],P=/[defgprs%]/.test(_);y=y===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function k(C){var N=S,D=E,I,L,T;if(_==="c")D=A(C)+D,C="";else{C=+C;var R=C<0||1/C<0;if(C=isNaN(C)?l:A(Math.abs(C),y),O&&(C=qJ(C)),R&&+C==0&&g!=="+"&&(R=!1),N=(R?g==="("?g:s:g==="-"||g==="("?"":g)+N,D=(_==="s"?Mx[8+wC/3]:"")+D+(R&&g==="("?")":""),P){for(I=-1,L=C.length;++I<L;)if(T=C.charCodeAt(I),48>T||T>57){D=(T===46?i+C.slice(I+1):C.slice(I))+D,C=C.slice(0,I);break}}}w&&!v&&(C=e(C,1/0));var B=N.length+C.length+D.length,M=B<b?new Array(b-B+1).join(f):"";switch(w&&v&&(C=e(M+C,M.length?b-D.length:1/0),M=""),p){case"<":C=N+C+D+M;break;case"=":C=N+M+C+D;break;case"^":C=M.slice(0,B=M.length>>1)+N+C+D+M.slice(B);break;default:C=M+N+C+D;break}return a(C)}return k.toString=function(){return d+""},k}function u(d,f){var p=c((d=Fl(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(Vo(f)/3)))*3,m=Math.pow(10,-g),v=Mx[8+g/3];return function(b){return p(m*b)+v}}return{format:c,formatPrefix:u}}var au,qy,xC;VJ({thousands:",",grouping:[3],currency:["$",""]});function VJ(t){return au=KJ(t),qy=au.format,xC=au.formatPrefix,au}function GJ(t){return Math.max(0,-Vo(Math.abs(t)))}function YJ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Vo(e)/3)))*3-Vo(Math.abs(t)))}function XJ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Vo(e)-Vo(t))+1}function _C(t,e,r,n){var i=iv(t,e,r),a;switch(n=Fl(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=YJ(i,o))&&(n.precision=a),xC(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=XJ(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=GJ(i))&&(n.precision=a-(n.type==="%")*2);break}}return qy(n)}function Ii(t){var e=t.domain;return t.ticks=function(r){var n=e();return rv(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return _C(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],s=n[a],l,c,u=10;for(s<o&&(c=o,o=s,s=c,c=i,i=a,a=c);u-- >0;){if(c=nv(o,s,r),c===l)return n[i]=o,n[a]=s,e(n);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return t},t}function md(){var t=Wy();return t.copy=function(){return Pc(t,md())},xr.apply(t,arguments),Ii(t)}function SC(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,hd),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return SC(t).unknown(e)},t=arguments.length?Array.from(t,hd):[0,1],Ii(r)}function OC(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function Dx(t){return Math.log(t)}function Lx(t){return Math.exp(t)}function QJ(t){return-Math.log(-t)}function JJ(t){return-Math.exp(-t)}function ZJ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function eZ(t){return t===10?ZJ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function tZ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Bx(t){return(e,r)=>-t(-e,r)}function Hy(t){const e=t(Dx,Lx),r=e.domain;let n=10,i,a;function o(){return i=tZ(n),a=eZ(n),r()[0]<0?(i=Bx(i),a=Bx(a),t(QJ,JJ)):t(Dx,Lx),e}return e.base=function(s){return arguments.length?(n=+s,o()):n},e.domain=function(s){return arguments.length?(r(s),o()):r()},e.ticks=s=>{const l=r();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let f=i(c),p=i(u),g,m;const v=s==null?10:+s;let b=[];if(!(n%1)&&p-f<v){if(f=Math.floor(f),p=Math.ceil(p),c>0){for(;f<=p;++f)for(g=1;g<n;++g)if(m=f<0?g/a(-f):g*a(f),!(m<c)){if(m>u)break;b.push(m)}}else for(;f<=p;++f)for(g=n-1;g>=1;--g)if(m=f>0?g/a(-f):g*a(f),!(m<c)){if(m>u)break;b.push(m)}b.length*2<v&&(b=rv(c,u,v))}else b=rv(f,p,Math.min(p-f,v)).map(a);return d?b.reverse():b},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Fl(l)).precision==null&&(l.trim=!0),l=qy(l)),s===1/0)return l;const c=Math.max(1,n*s/e.ticks().length);return u=>{let d=u/a(Math.round(i(u)));return d*n<n-.5&&(d*=n),d<=c?l(u):""}},e.nice=()=>r(OC(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function AC(){const t=Hy(lh()).domain([1,10]);return t.copy=()=>Pc(t,AC()).base(t.base()),xr.apply(t,arguments),t}function Fx(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Ux(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Ky(t){var e=1,r=t(Fx(e),Ux(e));return r.constant=function(n){return arguments.length?t(Fx(e=+n),Ux(e)):e},Ii(r)}function EC(){var t=Ky(lh());return t.copy=function(){return Pc(t,EC()).constant(t.constant())},xr.apply(t,arguments)}function Wx(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function rZ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function nZ(t){return t<0?-t*t:t*t}function Vy(t){var e=t(Mt,Mt),r=1;function n(){return r===1?t(Mt,Mt):r===.5?t(rZ,nZ):t(Wx(r),Wx(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Ii(e)}function Gy(){var t=Vy(lh());return t.copy=function(){return Pc(t,Gy()).exponent(t.exponent())},xr.apply(t,arguments),t}function iZ(){return Gy.apply(null,arguments).exponent(.5)}function zx(t){return Math.sign(t)*t*t}function aZ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function PC(){var t=Wy(),e=[0,1],r=!1,n;function i(a){var o=aZ(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(zx(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,hd)).map(zx)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return PC(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},xr.apply(i,arguments),Ii(i)}function jC(){var t=[],e=[],r=[],n;function i(){var o=0,s=Math.max(1,e.length);for(r=new Array(s-1);++o<s;)r[o-1]=uJ(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:e[Ac(r,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:t[0],s<r.length?r[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(xi),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return jC().domain(t).range(e).unknown(n)},xr.apply(a,arguments)}function TC(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[Ac(n,l,0,r)]:a}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,n[0]]:c>=r?[n[r-1],e]:[n[c-1],n[c]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return TC().domain([t,e]).range(i).unknown(a)},xr.apply(Ii(o),arguments)}function CC(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[Ac(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return CC().domain(t).range(e).unknown(r)},xr.apply(i,arguments)}const bp=new Date,wp=new Date;function mt(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let c;do l.push(c=new Date(+a)),e(a,s),t(a);while(c<a&&a<o);return l},i.filter=a=>mt(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(bp.setTime(+a),wp.setTime(+o),t(bp),t(wp),Math.floor(r(bp,wp))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const vd=mt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);vd.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?mt(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):vd);vd.range;const Sn=1e3,mr=Sn*60,On=mr*60,Rn=On*24,Yy=Rn*7,qx=Rn*30,xp=Rn*365,sa=mt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Sn)},(t,e)=>(e-t)/Sn,t=>t.getUTCSeconds());sa.range;const Xy=mt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Sn)},(t,e)=>{t.setTime(+t+e*mr)},(t,e)=>(e-t)/mr,t=>t.getMinutes());Xy.range;const Qy=mt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*mr)},(t,e)=>(e-t)/mr,t=>t.getUTCMinutes());Qy.range;const Jy=mt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Sn-t.getMinutes()*mr)},(t,e)=>{t.setTime(+t+e*On)},(t,e)=>(e-t)/On,t=>t.getHours());Jy.range;const Zy=mt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*On)},(t,e)=>(e-t)/On,t=>t.getUTCHours());Zy.range;const jc=mt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*mr)/Rn,t=>t.getDate()-1);jc.range;const ch=mt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Rn,t=>t.getUTCDate()-1);ch.range;const kC=mt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Rn,t=>Math.floor(t/Rn));kC.range;function Ma(t){return mt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*mr)/Yy)}const uh=Ma(0),gd=Ma(1),oZ=Ma(2),sZ=Ma(3),Go=Ma(4),lZ=Ma(5),cZ=Ma(6);uh.range;gd.range;oZ.range;sZ.range;Go.range;lZ.range;cZ.range;function Da(t){return mt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/Yy)}const dh=Da(0),yd=Da(1),uZ=Da(2),dZ=Da(3),Yo=Da(4),fZ=Da(5),hZ=Da(6);dh.range;yd.range;uZ.range;dZ.range;Yo.range;fZ.range;hZ.range;const eb=mt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());eb.range;const tb=mt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());tb.range;const In=mt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());In.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:mt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});In.range;const Mn=mt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Mn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:mt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Mn.range;function NC(t,e,r,n,i,a){const o=[[sa,1,Sn],[sa,5,5*Sn],[sa,15,15*Sn],[sa,30,30*Sn],[a,1,mr],[a,5,5*mr],[a,15,15*mr],[a,30,30*mr],[i,1,On],[i,3,3*On],[i,6,6*On],[i,12,12*On],[n,1,Rn],[n,2,2*Rn],[r,1,Yy],[e,1,qx],[e,3,3*qx],[t,1,xp]];function s(c,u,d){const f=u<c;f&&([c,u]=[u,c]);const p=d&&typeof d.range=="function"?d:l(c,u,d),g=p?p.range(c,+u+1):[];return f?g.reverse():g}function l(c,u,d){const f=Math.abs(u-c)/d,p=Dy(([,,v])=>v).right(o,f);if(p===o.length)return t.every(iv(c/xp,u/xp,d));if(p===0)return vd.every(Math.max(iv(c,u,d),1));const[g,m]=o[f/o[p-1][2]<o[p][2]/f?p-1:p];return g.every(m)}return[s,l]}const[pZ,mZ]=NC(Mn,tb,dh,kC,Zy,Qy),[vZ,gZ]=NC(In,eb,uh,jc,Jy,Xy);function _p(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Sp(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ks(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function yZ(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,c=Vs(i),u=Gs(i),d=Vs(a),f=Gs(a),p=Vs(o),g=Gs(o),m=Vs(s),v=Gs(s),b=Vs(l),w=Gs(l),y={a:R,A:B,b:M,B:q,c:null,d:Xx,e:Xx,f:UZ,g:QZ,G:ZZ,H:LZ,I:BZ,j:FZ,L:$C,m:WZ,M:zZ,p:X,q:H,Q:Zx,s:e_,S:qZ,u:HZ,U:KZ,V:VZ,w:GZ,W:YZ,x:null,X:null,y:XZ,Y:JZ,Z:eee,"%":Jx},O={a:V,A:ee,b:ie,B:_e,c:null,d:Qx,e:Qx,f:iee,g:pee,G:vee,H:tee,I:ree,j:nee,L:IC,m:aee,M:oee,p:Q,q:F,Q:Zx,s:e_,S:see,u:lee,U:cee,V:uee,w:dee,W:fee,x:null,X:null,y:hee,Y:mee,Z:gee,"%":Jx},_={a:k,A:C,b:N,B:D,c:I,d:Gx,e:Gx,f:RZ,g:Vx,G:Kx,H:Yx,I:Yx,j:CZ,L:$Z,m:TZ,M:kZ,p:P,q:jZ,Q:MZ,s:DZ,S:NZ,u:SZ,U:OZ,V:AZ,w:_Z,W:EZ,x:L,X:T,y:Vx,Y:Kx,Z:PZ,"%":IZ};y.x=S(r,y),y.X=S(n,y),y.c=S(e,y),O.x=S(r,O),O.X=S(n,O),O.c=S(e,O);function S(U,K){return function(G){var W=[],ve=-1,he=0,je=U.length,Ae,Ee,at;for(G instanceof Date||(G=new Date(+G));++ve<je;)U.charCodeAt(ve)===37&&(W.push(U.slice(he,ve)),(Ee=Hx[Ae=U.charAt(++ve)])!=null?Ae=U.charAt(++ve):Ee=Ae==="e"?" ":"0",(at=K[Ae])&&(Ae=at(G,Ee)),W.push(Ae),he=ve+1);return W.push(U.slice(he,ve)),W.join("")}}function E(U,K){return function(G){var W=Ks(1900,void 0,1),ve=A(W,U,G+="",0),he,je;if(ve!=G.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(K&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(he=Sp(Ks(W.y,0,1)),je=he.getUTCDay(),he=je>4||je===0?yd.ceil(he):yd(he),he=ch.offset(he,(W.V-1)*7),W.y=he.getUTCFullYear(),W.m=he.getUTCMonth(),W.d=he.getUTCDate()+(W.w+6)%7):(he=_p(Ks(W.y,0,1)),je=he.getDay(),he=je>4||je===0?gd.ceil(he):gd(he),he=jc.offset(he,(W.V-1)*7),W.y=he.getFullYear(),W.m=he.getMonth(),W.d=he.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),je="Z"in W?Sp(Ks(W.y,0,1)).getUTCDay():_p(Ks(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(je+5)%7:W.w+W.U*7-(je+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,Sp(W)):_p(W)}}function A(U,K,G,W){for(var ve=0,he=K.length,je=G.length,Ae,Ee;ve<he;){if(W>=je)return-1;if(Ae=K.charCodeAt(ve++),Ae===37){if(Ae=K.charAt(ve++),Ee=_[Ae in Hx?K.charAt(ve++):Ae],!Ee||(W=Ee(U,G,W))<0)return-1}else if(Ae!=G.charCodeAt(W++))return-1}return W}function P(U,K,G){var W=c.exec(K.slice(G));return W?(U.p=u.get(W[0].toLowerCase()),G+W[0].length):-1}function k(U,K,G){var W=p.exec(K.slice(G));return W?(U.w=g.get(W[0].toLowerCase()),G+W[0].length):-1}function C(U,K,G){var W=d.exec(K.slice(G));return W?(U.w=f.get(W[0].toLowerCase()),G+W[0].length):-1}function N(U,K,G){var W=b.exec(K.slice(G));return W?(U.m=w.get(W[0].toLowerCase()),G+W[0].length):-1}function D(U,K,G){var W=m.exec(K.slice(G));return W?(U.m=v.get(W[0].toLowerCase()),G+W[0].length):-1}function I(U,K,G){return A(U,e,K,G)}function L(U,K,G){return A(U,r,K,G)}function T(U,K,G){return A(U,n,K,G)}function R(U){return o[U.getDay()]}function B(U){return a[U.getDay()]}function M(U){return l[U.getMonth()]}function q(U){return s[U.getMonth()]}function X(U){return i[+(U.getHours()>=12)]}function H(U){return 1+~~(U.getMonth()/3)}function V(U){return o[U.getUTCDay()]}function ee(U){return a[U.getUTCDay()]}function ie(U){return l[U.getUTCMonth()]}function _e(U){return s[U.getUTCMonth()]}function Q(U){return i[+(U.getUTCHours()>=12)]}function F(U){return 1+~~(U.getUTCMonth()/3)}return{format:function(U){var K=S(U+="",y);return K.toString=function(){return U},K},parse:function(U){var K=E(U+="",!1);return K.toString=function(){return U},K},utcFormat:function(U){var K=S(U+="",O);return K.toString=function(){return U},K},utcParse:function(U){var K=E(U+="",!0);return K.toString=function(){return U},K}}}var Hx={"-":"",_:" ",0:"0"},yt=/^\s*\d+/,bZ=/^%/,wZ=/[\\^$*+?|[\]().{}]/g;function Oe(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function xZ(t){return t.replace(wZ,"\\$&")}function Vs(t){return new RegExp("^(?:"+t.map(xZ).join("|")+")","i")}function Gs(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function _Z(t,e,r){var n=yt.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function SZ(t,e,r){var n=yt.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function OZ(t,e,r){var n=yt.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function AZ(t,e,r){var n=yt.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function EZ(t,e,r){var n=yt.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function Kx(t,e,r){var n=yt.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function Vx(t,e,r){var n=yt.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function PZ(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function jZ(t,e,r){var n=yt.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function TZ(t,e,r){var n=yt.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function Gx(t,e,r){var n=yt.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function CZ(t,e,r){var n=yt.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function Yx(t,e,r){var n=yt.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function kZ(t,e,r){var n=yt.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function NZ(t,e,r){var n=yt.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function $Z(t,e,r){var n=yt.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function RZ(t,e,r){var n=yt.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function IZ(t,e,r){var n=bZ.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function MZ(t,e,r){var n=yt.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function DZ(t,e,r){var n=yt.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function Xx(t,e){return Oe(t.getDate(),e,2)}function LZ(t,e){return Oe(t.getHours(),e,2)}function BZ(t,e){return Oe(t.getHours()%12||12,e,2)}function FZ(t,e){return Oe(1+jc.count(In(t),t),e,3)}function $C(t,e){return Oe(t.getMilliseconds(),e,3)}function UZ(t,e){return $C(t,e)+"000"}function WZ(t,e){return Oe(t.getMonth()+1,e,2)}function zZ(t,e){return Oe(t.getMinutes(),e,2)}function qZ(t,e){return Oe(t.getSeconds(),e,2)}function HZ(t){var e=t.getDay();return e===0?7:e}function KZ(t,e){return Oe(uh.count(In(t)-1,t),e,2)}function RC(t){var e=t.getDay();return e>=4||e===0?Go(t):Go.ceil(t)}function VZ(t,e){return t=RC(t),Oe(Go.count(In(t),t)+(In(t).getDay()===4),e,2)}function GZ(t){return t.getDay()}function YZ(t,e){return Oe(gd.count(In(t)-1,t),e,2)}function XZ(t,e){return Oe(t.getFullYear()%100,e,2)}function QZ(t,e){return t=RC(t),Oe(t.getFullYear()%100,e,2)}function JZ(t,e){return Oe(t.getFullYear()%1e4,e,4)}function ZZ(t,e){var r=t.getDay();return t=r>=4||r===0?Go(t):Go.ceil(t),Oe(t.getFullYear()%1e4,e,4)}function eee(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Oe(e/60|0,"0",2)+Oe(e%60,"0",2)}function Qx(t,e){return Oe(t.getUTCDate(),e,2)}function tee(t,e){return Oe(t.getUTCHours(),e,2)}function ree(t,e){return Oe(t.getUTCHours()%12||12,e,2)}function nee(t,e){return Oe(1+ch.count(Mn(t),t),e,3)}function IC(t,e){return Oe(t.getUTCMilliseconds(),e,3)}function iee(t,e){return IC(t,e)+"000"}function aee(t,e){return Oe(t.getUTCMonth()+1,e,2)}function oee(t,e){return Oe(t.getUTCMinutes(),e,2)}function see(t,e){return Oe(t.getUTCSeconds(),e,2)}function lee(t){var e=t.getUTCDay();return e===0?7:e}function cee(t,e){return Oe(dh.count(Mn(t)-1,t),e,2)}function MC(t){var e=t.getUTCDay();return e>=4||e===0?Yo(t):Yo.ceil(t)}function uee(t,e){return t=MC(t),Oe(Yo.count(Mn(t),t)+(Mn(t).getUTCDay()===4),e,2)}function dee(t){return t.getUTCDay()}function fee(t,e){return Oe(yd.count(Mn(t)-1,t),e,2)}function hee(t,e){return Oe(t.getUTCFullYear()%100,e,2)}function pee(t,e){return t=MC(t),Oe(t.getUTCFullYear()%100,e,2)}function mee(t,e){return Oe(t.getUTCFullYear()%1e4,e,4)}function vee(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Yo(t):Yo.ceil(t),Oe(t.getUTCFullYear()%1e4,e,4)}function gee(){return"+0000"}function Jx(){return"%"}function Zx(t){return+t}function e_(t){return Math.floor(+t/1e3)}var Ja,DC,LC;yee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function yee(t){return Ja=yZ(t),DC=Ja.format,Ja.parse,LC=Ja.utcFormat,Ja.utcParse,Ja}function bee(t){return new Date(t)}function wee(t){return t instanceof Date?+t:+new Date(+t)}function rb(t,e,r,n,i,a,o,s,l,c){var u=Wy(),d=u.invert,f=u.domain,p=c(".%L"),g=c(":%S"),m=c("%I:%M"),v=c("%I %p"),b=c("%a %d"),w=c("%b %d"),y=c("%B"),O=c("%Y");function _(S){return(l(S)<S?p:s(S)<S?g:o(S)<S?m:a(S)<S?v:n(S)<S?i(S)<S?b:w:r(S)<S?y:O)(S)}return u.invert=function(S){return new Date(d(S))},u.domain=function(S){return arguments.length?f(Array.from(S,wee)):f().map(bee)},u.ticks=function(S){var E=f();return t(E[0],E[E.length-1],S??10)},u.tickFormat=function(S,E){return E==null?_:c(E)},u.nice=function(S){var E=f();return(!S||typeof S.range!="function")&&(S=e(E[0],E[E.length-1],S??10)),S?f(OC(E,S)):u},u.copy=function(){return Pc(u,rb(t,e,r,n,i,a,o,s,l,c))},u}function xee(){return xr.apply(rb(vZ,gZ,In,eb,uh,jc,Jy,Xy,sa,DC).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function _ee(){return xr.apply(rb(pZ,mZ,Mn,tb,dh,ch,Zy,Qy,sa,LC).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function fh(){var t=0,e=1,r,n,i,a,o=Mt,s=!1,l;function c(d){return d==null||isNaN(d=+d)?l:o(i===0?.5:(d=(a(d)-r)*i,s?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([t,e]=d,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),c):[t,e]},c.clamp=function(d){return arguments.length?(s=!!d,c):s},c.interpolator=function(d){return arguments.length?(o=d,c):o};function u(d){return function(f){var p,g;return arguments.length?([p,g]=f,o=d(p,g),c):[o(0),o(1)]}}return c.range=u(Ms),c.rangeRound=u(Uy),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return a=d,r=d(t),n=d(e),i=r===n?0:1/(n-r),c}}function Mi(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function BC(){var t=Ii(fh()(Mt));return t.copy=function(){return Mi(t,BC())},zn.apply(t,arguments)}function FC(){var t=Hy(fh()).domain([1,10]);return t.copy=function(){return Mi(t,FC()).base(t.base())},zn.apply(t,arguments)}function UC(){var t=Ky(fh());return t.copy=function(){return Mi(t,UC()).constant(t.constant())},zn.apply(t,arguments)}function nb(){var t=Vy(fh());return t.copy=function(){return Mi(t,nb()).exponent(t.exponent())},zn.apply(t,arguments)}function See(){return nb.apply(null,arguments).exponent(.5)}function WC(){var t=[],e=Mt;function r(n){if(n!=null&&!isNaN(n=+n))return e((Ac(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(xi),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>cJ(t,a/n))},r.copy=function(){return WC(e).domain(t)},zn.apply(r,arguments)}function hh(){var t=0,e=.5,r=1,n=1,i,a,o,s,l,c=Mt,u,d=!1,f;function p(m){return isNaN(m=+m)?f:(m=.5+((m=+u(m))-a)*(n*m<n*a?s:l),c(d?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([t,e,r]=m,i=u(t=+t),a=u(e=+e),o=u(r=+r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,p):[t,e,r]},p.clamp=function(m){return arguments.length?(d=!!m,p):d},p.interpolator=function(m){return arguments.length?(c=m,p):c};function g(m){return function(v){var b,w,y;return arguments.length?([b,w,y]=v,c=IJ(m,[b,w,y]),p):[c(0),c(.5),c(1)]}}return p.range=g(Ms),p.rangeRound=g(Uy),p.unknown=function(m){return arguments.length?(f=m,p):f},function(m){return u=m,i=m(t),a=m(e),o=m(r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,p}}function zC(){var t=Ii(hh()(Mt));return t.copy=function(){return Mi(t,zC())},zn.apply(t,arguments)}function qC(){var t=Hy(hh()).domain([.1,1,10]);return t.copy=function(){return Mi(t,qC()).base(t.base())},zn.apply(t,arguments)}function HC(){var t=Ky(hh());return t.copy=function(){return Mi(t,HC()).constant(t.constant())},zn.apply(t,arguments)}function ib(){var t=Vy(hh());return t.copy=function(){return Mi(t,ib()).exponent(t.exponent())},zn.apply(t,arguments)}function Oee(){return ib.apply(null,arguments).exponent(.5)}const t_=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ml,scaleDiverging:zC,scaleDivergingLog:qC,scaleDivergingPow:ib,scaleDivergingSqrt:Oee,scaleDivergingSymlog:HC,scaleIdentity:SC,scaleImplicit:av,scaleLinear:md,scaleLog:AC,scaleOrdinal:Ly,scalePoint:cl,scalePow:Gy,scaleQuantile:jC,scaleQuantize:TC,scaleRadial:PC,scaleSequential:BC,scaleSequentialLog:FC,scaleSequentialPow:nb,scaleSequentialQuantile:WC,scaleSequentialSqrt:See,scaleSequentialSymlog:UC,scaleSqrt:iZ,scaleSymlog:EC,scaleThreshold:CC,scaleTime:xee,scaleUtc:_ee,tickFormat:_C},Symbol.toStringTag,{value:"Module"}));var Aee=Es;function Eee(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],o=e(a);if(o!=null&&(s===void 0?o===o&&!Aee(o):r(o,s)))var s=o,l=a}return l}var ph=Eee;function Pee(t,e){return t>e}var KC=Pee,jee=ph,Tee=KC,Cee=Rs;function kee(t){return t&&t.length?jee(t,Cee,Tee):void 0}var Nee=kee;const mi=ke(Nee);function $ee(t,e){return t<e}var VC=$ee,Ree=ph,Iee=VC,Mee=Rs;function Dee(t){return t&&t.length?Ree(t,Mee,Iee):void 0}var Lee=Dee;const mh=ke(Lee);var Bee=by,Fee=pn,Uee=tC,Wee=Kt;function zee(t,e){var r=Wee(t)?Bee:Uee;return r(t,Fee(e))}var qee=zee,Hee=ZT,Kee=qee;function Vee(t,e){return Hee(Kee(t,e),1)}var Gee=Vee;const Yee=ke(Gee);var Xee=$y;function Qee(t,e){return Xee(t,e)}var Jee=Qee;const Dn=ke(Jee);var Ds=1e9,Zee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ob,Ve=!0,yr="[DecimalError] ",xa=yr+"Invalid argument: ",ab=yr+"Exponent out of range: ",Ls=Math.floor,Ji=Math.pow,ete=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,er,vt=1e7,qe=7,GC=9007199254740991,bd=Ls(GC/qe),ne={};ne.absoluteValue=ne.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ne.comparedTo=ne.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ne.decimalPlaces=ne.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*qe;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ne.dividedBy=ne.div=function(t){return Tn(this,new this.constructor(t))};ne.dividedToIntegerBy=ne.idiv=function(t){var e=this,r=e.constructor;return Be(Tn(e,new r(t),0,1),r.precision)};ne.equals=ne.eq=function(t){return!this.cmp(t)};ne.exponent=function(){return ct(this)};ne.greaterThan=ne.gt=function(t){return this.cmp(t)>0};ne.greaterThanOrEqualTo=ne.gte=function(t){return this.cmp(t)>=0};ne.isInteger=ne.isint=function(){return this.e>this.d.length-2};ne.isNegative=ne.isneg=function(){return this.s<0};ne.isPositive=ne.ispos=function(){return this.s>0};ne.isZero=function(){return this.s===0};ne.lessThan=ne.lt=function(t){return this.cmp(t)<0};ne.lessThanOrEqualTo=ne.lte=function(t){return this.cmp(t)<1};ne.logarithm=ne.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(er))throw Error(yr+"NaN");if(r.s<1)throw Error(yr+(r.s?"NaN":"-Infinity"));return r.eq(er)?new n(0):(Ve=!1,e=Tn(Ul(r,a),Ul(t,a),a),Ve=!0,Be(e,i))};ne.minus=ne.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?QC(e,t):YC(e,(t.s=-t.s,t))};ne.modulo=ne.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(yr+"NaN");return r.s?(Ve=!1,e=Tn(r,t,0,1).times(t),Ve=!0,r.minus(e)):Be(new n(r),i)};ne.naturalExponential=ne.exp=function(){return XC(this)};ne.naturalLogarithm=ne.ln=function(){return Ul(this)};ne.negated=ne.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ne.plus=ne.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?YC(e,t):QC(e,(t.s=-t.s,t))};ne.precision=ne.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(xa+t);if(e=ct(i)+1,n=i.d.length-1,r=n*qe+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ne.squareRoot=ne.sqrt=function(){var t,e,r,n,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(yr+"NaN")}for(t=ct(s),Ve=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=tn(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ls((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(a=n,n=a.plus(Tn(s,a,o+2)).times(.5),tn(a.d).slice(0,o)===(e=tn(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Be(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(e!="9999")break;o+=4}return Ve=!0,Be(n,r)};ne.times=ne.mul=function(t){var e,r,n,i,a,o,s,l,c,u=this,d=u.constructor,f=u.d,p=(t=new d(t)).d;if(!u.s||!t.s)return new d(0);for(t.s*=u.s,r=u.e+t.e,l=f.length,c=p.length,l<c&&(a=f,f=p,p=a,o=l,l=c,c=o),a=[],o=l+c,n=o;n--;)a.push(0);for(n=c;--n>=0;){for(e=0,i=l+n;i>n;)s=a[i]+p[n]*f[i-n-1]+e,a[i--]=s%vt|0,e=s/vt|0;a[i]=(a[i]+e)%vt|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Ve?Be(t,d.precision):t};ne.toDecimalPlaces=ne.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(cn(t,0,Ds),e===void 0?e=n.rounding:cn(e,0,8),Be(r,t+ct(r)+1,e))};ne.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Ca(n,!0):(cn(t,0,Ds),e===void 0?e=i.rounding:cn(e,0,8),n=Be(new i(n),t+1,e),r=Ca(n,!0,t+1)),r};ne.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?Ca(i):(cn(t,0,Ds),e===void 0?e=a.rounding:cn(e,0,8),n=Be(new a(i),t+ct(i)+1,e),r=Ca(n.abs(),!1,t+ct(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ne.toInteger=ne.toint=function(){var t=this,e=t.constructor;return Be(new e(t),ct(t)+1,e.rounding)};ne.toNumber=function(){return+this};ne.toPower=ne.pow=function(t){var e,r,n,i,a,o,s=this,l=s.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(er);if(s=new l(s),!s.s){if(t.s<1)throw Error(yr+"Infinity");return s}if(s.eq(er))return s;if(n=l.precision,t.eq(er))return Be(s,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=s.s,o){if((r=u<0?-u:u)<=GC){for(i=new l(er),e=Math.ceil(n/qe+4),Ve=!1;r%2&&(i=i.times(s),n_(i.d,e)),r=Ls(r/2),r!==0;)s=s.times(s),n_(s.d,e);return Ve=!0,t.s<0?new l(er).div(i):Be(i,n)}}else if(a<0)throw Error(yr+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,s.s=1,Ve=!1,i=t.times(Ul(s,n+c)),Ve=!0,i=XC(i),i.s=a,i};ne.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=ct(i),n=Ca(i,r<=a.toExpNeg||r>=a.toExpPos)):(cn(t,1,Ds),e===void 0?e=a.rounding:cn(e,0,8),i=Be(new a(i),t,e),r=ct(i),n=Ca(i,t<=r||r<=a.toExpNeg,t)),n};ne.toSignificantDigits=ne.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(cn(t,1,Ds),e===void 0?e=n.rounding:cn(e,0,8)),Be(new n(r),t,e)};ne.toString=ne.valueOf=ne.val=ne.toJSON=ne[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ct(t),r=t.constructor;return Ca(t,e<=r.toExpNeg||e>=r.toExpPos)};function YC(t,e){var r,n,i,a,o,s,l,c,u=t.constructor,d=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),Ve?Be(e,d):e;if(l=t.d,c=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(n=l,a=-a,s=c.length):(n=c,i=o,s=l.length),o=Math.ceil(d/qe),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=l.length,a=c.length,s-a<0&&(a=s,n=c,c=l,l=n),r=0;a;)r=(l[--a]=l[a]+c[a]+r)/vt|0,l[a]%=vt;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Ve?Be(e,d):e}function cn(t,e,r){if(t!==~~t||t<e||t>r)throw Error(xa+t)}function tn(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=qe-n.length,r&&(a+=ti(r)),a+=n;o=t[e],n=o+"",r=qe-n.length,r&&(a+=ti(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Tn=function(){function t(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%vt|0,o=a/vt|0;return o&&n.unshift(o),n}function e(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*vt+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,l,c,u,d,f,p,g,m,v,b,w,y,O,_,S,E,A,P=n.constructor,k=n.s==i.s?1:-1,C=n.d,N=i.d;if(!n.s)return new P(n);if(!i.s)throw Error(yr+"Division by zero");for(l=n.e-i.e,E=N.length,_=C.length,p=new P(k),g=p.d=[],c=0;N[c]==(C[c]||0);)++c;if(N[c]>(C[c]||0)&&--l,a==null?w=a=P.precision:o?w=a+(ct(n)-ct(i))+1:w=a,w<0)return new P(0);if(w=w/qe+2|0,c=0,E==1)for(u=0,N=N[0],w++;(c<_||u)&&w--;c++)y=u*vt+(C[c]||0),g[c]=y/N|0,u=y%N|0;else{for(u=vt/(N[0]+1)|0,u>1&&(N=t(N,u),C=t(C,u),E=N.length,_=C.length),O=E,m=C.slice(0,E),v=m.length;v<E;)m[v++]=0;A=N.slice(),A.unshift(0),S=N[0],N[1]>=vt/2&&++S;do u=0,s=e(N,m,E,v),s<0?(b=m[0],E!=v&&(b=b*vt+(m[1]||0)),u=b/S|0,u>1?(u>=vt&&(u=vt-1),d=t(N,u),f=d.length,v=m.length,s=e(d,m,f,v),s==1&&(u--,r(d,E<f?A:N,f))):(u==0&&(s=u=1),d=N.slice()),f=d.length,f<v&&d.unshift(0),r(m,d,v),s==-1&&(v=m.length,s=e(N,m,E,v),s<1&&(u++,r(m,E<v?A:N,v))),v=m.length):s===0&&(u++,m=[0]),g[c++]=u,s&&m[0]?m[v++]=C[O]||0:(m=[C[O]],v=1);while((O++<_||m[0]!==void 0)&&w--)}return g[0]||g.shift(),p.e=l,Be(p,o?a+ct(p)+1:a)}}();function XC(t,e){var r,n,i,a,o,s,l=0,c=0,u=t.constructor,d=u.precision;if(ct(t)>16)throw Error(ab+ct(t));if(!t.s)return new u(er);for(e==null?(Ve=!1,s=d):s=e,o=new u(.03125);t.abs().gte(.1);)t=t.times(o),c+=5;for(n=Math.log(Ji(2,c))/Math.LN10*2+5|0,s+=n,r=i=a=new u(er),u.precision=s;;){if(i=Be(i.times(t),s),r=r.times(++l),o=a.plus(Tn(i,r,s)),tn(o.d).slice(0,s)===tn(a.d).slice(0,s)){for(;c--;)a=Be(a.times(a),s);return u.precision=d,e==null?(Ve=!0,Be(a,d)):a}a=o}}function ct(t){for(var e=t.e*qe,r=t.d[0];r>=10;r/=10)e++;return e}function Op(t,e,r){if(e>t.LN10.sd())throw Ve=!0,r&&(t.precision=r),Error(yr+"LN10 precision limit exceeded");return Be(new t(t.LN10),e)}function ti(t){for(var e="";t--;)e+="0";return e}function Ul(t,e){var r,n,i,a,o,s,l,c,u,d=1,f=10,p=t,g=p.d,m=p.constructor,v=m.precision;if(p.s<1)throw Error(yr+(p.s?"NaN":"-Infinity"));if(p.eq(er))return new m(0);if(e==null?(Ve=!1,c=v):c=e,p.eq(10))return e==null&&(Ve=!0),Op(m,c);if(c+=f,m.precision=c,r=tn(g),n=r.charAt(0),a=ct(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=tn(p.d),n=r.charAt(0),d++;a=ct(p),n>1?(p=new m("0."+r),a++):p=new m(n+"."+r.slice(1))}else return l=Op(m,c+2,v).times(a+""),p=Ul(new m(n+"."+r.slice(1)),c-f).plus(l),m.precision=v,e==null?(Ve=!0,Be(p,v)):p;for(s=o=p=Tn(p.minus(er),p.plus(er),c),u=Be(p.times(p),c),i=3;;){if(o=Be(o.times(u),c),l=s.plus(Tn(o,new m(i),c)),tn(l.d).slice(0,c)===tn(s.d).slice(0,c))return s=s.times(2),a!==0&&(s=s.plus(Op(m,c+2,v).times(a+""))),s=Tn(s,new m(d),c),m.precision=v,e==null?(Ve=!0,Be(s,v)):s;s=l,i+=2}}function r_(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Ls(r/qe),t.d=[],n=(r+1)%qe,r<0&&(n+=qe),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=qe;n<i;)t.d.push(+e.slice(n,n+=qe));e=e.slice(n),n=qe-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Ve&&(t.e>bd||t.e<-bd))throw Error(ab+r)}else t.s=0,t.e=0,t.d=[0];return t}function Be(t,e,r){var n,i,a,o,s,l,c,u,d=t.d;for(o=1,a=d[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=qe,i=e,c=d[u=0];else{if(u=Math.ceil((n+1)/qe),a=d.length,u>=a)return t;for(c=a=d[u],o=1;a>=10;a/=10)o++;n%=qe,i=n-qe+o}if(r!==void 0&&(a=Ji(10,o-i-1),s=c/a%10|0,l=e<0||d[u+1]!==void 0||c%a,l=r<4?(s||l)&&(r==0||r==(t.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?c/Ji(10,o-i):0:d[u-1])%10&1||r==(t.s<0?8:7))),e<1||!d[0])return l?(a=ct(t),d.length=1,e=e-a-1,d[0]=Ji(10,(qe-e%qe)%qe),t.e=Ls(-e/qe)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(n==0?(d.length=u,a=1,u--):(d.length=u+1,a=Ji(10,qe-n),d[u]=i>0?(c/Ji(10,o-i)%Ji(10,i)|0)*a:0),l)for(;;)if(u==0){(d[0]+=a)==vt&&(d[0]=1,++t.e);break}else{if(d[u]+=a,d[u]!=vt)break;d[u--]=0,a=1}for(n=d.length;d[--n]===0;)d.pop();if(Ve&&(t.e>bd||t.e<-bd))throw Error(ab+ct(t));return t}function QC(t,e){var r,n,i,a,o,s,l,c,u,d,f=t.constructor,p=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),Ve?Be(e,p):e;if(l=t.d,d=e.d,n=e.e,c=t.e,l=l.slice(),o=c-n,o){for(u=o<0,u?(r=l,o=-o,s=d.length):(r=d,n=c,s=l.length),i=Math.max(Math.ceil(p/qe),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=d.length,u=i<s,u&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}o=0}for(u&&(r=l,l=d,d=r,e.s=-e.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>o;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=vt-1;--l[a],l[i]+=vt}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,Ve?Be(e,p):e):new f(0)}function Ca(t,e,r){var n,i=ct(t),a=tn(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+ti(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+ti(-i-1)+a,r&&(n=r-o)>0&&(a+=ti(n))):i>=o?(a+=ti(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+ti(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=ti(n))),t.s<0?"-"+a:a}function n_(t,e){if(t.length>e)return t.length=e,!0}function JC(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(xa+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return r_(o,a.toString())}else if(typeof a!="string")throw Error(xa+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,ete.test(a))r_(o,a);else throw Error(xa+a)}if(i.prototype=ne,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=JC,i.config=i.set=tte,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function tte(t){if(!t||typeof t!="object")throw Error(yr+"Object expected");var e,r,n,i=["precision",1,Ds,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Ls(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(xa+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(xa+r+": "+n);return this}var ob=JC(Zee);er=new ob(1);const Ie=ob;function rte(t){return ote(t)||ate(t)||ite(t)||nte()}function nte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ite(t,e){if(t){if(typeof t=="string")return cv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cv(t,e)}}function ate(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function ote(t){if(Array.isArray(t))return cv(t)}function cv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ste=function(e){return e},ZC={"@@functional/placeholder":!0},ek=function(e){return e===ZC},i_=function(e){return function r(){return arguments.length===0||arguments.length===1&&ek(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},lte=function t(e,r){return e===1?r:i_(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==ZC}).length;return o>=e?r.apply(void 0,i):t(e-o,i_(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var u=i.map(function(d){return ek(d)?l.shift():d});return r.apply(void 0,rte(u).concat(l))}))})},vh=function(e){return lte(e.length,e)},uv=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},cte=vh(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),ute=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return ste;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},dv=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},tk=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(s,l){return s===r[l]})||(r=a,n=e.apply(void 0,a)),n}};function dte(t){var e;return t===0?e=1:e=Math.floor(new Ie(t).abs().log(10).toNumber())+1,e}function fte(t,e,r){for(var n=new Ie(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var hte=vh(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),pte=vh(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),mte=vh(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const gh={rangeStep:fte,getDigitCount:dte,interpolateNumber:hte,uninterpolateNumber:pte,uninterpolateTruncation:mte};function fv(t){return yte(t)||gte(t)||rk(t)||vte()}function vte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gte(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function yte(t){if(Array.isArray(t))return hv(t)}function Wl(t,e){return xte(t)||wte(t,e)||rk(t,e)||bte()}function bte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rk(t,e){if(t){if(typeof t=="string")return hv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hv(t,e)}}function hv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wte(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function xte(t){if(Array.isArray(t))return t}function nk(t){var e=Wl(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function ik(t,e,r){if(t.lte(0))return new Ie(0);var n=gh.getDigitCount(t.toNumber()),i=new Ie(10).pow(n),a=t.div(i),o=n!==1?.05:.1,s=new Ie(Math.ceil(a.div(o).toNumber())).add(r).mul(o),l=s.mul(i);return e?l:new Ie(Math.ceil(l))}function _te(t,e,r){var n=1,i=new Ie(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new Ie(10).pow(gh.getDigitCount(t)-1),i=new Ie(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Ie(Math.floor(t)))}else t===0?i=new Ie(Math.floor((e-1)/2)):r||(i=new Ie(Math.floor(t)));var o=Math.floor((e-1)/2),s=ute(cte(function(l){return i.add(new Ie(l-o).mul(n)).toNumber()}),uv);return s(0,e)}function ak(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Ie(0),tickMin:new Ie(0),tickMax:new Ie(0)};var a=ik(new Ie(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new Ie(0):(o=new Ie(t).add(e).div(2),o=o.sub(new Ie(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new Ie(e).sub(o).div(a).toNumber()),c=s+l+1;return c>r?ak(t,e,r,n,i+1):(c<r&&(l=e>0?l+(r-c):l,s=e>0?s:s+(r-c)),{step:a,tickMin:o.sub(new Ie(s).mul(a)),tickMax:o.add(new Ie(l).mul(a))})}function Ste(t){var e=Wl(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=nk([r,n]),l=Wl(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var d=u===1/0?[c].concat(fv(uv(0,i-1).map(function(){return 1/0}))):[].concat(fv(uv(0,i-1).map(function(){return-1/0})),[u]);return r>n?dv(d):d}if(c===u)return _te(c,i,a);var f=ak(c,u,o,a),p=f.step,g=f.tickMin,m=f.tickMax,v=gh.rangeStep(g,m.add(new Ie(.1).mul(p)),p);return r>n?dv(v):v}function Ote(t,e){var r=Wl(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=nk([n,i]),s=Wl(o,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,i];if(l===c)return[l];var u=Math.max(e,2),d=ik(new Ie(c).sub(l).div(u-1),a,0),f=[].concat(fv(gh.rangeStep(new Ie(l),new Ie(c).sub(new Ie(.99).mul(d)),d)),[c]);return n>i?dv(f):f}var Ate=tk(Ste),Ete=tk(Ote),Pte="Invariant failed";function ka(t,e){throw new Error(Pte)}var jte=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Xo(t){"@babel/helpers - typeof";return Xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xo(t)}function wd(){return wd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wd.apply(this,arguments)}function Tte(t,e){return $te(t)||Nte(t,e)||kte(t,e)||Cte()}function Cte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kte(t,e){if(t){if(typeof t=="string")return a_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a_(t,e)}}function a_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Nte(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function $te(t){if(Array.isArray(t))return t}function Rte(t,e){if(t==null)return{};var r=Ite(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ite(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Mte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dte(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lk(n.key),n)}}function Lte(t,e,r){return e&&Dte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bte(t,e,r){return e=xd(e),Fte(t,ok()?Reflect.construct(e,r||[],xd(t).constructor):e.apply(t,r))}function Fte(t,e){if(e&&(Xo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ute(t)}function Ute(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ok(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ok=function(){return!!t})()}function xd(t){return xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xd(t)}function Wte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pv(t,e)}function pv(t,e){return pv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pv(t,e)}function sk(t,e,r){return e=lk(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lk(t){var e=zte(t,"string");return Xo(e)=="symbol"?e:e+""}function zte(t,e){if(Xo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Xo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bs=function(t){function e(){return Mte(this,e),Bte(this,e,arguments)}return Wte(e,t),Lte(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,s=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,d=n.yAxis,f=Rte(n,jte),p=te(f,!1);this.props.direction==="x"&&u.type!=="number"&&ka();var g=l.map(function(m){var v=c(m,s),b=v.x,w=v.y,y=v.value,O=v.errorVal;if(!O)return null;var _=[],S,E;if(Array.isArray(O)){var A=Tte(O,2);S=A[0],E=A[1]}else S=E=O;if(a==="vertical"){var P=u.scale,k=w+i,C=k+o,N=k-o,D=P(y-S),I=P(y+E);_.push({x1:I,y1:C,x2:I,y2:N}),_.push({x1:D,y1:k,x2:I,y2:k}),_.push({x1:D,y1:C,x2:D,y2:N})}else if(a==="horizontal"){var L=d.scale,T=b+i,R=T-o,B=T+o,M=L(y-S),q=L(y+E);_.push({x1:R,y1:q,x2:B,y2:q}),_.push({x1:T,y1:M,x2:T,y2:q}),_.push({x1:R,y1:M,x2:B,y2:M})}return j.createElement(me,wd({className:"recharts-errorBar",key:"bar-".concat(_.map(function(X){return"".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))},p),_.map(function(X){return j.createElement("line",wd({},X,{key:"line-".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))}))});return j.createElement(me,{className:"recharts-errorBars"},g)}}])}(j.Component);sk(Bs,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});sk(Bs,"displayName","ErrorBar");function zl(t){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}function o_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ui(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?o_(Object(r),!0).forEach(function(n){qte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qte(t,e,r){return e=Hte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hte(t){var e=Kte(t,"string");return zl(e)=="symbol"?e:e+""}function Kte(t,e){if(zl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ck=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Qt(r,jn);if(!o)return null;var s=jn.defaultProps,l=s!==void 0?Ui(Ui({},s),o.props):{},c;return o.props&&o.props.payload?c=o.props&&o.props.payload:a==="children"?c=(n||[]).reduce(function(u,d){var f=d.item,p=d.props,g=p.sectors||p.data||[];return u.concat(g.map(function(m){return{type:o.props.iconType||f.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):c=(n||[]).map(function(u){var d=u.item,f=d.type.defaultProps,p=f!==void 0?Ui(Ui({},f),d.props):{},g=p.dataKey,m=p.name,v=p.legendType,b=p.hide;return{inactive:b,dataKey:g,type:l.iconType||v||"square",color:sb(d),value:m||g,payload:p}}),Ui(Ui(Ui({},l),jn.getWithHeight(o,i)),{},{payload:c,item:o})};function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}function s_(t){return Xte(t)||Yte(t)||Gte(t)||Vte()}function Vte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gte(t,e){if(t){if(typeof t=="string")return mv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mv(t,e)}}function Yte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xte(t){if(Array.isArray(t))return mv(t)}function mv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function l_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l_(Object(r),!0).forEach(function(n){xo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xo(t,e,r){return e=Qte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qte(t){var e=Jte(t,"string");return ql(e)=="symbol"?e:e+""}function Jte(t,e){if(ql(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Le(t,e,r){return ce(t)||ce(e)?r:pt(e)?rr(t,e,r):le(e)?e(t):r}function ul(t,e,r,n){var i=Yee(t,function(s){return Le(s,e)});if(r==="number"){var a=i.filter(function(s){return Y(s)||parseFloat(s)});return a.length?[mh(a),mi(a)]:[1/0,-1/0]}var o=n?i.filter(function(s){return!ce(s)}):i;return o.map(function(s){return pt(s)||s instanceof Date?s:""})}var Zte=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<s;c++){var u=c>0?i[c-1].coordinate:i[s-1].coordinate,d=i[c].coordinate,f=c>=s-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if(Rt(d-u)!==Rt(f-d)){var g=[];if(Rt(f-d)===Rt(l[1]-l[0])){p=f;var m=d+l[1]-l[0];g[0]=Math.min(m,(m+u)/2),g[1]=Math.max(m,(m+u)/2)}else{p=u;var v=f+l[1]-l[0];g[0]=Math.min(d,(v+d)/2),g[1]=Math.max(d,(v+d)/2)}var b=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(e>b[0]&&e<=b[1]||e>=g[0]&&e<=g[1]){o=i[c].index;break}}else{var w=Math.min(u,f),y=Math.max(u,f);if(e>(w+d)/2&&e<=(y+d)/2){o=i[c].index;break}}}else for(var O=0;O<s;O++)if(O===0&&e<=(n[O].coordinate+n[O+1].coordinate)/2||O>0&&O<s-1&&e>(n[O].coordinate+n[O-1].coordinate)/2&&e<=(n[O].coordinate+n[O+1].coordinate)/2||O===s-1&&e>(n[O].coordinate+n[O-1].coordinate)/2){o=n[O].index;break}return o},sb=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?rt(rt({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},ere=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,c=s.length;l<c;l++)for(var u=a[s[l]].stackGroups,d=Object.keys(u),f=0,p=d.length;f<p;f++){var g=u[d[f]],m=g.items,v=g.cateAxisId,b=m.filter(function(E){return Pn(E.type).indexOf("Bar")>=0});if(b&&b.length){var w=b[0].type.defaultProps,y=w!==void 0?rt(rt({},w),b[0].props):b[0].props,O=y.barSize,_=y[v];o[_]||(o[_]=[]);var S=ce(O)?r:O;o[_].push({item:b[0],stackList:b.slice(1),barSize:ce(S)?void 0:It(S,n,0)})}}return o},tre=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var c=It(r,i,0,!0),u,d=[];if(o[0].barSize===+o[0].barSize){var f=!1,p=i/l,g=o.reduce(function(O,_){return O+_.barSize||0},0);g+=(l-1)*c,g>=i&&(g-=(l-1)*c,c=0),g>=i&&p>0&&(f=!0,p*=.9,g=l*p);var m=(i-g)/2>>0,v={offset:m-c,size:0};u=o.reduce(function(O,_){var S={item:_.item,position:{offset:v.offset+v.size+c,size:f?p:_.barSize}},E=[].concat(s_(O),[S]);return v=E[E.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(A){E.push({item:A,position:v})}),E},d)}else{var b=It(n,i,0,!0);i-2*b-(l-1)*c<=0&&(c=0);var w=(i-2*b-(l-1)*c)/l;w>1&&(w>>=0);var y=s===+s?Math.min(w,s):w;u=o.reduce(function(O,_,S){var E=[].concat(s_(O),[{item:_.item,position:{offset:b+(w+c)*S+(w-y)/2,size:y}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(A){E.push({item:A,position:E[E.length-1].position})}),E},d)}return u},rre=function(e,r,n,i){var a=n.children,o=n.width,s=n.margin,l=o-(s.left||0)-(s.right||0),c=ck({children:a,legendWidth:l});if(c){var u=i||{},d=u.width,f=u.height,p=c.align,g=c.verticalAlign,m=c.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&p!=="center"&&Y(e[p]))return rt(rt({},e),{},xo({},p,e[p]+(d||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&g!=="middle"&&Y(e[g]))return rt(rt({},e),{},xo({},g,e[g]+(f||0)))}return e},nre=function(e,r,n){return ce(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},uk=function(e,r,n,i,a){var o=r.props.children,s=Dt(o,Bs).filter(function(c){return nre(i,a,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var d=Le(u,n);if(ce(d))return c;var f=Array.isArray(d)?[mh(d),mi(d)]:[d,d],p=l.reduce(function(g,m){var v=Le(u,m,0),b=f[0]-Math.abs(Array.isArray(v)?v[0]:v),w=f[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(b,g[0]),Math.max(w,g[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},ire=function(e,r,n,i,a){var o=r.map(function(s){return uk(e,s,n,a,i)}).filter(function(s){return!ce(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},dk=function(e,r,n,i,a){var o=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&uk(e,l,c,i)||ul(e,c,n,a)});if(n==="number")return o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,c){for(var u=0,d=c.length;u<d;u++)s[c[u]]||(s[c[u]]=!0,l.push(c[u]));return l},[])},fk=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},hk=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===r&&(a=!0),l.coordinate===n&&(o=!0),l.coordinate});return a||s.push(r),o||s.push(n),s},An=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Rt(s[0]-s[1])*2*c:c,r&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(d){var f=a?a.indexOf(d):d;return{coordinate:i(f)+c,value:d,offset:c}});return u.filter(function(d){return!ks(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,f){return{coordinate:i(d)+c,value:d,index:f,offset:c}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+c,value:d,offset:c}}):i.domain().map(function(d,f){return{coordinate:i(d)+c,value:a?a[d]:d,index:f,offset:c}})},Ap=new WeakMap,ou=function(e,r){if(typeof r!="function")return e;Ap.has(e)||Ap.set(e,new WeakMap);var n=Ap.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},pk=function(e,r,n){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Ml(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:md(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:cl(),realScaleType:"point"}:a==="category"?{scale:Ml(),realScaleType:"band"}:{scale:md(),realScaleType:"linear"};if(ja(i)){var l="scale".concat(eh(i));return{scale:(t_[l]||cl)(),realScaleType:t_[l]?l:"point"}}return le(i)?{scale:i}:{scale:cl(),realScaleType:"point"}},c_=1e-4,mk=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-c_,o=Math.max(i[0],i[1])+c_,s=e(r[0]),l=e(r[n-1]);(s<a||s>o||l<a||l>o)&&e.domain([r[0],r[n-1]])}},are=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},ore=function(e,r){if(!r||r.length!==2||!Y(r[0])||!Y(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!Y(e[0])||e[0]<n)&&(a[0]=n),(!Y(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},sre=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0,s=0;s<r;++s){var l=ks(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=a,e[s][n][1]=a+l,a=e[s][n][1]):(e[s][n][0]=o,e[s][n][1]=o+l,o=e[s][n][1])}},lre=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var s=ks(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},cre={sign:sre,expand:jH,none:Wo,silhouette:TH,wiggle:CH,positive:lre},ure=function(e,r,n){var i=r.map(function(s){return s.props.dataKey}),a=cre[n],o=PH().keys(i).value(function(s,l){return+Le(s,l,0)}).order(Fm).offset(a);return o(e)},dre=function(e,r,n,i,a,o){if(!e)return null;var s=o?r.reverse():r,l={},c=s.reduce(function(d,f){var p,g=(p=f.type)!==null&&p!==void 0&&p.defaultProps?rt(rt({},f.type.defaultProps),f.props):f.props,m=g.stackId,v=g.hide;if(v)return d;var b=g[n],w=d[b]||{hasStack:!1,stackGroups:{}};if(pt(m)){var y=w.stackGroups[m]||{numericAxisId:n,cateAxisId:i,items:[]};y.items.push(f),w.hasStack=!0,w.stackGroups[m]=y}else w.stackGroups[Ri("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[f]};return rt(rt({},d),{},xo({},b,w))},l),u={};return Object.keys(c).reduce(function(d,f){var p=c[f];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,v){var b=p.stackGroups[v];return rt(rt({},m),{},xo({},v,{numericAxisId:n,cateAxisId:i,items:b.items,stackedData:ure(e,b.items,a)}))},g)}return rt(rt({},d),{},xo({},f,p))},u)},vk=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=Ate(c,a,s);return e.domain([mh(u),mi(u)]),{niceTicks:u}}if(a&&i==="number"){var d=e.domain(),f=Ete(d,a,s);return{niceTicks:f}}return null};function Qo(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ce(i[e.dataKey])){var s=Gu(r,"value",i[e.dataKey]);if(s)return s.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=Le(i,ce(o)?e.dataKey:o);return ce(l)?null:e.scale(l)}var u_=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(r.type==="category")return n[s]?n[s].coordinate+i:null;var l=Le(o,r.dataKey,r.domain[s]);return ce(l)?null:r.scale(l)-a/2+i},fre=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},hre=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?rt(rt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(pt(a)){var o=r[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},pre=function(e){return e.reduce(function(r,n){return[mh(n.concat([r[0]]).filter(Y)),mi(n.concat([r[1]]).filter(Y))]},[1/0,-1/0])},gk=function(e,r,n){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(c,u){var d=pre(u.slice(r,n+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},d_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,f_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vv=function(e,r,n){if(le(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(Y(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(d_.test(e[0])){var a=+d_.exec(e[0])[1];i[0]=r[0]-a}else le(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(Y(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(f_.test(e[1])){var o=+f_.exec(e[1])[1];i[1]=r[1]+o}else le(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},_d=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=Iy(r,function(d){return d.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var c=a[s],u=a[s-1];o=Math.min((c.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},h_=function(e,r,n){return!e||!e.length||Dn(e,rr(n,"type.defaultProps.domain"))?r:e},yk=function(e,r){var n=e.type.defaultProps?rt(rt({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,o=n.unit,s=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return rt(rt({},te(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:sb(e),value:Le(r,i),type:l,payload:r,chartType:c,hide:u})};function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}function p_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p_(Object(r),!0).forEach(function(n){bk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bk(t,e,r){return e=mre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mre(t){var e=vre(t,"string");return Hl(e)=="symbol"?e:e+""}function vre(t,e){if(Hl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gre(t,e){return xre(t)||wre(t,e)||bre(t,e)||yre()}function yre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bre(t,e){if(t){if(typeof t=="string")return m_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m_(t,e)}}function m_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function xre(t){if(Array.isArray(t))return t}var Sd=Math.PI/180,_re=function(e){return e*180/Math.PI},Pe=function(e,r,n,i){return{x:e+Math.cos(-Sd*i)*n,y:r+Math.sin(-Sd*i)*n}},wk=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},xk=function(e,r,n,i,a){var o=e.width,s=e.height,l=e.startAngle,c=e.endAngle,u=It(e.cx,o,o/2),d=It(e.cy,s,s/2),f=wk(o,s,n),p=It(e.innerRadius,f,0),g=It(e.outerRadius,f,f*.8),m=Object.keys(r);return m.reduce(function(v,b){var w=r[b],y=w.domain,O=w.reversed,_;if(ce(w.range))i==="angleAxis"?_=[l,c]:i==="radiusAxis"&&(_=[p,g]),O&&(_=[_[1],_[0]]);else{_=w.range;var S=_,E=gre(S,2);l=E[0],c=E[1]}var A=pk(w,a),P=A.realScaleType,k=A.scale;k.domain(y).range(_),mk(k);var C=vk(k,yn(yn({},w),{},{realScaleType:P})),N=yn(yn(yn({},w),C),{},{range:_,radius:g,realScaleType:P,scale:k,cx:u,cy:d,innerRadius:p,outerRadius:g,startAngle:l,endAngle:c});return yn(yn({},v),{},bk({},b,N))},{})},Sre=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},Ore=function(e,r){var n=e.x,i=e.y,a=r.cx,o=r.cy,s=Sre({x:n,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(n-a)/s,c=Math.acos(l);return i>o&&(c=2*Math.PI-c),{radius:s,angle:_re(c),angleInRadian:c}},Are=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},Ere=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},v_=function(e,r){var n=e.x,i=e.y,a=Ore({x:n,y:i},r),o=a.radius,s=a.angle,l=r.innerRadius,c=r.outerRadius;if(o<l||o>c)return!1;if(o===0)return!0;var u=Are(r),d=u.startAngle,f=u.endAngle,p=s,g;if(d<=f){for(;p>f;)p-=360;for(;p<d;)p+=360;g=p>=d&&p<=f}else{for(;p>d;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=d}return g?yn(yn({},r),{},{radius:o,angle:Ere(p,r)}):null},_k=function(e){return!x.isValidElement(e)&&!le(e)&&typeof e!="boolean"?e.className:""};function Kl(t){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kl(t)}var Pre=["offset"];function jre(t){return Nre(t)||kre(t)||Cre(t)||Tre()}function Tre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cre(t,e){if(t){if(typeof t=="string")return gv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gv(t,e)}}function kre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nre(t){if(Array.isArray(t))return gv(t)}function gv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $re(t,e){if(t==null)return{};var r=Rre(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Rre(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function g_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ft(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g_(Object(r),!0).forEach(function(n){Ire(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ire(t,e,r){return e=Mre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mre(t){var e=Dre(t,"string");return Kl(e)=="symbol"?e:e+""}function Dre(t,e){if(Kl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Kl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vl(){return Vl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vl.apply(this,arguments)}var Lre=function(e){var r=e.value,n=e.formatter,i=ce(e.children)?r:e.children;return le(n)?n(i):i},Bre=function(e,r){var n=Rt(r-e),i=Math.min(Math.abs(r-e),360);return n*i},Fre=function(e,r,n){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,c=l.cx,u=l.cy,d=l.innerRadius,f=l.outerRadius,p=l.startAngle,g=l.endAngle,m=l.clockWise,v=(d+f)/2,b=Bre(p,g),w=b>=0?1:-1,y,O;i==="insideStart"?(y=p+w*o,O=m):i==="insideEnd"?(y=g-w*o,O=!m):i==="end"&&(y=g+w*o,O=m),O=b<=0?O:!O;var _=Pe(c,u,v,y),S=Pe(c,u,v,y+(O?1:-1)*359),E="M".concat(_.x,",").concat(_.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(O?0:1,`,
    `).concat(S.x,",").concat(S.y),A=ce(e.id)?Ri("recharts-radial-line-"):e.id;return j.createElement("text",Vl({},n,{dominantBaseline:"central",className:pe("recharts-radial-bar-label",s)}),j.createElement("defs",null,j.createElement("path",{id:A,d:E})),j.createElement("textPath",{xlinkHref:"#".concat(A)},r))},Ure=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,o=a.cx,s=a.cy,l=a.innerRadius,c=a.outerRadius,u=a.startAngle,d=a.endAngle,f=(u+d)/2;if(i==="outside"){var p=Pe(o,s,c+n,f),g=p.x,m=p.y;return{x:g,y:m,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,b=Pe(o,s,v,f),w=b.x,y=b.y;return{x:w,y,textAnchor:"middle",verticalAnchor:"middle"}},Wre=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,o=r,s=o.x,l=o.y,c=o.width,u=o.height,d=u>=0?1:-1,f=d*i,p=d>0?"end":"start",g=d>0?"start":"end",m=c>=0?1:-1,v=m*i,b=m>0?"end":"start",w=m>0?"start":"end";if(a==="top"){var y={x:s+c/2,y:l-d*i,textAnchor:"middle",verticalAnchor:p};return ft(ft({},y),n?{height:Math.max(l-n.y,0),width:c}:{})}if(a==="bottom"){var O={x:s+c/2,y:l+u+f,textAnchor:"middle",verticalAnchor:g};return ft(ft({},O),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(a==="left"){var _={x:s-v,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return ft(ft({},_),n?{width:Math.max(_.x-n.x,0),height:u}:{})}if(a==="right"){var S={x:s+c+v,y:l+u/2,textAnchor:w,verticalAnchor:"middle"};return ft(ft({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:u}:{})}var E=n?{width:c,height:u}:{};return a==="insideLeft"?ft({x:s+v,y:l+u/2,textAnchor:w,verticalAnchor:"middle"},E):a==="insideRight"?ft({x:s+c-v,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},E):a==="insideTop"?ft({x:s+c/2,y:l+f,textAnchor:"middle",verticalAnchor:g},E):a==="insideBottom"?ft({x:s+c/2,y:l+u-f,textAnchor:"middle",verticalAnchor:p},E):a==="insideTopLeft"?ft({x:s+v,y:l+f,textAnchor:w,verticalAnchor:g},E):a==="insideTopRight"?ft({x:s+c-v,y:l+f,textAnchor:b,verticalAnchor:g},E):a==="insideBottomLeft"?ft({x:s+v,y:l+u-f,textAnchor:w,verticalAnchor:p},E):a==="insideBottomRight"?ft({x:s+c-v,y:l+u-f,textAnchor:b,verticalAnchor:p},E):Ps(a)&&(Y(a.x)||aa(a.x))&&(Y(a.y)||aa(a.y))?ft({x:s+It(a.x,c),y:l+It(a.y,u),textAnchor:"end",verticalAnchor:"end"},E):ft({x:s+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},E)},zre=function(e){return"cx"in e&&Y(e.cx)};function gt(t){var e=t.offset,r=e===void 0?5:e,n=$re(t,Pre),i=ft({offset:r},n),a=i.viewBox,o=i.position,s=i.value,l=i.children,c=i.content,u=i.className,d=u===void 0?"":u,f=i.textBreakAll;if(!a||ce(s)&&ce(l)&&!x.isValidElement(c)&&!le(c))return null;if(x.isValidElement(c))return x.cloneElement(c,i);var p;if(le(c)){if(p=x.createElement(c,i),x.isValidElement(p))return p}else p=Lre(i);var g=zre(a),m=te(i,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Fre(i,p,m);var v=g?Ure(i):Wre(i);return j.createElement(Ta,Vl({className:pe("recharts-label",d)},m,v,{breakAll:f}),p)}gt.displayName="Label";var Sk=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,d=e.x,f=e.y,p=e.top,g=e.left,m=e.width,v=e.height,b=e.clockWise,w=e.labelViewBox;if(w)return w;if(Y(m)&&Y(v)){if(Y(d)&&Y(f))return{x:d,y:f,width:m,height:v};if(Y(p)&&Y(g))return{x:p,y:g,width:m,height:v}}return Y(d)&&Y(f)?{x:d,y:f,width:0,height:0}:Y(r)&&Y(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:c||0,outerRadius:u||l||s||0,clockWise:b}:e.viewBox?e.viewBox:{}},qre=function(e,r){return e?e===!0?j.createElement(gt,{key:"label-implicit",viewBox:r}):pt(e)?j.createElement(gt,{key:"label-implicit",viewBox:r,value:e}):x.isValidElement(e)?e.type===gt?x.cloneElement(e,{key:"label-implicit",viewBox:r}):j.createElement(gt,{key:"label-implicit",content:e,viewBox:r}):le(e)?j.createElement(gt,{key:"label-implicit",content:e,viewBox:r}):Ps(e)?j.createElement(gt,Vl({viewBox:r},e,{key:"label-implicit"})):null:null},Hre=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=Sk(e),o=Dt(i,gt).map(function(l,c){return x.cloneElement(l,{viewBox:r||a,key:"label-".concat(c)})});if(!n)return o;var s=qre(e.label,r||a);return[s].concat(jre(o))};gt.parseViewBox=Sk;gt.renderCallByParent=Hre;function Kre(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Vre=Kre;const Ok=ke(Vre);function Gl(t){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gl(t)}var Gre=["valueAccessor"],Yre=["data","dataKey","clockWise","id","textBreakAll"];function Xre(t){return ene(t)||Zre(t)||Jre(t)||Qre()}function Qre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jre(t,e){if(t){if(typeof t=="string")return yv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yv(t,e)}}function Zre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ene(t){if(Array.isArray(t))return yv(t)}function yv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Od(){return Od=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Od.apply(this,arguments)}function y_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function b_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?y_(Object(r),!0).forEach(function(n){tne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tne(t,e,r){return e=rne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rne(t){var e=nne(t,"string");return Gl(e)=="symbol"?e:e+""}function nne(t,e){if(Gl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function w_(t,e){if(t==null)return{};var r=ine(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ine(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var ane=function(e){return Array.isArray(e.value)?Ok(e.value):e.value};function vr(t){var e=t.valueAccessor,r=e===void 0?ane:e,n=w_(t,Gre),i=n.data,a=n.dataKey,o=n.clockWise,s=n.id,l=n.textBreakAll,c=w_(n,Yre);return!i||!i.length?null:j.createElement(me,{className:"recharts-label-list"},i.map(function(u,d){var f=ce(a)?r(u,d):Le(u&&u.payload,a),p=ce(s)?{}:{id:"".concat(s,"-").concat(d)};return j.createElement(gt,Od({},te(u,!0),c,p,{parentViewBox:u.parentViewBox,value:f,textBreakAll:l,viewBox:gt.parseViewBox(ce(o)?u:b_(b_({},u),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}vr.displayName="LabelList";function one(t,e){return t?t===!0?j.createElement(vr,{key:"labelList-implicit",data:e}):j.isValidElement(t)||le(t)?j.createElement(vr,{key:"labelList-implicit",data:e,content:t}):Ps(t)?j.createElement(vr,Od({data:e},t,{key:"labelList-implicit"})):null:null}function sne(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Dt(n,vr).map(function(o,s){return x.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!r)return i;var a=one(t.label,e);return[a].concat(Xre(i))}vr.renderCallByParent=sne;function Yl(t){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yl(t)}function bv(){return bv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bv.apply(this,arguments)}function x_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function __(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x_(Object(r),!0).forEach(function(n){lne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lne(t,e,r){return e=cne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cne(t){var e=une(t,"string");return Yl(e)=="symbol"?e:e+""}function une(t,e){if(Yl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dne=function(e,r){var n=Rt(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},su=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(s?1:-1)+i,d=Math.asin(l/u)/Sd,f=c?a:a+o*d,p=Pe(r,n,u,f),g=Pe(r,n,i,f),m=c?a-o*d:a,v=Pe(r,n,u*Math.cos(d*Sd),m);return{center:p,circleTangency:g,lineTangency:v,theta:d}},Ak=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=dne(o,s),c=o+l,u=Pe(r,n,a,o),d=Pe(r,n,a,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var p=Pe(r,n,i,o),g=Pe(r,n,i,c);f+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(r,",").concat(n," Z");return f},fne=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,d=Rt(u-c),f=su({cx:r,cy:n,radius:a,angle:c,sign:d,cornerRadius:o,cornerIsExternal:l}),p=f.circleTangency,g=f.lineTangency,m=f.theta,v=su({cx:r,cy:n,radius:a,angle:u,sign:-d,cornerRadius:o,cornerIsExternal:l}),b=v.circleTangency,w=v.lineTangency,y=v.theta,O=l?Math.abs(c-u):Math.abs(c-u)-m-y;if(O<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Ak({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u});var _="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(O>180),",").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var S=su({cx:r,cy:n,radius:i,angle:c,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),E=S.circleTangency,A=S.lineTangency,P=S.theta,k=su({cx:r,cy:n,radius:i,angle:u,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),C=k.circleTangency,N=k.lineTangency,D=k.theta,I=l?Math.abs(c-u):Math.abs(c-u)-P-D;if(I<0&&o===0)return"".concat(_,"L").concat(r,",").concat(n,"Z");_+="L".concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(I>180),",").concat(+(d>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(A.x,",").concat(A.y,"Z")}else _+="L".concat(r,",").concat(n,"Z");return _},hne={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Ek=function(e){var r=__(__({},hne),e),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,d=r.endAngle,f=r.className;if(o<a||u===d)return null;var p=pe("recharts-sector",f),g=o-a,m=It(s,g,0,!0),v;return m>0&&Math.abs(u-d)<360?v=fne({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(m,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):v=Ak({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:u,endAngle:d}),j.createElement("path",bv({},te(r,!0),{className:p,d:v,role:"img"}))};function Xl(t){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xl(t)}function wv(){return wv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wv.apply(this,arguments)}function S_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function O_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S_(Object(r),!0).forEach(function(n){pne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pne(t,e,r){return e=mne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mne(t){var e=vne(t,"string");return Xl(e)=="symbol"?e:e+""}function vne(t,e){if(Xl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Xl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var A_={curveBasisClosed:vH,curveBasisOpen:gH,curveBasis:mH,curveBumpX:tH,curveBumpY:rH,curveLinearClosed:yH,curveLinear:rh,curveMonotoneX:bH,curveMonotoneY:wH,curveNatural:xH,curveStep:_H,curveStepAfter:OH,curveStepBefore:SH},lu=function(e){return e.x===+e.x&&e.y===+e.y},Ys=function(e){return e.x},Xs=function(e){return e.y},gne=function(e,r){if(le(e))return e;var n="curve".concat(eh(e));return(n==="curveMonotone"||n==="curveBump")&&r?A_["".concat(n).concat(r==="vertical"?"Y":"X")]:A_[n]||rh},yne=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=gne(n,s),d=c?a.filter(function(m){return lu(m)}):a,f;if(Array.isArray(o)){var p=c?o.filter(function(m){return lu(m)}):o,g=d.map(function(m,v){return O_(O_({},m),{},{base:p[v]})});return s==="vertical"?f=Jc().y(Xs).x1(Ys).x0(function(m){return m.base.x}):f=Jc().x(Ys).y1(Xs).y0(function(m){return m.base.y}),f.defined(lu).curve(u),f(g)}return s==="vertical"&&Y(o)?f=Jc().y(Xs).x1(Ys).x0(o):Y(o)?f=Jc().x(Ys).y1(Xs).y0(o):f=yT().x(Ys).y(Xs),f.defined(lu).curve(u),f(d)},_i=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?yne(e):i;return x.createElement("path",wv({},te(e,!1),Yu(e),{className:pe("recharts-curve",r),d:o,ref:a}))},Pk={exports:{}},bne="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",wne=bne,xne=wne;function jk(){}function Tk(){}Tk.resetWarningCache=jk;var _ne=function(){function t(n,i,a,o,s,l){if(l!==xne){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Tk,resetWarningCache:jk};return r.PropTypes=r,r};Pk.exports=_ne();var Sne=Pk.exports;const Te=ke(Sne);var One=Object.getOwnPropertyNames,Ane=Object.getOwnPropertySymbols,Ene=Object.prototype.hasOwnProperty;function E_(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function cu(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,o=a.get(r),s=a.get(n);if(o&&s)return o===n&&s===r;a.set(r,n),a.set(n,r);var l=t(r,n,i);return a.delete(r),a.delete(n),l}}function P_(t){return One(t).concat(Ane(t))}var Pne=Object.hasOwn||function(t,e){return Ene.call(t,e)};function La(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var jne="__v",Tne="__o",Cne="_owner",j_=Object.getOwnPropertyDescriptor,T_=Object.keys;function kne(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function Nne(t,e){return La(t.getTime(),e.getTime())}function $ne(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Rne(t,e){return t===e}function C_(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var c=e.entries(),u=!1,d=0;(s=c.next())&&!s.done;){if(i[d]){d++;continue}var f=o.value,p=s.value;if(r.equals(f[0],p[0],l,d,t,e,r)&&r.equals(f[1],p[1],f[0],p[0],t,e,r)){u=i[d]=!0;break}d++}if(!u)return!1;l++}return!0}var Ine=La;function Mne(t,e,r){var n=T_(t),i=n.length;if(T_(e).length!==i)return!1;for(;i-- >0;)if(!Ck(t,e,r,n[i]))return!1;return!0}function Qs(t,e,r){var n=P_(t),i=n.length;if(P_(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=n[i],!Ck(t,e,r,a)||(o=j_(t,a),s=j_(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function Dne(t,e){return La(t.valueOf(),e.valueOf())}function Lne(t,e){return t.source===e.source&&t.flags===e.flags}function k_(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),o,s;(o=a.next())&&!o.done;){for(var l=e.values(),c=!1,u=0;(s=l.next())&&!s.done;){if(!i[u]&&r.equals(o.value,s.value,o.value,s.value,t,e,r)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function Bne(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function Fne(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function Ck(t,e,r,n){return(n===Cne||n===Tne||n===jne)&&(t.$$typeof||e.$$typeof)?!0:Pne(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var Une="[object Arguments]",Wne="[object Boolean]",zne="[object Date]",qne="[object Error]",Hne="[object Map]",Kne="[object Number]",Vne="[object Object]",Gne="[object RegExp]",Yne="[object Set]",Xne="[object String]",Qne="[object URL]",Jne=Array.isArray,N_=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,$_=Object.assign,Zne=Object.prototype.toString.call.bind(Object.prototype.toString);function eie(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,u=t.areSetsEqual,d=t.areTypedArraysEqual,f=t.areUrlsEqual;return function(g,m,v){if(g===m)return!0;if(g==null||m==null)return!1;var b=typeof g;if(b!==typeof m)return!1;if(b!=="object")return b==="number"?o(g,m,v):b==="function"?i(g,m,v):!1;var w=g.constructor;if(w!==m.constructor)return!1;if(w===Object)return s(g,m,v);if(Jne(g))return e(g,m,v);if(N_!=null&&N_(g))return d(g,m,v);if(w===Date)return r(g,m,v);if(w===RegExp)return c(g,m,v);if(w===Map)return a(g,m,v);if(w===Set)return u(g,m,v);var y=Zne(g);return y===zne?r(g,m,v):y===Gne?c(g,m,v):y===Hne?a(g,m,v):y===Yne?u(g,m,v):y===Vne?typeof g.then!="function"&&typeof m.then!="function"&&s(g,m,v):y===Qne?f(g,m,v):y===qne?n(g,m,v):y===Une?s(g,m,v):y===Wne||y===Kne||y===Xne?l(g,m,v):!1}}function tie(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Qs:kne,areDatesEqual:Nne,areErrorsEqual:$ne,areFunctionsEqual:Rne,areMapsEqual:n?E_(C_,Qs):C_,areNumbersEqual:Ine,areObjectsEqual:n?Qs:Mne,arePrimitiveWrappersEqual:Dne,areRegExpsEqual:Lne,areSetsEqual:n?E_(k_,Qs):k_,areTypedArraysEqual:n?Qs:Bne,areUrlsEqual:Fne};if(r&&(i=$_({},i,r(i))),e){var a=cu(i.areArraysEqual),o=cu(i.areMapsEqual),s=cu(i.areObjectsEqual),l=cu(i.areSetsEqual);i=$_({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function rie(t){return function(e,r,n,i,a,o,s){return t(e,r,s)}}function nie(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(l,c){var u=n(),d=u.cache,f=d===void 0?e?new WeakMap:void 0:d,p=u.meta;return r(l,c,{cache:f,equals:i,meta:p,strict:a})};if(e)return function(l,c){return r(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,c){return r(l,c,o)}}var iie=Di();Di({strict:!0});Di({circular:!0});Di({circular:!0,strict:!0});Di({createInternalComparator:function(){return La}});Di({strict:!0,createInternalComparator:function(){return La}});Di({circular:!0,createInternalComparator:function(){return La}});Di({circular:!0,createInternalComparator:function(){return La},strict:!0});function Di(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=tie(t),l=eie(s),c=n?n(l):rie(l);return nie({circular:r,comparator:l,createState:i,equals:c,strict:o})}function aie(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function R_(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):aie(i)};requestAnimationFrame(n)}function xv(t){"@babel/helpers - typeof";return xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xv(t)}function oie(t){return uie(t)||cie(t)||lie(t)||sie()}function sie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lie(t,e){if(t){if(typeof t=="string")return I_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I_(t,e)}}function I_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uie(t){if(Array.isArray(t))return t}function die(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,s=oie(o),l=s[0],c=s.slice(1);if(typeof l=="number"){R_(i.bind(null,c),l);return}i(l),R_(i.bind(null,c));return}xv(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Ql(t){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(t)}function M_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function D_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M_(Object(r),!0).forEach(function(n){kk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kk(t,e,r){return e=fie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fie(t){var e=hie(t,"string");return Ql(e)==="symbol"?e:String(e)}function hie(t,e){if(Ql(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ql(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pie=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},mie=function(e){return e},vie=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},dl=function(e,r){return Object.keys(r).reduce(function(n,i){return D_(D_({},n),{},kk({},i,e(i,r[i])))},{})},L_=function(e,r,n){return e.map(function(i){return"".concat(vie(i)," ").concat(r,"ms ").concat(n)}).join(",")};function gie(t,e){return wie(t)||bie(t,e)||Nk(t,e)||yie()}function yie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function wie(t){if(Array.isArray(t))return t}function xie(t){return Oie(t)||Sie(t)||Nk(t)||_ie()}function _ie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nk(t,e){if(t){if(typeof t=="string")return _v(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _v(t,e)}}function Sie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Oie(t){if(Array.isArray(t))return _v(t)}function _v(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Ad=1e-4,$k=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},Rk=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},B_=function(e,r){return function(n){var i=$k(e,r);return Rk(i,n)}},Aie=function(e,r){return function(n){var i=$k(e,r),a=[].concat(xie(i.map(function(o,s){return o*s}).slice(1)),[0]);return Rk(a,n)}},F_=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=gie(c,4);i=u[0],a=u[1],o=u[2],s=u[3]}}}var d=B_(i,o),f=B_(a,s),p=Aie(i,o),g=function(b){return b>1?1:b<0?0:b},m=function(b){for(var w=b>1?1:b,y=w,O=0;O<8;++O){var _=d(y)-w,S=p(y);if(Math.abs(_-w)<Ad||S<Ad)return f(y);y=g(y-_/S)}return f(y)};return m.isStepper=!1,m},Eie=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(u,d,f){var p=-(u-d)*n,g=f*a,m=f+(p-g)*s/1e3,v=f*s/1e3+u;return Math.abs(v-d)<Ad&&Math.abs(m)<Ad?[d,0]:[v,m]};return l.isStepper=!0,l.dt=s,l},Pie=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return F_(i);case"spring":return Eie();default:if(i.split("(")[0]==="cubic-bezier")return F_(i)}return typeof i=="function"?i:null};function Jl(t){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(t)}function U_(t){return Cie(t)||Tie(t)||Ik(t)||jie()}function jie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cie(t){if(Array.isArray(t))return Ov(t)}function W_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W_(Object(r),!0).forEach(function(n){Sv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sv(t,e,r){return e=kie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kie(t){var e=Nie(t,"string");return Jl(e)==="symbol"?e:String(e)}function Nie(t,e){if(Jl(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Jl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $ie(t,e){return Mie(t)||Iie(t,e)||Ik(t,e)||Rie()}function Rie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ik(t,e){if(t){if(typeof t=="string")return Ov(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ov(t,e)}}function Ov(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Iie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Mie(t){if(Array.isArray(t))return t}var Ed=function(e,r,n){return e+(r-e)*n},Av=function(e){var r=e.from,n=e.to;return r!==n},Die=function t(e,r,n){var i=dl(function(a,o){if(Av(o)){var s=e(o.from,o.to,o.velocity),l=$ie(s,2),c=l[0],u=l[1];return xt(xt({},o),{},{from:c,velocity:u})}return o},r);return n<1?dl(function(a,o){return Av(o)?xt(xt({},o),{},{velocity:Ed(o.velocity,i[a].velocity,n),from:Ed(o.from,i[a].from,n)}):o},r):t(e,i,n-1)};const Lie=function(t,e,r,n,i){var a=pie(t,e),o=a.reduce(function(v,b){return xt(xt({},v),{},Sv({},b,[t[b],e[b]]))},{}),s=a.reduce(function(v,b){return xt(xt({},v),{},Sv({},b,{from:t[b],velocity:0,to:e[b]}))},{}),l=-1,c,u,d=function(){return null},f=function(){return dl(function(b,w){return w.from},s)},p=function(){return!Object.values(s).filter(Av).length},g=function(b){c||(c=b);var w=b-c,y=w/r.dt;s=Die(r,s,y),i(xt(xt(xt({},t),e),f())),c=b,p()||(l=requestAnimationFrame(d))},m=function(b){u||(u=b);var w=(b-u)/n,y=dl(function(_,S){return Ed.apply(void 0,U_(S).concat([r(w)]))},o);if(i(xt(xt(xt({},t),e),y)),w<1)l=requestAnimationFrame(d);else{var O=dl(function(_,S){return Ed.apply(void 0,U_(S).concat([r(1)]))},o);i(xt(xt(xt({},t),e),O))}};return d=r.isStepper?g:m,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Jo(t){"@babel/helpers - typeof";return Jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jo(t)}var Bie=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Fie(t,e){if(t==null)return{};var r=Uie(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Uie(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Ep(t){return Hie(t)||qie(t)||zie(t)||Wie()}function Wie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zie(t,e){if(t){if(typeof t=="string")return Ev(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ev(t,e)}}function qie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hie(t){if(Array.isArray(t))return Ev(t)}function Ev(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function z_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z_(Object(r),!0).forEach(function(n){al(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function al(t,e,r){return e=Mk(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Mk(n.key),n)}}function Gie(t,e,r){return e&&Vie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mk(t){var e=Yie(t,"string");return Jo(e)==="symbol"?e:String(e)}function Yie(t,e){if(Jo(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Jo(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pv(t,e)}function Pv(t,e){return Pv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Pv(t,e)}function Qie(t){var e=Jie();return function(){var n=Pd(t),i;if(e){var a=Pd(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return jv(this,i)}}function jv(t,e){if(e&&(Jo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tv(t)}function Tv(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jie(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pd(t){return Pd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pd(t)}var ir=function(t){Xie(r,t);var e=Qie(r);function r(n,i){var a;Kie(this,r),a=e.call(this,n,i);var o=a.props,s=o.isActive,l=o.attributeName,c=o.from,u=o.to,d=o.steps,f=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Tv(a)),a.changeStyle=a.changeStyle.bind(Tv(a)),!s||p<=0)return a.state={style:{}},typeof f=="function"&&(a.state={style:u}),jv(a);if(d&&d.length)a.state={style:d[0].style};else if(c){if(typeof f=="function")return a.state={style:c},jv(a);a.state={style:l?al({},l,c):c}}else a.state={style:{}};return a}return Gie(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,u=a.to,d=a.from,f=this.state.style;if(s){if(!o){var p={style:l?al({},l,u):u};this.state&&f&&(l&&f[l]!==u||!l&&f!==u)&&this.setState(p);return}if(!(iie(i.to,u)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||c?d:i.to;if(this.state&&f){var v={style:l?al({},l,m):m};(l&&f[l]!==m||!l&&f!==m)&&this.setState(v)}this.runAnimation(Pr(Pr({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,c=i.easing,u=i.begin,d=i.onAnimationEnd,f=i.onAnimationStart,p=Lie(o,s,Pie(c),l,this.changeStyle),g=function(){a.stopJSAnimation=p()};this.manager.start([f,u,g,l,d])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,c=o[0],u=c.style,d=c.duration,f=d===void 0?0:d,p=function(m,v,b){if(b===0)return m;var w=v.duration,y=v.easing,O=y===void 0?"ease":y,_=v.style,S=v.properties,E=v.onAnimationEnd,A=b>0?o[b-1]:v,P=S||Object.keys(_);if(typeof O=="function"||O==="spring")return[].concat(Ep(m),[a.runJSAnimation.bind(a,{from:A.style,to:_,duration:w,easing:O}),w]);var k=L_(P,w,O),C=Pr(Pr(Pr({},A.style),_),{},{transition:k});return[].concat(Ep(m),[C,w,E]).filter(mie)};return this.manager.start([l].concat(Ep(o.reduce(p,[u,Math.max(f,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=die());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,d=i.onAnimationEnd,f=i.steps,p=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(f.length>1){this.runStepAnimation(i);return}var m=s?al({},s,l):l,v=L_(Object.keys(m),o,c);g.start([u,a,Pr(Pr({},m),{},{transition:v}),o,d])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Fie(i,Bie),c=x.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!s||c===0||o<=0)return a;var d=function(p){var g=p.props,m=g.style,v=m===void 0?{}:m,b=g.className,w=x.cloneElement(p,Pr(Pr({},l),{},{style:Pr(Pr({},v),u),className:b}));return w};return c===1?d(x.Children.only(a)):j.createElement("div",null,x.Children.map(a,function(f){return d(f)}))}}]),r}(x.PureComponent);ir.displayName="Animate";ir.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ir.propTypes={from:Te.oneOfType([Te.object,Te.string]),to:Te.oneOfType([Te.object,Te.string]),attributeName:Te.string,duration:Te.number,begin:Te.number,easing:Te.oneOfType([Te.string,Te.func]),steps:Te.arrayOf(Te.shape({duration:Te.number.isRequired,style:Te.object.isRequired,easing:Te.oneOfType([Te.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Te.func]),properties:Te.arrayOf("string"),onAnimationEnd:Te.func})),children:Te.oneOfType([Te.node,Te.func]),isActive:Te.bool,canBegin:Te.bool,onAnimationEnd:Te.func,shouldReAnimate:Te.bool,onAnimationStart:Te.func,onAnimationReStart:Te.func};function Zl(t){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zl(t)}function jd(){return jd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jd.apply(this,arguments)}function Zie(t,e){return nae(t)||rae(t,e)||tae(t,e)||eae()}function eae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tae(t,e){if(t){if(typeof t=="string")return q_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q_(t,e)}}function q_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rae(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function nae(t){if(Array.isArray(t))return t}function H_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function K_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H_(Object(r),!0).forEach(function(n){iae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iae(t,e,r){return e=aae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aae(t){var e=oae(t,"string");return Zl(e)=="symbol"?e:e+""}function oae(t,e){if(Zl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var V_=function(e,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),s=i>=0?1:-1,l=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0,u;if(o>0&&a instanceof Array){for(var d=[0,0,0,0],f=0,p=4;f<p;f++)d[f]=a[f]>o?o:a[f];u="M".concat(e,",").concat(r+s*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(r)),u+="L ".concat(e+n-l*d[1],",").concat(r),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(r+s*d[1])),u+="L ".concat(e+n,",").concat(r+i-s*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+n-l*d[2],",").concat(r+i)),u+="L ".concat(e+l*d[3],",").concat(r+i),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(r+i-s*d[3])),u+="Z"}else if(o>0&&a===+a&&a>0){var g=Math.min(o,a);u="M ".concat(e,",").concat(r+s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+l*g,",").concat(r,`
            L `).concat(e+n-l*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+n,",").concat(r+s*g,`
            L `).concat(e+n,",").concat(r+i-s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+n-l*g,",").concat(r+i,`
            L `).concat(e+l*g,",").concat(r+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e,",").concat(r+i-s*g," Z")}else u="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return u},sae=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,o=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(a,a+s),u=Math.max(a,a+s),d=Math.min(o,o+l),f=Math.max(o,o+l);return n>=c&&n<=u&&i>=d&&i<=f}return!1},lae={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lb=function(e){var r=K_(K_({},lae),e),n=x.useRef(),i=x.useState(-1),a=Zie(i,2),o=a[0],s=a[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var O=n.current.getTotalLength();O&&s(O)}catch{}},[]);var l=r.x,c=r.y,u=r.width,d=r.height,f=r.radius,p=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,b=r.isAnimationActive,w=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||u===0||d===0)return null;var y=pe("recharts-rectangle",p);return w?j.createElement(ir,{canBegin:o>0,from:{width:u,height:d,x:l,y:c},to:{width:u,height:d,x:l,y:c},duration:m,animationEasing:g,isActive:w},function(O){var _=O.width,S=O.height,E=O.x,A=O.y;return j.createElement(ir,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:b,easing:g},j.createElement("path",jd({},te(r,!0),{className:y,d:V_(E,A,_,S,f),ref:n})))}):j.createElement("path",jd({},te(r,!0),{className:y,d:V_(l,c,u,d,f)}))},cae=["points","className","baseLinePoints","connectNulls"];function so(){return so=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},so.apply(this,arguments)}function uae(t,e){if(t==null)return{};var r=dae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function G_(t){return mae(t)||pae(t)||hae(t)||fae()}function fae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hae(t,e){if(t){if(typeof t=="string")return Cv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cv(t,e)}}function pae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mae(t){if(Array.isArray(t))return Cv(t)}function Cv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Y_=function(e){return e&&e.x===+e.x&&e.y===+e.y},vae=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){Y_(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),Y_(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},fl=function(e,r){var n=vae(e);r&&(n=[n.reduce(function(a,o){return[].concat(G_(a),G_(o))},[])]);var i=n.map(function(a){return a.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},gae=function(e,r,n){var i=fl(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(fl(r.reverse(),n).slice(1))},Dk=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,o=uae(e,cae);if(!r||!r.length)return null;var s=pe("recharts-polygon",n);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",c=gae(r,i,a);return j.createElement("g",{className:s},j.createElement("path",so({},te(o,!0),{fill:c.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:c})),l?j.createElement("path",so({},te(o,!0),{fill:"none",d:fl(r,a)})):null,l?j.createElement("path",so({},te(o,!0),{fill:"none",d:fl(i,a)})):null)}var u=fl(r,a);return j.createElement("path",so({},te(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:s,d:u}))};function kv(){return kv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kv.apply(this,arguments)}var Fs=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,o=pe("recharts-dot",a);return r===+r&&n===+n&&i===+i?x.createElement("circle",kv({},te(e,!1),Yu(e),{className:o,cx:r,cy:n,r:i})):null};function ec(t){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ec(t)}var yae=["x","y","top","left","width","height","className"];function Nv(){return Nv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nv.apply(this,arguments)}function X_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X_(Object(r),!0).forEach(function(n){wae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wae(t,e,r){return e=xae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xae(t){var e=_ae(t,"string");return ec(e)=="symbol"?e:e+""}function _ae(t,e){if(ec(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sae(t,e){if(t==null)return{};var r=Oae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Oae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Aae=function(e,r,n,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},Eae=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,c=l===void 0?0:l,u=e.width,d=u===void 0?0:u,f=e.height,p=f===void 0?0:f,g=e.className,m=Sae(e,yae),v=bae({x:n,y:a,top:s,left:c,width:d,height:p},m);return!Y(n)||!Y(a)||!Y(d)||!Y(p)||!Y(s)||!Y(c)?null:j.createElement("path",Nv({},te(v,!0),{className:pe("recharts-cross",g),d:Aae(n,a,d,p,s,c)}))},Pae=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function tc(t){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tc(t)}function jae(t,e){if(t==null)return{};var r=Tae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Tae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ln(){return Ln=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ln.apply(this,arguments)}function Q_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q_(Object(r),!0).forEach(function(n){Cae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cae(t,e,r){return e=kae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kae(t){var e=Nae(t,"string");return tc(e)=="symbol"?e:e+""}function Nae(t,e){if(tc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $ae=function(e,r,n,i){var a="";return i.forEach(function(o,s){var l=Pe(r,n,e,o);s?a+="L ".concat(l.x,",").concat(l.y):a+="M ".concat(l.x,",").concat(l.y)}),a+="Z",a},Rae=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.polarAngles,s=e.radialLines;if(!o||!o.length||!s)return null;var l=rc({stroke:"#ccc"},te(e,!1));return j.createElement("g",{className:"recharts-polar-grid-angle"},o.map(function(c){var u=Pe(r,n,i,c),d=Pe(r,n,a,c);return j.createElement("line",Ln({},l,{key:"line-".concat(c),x1:u.x,y1:u.y,x2:d.x,y2:d.y}))}))},Iae=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.index,o=rc(rc({stroke:"#ccc"},te(e,!1)),{},{fill:"none"});return j.createElement("circle",Ln({},o,{className:pe("recharts-polar-grid-concentric-circle",e.className),key:"circle-".concat(a),cx:r,cy:n,r:i}))},Mae=function(e){var r=e.radius,n=e.index,i=rc(rc({stroke:"#ccc"},te(e,!1)),{},{fill:"none"});return j.createElement("path",Ln({},i,{className:pe("recharts-polar-grid-concentric-polygon",e.className),key:"path-".concat(n),d:$ae(r,e.cx,e.cy,e.polarAngles)}))},Dae=function(e){var r=e.polarRadius,n=e.gridType;return!r||!r.length?null:j.createElement("g",{className:"recharts-polar-grid-concentric"},r.map(function(i,a){var o=a;return n==="circle"?j.createElement(Iae,Ln({key:o},e,{radius:i,index:a})):j.createElement(Mae,Ln({key:o},e,{radius:i,index:a}))}))},Td=function(e){var r=e.cx,n=r===void 0?0:r,i=e.cy,a=i===void 0?0:i,o=e.innerRadius,s=o===void 0?0:o,l=e.outerRadius,c=l===void 0?0:l,u=e.gridType,d=u===void 0?"polygon":u,f=e.radialLines,p=f===void 0?!0:f,g=jae(e,Pae);return c<=0?null:j.createElement("g",{className:"recharts-polar-grid"},j.createElement(Rae,Ln({cx:n,cy:a,innerRadius:s,outerRadius:c,gridType:d,radialLines:p},g)),j.createElement(Dae,Ln({cx:n,cy:a,innerRadius:s,outerRadius:c,gridType:d,radialLines:p},g)))};Td.displayName="PolarGrid";var Lae=ph,Bae=KC,Fae=pn;function Uae(t,e){return t&&t.length?Lae(t,Fae(e),Bae):void 0}var Wae=Uae;const zae=ke(Wae);var qae=ph,Hae=pn,Kae=VC;function Vae(t,e){return t&&t.length?qae(t,Hae(e),Kae):void 0}var Gae=Vae;const Yae=ke(Gae);var Xae=["cx","cy","angle","ticks","axisLine"],Qae=["ticks","tick","angle","tickFormatter","stroke"];function Zo(t){"@babel/helpers - typeof";return Zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zo(t)}function hl(){return hl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hl.apply(this,arguments)}function J_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?J_(Object(r),!0).forEach(function(n){yh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Z_(t,e){if(t==null)return{};var r=Jae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Jae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Zae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Bk(n.key),n)}}function eoe(t,e,r){return e&&eS(t.prototype,e),r&&eS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function toe(t,e,r){return e=Cd(e),roe(t,Lk()?Reflect.construct(e,r||[],Cd(t).constructor):e.apply(t,r))}function roe(t,e){if(e&&(Zo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return noe(t)}function noe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lk=function(){return!!t})()}function Cd(t){return Cd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cd(t)}function ioe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$v(t,e)}function $v(t,e){return $v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$v(t,e)}function yh(t,e,r){return e=Bk(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bk(t){var e=aoe(t,"string");return Zo(e)=="symbol"?e:e+""}function aoe(t,e){if(Zo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Zo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Na=function(t){function e(){return Zae(this,e),toe(this,e,arguments)}return ioe(e,t),eoe(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,o=a.angle,s=a.cx,l=a.cy;return Pe(s,l,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,l=zae(s,function(u){return u.coordinate||0}),c=Yae(s,function(u){return u.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,l=n.axisLine,c=Z_(n,Xae),u=s.reduce(function(g,m){return[Math.min(g[0],m.coordinate),Math.max(g[1],m.coordinate)]},[1/0,-1/0]),d=Pe(i,a,u[0],o),f=Pe(i,a,u[1],o),p=Wi(Wi(Wi({},te(c,!1)),{},{fill:"none"},te(l,!1)),{},{x1:d.x,y1:d.y,x2:f.x,y2:f.y});return j.createElement("line",hl({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,l=i.tickFormatter,c=i.stroke,u=Z_(i,Qae),d=this.getTickTextAnchor(),f=te(u,!1),p=te(o,!1),g=a.map(function(m,v){var b=n.getTickValueCoord(m),w=Wi(Wi(Wi(Wi({textAnchor:d,transform:"rotate(".concat(90-s,", ").concat(b.x,", ").concat(b.y,")")},f),{},{stroke:"none",fill:c},p),{},{index:v},b),{},{payload:m});return j.createElement(me,hl({className:pe("recharts-polar-radius-axis-tick",_k(o)),key:"tick-".concat(m.coordinate)},Pi(n.props,m,v)),e.renderTickItem(o,w,l?l(m.value,v):m.value))});return j.createElement(me,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,o=n.tick;return!i||!i.length?null:j.createElement(me,{className:pe("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),gt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return j.isValidElement(n)?o=j.cloneElement(n,i):le(n)?o=n(i):o=j.createElement(Ta,hl({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(x.PureComponent);yh(Na,"displayName","PolarRadiusAxis");yh(Na,"axisType","radiusAxis");yh(Na,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function es(t){"@babel/helpers - typeof";return es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},es(t)}function ra(){return ra=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ra.apply(this,arguments)}function tS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tS(Object(r),!0).forEach(function(n){bh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ooe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Uk(n.key),n)}}function soe(t,e,r){return e&&rS(t.prototype,e),r&&rS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function loe(t,e,r){return e=kd(e),coe(t,Fk()?Reflect.construct(e,r||[],kd(t).constructor):e.apply(t,r))}function coe(t,e){if(e&&(es(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uoe(t)}function uoe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fk=function(){return!!t})()}function kd(t){return kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kd(t)}function doe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rv(t,e)}function Rv(t,e){return Rv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Rv(t,e)}function bh(t,e,r){return e=Uk(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uk(t){var e=foe(t,"string");return es(e)=="symbol"?e:e+""}function foe(t,e){if(es(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(es(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hoe=Math.PI/180,nS=1e-5,ji=function(t){function e(){return ooe(this,e),loe(this,e,arguments)}return doe(e,t),soe(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,o=i.cy,s=i.radius,l=i.orientation,c=i.tickSize,u=c||8,d=Pe(a,o,s,n.coordinate),f=Pe(a,o,s+(l==="inner"?-1:1)*u,n.coordinate);return{x1:d.x,y1:d.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*hoe),o;return a>nS?o=i==="outer"?"start":"end":a<-nS?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.radius,s=n.axisLine,l=n.axisLineType,c=zi(zi({},te(this.props,!1)),{},{fill:"none"},te(s,!1));if(l==="circle")return j.createElement(Fs,ra({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:a,r:o}));var u=this.props.ticks,d=u.map(function(f){return Pe(i,a,o,f.coordinate)});return j.createElement(Dk,ra({className:"recharts-polar-angle-axis-line"},c,{points:d}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,l=i.tickFormatter,c=i.stroke,u=te(this.props,!1),d=te(o,!1),f=zi(zi({},u),{},{fill:"none"},te(s,!1)),p=a.map(function(g,m){var v=n.getTickLineCoord(g),b=n.getTickTextAnchor(g),w=zi(zi(zi({textAnchor:b},u),{},{stroke:"none",fill:c},d),{},{index:m,payload:g,x:v.x2,y:v.y2});return j.createElement(me,ra({className:pe("recharts-polar-angle-axis-tick",_k(o)),key:"tick-".concat(g.coordinate)},Pi(n.props,g,m)),s&&j.createElement("line",ra({className:"recharts-polar-angle-axis-tick-line"},f,v)),o&&e.renderTickItem(o,w,l?l(g.value,m):g.value))});return j.createElement(me,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!i||!i.length?null:j.createElement(me,{className:pe("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var o;return j.isValidElement(n)?o=j.cloneElement(n,i):le(n)?o=n(i):o=j.createElement(Ta,ra({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(x.PureComponent);bh(ji,"displayName","PolarAngleAxis");bh(ji,"axisType","angleAxis");bh(ji,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var poe=WT,moe=poe(Object.getPrototypeOf,Object),voe=moe,goe=Un,yoe=voe,boe=Wn,woe="[object Object]",xoe=Function.prototype,_oe=Object.prototype,Wk=xoe.toString,Soe=_oe.hasOwnProperty,Ooe=Wk.call(Object);function Aoe(t){if(!boe(t)||goe(t)!=woe)return!1;var e=yoe(t);if(e===null)return!0;var r=Soe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Wk.call(r)==Ooe}var Eoe=Aoe;const Poe=ke(Eoe);var joe=Un,Toe=Wn,Coe="[object Boolean]";function koe(t){return t===!0||t===!1||Toe(t)&&joe(t)==Coe}var Noe=koe;const $oe=ke(Noe);function nc(t){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(t)}function Nd(){return Nd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nd.apply(this,arguments)}function Roe(t,e){return Loe(t)||Doe(t,e)||Moe(t,e)||Ioe()}function Ioe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Moe(t,e){if(t){if(typeof t=="string")return iS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iS(t,e)}}function iS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Doe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Loe(t){if(Array.isArray(t))return t}function aS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aS(Object(r),!0).forEach(function(n){Boe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Boe(t,e,r){return e=Foe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Foe(t){var e=Uoe(t,"string");return nc(e)=="symbol"?e:e+""}function Uoe(t,e){if(nc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sS=function(e,r,n,i,a){var o=n-i,s;return s="M ".concat(e,",").concat(r),s+="L ".concat(e+n,",").concat(r),s+="L ".concat(e+n-o/2,",").concat(r+a),s+="L ".concat(e+n-o/2-i,",").concat(r+a),s+="L ".concat(e,",").concat(r," Z"),s},Woe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zoe=function(e){var r=oS(oS({},Woe),e),n=x.useRef(),i=x.useState(-1),a=Roe(i,2),o=a[0],s=a[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var y=n.current.getTotalLength();y&&s(y)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,d=r.lowerWidth,f=r.height,p=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,b=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||f!==+f||u===0&&d===0||f===0)return null;var w=pe("recharts-trapezoid",p);return b?j.createElement(ir,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:l,y:c},to:{upperWidth:u,lowerWidth:d,height:f,x:l,y:c},duration:m,animationEasing:g,isActive:b},function(y){var O=y.upperWidth,_=y.lowerWidth,S=y.height,E=y.x,A=y.y;return j.createElement(ir,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:g},j.createElement("path",Nd({},te(r,!0),{className:w,d:sS(E,A,O,_,S),ref:n})))}):j.createElement("g",null,j.createElement("path",Nd({},te(r,!0),{className:w,d:sS(l,c,u,d,f)})))},qoe=["option","shapeType","propTransformer","activeClassName","isActive"];function ic(t){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ic(t)}function Hoe(t,e){if(t==null)return{};var r=Koe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Koe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function lS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $d(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lS(Object(r),!0).forEach(function(n){Voe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Voe(t,e,r){return e=Goe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Goe(t){var e=Yoe(t,"string");return ic(e)=="symbol"?e:e+""}function Yoe(t,e){if(ic(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xoe(t,e){return $d($d({},e),t)}function Qoe(t,e){return t==="symbols"}function cS(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return j.createElement(lb,r);case"trapezoid":return j.createElement(zoe,r);case"sector":return j.createElement(Ek,r);case"symbols":if(Qoe(e))return j.createElement(ih,r);break;default:return null}}function Joe(t){return x.isValidElement(t)?t.props:t}function Rd(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?Xoe:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=Hoe(t,qoe),c;if(x.isValidElement(e))c=x.cloneElement(e,$d($d({},l),Joe(e)));else if(le(e))c=e(l);else if(Poe(e)&&!$oe(e)){var u=i(e,l);c=j.createElement(cS,{shapeType:r,elementProps:u})}else{var d=l;c=j.createElement(cS,{shapeType:r,elementProps:d})}return s?j.createElement(me,{className:o},c):c}function wh(t,e){return e!=null&&"trapezoids"in t.props}function xh(t,e){return e!=null&&"sectors"in t.props}function ac(t,e){return e!=null&&"points"in t.props}function Zoe(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function ese(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function tse(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function rse(t,e){var r;return wh(t,e)?r=Zoe:xh(t,e)?r=ese:ac(t,e)&&(r=tse),r}function nse(t,e){var r;return wh(t,e)?r="trapezoids":xh(t,e)?r="sectors":ac(t,e)&&(r="points"),r}function ise(t,e){if(wh(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(xh(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return ac(t,e)?e.payload:{}}function ase(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=nse(r,e),a=ise(r,e),o=n.filter(function(l,c){var u=Dn(a,l),d=r.props[i].filter(function(g){var m=rse(r,e);return m(g,e)}),f=r.props[i].indexOf(d[d.length-1]),p=c===f;return u&&p}),s=n.indexOf(o[o.length-1]);return s}var Ou;function ts(t){"@babel/helpers - typeof";return ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ts(t)}function lo(){return lo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lo.apply(this,arguments)}function uS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ue(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uS(Object(r),!0).forEach(function(n){pr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ose(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qk(n.key),n)}}function sse(t,e,r){return e&&dS(t.prototype,e),r&&dS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function lse(t,e,r){return e=Id(e),cse(t,zk()?Reflect.construct(e,r||[],Id(t).constructor):e.apply(t,r))}function cse(t,e){if(e&&(ts(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return use(t)}function use(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zk=function(){return!!t})()}function Id(t){return Id=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Id(t)}function dse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Iv(t,e)}function Iv(t,e){return Iv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Iv(t,e)}function pr(t,e,r){return e=qk(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qk(t){var e=fse(t,"string");return ts(e)=="symbol"?e:e+""}function fse(t,e){if(ts(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ts(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qn=function(t){function e(r){var n;return ose(this,e),n=lse(this,e,[r]),pr(n,"pieRef",null),pr(n,"sectorRefs",[]),pr(n,"id",Ri("recharts-pie-")),pr(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),le(i)&&i()}),pr(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),le(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return dse(e,t),sse(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,l=a.dataKey,c=a.valueKey,u=te(this.props,!1),d=te(o,!1),f=te(s,!1),p=o&&o.offsetRadius||20,g=n.map(function(m,v){var b=(m.startAngle+m.endAngle)/2,w=Pe(m.cx,m.cy,m.outerRadius+p,b),y=Ue(Ue(Ue(Ue({},u),m),{},{stroke:"none"},d),{},{index:v,textAnchor:e.getTextAnchor(w.x,m.cx)},w),O=Ue(Ue(Ue(Ue({},u),m),{},{fill:"none",stroke:m.fill},f),{},{index:v,points:[Pe(m.cx,m.cy,m.outerRadius,b),w]}),_=l;return ce(l)&&ce(c)?_="value":ce(l)&&(_=c),j.createElement(me,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(v)},s&&e.renderLabelLineItem(s,O,"line"),e.renderLabelItem(o,y,Le(m,_)))});return j.createElement(me,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,l=a.inactiveShape;return n.map(function(c,u){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&n.length!==1)return null;var d=i.isActiveIndex(u),f=l&&i.hasActiveIndex()?l:null,p=d?o:f,g=Ue(Ue({},c),{},{stroke:s?c.fill:c.stroke,tabIndex:-1});return j.createElement(me,lo({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Pi(i.props,c,u),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(u)}),j.createElement(Rd,lo({option:p,isActive:d,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,d=this.state,f=d.prevSectors,p=d.prevIsAnimationActive;return j.createElement(ir,{begin:s,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var m=g.t,v=[],b=a&&a[0],w=b.startAngle;return a.forEach(function(y,O){var _=f&&f[O],S=O>0?rr(y,"paddingAngle",0):0;if(_){var E=De(_.endAngle-_.startAngle,y.endAngle-y.startAngle),A=Ue(Ue({},y),{},{startAngle:w+S,endAngle:w+E(m)+S});v.push(A),w=A.endAngle}else{var P=y.endAngle,k=y.startAngle,C=De(0,P-k),N=C(m),D=Ue(Ue({},y),{},{startAngle:w+S,endAngle:w+N+S});v.push(D),w=D.endAngle}}),j.createElement(me,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!Dn(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,l=i.label,c=i.cx,u=i.cy,d=i.innerRadius,f=i.outerRadius,p=i.isAnimationActive,g=this.state.isAnimationFinished;if(a||!o||!o.length||!Y(c)||!Y(u)||!Y(d)||!Y(f))return null;var m=pe("recharts-pie",s);return j.createElement(me,{tabIndex:this.props.rootTabIndex,className:m,ref:function(b){n.pieRef=b}},this.renderSectors(),l&&this.renderLabels(o),gt.renderCallByParent(this.props,null,!1),(!p||g)&&vr.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(j.isValidElement(n))return j.cloneElement(n,i);if(le(n))return n(i);var o=pe("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return j.createElement(_i,lo({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,a){if(j.isValidElement(n))return j.cloneElement(n,i);var o=a;if(le(n)&&(o=n(i),j.isValidElement(o)))return o;var s=pe("recharts-pie-label-text",typeof n!="boolean"&&!le(n)?n.className:"");return j.createElement(Ta,lo({},i,{alignmentBaseline:"middle",className:s}),o)}}])}(x.PureComponent);Ou=qn;pr(qn,"displayName","Pie");pr(qn,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!nr.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});pr(qn,"parseDeltaAngle",function(t,e){var r=Rt(e-t),n=Math.min(Math.abs(e-t),360);return r*n});pr(qn,"getRealPieData",function(t){var e=t.data,r=t.children,n=te(t,!1),i=Dt(r,Is);return e&&e.length?e.map(function(a,o){return Ue(Ue(Ue({payload:a},n),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return Ue(Ue({},n),a.props)}):[]});pr(qn,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,o=wk(i,a),s=n+It(t.cx,i,i/2),l=r+It(t.cy,a,a/2),c=It(t.innerRadius,o,0),u=It(t.outerRadius,o,o*.8),d=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:l,innerRadius:c,outerRadius:u,maxRadius:d}});pr(qn,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Ue(Ue({},e.type.defaultProps),e.props):e.props,i=Ou.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,o=n.startAngle,s=n.endAngle,l=n.paddingAngle,c=n.dataKey,u=n.nameKey,d=n.valueKey,f=n.tooltipType,p=Math.abs(n.minAngle),g=Ou.parseCoordinateOfPie(n,r),m=Ou.parseDeltaAngle(o,s),v=Math.abs(m),b=c;ce(c)&&ce(d)?(Lr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):ce(c)&&(Lr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=d);var w=i.filter(function(A){return Le(A,b,0)!==0}).length,y=(v>=360?w:w-1)*l,O=v-w*p-y,_=i.reduce(function(A,P){var k=Le(P,b,0);return A+(Y(k)?k:0)},0),S;if(_>0){var E;S=i.map(function(A,P){var k=Le(A,b,0),C=Le(A,u,P),N=(Y(k)?k:0)/_,D;P?D=E.endAngle+Rt(m)*l*(k!==0?1:0):D=o;var I=D+Rt(m)*((k!==0?p:0)+N*O),L=(D+I)/2,T=(g.innerRadius+g.outerRadius)/2,R=[{name:C,value:k,payload:A,dataKey:b,type:f}],B=Pe(g.cx,g.cy,T,L);return E=Ue(Ue(Ue({percent:N,cornerRadius:a,name:C,tooltipPayload:R,midAngle:L,middleRadius:T,tooltipPosition:B},A),g),{},{value:Le(A,b),startAngle:D,endAngle:I,payload:A,paddingAngle:Rt(m)*l}),E})}return Ue(Ue({},g),{},{sectors:S,data:i})});function hse(t){return t&&t.length?t[0]:void 0}var pse=hse,mse=pse;const vse=ke(mse);var gse=["key"];function rs(t){"@babel/helpers - typeof";return rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rs(t)}function yse(t,e){if(t==null)return{};var r=bse(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Md(){return Md=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Md.apply(this,arguments)}function fS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fS(Object(r),!0).forEach(function(n){xn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Kk(n.key),n)}}function xse(t,e,r){return e&&hS(t.prototype,e),r&&hS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _se(t,e,r){return e=Dd(e),Sse(t,Hk()?Reflect.construct(e,r||[],Dd(t).constructor):e.apply(t,r))}function Sse(t,e){if(e&&(rs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ose(t)}function Ose(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hk=function(){return!!t})()}function Dd(t){return Dd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dd(t)}function Ase(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mv(t,e)}function Mv(t,e){return Mv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Mv(t,e)}function xn(t,e,r){return e=Kk(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kk(t){var e=Ese(t,"string");return rs(e)=="symbol"?e:e+""}function Ese(t,e){if(rs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(rs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $a=function(t){function e(){var r;wse(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=_se(this,e,[].concat(i)),xn(r,"state",{isAnimationFinished:!1}),xn(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),le(o)&&o()}),xn(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),le(o)&&o()}),xn(r,"handleMouseEnter",function(o){var s=r.props.onMouseEnter;s&&s(r.props,o)}),xn(r,"handleMouseLeave",function(o){var s=r.props.onMouseLeave;s&&s(r.props,o)}),r}return Ase(e,t),xse(e,[{key:"renderDots",value:function(n){var i=this.props,a=i.dot,o=i.dataKey,s=te(this.props,!1),l=te(a,!0),c=n.map(function(u,d){var f=Nt(Nt(Nt({key:"dot-".concat(d),r:3},s),l),{},{dataKey:o,cx:u.x,cy:u.y,index:d,payload:u});return e.renderDotItem(a,f)});return j.createElement(me,{className:"recharts-radar-dots"},c)}},{key:"renderPolygonStatically",value:function(n){var i=this.props,a=i.shape,o=i.dot,s=i.isRange,l=i.baseLinePoints,c=i.connectNulls,u;return j.isValidElement(a)?u=j.cloneElement(a,Nt(Nt({},this.props),{},{points:n})):le(a)?u=a(Nt(Nt({},this.props),{},{points:n})):u=j.createElement(Dk,Md({},te(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:n,baseLinePoints:s?l:null,connectNulls:c})),j.createElement(me,{className:"recharts-radar-polygon"},u,o?this.renderDots(n):null)}},{key:"renderPolygonWithAnimation",value:function(){var n=this,i=this.props,a=i.points,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,d=this.state.prevPoints;return j.createElement(ir,{begin:s,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"radar-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var p=f.t,g=d&&d.length/a.length,m=a.map(function(v,b){var w=d&&d[Math.floor(b*g)];if(w){var y=De(w.x,v.x),O=De(w.y,v.y);return Nt(Nt({},v),{},{x:y(p),y:O(p)})}var _=De(v.cx,v.x),S=De(v.cy,v.y);return Nt(Nt({},v),{},{x:_(p),y:S(p)})});return n.renderPolygonStatically(m)})}},{key:"renderPolygon",value:function(){var n=this.props,i=n.points,a=n.isAnimationActive,o=n.isRange,s=this.state.prevPoints;return a&&i&&i.length&&!o&&(!s||!Dn(s,i))?this.renderPolygonWithAnimation():this.renderPolygonStatically(i)}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.className,o=n.points,s=n.isAnimationActive;if(i||!o||!o.length)return null;var l=this.state.isAnimationFinished,c=pe("recharts-radar",a);return j.createElement(me,{className:c},this.renderPolygon(),(!s||l)&&vr.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"renderDotItem",value:function(n,i){var a;if(j.isValidElement(n))a=j.cloneElement(n,i);else if(le(n))a=n(i);else{var o=i.key,s=yse(i,gse);a=j.createElement(Fs,Md({},s,{key:o,className:pe("recharts-radar-dot",typeof n!="boolean"?n.className:"")}))}return a}}])}(x.PureComponent);xn($a,"displayName","Radar");xn($a,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!nr.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});xn($a,"getComposedData",function(t){var e=t.radiusAxis,r=t.angleAxis,n=t.displayedData,i=t.dataKey,a=t.bandSize,o=r.cx,s=r.cy,l=!1,c=[],u=r.type!=="number"?a??0:0;n.forEach(function(f,p){var g=Le(f,r.dataKey,p),m=Le(f,i),v=r.scale(g)+u,b=Array.isArray(m)?Ok(m):m,w=ce(b)?void 0:e.scale(b);Array.isArray(m)&&m.length>=2&&(l=!0),c.push(Nt(Nt({},Pe(o,s,w,v)),{},{name:g,value:m,cx:o,cy:s,radius:w,angle:v,payload:f}))});var d=[];return l&&c.forEach(function(f){if(Array.isArray(f.value)){var p=vse(f.value),g=ce(p)?void 0:e.scale(p);d.push(Nt(Nt({},f),{},{radius:g},Pe(o,s,g,f.angle)))}else d.push(f)}),{points:c,isRange:l,baseLinePoints:d}});var Pse=Math.ceil,jse=Math.max;function Tse(t,e,r,n){for(var i=-1,a=jse(Pse((e-t)/(r||1)),0),o=Array(a);a--;)o[n?a:++i]=t,t+=r;return o}var Cse=Tse,kse=sC,pS=1/0,Nse=17976931348623157e292;function $se(t){if(!t)return t===0?t:0;if(t=kse(t),t===pS||t===-pS){var e=t<0?-1:1;return e*Nse}return t===t?t:0}var Vk=$se,Rse=Cse,Ise=sh,Pp=Vk;function Mse(t){return function(e,r,n){return n&&typeof n!="number"&&Ise(e,r,n)&&(r=n=void 0),e=Pp(e),r===void 0?(r=e,e=0):r=Pp(r),n=n===void 0?e<r?1:-1:Pp(n),Rse(e,r,n,t)}}var Dse=Mse,Lse=Dse,Bse=Lse(),Fse=Bse;const Ld=ke(Fse);function oc(t){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oc(t)}function mS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mS(Object(r),!0).forEach(function(n){Gk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gk(t,e,r){return e=Use(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Use(t){var e=Wse(t,"string");return oc(e)=="symbol"?e:e+""}function Wse(t,e){if(oc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zse=["Webkit","Moz","O","ms"],qse=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=zse.reduce(function(a,o){return vS(vS({},a),{},Gk({},o+n,r))},{});return i[e]=r,i};function ns(t){"@babel/helpers - typeof";return ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ns(t)}function Bd(){return Bd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bd.apply(this,arguments)}function gS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gS(Object(r),!0).forEach(function(n){Xt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Xk(n.key),n)}}function Kse(t,e,r){return e&&yS(t.prototype,e),r&&yS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vse(t,e,r){return e=Fd(e),Gse(t,Yk()?Reflect.construct(e,r||[],Fd(t).constructor):e.apply(t,r))}function Gse(t,e){if(e&&(ns(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yse(t)}function Yse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yk=function(){return!!t})()}function Fd(t){return Fd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fd(t)}function Xse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dv(t,e)}function Dv(t,e){return Dv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Dv(t,e)}function Xt(t,e,r){return e=Xk(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xk(t){var e=Qse(t,"string");return ns(e)=="symbol"?e:e+""}function Qse(t,e){if(ns(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ns(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jse=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=cl().domain(Ld(0,l)).range([a,a+o-s]),u=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(i),scale:c,scaleValues:u}},bS=function(e){return e.changedTouches&&!!e.changedTouches.length},is=function(t){function e(r){var n;return Hse(this,e),n=Vse(this,e,[r]),Xt(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Xt(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Xt(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),n.detachDragEndListener()}),Xt(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Xt(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Xt(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Xt(n,"handleSlideDragStart",function(i){var a=bS(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Xse(e,t),Kse(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,u=c.length-1,d=Math.min(i,a),f=Math.max(i,a),p=e.getIndexInRange(o,d),g=e.getIndexInRange(o,f);return{startIndex:p-p%l,endIndex:g===u?u:g-g%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=Le(a[n],s,n);return le(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,c=l.x,u=l.width,d=l.travellerWidth,f=l.startIndex,p=l.endIndex,g=l.onChange,m=n.pageX-a;m>0?m=Math.min(m,c+u-d-s,c+u-d-o):m<0&&(m=Math.max(m,c-o,c-s));var v=this.getIndex({startX:o+m,endX:s+m});(v.startIndex!==f||v.endIndex!==p)&&g&&g(v),this.setState({startX:o+m,endX:s+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=bS(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[o],u=this.props,d=u.x,f=u.width,p=u.travellerWidth,g=u.onChange,m=u.gap,v=u.data,b={startX:this.state.startX,endX:this.state.endX},w=n.pageX-a;w>0?w=Math.min(w,d+f-p-c):w<0&&(w=Math.max(w,d-c)),b[o]=c+w;var y=this.getIndex(b),O=y.startIndex,_=y.endIndex,S=function(){var A=v.length-1;return o==="startX"&&(s>l?O%m===0:_%m===0)||s<l&&_===A||o==="endX"&&(s>l?_%m===0:O%m===0)||s>l&&_===A};this.setState(Xt(Xt({},o,c+w),"brushMoveStartX",n.pageX),function(){g&&S()&&g(y)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,c=o.endX,u=this.state[i],d=s.indexOf(u);if(d!==-1){var f=d+n;if(!(f===-1||f>=s.length)){var p=s[f];i==="startX"&&p>=c||i==="endX"&&p<=l||this.setState(Xt({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.fill,c=n.stroke;return j.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.data,c=n.children,u=n.padding,d=x.Children.only(c);return d?j.cloneElement(d,{x:i,y:a,width:o,height:s,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,s=this,l=this.props,c=l.y,u=l.travellerWidth,d=l.height,f=l.traveller,p=l.ariaLabel,g=l.data,m=l.startIndex,v=l.endIndex,b=Math.max(n,this.props.x),w=jp(jp({},te(this.props,!1)),{},{x:b,y:c,width:u,height:d}),y=p||"Min value: ".concat((a=g[m])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=g[v])===null||o===void 0?void 0:o.name);return j.createElement(me,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),s.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(f,w))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,c=a.travellerWidth,u=Math.min(n,i)+c,d=Math.max(Math.abs(i-n)-c,0);return j.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:o,width:d,height:s})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,s=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,d=u.startX,f=u.endX,p=5,g={pointerEvents:"none",fill:c};return j.createElement(me,{className:"recharts-brush-texts"},j.createElement(Ta,Bd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,f)-p,y:o+s/2},g),this.getTextOfTick(i)),j.createElement(Ta,Bd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,f)+l+p,y:o+s/2},g),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,s=n.x,l=n.y,c=n.width,u=n.height,d=n.alwaysShowText,f=this.state,p=f.startX,g=f.endX,m=f.isTextActive,v=f.isSlideMoving,b=f.isTravellerMoving,w=f.isTravellerFocused;if(!i||!i.length||!Y(s)||!Y(l)||!Y(c)||!Y(u)||c<=0||u<=0)return null;var y=pe("recharts-brush",a),O=j.Children.count(o)===1,_=qse("userSelect","none");return j.createElement(me,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),O&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(m||v||b||w||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,s=n.height,l=n.stroke,c=Math.floor(a+s/2)-1;return j.createElement(j.Fragment,null,j.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),j.createElement("line",{x1:i+1,y1:c,x2:i+o-1,y2:c,fill:"none",stroke:"#fff"}),j.createElement("line",{x1:i+1,y1:c+2,x2:i+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return j.isValidElement(n)?a=j.cloneElement(n,i):le(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,s=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,d=n.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return jp({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o},a&&a.length?Jse({data:a,width:o,x:s,travellerWidth:l,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var f=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);n[l]>i?s=l:o=l}return i>=n[s]?s:o}}])}(x.PureComponent);Xt(is,"displayName","Brush");Xt(is,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Zse=Ry;function ele(t,e){var r;return Zse(t,function(n,i,a){return r=e(n,i,a),!r}),!!r}var tle=ele,rle=RT,nle=pn,ile=tle,ale=Kt,ole=sh;function sle(t,e,r){var n=ale(t)?rle:ile;return r&&ole(t,e,r)&&(e=void 0),n(t,nle(e))}var lle=sle;const cle=ke(lle);var on=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},wS=rC;function ule(t,e,r){e=="__proto__"&&wS?wS(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var dle=ule,fle=dle,hle=eC,ple=pn;function mle(t,e){var r={};return e=ple(e),hle(t,function(n,i,a){fle(r,i,e(n,i,a))}),r}var vle=mle;const gle=ke(vle);function yle(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var ble=yle,wle=Ry;function xle(t,e){var r=!0;return wle(t,function(n,i,a){return r=!!e(n,i,a),r}),r}var _le=xle,Sle=ble,Ole=_le,Ale=pn,Ele=Kt,Ple=sh;function jle(t,e,r){var n=Ele(t)?Sle:Ole;return r&&Ple(t,e,r)&&(e=void 0),n(t,Ale(e))}var Tle=jle;const Qk=ke(Tle);var Cle=["x","y"];function sc(t){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sc(t)}function Lv(){return Lv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lv.apply(this,arguments)}function xS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Js(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xS(Object(r),!0).forEach(function(n){kle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kle(t,e,r){return e=Nle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nle(t){var e=$le(t,"string");return sc(e)=="symbol"?e:e+""}function $le(t,e){if(sc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rle(t,e){if(t==null)return{};var r=Ile(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ile(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Mle(t,e){var r=t.x,n=t.y,i=Rle(t,Cle),a="".concat(r),o=parseInt(a,10),s="".concat(n),l=parseInt(s,10),c="".concat(e.height||i.height),u=parseInt(c,10),d="".concat(e.width||i.width),f=parseInt(d,10);return Js(Js(Js(Js(Js({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:f,name:e.name,radius:e.radius})}function _S(t){return j.createElement(Rd,Lv({shapeType:"rectangle",propTransformer:Mle,activeClassName:"recharts-active-bar"},t))}var Dle=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=Y(n)||Fz(n);return a?e(n,i):(a||ka(),r)}},Lle=["value","background"],Jk;function as(t){"@babel/helpers - typeof";return as=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},as(t)}function Ble(t,e){if(t==null)return{};var r=Fle(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Fle(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ud(){return Ud=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ud.apply(this,arguments)}function SS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function st(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SS(Object(r),!0).forEach(function(n){vi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ule(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eN(n.key),n)}}function Wle(t,e,r){return e&&OS(t.prototype,e),r&&OS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function zle(t,e,r){return e=Wd(e),qle(t,Zk()?Reflect.construct(e,r||[],Wd(t).constructor):e.apply(t,r))}function qle(t,e){if(e&&(as(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hle(t)}function Hle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zk=function(){return!!t})()}function Wd(t){return Wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wd(t)}function Kle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bv(t,e)}function Bv(t,e){return Bv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Bv(t,e)}function vi(t,e,r){return e=eN(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eN(t){var e=Vle(t,"string");return as(e)=="symbol"?e:e+""}function Vle(t,e){if(as(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(as(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _t=function(t){function e(){var r;Ule(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=zle(this,e,[].concat(i)),vi(r,"state",{isAnimationFinished:!1}),vi(r,"id",Ri("recharts-bar-")),vi(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),vi(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Kle(e,t),Wle(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,c=a.activeBar,u=te(this.props,!1);return n&&n.map(function(d,f){var p=f===l,g=p?c:o,m=st(st(st({},u),d),{},{isActive:p,option:g,index:f,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return j.createElement(me,Ud({className:"recharts-bar-rectangle"},Pi(i.props,d,f),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(f)}),j.createElement(_S,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state.prevData;return j.createElement(ir,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,m=a.map(function(v,b){var w=f&&f[b];if(w){var y=De(w.x,v.x),O=De(w.y,v.y),_=De(w.width,v.width),S=De(w.height,v.height);return st(st({},v),{},{x:y(g),y:O(g),width:_(g),height:S(g)})}if(o==="horizontal"){var E=De(0,v.height),A=E(g);return st(st({},v),{},{y:v.y+v.height-A,height:A})}var P=De(0,v.width),k=P(g);return st(st({},v),{},{width:k})});return j.createElement(me,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Dn(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=te(this.props.background,!1);return a.map(function(c,u){c.value;var d=c.background,f=Ble(c,Lle);if(!d)return null;var p=st(st(st(st(st({},f),{},{fill:"#eee"},d),l),Pi(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return j.createElement(_S,Ud({key:"background-bar-".concat(u),option:n.props.background,isActive:u===s},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,d=Dt(u,Bs);if(!d)return null;var f=c==="vertical"?o[0].height/2:o[0].width/2,p=function(v,b){var w=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:w,errorVal:Le(v,b)}},g={clipPath:n?"url(#clipPath-".concat(i,")"):null};return j.createElement(me,g,d.map(function(m){return j.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,offset:f,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,s=n.xAxis,l=n.yAxis,c=n.left,u=n.top,d=n.width,f=n.height,p=n.isAnimationActive,g=n.background,m=n.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,b=pe("recharts-bar",o),w=s&&s.allowDataOverflow,y=l&&l.allowDataOverflow,O=w||y,_=ce(m)?this.id:m;return j.createElement(me,{className:b},w||y?j.createElement("defs",null,j.createElement("clipPath",{id:"clipPath-".concat(_)},j.createElement("rect",{x:w?c:c-d/2,y:y?u:u-f/2,width:w?d:d*2,height:y?f:f*2}))):null,j.createElement(me,{className:"recharts-bar-rectangles",clipPath:O?"url(#clipPath-".concat(_,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(O,_),(!p||v)&&vr.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(x.PureComponent);Jk=_t;vi(_t,"displayName","Bar");vi(_t,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!nr.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});vi(_t,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,d=t.displayedData,f=t.offset,p=are(n,r);if(!p)return null;var g=e.layout,m=r.type.defaultProps,v=m!==void 0?st(st({},m),r.props):r.props,b=v.dataKey,w=v.children,y=v.minPointSize,O=g==="horizontal"?o:a,_=c?O.scale.domain():null,S=fre({numericAxis:O}),E=Dt(w,Is),A=d.map(function(P,k){var C,N,D,I,L,T;c?C=ore(c[u+k],_):(C=Le(P,b),Array.isArray(C)||(C=[S,C]));var R=Dle(y,Jk.defaultProps.minPointSize)(C[1],k);if(g==="horizontal"){var B,M=[o.scale(C[0]),o.scale(C[1])],q=M[0],X=M[1];N=u_({axis:a,ticks:s,bandSize:i,offset:p.offset,entry:P,index:k}),D=(B=X??q)!==null&&B!==void 0?B:void 0,I=p.size;var H=q-X;if(L=Number.isNaN(H)?0:H,T={x:N,y:o.y,width:I,height:o.height},Math.abs(R)>0&&Math.abs(L)<Math.abs(R)){var V=Rt(L||R)*(Math.abs(R)-Math.abs(L));D-=V,L+=V}}else{var ee=[a.scale(C[0]),a.scale(C[1])],ie=ee[0],_e=ee[1];if(N=ie,D=u_({axis:o,ticks:l,bandSize:i,offset:p.offset,entry:P,index:k}),I=_e-ie,L=p.size,T={x:a.x,y:D,width:a.width,height:L},Math.abs(R)>0&&Math.abs(I)<Math.abs(R)){var Q=Rt(I||R)*(Math.abs(R)-Math.abs(I));I+=Q}}return st(st(st({},P),{},{x:N,y:D,width:I,height:L,value:c?C:C[1],payload:P,background:T},E&&E[k]&&E[k].props),{},{tooltipPayload:[yk(r,P)],tooltipPosition:{x:N+I/2,y:D+L/2}})});return st({data:A,layout:g},f)});function lc(t){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lc(t)}function Gle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tN(n.key),n)}}function Yle(t,e,r){return e&&AS(t.prototype,e),r&&AS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ES(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ir(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ES(Object(r),!0).forEach(function(n){_h(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ES(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _h(t,e,r){return e=tN(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tN(t){var e=Xle(t,"string");return lc(e)=="symbol"?e:e+""}function Xle(t,e){if(lc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sh=function(e,r,n,i,a){var o=e.width,s=e.height,l=e.layout,c=e.children,u=Object.keys(r),d={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},f=!!Qt(c,_t);return u.reduce(function(p,g){var m=r[g],v=m.orientation,b=m.domain,w=m.padding,y=w===void 0?{}:w,O=m.mirror,_=m.reversed,S="".concat(v).concat(O?"Mirror":""),E,A,P,k,C;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var N=b[1]-b[0],D=1/0,I=m.categoricalDomain.sort(qz);if(I.forEach(function(ee,ie){ie>0&&(D=Math.min((ee||0)-(I[ie-1]||0),D))}),Number.isFinite(D)){var L=D/N,T=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(E=L*T/2),m.padding==="no-gap"){var R=It(e.barCategoryGap,L*T),B=L*T/2;E=B-R-(B-R)/T*R}}}i==="xAxis"?A=[n.left+(y.left||0)+(E||0),n.left+n.width-(y.right||0)-(E||0)]:i==="yAxis"?A=l==="horizontal"?[n.top+n.height-(y.bottom||0),n.top+(y.top||0)]:[n.top+(y.top||0)+(E||0),n.top+n.height-(y.bottom||0)-(E||0)]:A=m.range,_&&(A=[A[1],A[0]]);var M=pk(m,a,f),q=M.scale,X=M.realScaleType;q.domain(b).range(A),mk(q);var H=vk(q,Ir(Ir({},m),{},{realScaleType:X}));i==="xAxis"?(C=v==="top"&&!O||v==="bottom"&&O,P=n.left,k=d[S]-C*m.height):i==="yAxis"&&(C=v==="left"&&!O||v==="right"&&O,P=d[S]-C*m.width,k=n.top);var V=Ir(Ir(Ir({},m),H),{},{realScaleType:X,x:P,y:k,scale:q,width:i==="xAxis"?n.width:m.width,height:i==="yAxis"?n.height:m.height});return V.bandSize=_d(V,H),!m.hide&&i==="xAxis"?d[S]+=(C?-1:1)*V.height:m.hide||(d[S]+=(C?-1:1)*V.width),Ir(Ir({},p),{},_h({},g,V))},{})},rN=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},Qle=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return rN({x:r,y:n},{x:i,y:a})},nN=function(){function t(e){Gle(this,t),this.scale=e}return Yle(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();_h(nN,"EPS",1e-4);var cb=function(e){var r=Object.keys(e).reduce(function(n,i){return Ir(Ir({},n),{},_h({},i,nN.create(e[i])))},{});return Ir(Ir({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return gle(i,function(l,c){return r[c].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return Qk(i,function(a,o){return r[o].isInRange(a)})}})};function Jle(t){return(t%180+180)%180}var Zle=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Jle(i),o=a*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},ece=pn,tce=Oc,rce=ah;function nce(t){return function(e,r,n){var i=Object(e);if(!tce(e)){var a=ece(r);e=rce(e),r=function(s){return a(i[s],s,i)}}var o=t(e,r,n);return o>-1?i[a?e[o]:o]:void 0}}var ice=nce,ace=Vk;function oce(t){var e=ace(t),r=e%1;return e===e?r?e-r:e:0}var sce=oce,lce=GT,cce=pn,uce=sce,dce=Math.max;function fce(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:uce(r);return i<0&&(i=dce(n+i,0)),lce(t,cce(e),i)}var hce=fce,pce=ice,mce=hce,vce=pce(mce),gce=vce;const yce=ke(gce);var bce=q8(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),ub=x.createContext(void 0),db=x.createContext(void 0),iN=x.createContext(void 0),aN=x.createContext({}),oN=x.createContext(void 0),sN=x.createContext(0),lN=x.createContext(0),PS=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=e.clipPathId,s=e.children,l=e.width,c=e.height,u=bce(a);return j.createElement(ub.Provider,{value:n},j.createElement(db.Provider,{value:i},j.createElement(aN.Provider,{value:a},j.createElement(iN.Provider,{value:u},j.createElement(oN.Provider,{value:o},j.createElement(sN.Provider,{value:c},j.createElement(lN.Provider,{value:l},s)))))))},wce=function(){return x.useContext(oN)},cN=function(e){var r=x.useContext(ub);r==null&&ka();var n=r[e];return n==null&&ka(),n},xce=function(){var e=x.useContext(ub);return ii(e)},_ce=function(){var e=x.useContext(db),r=yce(e,function(n){return Qk(n.domain,Number.isFinite)});return r||ii(e)},uN=function(e){var r=x.useContext(db);r==null&&ka();var n=r[e];return n==null&&ka(),n},Sce=function(){var e=x.useContext(iN);return e},Oce=function(){return x.useContext(aN)},fb=function(){return x.useContext(lN)},hb=function(){return x.useContext(sN)};function os(t){"@babel/helpers - typeof";return os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},os(t)}function Ace(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ece(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fN(n.key),n)}}function Pce(t,e,r){return e&&Ece(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jce(t,e,r){return e=zd(e),Tce(t,dN()?Reflect.construct(e,r||[],zd(t).constructor):e.apply(t,r))}function Tce(t,e){if(e&&(os(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cce(t)}function Cce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dN=function(){return!!t})()}function zd(t){return zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zd(t)}function kce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fv(t,e)}function Fv(t,e){return Fv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Fv(t,e)}function jS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function TS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jS(Object(r),!0).forEach(function(n){pb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pb(t,e,r){return e=fN(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fN(t){var e=Nce(t,"string");return os(e)=="symbol"?e:e+""}function Nce(t,e){if(os(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(os(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $ce(t,e){return Dce(t)||Mce(t,e)||Ice(t,e)||Rce()}function Rce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ice(t,e){if(t){if(typeof t=="string")return CS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CS(t,e)}}function CS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Mce(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Dce(t){if(Array.isArray(t))return t}function Uv(){return Uv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Uv.apply(this,arguments)}var Lce=function(e,r){var n;return j.isValidElement(e)?n=j.cloneElement(e,r):le(e)?n=e(r):n=j.createElement("line",Uv({},r,{className:"recharts-reference-line-line"})),n},Bce=function(e,r,n,i,a,o,s,l,c){var u=a.x,d=a.y,f=a.width,p=a.height;if(n){var g=c.y,m=e.y.apply(g,{position:o});if(on(c,"discard")&&!e.y.isInRange(m))return null;var v=[{x:u+f,y:m},{x:u,y:m}];return l==="left"?v.reverse():v}if(r){var b=c.x,w=e.x.apply(b,{position:o});if(on(c,"discard")&&!e.x.isInRange(w))return null;var y=[{x:w,y:d+p},{x:w,y:d}];return s==="top"?y.reverse():y}if(i){var O=c.segment,_=O.map(function(S){return e.apply(S,{position:o})});return on(c,"discard")&&cle(_,function(S){return!e.isInRange(S)})?null:_}return null};function Fce(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,c=wce(),u=cN(i),d=uN(a),f=Sce();if(!c||!f)return null;Lr(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=cb({x:u.scale,y:d.scale}),g=pt(e),m=pt(r),v=n&&n.length===2,b=Bce(p,g,m,v,f,t.position,u.orientation,d.orientation,t);if(!b)return null;var w=$ce(b,2),y=w[0],O=y.x,_=y.y,S=w[1],E=S.x,A=S.y,P=on(t,"hidden")?"url(#".concat(c,")"):void 0,k=TS(TS({clipPath:P},te(t,!0)),{},{x1:O,y1:_,x2:E,y2:A});return j.createElement(me,{className:pe("recharts-reference-line",s)},Lce(o,k),gt.renderCallByParent(t,Qle({x1:O,y1:_,x2:E,y2:A})))}var mb=function(t){function e(){return Ace(this,e),jce(this,e,arguments)}return kce(e,t),Pce(e,[{key:"render",value:function(){return j.createElement(Fce,this.props)}}])}(j.Component);pb(mb,"displayName","ReferenceLine");pb(mb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Wv(){return Wv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wv.apply(this,arguments)}function ss(t){"@babel/helpers - typeof";return ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ss(t)}function kS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function NS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kS(Object(r),!0).forEach(function(n){Oh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Uce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pN(n.key),n)}}function zce(t,e,r){return e&&Wce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qce(t,e,r){return e=qd(e),Hce(t,hN()?Reflect.construct(e,r||[],qd(t).constructor):e.apply(t,r))}function Hce(t,e){if(e&&(ss(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kce(t)}function Kce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hN=function(){return!!t})()}function qd(t){return qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qd(t)}function Vce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zv(t,e)}function zv(t,e){return zv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zv(t,e)}function Oh(t,e,r){return e=pN(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pN(t){var e=Gce(t,"string");return ss(e)=="symbol"?e:e+""}function Gce(t,e){if(ss(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ss(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yce=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,o=cb({x:i.scale,y:a.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return on(e,"discard")&&!o.isInRange(s)?null:s},Ah=function(t){function e(){return Uce(this,e),qce(this,e,arguments)}return Vce(e,t),zce(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,s=n.alwaysShow,l=n.clipPathId,c=pt(i),u=pt(a);if(Lr(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var d=Yce(this.props);if(!d)return null;var f=d.x,p=d.y,g=this.props,m=g.shape,v=g.className,b=on(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=NS(NS({clipPath:b},te(this.props,!0)),{},{cx:f,cy:p});return j.createElement(me,{className:pe("recharts-reference-dot",v)},e.renderDot(m,w),gt.renderCallByParent(this.props,{x:f-o,y:p-o,width:2*o,height:2*o}))}}])}(j.Component);Oh(Ah,"displayName","ReferenceDot");Oh(Ah,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Oh(Ah,"renderDot",function(t,e){var r;return j.isValidElement(t)?r=j.cloneElement(t,e):le(t)?r=t(e):r=j.createElement(Fs,Wv({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function qv(){return qv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qv.apply(this,arguments)}function ls(t){"@babel/helpers - typeof";return ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ls(t)}function $S(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function RS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$S(Object(r),!0).forEach(function(n){Eh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$S(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vN(n.key),n)}}function Jce(t,e,r){return e&&Qce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zce(t,e,r){return e=Hd(e),eue(t,mN()?Reflect.construct(e,r||[],Hd(t).constructor):e.apply(t,r))}function eue(t,e){if(e&&(ls(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tue(t)}function tue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mN=function(){return!!t})()}function Hd(t){return Hd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hd(t)}function rue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hv(t,e)}function Hv(t,e){return Hv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Hv(t,e)}function Eh(t,e,r){return e=vN(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vN(t){var e=nue(t,"string");return ls(e)=="symbol"?e:e+""}function nue(t,e){if(ls(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ls(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iue=function(e,r,n,i,a){var o=a.x1,s=a.x2,l=a.y1,c=a.y2,u=a.xAxis,d=a.yAxis;if(!u||!d)return null;var f=cb({x:u.scale,y:d.scale}),p={x:e?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:n?f.y.apply(l,{position:"start"}):f.y.rangeMin},g={x:r?f.x.apply(s,{position:"end"}):f.x.rangeMax,y:i?f.y.apply(c,{position:"end"}):f.y.rangeMax};return on(a,"discard")&&(!f.isInRange(p)||!f.isInRange(g))?null:rN(p,g)},Ph=function(t){function e(){return Xce(this,e),Zce(this,e,arguments)}return rue(e,t),Jce(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,s=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;Lr(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=pt(i),f=pt(a),p=pt(o),g=pt(s),m=this.props.shape;if(!d&&!f&&!p&&!g&&!m)return null;var v=iue(d,f,p,g,this.props);if(!v&&!m)return null;var b=on(this.props,"hidden")?"url(#".concat(u,")"):void 0;return j.createElement(me,{className:pe("recharts-reference-area",l)},e.renderRect(m,RS(RS({clipPath:b},te(this.props,!0)),v)),gt.renderCallByParent(this.props,v))}}])}(j.Component);Eh(Ph,"displayName","ReferenceArea");Eh(Ph,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Eh(Ph,"renderRect",function(t,e){var r;return j.isValidElement(t)?r=j.cloneElement(t,e):le(t)?r=t(e):r=j.createElement(lb,qv({},e,{className:"recharts-reference-area-rect"})),r});function gN(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function aue(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Zle(n,r)}function oue(t,e,r){var n=r==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function Kd(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function sue(t,e){return gN(t,e+1)}function lue(t,e,r,n,i){for(var a=(n||[]).slice(),o=e.start,s=e.end,l=0,c=1,u=o,d=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:gN(n,c)};var m=l,v,b=function(){return v===void 0&&(v=r(g,m)),v},w=g.coordinate,y=l===0||Kd(t,w,b,u,s);y||(l=0,u=o,c+=1),y&&(u=w+t*(b()/2+i),l+=c)},f;c<=a.length;)if(f=d(),f)return f.v;return[]}function cc(t){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cc(t)}function IS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function At(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IS(Object(r),!0).forEach(function(n){cue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cue(t,e,r){return e=uue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uue(t){var e=due(t,"string");return cc(e)=="symbol"?e:e+""}function due(t,e){if(cc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fue(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,s=e.start,l=e.end,c=function(f){var p=a[f],g,m=function(){return g===void 0&&(g=r(p,f)),g};if(f===o-1){var v=t*(p.coordinate+t*m()/2-l);a[f]=p=At(At({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate})}else a[f]=p=At(At({},p),{},{tickCoord:p.coordinate});var b=Kd(t,p.tickCoord,m,s,l);b&&(l=p.tickCoord-t*(m()/2+i),a[f]=At(At({},p),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return a}function hue(t,e,r,n,i,a){var o=(n||[]).slice(),s=o.length,l=e.start,c=e.end;if(a){var u=n[s-1],d=r(u,s-1),f=t*(u.coordinate+t*d/2-c);o[s-1]=u=At(At({},u),{},{tickCoord:f>0?u.coordinate-f*t:u.coordinate});var p=Kd(t,u.tickCoord,function(){return d},l,c);p&&(c=u.tickCoord-t*(d/2+i),o[s-1]=At(At({},u),{},{isShow:!0}))}for(var g=a?s-1:s,m=function(w){var y=o[w],O,_=function(){return O===void 0&&(O=r(y,w)),O};if(w===0){var S=t*(y.coordinate-t*_()/2-l);o[w]=y=At(At({},y),{},{tickCoord:S<0?y.coordinate-S*t:y.coordinate})}else o[w]=y=At(At({},y),{},{tickCoord:y.coordinate});var E=Kd(t,y.tickCoord,_,l,c);E&&(l=y.tickCoord+t*(_()/2+i),o[w]=At(At({},y),{},{isShow:!0}))},v=0;v<g;v++)m(v);return o}function vb(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,d=t.angle;if(!i||!i.length||!n)return[];if(Y(l)||nr.isSsr)return sue(i,typeof l=="number"&&Y(l)?l:0);var f=[],p=s==="top"||s==="bottom"?"width":"height",g=u&&p==="width"?ll(u,{fontSize:e,letterSpacing:r}):{width:0,height:0},m=function(y,O){var _=le(c)?c(y.value,O):y.value;return p==="width"?aue(ll(_,{fontSize:e,letterSpacing:r}),g,d):ll(_,{fontSize:e,letterSpacing:r})[p]},v=i.length>=2?Rt(i[1].coordinate-i[0].coordinate):1,b=oue(a,v,p);return l==="equidistantPreserveStart"?lue(v,b,m,i,o):(l==="preserveStart"||l==="preserveStartEnd"?f=hue(v,b,m,i,o,l==="preserveStartEnd"):f=fue(v,b,m,i,o),f.filter(function(w){return w.isShow}))}var pue=["viewBox"],mue=["viewBox"],vue=["ticks"];function cs(t){"@babel/helpers - typeof";return cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cs(t)}function co(){return co=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},co.apply(this,arguments)}function MS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MS(Object(r),!0).forEach(function(n){gb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tp(t,e){if(t==null)return{};var r=gue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function yue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bN(n.key),n)}}function bue(t,e,r){return e&&DS(t.prototype,e),r&&DS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function wue(t,e,r){return e=Vd(e),xue(t,yN()?Reflect.construct(e,r||[],Vd(t).constructor):e.apply(t,r))}function xue(t,e){if(e&&(cs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ue(t)}function _ue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yN=function(){return!!t})()}function Vd(t){return Vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vd(t)}function Sue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kv(t,e)}function Kv(t,e){return Kv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Kv(t,e)}function gb(t,e,r){return e=bN(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bN(t){var e=Oue(t,"string");return cs(e)=="symbol"?e:e+""}function Oue(t,e){if(cs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(cs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Us=function(t){function e(r){var n;return yue(this,e),n=wue(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return Sue(e,t),bue(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=Tp(n,pue),s=this.props,l=s.viewBox,c=Tp(s,mue);return!bo(a,l)||!bo(o,c)||!bo(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,c=i.orientation,u=i.tickSize,d=i.mirror,f=i.tickMargin,p,g,m,v,b,w,y=d?-1:1,O=n.tickSize||u,_=Y(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=g=n.coordinate,v=o+ +!d*l,m=v-y*O,w=m-y*f,b=_;break;case"left":m=v=n.coordinate,g=a+ +!d*s,p=g-y*O,b=p-y*f,w=_;break;case"right":m=v=n.coordinate,g=a+ +d*s,p=g+y*O,b=p+y*f,w=_;break;default:p=g=n.coordinate,v=o+ +d*l,m=v+y*O,w=m+y*f,b=_;break}return{line:{x1:p,y1:m,x2:g,y2:v},tick:{x:b,y:w}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,d=dt(dt(dt({},te(this.props,!1)),te(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var f=+(l==="top"&&!c||l==="bottom"&&c);d=dt(dt({},d),{},{x1:i,y1:a+f*s,x2:i+o,y2:a+f*s})}else{var p=+(l==="left"&&!c||l==="right"&&c);d=dt(dt({},d),{},{x1:i+p*o,y1:a,x2:i+p*o,y2:a+s})}return j.createElement("line",co({},d,{className:pe("recharts-cartesian-axis-line",rr(u,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,s=this.props,l=s.tickLine,c=s.stroke,u=s.tick,d=s.tickFormatter,f=s.unit,p=vb(dt(dt({},this.props),{},{ticks:n}),i,a),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=te(this.props,!1),b=te(u,!1),w=dt(dt({},v),{},{fill:"none"},te(l,!1)),y=p.map(function(O,_){var S=o.getTickLineCoord(O),E=S.line,A=S.tick,P=dt(dt(dt(dt({textAnchor:g,verticalAnchor:m},v),{},{stroke:"none",fill:c},b),A),{},{index:_,payload:O,visibleTicksCount:p.length,tickFormatter:d});return j.createElement(me,co({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},Pi(o.props,O,_)),l&&j.createElement("line",co({},w,E,{className:pe("recharts-cartesian-axis-tick-line",rr(l,"className"))})),u&&e.renderTickItem(u,P,"".concat(le(d)?d(O.value,_):O.value).concat(f||"")))});return j.createElement("g",{className:"recharts-cartesian-axis-ticks"},y)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var d=this.props,f=d.ticks,p=Tp(d,vue),g=f;return le(l)&&(g=f&&f.length>0?l(this.props):l(p)),o<=0||s<=0||!g||!g.length?null:j.createElement(me,{className:pe("recharts-cartesian-axis",c),ref:function(v){n.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),gt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o,s=pe(i.className,"recharts-cartesian-axis-tick-value");return j.isValidElement(n)?o=j.cloneElement(n,dt(dt({},i),{},{className:s})):le(n)?o=n(dt(dt({},i),{},{className:s})):o=j.createElement(Ta,co({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(x.Component);gb(Us,"displayName","CartesianAxis");gb(Us,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Aue=["x1","y1","x2","y2","key"],Eue=["offset"];function Ra(t){"@babel/helpers - typeof";return Ra=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ra(t)}function LS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LS(Object(r),!0).forEach(function(n){Pue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pue(t,e,r){return e=jue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jue(t){var e=Tue(t,"string");return Ra(e)=="symbol"?e:e+""}function Tue(t,e){if(Ra(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ra(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function la(){return la=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},la.apply(this,arguments)}function BS(t,e){if(t==null)return{};var r=Cue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Cue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var kue=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return j.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function wN(t,e){var r;if(j.isValidElement(t))r=j.cloneElement(t,e);else if(le(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=BS(e,Aue),c=te(l,!1);c.offset;var u=BS(c,Eue);r=j.createElement("line",la({},u,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:s}))}return r}function Nue(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=jt(jt({},t),{},{x1:e,y1:s,x2:e+r,y2:s,key:"line-".concat(l),index:l});return wN(i,c)});return j.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function $ue(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=jt(jt({},t),{},{x1:s,y1:e,x2:s,y2:e+r,key:"line-".concat(l),index:l});return wN(i,c)});return j.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Rue(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=s.map(function(f){return Math.round(f+i-i)}).sort(function(f,p){return f-p});i!==u[0]&&u.unshift(0);var d=u.map(function(f,p){var g=!u[p+1],m=g?i+o-f:u[p+1]-f;if(m<=0)return null;var v=p%e.length;return j.createElement("rect",{key:"react-".concat(p),y:f,x:n,height:m,width:a,stroke:"none",fill:e[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Iue(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,c=t.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(f){return Math.round(f+a-a)}).sort(function(f,p){return f-p});a!==u[0]&&u.unshift(0);var d=u.map(function(f,p){var g=!u[p+1],m=g?a+s-f:u[p+1]-f;if(m<=0)return null;var v=p%n.length;return j.createElement("rect",{key:"react-".concat(p),x:f,y:o,width:m,height:l,stroke:"none",fill:n[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Mue=function(e,r){var n=e.xAxis,i=e.width,a=e.height,o=e.offset;return hk(vb(jt(jt(jt({},Us.defaultProps),n),{},{ticks:An(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},Due=function(e,r){var n=e.yAxis,i=e.width,a=e.height,o=e.offset;return hk(vb(jt(jt(jt({},Us.defaultProps),n),{},{ticks:An(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},Za={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function gn(t){var e,r,n,i,a,o,s=fb(),l=hb(),c=Oce(),u=jt(jt({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Za.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Za.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Za.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Za.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Za.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Za.verticalFill,x:Y(t.x)?t.x:c.left,y:Y(t.y)?t.y:c.top,width:Y(t.width)?t.width:c.width,height:Y(t.height)?t.height:c.height}),d=u.x,f=u.y,p=u.width,g=u.height,m=u.syncWithTicks,v=u.horizontalValues,b=u.verticalValues,w=xce(),y=_ce();if(!Y(p)||p<=0||!Y(g)||g<=0||!Y(d)||d!==+d||!Y(f)||f!==+f)return null;var O=u.verticalCoordinatesGenerator||Mue,_=u.horizontalCoordinatesGenerator||Due,S=u.horizontalPoints,E=u.verticalPoints;if((!S||!S.length)&&le(_)){var A=v&&v.length,P=_({yAxis:y?jt(jt({},y),{},{ticks:A?v:y.ticks}):void 0,width:s,height:l,offset:c},A?!0:m);Lr(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ra(P),"]")),Array.isArray(P)&&(S=P)}if((!E||!E.length)&&le(O)){var k=b&&b.length,C=O({xAxis:w?jt(jt({},w),{},{ticks:k?b:w.ticks}):void 0,width:s,height:l,offset:c},k?!0:m);Lr(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ra(C),"]")),Array.isArray(C)&&(E=C)}return j.createElement("g",{className:"recharts-cartesian-grid"},j.createElement(kue,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),j.createElement(Nue,la({},u,{offset:c,horizontalPoints:S,xAxis:w,yAxis:y})),j.createElement($ue,la({},u,{offset:c,verticalPoints:E,xAxis:w,yAxis:y})),j.createElement(Rue,la({},u,{horizontalPoints:S})),j.createElement(Iue,la({},u,{verticalPoints:E})))}gn.displayName="CartesianGrid";var Lue=["type","layout","connectNulls","ref"],Bue=["key"];function us(t){"@babel/helpers - typeof";return us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},us(t)}function FS(t,e){if(t==null)return{};var r=Fue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Fue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function pl(){return pl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pl.apply(this,arguments)}function US(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?US(Object(r),!0).forEach(function(n){Mr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):US(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eo(t){return que(t)||zue(t)||Wue(t)||Uue()}function Uue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wue(t,e){if(t){if(typeof t=="string")return Vv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vv(t,e)}}function zue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function que(t){if(Array.isArray(t))return Vv(t)}function Vv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Hue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_N(n.key),n)}}function Kue(t,e,r){return e&&WS(t.prototype,e),r&&WS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vue(t,e,r){return e=Gd(e),Gue(t,xN()?Reflect.construct(e,r||[],Gd(t).constructor):e.apply(t,r))}function Gue(t,e){if(e&&(us(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yue(t)}function Yue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xN=function(){return!!t})()}function Gd(t){return Gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gd(t)}function Xue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gv(t,e)}function Gv(t,e){return Gv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Gv(t,e)}function Mr(t,e,r){return e=_N(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _N(t){var e=Que(t,"string");return us(e)=="symbol"?e:e+""}function Que(t,e){if(us(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(us(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Si=function(t){function e(){var r;Hue(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Vue(this,e,[].concat(i)),Mr(r,"state",{isAnimationFinished:!0,totalLength:0}),Mr(r,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),Mr(r,"getStrokeDasharray",function(o,s,l){var c=l.reduce(function(b,w){return b+w});if(!c)return r.generateSimpleStrokeDasharray(s,o);for(var u=Math.floor(o/c),d=o%c,f=s-o,p=[],g=0,m=0;g<l.length;m+=l[g],++g)if(m+l[g]>d){p=[].concat(eo(l.slice(0,g)),[d-m]);break}var v=p.length%2===0?[0,f]:[f];return[].concat(eo(e.repeat(l,u)),eo(p),v).map(function(b){return"".concat(b,"px")}).join(", ")}),Mr(r,"id",Ri("recharts-line-")),Mr(r,"pathRef",function(o){r.mainCurve=o}),Mr(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Mr(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Xue(e,t),Kue(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,s=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,d=Dt(u,Bs);if(!d)return null;var f=function(m,v){return{x:m.x,y:m.y,value:m.value,errorVal:Le(m.payload,v)}},p={clipPath:n?"url(#clipPath-".concat(i,")"):null};return j.createElement(me,p,d.map(function(g){return j.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,dataPointFormatter:f})}))}},{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,u=s.dataKey,d=te(this.props,!1),f=te(l,!0),p=c.map(function(m,v){var b=Gt(Gt(Gt({key:"dot-".concat(v),r:3},d),f),{},{index:v,cx:m.x,cy:m.y,value:m.value,dataKey:u,payload:m.payload,points:c});return e.renderDotItem(l,b)}),g={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return j.createElement(me,pl({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(n,i,a,o){var s=this.props,l=s.type,c=s.layout,u=s.connectNulls;s.ref;var d=FS(s,Lue),f=Gt(Gt(Gt({},te(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},o),{},{type:l,layout:c,connectNulls:u});return j.createElement(_i,pl({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,o=this.props,s=o.points,l=o.strokeDasharray,c=o.isAnimationActive,u=o.animationBegin,d=o.animationDuration,f=o.animationEasing,p=o.animationId,g=o.animateNewValues,m=o.width,v=o.height,b=this.state,w=b.prevPoints,y=b.totalLength;return j.createElement(ir,{begin:u,duration:d,isActive:c,easing:f,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var _=O.t;if(w){var S=w.length/s.length,E=s.map(function(N,D){var I=Math.floor(D*S);if(w[I]){var L=w[I],T=De(L.x,N.x),R=De(L.y,N.y);return Gt(Gt({},N),{},{x:T(_),y:R(_)})}if(g){var B=De(m*2,N.x),M=De(v/2,N.y);return Gt(Gt({},N),{},{x:B(_),y:M(_)})}return Gt(Gt({},N),{},{x:N.x,y:N.y})});return a.renderCurveStatically(E,n,i)}var A=De(0,y),P=A(_),k;if(l){var C="".concat(l).split(/[,\s]+/gim).map(function(N){return parseFloat(N)});k=a.getStrokeDasharray(P,y,C)}else k=a.generateSimpleStrokeDasharray(y,P);return a.renderCurveStatically(s,n,i,{strokeDasharray:k})})}},{key:"renderCurve",value:function(n,i){var a=this.props,o=a.points,s=a.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return s&&o&&o.length&&(!c&&u>0||!Dn(c,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,c=i.xAxis,u=i.yAxis,d=i.top,f=i.left,p=i.width,g=i.height,m=i.isAnimationActive,v=i.id;if(a||!s||!s.length)return null;var b=this.state.isAnimationFinished,w=s.length===1,y=pe("recharts-line",l),O=c&&c.allowDataOverflow,_=u&&u.allowDataOverflow,S=O||_,E=ce(v)?this.id:v,A=(n=te(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=A.r,k=P===void 0?3:P,C=A.strokeWidth,N=C===void 0?2:C,D=aT(o)?o:{},I=D.clipDot,L=I===void 0?!0:I,T=k*2+N;return j.createElement(me,{className:y},O||_?j.createElement("defs",null,j.createElement("clipPath",{id:"clipPath-".concat(E)},j.createElement("rect",{x:O?f:f-p/2,y:_?d:d-g/2,width:O?p:p*2,height:_?g:g*2})),!L&&j.createElement("clipPath",{id:"clipPath-dots-".concat(E)},j.createElement("rect",{x:f-T/2,y:d-T/2,width:p+T,height:g+T}))):null,!w&&this.renderCurve(S,E),this.renderErrorBar(S,E),(w||o)&&this.renderDots(S,L,E),(!m||b)&&vr.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(eo(n),[0]):n,o=[],s=0;s<i;++s)o=[].concat(eo(o),eo(a));return o}},{key:"renderDotItem",value:function(n,i){var a;if(j.isValidElement(n))a=j.cloneElement(n,i);else if(le(n))a=n(i);else{var o=i.key,s=FS(i,Bue),l=pe("recharts-line-dot",typeof n!="boolean"?n.className:"");a=j.createElement(Fs,pl({key:o},s,{className:l}))}return a}}])}(x.PureComponent);Mr(Si,"displayName","Line");Mr(Si,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!nr.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Mr(Si,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,s=t.bandSize,l=t.displayedData,c=t.offset,u=e.layout,d=l.map(function(f,p){var g=Le(f,o);return u==="horizontal"?{x:Qo({axis:r,ticks:i,bandSize:s,entry:f,index:p}),y:ce(g)?null:n.scale(g),value:g,payload:f}:{x:ce(g)?null:r.scale(g),y:Qo({axis:n,ticks:a,bandSize:s,entry:f,index:p}),value:g,payload:f}});return Gt({points:d,layout:u},c)});var Jue=["layout","type","stroke","connectNulls","isRange","ref"],Zue=["key"],SN;function ds(t){"@babel/helpers - typeof";return ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ds(t)}function ON(t,e){if(t==null)return{};var r=ede(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ede(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ca(){return ca=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ca.apply(this,arguments)}function zS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zS(Object(r),!0).forEach(function(n){rn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,EN(n.key),n)}}function rde(t,e,r){return e&&qS(t.prototype,e),r&&qS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function nde(t,e,r){return e=Yd(e),ide(t,AN()?Reflect.construct(e,r||[],Yd(t).constructor):e.apply(t,r))}function ide(t,e){if(e&&(ds(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ade(t)}function ade(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AN=function(){return!!t})()}function Yd(t){return Yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yd(t)}function ode(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yv(t,e)}function Yv(t,e){return Yv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Yv(t,e)}function rn(t,e,r){return e=EN(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EN(t){var e=sde(t,"string");return ds(e)=="symbol"?e:e+""}function sde(t,e){if(ds(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ds(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ur=function(t){function e(){var r;tde(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=nde(this,e,[].concat(i)),rn(r,"state",{isAnimationFinished:!0}),rn(r,"id",Ri("recharts-area-")),rn(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),le(o)&&o()}),rn(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),le(o)&&o()}),r}return ode(e,t),rde(e,[{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(o&&!s)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=te(this.props,!1),p=te(c,!0),g=u.map(function(v,b){var w=Qn(Qn(Qn({key:"dot-".concat(b),r:3},f),p),{},{index:b,cx:v.x,cy:v.y,dataKey:d,value:v.value,payload:v.payload,points:u});return e.renderDotItem(c,w)}),m={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return j.createElement(me,ca({className:"recharts-area-dots"},m),g)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].x,c=o[o.length-1].x,u=n*Math.abs(l-c),d=mi(o.map(function(f){return f.y||0}));return Y(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(mi(a.map(function(f){return f.y||0})),d)),Y(d)?j.createElement("rect",{x:l<c?l:l-u,y:0,width:u,height:Math.floor(d+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].y,c=o[o.length-1].y,u=n*Math.abs(l-c),d=mi(o.map(function(f){return f.x||0}));return Y(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(mi(a.map(function(f){return f.x||0})),d)),Y(d)?j.createElement("rect",{x:0,y:l<c?l:l-u,width:d+(s?parseInt("".concat(s),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,a,o){var s=this.props,l=s.layout,c=s.type,u=s.stroke,d=s.connectNulls,f=s.isRange;s.ref;var p=ON(s,Jue);return j.createElement(me,{clipPath:a?"url(#clipPath-".concat(o,")"):null},j.createElement(_i,ca({},te(p,!0),{points:n,connectNulls:d,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&j.createElement(_i,ca({},te(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:n})),u!=="none"&&f&&j.createElement(_i,ca({},te(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var a=this,o=this.props,s=o.points,l=o.baseLine,c=o.isAnimationActive,u=o.animationBegin,d=o.animationDuration,f=o.animationEasing,p=o.animationId,g=this.state,m=g.prevPoints,v=g.prevBaseLine;return j.createElement(ir,{begin:u,duration:d,isActive:c,easing:f,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var w=b.t;if(m){var y=m.length/s.length,O=s.map(function(A,P){var k=Math.floor(P*y);if(m[k]){var C=m[k],N=De(C.x,A.x),D=De(C.y,A.y);return Qn(Qn({},A),{},{x:N(w),y:D(w)})}return A}),_;if(Y(l)&&typeof l=="number"){var S=De(v,l);_=S(w)}else if(ce(l)||ks(l)){var E=De(v,0);_=E(w)}else _=l.map(function(A,P){var k=Math.floor(P*y);if(v[k]){var C=v[k],N=De(C.x,A.x),D=De(C.y,A.y);return Qn(Qn({},A),{},{x:N(w),y:D(w)})}return A});return a.renderAreaStatically(O,_,n,i)}return j.createElement(me,null,j.createElement("defs",null,j.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(w))),j.createElement(me,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(s,l,n,i)))})}},{key:"renderArea",value:function(n,i){var a=this.props,o=a.points,s=a.baseLine,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.prevBaseLine,f=c.totalLength;return l&&o&&o.length&&(!u&&f>0||!Dn(u,o)||!Dn(d,s))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(o,s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,c=i.top,u=i.left,d=i.xAxis,f=i.yAxis,p=i.width,g=i.height,m=i.isAnimationActive,v=i.id;if(a||!s||!s.length)return null;var b=this.state.isAnimationFinished,w=s.length===1,y=pe("recharts-area",l),O=d&&d.allowDataOverflow,_=f&&f.allowDataOverflow,S=O||_,E=ce(v)?this.id:v,A=(n=te(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=A.r,k=P===void 0?3:P,C=A.strokeWidth,N=C===void 0?2:C,D=aT(o)?o:{},I=D.clipDot,L=I===void 0?!0:I,T=k*2+N;return j.createElement(me,{className:y},O||_?j.createElement("defs",null,j.createElement("clipPath",{id:"clipPath-".concat(E)},j.createElement("rect",{x:O?u:u-p/2,y:_?c:c-g/2,width:O?p:p*2,height:_?g:g*2})),!L&&j.createElement("clipPath",{id:"clipPath-dots-".concat(E)},j.createElement("rect",{x:u-T/2,y:c-T/2,width:p+T,height:g+T}))):null,w?null:this.renderArea(S,E),(o||w)&&this.renderDots(S,L,E),(!m||b)&&vr.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(x.PureComponent);SN=Ur;rn(Ur,"displayName","Area");rn(Ur,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!nr.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});rn(Ur,"getBaseValue",function(t,e,r,n){var i=t.layout,a=t.baseValue,o=e.props.baseValue,s=o??a;if(Y(s)&&typeof s=="number")return s;var l=i==="horizontal"?n:r,c=l.scale.domain();if(l.type==="number"){var u=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return s==="dataMin"?d:s==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return s==="dataMin"?c[0]:s==="dataMax"?c[1]:c[0]});rn(Ur,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,i=t.yAxis,a=t.xAxisTicks,o=t.yAxisTicks,s=t.bandSize,l=t.dataKey,c=t.stackedData,u=t.dataStartIndex,d=t.displayedData,f=t.offset,p=e.layout,g=c&&c.length,m=SN.getBaseValue(e,r,n,i),v=p==="horizontal",b=!1,w=d.map(function(O,_){var S;g?S=c[u+_]:(S=Le(O,l),Array.isArray(S)?b=!0:S=[m,S]);var E=S[1]==null||g&&Le(O,l)==null;return v?{x:Qo({axis:n,ticks:a,bandSize:s,entry:O,index:_}),y:E?null:i.scale(S[1]),value:S,payload:O}:{x:E?null:n.scale(S[1]),y:Qo({axis:i,ticks:o,bandSize:s,entry:O,index:_}),value:S,payload:O}}),y;return g||b?y=w.map(function(O){var _=Array.isArray(O.value)?O.value[0]:null;return v?{x:O.x,y:_!=null&&O.y!=null?i.scale(_):null}:{x:_!=null?n.scale(_):null,y:O.y}}):y=v?i.scale(m):n.scale(m),Qn({points:w,baseLine:y,layout:p,isRange:b},f)});rn(Ur,"renderDotItem",function(t,e){var r;if(j.isValidElement(t))r=j.cloneElement(t,e);else if(le(t))r=t(e);else{var n=pe("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=ON(e,Zue);r=j.createElement(Fs,ca({},a,{key:i,className:n}))}return r});function fs(t){"@babel/helpers - typeof";return fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fs(t)}function lde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cde(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,TN(n.key),n)}}function ude(t,e,r){return e&&cde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dde(t,e,r){return e=Xd(e),fde(t,PN()?Reflect.construct(e,r||[],Xd(t).constructor):e.apply(t,r))}function fde(t,e){if(e&&(fs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hde(t)}function hde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PN=function(){return!!t})()}function Xd(t){return Xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xd(t)}function pde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xv(t,e)}function Xv(t,e){return Xv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Xv(t,e)}function jN(t,e,r){return e=TN(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TN(t){var e=mde(t,"string");return fs(e)=="symbol"?e:e+""}function mde(t,e){if(fs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(fs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jh=function(t){function e(){return lde(this,e),dde(this,e,arguments)}return pde(e,t),ude(e,[{key:"render",value:function(){return null}}])}(x.Component);jN(jh,"displayName","ZAxis");jN(jh,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var vde=["option","isActive"];function ml(){return ml=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ml.apply(this,arguments)}function gde(t,e){if(t==null)return{};var r=yde(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function bde(t){var e=t.option,r=t.isActive,n=gde(t,vde);return typeof e=="string"?x.createElement(Rd,ml({option:x.createElement(ih,ml({type:e},n)),isActive:r,shapeType:"symbols"},n)):x.createElement(Rd,ml({option:e,isActive:r,shapeType:"symbols"},n))}function hs(t){"@babel/helpers - typeof";return hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hs(t)}function vl(){return vl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vl.apply(this,arguments)}function HS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HS(Object(r),!0).forEach(function(n){gi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kN(n.key),n)}}function xde(t,e,r){return e&&KS(t.prototype,e),r&&KS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _de(t,e,r){return e=Qd(e),Sde(t,CN()?Reflect.construct(e,r||[],Qd(t).constructor):e.apply(t,r))}function Sde(t,e){if(e&&(hs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ode(t)}function Ode(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CN=function(){return!!t})()}function Qd(t){return Qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qd(t)}function Ade(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qv(t,e)}function Qv(t,e){return Qv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Qv(t,e)}function gi(t,e,r){return e=kN(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kN(t){var e=Ede(t,"string");return hs(e)=="symbol"?e:e+""}function Ede(t,e){if(hs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(hs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Th=function(t){function e(){var r;wde(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=_de(this,e,[].concat(i)),gi(r,"state",{isAnimationFinished:!1}),gi(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),gi(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),gi(r,"id",Ri("recharts-scatter-")),r}return Ade(e,t),xde(e,[{key:"renderSymbolsStatically",value:function(n){var i=this,a=this.props,o=a.shape,s=a.activeShape,l=a.activeIndex,c=te(this.props,!1);return n.map(function(u,d){var f=l===d,p=f?s:o,g=cr(cr({},c),u);return j.createElement(me,vl({className:"recharts-scatter-symbol",key:"symbol-".concat(u==null?void 0:u.cx,"-").concat(u==null?void 0:u.cy,"-").concat(u==null?void 0:u.size,"-").concat(d)},Pi(i.props,u,d),{role:"img"}),j.createElement(bde,vl({option:p,isActive:f,key:"symbol-".concat(d)},g)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,i=this.props,a=i.points,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,d=this.state.prevPoints;return j.createElement(ir,{begin:s,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var p=f.t,g=a.map(function(m,v){var b=d&&d[v];if(b){var w=De(b.cx,m.cx),y=De(b.cy,m.cy),O=De(b.size,m.size);return cr(cr({},m),{},{cx:w(p),cy:y(p),size:O(p)})}var _=De(0,m.size);return cr(cr({},m),{},{size:_(p)})});return j.createElement(me,null,n.renderSymbolsStatically(g))})}},{key:"renderSymbols",value:function(){var n=this.props,i=n.points,a=n.isAnimationActive,o=this.state.prevPoints;return a&&i&&i.length&&(!o||!Dn(o,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var i=this.props,a=i.points,o=i.xAxis,s=i.yAxis,l=i.children,c=Dt(l,Bs);return c?c.map(function(u,d){var f=u.props,p=f.direction,g=f.dataKey;return j.cloneElement(u,{key:"".concat(p,"-").concat(g,"-").concat(a[d]),data:a,xAxis:o,yAxis:s,layout:p==="x"?"vertical":"horizontal",dataPointFormatter:function(v,b){return{x:v.cx,y:v.cy,value:p==="x"?+v.node.x:+v.node.y,errorVal:Le(v,b)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,i=n.points,a=n.line,o=n.lineType,s=n.lineJointType,l=te(this.props,!1),c=te(a,!1),u,d;if(o==="joint")u=i.map(function(y){return{x:y.cx,y:y.cy}});else if(o==="fitting"){var f=zz(i),p=f.xmin,g=f.xmax,m=f.a,v=f.b,b=function(O){return m*O+v};u=[{x:p,y:b(p)},{x:g,y:b(g)}]}var w=cr(cr(cr({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:u});return j.isValidElement(a)?d=j.cloneElement(a,w):le(a)?d=a(w):d=j.createElement(_i,vl({},w,{type:s})),j.createElement(me,{className:"recharts-scatter-line",key:"recharts-scatter-line"},d)}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.points,o=n.line,s=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,p=n.height,g=n.id,m=n.isAnimationActive;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,b=pe("recharts-scatter",s),w=l&&l.allowDataOverflow,y=c&&c.allowDataOverflow,O=w||y,_=ce(g)?this.id:g;return j.createElement(me,{className:b,clipPath:O?"url(#clipPath-".concat(_,")"):null},w||y?j.createElement("defs",null,j.createElement("clipPath",{id:"clipPath-".concat(_)},j.createElement("rect",{x:w?u:u-f/2,y:y?d:d-p/2,width:w?f:f*2,height:y?p:p*2}))):null,o&&this.renderLine(),this.renderErrorBar(),j.createElement(me,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!m||v)&&vr.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}}])}(x.PureComponent);gi(Th,"displayName","Scatter");gi(Th,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!nr.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});gi(Th,"getComposedData",function(t){var e=t.xAxis,r=t.yAxis,n=t.zAxis,i=t.item,a=t.displayedData,o=t.xAxisTicks,s=t.yAxisTicks,l=t.offset,c=i.props.tooltipType,u=Dt(i.props.children,Is),d=ce(e.dataKey)?i.props.dataKey:e.dataKey,f=ce(r.dataKey)?i.props.dataKey:r.dataKey,p=n&&n.dataKey,g=n?n.range:jh.defaultProps.range,m=g&&g[0],v=e.scale.bandwidth?e.scale.bandwidth():0,b=r.scale.bandwidth?r.scale.bandwidth():0,w=a.map(function(y,O){var _=Le(y,d),S=Le(y,f),E=!ce(p)&&Le(y,p)||"-",A=[{name:ce(e.dataKey)?i.props.name:e.name||e.dataKey,unit:e.unit||"",value:_,payload:y,dataKey:d,type:c},{name:ce(r.dataKey)?i.props.name:r.name||r.dataKey,unit:r.unit||"",value:S,payload:y,dataKey:f,type:c}];E!=="-"&&A.push({name:n.name||n.dataKey,unit:n.unit||"",value:E,payload:y,dataKey:p,type:c});var P=Qo({axis:e,ticks:o,bandSize:v,entry:y,index:O,dataKey:d}),k=Qo({axis:r,ticks:s,bandSize:b,entry:y,index:O,dataKey:f}),C=E!=="-"?n.scale(E):m,N=Math.sqrt(Math.max(C,0)/Math.PI);return cr(cr({},y),{},{cx:P,cy:k,x:P-N,y:k-N,xAxis:e,yAxis:r,zAxis:n,width:2*N,height:2*N,size:C,node:{x:_,y:S,z:E},tooltipPayload:A,tooltipPosition:{x:P,y:k},payload:y},u&&u[O]&&u[O].props)});return cr({points:w},l)});function ps(t){"@babel/helpers - typeof";return ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ps(t)}function Pde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jde(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RN(n.key),n)}}function Tde(t,e,r){return e&&jde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cde(t,e,r){return e=Jd(e),kde(t,NN()?Reflect.construct(e,r||[],Jd(t).constructor):e.apply(t,r))}function kde(t,e){if(e&&(ps(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nde(t)}function Nde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NN=function(){return!!t})()}function Jd(t){return Jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jd(t)}function $de(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jv(t,e)}function Jv(t,e){return Jv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Jv(t,e)}function $N(t,e,r){return e=RN(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RN(t){var e=Rde(t,"string");return ps(e)=="symbol"?e:e+""}function Rde(t,e){if(ps(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ps(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zv(){return Zv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zv.apply(this,arguments)}function Ide(t){var e=t.xAxisId,r=fb(),n=hb(),i=cN(e);return i==null?null:x.createElement(Us,Zv({},i,{className:pe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return An(o,!0)}}))}var Et=function(t){function e(){return Pde(this,e),Cde(this,e,arguments)}return $de(e,t),Tde(e,[{key:"render",value:function(){return x.createElement(Ide,this.props)}}])}(x.Component);$N(Et,"displayName","XAxis");$N(Et,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ms(t){"@babel/helpers - typeof";return ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ms(t)}function Mde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dde(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,DN(n.key),n)}}function Lde(t,e,r){return e&&Dde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bde(t,e,r){return e=Zd(e),Fde(t,IN()?Reflect.construct(e,r||[],Zd(t).constructor):e.apply(t,r))}function Fde(t,e){if(e&&(ms(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ude(t)}function Ude(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IN=function(){return!!t})()}function Zd(t){return Zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zd(t)}function Wde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eg(t,e)}function eg(t,e){return eg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},eg(t,e)}function MN(t,e,r){return e=DN(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DN(t){var e=zde(t,"string");return ms(e)=="symbol"?e:e+""}function zde(t,e){if(ms(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ms(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tg(){return tg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tg.apply(this,arguments)}var qde=function(e){var r=e.yAxisId,n=fb(),i=hb(),a=uN(r);return a==null?null:x.createElement(Us,tg({},a,{className:pe("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return An(s,!0)}}))},St=function(t){function e(){return Mde(this,e),Bde(this,e,arguments)}return Wde(e,t),Lde(e,[{key:"render",value:function(){return x.createElement(qde,this.props)}}])}(x.Component);MN(St,"displayName","YAxis");MN(St,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function VS(t){return Gde(t)||Vde(t)||Kde(t)||Hde()}function Hde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kde(t,e){if(t){if(typeof t=="string")return rg(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rg(t,e)}}function Vde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gde(t){if(Array.isArray(t))return rg(t)}function rg(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ng=function(e,r,n,i,a){var o=Dt(e,mb),s=Dt(e,Ah),l=[].concat(VS(o),VS(s)),c=Dt(e,Ph),u="".concat(i,"Id"),d=i[0],f=r;if(l.length&&(f=l.reduce(function(m,v){if(v.props[u]===n&&on(v.props,"extendDomain")&&Y(v.props[d])){var b=v.props[d];return[Math.min(m[0],b),Math.max(m[1],b)]}return m},f)),c.length){var p="".concat(d,"1"),g="".concat(d,"2");f=c.reduce(function(m,v){if(v.props[u]===n&&on(v.props,"extendDomain")&&Y(v.props[p])&&Y(v.props[g])){var b=v.props[p],w=v.props[g];return[Math.min(m[0],b,w),Math.max(m[1],b,w)]}return m},f)}return a&&a.length&&(f=a.reduce(function(m,v){return Y(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},f)),f},LN={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,d,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,d||l,f),g=r?r+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=r?r+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,p=d.length,g=new Array(p);f<p;f++)g[f]=d[f].fn;return g},s.prototype.listenerCount=function(c){var u=r?r+c:c,d=this._events[u];return d?d.fn?1:d.length:0},s.prototype.emit=function(c,u,d,f,p,g){var m=r?r+c:c;if(!this._events[m])return!1;var v=this._events[m],b=arguments.length,w,y;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,d),!0;case 4:return v.fn.call(v.context,u,d,f),!0;case 5:return v.fn.call(v.context,u,d,f,p),!0;case 6:return v.fn.call(v.context,u,d,f,p,g),!0}for(y=1,w=new Array(b-1);y<b;y++)w[y-1]=arguments[y];v.fn.apply(v.context,w)}else{var O=v.length,_;for(y=0;y<O;y++)switch(v[y].once&&this.removeListener(c,v[y].fn,void 0,!0),b){case 1:v[y].fn.call(v[y].context);break;case 2:v[y].fn.call(v[y].context,u);break;case 3:v[y].fn.call(v[y].context,u,d);break;case 4:v[y].fn.call(v[y].context,u,d,f);break;default:if(!w)for(_=1,w=new Array(b-1);_<b;_++)w[_-1]=arguments[_];v[y].fn.apply(v[y].context,w)}}return!0},s.prototype.on=function(c,u,d){return a(this,c,u,d,!1)},s.prototype.once=function(c,u,d){return a(this,c,u,d,!0)},s.prototype.removeListener=function(c,u,d,f){var p=r?r+c:c;if(!this._events[p])return this;if(!u)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===u&&(!f||g.once)&&(!d||g.context===d)&&o(this,p);else{for(var m=0,v=[],b=g.length;m<b;m++)(g[m].fn!==u||f&&!g[m].once||d&&g[m].context!==d)&&v.push(g[m]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(LN);var Yde=LN.exports;const Xde=ke(Yde);var Cp=new Xde,kp="recharts.syncMouseEvents";function uc(t){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uc(t)}function Qde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jde(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BN(n.key),n)}}function Zde(t,e,r){return e&&Jde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Np(t,e,r){return e=BN(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BN(t){var e=efe(t,"string");return uc(e)=="symbol"?e:e+""}function efe(t,e){if(uc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tfe=function(){function t(){Qde(this,t),Np(this,"activeIndex",0),Np(this,"coordinateList",[]),Np(this,"layout","horizontal")}return Zde(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,s=o===void 0?null:o,l=r.layout,c=l===void 0?null:l,u=r.offset,d=u===void 0?null:u,f=r.mouseHandlerCallback,p=f===void 0?null:f;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=a+l+c,f=o+this.offset.top+s/2+u;this.mouseHandlerCallback({pageX:d,pageY:f})}}}])}();function rfe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&Y(n)&&Y(i))return!0}return!1}function nfe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function FN(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,o=Pe(e,r,n,i),s=Pe(e,r,n,a);return{points:[o,s],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function ife(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,d=e.angle,f=Pe(s,l,c,d),p=Pe(s,l,u,d);n=f.x,i=f.y,a=p.x,o=p.y}else return FN(e);return[{x:n,y:i},{x:a,y:o}]}function dc(t){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dc(t)}function GS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GS(Object(r),!0).forEach(function(n){afe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function afe(t,e,r){return e=ofe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ofe(t){var e=sfe(t,"string");return dc(e)=="symbol"?e:e+""}function sfe(t,e){if(dc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lfe(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,d=t.layout,f=t.chartName,p=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!a||!o||f!=="ScatterChart"&&i!=="axis")return null;var g,m=_i;if(f==="ScatterChart")g=o,m=Eae;else if(f==="BarChart")g=nfe(d,o,l,u),m=lb;else if(d==="radial"){var v=FN(o),b=v.cx,w=v.cy,y=v.radius,O=v.startAngle,_=v.endAngle;g={cx:b,cy:w,startAngle:O,endAngle:_,innerRadius:y,outerRadius:y},m=Ek}else g={points:ife(d,o,l)},m=_i;var S=uu(uu(uu(uu({stroke:"#ccc",pointerEvents:"none"},l),g),te(p,!1)),{},{payload:s,payloadIndex:c,className:pe("recharts-tooltip-cursor",p.className)});return x.isValidElement(p)?x.cloneElement(p,S):x.createElement(m,S)}var cfe=["item"],ufe=["children","className","width","height","style","compact","title","desc"];function vs(t){"@babel/helpers - typeof";return vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vs(t)}function uo(){return uo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uo.apply(this,arguments)}function YS(t,e){return hfe(t)||ffe(t,e)||WN(t,e)||dfe()}function dfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ffe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function hfe(t){if(Array.isArray(t))return t}function XS(t,e){if(t==null)return{};var r=pfe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pfe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function mfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vfe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zN(n.key),n)}}function gfe(t,e,r){return e&&vfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yfe(t,e,r){return e=ef(e),bfe(t,UN()?Reflect.construct(e,r||[],ef(t).constructor):e.apply(t,r))}function bfe(t,e){if(e&&(vs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wfe(t)}function wfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UN=function(){return!!t})()}function ef(t){return ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ef(t)}function xfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ig(t,e)}function ig(t,e){return ig=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ig(t,e)}function gs(t){return Ofe(t)||Sfe(t)||WN(t)||_fe()}function _fe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WN(t,e){if(t){if(typeof t=="string")return ag(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ag(t,e)}}function Sfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ofe(t){if(Array.isArray(t))return ag(t)}function ag(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function QS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function z(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QS(Object(r),!0).forEach(function(n){de(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function de(t,e,r){return e=zN(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zN(t){var e=Afe(t,"string");return vs(e)=="symbol"?e:e+""}function Afe(t,e){if(vs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(vs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Efe={xAxis:["bottom","top"],yAxis:["left","right"]},Pfe={width:"100%",height:"100%"},qN={x:0,y:0};function du(t){return t}var jfe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Tfe=function(e,r,n,i){var a=r.find(function(u){return u&&u.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return z(z(z({},i),Pe(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,c=i.angle;return z(z(z({},i),Pe(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return qN},Ch=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(gs(s),gs(c)):s},[]);return o.length>0?o:e&&e.length&&Y(i)&&Y(a)?e.slice(i,a+1):[]};function HN(t){return t==="number"?[0,"auto"]:void 0}var og=function(e,r,n,i){var a=e.graphicalItems,o=e.tooltipAxis,s=Ch(r,e);return n<0||!a||!a.length||n>=s.length?null:a.reduce(function(l,c){var u,d=(u=c.props.data)!==null&&u!==void 0?u:r;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var p=d===void 0?s:d;f=Gu(p,o.dataKey,i)}else f=d&&d[n]||s[n];return f?[].concat(gs(l),[yk(c,f)]):l},[])},JS=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},o=jfe(a,n),s=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=Zte(o,s,c,l);if(u>=0&&c){var d=c[u]&&c[u].value,f=og(e,r,u,d),p=Tfe(n,s,u,a);return{activeTooltipIndex:u,activeLabel:d,activePayload:f,activeCoordinate:p}}return null},Cfe=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.layout,d=e.children,f=e.stackOffset,p=fk(u,a);return n.reduce(function(g,m){var v,b=m.type.defaultProps!==void 0?z(z({},m.type.defaultProps),m.props):m.props,w=b.type,y=b.dataKey,O=b.allowDataOverflow,_=b.allowDuplicatedCategory,S=b.scale,E=b.ticks,A=b.includeHidden,P=b[o];if(g[P])return g;var k=Ch(e.data,{graphicalItems:i.filter(function(H){var V,ee=o in H.props?H.props[o]:(V=H.type.defaultProps)===null||V===void 0?void 0:V[o];return ee===P}),dataStartIndex:l,dataEndIndex:c}),C=k.length,N,D,I;rfe(b.domain,O,w)&&(N=vv(b.domain,null,O),p&&(w==="number"||S!=="auto")&&(I=ul(k,y,"category")));var L=HN(w);if(!N||N.length===0){var T,R=(T=b.domain)!==null&&T!==void 0?T:L;if(y){if(N=ul(k,y,w),w==="category"&&p){var B=Wz(N);_&&B?(D=N,N=Ld(0,C)):_||(N=h_(R,N,m).reduce(function(H,V){return H.indexOf(V)>=0?H:[].concat(gs(H),[V])},[]))}else if(w==="category")_?N=N.filter(function(H){return H!==""&&!ce(H)}):N=h_(R,N,m).reduce(function(H,V){return H.indexOf(V)>=0||V===""||ce(V)?H:[].concat(gs(H),[V])},[]);else if(w==="number"){var M=ire(k,i.filter(function(H){var V,ee,ie=o in H.props?H.props[o]:(V=H.type.defaultProps)===null||V===void 0?void 0:V[o],_e="hide"in H.props?H.props.hide:(ee=H.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return ie===P&&(A||!_e)}),y,a,u);M&&(N=M)}p&&(w==="number"||S!=="auto")&&(I=ul(k,y,"category"))}else p?N=Ld(0,C):s&&s[P]&&s[P].hasStack&&w==="number"?N=f==="expand"?[0,1]:gk(s[P].stackGroups,l,c):N=dk(k,i.filter(function(H){var V=o in H.props?H.props[o]:H.type.defaultProps[o],ee="hide"in H.props?H.props.hide:H.type.defaultProps.hide;return V===P&&(A||!ee)}),w,u,!0);if(w==="number")N=ng(d,N,P,a,E),R&&(N=vv(R,N,O));else if(w==="category"&&R){var q=R,X=N.every(function(H){return q.indexOf(H)>=0});X&&(N=q)}}return z(z({},g),{},de({},P,z(z({},b),{},{axisType:a,domain:N,categoricalDomain:I,duplicateDomain:D,originalDomain:(v=b.domain)!==null&&v!==void 0?v:L,isCategorical:p,layout:u})))},{})},kfe=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.layout,d=e.children,f=Ch(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=f.length,g=fk(u,a),m=-1;return n.reduce(function(v,b){var w=b.type.defaultProps!==void 0?z(z({},b.type.defaultProps),b.props):b.props,y=w[o],O=HN("number");if(!v[y]){m++;var _;return g?_=Ld(0,p):s&&s[y]&&s[y].hasStack?(_=gk(s[y].stackGroups,l,c),_=ng(d,_,y,a)):(_=vv(O,dk(f,n.filter(function(S){var E,A,P=o in S.props?S.props[o]:(E=S.type.defaultProps)===null||E===void 0?void 0:E[o],k="hide"in S.props?S.props.hide:(A=S.type.defaultProps)===null||A===void 0?void 0:A.hide;return P===y&&!k}),"number",u),i.defaultProps.allowDataOverflow),_=ng(d,_,y,a)),z(z({},v),{},de({},y,z(z({axisType:a},i.defaultProps),{},{hide:!0,orientation:rr(Efe,"".concat(a,".").concat(m%2),null),domain:_,originalDomain:O,isCategorical:g,layout:u})))}return v},{})},Nfe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.children,d="".concat(i,"Id"),f=Dt(u,a),p={};return f&&f.length?p=Cfe(e,{axes:f,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):o&&o.length&&(p=kfe(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),p},$fe=function(e){var r=ii(e),n=An(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Iy(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:_d(r,n)}},ZS=function(e){var r=e.children,n=e.defaultShowTooltip,i=Qt(r,is),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Rfe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Pn(r&&r.type);return n&&n.indexOf("Bar")>=0})},e1=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Ife=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,c=n.width,u=n.height,d=n.children,f=n.margin||{},p=Qt(d,is),g=Qt(d,jn),m=Object.keys(l).reduce(function(_,S){var E=l[S],A=E.orientation;return!E.mirror&&!E.hide?z(z({},_),{},de({},A,_[A]+E.width)):_},{left:f.left||0,right:f.right||0}),v=Object.keys(o).reduce(function(_,S){var E=o[S],A=E.orientation;return!E.mirror&&!E.hide?z(z({},_),{},de({},A,rr(_,"".concat(A))+E.height)):_},{top:f.top||0,bottom:f.bottom||0}),b=z(z({},v),m),w=b.bottom;p&&(b.bottom+=p.props.height||is.defaultProps.height),g&&r&&(b=rre(b,i,n,r));var y=c-b.left-b.right,O=u-b.top-b.bottom;return z(z({brushBottom:w},b),{},{width:Math.max(y,0),height:Math.max(O,0)})},Mfe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},Ws=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,f=function(b,w){var y=w.graphicalItems,O=w.stackGroups,_=w.offset,S=w.updateId,E=w.dataStartIndex,A=w.dataEndIndex,P=b.barSize,k=b.layout,C=b.barGap,N=b.barCategoryGap,D=b.maxBarSize,I=e1(k),L=I.numericAxisName,T=I.cateAxisName,R=Rfe(y),B=[];return y.forEach(function(M,q){var X=Ch(b.data,{graphicalItems:[M],dataStartIndex:E,dataEndIndex:A}),H=M.type.defaultProps!==void 0?z(z({},M.type.defaultProps),M.props):M.props,V=H.dataKey,ee=H.maxBarSize,ie=H["".concat(L,"Id")],_e=H["".concat(T,"Id")],Q={},F=l.reduce(function(Vt,Hr){var _r=w["".concat(Hr.axisType,"Map")],Tc=H["".concat(Hr.axisType,"Id")];_r&&_r[Tc]||Hr.axisType==="zAxis"||ka();var Cc=_r[Tc];return z(z({},Vt),{},de(de({},Hr.axisType,Cc),"".concat(Hr.axisType,"Ticks"),An(Cc)))},Q),U=F[T],K=F["".concat(T,"Ticks")],G=O&&O[ie]&&O[ie].hasStack&&hre(M,O[ie].stackGroups),W=Pn(M.type).indexOf("Bar")>=0,ve=_d(U,K),he=[],je=R&&ere({barSize:P,stackGroups:O,totalSize:Mfe(F,T)});if(W){var Ae,Ee,at=ce(ee)?D:ee,nt=(Ae=(Ee=_d(U,K,!0))!==null&&Ee!==void 0?Ee:at)!==null&&Ae!==void 0?Ae:0;he=tre({barGap:C,barCategoryGap:N,bandSize:nt!==ve?nt:ve,sizeList:je[_e],maxBarSize:at}),nt!==ve&&(he=he.map(function(Vt){return z(z({},Vt),{},{position:z(z({},Vt.position),{},{offset:Vt.position.offset-nt/2})})}))}var qr=M&&M.type&&M.type.getComposedData;qr&&B.push({props:z(z({},qr(z(z({},F),{},{displayedData:X,props:b,dataKey:V,item:M,bandSize:ve,barPosition:he,offset:_,stackedData:G,layout:k,dataStartIndex:E,dataEndIndex:A}))),{},de(de(de({key:M.key||"item-".concat(q)},L,F[L]),T,F[T]),"animationId",S)),childIndex:tq(M,b.children),item:M})}),B},p=function(b,w){var y=b.props,O=b.dataStartIndex,_=b.dataEndIndex,S=b.updateId;if(!sw({props:y}))return null;var E=y.children,A=y.layout,P=y.stackOffset,k=y.data,C=y.reverseStackOrder,N=e1(A),D=N.numericAxisName,I=N.cateAxisName,L=Dt(E,n),T=dre(k,L,"".concat(D,"Id"),"".concat(I,"Id"),P,C),R=l.reduce(function(H,V){var ee="".concat(V.axisType,"Map");return z(z({},H),{},de({},ee,Nfe(y,z(z({},V),{},{graphicalItems:L,stackGroups:V.axisType===D&&T,dataStartIndex:O,dataEndIndex:_}))))},{}),B=Ife(z(z({},R),{},{props:y,graphicalItems:L}),w==null?void 0:w.legendBBox);Object.keys(R).forEach(function(H){R[H]=u(y,R[H],B,H.replace("Map",""),r)});var M=R["".concat(I,"Map")],q=$fe(M),X=f(y,z(z({},R),{},{dataStartIndex:O,dataEndIndex:_,updateId:S,graphicalItems:L,stackGroups:T,offset:B}));return z(z({formattedGraphicalItems:X,graphicalItems:L,offset:B,stackGroups:T},q),R)},g=function(v){function b(w){var y,O,_;return mfe(this,b),_=yfe(this,b,[w]),de(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),de(_,"accessibilityManager",new tfe),de(_,"handleLegendBBoxUpdate",function(S){if(S){var E=_.state,A=E.dataStartIndex,P=E.dataEndIndex,k=E.updateId;_.setState(z({legendBBox:S},p({props:_.props,dataStartIndex:A,dataEndIndex:P,updateId:k},z(z({},_.state),{},{legendBBox:S}))))}}),de(_,"handleReceiveSyncEvent",function(S,E,A){if(_.props.syncId===S){if(A===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(E)}}),de(_,"handleBrushChange",function(S){var E=S.startIndex,A=S.endIndex;if(E!==_.state.dataStartIndex||A!==_.state.dataEndIndex){var P=_.state.updateId;_.setState(function(){return z({dataStartIndex:E,dataEndIndex:A},p({props:_.props,dataStartIndex:E,dataEndIndex:A,updateId:P},_.state))}),_.triggerSyncEvent({dataStartIndex:E,dataEndIndex:A})}}),de(_,"handleMouseEnter",function(S){var E=_.getMouseInfo(S);if(E){var A=z(z({},E),{},{isTooltipActive:!0});_.setState(A),_.triggerSyncEvent(A);var P=_.props.onMouseEnter;le(P)&&P(A,S)}}),de(_,"triggeredAfterMouseMove",function(S){var E=_.getMouseInfo(S),A=E?z(z({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(A),_.triggerSyncEvent(A);var P=_.props.onMouseMove;le(P)&&P(A,S)}),de(_,"handleItemMouseEnter",function(S){_.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),de(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),de(_,"handleMouseMove",function(S){S.persist(),_.throttleTriggeredAfterMouseMove(S)}),de(_,"handleMouseLeave",function(S){_.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};_.setState(E),_.triggerSyncEvent(E);var A=_.props.onMouseLeave;le(A)&&A(E,S)}),de(_,"handleOuterEvent",function(S){var E=eq(S),A=rr(_.props,"".concat(E));if(E&&le(A)){var P,k;/.*touch.*/i.test(E)?k=_.getMouseInfo(S.changedTouches[0]):k=_.getMouseInfo(S),A((P=k)!==null&&P!==void 0?P:{},S)}}),de(_,"handleClick",function(S){var E=_.getMouseInfo(S);if(E){var A=z(z({},E),{},{isTooltipActive:!0});_.setState(A),_.triggerSyncEvent(A);var P=_.props.onClick;le(P)&&P(A,S)}}),de(_,"handleMouseDown",function(S){var E=_.props.onMouseDown;if(le(E)){var A=_.getMouseInfo(S);E(A,S)}}),de(_,"handleMouseUp",function(S){var E=_.props.onMouseUp;if(le(E)){var A=_.getMouseInfo(S);E(A,S)}}),de(_,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),de(_,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.handleMouseDown(S.changedTouches[0])}),de(_,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.handleMouseUp(S.changedTouches[0])}),de(_,"handleDoubleClick",function(S){var E=_.props.onDoubleClick;if(le(E)){var A=_.getMouseInfo(S);E(A,S)}}),de(_,"handleContextMenu",function(S){var E=_.props.onContextMenu;if(le(E)){var A=_.getMouseInfo(S);E(A,S)}}),de(_,"triggerSyncEvent",function(S){_.props.syncId!==void 0&&Cp.emit(kp,_.props.syncId,S,_.eventEmitterSymbol)}),de(_,"applySyncEvent",function(S){var E=_.props,A=E.layout,P=E.syncMethod,k=_.state.updateId,C=S.dataStartIndex,N=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)_.setState(z({dataStartIndex:C,dataEndIndex:N},p({props:_.props,dataStartIndex:C,dataEndIndex:N,updateId:k},_.state)));else if(S.activeTooltipIndex!==void 0){var D=S.chartX,I=S.chartY,L=S.activeTooltipIndex,T=_.state,R=T.offset,B=T.tooltipTicks;if(!R)return;if(typeof P=="function")L=P(B,S);else if(P==="value"){L=-1;for(var M=0;M<B.length;M++)if(B[M].value===S.activeLabel){L=M;break}}var q=z(z({},R),{},{x:R.left,y:R.top}),X=Math.min(D,q.x+q.width),H=Math.min(I,q.y+q.height),V=B[L]&&B[L].value,ee=og(_.state,_.props.data,L),ie=B[L]?{x:A==="horizontal"?B[L].coordinate:X,y:A==="horizontal"?H:B[L].coordinate}:qN;_.setState(z(z({},S),{},{activeLabel:V,activeCoordinate:ie,activePayload:ee,activeTooltipIndex:L}))}else _.setState(S)}),de(_,"renderCursor",function(S){var E,A=_.state,P=A.isTooltipActive,k=A.activeCoordinate,C=A.activePayload,N=A.offset,D=A.activeTooltipIndex,I=A.tooltipAxisBandSize,L=_.getTooltipEventType(),T=(E=S.props.active)!==null&&E!==void 0?E:P,R=_.props.layout,B=S.key||"_recharts-cursor";return j.createElement(lfe,{key:B,activeCoordinate:k,activePayload:C,activeTooltipIndex:D,chartName:r,element:S,isActive:T,layout:R,offset:N,tooltipAxisBandSize:I,tooltipEventType:L})}),de(_,"renderPolarAxis",function(S,E,A){var P=rr(S,"type.axisType"),k=rr(_.state,"".concat(P,"Map")),C=S.type.defaultProps,N=C!==void 0?z(z({},C),S.props):S.props,D=k&&k[N["".concat(P,"Id")]];return x.cloneElement(S,z(z({},D),{},{className:pe(P,D.className),key:S.key||"".concat(E,"-").concat(A),ticks:An(D,!0)}))}),de(_,"renderPolarGrid",function(S){var E=S.props,A=E.radialLines,P=E.polarAngles,k=E.polarRadius,C=_.state,N=C.radiusAxisMap,D=C.angleAxisMap,I=ii(N),L=ii(D),T=L.cx,R=L.cy,B=L.innerRadius,M=L.outerRadius;return x.cloneElement(S,{polarAngles:Array.isArray(P)?P:An(L,!0).map(function(q){return q.coordinate}),polarRadius:Array.isArray(k)?k:An(I,!0).map(function(q){return q.coordinate}),cx:T,cy:R,innerRadius:B,outerRadius:M,key:S.key||"polar-grid",radialLines:A})}),de(_,"renderLegend",function(){var S=_.state.formattedGraphicalItems,E=_.props,A=E.children,P=E.width,k=E.height,C=_.props.margin||{},N=P-(C.left||0)-(C.right||0),D=ck({children:A,formattedGraphicalItems:S,legendWidth:N,legendContent:c});if(!D)return null;var I=D.item,L=XS(D,cfe);return x.cloneElement(I,z(z({},L),{},{chartWidth:P,chartHeight:k,margin:C,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),de(_,"renderTooltip",function(){var S,E=_.props,A=E.children,P=E.accessibilityLayer,k=Qt(A,tt);if(!k)return null;var C=_.state,N=C.isTooltipActive,D=C.activeCoordinate,I=C.activePayload,L=C.activeLabel,T=C.offset,R=(S=k.props.active)!==null&&S!==void 0?S:N;return x.cloneElement(k,{viewBox:z(z({},T),{},{x:T.left,y:T.top}),active:R,label:L,payload:R?I:[],coordinate:D,accessibilityLayer:P})}),de(_,"renderBrush",function(S){var E=_.props,A=E.margin,P=E.data,k=_.state,C=k.offset,N=k.dataStartIndex,D=k.dataEndIndex,I=k.updateId;return x.cloneElement(S,{key:S.key||"_recharts-brush",onChange:ou(_.handleBrushChange,S.props.onChange),data:P,x:Y(S.props.x)?S.props.x:C.left,y:Y(S.props.y)?S.props.y:C.top+C.height+C.brushBottom-(A.bottom||0),width:Y(S.props.width)?S.props.width:C.width,startIndex:N,endIndex:D,updateId:"brush-".concat(I)})}),de(_,"renderReferenceElement",function(S,E,A){if(!S)return null;var P=_,k=P.clipPathId,C=_.state,N=C.xAxisMap,D=C.yAxisMap,I=C.offset,L=S.type.defaultProps||{},T=S.props,R=T.xAxisId,B=R===void 0?L.xAxisId:R,M=T.yAxisId,q=M===void 0?L.yAxisId:M;return x.cloneElement(S,{key:S.key||"".concat(E,"-").concat(A),xAxis:N[B],yAxis:D[q],viewBox:{x:I.left,y:I.top,width:I.width,height:I.height},clipPathId:k})}),de(_,"renderActivePoints",function(S){var E=S.item,A=S.activePoint,P=S.basePoint,k=S.childIndex,C=S.isRange,N=[],D=E.props.key,I=E.item.type.defaultProps!==void 0?z(z({},E.item.type.defaultProps),E.item.props):E.item.props,L=I.activeDot,T=I.dataKey,R=z(z({index:k,dataKey:T,cx:A.x,cy:A.y,r:4,fill:sb(E.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},te(L,!1)),Yu(L));return N.push(b.renderActiveDot(L,R,"".concat(D,"-activePoint-").concat(k))),P?N.push(b.renderActiveDot(L,z(z({},R),{},{cx:P.x,cy:P.y}),"".concat(D,"-basePoint-").concat(k))):C&&N.push(null),N}),de(_,"renderGraphicChild",function(S,E,A){var P=_.filterFormatItem(S,E,A);if(!P)return null;var k=_.getTooltipEventType(),C=_.state,N=C.isTooltipActive,D=C.tooltipAxis,I=C.activeTooltipIndex,L=C.activeLabel,T=_.props.children,R=Qt(T,tt),B=P.props,M=B.points,q=B.isRange,X=B.baseLine,H=P.item.type.defaultProps!==void 0?z(z({},P.item.type.defaultProps),P.item.props):P.item.props,V=H.activeDot,ee=H.hide,ie=H.activeBar,_e=H.activeShape,Q=!!(!ee&&N&&R&&(V||ie||_e)),F={};k!=="axis"&&R&&R.props.trigger==="click"?F={onClick:ou(_.handleItemMouseEnter,S.props.onClick)}:k!=="axis"&&(F={onMouseLeave:ou(_.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:ou(_.handleItemMouseEnter,S.props.onMouseEnter)});var U=x.cloneElement(S,z(z({},P.props),F));function K(Hr){return typeof D.dataKey=="function"?D.dataKey(Hr.payload):null}if(Q)if(I>=0){var G,W;if(D.dataKey&&!D.allowDuplicatedCategory){var ve=typeof D.dataKey=="function"?K:"payload.".concat(D.dataKey.toString());G=Gu(M,ve,L),W=q&&X&&Gu(X,ve,L)}else G=M==null?void 0:M[I],W=q&&X&&X[I];if(_e||ie){var he=S.props.activeIndex!==void 0?S.props.activeIndex:I;return[x.cloneElement(S,z(z(z({},P.props),F),{},{activeIndex:he})),null,null]}if(!ce(G))return[U].concat(gs(_.renderActivePoints({item:P,activePoint:G,basePoint:W,childIndex:I,isRange:q})))}else{var je,Ae=(je=_.getItemByXY(_.state.activeCoordinate))!==null&&je!==void 0?je:{graphicalItem:U},Ee=Ae.graphicalItem,at=Ee.item,nt=at===void 0?S:at,qr=Ee.childIndex,Vt=z(z(z({},P.props),F),{},{activeIndex:qr});return[x.cloneElement(nt,Vt),null,null]}return q?[U,null,null]:[U,null]}),de(_,"renderCustomized",function(S,E,A){return x.cloneElement(S,z(z({key:"recharts-customized-".concat(A)},_.props),_.state))}),de(_,"renderMap",{CartesianGrid:{handler:du,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:du},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:du},YAxis:{handler:du},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((y=w.id)!==null&&y!==void 0?y:Ri("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=lC(_.triggeredAfterMouseMove,(O=w.throttleDelay)!==null&&O!==void 0?O:1e3/60),_.state={},_}return xfe(b,v),gfe(b,[{key:"componentDidMount",value:function(){var y,O;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var y=this.props,O=y.children,_=y.data,S=y.height,E=y.layout,A=Qt(O,tt);if(A){var P=A.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,C=og(this.state,_,P,k),N=this.state.tooltipTicks[P].coordinate,D=(this.state.offset.top+S)/2,I=E==="horizontal",L=I?{x:N,y:D}:{y:N,x:D},T=this.state.formattedGraphicalItems.find(function(B){var M=B.item;return M.type.name==="Scatter"});T&&(L=z(z({},L),T.props.points[P].tooltipPosition),C=T.props.points[P].tooltipPayload);var R={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:k,activePayload:C,activeCoordinate:L};this.setState(R),this.renderCursor(A),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(y,O){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==O.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==y.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==y.margin){var _,S;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(y){km([Qt(y.children,tt)],[Qt(this.props.children,tt)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=Qt(this.props.children,tt);if(y&&typeof y.props.shared=="boolean"){var O=y.props.shared?"axis":"item";return s.indexOf(O)>=0?O:a}return a}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var O=this.container,_=O.getBoundingClientRect(),S=PQ(_),E={chartX:Math.round(y.pageX-S.left),chartY:Math.round(y.pageY-S.top)},A=_.width/O.offsetWidth||1,P=this.inRange(E.chartX,E.chartY,A);if(!P)return null;var k=this.state,C=k.xAxisMap,N=k.yAxisMap,D=this.getTooltipEventType(),I=JS(this.state,this.props.data,this.props.layout,P);if(D!=="axis"&&C&&N){var L=ii(C).scale,T=ii(N).scale,R=L&&L.invert?L.invert(E.chartX):null,B=T&&T.invert?T.invert(E.chartY):null;return z(z({},E),{},{xValue:R,yValue:B},I)}return I?z(z({},E),I):null}},{key:"inRange",value:function(y,O){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,E=y/_,A=O/_;if(S==="horizontal"||S==="vertical"){var P=this.state.offset,k=E>=P.left&&E<=P.left+P.width&&A>=P.top&&A<=P.top+P.height;return k?{x:E,y:A}:null}var C=this.state,N=C.angleAxisMap,D=C.radiusAxisMap;if(N&&D){var I=ii(N);return v_({x:E,y:A},I)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,O=this.getTooltipEventType(),_=Qt(y,tt),S={};_&&O==="axis"&&(_.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=Yu(this.props,this.handleOuterEvent);return z(z({},E),S)}},{key:"addListener",value:function(){Cp.on(kp,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Cp.removeListener(kp,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(y,O,_){for(var S=this.state.formattedGraphicalItems,E=0,A=S.length;E<A;E++){var P=S[E];if(P.item===y||P.props.key===y.key||O===Pn(P.item.type)&&_===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var y=this.clipPathId,O=this.state.offset,_=O.left,S=O.top,E=O.height,A=O.width;return j.createElement("defs",null,j.createElement("clipPath",{id:y},j.createElement("rect",{x:_,y:S,height:E,width:A})))}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(O,_){var S=YS(_,2),E=S[0],A=S[1];return z(z({},O),{},de({},E,A.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(O,_){var S=YS(_,2),E=S[0],A=S[1];return z(z({},O),{},de({},E,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var O;return(O=this.state.xAxisMap)===null||O===void 0||(O=O[y])===null||O===void 0?void 0:O.scale}},{key:"getYScaleByAxisId",value:function(y){var O;return(O=this.state.yAxisMap)===null||O===void 0||(O=O[y])===null||O===void 0?void 0:O.scale}},{key:"getItemByXY",value:function(y){var O=this.state,_=O.formattedGraphicalItems,S=O.activeItem;if(_&&_.length)for(var E=0,A=_.length;E<A;E++){var P=_[E],k=P.props,C=P.item,N=C.type.defaultProps!==void 0?z(z({},C.type.defaultProps),C.props):C.props,D=Pn(C.type);if(D==="Bar"){var I=(k.data||[]).find(function(B){return sae(y,B)});if(I)return{graphicalItem:P,payload:I}}else if(D==="RadialBar"){var L=(k.data||[]).find(function(B){return v_(y,B)});if(L)return{graphicalItem:P,payload:L}}else if(wh(P,S)||xh(P,S)||ac(P,S)){var T=ase({graphicalItem:P,activeTooltipItem:S,itemData:N.data}),R=N.activeIndex===void 0?T:N.activeIndex;return{graphicalItem:z(z({},P),{},{childIndex:R}),payload:ac(P,S)?N.data[T]:P.props.data[T]}}}return null}},{key:"render",value:function(){var y=this;if(!sw(this))return null;var O=this.props,_=O.children,S=O.className,E=O.width,A=O.height,P=O.style,k=O.compact,C=O.title,N=O.desc,D=XS(O,ufe),I=te(D,!1);if(k)return j.createElement(PS,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},j.createElement($m,uo({},I,{width:E,height:A,title:C,desc:N}),this.renderClipPath(),cw(_,this.renderMap)));if(this.props.accessibilityLayer){var L,T;I.tabIndex=(L=this.props.tabIndex)!==null&&L!==void 0?L:0,I.role=(T=this.props.role)!==null&&T!==void 0?T:"application",I.onKeyDown=function(B){y.accessibilityManager.keyboardEvent(B)},I.onFocus=function(){y.accessibilityManager.focus()}}var R=this.parseEventsOfWrapper();return j.createElement(PS,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},j.createElement("div",uo({className:pe("recharts-wrapper",S),style:z({position:"relative",cursor:"default",width:E,height:A},P)},R,{ref:function(M){y.container=M}}),j.createElement($m,uo({},I,{width:E,height:A,title:C,desc:N,style:Pfe}),this.renderClipPath(),cw(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(x.Component);de(g,"displayName",r),de(g,"defaultProps",z({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),de(g,"getDerivedStateFromProps",function(v,b){var w=v.dataKey,y=v.data,O=v.children,_=v.width,S=v.height,E=v.layout,A=v.stackOffset,P=v.margin,k=b.dataStartIndex,C=b.dataEndIndex;if(b.updateId===void 0){var N=ZS(v);return z(z(z({},N),{},{updateId:0},p(z(z({props:v},N),{},{updateId:0}),b)),{},{prevDataKey:w,prevData:y,prevWidth:_,prevHeight:S,prevLayout:E,prevStackOffset:A,prevMargin:P,prevChildren:O})}if(w!==b.prevDataKey||y!==b.prevData||_!==b.prevWidth||S!==b.prevHeight||E!==b.prevLayout||A!==b.prevStackOffset||!bo(P,b.prevMargin)){var D=ZS(v),I={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},L=z(z({},JS(b,y,E)),{},{updateId:b.updateId+1}),T=z(z(z({},D),I),L);return z(z(z({},T),p(z({props:v},T),b)),{},{prevDataKey:w,prevData:y,prevWidth:_,prevHeight:S,prevLayout:E,prevStackOffset:A,prevMargin:P,prevChildren:O})}if(!km(O,b.prevChildren)){var R,B,M,q,X=Qt(O,is),H=X&&(R=(B=X.props)===null||B===void 0?void 0:B.startIndex)!==null&&R!==void 0?R:k,V=X&&(M=(q=X.props)===null||q===void 0?void 0:q.endIndex)!==null&&M!==void 0?M:C,ee=H!==k||V!==C,ie=!ce(y),_e=ie&&!ee?b.updateId:b.updateId+1;return z(z({updateId:_e},p(z(z({props:v},b),{},{updateId:_e,dataStartIndex:H,dataEndIndex:V}),b)),{},{prevChildren:O,dataStartIndex:H,dataEndIndex:V})}return null}),de(g,"renderActiveDot",function(v,b,w){var y;return x.isValidElement(v)?y=x.cloneElement(v,b):le(v)?y=v(b):y=j.createElement(Fs,b),j.createElement(me,{className:"recharts-active-dot",key:w},y)});var m=x.forwardRef(function(b,w){return j.createElement(g,uo({},b,{ref:w}))});return m.displayName=g.displayName,m},Dfe=Ws({chartName:"LineChart",GraphicalChild:Si,axisComponents:[{axisType:"xAxis",AxisComp:Et},{axisType:"yAxis",AxisComp:St}],formatAxisMap:Sh}),ol=Ws({chartName:"BarChart",GraphicalChild:_t,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Et},{axisType:"yAxis",AxisComp:St}],formatAxisMap:Sh}),Lfe=Ws({chartName:"PieChart",GraphicalChild:qn,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:ji},{axisType:"radiusAxis",AxisComp:Na}],formatAxisMap:xk,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),sg=Ws({chartName:"RadarChart",GraphicalChild:$a,axisComponents:[{axisType:"angleAxis",AxisComp:ji},{axisType:"radiusAxis",AxisComp:Na}],formatAxisMap:xk,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),KN=Ws({chartName:"AreaChart",GraphicalChild:Ur,axisComponents:[{axisType:"xAxis",AxisComp:Et},{axisType:"yAxis",AxisComp:St}],formatAxisMap:Sh}),t1=Ws({chartName:"ComposedChart",GraphicalChild:[Si,Ur,_t,Th],axisComponents:[{axisType:"xAxis",AxisComp:Et},{axisType:"yAxis",AxisComp:St},{axisType:"zAxis",AxisComp:jh}],formatAxisMap:Sh});function Bfe({data:t}){return h.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-xl h-[300px]",children:[h.jsx("h3",{className:"text-lg font-display font-semibold mb-4",children:"Trend Recente"}),h.jsx(Bt,{width:"100%",height:"100%",children:h.jsxs(KN,{data:t,children:[h.jsx("defs",{children:h.jsxs("linearGradient",{id:"colorOverall",x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"5%",stopColor:"hsl(var(--primary))",stopOpacity:.3}),h.jsx("stop",{offset:"95%",stopColor:"hsl(var(--primary))",stopOpacity:0})]})}),h.jsx(Et,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"},dy:10}),h.jsx(St,{hide:!0}),h.jsx(tt,{contentStyle:{backgroundColor:"hsl(var(--card))",borderRadius:"12px",border:"1px solid hsl(var(--border))",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}}),h.jsx(Ur,{type:"monotone",dataKey:"overall",stroke:"hsl(var(--primary))",strokeWidth:3,fillOpacity:1,fill:"url(#colorOverall)"})]})})]})}function Ffe({stats:t}){const e=t.map(r=>({subject:r.title,A:r.completionRate,fullMark:100}));return t.length<3?h.jsx("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-xl h-[300px] flex items-center justify-center text-center",children:h.jsxs("p",{className:"text-muted-foreground text-sm",children:["Add at least 3 habits ",h.jsx("br",{})," to unlock Radar view."]})}):h.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-xl h-[300px]",children:[h.jsx("h3",{className:"text-lg font-display font-semibold mb-2",children:"Focus Balance"}),h.jsx(Bt,{width:"100%",height:"85%",children:h.jsxs(sg,{cx:"50%",cy:"50%",outerRadius:"70%",data:e,children:[h.jsx(Td,{stroke:"hsl(var(--border))"}),h.jsx(ji,{dataKey:"subject",tick:{fill:"hsl(var(--muted-foreground))",fontSize:12}}),h.jsx($a,{name:"Completion",dataKey:"A",stroke:"hsl(var(--primary))",strokeWidth:2,fill:"hsl(var(--primary))",fillOpacity:.4})]})})]})}function Ufe({data:t}){const e=Math.max(...t.map(n=>n.rate)),r=({active:n,payload:i,label:a})=>n&&i&&i.length?h.jsxs("div",{className:"bg-background/95 backdrop-blur text-xs p-2 rounded-lg border border-border shadow-xl",children:[h.jsx("p",{className:"font-semibold mb-1",children:a}),h.jsxs("p",{className:"text-primary space-x-2",children:[h.jsx("span",{children:"Success Rate:"}),h.jsxs("span",{className:"font-mono font-bold",children:[i[0].value,"%"]})]})]}):null;return h.jsx("div",{className:"w-full h-full min-h-[200px]",children:h.jsx(Bt,{width:"100%",height:"100%",children:h.jsxs(ol,{data:t,margin:{top:10,right:10,left:-20,bottom:0},children:[h.jsx(Et,{dataKey:"dayName",axisLine:!1,tickLine:!1,tick:{fill:"hsl(var(--muted-foreground))",fontSize:10},tickFormatter:n=>n.slice(0,3).toUpperCase(),dy:10}),h.jsx(St,{hide:!0,domain:[0,100]}),h.jsx(tt,{content:h.jsx(r,{}),cursor:{fill:"hsl(var(--muted)/0.2)"}}),h.jsx(_t,{dataKey:"rate",radius:[4,4,0,0],maxBarSize:40,children:t.map((n,i)=>h.jsx(Is,{fill:n.rate===e&&n.rate>0?"hsl(var(--primary))":"hsl(var(--primary)/0.3)",className:"transition-all duration-300 hover:opacity-80"},`cell-${i}`))})]})})})}function Wfe({comparisons:t,goals:e}){const[r,n]=x.useState("month");return h.jsxs("div",{className:"glass-panel rounded-3xl p-6 animate-fade-in",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[h.jsxs("div",{children:[h.jsxs("h3",{className:"text-lg font-display font-semibold flex items-center gap-2",children:[h.jsx(pu,{className:"w-5 h-5 text-primary"}),"Confronto Temporale"]}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Analizza come stai andando rispetto al passato."})]}),h.jsx(fy,{value:r,onValueChange:i=>n(i),className:"w-full sm:w-auto",children:h.jsxs(Df,{className:"grid w-full grid-cols-3 sm:w-[300px]",children:[h.jsx(hr,{value:"week",children:"Settimana"}),h.jsx(hr,{value:"month",children:"Mese"}),h.jsx(hr,{value:"year",children:"Anno"})]})})]}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:e.map(i=>{const a=t.find(c=>c.habitId===i.id);if(!a)return null;const o=a[r],s=o.trend==="neutral"||o.change===0,l=o.trend==="up";return h.jsxs("div",{className:"bg-card/50 border border-border/50 rounded-xl p-4 flex items-center justify-between group hover:bg-card/80 transition-colors",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center opacity-80",style:{backgroundColor:`${i.color}20`,color:i.color},children:h.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:i.color}})}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-foreground",children:i.title}),h.jsx("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:h.jsxs("span",{children:["Precedente: ",o.previous,"%"]})})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("div",{className:"text-xl font-display font-bold text-foreground",children:[o.current,"%"]}),h.jsxs("div",{className:J("flex items-center justify-end gap-1 text-xs font-medium",s?"text-muted-foreground":l?"text-emerald-500":"text-rose-500"),children:[s?h.jsx(WR,{className:"w-3 h-3"}):l?h.jsx(TR,{className:"w-3 h-3"}):h.jsx(PR,{className:"w-3 h-3"}),h.jsxs("span",{children:[o.change>0?"+":"",o.change,"%"]})]})]})]},i.id)})})]})}function zfe({criticalHabits:t}){const e=t.filter(r=>r.completionRate<85&&r.completionRate>0).sort((r,n)=>r.completionRate-n.completionRate).slice(0,3);return e.length===0?null:h.jsxs("div",{className:"glass-panel rounded-3xl p-6 animate-fade-in space-y-4",children:[h.jsxs("div",{children:[h.jsxs("h3",{className:"text-lg font-display font-semibold flex items-center gap-2",children:[h.jsx(na,{className:"w-5 h-5 text-primary"}),"Aree di Miglioramento"]}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Abitudini che richiedono pi attenzione e i loro giorni critici."})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(r=>h.jsxs("div",{className:"bg-card/50 border border-destructive/10 rounded-xl p-4 flex flex-col gap-3 group hover:border-destructive/30 transition-all",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:r.color}}),h.jsx("span",{className:"font-semibold text-foreground",children:r.title})]}),h.jsxs("span",{className:J("text-xs font-bold px-2 py-0.5 rounded-full",r.completionRate<50?"bg-destructive/10 text-destructive":"bg-warning/10 text-warning"),children:[r.completionRate,"% succ."]})]}),h.jsxs("div",{className:"flex items-start gap-3 bg-background/50 rounded-lg p-3",children:[h.jsx(NR,{className:"w-4 h-4 text-destructive mt-0.5 shrink-0"}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider font-bold",children:"Giorno Nero"}),h.jsx("p",{className:"font-display font-semibold text-lg text-foreground",children:r.worstDay}),h.jsxs("p",{className:"text-xs text-muted-foreground",children:["Solo il ",h.jsxs("span",{className:"text-destructive font-bold",children:[r.worstDayRate,"%"]})," di completamento"]})]})]})]},r.habitId))})]})}const qfe=()=>{const{goals:t,logs:e}=vE(),r=i4(t,e),{isPrivacyMode:n}=Hg(),i=r.habitStats.length>0?r.habitStats.reduce((a,o)=>a.completionRate>o.completionRate?a:o,r.habitStats[0]):null;return h.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-5xl space-y-8 animate-fade-in pb-24",children:[h.jsx("div",{className:"fixed top-20 left-1/2 -translate-x-1/2 w-[800px] h-[800px] bg-primary/5 blur-[120px] rounded-full pointer-events-none -z-10"}),h.jsxs("div",{className:J("space-y-2 transition-all duration-300",n&&"blur-sm"),children:[h.jsx("h1",{className:"text-3xl sm:text-4xl font-display font-bold text-foreground",children:"Le tue Statistiche"}),h.jsx("p",{className:"text-muted-foreground font-light text-lg",children:"Analisi dettagliata delle tue performance."})]}),h.jsx("div",{className:J("transition-all duration-300",n&&"blur-sm"),children:h.jsx(o4,{globalStats:{totalActiveDays:r.totalActiveDays,globalSuccessRate:r.globalSuccessRate,bestStreak:r.bestStreak,worstDay:r.worstDay},bestHabit:i||void 0})}),h.jsxs("div",{className:"glass-panel rounded-3xl p-6",children:[h.jsxs("h3",{className:"text-lg font-display font-semibold mb-6 flex items-center gap-2",children:[h.jsx("span",{className:"w-2 h-2 rounded-sm bg-primary animate-pulse"}),"Attivit Recente"]}),h.jsx(s4,{data:r.heatmapData})]}),h.jsx("div",{className:J("transition-all duration-300",n&&"blur-sm"),children:h.jsx(Wfe,{comparisons:r.comparisons,goals:t})}),h.jsx("div",{className:J("transition-all duration-300",n&&"blur-sm"),children:h.jsx(zfe,{criticalHabits:r.criticalHabits})}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"glass-panel rounded-3xl p-6 h-[400px] flex flex-col",children:[h.jsx("h3",{className:"text-lg font-display font-semibold mb-4",children:"Trend Settimanale"}),h.jsx("div",{className:"flex-1 w-full min-h-0",children:h.jsx(Bfe,{data:r.trendData})})]}),h.jsxs("div",{className:J("glass-panel rounded-3xl p-6 h-[400px] flex flex-col transition-all duration-300",n&&"blur-sm"),children:[h.jsx("h3",{className:"text-lg font-display font-semibold mb-4",children:"Focus Abitudini"}),h.jsx("div",{className:"flex-1 w-full min-h-0",children:h.jsx(Ffe,{stats:r.habitStats})})]})]}),h.jsxs("div",{className:"glass-panel rounded-3xl p-6",children:[h.jsxs("div",{className:"mb-6",children:[h.jsxs("h3",{className:"text-lg font-display font-semibold flex items-center gap-2",children:[h.jsx("span",{className:"w-2 h-2 rounded-sm bg-primary animate-pulse"}),"Costanza Settimanale"]}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Scopri in quali giorni sei pi produttivo."})]}),h.jsx("div",{className:"h-[250px] w-full",children:h.jsx(Ufe,{data:r.weekdayStats})})]}),h.jsxs("div",{className:J("glass-panel rounded-3xl p-6 transition-all duration-300",n&&"blur-sm"),children:[h.jsx("h3",{className:"text-lg font-display font-semibold mb-6",children:"Dettagli Abitudini"}),h.jsx("div",{className:"space-y-3",children:r.habitStats.length===0?h.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Nessuna abitudine tracciata ancora."}):r.habitStats.map(a=>{const o=r.criticalHabits.find(s=>s.habitId===a.id);return h.jsxs("div",{className:"glass-card rounded-xl p-4 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 group",children:[h.jsxs("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:[h.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center bg-white/5 border border-white/10 text-xl group-hover:scale-110 transition-transform duration-300 shadow-lg shrink-0",style:{color:a.color,borderColor:`${a.color}40`,boxShadow:`0 0 20px ${a.color}10`},children:h.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:a.color}})}),h.jsxs("div",{className:"min-w-0",children:[h.jsx("span",{className:"font-semibold text-foreground text-lg truncate block",children:a.title}),h.jsx("div",{className:"h-1 w-20 bg-secondary rounded-full mt-1 overflow-hidden",children:h.jsx("div",{className:"h-full bg-primary transition-all duration-500",style:{width:`${a.completionRate}%`,backgroundColor:a.color}})})]})]}),h.jsxs("div",{className:"flex gap-4 sm:gap-8 text-sm text-muted-foreground w-full sm:w-auto justify-between sm:justify-end",children:[o&&o.worstDay!=="N/A"&&h.jsxs("div",{className:"flex flex-col items-end hidden md:flex",children:[h.jsx("span",{className:"text-[10px] uppercase tracking-widest font-bold opacity-60 mb-0.5 text-destructive",children:"Worst"}),h.jsx("span",{className:"font-medium text-foreground",children:o.worstDay})]}),h.jsxs("div",{className:"flex flex-col items-end",children:[h.jsxs("span",{className:"text-[10px] uppercase tracking-widest font-bold opacity-60 mb-0.5 flex items-center gap-1",children:[h.jsx(fo,{className:"w-3 h-3 text-yellow-500"})," Best"]}),h.jsxs("span",{className:"font-mono text-xl font-bold text-foreground",children:[a.longestStreak," ",h.jsx("span",{className:"text-xs font-sans font-normal opacity-50",children:"gg"})]})]}),h.jsxs("div",{className:"flex flex-col items-end",children:[h.jsx("span",{className:"text-[10px] uppercase tracking-widest font-bold opacity-60 mb-0.5",children:"Serie"}),h.jsxs("span",{className:"font-mono text-xl font-bold text-foreground",children:[a.currentStreak," ",h.jsx("span",{className:"text-xs font-sans font-normal opacity-50",children:"gg"})]})]}),h.jsxs("div",{className:"flex flex-col items-end",children:[h.jsx("span",{className:"text-[10px] uppercase tracking-widest font-bold opacity-60 mb-0.5",children:"Rate"}),h.jsxs("span",{className:"font-mono text-xl font-bold text-foreground",children:[a.completionRate,h.jsx("span",{className:"text-sm",children:"%"})]})]})]})]},a.id)})})]})]})};var kh="Checkbox",[Hfe,Wpe]=Ht(kh),[Kfe,yb]=Hfe(kh);function Vfe(t){const{__scopeCheckbox:e,checked:r,children:n,defaultChecked:i,disabled:a,form:o,name:s,onCheckedChange:l,required:c,value:u="on",internal_do_not_use_render:d}=t,[f,p]=kn({prop:r,defaultProp:i??!1,onChange:l,caller:kh}),[g,m]=x.useState(null),[v,b]=x.useState(null),w=x.useRef(!1),y=g?!!o||!!g.closest("form"):!0,O={checked:f,disabled:a,setChecked:p,control:g,setControl:m,name:s,form:o,value:u,hasConsumerStoppedPropagationRef:w,required:c,defaultChecked:Oi(i)?!1:i,isFormControl:y,bubbleInput:v,setBubbleInput:b};return h.jsx(Kfe,{scope:e,...O,children:Gfe(d)?d(O):n})}var VN="CheckboxTrigger",GN=x.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...n},i)=>{const{control:a,value:o,disabled:s,checked:l,required:c,setControl:u,setChecked:d,hasConsumerStoppedPropagationRef:f,isFormControl:p,bubbleInput:g}=yb(VN,t),m=ge(i,u),v=x.useRef(l);return x.useEffect(()=>{const b=a==null?void 0:a.form;if(b){const w=()=>d(v.current);return b.addEventListener("reset",w),()=>b.removeEventListener("reset",w)}},[a,d]),h.jsx(se.button,{type:"button",role:"checkbox","aria-checked":Oi(l)?"mixed":l,"aria-required":c,"data-state":ZN(l),"data-disabled":s?"":void 0,disabled:s,value:o,...n,ref:m,onKeyDown:oe(e,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:oe(r,b=>{d(w=>Oi(w)?!0:!w),g&&p&&(f.current=b.isPropagationStopped(),f.current||b.stopPropagation())})})});GN.displayName=VN;var bb=x.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:a,required:o,disabled:s,value:l,onCheckedChange:c,form:u,...d}=t;return h.jsx(Vfe,{__scopeCheckbox:r,checked:i,defaultChecked:a,disabled:s,required:o,onCheckedChange:c,name:n,form:u,value:l,internal_do_not_use_render:({isFormControl:f})=>h.jsxs(h.Fragment,{children:[h.jsx(GN,{...d,ref:e,__scopeCheckbox:r}),f&&h.jsx(JN,{__scopeCheckbox:r})]})})});bb.displayName=kh;var YN="CheckboxIndicator",XN=x.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...i}=t,a=yb(YN,r);return h.jsx(un,{present:n||Oi(a.checked)||a.checked===!0,children:h.jsx(se.span,{"data-state":ZN(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});XN.displayName=YN;var QN="CheckboxBubbleInput",JN=x.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:s,disabled:l,name:c,value:u,form:d,bubbleInput:f,setBubbleInput:p}=yb(QN,t),g=ge(r,p),m=jf(a),v=uf(n);x.useEffect(()=>{const w=f;if(!w)return;const y=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(y,"checked").set,S=!i.current;if(m!==a&&_){const E=new Event("click",{bubbles:S});w.indeterminate=Oi(a),_.call(w,Oi(a)?!1:a),w.dispatchEvent(E)}},[f,m,a,i]);const b=x.useRef(Oi(a)?!1:a);return h.jsx(se.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:s,disabled:l,name:c,value:u,form:d,...e,tabIndex:-1,ref:g,style:{...e.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});JN.displayName=QN;function Gfe(t){return typeof t=="function"}function Oi(t){return t==="indeterminate"}function ZN(t){return Oi(t)?"indeterminate":t?"checked":"unchecked"}const e$=x.forwardRef(({className:t,...e},r)=>h.jsx(bb,{ref:r,className:J("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:h.jsx(XN,{className:J("flex items-center justify-center text-current"),children:h.jsx(of,{className:"h-4 w-4"})})}));e$.displayName=bb.displayName;const Ge=x.forwardRef(({className:t,...e},r)=>h.jsx("div",{ref:r,className:J("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Ge.displayName="Card";const Ye=x.forwardRef(({className:t,...e},r)=>h.jsx("div",{ref:r,className:J("flex flex-col space-y-1.5 p-6",t),...e}));Ye.displayName="CardHeader";const Xe=x.forwardRef(({className:t,...e},r)=>h.jsx("h3",{ref:r,className:J("text-2xl font-semibold leading-none tracking-tight",t),...e}));Xe.displayName="CardTitle";const Jn=x.forwardRef(({className:t,...e},r)=>h.jsx("p",{ref:r,className:J("text-sm text-muted-foreground",t),...e}));Jn.displayName="CardDescription";const Qe=x.forwardRef(({className:t,...e},r)=>h.jsx("div",{ref:r,className:J("p-6 pt-0",t),...e}));Qe.displayName="CardContent";const Yfe=x.forwardRef(({className:t,...e},r)=>h.jsx("div",{ref:r,className:J("flex items-center p-6 pt-0",t),...e}));Yfe.displayName="CardFooter";const ua={red:"Rosso",orange:"Arancione",yellow:"Giallo",blue:"Blu",purple:"Viola",pink:"Rosa",cyan:"Ciano",green:"Verde"};function wb(){const t=_s(),{data:e,isLoading:r}=Mo({queryKey:["goalCategorySettings"],queryFn:async()=>{const{data:{user:o}}=await be.auth.getUser();if(!o)return null;const{data:s,error:l}=await be.from("goal_category_settings").select("*").eq("user_id",o.id).single();return l&&l.code!=="PGRST116"&&console.error("Error fetching category settings:",l),s}}),n=_n({mutationFn:async o=>{const{data:{user:s}}=await be.auth.getUser();if(!s)throw new Error("Not authenticated");const{data:l}=await be.from("goal_category_settings").select("id").eq("user_id",s.id).single();if(l){const{error:c}=await be.from("goal_category_settings").update({mappings:o}).eq("id",l.id);if(c)throw c}else{const{error:c}=await be.from("goal_category_settings").insert({user_id:s.id,mappings:o});if(c)throw c}},onSuccess:()=>{t.invalidateQueries({queryKey:["longTermGoals"]}),t.invalidateQueries({queryKey:["goalCategorySettings"]}),Ze.success("Categorie aggiornate con successo")},onError:()=>{Ze.error("Errore durante l'aggiornamento delle categorie")}}),i=x.useMemo(()=>({...ua,...e==null?void 0:e.mappings}),[e]),a=o=>{var l;return o?((l=e==null?void 0:e.mappings)==null?void 0:l[o])||ua[o]||o:"Generale"};return{settings:e,isLoading:r,updateSettings:n.mutate,getLabel:a,categoryLabels:i}}function Xfe({year:t}){const{getLabel:e,settings:r}=wb(),{data:n,isLoading:i}=Mo({queryKey:["longTermGoals","stats",t],queryFn:async()=>{let A=[],P=0;const k=1e3;let C=!0;for(;C;){let N=be.from("long_term_goals").select("*");t!=="all"&&(N=N.eq("year",typeof t=="string"?parseInt(t):t));const{data:D,error:I}=await N.range(P,P+k-1);if(I)throw I;D&&D.length>0?(A=[...A,...D],D.length<k?C=!1:P+=k):C=!1}return A}});if(i)return h.jsx("div",{className:"flex justify-center p-8",children:h.jsx(no,{className:"w-8 h-8 animate-spin text-muted-foreground"})});if(!n||n.length===0)return h.jsxs("div",{className:"text-center p-12 border border-dashed border-white/10 rounded-xl text-muted-foreground",children:["Nessun dato disponibile per ",t==="all"?"il periodo selezionato":`il ${t}`,". Aggiungi qualche obiettivo!"]});const a=n.length,o=n.filter(A=>A.is_completed).length,s=Math.round(o/a*100)||0,l=n.length>0?Math.min(...n.map(A=>A.year)):new Date().getFullYear(),c={annual:n.filter(A=>A.type==="annual").length,quarterly:n.filter(A=>A.type==="quarterly").length,monthly:n.filter(A=>A.type==="monthly").length,weekly:n.filter(A=>A.type==="weekly").length},u=[{type:"Annuale",total:c.annual,completed:n.filter(A=>A.type==="annual"&&A.is_completed).length},{type:"Trimestrale",total:c.quarterly,completed:n.filter(A=>A.type==="quarterly"&&A.is_completed).length},{type:"Mensile",total:c.monthly,completed:n.filter(A=>A.type==="monthly"&&A.is_completed).length},{type:"Settimanale",total:c.weekly,completed:n.filter(A=>A.type==="weekly"&&A.is_completed).length}].map(A=>({...A,rate:A.total>0?Math.round(A.completed/A.total*100):0})).sort((A,P)=>P.rate-A.rate||P.completed-A.completed),d=u[0],f={};n.forEach(A=>{const P=A.color||"null",k=e(P==="null"?null:P),C=P==="null"?"Generale":ua[P]||P;(P==="null"||!(P!=="null"&&k===C))&&(f[P]||(f[P]={total:0,completed:0}),f[P].total++,A.is_completed&&f[P].completed++)});const p=Object.entries(f).map(([A,P])=>({subject:e(A==="null"?null:A),A:Math.round(P.completed/P.total*100),fullMark:100,total:P.total})).sort((A,P)=>P.A-A.A),g=p.length>0?p[0]:null,m={red:"#f43f5e",orange:"#f97316",yellow:"#fbbf24",green:"#10b981",blue:"#2563eb",purple:"#7c3aed",pink:"#d946ef",cyan:"#06b6d4",null:"#525252"},v=Object.entries(f).map(([A,P])=>({name:e(A==="null"?null:A),value:P.total,fill:m[A]||"#888888"})).sort((A,P)=>P.value-A.value);if(t==="all"){const A={};n.forEach(T=>{A[T.year]||(A[T.year]={total:0,completed:0,rate:0}),A[T.year].total++,T.is_completed&&A[T.year].completed++});const P=Object.entries(A).map(([T,R])=>({year:T,total:R.total,completed:R.completed,rate:Math.round(R.completed/R.total*100)||0})).sort((T,R)=>parseInt(T.year)-parseInt(R.year)),k=[...P].sort((T,R)=>R.rate-T.rate||R.completed-T.completed)[0],C=[...P].sort((T,R)=>R.completed-T.completed)[0],N=[1,2,3,4].map(T=>({name:`Q${T}`,total:0,completed:0,rate:0}));n.forEach(T=>{const R=T.quarter;if(R&&R>=1&&R<=4){const B=R-1;N[B].total++,T.is_completed&&N[B].completed++}}),N.forEach(T=>{T.rate=T.total>0?Math.round(T.completed/T.total*100):0});const D=Array.from({length:12},(T,R)=>({name:new Date(2024,R).toLocaleString("it-IT",{month:"short"}),monthIndex:R+1,total:0,completed:0,rate:0}));n.forEach(T=>{if(T.month&&T.month>=1&&T.month<=12){const R=T.month-1;D[R].total++,T.is_completed&&D[R].completed++}}),D.forEach(T=>{T.rate=T.total>0?Math.round(T.completed/T.total*100):0});const I=[];return Array.from(new Set(n.map(T=>T.year))).sort((T,R)=>T-R).forEach(T=>{const R=n.filter(M=>M.year===T),B={year:T.toString(),total:R.length};Object.keys(m).forEach(M=>{const q=e(M==="null"?null:M),X=M==="null"?"Generale":ua[M]||M;(M==="null"||!(M!=="null"&&q===X))&&(B[M]=0)}),R.forEach(M=>{const q=M.color||"null",X=e(q==="null"?null:q),H=q==="null"?"Generale":ua[q]||q;(q==="null"||!(q!=="null"&&X===H))&&B[q]!==void 0&&B[q]++}),I.push(B)}),h.jsxs("div",{className:"space-y-8 animate-fade-in pb-10",children:[h.jsxs("div",{className:"grid gap-6 md:grid-cols-4",children:[h.jsxs(Ge,{className:"bg-gradient-to-br from-indigo-500/10 to-blue-600/10 border-indigo-500/20 shadow-lg shadow-indigo-500/5",children:[h.jsxs(Ye,{className:"flex flex-row items-center justify-between pb-2",children:[h.jsx(Xe,{className:"text-sm font-medium text-indigo-400",children:"Totale Storico"}),h.jsx(na,{className:"h-4 w-4 text-indigo-500"})]}),h.jsxs(Qe,{children:[h.jsx("div",{className:"text-3xl font-bold text-white",children:a}),h.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Obiettivi tracciati dal ",l]})]})]}),h.jsxs(Ge,{className:"bg-gradient-to-br from-emerald-500/10 to-teal-500/10 border-emerald-500/20 shadow-lg shadow-emerald-500/5",children:[h.jsxs(Ye,{className:"flex flex-row items-center justify-between pb-2",children:[h.jsx(Xe,{className:"text-sm font-medium text-emerald-400",children:"Successo Globale"}),h.jsx(fo,{className:"h-4 w-4 text-emerald-500"})]}),h.jsxs(Qe,{children:[h.jsxs("div",{className:"text-3xl font-bold text-white",children:[s,"%"]}),h.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[o," obiettivi completati"]})]})]}),h.jsxs(Ge,{className:"bg-gradient-to-br from-amber-500/10 to-orange-500/10 border-amber-500/20 shadow-lg shadow-amber-500/5",children:[h.jsxs(Ye,{className:"flex flex-row items-center justify-between pb-2",children:[h.jsx(Xe,{className:"text-sm font-medium text-amber-400",children:"Anno Migliore"}),h.jsx(Dp,{className:"h-4 w-4 text-amber-500"})]}),h.jsxs(Qe,{children:[h.jsx("div",{className:"text-3xl font-bold text-white",children:(k==null?void 0:k.year)||"N/A"}),h.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[k==null?void 0:k.rate,"% completamento"]})]})]}),h.jsxs(Ge,{className:"bg-gradient-to-br from-cyan-500/10 to-sky-500/10 border-cyan-500/20 shadow-lg shadow-cyan-500/5",children:[h.jsxs(Ye,{className:"flex flex-row items-center justify-between pb-2",children:[h.jsx(Xe,{className:"text-sm font-medium text-cyan-400",children:"Anno Pi Produttivo"}),h.jsx(Nb,{className:"h-4 w-4 text-cyan-500"})]}),h.jsxs(Qe,{children:[h.jsx("div",{className:"text-3xl font-bold text-white",children:(C==null?void 0:C.year)||"N/A"}),h.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[C==null?void 0:C.total," obiettivi totali"]})]})]})]}),h.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[h.jsxs(Ge,{className:"md:col-span-2 bg-card/40 border-white/5 backdrop-blur-sm p-2",children:[h.jsxs(Ye,{children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(pu,{className:"w-5 h-5 text-blue-500"}),h.jsx(Xe,{children:"Progressione Annuale"})]}),h.jsx(Jn,{children:"Confronto anno per anno del volume di obiettivi e completamenti"})]}),h.jsx(Qe,{className:"h-[400px]",children:h.jsx(Bt,{width:"100%",height:"100%",children:h.jsxs(t1,{data:P,margin:{top:20,right:20,bottom:20,left:20},children:[h.jsx(gn,{strokeDasharray:"3 3",stroke:"#ffffff10",vertical:!1}),h.jsx(Et,{dataKey:"year",stroke:"#888888",fontSize:14,tickLine:!1,axisLine:!1}),h.jsx(St,{yAxisId:"left",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),h.jsx(St,{yAxisId:"right",orientation:"right",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,unit:"%",domain:[0,100]}),h.jsx(tt,{contentStyle:{backgroundColor:"#09090b",border:"1px solid #27272a",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.5)"},cursor:{fill:"#ffffff05"}}),h.jsx(jn,{wrapperStyle:{paddingTop:"20px"}}),h.jsx(_t,{yAxisId:"left",dataKey:"total",name:"Totale Obiettivi",fill:"#3b82f6",radius:[4,4,0,0],barSize:40,fillOpacity:.8}),h.jsx(_t,{yAxisId:"left",dataKey:"completed",name:"Completati",fill:"#10b981",radius:[4,4,0,0],barSize:40,fillOpacity:.8}),h.jsx(Si,{yAxisId:"right",type:"monotone",dataKey:"rate",name:"Tasso Successo %",stroke:"#f59e0b",strokeWidth:3,dot:{r:4,strokeWidth:2},activeDot:{r:6}})]})})})]}),h.jsxs(Ge,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[h.jsx(Ye,{children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(na,{className:"w-5 h-5 text-cyan-500"}),h.jsx(Xe,{children:"Performance per Categoria (Storico)"})]})}),h.jsx(Qe,{className:"h-[350px]",children:h.jsx(Bt,{width:"100%",height:"100%",children:h.jsxs(sg,{cx:"50%",cy:"50%",outerRadius:"65%",data:p,children:[h.jsx(Td,{stroke:"#ffffff20"}),h.jsx(ji,{dataKey:"subject",tick:{fill:"#a1a1aa",fontSize:13,fontWeight:500}}),h.jsx(Na,{angle:30,domain:[0,100],tick:!1,axisLine:!1}),h.jsx($a,{name:"Success Rate",dataKey:"A",stroke:"#06b6d4",fill:"#06b6d4",fillOpacity:.5}),h.jsx(tt,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"},formatter:T=>[`${T}%`,"Successo"]})]})})})]}),h.jsxs(Ge,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[h.jsx(Ye,{children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx($b,{className:"w-5 h-5 text-purple-500"}),h.jsx(Xe,{children:"Distribuzione Tipologie"})]})}),h.jsx(Qe,{className:"h-[350px]",children:h.jsx(Bt,{width:"100%",height:"100%",children:h.jsxs(ol,{data:u,layout:"vertical",margin:{left:20},children:[h.jsx(gn,{strokeDasharray:"3 3",stroke:"#ffffff10",horizontal:!0,vertical:!1}),h.jsx(Et,{type:"number",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),h.jsx(St,{dataKey:"type",type:"category",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,width:80}),h.jsx(tt,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},cursor:{fill:"#ffffff05"}}),h.jsx(_t,{dataKey:"rate",name:"Successo %",fill:"#8b5cf6",radius:[0,4,4,0],barSize:30})]})})})]}),h.jsxs(Ge,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[h.jsxs(Ye,{children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Dp,{className:"w-5 h-5 text-amber-500"}),h.jsx(Xe,{children:"Stagionalit (Performance Trimestrale)"})]}),h.jsx(Jn,{children:"Aggregato di tutti gli anni: in quale trimestre rendi meglio?"})]}),h.jsx(Qe,{className:"h-[350px]",children:h.jsx(Bt,{width:"100%",height:"100%",children:h.jsxs(ol,{data:N,children:[h.jsx(gn,{strokeDasharray:"3 3",stroke:"#ffffff10",vertical:!1}),h.jsx(Et,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),h.jsx(St,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),h.jsx(tt,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},cursor:{fill:"#ffffff05"}}),h.jsx(_t,{dataKey:"total",name:"Totale",fill:"#f59e0b",radius:[4,4,0,0],barSize:30,fillOpacity:.6}),h.jsx(_t,{dataKey:"completed",name:"Completati",fill:"#10b981",radius:[4,4,0,0],barSize:30})]})})})]}),h.jsxs(Ge,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[h.jsxs(Ye,{children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Nb,{className:"w-5 h-5 text-pink-500"}),h.jsx(Xe,{children:"Performance Mensile (Storico)"})]}),h.jsx(Jn,{children:"Successo medio per mese: scopri il tuo ritmo ideale"})]}),h.jsx(Qe,{className:"h-[350px]",children:h.jsx(Bt,{width:"100%",height:"100%",children:h.jsxs(Dfe,{data:D,children:[h.jsx(gn,{strokeDasharray:"3 3",stroke:"#ffffff10",vertical:!1}),h.jsx(Et,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),h.jsx(St,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,unit:"%",domain:[0,100]}),h.jsx(tt,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},cursor:{stroke:"#ffffff20"}}),h.jsx(Si,{type:"monotone",dataKey:"rate",name:"Tasso di Successo",stroke:"#ec4899",strokeWidth:3,dot:{r:4,strokeWidth:2,fill:"#1f1f1f"},activeDot:{r:6,fill:"#ec4899"}})]})})})]}),h.jsxs(Ge,{className:"md:col-span-2 bg-card/40 border-white/5 backdrop-blur-sm",children:[h.jsxs(Ye,{children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(pu,{className:"w-5 h-5 text-indigo-500"}),h.jsx(Xe,{children:"Evoluzione Interessi (Categorie)"})]}),h.jsx(Jn,{children:"Come sono cambiati i tuoi focus nel corso degli anni"})]}),h.jsx(Qe,{className:"h-[400px]",children:h.jsx(Bt,{width:"100%",height:"100%",children:h.jsxs(ol,{data:I,children:[h.jsx(gn,{strokeDasharray:"3 3",stroke:"#ffffff10",vertical:!1}),h.jsx(Et,{dataKey:"year",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),h.jsx(St,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),h.jsx(tt,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},cursor:{fill:"#ffffff05"}}),h.jsx(jn,{}),Object.entries(m).map(([T,R])=>{const B=e(T==="null"?null:T),M=T==="null"?"Generale":ua[T]||T;return T==="null"||!(T!=="null"&&B===M)?h.jsx(_t,{dataKey:T,name:B,stackId:"a",fill:R},T):null})]})})})]})]})]})}const w=typeof t=="string"?parseInt(t):t,y=Array.from({length:12},(A,P)=>({name:new Date(w,P).toLocaleString("it-IT",{month:"short"}),monthIndex:P+1,total:0,completed:0,rate:0,cumulativeTotal:0,cumulativeCompleted:0}));let O=0,_=0;n.forEach(A=>{let P=0;A.month&&(P=A.month-1),P<0&&(P=0),P>11&&(P=11),y[P].total++,A.is_completed&&y[P].completed++}),y.forEach(A=>{A.rate=A.total>0?Math.round(A.completed/A.total*100):0,O+=A.total,_+=A.completed,A.cumulativeTotal=O,A.cumulativeCompleted=_});const S=[1,2,3,4].map(A=>({name:`Q${A}`,quarterIndex:A,total:0,completed:0,rate:0}));n.filter(A=>A.quarter).forEach(A=>{if(A.quarter&&A.quarter>=1&&A.quarter<=4){const P=A.quarter-1;S[P].total++,A.is_completed&&S[P].completed++}}),S.forEach(A=>{A.rate=A.total>0?Math.round(A.completed/A.total*100):0});const E=[...y].filter(A=>A.total>0).sort((A,P)=>P.rate-A.rate||P.completed-A.completed)[0];return h.jsxs("div",{className:"space-y-6 animate-fade-in pb-10",children:[h.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[h.jsxs(Ge,{className:"bg-gradient-to-br from-purple-500/10 to-blue-500/10 border-purple-500/20",children:[h.jsxs(Ye,{className:"flex flex-row items-center justify-between pb-2",children:[h.jsx(Xe,{className:"text-sm font-medium text-purple-400",children:"Punto di Forza"}),h.jsx(YR,{className:"h-4 w-4 text-purple-500"})]}),h.jsxs(Qe,{children:[h.jsx("div",{className:"text-2xl font-bold text-white",children:(g==null?void 0:g.subject)||"N/A"}),h.jsx("p",{className:"text-xs text-muted-foreground",children:g?`${g.A}% di completamento`:"Nessun dato"})]})]}),h.jsxs(Ge,{className:"bg-gradient-to-br from-amber-500/10 to-orange-500/10 border-amber-500/20",children:[h.jsxs(Ye,{className:"flex flex-row items-center justify-between pb-2",children:[h.jsx(Xe,{className:"text-sm font-medium text-amber-400",children:"Mese Migliore"}),h.jsx(fo,{className:"h-4 w-4 text-amber-500"})]}),h.jsxs(Qe,{children:[h.jsx("div",{className:"text-2xl font-bold text-white",children:(E==null?void 0:E.name)||"N/A"}),h.jsx("p",{className:"text-xs text-muted-foreground",children:E?`${E.rate}% di successo (${E.completed}/${E.total})`:"Nessuna attivit"})]})]}),h.jsxs(Ge,{className:"bg-gradient-to-br from-emerald-500/10 to-cyan-500/10 border-emerald-500/20",children:[h.jsxs(Ye,{className:"flex flex-row items-center justify-between pb-2",children:[h.jsx(Xe,{className:"text-sm font-medium text-emerald-400",children:"Tipologia Efficace"}),h.jsx($b,{className:"h-4 w-4 text-emerald-500"})]}),h.jsxs(Qe,{children:[h.jsx("div",{className:"text-2xl font-bold text-white capitalize",children:d.total>0?d.type:"N/A"}),h.jsx("p",{className:"text-xs text-muted-foreground",children:d.total>0?`${d.rate}% di successo`:"Dati insufficienti"})]})]})]}),h.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[h.jsxs(Ge,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[h.jsxs(Ye,{className:"flex flex-row items-center justify-between pb-2",children:[h.jsx(Xe,{className:"text-sm font-medium text-muted-foreground",children:"Totale"}),h.jsx(na,{className:"h-4 w-4 text-primary"})]}),h.jsx(Qe,{children:h.jsx("div",{className:"text-2xl font-bold text-white",children:a})})]}),h.jsxs(Ge,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[h.jsxs(Ye,{className:"flex flex-row items-center justify-between pb-2",children:[h.jsx(Xe,{className:"text-sm font-medium text-muted-foreground",children:"Completati"}),h.jsx($R,{className:"h-4 w-4 text-green-500"})]}),h.jsx(Qe,{children:h.jsx("div",{className:"text-2xl font-bold text-white",children:o})})]}),h.jsxs(Ge,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[h.jsxs(Ye,{className:"flex flex-row items-center justify-between pb-2",children:[h.jsx(Xe,{className:"text-sm font-medium text-muted-foreground",children:"Successo"}),h.jsx(fo,{className:"h-4 w-4 text-yellow-500"})]}),h.jsx(Qe,{children:h.jsxs("div",{className:"text-2xl font-bold text-white",children:[s,"%"]})})]}),h.jsxs(Ge,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[h.jsxs(Ye,{className:"flex flex-row items-center justify-between pb-2",children:[h.jsx(Xe,{className:"text-sm font-medium text-muted-foreground",children:"Trend"}),h.jsx(pu,{className:"h-4 w-4 text-blue-500"})]}),h.jsx(Qe,{children:h.jsx("div",{className:"text-2xl font-bold text-white",children:_>0?"In Crescita":"Stabile"})})]})]}),h.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[h.jsxs(Ge,{className:"md:col-span-2 bg-card/40 border-white/5 backdrop-blur-sm",children:[h.jsxs(Ye,{children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(zR,{className:"w-5 h-5 text-orange-500"}),h.jsx(Xe,{children:"Velocit di Esecuzione (Cumulativa)"})]}),h.jsx(Jn,{children:"Confronto tra obiettivi pianificati e completati nel tempo"})]}),h.jsx(Qe,{className:"h-[350px]",children:h.jsx(Bt,{width:"100%",height:"100%",children:h.jsxs(KN,{data:y,children:[h.jsxs("defs",{children:[h.jsxs("linearGradient",{id:"colorTotal",x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.3}),h.jsx("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})]}),h.jsxs("linearGradient",{id:"colorCompleted",x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"5%",stopColor:"#82ca9d",stopOpacity:.3}),h.jsx("stop",{offset:"95%",stopColor:"#82ca9d",stopOpacity:0})]})]}),h.jsx(Et,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),h.jsx(St,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),h.jsx(gn,{strokeDasharray:"3 3",stroke:"#ffffff10"}),h.jsx(tt,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"}}),h.jsx(Ur,{type:"monotone",dataKey:"cumulativeTotal",stroke:"#8884d8",fillOpacity:1,fill:"url(#colorTotal)",name:"Obiettivi Totali"}),h.jsx(Ur,{type:"monotone",dataKey:"cumulativeCompleted",stroke:"#82ca9d",fillOpacity:1,fill:"url(#colorCompleted)",name:"Obiettivi Completati"})]})})})]}),h.jsxs(Ge,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[h.jsxs(Ye,{children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(na,{className:"w-5 h-5 text-cyan-500"}),h.jsx(Xe,{children:"Performance Categorie"})]}),h.jsx(Jn,{children:"Tasso di successo per categoria"})]}),h.jsx(Qe,{className:"h-[350px]",children:h.jsx(Bt,{width:"100%",height:"100%",children:h.jsxs(sg,{cx:"50%",cy:"50%",outerRadius:"65%",data:p,children:[h.jsx(Td,{stroke:"#ffffff20"}),h.jsx(ji,{dataKey:"subject",tick:{fill:"#a1a1aa",fontSize:13,fontWeight:500}}),h.jsx(Na,{angle:30,domain:[0,100],tick:!1,axisLine:!1}),h.jsx($a,{name:"Success Rate",dataKey:"A",stroke:"#06b6d4",fill:"#06b6d4",fillOpacity:.5}),h.jsx(tt,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"},formatter:A=>[`${A}%`,"Successo"]})]})})})]})]}),h.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[h.jsxs(Ge,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[h.jsxs(Ye,{children:[h.jsx(Xe,{children:"Attivit Trimestrale"}),h.jsx(Jn,{children:"Progressione Q1 - Q4"})]}),h.jsx(Qe,{className:"h-[300px]",children:h.jsx(Bt,{width:"100%",height:"100%",children:h.jsxs(ol,{data:S,children:[h.jsx(Et,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),h.jsx(St,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),h.jsx(tt,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"},cursor:{fill:"#ffffff05"}}),h.jsx(gn,{stroke:"#ffffff10",vertical:!1}),h.jsx(_t,{dataKey:"total",name:"Pianificati",fill:"#f59e0b",radius:[4,4,0,0],barSize:30,fillOpacity:.7}),h.jsx(_t,{dataKey:"completed",name:"Completati",fill:"#10b981",radius:[4,4,0,0],barSize:30})]})})})]}),h.jsxs(Ge,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[h.jsx(Ye,{children:h.jsx(Xe,{children:"Attivit Mensile"})}),h.jsx(Qe,{className:"h-[300px]",children:h.jsx(Bt,{width:"100%",height:"100%",children:h.jsxs(t1,{data:y,children:[h.jsx(Et,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),h.jsx(St,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),h.jsx(tt,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"}}),h.jsx(gn,{stroke:"#ffffff10"}),h.jsx(_t,{dataKey:"total",barSize:20,fill:"#413ea0",radius:[4,4,0,0],name:"Creati"}),h.jsx(Si,{type:"monotone",dataKey:"completed",stroke:"#ff7300",strokeWidth:2,name:"Completati"})]})})})]}),h.jsxs(Ge,{className:"md:col-span-2 bg-card/40 border-white/5 backdrop-blur-sm",children:[h.jsx(Ye,{children:h.jsx(Xe,{children:"Distribuzione Categorie"})}),h.jsx(Qe,{className:"h-[300px]",children:h.jsx(Bt,{width:"100%",height:"100%",children:h.jsxs(Lfe,{children:[h.jsx(qn,{data:v,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:v.map((A,P)=>h.jsx(Is,{fill:A.fill},`cell-${P}`))}),h.jsx(tt,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"}}),h.jsx(jn,{formatter:(A,P)=>h.jsx("span",{style:{color:"#ccc"},children:A})})]})})})]})]})]})}const Qfe={red:"bg-rose-500",orange:"bg-orange-500",yellow:"bg-amber-400",blue:"bg-blue-600",purple:"bg-violet-600",pink:"bg-fuchsia-500",cyan:"bg-cyan-500"};function Jfe(){const{categoryLabels:t,updateSettings:e}=wb(),[r,n]=x.useState(t),[i,a]=x.useState(!1);x.useEffect(()=>{i&&n(t)},[i]);const o=()=>{e(r),a(!1)},s=(l,c)=>{n(u=>({...u,[l]:c}))};return h.jsxs(iy,{open:i,onOpenChange:a,children:[h.jsx(XE,{asChild:!0,children:h.jsx(Tt,{variant:"outline",size:"icon",title:"Impostazioni Categorie",children:h.jsx(HR,{className:"w-4 h-4"})})}),h.jsxs(Of,{className:"sm:max-w-[425px]",children:[h.jsxs(Af,{children:[h.jsx(Ef,{children:"Personalizza Categorie"}),h.jsx(Pf,{children:"Assegna un nome personalizzato ad ogni colore per organizzare meglio i tuoi obiettivi."})]}),h.jsx("div",{className:"grid gap-4 py-4",children:Object.entries(ua).map(([l,c])=>h.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[h.jsx("div",{className:"flex items-center gap-2 col-span-1",children:h.jsx("div",{className:J("w-4 h-4 rounded-full",Qfe[l])})}),h.jsx(Bo,{id:l,value:r[l]||"",placeholder:c,onChange:u=>s(l,u.target.value),className:"col-span-3 h-9"})]},l))}),h.jsx(JE,{children:h.jsx(Tt,{type:"submit",onClick:o,children:"Salva Modifiche"})})]})]})}function Zfe(){const t=_s(),[e,r]=x.useState(!1),[n,i]=x.useState(!1);return{exportBackup:async(s={scope:"all"})=>{r(!0);try{const{data:{user:l}}=await be.auth.getUser();if(!l)throw new Error("Not authenticated");let c=be.from("long_term_goals").select("*").eq("user_id",l.id);s.scope==="year"&&s.year&&(c=c.eq("year",s.year));const{data:u,error:d}=await c;if(d)throw d;const{data:f,error:p}=await be.from("goal_category_settings").select("*").eq("user_id",l.id).single();if(p&&p.code!=="PGRST116")throw p;const g={version:1,timestamp:new Date().toISOString(),goals:u||[],settings:f||null},m=s.scope==="all"?`habit_tracker_FULL_backup_${new Date().toISOString().split("T")[0]}.json`:`habit_tracker_${s.year}_backup.json`,v=new Blob([JSON.stringify(g,null,2)],{type:"application/json"}),b=URL.createObjectURL(v),w=document.createElement("a");w.href=b,w.download=m,document.body.appendChild(w),w.click(),document.body.removeChild(w),URL.revokeObjectURL(b),Ze.success("Backup scaricato con successo")}catch(l){console.error("Export failed:",l),Ze.error(`Errore durante l'export: ${l.message}`)}finally{r(!1)}},importBackup:async s=>(i(!0),new Promise(l=>{const c=new FileReader;c.onload=async u=>{var d;try{const f=(d=u.target)==null?void 0:d.result;if(!f){l(null);return}const p=JSON.parse(f);if(!p.version||!Array.isArray(p.goals))throw new Error("Formato file non valido (manca versione o goals)");const{data:{user:g}}=await be.auth.getUser();if(!g)throw new Error("Not authenticated");const{data:m,error:v}=await be.from("long_term_goals").select("*").eq("user_id",g.id);if(v)throw v;const b=new Map(m==null?void 0:m.map(A=>[A.id,A])),w=new Set,y=[],O=[];let _=0;const S=[];for(const A of p.goals){let P={...A,user_id:g.id},k=b.get(P.id);if(!k){const C=m==null?void 0:m.find(N=>!w.has(N.id)&&N.title===P.title&&N.type===P.type&&N.year===P.year);C&&(k=C,P.id=C.id)}k?(w.add(k.id),k.title!==P.title||k.is_completed!==P.is_completed||k.type!==P.type||k.year!==P.year||k.month!==P.month||k.week_number!==P.week_number||k.color!==P.color?(O.push(P),S.push(P)):_++):(y.push(P),S.push(P))}if(S.length>0){const{error:A}=await be.from("long_term_goals").upsert(S);if(A)throw A}let E=!1;if(p.settings){const{data:A}=await be.from("goal_category_settings").select("*").eq("user_id",g.id).single(),P={user_id:g.id,mappings:p.settings.mappings};(!A||JSON.stringify(A.mappings)!==JSON.stringify(P.mappings))&&(A?await be.from("goal_category_settings").update({mappings:P.mappings}).eq("id",A.id):await be.from("goal_category_settings").insert(P),E=!0)}await t.invalidateQueries({queryKey:["longTermGoals"]}),await t.invalidateQueries({queryKey:["goalCategorySettings"]}),l({totalProcessed:p.goals.length,restored:y,updated:O,unchanged:_,settingsUpdated:E})}catch(f){console.error("Import failed:",f),Ze.error(`Errore durante l'importazione: ${f.message}`),l(null)}finally{i(!1)}},c.readAsText(s)})),isExporting:e,isImporting:n}}var xb="Radio",[ehe,t$]=Ht(xb),[the,rhe]=ehe(xb),r$=x.forwardRef((t,e)=>{const{__scopeRadio:r,name:n,checked:i=!1,required:a,disabled:o,value:s="on",onCheck:l,form:c,...u}=t,[d,f]=x.useState(null),p=ge(e,v=>f(v)),g=x.useRef(!1),m=d?c||!!d.closest("form"):!0;return h.jsxs(the,{scope:r,checked:i,disabled:o,children:[h.jsx(se.button,{type:"button",role:"radio","aria-checked":i,"data-state":o$(i),"data-disabled":o?"":void 0,disabled:o,value:s,...u,ref:p,onClick:oe(t.onClick,v=>{i||l==null||l(),m&&(g.current=v.isPropagationStopped(),g.current||v.stopPropagation())})}),m&&h.jsx(a$,{control:d,bubbles:!g.current,name:n,value:s,checked:i,required:a,disabled:o,form:c,style:{transform:"translateX(-100%)"}})]})});r$.displayName=xb;var n$="RadioIndicator",i$=x.forwardRef((t,e)=>{const{__scopeRadio:r,forceMount:n,...i}=t,a=rhe(n$,r);return h.jsx(un,{present:n||a.checked,children:h.jsx(se.span,{"data-state":o$(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e})})});i$.displayName=n$;var nhe="RadioBubbleInput",a$=x.forwardRef(({__scopeRadio:t,control:e,checked:r,bubbles:n=!0,...i},a)=>{const o=x.useRef(null),s=ge(o,a),l=jf(r),c=uf(e);return x.useEffect(()=>{const u=o.current;if(!u)return;const d=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==r&&p){const g=new Event("click",{bubbles:n});p.call(u,r),u.dispatchEvent(g)}},[l,r,n]),h.jsx(se.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});a$.displayName=nhe;function o$(t){return t?"checked":"unchecked"}var ihe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Nh="RadioGroup",[ahe,zpe]=Ht(Nh,[If,t$]),s$=If(),l$=t$(),[ohe,she]=ahe(Nh),c$=x.forwardRef((t,e)=>{const{__scopeRadioGroup:r,name:n,defaultValue:i,value:a,required:o=!1,disabled:s=!1,orientation:l,dir:c,loop:u=!0,onValueChange:d,...f}=t,p=s$(r),g=xc(c),[m,v]=kn({prop:a,defaultProp:i??null,onChange:d,caller:Nh});return h.jsx(ohe,{scope:r,name:n,required:o,disabled:s,value:m,onValueChange:v,children:h.jsx(Aj,{asChild:!0,...p,orientation:l,dir:g,loop:u,children:h.jsx(se.div,{role:"radiogroup","aria-required":o,"aria-orientation":l,"data-disabled":s?"":void 0,dir:g,...f,ref:e})})})});c$.displayName=Nh;var u$="RadioGroupItem",d$=x.forwardRef((t,e)=>{const{__scopeRadioGroup:r,disabled:n,...i}=t,a=she(u$,r),o=a.disabled||n,s=s$(r),l=l$(r),c=x.useRef(null),u=ge(e,c),d=a.value===i.value,f=x.useRef(!1);return x.useEffect(()=>{const p=m=>{ihe.includes(m.key)&&(f.current=!0)},g=()=>f.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",g)}},[]),h.jsx(Ej,{asChild:!0,...s,focusable:!o,active:d,children:h.jsx(r$,{disabled:o,required:a.required,checked:d,...l,...i,name:a.name,ref:u,onCheck:()=>a.onValueChange(i.value),onKeyDown:oe(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:oe(i.onFocus,()=>{var p;f.current&&((p=c.current)==null||p.click())})})})});d$.displayName=u$;var lhe="RadioGroupIndicator",f$=x.forwardRef((t,e)=>{const{__scopeRadioGroup:r,...n}=t,i=l$(r);return h.jsx(i$,{...i,...n,ref:e})});f$.displayName=lhe;var h$=c$,p$=d$,che=f$;const m$=x.forwardRef(({className:t,...e},r)=>h.jsx(h$,{className:J("grid gap-2",t),...e,ref:r}));m$.displayName=h$.displayName;const lg=x.forwardRef(({className:t,...e},r)=>h.jsx(p$,{ref:r,className:J("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:h.jsx(che,{className:"flex items-center justify-center",children:h.jsx(RR,{className:"h-2.5 w-2.5 fill-current text-current"})})}));lg.displayName=p$.displayName;function uhe(){var Q;const[t,e]=x.useState(new Date().getFullYear().toString()),[r,n]=x.useState(AB(new Date)),[i,a]=x.useState(new Date().getMonth()+1),[o,s]=x.useState(j5(new Date,{weekStartsOn:1})),[l,c]=x.useState("weekly"),[u,d]=x.useState("all"),[f,p]=x.useState(null),[g,m]=x.useState(""),[v,b]=x.useState(null),w=_s(),{getLabel:y}=wb(),{isPrivacyMode:O}=Hg(),_=F=>{var K;return((K=[{value:null,class:"bg-card/20 border-white/5"},{value:"red",class:"bg-rose-500/15 border-rose-500/30 hover:bg-rose-500/25"},{value:"orange",class:"bg-orange-500/15 border-orange-500/30 hover:bg-orange-500/25"},{value:"yellow",class:"bg-amber-400/15 border-amber-400/30 hover:bg-amber-400/25"},{value:"blue",class:"bg-blue-600/15 border-blue-600/30 hover:bg-blue-600/25"},{value:"purple",class:"bg-violet-600/15 border-violet-600/30 hover:bg-violet-600/25"},{value:"pink",class:"bg-fuchsia-500/15 border-fuchsia-500/30 hover:bg-fuchsia-500/25"},{value:"cyan",class:"bg-cyan-500/15 border-cyan-500/30 hover:bg-cyan-500/25"}].find(G=>G.value===F))==null?void 0:K.class)||"bg-card/20 border-white/5 hover:bg-card/40"},S=[{value:"red",bg:"bg-rose-500"},{value:"orange",bg:"bg-orange-500"},{value:"yellow",bg:"bg-amber-400"},{value:"green",bg:"bg-emerald-500"},{value:"blue",bg:"bg-blue-600"},{value:"purple",bg:"bg-violet-600"},{value:"pink",bg:"bg-fuchsia-500"},{value:"cyan",bg:"bg-cyan-500"}].filter(F=>F.value!=="green"),E=[{value:1,label:"1 Trimestre (Q1)"},{value:2,label:"2 Trimestre (Q2)"},{value:3,label:"3 Trimestre (Q3)"},{value:4,label:"4 Trimestre (Q4)"}],{data:A,isLoading:P}=Mo({queryKey:["longTermGoals",l,t,r,i,o],queryFn:async()=>{let F=be.from("long_term_goals").select("*").eq("type",l).order("is_completed",{ascending:!0}).order("color",{ascending:!0,nullsFirst:!1}).order("created_at",{ascending:!0});t!=="all"&&(F=F.eq("year",parseInt(t))),l==="quarterly"?F=F.eq("quarter",r):l==="monthly"?F=F.eq("month",i):l==="weekly"&&(F=F.eq("month",i).eq("week_number",o));const{data:U,error:K}=await F;if(K)throw K;return U},enabled:l!=="stats"}),k=_n({mutationFn:async({title:F,color:U})=>{const{data:{user:K}}=await be.auth.getUser();if(!K)throw new Error("Not authenticated");const G={user_id:K.id,title:F,type:l,year:t==="all"?new Date().getFullYear():parseInt(t),quarter:l==="quarterly"?r:null,month:l==="monthly"||l==="weekly"?i:null,week_number:l==="weekly"?o:null,is_completed:!1,color:U},{data:W,error:ve}=await be.from("long_term_goals").insert(G).select().single();if(ve)throw ve;return W},onSuccess:()=>{m(""),b(null),w.invalidateQueries({queryKey:["longTermGoals"]}),Ze.success("Obiettivo creato!")},onError:F=>{Ze.error(`Errore durante la creazione: ${F.message}`)}}),C=_n({mutationFn:async({id:F,is_completed:U})=>{const{error:K}=await be.from("long_term_goals").update({is_completed:U}).eq("id",F);if(K)throw K},onSuccess:()=>{w.invalidateQueries({queryKey:["longTermGoals"]})}}),N=_n({mutationFn:async({id:F,color:U})=>{const{error:K}=await be.from("long_term_goals").update({color:U}).eq("id",F);if(K)throw K},onSuccess:()=>{w.invalidateQueries({queryKey:["longTermGoals"]})},onError:()=>{Ze.error("Errore aggiornamento colore")}}),D=_n({mutationFn:async F=>{const{error:U}=await be.from("long_term_goals").delete().eq("id",F);if(U)throw U},onSuccess:()=>{w.invalidateQueries({queryKey:["longTermGoals"]}),Ze.success("Obiettivo eliminato")}}),I=F=>{F.preventDefault(),g.trim()&&k.mutate({title:g,color:v})},L=x.useRef(null),{exportBackup:T,importBackup:R,isExporting:B,isImporting:M}=Zfe(),q=()=>{var F;(F=L.current)==null||F.click()},X=async F=>{var G;const U=(G=F.target.files)==null?void 0:G[0];if(!U)return;const K=await R(U);K&&p(K),L.current&&(L.current.value="")},H=[{value:1,label:"Gennaio"},{value:2,label:"Febbraio"},{value:3,label:"Marzo"},{value:4,label:"Aprile"},{value:5,label:"Maggio"},{value:6,label:"Giugno"},{value:7,label:"Luglio"},{value:8,label:"Agosto"},{value:9,label:"Settembre"},{value:10,label:"Ottobre"},{value:11,label:"Novembre"},{value:12,label:"Dicembre"}],{data:V}=Mo({queryKey:["longTermGoals","minYear"],queryFn:async()=>{const{data:F,error:U}=await be.from("long_term_goals").select("year").order("year",{ascending:!0}).limit(1).single();return U&&U.code!=="PGRST116"&&console.error("Error fetching min year:",U),(F==null?void 0:F.year)||2022}}),ee=V||2022,ie=new Date().getFullYear(),_e=Array.from({length:ie+5-ee+1},(F,U)=>ee+U);return h.jsxs("div",{className:"space-y-6 animate-fade-in p-2 md:p-0",children:[h.jsx(Vu,{open:!!f,onOpenChange:F=>!F&&p(null),children:h.jsxs(Sl,{className:"max-w-3xl max-h-[85vh] overflow-y-auto",children:[h.jsxs(Ol,{children:[h.jsx(El,{children:"Rapporto Importazione"}),h.jsx(Pl,{children:"Ecco il dettaglio delle modifiche apportate ai tuoi dati."})]}),h.jsxs("div",{className:"space-y-6 py-4",children:[h.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[h.jsxs("div",{className:"p-4 bg-green-500/10 border border-green-500/20 rounded-xl flex flex-col items-center justify-center text-center",children:[h.jsx("span",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:(f==null?void 0:f.restored.length)||0}),h.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mt-1",children:"Nuovi"})]}),h.jsxs("div",{className:"p-4 bg-amber-500/10 border border-amber-500/20 rounded-xl flex flex-col items-center justify-center text-center",children:[h.jsx("span",{className:"text-3xl font-bold text-amber-600 dark:text-amber-400",children:(f==null?void 0:f.updated.length)||0}),h.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mt-1",children:"Modificati"})]}),h.jsxs("div",{className:"p-4 bg-slate-500/10 border border-slate-500/20 rounded-xl flex flex-col items-center justify-center text-center opacity-70",children:[h.jsx("span",{className:"text-3xl font-bold text-slate-600 dark:text-slate-400",children:(f==null?void 0:f.unchanged)||0}),h.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mt-1",children:"Invariati"})]})]}),(f==null?void 0:f.settingsUpdated)&&h.jsxs("div",{className:"flex items-center gap-3 text-sm text-yellow-600 bg-yellow-50 dark:bg-yellow-900/20 dark:text-yellow-400 p-3 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[h.jsx("span",{className:"flex h-2 w-2 rounded-full bg-yellow-500 animate-pulse"}),h.jsx("span",{children:"Le impostazioni delle categorie sono state aggiornate con successo."})]}),h.jsxs("div",{className:"space-y-6",children:[(f==null?void 0:f.restored)&&f.restored.length>0&&h.jsxs("div",{className:"space-y-3",children:[h.jsxs("h4",{className:"font-semibold flex items-center gap-2 text-green-600 dark:text-green-400",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-current"}),"Elementi Aggiunti / Ripristinati"]}),h.jsx("div",{className:"space-y-4 pl-4 border-l-2 border-green-100 dark:border-green-900/30",children:Object.entries(f.restored.reduce((F,U)=>{const K=y(U.color||"default");return F[K]||(F[K]=[]),F[K].push(U),F},{})).map(([F,U])=>h.jsxs("div",{className:"space-y-2",children:[h.jsx("div",{className:"text-xs font-bold uppercase text-muted-foreground tracking-widest",children:F}),h.jsx("div",{className:"grid gap-2",children:U.map(K=>h.jsxs("div",{className:"bg-secondary/40 p-3 rounded-md flex justify-between items-start gap-3 text-sm",children:[h.jsx("span",{className:"font-medium",children:K.title}),h.jsxs("span",{className:"shrink-0 text-xs px-2 py-0.5 bg-background rounded border opacity-70",children:[K.year,"  ",K.type]})]},K.id))})]},F))})]}),(f==null?void 0:f.updated)&&f.updated.length>0&&h.jsxs("div",{className:"space-y-3",children:[h.jsxs("h4",{className:"font-semibold flex items-center gap-2 text-amber-600 dark:text-amber-400",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-current"}),"Elementi Aggiornati"]}),h.jsx("div",{className:"space-y-4 pl-4 border-l-2 border-amber-100 dark:border-amber-900/30",children:Object.entries(f.updated.reduce((F,U)=>{const K=y(U.color||"default");return F[K]||(F[K]=[]),F[K].push(U),F},{})).map(([F,U])=>h.jsxs("div",{className:"space-y-2",children:[h.jsx("div",{className:"text-xs font-bold uppercase text-muted-foreground tracking-widest",children:F}),h.jsx("div",{className:"grid gap-2",children:U.map(K=>h.jsxs("div",{className:"bg-secondary/40 p-3 rounded-md flex justify-between items-start gap-3 text-sm",children:[h.jsx("span",{className:"font-medium",children:K.title}),h.jsxs("span",{className:"shrink-0 text-xs px-2 py-0.5 bg-background rounded border opacity-70",children:[K.year,"  ",K.type]})]},K.id))})]},F))})]})]})]}),h.jsx(Al,{children:h.jsx(jl,{onClick:()=>p(null),children:"Chiudi Report"})})]})}),h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"flex justify-center w-full",children:h.jsx(fy,{value:l,onValueChange:F=>c(F),className:"w-full max-w-2xl",children:h.jsxs(Df,{className:"grid w-full grid-cols-5 p-1 bg-secondary/30 backdrop-blur-sm border border-white/5",children:[h.jsx(hr,{value:"annual",children:"Annuale"}),h.jsx(hr,{value:"quarterly",children:"Trimestrale"}),h.jsx(hr,{value:"monthly",children:"Mensile"}),h.jsx(hr,{value:"weekly",children:"Settimanale"}),h.jsxs(hr,{value:"stats",className:"gap-2",children:[h.jsx(U1,{className:"w-4 h-4"})," Stats"]})]})})}),h.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 p-4 rounded-2xl bg-card/40 border border-white/5 backdrop-blur-xl transition-all duration-300",children:[h.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto w-full md:w-auto scrollbar-hide",children:[h.jsxs(Yi,{value:t,onValueChange:F=>e(F),children:[h.jsx(Zn,{className:"w-[120px] bg-background/40 border-white/5",children:h.jsx(il,{placeholder:"Anno"})}),h.jsxs(ei,{children:[h.jsxs(Cr,{value:"all",className:"font-bold text-primary",children:["Dal ",ee]}),_e.map(F=>h.jsx(Cr,{value:F.toString(),className:J(F<ie&&"text-muted-foreground italic"),children:F},F))]})]}),l==="quarterly"&&h.jsxs(Yi,{value:r.toString(),onValueChange:F=>n(parseInt(F)),children:[h.jsx(Zn,{className:"w-[160px] bg-background/40 border-white/5",children:h.jsx(il,{placeholder:"Trimestre"})}),h.jsx(ei,{children:E.map(F=>h.jsx(Cr,{value:F.value.toString(),children:F.label},F.value))})]}),(l==="monthly"||l==="weekly")&&h.jsxs(Yi,{value:i.toString(),onValueChange:F=>{a(parseInt(F)),s(1)},children:[h.jsx(Zn,{className:"w-[140px] bg-background/40 border-white/5",children:h.jsx(il,{placeholder:"Mese"})}),h.jsx(ei,{children:H.map(F=>h.jsx(Cr,{value:F.value.toString(),className:J(t!=="all"&&parseInt(t)<ie||t===ie.toString()&&F.value<new Date().getMonth()+1&&"text-muted-foreground italic"),children:F.label},F.value))})]}),l==="weekly"&&h.jsxs(Yi,{value:o.toString(),onValueChange:F=>s(parseInt(F)),children:[h.jsx(Zn,{className:"w-[140px] bg-background/40 border-white/5",children:h.jsx(il,{placeholder:"Settimana"})}),h.jsx(ei,{children:Array.from({length:C5(new Date(t==="all"?ie:parseInt(t),i-1,1),{weekStartsOn:1})},(F,U)=>U+1).map(F=>h.jsxs(Cr,{value:F.toString(),className:J(t!=="all"&&parseInt(t)<ie||t===ie.toString()&&i<new Date().getMonth()+1&&"text-muted-foreground italic"),children:["Settimana ",F]},F))})]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs(Vu,{children:[h.jsx(uy,{asChild:!0,children:h.jsx(Tt,{variant:"ghost",size:"icon",className:"hover:bg-white/5",title:"Esporta Backup (JSON)",children:h.jsx(H1,{className:"w-4 h-4 text-muted-foreground"})})}),h.jsxs(Sl,{className:"sm:max-w-md",children:[h.jsxs(Ol,{children:[h.jsx(El,{children:"Backup Obiettivi"}),h.jsx(Pl,{children:"Crea un backup dei tuoi obiettivi e impostazioni. I file sono in formato JSON."})]}),h.jsx("div",{className:"py-4",children:h.jsxs(m$,{value:u,onValueChange:F=>d(F),children:[h.jsxs("div",{className:"flex items-center space-x-2 border p-3 rounded-lg hover:bg-accent cursor-pointer",onClick:()=>d("all"),children:[h.jsx(lg,{value:"all",id:"r1"}),h.jsxs(Fo,{htmlFor:"r1",className:"cursor-pointer flex-1",children:[h.jsx("div",{className:"font-medium",children:"Esporta Tutto"}),h.jsx("div",{className:"text-xs text-muted-foreground",children:"Tutti gli anni, mesi e impostazioni"})]})]}),h.jsxs("div",{className:"flex items-center space-x-2 border p-3 rounded-lg hover:bg-accent cursor-pointer",onClick:()=>d("year"),children:[h.jsx(lg,{value:"year",id:"r2"}),h.jsxs(Fo,{htmlFor:"r2",className:"cursor-pointer flex-1",children:[h.jsxs("div",{className:"font-medium",children:["Solo ",t==="all"?ie:t]}),h.jsx("div",{className:"text-xs text-muted-foreground",children:"Solo obiettivi di questo anno e impostazioni"})]})]})]})}),h.jsxs(Al,{children:[h.jsx(Rf,{children:"Annulla"}),h.jsxs(jl,{onClick:()=>T({scope:u,year:t==="all"?ie:parseInt(t)}),disabled:B,children:[B?h.jsx(no,{className:"w-4 h-4 animate-spin mr-2"}):null,"Scarica Backup"]})]})]})]}),h.jsx(Tt,{variant:"ghost",size:"icon",className:"hover:bg-white/5",title:"Ripristina da Backup (JSON)",onClick:q,disabled:M,children:M?h.jsx(no,{className:"w-4 h-4 animate-spin"}):h.jsx(GR,{className:"w-4 h-4 text-muted-foreground"})}),h.jsx("input",{type:"file",ref:L,onChange:X,accept:".json",className:"hidden"}),h.jsx("div",{className:"ml-1",children:h.jsx(Jfe,{})})]})]}),l!=="stats"&&h.jsxs("div",{className:J("text-2xl font-bold tracking-tight text-white flex items-center gap-3 transition-all duration-300 pl-2",O&&"blur-sm"),children:[l==="annual"&&h.jsx("span",{className:"text-primary",children:t==="all"?"Tutti gli anni":t}),l==="quarterly"&&h.jsxs("span",{className:"text-amber-500",children:["Q",r," ",t!=="all"&&t]}),l==="monthly"&&h.jsx("span",{className:"text-blue-400",children:(Q=H.find(F=>F.value===i))==null?void 0:Q.label}),l==="weekly"&&h.jsxs("span",{className:"text-purple-400",children:["Settimana ",o]}),h.jsx("span",{className:"text-muted-foreground text-lg font-normal",children:l==="annual"?"Obiettivi Annuali":l==="quarterly"?"Obiettivi Trimestrali":l==="monthly"?"Obiettivi Mensili":"Obiettivi Settimanali"})]})]}),l==="stats"?h.jsx(Xfe,{year:t}):h.jsxs("div",{className:J("transition-all duration-300",O&&"blur-sm"),children:[h.jsxs("form",{onSubmit:I,className:"flex gap-2",children:[h.jsx(Bo,{className:"flex-1 bg-background/50",placeholder:`Aggiungi obiettivo ${l==="annual"?"annuale":l==="quarterly"?"trimestrale":l==="monthly"?"mensile":"settimanale"}...`,value:g,onChange:F=>m(F.target.value)}),h.jsxs(Yi,{value:v||"null",onValueChange:F=>b(F==="null"?null:F),children:[h.jsx(Zn,{className:"w-[50px] px-2 bg-background/50 border-input",children:h.jsx("div",{className:"flex items-center justify-center w-full",children:h.jsx("div",{className:J("w-4 h-4 rounded-full",{"bg-muted border border-foreground/20":!v,"bg-rose-500":v==="red","bg-orange-500":v==="orange","bg-amber-400":v==="yellow","bg-blue-600":v==="blue","bg-violet-600":v==="purple","bg-fuchsia-500":v==="pink","bg-cyan-500":v==="cyan"})})})}),h.jsxs(ei,{align:"end",children:[h.jsx(Cr,{value:"null",children:"Nessun Colore"}),S.map(F=>h.jsx(Cr,{value:F.value,children:y(F.value)},F.value))]})]}),h.jsx(Tt,{type:"submit",disabled:k.isPending,children:k.isPending?h.jsx(no,{className:"w-4 h-4 animate-spin"}):h.jsx(Lp,{className:"w-4 h-4"})})]}),h.jsx("div",{className:"space-y-2 mt-2",children:P?h.jsx("div",{className:"flex justify-center p-8 text-muted-foreground",children:h.jsx(no,{className:"w-6 h-6 animate-spin"})}):(A==null?void 0:A.length)===0?h.jsx("div",{className:"text-center p-8 border border-dashed border-white/10 rounded-xl text-muted-foreground",children:"Nessun obiettivo impostato per questo periodo."}):A==null?void 0:A.map((F,U)=>{const K=F.is_completed&&(U===0||!A[U-1].is_completed);return h.jsxs("div",{children:[K&&U>0&&h.jsxs("div",{className:"flex items-center gap-4 py-6",children:[h.jsx("div",{className:"h-px bg-white/10 flex-1"}),h.jsx("span",{className:"text-xs font-medium text-white/40 uppercase tracking-widest",children:"Completati"}),h.jsx("div",{className:"h-px bg-white/10 flex-1"})]}),h.jsxs("div",{className:J("group flex items-center gap-3 p-4 rounded-xl border transition-all",F.is_completed?"opacity-60 bg-green-500/5 border-green-500/10":_(F.color)),children:[h.jsx(e$,{checked:F.is_completed,onCheckedChange:G=>C.mutate({id:F.id,is_completed:G}),className:"w-5 h-5 border-white/20 data-[state=checked]:bg-green-500 data-[state=checked]:border-green-500"}),h.jsx("span",{className:J("flex-1 font-medium transition-all",F.is_completed&&"line-through text-muted-foreground"),children:F.title}),h.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[h.jsxs(Yi,{value:F.color||"null",onValueChange:G=>N.mutate({id:F.id,color:G==="null"?null:G}),children:[h.jsx(Zn,{className:"w-[30px] h-[30px] p-0 border-0 bg-transparent focus:ring-0",children:h.jsx("div",{className:J("w-4 h-4 rounded-full",{"bg-white/20":!F.color,"bg-rose-500":F.color==="red","bg-orange-500":F.color==="orange","bg-amber-400":F.color==="yellow","bg-blue-600":F.color==="blue","bg-violet-600":F.color==="purple","bg-fuchsia-500":F.color==="pink","bg-cyan-500":F.color==="cyan"})})}),h.jsxs(ei,{align:"end",children:[h.jsx(Cr,{value:"null",children:"Nessun Colore"}),S.map(G=>h.jsx(Cr,{value:G.value,children:y(G.value)},G.value))]})]}),h.jsx(Tt,{variant:"ghost",size:"icon",className:"text-destructive hover:bg-destructive/10 hover:text-destructive h-8 w-8",onClick:()=>D.mutate(F.id),children:h.jsx(mg,{className:"w-4 h-4"})})]})]})]},F.id)})})]})]})}const dhe=()=>h.jsxs("div",{className:"flex-1 min-h-dvh flex flex-col pt-8 pb-12 px-4 sm:px-8 animate-fade-in relative z-10 w-full max-w-[1200px] mx-auto",children:[h.jsx("div",{className:"fixed top-[-20%] right-[-10%] w-[50%] h-[50%] bg-purple-500/5 blur-[120px] rounded-full pointer-events-none -z-10"}),h.jsx("div",{className:"mb-8 flex items-center justify-between",children:h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-display font-bold text-foreground",children:"Macro Obiettivi"}),h.jsx("p",{className:"text-muted-foreground",children:"Pianificazione a lungo termine."})]})}),h.jsx("div",{className:"glass-panel p-6 rounded-2xl min-h-[600px]",children:h.jsx(uhe,{})})]}),fhe=()=>{const[t,e]=x.useState(!1),[r,n]=x.useState(""),[i,a]=x.useState(""),[o,s]=x.useState(!1),l=j$();x.useEffect(()=>{be.auth.getSession().then(({data:{session:u}})=>{u&&l("/")})},[l]);const c=async u=>{u.preventDefault(),e(!0);try{if(o){Ze.error("Non sei autorizzato, prova scrivi su linkedin a mattioli simone");return}else{const{error:d}=await be.auth.signInWithPassword({email:r,password:i});if(d)throw d;Ze.success("Accesso effettuato"),l("/")}}catch(d){Ze.error(d.message)}finally{e(!1)}};return h.jsxs("div",{className:"min-h-dvh flex items-center justify-center p-4 relative overflow-hidden bg-background",children:[h.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[h.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-primary/20 blur-[100px] rounded-full opacity-50 animate-pulse"}),h.jsx("div",{className:"absolute top-0 right-0 w-[400px] h-[400px] bg-secondary/10 blur-[80px] rounded-full"})]}),h.jsxs("div",{className:"glass-panel w-full max-w-md p-8 rounded-3xl relative z-10 border-white/10 shadow-2xl animate-scale-in",children:[h.jsxs("div",{className:"text-center mb-8 space-y-2",children:[h.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-xl bg-primary/10 border border-primary/20 mb-4 shadow-[0_0_15px_rgba(255,255,255,0.1)]",children:h.jsx(VR,{className:"w-6 h-6 text-primary"})}),h.jsx("h1",{className:"text-3xl font-display font-bold tracking-tight bg-gradient-to-br from-white to-white/60 bg-clip-text text-transparent",children:"Mattioli.OS"}),h.jsx("p",{className:"text-sm text-muted-foreground font-light",children:"Sistema di tracciamento abitudini personale"})]}),h.jsxs("form",{onSubmit:c,className:"space-y-4",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"relative group",children:[h.jsx(UR,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground transition-colors group-focus-within:text-primary"}),h.jsx(Bo,{type:"email",placeholder:"Email",value:r,onChange:u=>n(u.target.value),className:"pl-10 h-11 bg-black/20 border-white/10 focus:border-primary/50 focus:bg-black/40 transition-all rounded-xl",required:!0})]}),h.jsxs("div",{className:"relative group",children:[h.jsx(FR,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground transition-colors group-focus-within:text-primary"}),h.jsx(Bo,{type:"password",placeholder:"Password",value:i,onChange:u=>a(u.target.value),className:"pl-10 h-11 bg-black/20 border-white/10 focus:border-primary/50 focus:bg-black/40 transition-all rounded-xl",required:!0})]})]}),h.jsx(Tt,{type:"submit",className:"w-full h-11 text-base font-medium mt-6 bg-primary hover:bg-primary/90 text-primary-foreground shadow-[0_0_20px_rgba(255,255,255,0.1)] hover:shadow-[0_0_25px_rgba(255,255,255,0.2)] transition-all duration-300",disabled:t,children:t?h.jsx(no,{className:"w-5 h-5 animate-spin"}):h.jsxs("span",{className:"flex items-center gap-2",children:[o?"Registrati":"Accedi al Sistema",h.jsx(jR,{className:"w-4 h-4"})]})})]}),h.jsx("div",{className:"mt-6 text-center",children:h.jsx("button",{onClick:()=>s(!o),className:"text-xs text-muted-foreground hover:text-primary transition-colors hover:underline underline-offset-4",children:o?"Hai gi un account? Accedi":"Prima volta? Inizializza Protocollo (Registrati)"})})]})]})},hhe=()=>{const t=T$();return x.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),h.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),h.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),h.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},phe=new $D,mhe=({children:t})=>{const[e,r]=x.useState(null);return x.useEffect(()=>{be.auth.getSession().then(({data:{session:i}})=>{r(!!i)});const{data:{subscription:n}}=be.auth.onAuthStateChange((i,a)=>{r(!!a)});return()=>n.unsubscribe()},[]),e===null?null:e?h.jsx(h.Fragment,{children:t}):h.jsx(N$,{to:"/auth",replace:!0})},vhe=()=>h.jsx(LD,{client:phe,children:h.jsx(I5,{children:h.jsxs(vD,{children:[h.jsx(ZR,{}),h.jsx(kI,{}),h.jsx(C$,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:h.jsxs(k$,{children:[h.jsx(Wa,{path:"/auth",element:h.jsx(fhe,{})}),h.jsxs(Wa,{element:h.jsx(mhe,{children:h.jsx(JD,{})}),children:[h.jsx(Wa,{path:"/",element:h.jsx(n4,{})}),h.jsx(Wa,{path:"/stats",element:h.jsx(qfe,{})}),h.jsx(Wa,{path:"/macro-goals",element:h.jsx(dhe,{})})]}),h.jsx(Wa,{path:"*",element:h.jsx(hhe,{})})]})})]})})});try{const t=document.getElementById("root");if(!t)throw new Error("Root element not found");m1(t).render(h.jsx(vhe,{}))}catch(t){console.error("Error in main.tsx:",t)}
